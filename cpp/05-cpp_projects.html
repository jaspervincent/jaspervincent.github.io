<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>C++: 项目实战</title>
<meta name="description" content="C++" />
<meta name="keywords" content="计算机, 原理, C++" />
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">C++: 项目实战</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org7a4c64c">环境安装</a></li>
<li><a href="#orgd3a85eb">代码插件</a></li>
<li><a href="#org38a53d5">渲染引擎</a></li>
<li><a href="#org93e1cb5">梯形绘制</a></li>
<li><a href="#org513ce1b">轨道绘制</a></li>
<li><a href="#orgacd5a04">边缘绘制</a></li>
<li><a href="#org71cebcf">草坪绘制</a></li>
<li><a href="#orgb0e8c5a">前后移动</a></li>
<li><a href="#orgd1e3dac">左右移动</a></li>
<li><a href="#org7c303b8">曲线轨道</a></li>
<li><a href="#orgaa381b4">山坡轨道</a></li>
<li><a href="#org49c410c">循环轨道</a></li>
<li><a href="#orgb2c1c8e">背景展示</a></li>
<li><a href="#org2424036">引入速度</a></li>
<li><a href="#org54a723e">物品绘制</a></li>
<li><a href="#org72482a6">数字路障</a></li>
<li><a href="#org7dae5e8">分数展示</a></li>
<li><a href="#org2e11649">分数计算</a></li>
<li><a href="#org73e6fef">重新生成</a></li>
<li><a href="#orgc0940c0">跳跃功能</a></li>
<li><a href="#org04fa3fe">音效播放</a></li>
<li><a href="#orgbe10be2">音乐播放</a></li>
<li><a href="#orge49bbda">音乐切换</a></li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="./index.html">C++</a></li>
</ul>


<p>
这个项目主要是《C++入门到精通》学完以后，我们来验证下，到底学了什么东西，并且做一些简单的实战。会有一些数学知识，那么我们来实现一个3D赛车小游戏，大纲是这样的。
</p>

<p>
3D赛车
</p>
<ul class="org-ul">
<li>代码环境
<ul class="org-ul">
<li>编码环境 visual studio</li>
<li>编码插件 fitten code</li>
<li>游戏引擎 SFML</li>
</ul></li>
<li>轨道绘制
<ul class="org-ul">
<li>梯形绘制</li>
<li>轨道绘制</li>
<li>边缘绘制</li>
<li>草坪绘制</li>
</ul></li>
<li>互动功能
<ul class="org-ul">
<li>前后移动</li>
<li>左右移动</li>
<li>引入速度</li>
<li>跳跃功能</li>
</ul></li>
<li>轨道进阶
<ul class="org-ul">
<li>曲线轨道</li>
<li>山坡轨道</li>
<li>循环轨道</li>
</ul></li>
<li>轨道背景</li>
<li>轨道物品
<ul class="org-ul">
<li>物品绘制</li>
<li>数字路障</li>
<li>分数计算</li>
<li>重新生成</li>
</ul></li>
<li>UI界面
<ul class="org-ul">
<li>分数展示</li>
</ul></li>
<li>播放音乐
<ul class="org-ul">
<li>音效播放</li>
<li>音乐播放</li>
<li>音乐切换</li>
</ul></li>
</ul>
<section id="outline-container-org7a4c64c" class="outline-2">
<h2 id="org7a4c64c">环境安装</h2>
</section>
<section id="outline-container-orgd3a85eb" class="outline-2">
<h2 id="orgd3a85eb">代码插件</h2>
<div class="outline-text-2" id="text-orgd3a85eb">
<p>
点击这里的扩展 -&gt; 管理扩展。
点击安装。这里会显示 已计划更改。需要关闭时，开始修改。
</p>

<p>
无脑关闭 Visual Studio 2022。跳出这个框，点击左边的按钮安装。
</p>
</div>
</section>
<section id="outline-container-org38a53d5" class="outline-2">
<h2 id="org38a53d5">渲染引擎</h2>
<div class="outline-text-2" id="text-org38a53d5">
<p>
首先要下载 SFML：<a href="https://www.sfml-dev.org/download/sfml/2.6.1/">https://www.sfml-dev.org/download/sfml/2.6.1/</a> ，解压到本地放代码的文件夹。
</p>

<p>
然后创建一个项目，项目创建完以后，在 main.cpp 中敲入第一句代码，Graphics.hpp  这个头文件通常包含了与 *图形绘制、窗口管理 * 等相关的函数声明 以及 类的定义。通过包含这个头文件，程序就能够使用 <code>SFML</code>  库提供的图形处理功能，具体哪些功能呢？比如创建窗口、绘制图形、处理输入等等操作。
</p>

<p>
#include &lt;SFML/Graphics.hpp&gt;
</p>

<p>
这时候我们发现，无法打开这个文件。
</p>

<p>
因为需要进行简单的配置，点击项目，右键属性，选择这里的 C/C++，选择【附加包含目录】，选择 SFML 的 include 目录，点击确定。
</p>

<p>
然后点击 附加库 -&gt; 常规，附加库目录，选择 SFML 的 lib 目录：
</p>

<p>
再点击下面的【输入】，选择右边的【附加依赖项】，把这些内容拷贝进去：
</p>

<p>
（这里需要注意，对于 sfml-xxx-d.lib 是适用于 debug 模式的，sfml-xxx.lib 是适用于 release 模式的）
</p>


<p>
sfml-graphics-d.lib    
sfml-window-d.lib
sfml-system-d.lib
sfml-audio-d.lib
opengl32.lib
freetype.lib
winmm.lib
gdi32.lib
</p>


<p>
最后点击应用，就配置完毕了。
</p>

<p>
然后再把 SFML-2.6.0\bin 目录下的 动态链接库文件 dll 都拷贝到项目目录下。
</p>

<p>
然后我们写个 main 函数来测试一下。
</p>

<p>
#include &lt;SFML/Graphics.hpp&gt;
using namespace sf;
</p>

<p>
const int WinWidth = 1024;
const int WinHeight = 768;
</p>

<p>
int main() {
    RenderWindow win(VideoMode(WinWidth, WinHeight), "Racing");
    win.setFramerateLimit(60);  // 设置帧率为 60 帧
    while (win.isOpen()) {
</p>

<p>
    }
    return 0;
}
</p>

<p>
这样一来，就可以显示一个基本的窗口了，接下来我们来解释解释这些代码的含义。
</p>

<p>
这时候，当我们点击窗口的时候，会出现卡顿，并且未响应，这个原因是什么呢？ 原因是我们没有处理事件，首先定义一个事件的类，然后调用 pollEvent 这个接口，就可以获取到事件队列里，最先来的那个事件，包括 鼠标事件、键盘事件 等等。
</p>

<p>
那么再学完数据结构以后，你就能理解队列的概念了，就是一种先进先出的数据结构。
</p>

<p>
可以通过获取事件的类型 type ，知道这是一个什么样的事件，比如 Event::Closed 代表窗口关闭事件，也就是你点了右上角的关闭按钮。当然，F12进去以后，可以看到更多事件的定义。
</p>

<p>
可以在控制台里输出一句话，来印证我们的观点，调用 win.close() 以后，win 的 isOpen 接口就会返回假，这样程序也就结束了。运行一下。
</p>

<p>
while (win.isOpen()) {
    Event e;
    while (win.pollEvent(e)) {
	if (e.type == Event::Closed) {
	    win.close();
	}
    }
}
</p>
</div>
</section>
<section id="outline-container-org93e1cb5" class="outline-2">
<h2 id="org93e1cb5">梯形绘制</h2>
<div class="outline-text-2" id="text-org93e1cb5">
<p>
接下来我们来尝试绘制一个梯形，为什么要绘制梯形呢？继续往下听，你就明白了。
</p>

<p>
这个梯形的坐标是这样的，横向是 x 轴，竖向是 y 轴，和我们传统的 xy 坐标系 是一致的。
</p>

<p>
实现一个 DrawTrape 函数，RenderWindow 就是这个 win，通过引用的方式传参传进来，Color 是一个颜色值，(x1,y1) 代表梯形下底的中点坐标，w1 代表下底的长度；(x2,y2) 代表梯形上底的中点坐标，w2 代表上底的长度。
</p>

<p>
这个函数的实现，就是先创建一个多边形 ConvexShape ，多边形的顶点数为 4，把这个多边形的颜色填充一下，填充参数是传参传进来的，然后按照这个图，设置四个顶点的坐标位置。第 0 个顶点，第 1 个顶点，第 2 个顶点，第 3 个顶点，最后调用 draw 接口，把它绘制出来。
</p>


<p>
void DrawTrape(RenderWindow&amp; w, Color c, int x1, int y1, int w1, int x2, int y2, int w2) {
    ConvexShape polygon(4);
    polygon.setFillColor(c);
    polygon.setPoint(0, Vector2f(x1 - w1, y1) );
    polygon.setPoint(1, Vector2f(x2 - w2, y2));
    polygon.setPoint(2, Vector2f(x2 + w2, y2));
    polygon.setPoint(3, Vector2f(x1 + w1, y1));
    w.draw(polygon);
}
</p>

<p>
实现完毕以后，就可以调用它了，先把窗口清理一下，然后调用 DrawTrape 这个函数，绘制的窗口传进去，颜色设置成白色，x1 的坐标设置为窗口的一半，y1 的坐标设置为 500，下底边长为 200；x2 的坐标也是窗口的一半，y2 的坐标设置为 300，上底边成为 100。
</p>


<p>
    if (e.type == Event::Closed) {
	win.close();
    }
}
win.clear();
DrawTrape(win, Color::White, WinWidth / 2, 500, 200, WinWidth / 2, 300, 100);
win.display();
</p>
</div>
</section>
<section id="outline-container-org513ce1b" class="outline-2">
<h2 id="org513ce1b">轨道绘制</h2>
<div class="outline-text-2" id="text-org513ce1b">
<p>
这堂课我们通过透视原理，来绘制赛车的轨道，轨道宽度定义成 1800，每个轨道的这一段长度，定义成 180，总共定义 2000 个轨道。
</p>

<p>
const int roadWidth = 1800;
const int roadSegLength = 180;
const int roadCount = 2000;
</p>

<p>
对于每个轨道，用一个结构体来实现，小写的 x，y，z 代表，每个轨道的中心，在 3D 世界中的坐标，大写的 X 和 Y，则是 3D 映射到 2D 时的屏幕坐标，大写的 W 代表这条轨道映射到屏幕后，它的宽度。
</p>

<p>
实现一个带参构造函数，利用初始化列表进行初始化。
</p>

<p>
然后实现一个 project 函数，代表 3D 到 2D 的映射，camX，camY，camZ 代表的是 3D 相机的位置，接下来我会讲一些数学的概念。听不懂没有关系，只要你能够自己跟着把代码写出来，并且通过修改每个参数，运行后得到你想要的效果就可以了。不用太计较这里的数学计算。
</p>

<p>
首先，当相机位置 camZ 确定时，z 越大，那么这条轨道就应该越小，所以实现这么一个反比例函数，计算缩放比例 scale。
</p>

<p>
利用这个缩放比例，可以计算出 X 和 Y，像这样。
</p>

<p>
最后计算 W，也就是每个轨道的实际屏幕宽度，和 scale 强相关，所以作为系数乘上去。
</p>

<p>
struct Road {
    float x, y, z;
    float X, Y, W;
    float scale;
</p>

<p>
Road(int _x, int _y, int _z): x(_x), y(_y), z(_z) {}
</p>

<p>
    void project(int camX, int camY, int camZ) {
        scale = 1.0 / (z - camZ);
        X = (1 + (x - camX) * scale) * WinWidth / 2;
        Y = (1 - (y - camY) * scale) * WinHeight / 2;
        W = scale * roadWidth * WinWidth / 2;
    }
};
</p>


<p>
定义一个轨道的 vector，每个轨道的 x 和 y 都是 0，z 坐标按照 i 进行平铺。
</p>


<p>
vector&lt;Road&gt; roads;
for (int i = 0; i &lt; roadCount; ++i) {
    Road r(0, 0, (i+1) * roadSegLength);
    roads.push_back(r);
}
</p>

<p>
因为近大远小的关系，所以屏幕上只显示 300 个轨道，对于每个轨道，调用 project 计算投影，传入的是相机的位置，其中 y 代表竖直方向，设定为 1600。
</p>

<p>
获取当前轨道和前一个轨道，分别为 now 和 pre，利用这两个轨道，可以计算出一个梯形，并且设置好颜色，稍微做点差异化，产生相间的效果。运行看下效果。
</p>

<p>
for (int i = 0; i &lt; 300; ++i) {
    Road&amp; now = roads[i % roadCount];
    now.project(0, 1600, 0);
    if (!i) {
	continue;
    }
    Road&amp; pre = roads[(i - 1) % roadCount];
    Color road = i % 2 ? Color(105, 105, 105) : Color(101, 101, 101);
    DrawTrape(win, road, pre.X, pre.Y, pre.W, now.X, now.Y, now.W);
}
</p>

<p>
当然，可以在 i 这里除上一个数，使得两个颜色区分的时候，不会那么密集。看下效果。这里如果你不理解，怎么办呢？你就多试几个数字，试着试着感觉就有了。
</p>


<p>
Color road = (i/3) % 2 ? Color(105, 105, 105) : Color(101, 101, 101);
</p>
</div>
</section>
<section id="outline-container-orgacd5a04" class="outline-2">
<h2 id="orgacd5a04">边缘绘制</h2>
<div class="outline-text-2" id="text-orgacd5a04">
<p>
接下来，如法炮制，一般轨道的边上，会有一些边缘，这些边缘是黑白相间的，所以先计算边缘的颜色，根据模 2 的结果，要么是黑色，要么是白色。
</p>


<p>
Color edge = (i/3) % 2 ? Color(0, 0, 0) : Color(255, 255, 255);
</p>

<p>
然后长度比轨道稍微长一点，所以在 W 上，再乘上一个比例，比如 1.3 ，这个系数你也可以改成 1.4，1.5，然后再去看效果。运行一下。
</p>

<p>
DrawTrape(win, edge, pre.X, pre.Y, pre.W*1.3, now.X, now.Y, now.W*1.3);
</p>
</div>
</section>
<section id="outline-container-org71cebcf" class="outline-2">
<h2 id="org71cebcf">草坪绘制</h2>
<div class="outline-text-2" id="text-org71cebcf">
<p>
还是如法炮制，在最下面一层，放上草地，看起来就很完美了。设置草地的颜色。
</p>


<p>
Color grass = i / 3 % 2 ? Color(16, 210, 16) : Color(0, 199, 0);
</p>

<p>
同样是绘制梯形，但是绘制得大一点，把传进去的 W 参数设的大一点
</p>


<p>
DrawTrape(win, grass, pre.X, pre.Y, WinWidth, now.X, now.Y, WinWidth);
</p>
</div>
</section>
<section id="outline-container-orgb0e8c5a" class="outline-2">
<h2 id="orgb0e8c5a">前后移动</h2>
<div class="outline-text-2" id="text-orgb0e8c5a">
<p>
定义一个变量 cameraZ ，然后当键盘上的 "上键" 按下的时候，cameraZ  加上一个 roadSegLength；相当于往前走了一个轨道，如果当键盘上的 "下键" 按下的时候，减去一个 roadSegLength，相当于往后走了一个轨道。
</p>

<p>
roadIndex 就是第一个要显示的轨道。还是显示 300 个轨道，可以这么去实现。
</p>



<p>
for (int i = 0; i &lt; roadCount; ++i) {
    Road r(0, 0, (i+1) * roadSegLength);
    roads.push_back(r);
}
int cameraZ = 0;
</p>

<p>
while (win.isOpen()) {
    &#x2026;
    if (Keyboard::isKeyPressed(Keyboard::Up)) cameraZ += roadSegLength;
    if (Keyboard::isKeyPressed(Keyboard::Down)) cameraZ -= roadSegLength;
</p>

<p>
win.clear();
int roadIndex = cameraZ / roadSegLength;
</p>

<p>
for (int i = roadIndex; i &lt; roadIndex + 300; ++i) {
    Road&amp; now = roads[i % roadCount];
    now.project(0, 1600, 0);
</p>


<p>
哦哦哦哦哦，忘记让相机跟着往前走了。
</p>

<p>
now.project(0, 1600, cameraZ);
</p>
</div>
</section>
<section id="outline-container-orgd1e3dac" class="outline-2">
<h2 id="orgd1e3dac">左右移动</h2>
<div class="outline-text-2" id="text-orgd1e3dac">
<p>
除了前后移动，左右也可以移动。同样是控制相机的坐标，定义 cameraX 代表相机的 x坐标。
</p>



<p>
int cameraZ = 0;
int cameraX = 0;
</p>

<p>
分别按下左键和右键时，更改 cameraX 的值。
</p>


<p>
if (Keyboard::isKeyPressed(Keyboard::Left)) cameraX -= 100;
if (Keyboard::isKeyPressed(Keyboard::Right)) cameraX += 100;
</p>

<p>
然后在这里把 cameraX 代替原来 0 的值。
</p>


<p>
now.project(cameraX, 1600, cameraZ);
</p>

<p>
运行，发现露馅了。
</p>

<p>
没事，宽度乘10就好了。
</p>

<p>
DrawTrape(win, grass, pre.X, pre.Y, 10*WinWidth, now.X, now.Y, 10*WinWidth);
</p>
</div>
</section>
<section id="outline-container-org7c303b8" class="outline-2">
<h2 id="org7c303b8">曲线轨道</h2>
<div class="outline-text-2" id="text-org7c303b8">
<p>
这节课我们想办法让这条路，能够变成弯的，看起来更加的真实，在原来的路上，加上一个曲线因子。
</p>


<p>
float scale, curve;
Road(int _x, int _y, int _z, float _c): x(_x), y(_y), z(_z), curve(_c) {}
</p>

<p>
然后在实例化 Road 的时候，当 i 在 0 到 300 之间，曲线因子就是 0.5，否则就是负的 0.5。构造的时候，传参传进去。
</p>


<p>
float curve =  (i &gt; 0 &amp;&amp; i &lt; 300) ? 0.5 : -0.5;
Road r(0, 0, (i+1) * roadSegLength, curve);
</p>

<p>
然后定义一个 x 和 dx，初始化都为 0，这段代码怎么去理解呢？这里的 now.curve 就理解成加速度，那么 dx 就是速度，而 x 就是位移，这样这条路弯曲起来就看起来非常的连续了，看下效果。
</p>


<p>
int roadIndex = cameraZ / roadSegLength;
float x = 0, dx = 0;
for (int i = roadIndex; i &lt; roadIndex + 300; ++i) {
    Road&amp; now = roads[i % roadCount];
    now.project(cameraX - x, 1600, cameraZ);
    x += dx;
    dx += now.curve;
</p>
</div>
</section>
<section id="outline-container-orgaa381b4" class="outline-2">
<h2 id="orgaa381b4">山坡轨道</h2>
<div class="outline-text-2" id="text-orgaa381b4">
<p>
然后我希望这个轨道，有一种跌宕起伏的感觉，三角函数可以做到这一点，所以每个轨道的中心的 y 坐标，用一个三角函数 sin 来实现，振幅 1600，像这样：
</p>

<p>
Road r(0, sin(i/30.0)*1600, (i + 1) * roadSegLength, curve);
</p>

<p>
相机的位置从 1600 作为基准，再加上起始轨道的 y 坐标，像这样。
</p>


<p>
int roadIndex = cameraZ / roadSegLength;
float x = 0, dx = 0;
int cameraY = 1600 + roads[roadIndex].y;
int minY = WinHeight;
</p>

<p>
这里的 1600 就可以改成这个 cameraY 了。所以这个 cameraY 的范围，就根据正弦函数的值，变成了 0 到 3200。
</p>


<p>
now.project(cameraX - x, cameraY, cameraZ);
</p>

<p>
这时候我们发现，效果好像不对，问题出在哪里呢？
</p>

<p>
原因是这样的。
</p>

<p>
需要注意的是，一旦出现跌宕起伏，那么如果出现一个 Y 值最小的轨道，后面比 Y 值大的轨道，就不应该被绘制出来，注意这里用的屏幕坐标系，所以越往上值越小。
</p>


<p>
int roadIndex = cameraZ / roadSegLength;
float x = 0, dx = 0;
int cameraY = 1600 + roads[roadIndex].y;
int minY = WinHeight;
</p>

<p>
那么判断当前的 Y 是否比最小的 Y 小，如果小，那么记录这个最小值；否则直接 continue，代表这条轨道不用绘制，来看看效果。
</p>


<p>
if (now.Y &lt; minY) {
    minY = now.Y;
}
else {
    continue;
}
</p>
</div>
</section>
<section id="outline-container-org49c410c" class="outline-2">
<h2 id="org49c410c">循环轨道</h2>
<div class="outline-text-2" id="text-org49c410c">
<p>
然后我们希望整条路，能够产生循环，这样就可以，用有限的 Road 对象来展现无限的路。
</p>

<p>
计算这条路的总长度 totalLength，如果发现 cameraZ 的位置已经大于总长度了，就减去总长度，如果小于总长度，就变成负数了，那么加上总长度。
</p>

<p>
其实就是让 cameraZ 的值，始终保持在 [0, totalLength) 之间。
</p>

<p>
int totalLength = roadCount * roadSegLength;
while (cameraZ &gt;= totalLength) cameraZ -= totalLength;
while (cameraZ &lt; 0) cameraZ += totalLength;
</p>


<p>
这里做一点修正。
</p>

<p>
now.project(cameraX - x, cameraY, cameraZ - (i &gt;= roadCount ? totalLength : 0) );
</p>


<p>
然后你会发现，这里出现了一些断层，这个不是很合理。
</p>

<p>
根据 PI 计算一下，roadCount 让它是 3.14 的倍数就好了，那就 3.14 乘上 600，变成 1884 ，看下效果。
</p>


<p>
const int roadCount = 1884;
</p>
</div>
</section>
<section id="outline-container-orgb2c1c8e" class="outline-2">
<h2 id="orgb2c1c8e">背景展示</h2>
<div class="outline-text-2" id="text-orgb2c1c8e">
<p>
准备一张云的图片，加载一个纹理，并且生成一个精灵。宽度是窗口宽度，高度是窗口高度的一半。
</p>



<p>
Texture bg;
bg.loadFromFile("cloud.png");
Sprite s(bg, IntRect(0, 0, WinWidth, WinHeight/2));
</p>

<p>
然后在每次绘制轨道的时候，把它绘制出来。
</p>


<p>
if (now.Y &lt; minY) {
    minY = now.Y;
}
else {
    continue;
}
win.draw(s);
Road&amp; pre = roads[(i - 1) % roadCount];
</p>

<p>
额……这样太假了
</p>

<p>
稍微改一下，把高度设置为 minY 就好了，这样就和轨道完全贴合了。
</p>

<p>
s.setTextureRect(IntRect(0, 0, WinWidth, minY));
</p>
</div>
</section>
<section id="outline-container-org2424036" class="outline-2">
<h2 id="org2424036">引入速度</h2>
<div class="outline-text-2" id="text-org2424036">
<p>
引入一个赛车前进的速度，speed 初始化为 0。
</p>


<p>
int cameraZ = 0;
int cameraX = 0;
int speed = 100;
</p>

<p>
当键盘按下 UP 和 DOWN 的时候，不再修改 cameraZ 的值，而是修改速度的值，然后最终，cameraZ 把这个速度累加上就好了。
</p>

<p>
这样一来，往前往后，修改的就是速度，不再是位移。
</p>


<p>
if (Keyboard::isKeyPressed(Keyboard::Up)) {
    speed += 2;
    if (speed &gt; 1000) speed = 1000;
}
if (Keyboard::isKeyPressed(Keyboard::Down)) {
    speed -= 2;
    if (speed &lt; 100) speed = 100;
}
cameraZ += speed;
</p>
</div>
</section>
<section id="outline-container-org54a723e" class="outline-2">
<h2 id="org54a723e">物品绘制</h2>
<div class="outline-text-2" id="text-org54a723e">
<p>
接下来在这条路上，间隔的绘制物品，每个物品在图片的宽高是 450，这个作为常量，根据你图片的大小，进行修改即可。
</p>

<p>
const int itemSize = 450;
</p>

<p>
Road 的结构体中，定义一个精灵 spr。
</p>


<p>
struct Road {
    float x, y, z;
    float X, Y, W;
    float scale, curve;
    Sprite spr;
</p>

<p>
实现一个 drawItem 的函数，设置好纹理的矩形，缩放比例，以及位置，位置的计算方式比较简单，X 坐标和这条路保持一致，Y 坐标减去 W。然后给它绘制出来。
</p>


<p>
void drawItem(RenderWindow&amp; win) {
    Sprite s = spr;
    s.setTextureRect(IntRect(0, 0, itemSize, itemSize));
    s.setScale(W / itemSize, W / itemSize);
    s.setPosition(X, Y - W);
    win.draw(s);
}
</p>

<p>
然后定义一个物品的纹理对象，加载对应的图片，生成一个精灵对象。
</p>

<p>
Texture item;
item.loadFromFile("item.png");
Sprite sitem(item);
</p>

<p>
把精灵对象通过传参，传到 Road 对象中。
</p>

<p>
Road r(0, sin(i/30.0)*1600, (i + 1) * roadSegLength, curve, sitem);
</p>

<p>
然后一个 for 循环，注意从后往前绘制，否则遮挡关系会不对。为了不产生密集恐惧症，我们可以 % 上一个 20，每 20 个轨道，出现一个物品。
</p>


<p>
for (int i = roadIndex + 300; i &gt; roadIndex; &#x2013;i) {
    if (i % 20 == 0)
	roads[i % roadCount].drawItem(win);
}
</p>



<p>
（哎哎哎哎哎……）
</p>

<p>
这里显示有点问题
</p>

<p>
毕竟是2D模拟3D
</p>

<p>
这里遮挡出问题了
</p>

<p>
如果这条路是平的
</p>

<p>
是不是就没问题了，那我们就把 跌宕起伏 的功能给它去掉就完事了。
</p>


<p>
Road r(0, 0, (i + 1) * roadSegLength, curve, sitem);
</p>
</div>
</section>
<section id="outline-container-org72482a6" class="outline-2">
<h2 id="org72482a6">数字路障</h2>
<div class="outline-text-2" id="text-org72482a6">
<p>
这节课，我们把路上的这些物品，显示成一些不同的数字，有数字，有符号。
</p>

<p>
首先定义这么一个字符串，和这张图片中的每个图片一一对应。
</p>

<p>
const char charItem[] = "1234567890+*/-%";
</p>

<p>
然后在 Road 中定义两个变量，operatorIndex 代表符号在 charItem 中的下标，numberIndex 代表数字 charItem 中的下标。
</p>


<p>
int operatorIndex;
int numberIndex;
</p>

<p>
接下来就可以开始初始化了，为了数字不会太密集，采用随机数的方式，如果是 200 的倍数，才出现物品。同样是通过随机的方式，尽量不出现 0，因为 除 0 和 模 0 都没意义。
</p>

<p>
operatorIndex 等于 -1 代表这个 Road 上没有东西。
</p>



<p>
Road(int _x, int _y, int _z, float _c, Sprite _spr): x(_x), y(_y), z(_z), curve(_c), spr(_spr){
    if (rand() % 200 <code>= 0) {
            operatorIndex = (rand() % 5) + 10;
            numberIndex = rand() % 10;
            if (numberIndex =</code> 9) {
	    numberIndex = 0;
	}
    }
    else {
	operatorIndex = -1;
    }
}
</p>

<p>
然后我们重载原先的 drawItem，并且加入一个新的参数 ，index 代表的是 charItem 中的下标，xPlacement 则表示 x 方向的偏移。然后 left 和 top 则代表的是在这张图上的（对应数字或者符号）的左上角坐标。
</p>


<p>
void drawItem(RenderWindow&amp; win, int index, int xPlacement) {
    Sprite s = spr;
    int left = (index % 5) * itemSize;
    int top = (index / 5) * itemSize;
    s.setTextureRect(IntRect(left, top, itemSize, itemSize));
    s.setScale(W / itemSize, W / itemSize);
    s.setPosition(X + xPlacement*W, Y - W);
    win.draw(s);
}
</p>

<p>
void drawItem(RenderWindow&amp; win) {
    if (operatorIndex == -1) {
	return;
    }
    drawItem(win, operatorIndex, -1);
    drawItem(win, numberIndex, 0);
}
</p>

<p>
这里的取模就可以去掉了。
</p>



<p>
for (int i = roadIndex + 300; i &gt; roadIndex; &#x2013;i) {
    roads[i % roadCount].drawItem(win);
}
</p>
</div>
</section>
<section id="outline-container-org7dae5e8" class="outline-2">
<h2 id="org7dae5e8">分数展示</h2>
<div class="outline-text-2" id="text-org7dae5e8">
<p>
这节课，我们在窗口的左上角，展示一个分数，并且还是这张图片。先定义一个分数 score，尽量考虑到所有情况，所以初始化 - 的 1234567890。
</p>

<p>
int score = -1234567890;
</p>

<p>
然后实现一个 DrawNumber 函数，sItem 代表数字对应那个精灵，x 和 y 代表显示在屏幕的左上角坐标。然后把 number 转换成字符串，存储到 ch 中。
</p>

<p>
遍历这个字符串，并且去 charItem 中找到对应的下标，利用相同的绘制方式，把它绘制在屏幕上。
</p>

<p>
void DrawNumber(RenderWindow&amp; win, Sprite sItem, int number, int x, int y) {
    char ch[100] = {'\0'};
    _itoa_s(number, ch, 10);
    int len = strlen(ch);
    for (int i = 0; i &lt; len; ++i) {
        Sprite s = sItem;
        int index = -1;
        for (int j = 0; charItem[j]; ++j) {
            if (charItem[j] == ch[i]) {
                index = j;
                break;
            }
        }
        int left = (index % 5) * itemSize;
        int top = (index / 5) * itemSize;
        s.setTextureRect(IntRect(left, top, itemSize, itemSize));
        s.setScale(0.18, 0.18);
        s.setPosition(x + 0.13 * itemSize * i, y);
        win.draw(s);
    }
}
</p>

<p>
然后调用即可。
</p>


<p>
s.setTextureRect(IntRect(0, 0, WinWidth, minY));
win.draw(s);
DrawNumber(win, sitem, score, 10, 10);
</p>
</div>
</section>
<section id="outline-container-org2e11649" class="outline-2">
<h2 id="org2e11649">分数计算</h2>
<div class="outline-text-2" id="text-org2e11649">
<p>
先把分数重置了。
</p>


<p>
int score = 0;
</p>

<p>
实现一个计算分数的函数，计算方式很简单，传进来的是符号加数字，所以最终就是用当前分数，和这个传进来的数字，进行四则运算，分别处理 + - * / % 的情况即可。
</p>

<p>
int caculateScore(int score, int operatorIndex, int numberIndex) {
    char op = charItem[operatorIndex];
    int number = charItem[numberIndex] - '0';
    if (op <code>= '+') {
        return score + number;
    }
    else if (op =</code> '-') {
        return score - number;
    }
    else if (op <code>= '*') {
        return score * number;
    }
    else if (op =</code> '/') {
        return score / number;
    }
    return score % number;
}
</p>

<p>
当 now.Y 大于等于窗口高度时，代表这个数字正好从我们身边 "溜走"，所以如果这条轨道是有数字的，那么就调用 caculateScore，并且把这条路的数字清空即可。
</p>


<p>
if (!i) {
    continue;
}
if (now.Y &gt;= WinHeight) {
    if (now.operatorIndex != -1) {
	score = caculateScore(score, now.operatorIndex, now.numberIndex);
	now.operatorIndex = -1;
    }
}
</p>
</div>
</section>
<section id="outline-container-org73e6fef" class="outline-2">
<h2 id="org73e6fef">重新生成</h2>
<div class="outline-text-2" id="text-org73e6fef">
<p>
如果每次路过都把数字清空，那么迟早有一天，路上就没有数字了，于是实现一个重新生成的接口，这里做一点小改动，这个 Road 一开始，是通过随机计算的。
</p>

<p>
当然，如果 generateItem 直接传一个 true，那么必定产生数字。
</p>



<p>
Road(int _x, int _y, int _z, float _c, Sprite _spr): x(_x), y(_y), z(_z), curve(_c), spr(_spr){
    generateItem(false);
}
</p>

<p>
void generateItem(bool bAlwaysGen) {
    if (bAlwaysGen || rand() % 200 <code>= 0) {
            operatorIndex = (rand() % 5) + 10;
            numberIndex = rand() % 10;
            if (numberIndex =</code> 9) {
	    numberIndex = 0;
	}
    }
    else {
	operatorIndex = -1;
    }
}
</p>

<p>
所以当前这条路如果正好出屏幕外，那么就把 i + 1500 的轨道，生成一个新的数字。
</p>


<p>
now.operatorIndex = -1;
roads[(i + 1500) % roadCount].generateItem(true);
</p>
</div>
</section>
<section id="outline-container-orgc0940c0" class="outline-2">
<h2 id="orgc0940c0">跳跃功能</h2>
<div class="outline-text-2" id="text-orgc0940c0">
<p>
为了增加趣味性，可以引入跳跃功能，从而可以跳过这个数字。加入一个状态叫 isJumping ，一开始是 false，代表没有跳跃。
</p>

<p>
跳跃会改变 z 的坐标，所以 z 代表实际偏移的 z ，dz 代表跳跃时的速度。
</p>


<p>
bool isJumping = false;
float z = 0, dz = 0;
</p>

<p>
如果按下空格，当非跳跃状态，则切换到跳跃状态，并且把起跳速度设置为 150。
</p>


<p>
if (Keyboard::isKeyPressed(Keyboard::Space)) {
    if (isJumping == false) {
	isJumping = true;
	dz = 150;
    }
}
</p>

<p>
然后如果一直在跳跃中，则减去 5，这里就是在模拟自由落体，这里的 5 就是加速度，然后 z 累加 dz 的过程，就是模拟的 位移 和 速度，当 z 小于等于 0，说明落地了，isJumping 置为 false。
</p>


<p>
if (isJumping) {
    dz -= 5;
    z += dz;
    if (z &lt;= 0) {
	z = 0;
	isJumping = false;
    }
}
</p>

<p>
最后，当遇到数字的时候，如果非跳跃状态，才会生效，否则没有任何效果。
</p>

<p>
if (now.Y &gt;= WinHeight) {
    if (!isJumping &amp;&amp; now.operatorIndex != -1) {
	score = caculateScore(score, now.operatorIndex, now.numberIndex);
	now.operatorIndex = -1;
	roads[(i + 1500) % roadCount].generateItem(true);
    }
}
</p>
</div>
</section>
<section id="outline-container-org04fa3fe" class="outline-2">
<h2 id="org04fa3fe">音效播放</h2>
<div class="outline-text-2" id="text-org04fa3fe">
<p>
接下来，我们加入一些音效，让游戏更加的带感。引入一个头文件。
</p>

<p>
#include &lt;SFML/Audio.hpp&gt;
</p>

<p>
初始化三个音效缓存，分别代表 碰到数字、起跳、落地 音效。
</p>


<p>
SoundBuffer buffer[3];
Sound sound;
buffer[0].loadFromFile("get.mp3");
buffer[1].loadFromFile("jump.mp3"); 
buffer[2].loadFromFile("falldown.mp3");
</p>

<p>
起跳可以这么写。
</p>


<p>
if (isJumping == false) {
    sound.setBuffer(buffer[1]);
    sound.play();
    isJumping = true;
    dz = 150;
}
</p>

<p>
落地可以这么写。
</p>


<p>
if (z &lt;= 0) {
    z = 0;
    isJumping = false;
    sound.setBuffer(buffer[2]);
    sound.play();
}
</p>


<p>
碰到数字可以这么写。
</p>


<p>
if (!isJumping &amp;&amp; now.operatorIndex != -1) {
    score = caculateScore(score, now.operatorIndex, now.numberIndex);
    now.operatorIndex = -1;
    roads[(i + 1500) % roadCount].generateItem(true);
    sound.setBuffer(buffer[0]);
    sound.play();
}
</p>
</div>
</section>
<section id="outline-container-orgbe10be2" class="outline-2">
<h2 id="orgbe10be2">音乐播放</h2>
<div class="outline-text-2" id="text-orgbe10be2">
<p>
再加上一个 bgm。
</p>


<p>
SoundBuffer buffer[5];
Sound sound, bgm;
buffer[0].loadFromFile("get.mp3");
buffer[1].loadFromFile("jump.mp3"); 
buffer[2].loadFromFile("falldown.mp3");
buffer[3].loadFromFile("tianfuyue.mp3");
buffer[4].loadFromFile("liumaishenjian.mp3");
</p>

<p>
在窗口 while 之前，调用 play 接口。
</p>

<p>
bgm.setBuffer(buffer[3]);
bgm.setLoop(true);
bgm.play();
</p>
</div>
</section>
<section id="outline-container-orge49bbda" class="outline-2">
<h2 id="orge49bbda">音乐切换</h2>
<div class="outline-text-2" id="text-orge49bbda">
<p>
音乐可以随着赛车的速度，进行切换，当开的快的时候，播放 4 号 音乐；否则，播放 5 号音乐。
</p>


<p>
if (Keyboard::isKeyPressed(Keyboard::Up)) {
    speed += 2;
    if (speed &gt; 1000) speed = 1000;
    if (speed <code>= 500) {
                speed = 502;
                bgm.setBuffer(buffer[4]);
                bgm.play();
            }
        }
        if (Keyboard::isKeyPressed(Keyboard::Down)) {
            speed -</code> 2;
    if (speed &lt; 100) speed = 100;
    if (speed == 500) {
	speed = 498;
	bgm.setBuffer(buffer[3]);
	bgm.play();
    }
}
</p>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
