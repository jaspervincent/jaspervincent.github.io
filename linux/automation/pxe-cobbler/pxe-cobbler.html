<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux: è‡ªåŠ¨åŒ–-ç³»ç»Ÿéƒ¨ç½²pxe-cobbler</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>æŠ€æœ¯</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>é˜…è¯»</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/lisp/jasper-emacs.html class=nobracket data-astro-cid-pux6a34n>æˆ‘çš„Emacsé…ç½®</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>å‹é“¾</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>å…³äº</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              ğŸ† æ¬¢è¿æ¥åˆ°æœ¬ç«™ï¼š
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>ã€‚
              <strong>å¸Œæœ›è¿™é‡Œæœ‰ä½ æ„Ÿå…´è¶£çš„å†…å®¹</strong>ã€‚
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">Linux: è‡ªåŠ¨åŒ–-ç³»ç»Ÿéƒ¨ç½²pxe-cobbler</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:fb688712-b338-4bad-8496-93e6d79d36bb">è¿ç»´è‡ªåŠ¨åŒ–-01-ç³»ç»Ÿéƒ¨ç½²</a>
<ul>
<li><a href="#h:47a9319f-321c-4f92-bc34-d1665e962662">1 ç³»ç»Ÿå®‰è£…è¿‡ç¨‹</a>
<ul>
<li><a href="#h:2d85a143-ccab-4b6f-99a5-5692121d5c49">1.1 è¿ç»´è‡ªåŠ¨åŒ–å‘å±•å†ç¨‹åŠæŠ€æœ¯åº”ç”¨</a></li>
<li><a href="#h:fd1adb9b-f1a5-4b56-b9fe-4b181de65000">1.2 ç³»ç»Ÿå®‰è£…è¿‡ç¨‹</a>
<ul>
<li><a href="#h:bc23699d-6df3-4531-a711-3ad172e737ff">1.2.1 Linuxå®‰è£…å…‰ç›˜çš„å®‰è£…ç›¸å…³æ–‡ä»¶</a></li>
<li><a href="#h:e3c2bc64-c14e-4a2b-8706-e93744cff493">1.2.2 å®‰è£…èœå•çš„å†…æ ¸å‚æ•°</a></li>
<li><a href="#h:397010b6-414b-496b-ae69-595954c3d8f5">1.2.3 anacondaå®‰è£…å‘å¯¼</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:dba54f22-b52d-4912-a16d-df77f1318eef">2 è‡ªåŠ¨å®‰è£…çš„åº”ç­”æ–‡ä»¶</a>
<ul>
<li><a href="#h:6dd94417-806d-4344-8a1b-5aa80d574fba">2.1 kickstartæ–‡ä»¶ä½¿ç”¨è¿‡ç¨‹</a></li>
<li><a href="#h:59104365-2884-4af9-b212-478e5079bde9">2.2 kickstartæ–‡ä»¶çš„æ ¼å¼</a>
<ul>
<li><a href="#h:9ef3c4c0-b7b6-4c5e-9822-9e657dc93baa">2.2.1 Kickstartæ–‡ä»¶æ ¼å¼å®˜æ–¹è¯´æ˜</a></li>
<li><a href="#h:4ddbfc66-5e4f-40b5-bebb-fb42eeecf5b2">2.2.2 kickstartæ–‡ä»¶æ ¼å¼è¯´æ˜</a></li>
</ul>
</li>
<li><a href="#h:bc46f333-7599-4f52-9f52-92ee022113ad">2.3 kickstartæ–‡ä»¶åˆ›å»º</a></li>
</ul>
</li>
<li><a href="#h:eed3d000-c9a2-4494-83f6-aa6fbb1815fb">3 åˆ¶ä½œå¼•å¯¼å…‰ç›˜å’ŒUç›˜</a></li>
<li><a href="#h:8ef73af5-1c84-4683-9c32-e3f1dae2921e">4 å®ç°DHCPæœåŠ¡</a>
<ul>
<li><a href="#h:a334ebfb-88d4-4942-9d8d-1f8e6d0ae094">4.1 DHCPå·¥ä½œåŸç†</a></li>
<li><a href="#h:15c65f05-fc0c-46d8-bd0b-2b36b566b604">4.2 DHCPå®ç°</a>
<ul>
<li><a href="#h:f4cf7a43-3ef0-4a3c-a81a-9d687bd1ce55">4.2.1 DHCPç›¸å…³æ–‡ä»¶ç»„æˆ</a></li>
<li><a href="#h:a5525092-82fa-471c-8aef-7057960a7ba5">4.2.2 DHCPæœåŠ¡å™¨é…ç½®æ–‡ä»¶</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:49fc7f5a-d072-4a10-a665-7d1b46582c1f">5 å®ç°TFTPæœåŠ¡</a>
<ul>
<li><a href="#h:d2644526-aecb-4245-9f1b-3a3897c4c31d">5.1 TFTPä»‹ç»</a></li>
<li><a href="#h:f85805e1-4448-4813-98d2-663717d5e5fd">5.2 å®‰è£…å’Œä½¿ç”¨TFTP</a></li>
</ul>
</li>
<li><a href="#h:5d0555ce-164e-4d27-84e5-d5df6c104c95">6 åˆ©ç”¨ PXE å®ç°è‡ªåŠ¨åŒ–ç³»ç»Ÿéƒ¨ç½²</a>
<ul>
<li><a href="#h:f2f79349-fb53-4ca0-ad6d-cfd3d411a98a">6.1 PXEä»‹ç»</a></li>
<li><a href="#h:e19967b1-627c-4835-a527-1f5a797d1b4d">6.2 åˆ©ç”¨PXEå®ç°è‡ªåŠ¨åŒ–å®‰è£…æµç¨‹</a></li>
<li><a href="#h:35e0793c-58b7-4cf4-ad0a-d5a0c574c3e7">6.3 åœ¨CentOS 6 ä¸Šå®ç°PXEè‡ªåŠ¨åŒ–å®‰è£…CentOS</a></li>
<li><a href="#h:d14d2da4-a17b-4edd-bcef-e141bc39f7ae">6.4 åœ¨CentOS7 ä¸Šå®ç°PXEè‡ªåŠ¨åŒ–å®‰è£…CentOS</a></li>
<li><a href="#h:7c4af5a1-3add-442c-b338-9435272266df">6.5 åœ¨ CentOS 8 ä¸Šå®ç°PXEè‡ªåŠ¨åŒ–å®‰è£… CentOS 6,7,8</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:9bd0e18c-49a8-42c6-905e-7ddf60e9fc74">åˆ©ç”¨cobblerå®ç°è‡ªåŠ¨åŒ–å®‰è£…</a>
<ul>
<li><a href="#h:846ee33b-1663-48cd-8282-339cffc02394">1 Cobblerç®€ä»‹</a></li>
<li><a href="#h:2224e0bc-3fed-4a1b-a528-2b6c463b77c9">2 Cobblerçš„ç›¸å…³æœåŠ¡</a></li>
<li><a href="#h:c910981f-0ea3-49eb-935d-d89655a9130d">3 Cobblerçš„å·¥ä½œåŸç†</a></li>
<li><a href="#h:67c359c0-d6aa-4df6-b455-276cf1384384">4 å®‰è£…CobbleråŠå…¶ç›¸å…³çš„æœåŠ¡å’Œç»„ä»¶</a></li>
<li><a href="#h:3e22b740-f396-4710-bef5-463b0a175a33">5 Cobbleré…ç½®æ–‡ä»¶åŠå„ç›®å½•æƒ…å†µ</a>
<ul>
<li><a href="#h:f1c290da-6013-4cd2-99f5-2a3ce8826311">5.1 é…ç½®æ–‡ä»¶</a></li>
<li><a href="#h:2241da51-0e27-4fac-8dcb-357b4053aaa4">5.2 æ•°æ®ç›®å½•</a></li>
<li><a href="#h:7f012b20-4f09-4620-8f52-567760f824f0">5.3 é•œåƒç›®å½•</a></li>
<li><a href="#h:cc8dcbdb-3b69-45f9-8b5c-6d6bcd51b895">5.4 æ—¥å¿—ç›®å½•</a></li>
</ul>
</li>
<li><a href="#h:9a797a3f-944d-4806-9899-ea5943093313">6 é…ç½®åŠå¯åŠ¨cobblerdæœåŠ¡</a></li>
<li><a href="#h:e5800cf0-86ad-48c0-99cd-38fe6177a9ef">7 cobblerå‘½ä»¤ç”¨æ³•</a></li>
<li><a href="#h:413ba53d-f098-4f57-bc3c-fca5dd01251e">8 å°†linuxå‘è¡Œç‰ˆå¯¼å…¥åˆ°cobbleråœ¨httpdæœåŠ¡çš„æ–‡ä»¶å¤¹ä¸‹</a></li>
<li><a href="#h:1c59a9b5-5531-4013-87a6-09285faa2b44">9 é…ç½®linuxå‘è¡Œç‰ˆå’Œå…³è”ç›¸åº”çš„ksæ–‡ä»¶</a></li>
<li><a href="#h:0abb53cc-5e08-4708-816d-57f3279d0fe7">10 å¯åŠ¨èœå•ä¼˜åŒ–</a></li>
<li><a href="#h:49f6ab7b-7fc5-4168-9223-b31900303ee7">11 åŸºäºwebç•Œé¢æ¥ç®¡ç†é…ç½®cobbler</a>
<ul>
<li><a href="#h:a1b4da20-e469-48cb-bdd4-38bf3771e981">11.1 å®‰è£…cobbler-web</a></li>
<li><a href="#h:85975a46-85e3-4f01-b7e4-57c1bcbe3507">11.2 è®¿é—®webç•Œé¢</a></li>
<li><a href="#h:42523b01-08ea-45d4-82de-3c373a9b8a02">11.3 WEBçš„ç™»å½•è®¤è¯æ–¹å¼</a></li>
</ul>
</li>
<li><a href="#h:2b24fa7f-4f89-4c73-9902-45b43ebd69c0">12 Trouble Shooting</a>
<ul>
<li><a href="#h:241e2c1d-6ae2-485d-9a77-d44e868097ef">12.1 æ•…éšœ1</a></li>
<li><a href="#h:26742ff5-5406-4f7b-8225-84014a73649d">12.2 æ•…éšœ2</a></li>
<li><a href="#h:0a8f2722-277a-4e21-b12c-369805f89287">12.3 æ•…éšœ3</a></li>
</ul>
</li>
<li><a href="#h:6f9c7473-9754-4873-83f5-5e0eb0513b83">13 å®æˆ˜æ¡ˆä¾‹ï¼šCentOS 7 åŸºäºcobblerå®ç°ç³»ç»Ÿçš„è‡ªåŠ¨åŒ–å®‰è£…</a>
<ul>
<li><a href="#h:bde958da-d25a-47a2-9286-e1ee278a72af">13.1 ç¯å¢ƒå‡†å¤‡</a></li>
<li><a href="#h:d709cba2-c95f-48fa-8573-5a2c42d21e9a">13.2 å®‰è£…ç›¸å…³åŒ…å¹¶å¯åŠ¨æœåŠ¡</a></li>
<li><a href="#h:12d669b7-19e8-4280-a13e-2878e80fbe98">13.3 ä¿®æ”¹cobblerç›¸å…³çš„é…ç½®</a></li>
<li><a href="#h:d0a8b869-d191-4d90-af58-49e534e868eb">13.4 å®ç°dhcpæœåŠ¡</a></li>
<li><a href="#h:74b1cba7-cc2c-4fbf-84a1-6a3354ee0569">13.5 ä¸‹è½½å¯åŠ¨çš„ç›¸å…³æ–‡ä»¶</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:8dd009d5-7057-45e1-94e2-9e78c0ec2c3e">TASK COMPLETE <b>*</b></a></li>
<li><a href="#h:60fc76b4-72de-46c8-b5e0-62c2b22ee00e">TASK COMPLETE <b>*</b></a>
<ul>
<li>
<ul>
<li><a href="#h:2abea07d-83b9-4a42-b169-b81e47fbad22">13.6 ä¿®æ”¹èœå•çš„æ ‡é¢˜ä¿¡æ¯(å¯é€‰)</a></li>
<li><a href="#h:fffac2d3-bf31-470b-956b-a8077015674d">13.7 å¯¼å…¥CentOSç³»ç»Ÿçš„å®‰è£…æ–‡ä»¶ï¼Œç”Ÿæˆç›¸åº”çš„YUMæº</a></li>
<li><a href="#h:f0d14607-c88b-4919-a349-bd97dd133034">13.8 å‡†å¤‡ kickstartæ–‡ä»¶,å¹¶å…³è”è‡³æŒ‡å®šçš„YUMæº</a></li>
<li><a href="#h:6ed8a4c5-215c-4124-91aa-bb410a52b649">13.9 æµ‹è¯•å®¢æˆ·ç«¯åŸºäºCobblerå®ç°è‡ªåŠ¨å®‰è£…</a></li>
<li><a href="#h:3fcc8058-99d5-4a37-b704-1c17c20c7590">13.10 æ”¯æŒUEFIå®‰è£…</a></li>
<li><a href="#h:40e18527-a8a2-4f9d-886f-8e79a63e4207">13.11 å®ç°cobbler çš„webç®¡ç†</a></li>
<li><a href="#h:20309237-041c-469d-a5b5-9180e165ee1c">13.12 åˆ›å»ºcobblerçš„è‡ªå®šä¹‰çš„webç”¨æˆ·</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Linux</a></li>
</ul>
<section id="outline-container-h:fb688712-b338-4bad-8496-93e6d79d36bb" class="outline-2">
<h2 id="h:fb688712-b338-4bad-8496-93e6d79d36bb">è¿ç»´è‡ªåŠ¨åŒ–-01-ç³»ç»Ÿéƒ¨ç½²</h2>
<div class="outline-text-2" id="text-h:fb688712-b338-4bad-8496-93e6d79d36bb">
<p>
å†…å®¹æ¦‚è¿°
</p>

<ul class="org-ul">
<li>ç³»ç»Ÿå®‰è£…è¿‡ç¨‹å’Œé…ç½®anaconda</li>
<li>åˆ¶ä½œè‡ªåŠ¨åŒ–å®‰è£…ç³»ç»Ÿçš„åº”ç­”æ–‡ä»¶</li>
<li>åˆ¶ä½œå¼•å¯¼å…‰ç›˜</li>
<li>DHCPæœåŠ¡</li>
<li>TFTPæœåŠ¡</li>
<li>åˆ©ç”¨PXEå®ç°è‡ªåŠ¨åŒ–çš„ç³»ç»Ÿéƒ¨ç½²</li>
<li>åˆ©ç”¨cobblerå®ç°è‡ªåŠ¨åŒ–çš„ç³»ç»Ÿéƒ¨ç½²</li>
</ul>
</div>
<div id="outline-container-h:47a9319f-321c-4f92-bc34-d1665e962662" class="outline-3">
<h3 id="h:47a9319f-321c-4f92-bc34-d1665e962662">1 ç³»ç»Ÿå®‰è£…è¿‡ç¨‹</h3>
<div class="outline-text-3" id="text-h:47a9319f-321c-4f92-bc34-d1665e962662">
</div>
<div id="outline-container-h:2d85a143-ccab-4b6f-99a5-5692121d5c49" class="outline-4">
<h4 id="h:2d85a143-ccab-4b6f-99a5-5692121d5c49">1.1 è¿ç»´è‡ªåŠ¨åŒ–å‘å±•å†ç¨‹åŠæŠ€æœ¯åº”ç”¨</h4>
<div class="outline-text-4" id="text-h:2d85a143-ccab-4b6f-99a5-5692121d5c49">

<figure id="org53e2f3c">
<img src="images/image-20210122110934695.png" alt="image-20210122110934695.png">

</figure>
</div>
</div>
<div id="outline-container-h:fd1adb9b-f1a5-4b56-b9fe-4b181de65000" class="outline-4">
<h4 id="h:fd1adb9b-f1a5-4b56-b9fe-4b181de65000">1.2 ç³»ç»Ÿå®‰è£…è¿‡ç¨‹</h4>
<div class="outline-text-4" id="text-h:fd1adb9b-f1a5-4b56-b9fe-4b181de65000">
<p>
Linuxçš„å®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š
</p>

<ul class="org-ul">
<li>åŠ è½½boot loader</li>
<li>åŠ è½½å¯åŠ¨å®‰è£…èœå•</li>
<li>åŠ è½½å†…æ ¸å’Œinitrdæ–‡ä»¶</li>
<li>åŠ è½½æ ¹ç³»ç»Ÿ</li>
<li>è¿è¡Œanacondaçš„å®‰è£…å‘å¯¼</li>
</ul>
</div>
<div id="outline-container-h:bc23699d-6df3-4531-a711-3ad172e737ff" class="outline-5">
<h5 id="h:bc23699d-6df3-4531-a711-3ad172e737ff">1.2.1 Linuxå®‰è£…å…‰ç›˜çš„å®‰è£…ç›¸å…³æ–‡ä»¶</h5>
<div class="outline-text-5" id="text-h:bc23699d-6df3-4531-a711-3ad172e737ff">
<p>
åœ¨ç³»ç»Ÿå…‰ç›˜çš„isolinuxç›®å½•ä¸‹æœ‰å’Œå®‰è£…ç›¸å…³çš„æ–‡ä»¶
</p>

<ul class="org-ul">
<li>boot.cat: ç›¸å½“äºgrubçš„ç¬¬ä¸€é˜¶æ®µ</li>
<li>isolinux.binï¼šå…‰ç›˜å¼•å¯¼ç¨‹åºï¼Œåœ¨mkisofsçš„é€‰é¡¹ä¸­éœ€è¦æ˜ç¡®ç»™å‡ºæ–‡ä»¶è·¯å¾„ï¼Œè¿™ä¸ªæ–‡ä»¶å±äºSYSLINUXé¡¹ç›®</li>
<li>isolinux.cfgï¼šå¯åŠ¨èœå•çš„é…ç½®æ–‡ä»¶ï¼Œå½“å…‰ç›˜å¯åŠ¨åï¼ˆå³è¿è¡Œisolinux.binï¼‰ï¼Œä¼šè‡ªåŠ¨å»æ‰¾isolinux.cfgæ–‡ä»¶</li>
<li>vesamenu.c32ï¼šæ˜¯å…‰ç›˜å¯åŠ¨åçš„å¯åŠ¨èœå•å›¾å½¢ç•Œé¢ï¼Œä¹Ÿå±äºSYSLINUXé¡¹ç›®ï¼Œmenu.c32æä¾›çº¯æ–‡æœ¬çš„èœå•</li>
<li>memtestï¼šå†…å­˜æ£€æµ‹ç¨‹åº</li>
<li>splash.pngï¼šå…‰ç›˜å¯åŠ¨èœå•ç•Œé¢çš„èƒŒæ™¯å›¾</li>
<li>vmlinuzï¼šæ˜¯å†…æ ¸æ˜ åƒ</li>
<li>initrd.imgï¼šramfsæ–‡ä»¶</li>
</ul>
</div>
</div>
<div id="outline-container-h:e3c2bc64-c14e-4a2b-8706-e93744cff493" class="outline-5">
<h5 id="h:e3c2bc64-c14e-4a2b-8706-e93744cff493">1.2.2 å®‰è£…èœå•çš„å†…æ ¸å‚æ•°</h5>
<div class="outline-text-5" id="text-h:e3c2bc64-c14e-4a2b-8706-e93744cff493">
<p>
å®‰è£…å…‰ç›˜çš„å¯åŠ¨èœå•é…ç½®æ–‡ä»¶ï¼šisolinux/isolinux.cfgä¸­è®¾ç½®ç›¸å…³çš„å†…æ ¸åŠ è½½å‚æ•°ï¼Œå®ç°ä¸åŒçš„å®‰è£…è¿‡ç¨‹
</p>

<p>
<b>isolinux.cfgæ–‡ä»¶ä¸­æ¯ä¸ªå®‰è£…å¯¹åº”èœå•é€‰é¡¹</b> ï¼š
</p>
<ul class="org-ul">
<li>åŠ è½½å†…æ ¸ï¼šisolinuz/vmlinuz</li>
<li>å‘å†…æ ¸ä¼ é€’å‚æ•°ï¼šappend initrd=initrd.img å‚æ•°è®¾ç½®</li>
</ul>

<p>
<b>æŒ‡å®šå†…æ ¸å‚æ•°æ–¹æ³•</b>
</p>

<ul class="org-ul">
<li>åœ¨å¯åŠ¨èœå•ç•Œé¢ï¼Œé€‰ä¸­ä¸€é¡¹å®‰è£…æ–¹æ³•ï¼ŒæŒ‰tabé”®,åœ¨åé¢å¢åŠ å‚æ•°</li>
<li>åœ¨å¯åŠ¨èœå•ç•Œé¢ï¼Œä»»æ„é€‰ä¸­ä¸€é¡¹å®‰è£…æ–¹æ³•ï¼ŒæŒ‰ESCé”®ï¼šboot: linux å‚æ•°è®¾ç½®</li>
</ul>

<p>
<b>å¸¸è§çš„å†…æ ¸å‚æ•°</b> ï¼š
</p>

<ul class="org-ul">
<li>textï¼šé»˜è®¤å¯åŠ¨GUIå®‰è£…æ¥å£ï¼Œå¯ä»¥æŒ‡å®šæ–‡æœ¬æ–¹å¼çš„å®‰è£…ç•Œé¢</li>
<li>rescueï¼šè¿›å…¥æ•‘æ´æ¨¡å¼</li>
<li>inst.repo=pathï¼šæŒ‡å®šå®‰è£…æºæ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹æ ¼å¼
<ul class="org-ul">
<li><p>
Centos 6
</p>

<p>
DVD drive <code>repo=cdrom :device</code>
</p>

<p>
Hard Drive <code>repo=hd:device/path</code>
</p>

<p>
HTTP Server <code>repo=http://host/path</code>
</p>

<p>
HTTPS Server <code>repo=https://host/path</code>
</p>

<p>
FTP Server <code>repo=ftp://username:password@host/path</code>
</p>

<p>
NFS Server <code>repo=nfs:server:/path</code>
</p>

<p>
ISO images on an NFS Server <code>repo=nfsiso:server:/path</code>
</p></li>

<li><p>
Centos 7
</p>

<p>
Any CD/DVD drive <code>inst.repo=cdrom</code>
</p>

<p>
Hard Drive <code>inst.repo=hd:device:/path</code>
</p>

<p>
HTTP Server <code>inst.repo=http://host/path</code>
</p>

<p>
HTTPS Server <code>inst.repo=https://host/path</code>
</p>

<p>
FTP Server <code>inst.repo=ftp://username:password@host/path</code>
</p>

<p>
NFS Server <code>inst.repo=nfs:[options:]server:/path</code>
</p></li>
</ul></li>

<li>askmethodï¼šé€‰æ‹©å®‰è£…æºæ–‡ä»¶çš„è·å–æ–¹æ³•ï¼Œæä¾›äº†å…‰ç›˜ï¼Œæœ¬åœ°ç¡¬ç›˜ï¼ŒNFSï¼ŒFTPï¼ŒHTTPå¤šç§å®‰è£…æºï¼Œæ­¤é¡¹Centos
7 ä»¥åç‰ˆå·²åºŸå¼ƒ</li>
<li>ks=path:
æŒ‡å®šè‡ªåŠ¨åŒ–å®‰è£…åº”ç­”æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ï¼šinitrd=initrd.img inst.ks=<a href="http://192.168.8.8/ksdir/ks8.cfg">http://192.168.8.8/ksdir/ks8.cfg</a></li>

<li><p>
ip= : æŒ‡å®šIPåœ°å€ä¿¡æ¯
</p>

<p>
ip=methodï¼Œmethod å¯ä»¥ä¸ºdhcp
</p>

<p>
ip=interface:method æŒ‡å®šç‰¹å®šæ¥å£
</p>

<p>
ip=ip::gateway:netmask:hostname:interface:none é™æ€IP
</p></li>
</ul>
</div>
</div>
<div id="outline-container-h:397010b6-414b-496b-ae69-595954c3d8f5" class="outline-5">
<h5 id="h:397010b6-414b-496b-ae69-595954c3d8f5">1.2.3 anacondaå®‰è£…å‘å¯¼</h5>
<div class="outline-text-5" id="text-h:397010b6-414b-496b-ae69-595954c3d8f5">
<p>
anacondaæ˜¯Linuxç³»ç»Ÿå®‰è£…ç¨‹åº,å¯ä»¥æä¾›ä¸¤ç§é£æ ¼çš„å®‰è£…ç•Œé¢
</p>
<ul class="org-ul">
<li>guiï¼šå›¾å½¢çª—å£</li>
<li>tui: åŸºäºå›¾å½¢åº“cursesçš„æ–‡æœ¬çª—å£</li>
</ul>

<p>
<b>anacondaå·¥ä½œè¿‡ç¨‹</b>
</p>

<ul class="org-ul">
<li>å®‰è£…è¿‡ç¨‹ä½¿ç”¨çš„è¯­è¨€</li>
<li>é”®ç›˜ç±»å‹</li>
<li>æ—¶åŒºå’Œæ—¶é—´</li>
<li>å®‰è£…æºæ–‡ä»¶è·¯å¾„</li>
<li>é€‰å®šè¦å®‰è£…çš„ç¨‹åºåŒ…</li>
<li>å®‰è£…ç›®æ ‡å­˜å‚¨è®¾å¤‡åŠåˆ†åŒºè®¾ç½®
<ul class="org-ul">
<li><p>
Basic Storageï¼šæœ¬åœ°ç£ç›˜
</p>

<p>
ç‰¹æ®Šè®¾å¤‡ï¼šiSCSI
</p></li>
</ul></li>
<li>KDUMPåŠŸèƒ½</li>
<li>è®¾å®šä¸»æœºåå’Œé…ç½®ç½‘ç»œæ¥å£</li>
<li>å®‰å…¨ç­–ç•¥</li>
<li>ç®¡ç†å‘˜å¯†ç </li>
<li>åˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·</li>
</ul>

<p>
<b>anacondaçš„é…ç½®æ–¹å¼</b> ï¼š
</p>

<ul class="org-ul">
<li>äº¤äº’å¼é…ç½®æ–¹å¼</li>
<li><p>
é€šè¿‡è¯»å–äº‹å…ˆç»™å®šçš„é…ç½®æ–‡ä»¶è‡ªåŠ¨å®Œæˆé…ç½®ï¼ŒåŠ å†…æ ¸å‚æ•°ï¼šks=/pathå®ç°æŒ‡æ˜kickstartæ–‡ä»¶çš„ä½ç½®ï¼Œå„ç§è·¯å¾„æ ¼å¼å¦‚ä¸‹ï¼š
</p>

<p>
DVD drive: <code>ks=cdrom:/PATH/TO/KICKSTART_FILE</code>
</p>

<p>
Hard drive: <code>ks=hd:device:/directory/KICKSTART_FILE</code>
</p>

<p>
HTTP server: <code>ks=http://host:port/path/to/KICKSTART_FILE</code>
</p>

<p>
FTP server: <code>ks=ftp://host:port/path/to/KICKSTART_FILE</code>
</p>

<p>
HTTPS server: <code>ks=https://host:port/path/to/KICKSTART_FILE</code>
</p>

<p>
NFS <code>server:ks=nfs:host:/path/to/KICKSTART_FILE</code>
</p></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-h:dba54f22-b52d-4912-a16d-df77f1318eef" class="outline-3">
<h3 id="h:dba54f22-b52d-4912-a16d-df77f1318eef">2 è‡ªåŠ¨å®‰è£…çš„åº”ç­”æ–‡ä»¶</h3>
<div class="outline-text-3" id="text-h:dba54f22-b52d-4912-a16d-df77f1318eef">
<p>
å®ç°è‡ªåŠ¨å®‰è£…å‰ï¼Œéœ€è¦åˆ¶ä½œå¯¹åº”çš„å®‰è£…åº”ç­”æ–‡ä»¶ï¼Œç§°ä¸ºkickstartæ–‡ä»¶ï¼Œç”¨äºä¿å­˜å®‰è£…è¿‡ç¨‹éœ€è¦æŒ‡å®šçš„é€‰é¡¹ã€‚
</p>
</div>
<div id="outline-container-h:6dd94417-806d-4344-8a1b-5aa80d574fba" class="outline-4">
<h4 id="h:6dd94417-806d-4344-8a1b-5aa80d574fba">2.1 kickstartæ–‡ä»¶ä½¿ç”¨è¿‡ç¨‹</h4>
<div class="outline-text-4" id="text-h:6dd94417-806d-4344-8a1b-5aa80d574fba">
<ol class="org-ol">
<li>Create a Kickstart file.</li>
<li>Make the Kickstart file available on removable media, a hard drive or
a network location.</li>
<li>Create boot media, which will be used to begin the installation.</li>
<li>Make the installation source available.</li>
<li>Start the Kickstart installation.</li>
</ol>
</div>
</div>
<div id="outline-container-h:59104365-2884-4af9-b212-478e5079bde9" class="outline-4">
<h4 id="h:59104365-2884-4af9-b212-478e5079bde9">2.2 kickstartæ–‡ä»¶çš„æ ¼å¼</h4>
<div class="outline-text-4" id="text-h:59104365-2884-4af9-b212-478e5079bde9">
</div>
<div id="outline-container-h:9ef3c4c0-b7b6-4c5e-9822-9e657dc93baa" class="outline-5">
<h5 id="h:9ef3c4c0-b7b6-4c5e-9822-9e657dc93baa">2.2.1 Kickstartæ–‡ä»¶æ ¼å¼å®˜æ–¹è¯´æ˜</h5>
<div class="outline-text-5" id="text-h:9ef3c4c0-b7b6-4c5e-9822-9e657dc93baa">
<p>
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_an_advanced_rhel_installation/index">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_an_advanced_rhel_installation/index</a>
</p>

<p>
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/installation_guide/sect-kickstart-syntax">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/installation_guide/sect-kickstart-syntax</a>
</p>

<p>
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-options">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s1-kickstart2-options</a>
</p>
</div>
</div>
<div id="outline-container-h:4ddbfc66-5e4f-40b5-bebb-fb42eeecf5b2" class="outline-5">
<h5 id="h:4ddbfc66-5e4f-40b5-bebb-fb42eeecf5b2">2.2.2 kickstartæ–‡ä»¶æ ¼å¼è¯´æ˜</h5>
<div class="outline-text-5" id="text-h:4ddbfc66-5e4f-40b5-bebb-fb42eeecf5b2">
<p>
kickstartæ–‡ä»¶ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šå‘½ä»¤æ®µï¼Œç¨‹åºåŒ…æ®µï¼Œè„šæœ¬æ®µ
</p>

<ul class="org-ul">
<li>å‘½ä»¤æ®µï¼šæŒ‡æ˜å„ç§å®‰è£…å‰é…ç½®ï¼Œå¦‚é”®ç›˜ç±»å‹ç­‰</li>
</ul>

<p>
å‘½ä»¤æ®µä¸­çš„å¸¸è§å‘½ä»¤ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">keyboard: &#35774;&#23450;&#38190;&#30424;&#31867;&#22411;
lang: &#35821;&#35328;&#31867;&#22411;
zerombr&#65306;&#28165;&#38500;mbr
clearpart&#65306;&#28165;&#38500;&#20998;&#21306;
part: &#21019;&#24314;&#20998;&#21306;
rootpw: &#25351;&#26126;root&#30340;&#23494;&#30721;
timezone: &#26102;&#21306;
text: &#25991;&#26412;&#23433;&#35013;&#30028;&#38754;
network:&#25351;&#23450;&#32593;&#32476;&#35774;&#32622;
firewall&#65306;&#35774;&#32622;&#38450;&#28779;&#22681;&#35774;&#32622;
selinux&#65306;&#35774;&#32622;selinux&#35774;&#32622;
reboot&#65306;&#23433;&#35013;&#23436;&#33258;&#21160;&#37325;&#21551;
user&#65306;&#23433;&#35013;&#23436;&#25104;&#21518;&#20026;&#31995;&#32479;&#21019;&#24314;&#26032;&#29992;&#25143;
url: &#25351;&#26126;&#23433;&#35013;&#28304;
</pre>
</div>

<ul class="org-ul">
<li>ç¨‹åºåŒ…æ®µï¼šæŒ‡æ˜è¦å®‰è£…çš„ç¨‹åºåŒ…ç»„æˆ–ç¨‹åºåŒ…ï¼Œä¸å®‰è£…çš„ç¨‹åºåŒ…ç­‰</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">%packages
@^environment group&#65306; &#25351;&#23450;&#29615;&#22659;&#21253;&#32452;&#65292;&#22914;&#65306;@^minimal-environment
@group_name
package
-package
%end
</pre>
</div>

<ul class="org-ul">
<li>è„šæœ¬æ®µï¼š</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">%pre: &#23433;&#35013;&#21069;&#33050;&#26412;
%post: &#23433;&#35013;&#21518;&#33050;&#26412;
</pre>
</div>

<p>
æ³¨æ„ï¼š
</p>

<ul class="org-ul">
<li>CentOS 8,7,6 ä¸åŒç‰ˆæœ¬çš„kickstartæ–‡ä»¶æ ¼å¼ä¸å°½ç›¸åŒï¼Œä¸å¯æ··ç”¨</li>
<li>%addon, %packages, %onerror, %pre ã€ %post
å¿…é¡»ä»¥%endç»“æŸï¼Œå¦åˆ™å®‰è£…å¤±è´¥</li>
</ul>

<p>
èŒƒä¾‹ï¼šCentOS 8 çš„æœ€å°åŒ–å®‰è£…kickstartæ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh">ignoredisk --only-use=sda
zerombr
text
reboot
clearpart --all --initlabel
selinux --disabled
firewall --disabled
url --url=http://10.0.0.8/centos/8/os/x86_64/
keyboard --vckeymap=us --xlayouts=<span style="color: #8b2252;">'us'</span>
lang en_US.UTF-8
network --bootproto=dhcp --device=ens160 --ipv6=auto --activate
network --hostname=centos8.me.com
rootpw --iscrypted
$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">j9YhzDUnQVnxaAk8</span>$<span style="color: #a0522d;">qv7rkMcPAEbV5yvwsP666DXWYadd3jYjkA9fpxAo9qYotjGGBUclCGoP1TRvgHBpqgc5n0RypMsPTQnVDcpO01</span>
firstboot --enable
skipx
services --disabled=<span style="color: #8b2252;">"chronyd"</span>
timezone Asia/Shanghai --isUtc --nontp
user --name=wang --
<span style="color: #a0522d;">password</span>=6oUfb/02CWfLb5l8f$<span style="color: #a0522d;">sgEZeR7c7DpqfpmFDH6huSmDbW1XQNR4qKl2EPns</span>.gOXqlnAIgv9p
TogtFVaDtEpMOC.SWXKYqxfVtd9MCwxb1 --iscrypted --gecos=<span style="color: #8b2252;">"wang"</span>
part / --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=102400
part /data --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=51200
part swap --fstype=<span style="color: #8b2252;">"swap"</span> --ondisk=sda --size=2048
part /boot --fstype=<span style="color: #8b2252;">"ext4"</span> --ondisk=sda --size=1024
%packages
@^minimal-environment
kexec-tools
%end
%addon com_redhat_kdump --enable --reserve-mb=<span style="color: #8b2252;">'auto'</span>
%end
%anaconda
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty
%end

%post
useradd tester
<span style="color: #483d8b;">echo</span> me | passwd --stdin tester &amp;&gt; /dev/null
%end
</pre>
</div>

<p>
èŒƒä¾‹ï¼šCentOS 7 çš„æœ€å°åŒ–å®‰è£…kickstartæ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh">install
xconfig --startxonboot
keyboard --vckeymap=us --xlayouts=<span style="color: #8b2252;">'us'</span>
rootpw --iscrypted $<span style="color: #a0522d;">1</span>$<span style="color: #a0522d;">bpNEv8S5</span>$<span style="color: #a0522d;">lK</span>.CjNkf.YCpFPHskSNiN0
url --url=<span style="color: #8b2252;">"http://10.0.0.8/centos/7/os/x86_64"</span>
lang en_US
auth --useshadow --passalgo=sha512
text
firstboot --enable
selinux --disabled
skipx
services --disabled=<span style="color: #8b2252;">"chronyd"</span>
ignoredisk --only-use=sda
firewall --disabled
network --bootproto=dhcp --device=ens33
reboot
timezone Asia/Shanghai --nontp
bootloader --append=<span style="color: #8b2252;">"crashkernel=auto"</span> --location=mbr --boot-drive=sda
zerombr
clearpart --all --initlabel
part swap --fstype=<span style="color: #8b2252;">"swap"</span> --ondisk=sda --size=3072
part / --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=51200
part /boot --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=1024
part /data --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=30720
%post
useradd wang
%end

%packages
@^minimal
vim-enhanced
%end
</pre>
</div>

<p>
èŒƒä¾‹ï¼šCentOS 6 çš„æœ€å°åŒ–å®‰è£…kickstartæ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh">install
text
reboot
url --url=http://10.0.0.8/centos/6/os/x86_64/
lang en_US.UTF-8
keyboard us
network --onboot yes --device eth0 --bootproto dhcp --noipv6
rootpw --iscrypted
$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">b6C5mM</span>/BwOMBoK8H$<span style="color: #a0522d;">cYZFrHoNlOL0iDsxOTRhwnWJ3yfFmf7mRJBOxEqGoI56UMrT8J7qlrGwX7tSnOf7wKxYR2hAvAREILDgOgsFe1</span>
firewall --disabled
authconfig --enableshadow --passalgo=sha512
selinux --disabled
timezone Asia/Shanghai
bootloader --location=mbr --driveorder=sda --append=<span style="color: #8b2252;">"crashkernel=auto rhgb</span>
<span style="color: #8b2252;">quiet"</span>
zerombr
clearpart --all --initlabel
part /boot --fstype=ext4 --size=1024
part / --fstype=ext4 --size=50000
part /data --fstype=ext4 --size=30000
part swap --size=2048

%packages
@core
@server-policy
@workstation-policy
autofs
vim-enhanced
%end

%post
useradd wang
<span style="color: #483d8b;">echo</span> me | passwd --stdin wang &amp;&gt; /dev/null
mkdir /etc/yum.repos.d/bak
mv /etc/yum.repos.d/* /etc/yum.repos.d/bak
cat &gt; /etc/yum.repos.d/base.repo &lt;&lt;EOF
<span style="color: #ffa54f;">[base]</span>
<span style="color: #ffa54f;">name=base</span>
<span style="color: #ffa54f;">baseurl=file:///misc/cd</span>
<span style="color: #ffa54f;">gpgcheck=0</span>
<span style="color: #ffa54f;">EOF</span>
%end
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:bc46f333-7599-4f52-9f52-92ee022113ad" class="outline-4">
<h4 id="h:bc46f333-7599-4f52-9f52-92ee022113ad">2.3 kickstartæ–‡ä»¶åˆ›å»º</h4>
<div class="outline-text-4" id="text-h:bc46f333-7599-4f52-9f52-92ee022113ad">
<p>
<b>åˆ›å»ºkickstartæ–‡ä»¶çš„æ–¹å¼</b>
</p>

<ul class="org-ul">
<li>å¯ä½¿ç”¨åˆ›å»ºå·¥å…·ï¼šsystem-config-kickstart ï¼Œæ³¨æ„ï¼šæ­¤æ–¹æ³• CentOS 8
ä¸å†æ”¯æŒ</li>
<li>ä¾æ®æŸæ¨¡æ¿ä¿®æ”¹å¹¶ç”Ÿæˆæ–°é…ç½®ï¼ŒCentOSå®‰è£…å®Œåï¼Œä¼šè‡ªåŠ¨å‚è€ƒå½“å‰ç³»ç»Ÿçš„å®‰è£…è¿‡ç¨‹ï¼Œç”Ÿæˆä¸€ä¸ªkickstartæ–‡ä»¶
/root/anaconda-ks.cfg</li>
</ul>

<p>
<b>æ£€æŸ¥ksæ–‡ä»¶çš„è¯­æ³•é”™è¯¯ï¼š</b>
</p>

<p>
ä½¿ç”¨ ksvalidator å·¥å…·å¯ä»¥æ£€æŸ¥kickstartçš„æ–‡ä»¶æ ¼å¼æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œæ¥è‡ªäº
pykickstart åŒ…
</p>

<p>
æ ¼å¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">ksvalidator /PATH/TO/KICKSTART_FILE
</pre>
</div>

<p>
èŒƒä¾‹ï¼šä½¿ç”¨ system-config-kickstart ä¸€è¾¹æ¥çœ‹çœ‹ç”Ÿæˆçš„ kickstart
é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸€é¡µä¸€é¡µè§‚å¯Ÿ
</p>

<p>
1.Basic Configuration
</p>


<figure id="org8369c44">
<img src="images/image-20210122142459011.png" alt="image-20210122142459011.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;#Basic Configuration
&#9474;========================================================
&#9474;#<span style="color: #a0522d;">platform</span>=x86, AMD64, or Intel EM64T
&#9474;#Default Language&#40664;&#35748;&#35821;&#35328;
&#9474;lang en_US
&#9474;# Keyboard &#38190;&#30424;
&#9474;keyboard <span style="color: #8b2252;">'us'</span>
&#9474;# timezone &#26102;&#21306;(&#21246;&#36873;&#20102;<span style="color: #8b2252;">"Use UTC clock"</span> &#20250;&#36861;&#21152;[--isUtc])
&#9474;timezone Asia/Shanghai
&#9474;# Root password
&#9474;rootpw --iscrypted $<span style="color: #a0522d;">1</span>$<span style="color: #a0522d;">DBk7xfJp</span>$<span style="color: #a0522d;">Agxd303XUAfRKIf7gB8DG</span>/
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;#Advanced Configuration
&#9474;&#21246;&#36873;&#23601;&#26377;&#65292;&#19981;&#21246;&#27809;&#26377;
&#9474;========================================================
&#9474;# Reboot after installation
&#9474;reboot
&#9474;# Use text mode install
&#9474;text
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
2 Installation Method <img src="images/image-20210122142656193.png" alt="image-20210122142656193.png">
</p>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;#Installation Method
&#9474;========================================================
&#9474;# Install OS instead of upgrade
&#9474;install
&#9474;# Upgrade existing installation
&#9474;upgrade
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;#Installation source
&#9474;&#36873;&#20102;&#21738;&#39033;&#23601;&#20889;&#21738;&#39033;
&#9474;========================================================
&#9474;# Use CDROM installation media
&#9474;cdrom
&#9474;# Use NFS installation media
&#9474;nfs --server=&#26381;&#21153;&#22120; --dir=&#30446;&#24405;
&#9474;# Use network installation
&#9474;url --url=<span style="color: #8b2252;">"ftp://&#29992;&#25143;&#21517;:&#23494;&#30721;@&#26381;&#21153;&#22120;/&#30446;&#24405;"</span>
&#9474;# Use network installation
&#9474;url --url=<span style="color: #8b2252;">"http://&#26381;&#21153;&#22120;/&#30446;&#24405;"</span>
&#9474;# Use hard drive installation media
&#9474;harddrive --dir=&#30446;&#24405; --partition=&#20998;&#21306;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
3.Boot Loader Options
</p>


<figure id="org1d9b5a5">
<img src="images/image-20210122142725025.png" alt="image-20210122142725025.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;#Installation Method&amp;GRUB options&amp;Install Options
&#9474;=================================================================
&#9474; &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474; &#9474; &#36873;&#25321;&#20102;Do not install a boot loader &#9474;
&#9474; &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9474; <span style="color: #b22222;"># </span><span style="color: #b22222;">System bootloader configuration</span>
&#9474; bootloader --location=none
&#9474;
&#9474; &#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474; &#9474; &#36873;&#25321;&#20102;install new boot loader &#9474;
&#9474; &#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9474; bootloader --append=<span style="color: #8b2252;">"ker"</span> --location=mbr --password=<span style="color: #8b2252;">"123"</span>
&#9474;#append&#26159;&#20869;&#26680;&#21442;&#25968;&#65292;location&#26159;bootloader&#23433;&#35013;&#20301;&#32622;&#65292;password&#26159;GRUB&#23494;&#30721;
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
4.Partition Information
</p>


<figure id="org564c2ba">
<img src="images/image-20210122142815101.png" alt="image-20210122142815101.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Master Boot Record
&#9474;#Master Boot Record&#36873;&#25321;&#20102;clear... &#21542;&#21017;&#23601;&#27809;&#26377;
&#9474;======================================================
&#9474;# Clear the Master Boot Record
&#9474;zerombr
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Partitions&amp;Disk Label
&#9474;======================================================
&#9474;# Partition clearing information
&#9474;clearpart --linux --initlabel
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Layout &#20998;&#21306;
&#9474;part &#25346;&#36733;&#28857; --fstype=&#25991;&#20214;&#31995;&#32479; --size=&#22823;&#23567;(&#21333;&#20301;M)
&#9474;======================================================
&#9474;# Disk partitioning information
&#9474;part / --fstype=<span style="color: #8b2252;">"xfs"</span> --size=10240
&#9474;part /boot --fstype=<span style="color: #8b2252;">"ext4"</span> --size=1024
&#9474;part swap --fstype=<span style="color: #8b2252;">"swap"</span> --size=2048
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
5.Network Configuration
</p>


<figure id="org883d07e">
<img src="images/image-20210122142833471.png" alt="image-20210122142833471.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Network Configuration
&#9474;Centos7&#22914;&#26524;&#35201;&#20889;eth0,&#35201;&#21152;&#20869;&#26680;&#21442;&#25968;net.ifnames=0
&#9474;======================================================
&#9474;# Network information
&#9474;network --bootproto=dhcp --device=eth0
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
6.Authentication
</p>


<figure id="orgd58384b">
<img src="images/image-20210122142849164.png" alt="image-20210122142849164.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Authentication
&#9474;&#22914;&#26524;&#21246;&#36873;Enable Fingerprint reader&#21017;&#36861;&#21152;&#21442;&#25968; --enablefingerprint
&#9474;===============================================================
&#9474;# System authorization information
&#9474;auth --useshadow --passalgo=md5
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
7.Firewall Configuration
</p>


<figure id="org7b1b821">
<img src="images/image-20210122142906445.png" alt="image-20210122142906445.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Firewall Configuration
&#9474;===============================================================
&#9474;# SELinux configuration
&#9474;selinux --disabled&#25110;permissive&#25110;enforcing
&#9474; &#9474;
<span style="color: #b22222;"># </span><span style="color: #b22222;">Firewall configuration</span>
&#9474;firewall --disabled&#25110;enabled
&#9474;#&#22914;&#26524;&#26159;enable,&#21487;&#20197;&#22312;&#36861;&#21152;&#65306;--http --ftp --telnet --smtp --ssh
&#9474;#&#36824;&#21487;&#20197;&#36861;&#21152;&#31471;&#21475;&#65306;--port=555:tcp,444:udp
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
8.Display Configuration
</p>


<figure id="org479c67a">
<img src="images/image-20210122142922060.png" alt="image-20210122142922060.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9484;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9488;
&#9474;# Display Configuration
&#9474;===============================================================
&#9474;&#22914;&#26524;&#36873;&#20102;&#23433;&#35013;&#22270;&#24418;&#30028;&#38754;&#65292;&#23601;&#27809;&#26377;&#19979;&#38754;&#36825;&#21477;&#35805;
&#9474;# Do not configure the X Window System
&#9474;skipx
&#9474;# Run the Setup Agent on first boot
&#9474;firstboot --enable&#25110;disable
&#9492;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9496;
</pre>
</div>

<p>
9.Package Selection
</p>


<figure id="org2062163">
<img src="images/image-20210122142935508.png" alt="image-20210122142935508.png">

</figure>

<p>
å¦‚æœä½ çš„ç•Œé¢æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œé‚£ä¹ˆéœ€è¦æŠŠä½ ç°ä½¿ç”¨çš„yumä»“åº“é…ç½®æ–‡ä»¶æ”¹ä¸€ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">[root]#vim /etc/yum.repos.d/***.repo
[development]
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;&#21407;&#26469;"[]"&#20869;&#30340;&#20869;&#23481;&#25913;&#25104;development&#23601;&#21487;&#20197;&#20102;&#65292;&#20854;&#23427;&#19981;&#21464;</span>
</pre>
</div>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">%packages
@development
-byacc
-cscope
-ctags
-diffstat
-doxygen
-elfutils
-gcc-gfortran
-git
-indent
-intltool
-patchutils
-rcs
-subversion
-swig
-systemtap
%end
</pre>
</div>

<p>
10.Pre-Installation Script
</p>


<figure id="orgb749cee">
<img src="images/image-20210122142958430.png" alt="image-20210122142958430.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">%pre
i am pre
%end
</pre>
</div>

<p>
11.Post-Installation Script
</p>


<figure id="orgfa7293f">
<img src="images/image-20210122143015649.png" alt="image-20210122143015649.png">

</figure>

<p>
é…ç½®æ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">%post --nochroot
i am post
%end
</pre>
</div>

<p>
12.ä»¥ä¸Šsystem-config-kickstart æ‰§è¡Œåæœ€ç»ˆç”Ÿæˆçš„kickstartæ–‡ä»¶å¦‚ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">platform=x86, AMD64, or Intel EM64T</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">version=DEVEL</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Install OS instead of upgrade</span>
install
<span style="color: #b22222;"># </span><span style="color: #b22222;">Keyboard layouts</span>
keyboard <span style="color: #8b2252;">'us'</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Root password</span>
rootpw --iscrypted $<span style="color: #a0522d;">1</span>$<span style="color: #a0522d;">2</span>TeoFGRN$<span style="color: #a0522d;">EeykyMirEiMIya57QmbG71</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Use network installation</span>
url --url=<span style="color: #8b2252;">"http://192.168.100.7/Centos/7/os/x86_64"</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">System language</span>
lang zh_CN
<span style="color: #b22222;"># </span><span style="color: #b22222;">System authorization information</span>
auth --useshadow --passalgo=sha512
<span style="color: #b22222;"># </span><span style="color: #b22222;">Use text mode install</span>
text
<span style="color: #b22222;"># </span><span style="color: #b22222;">Run the Setup Agent on first boot</span>
firstboot --enable
<span style="color: #b22222;"># </span><span style="color: #b22222;">SELinux configuration</span>
selinux --disabled
<span style="color: #b22222;"># </span><span style="color: #b22222;">Do not configure the X Window System</span>
skipx

<span style="color: #b22222;"># </span><span style="color: #b22222;">Firewall configuration</span>
firewall --disabled
<span style="color: #b22222;"># </span><span style="color: #b22222;">Network information</span>
network --bootproto=dhcp --device=eth0
<span style="color: #b22222;"># </span><span style="color: #b22222;">Reboot after installation</span>
reboot
<span style="color: #b22222;"># </span><span style="color: #b22222;">System timezone</span>
timezone Asia/Shanghai
<span style="color: #b22222;"># </span><span style="color: #b22222;">System bootloader configuration</span>
bootloader --append=<span style="color: #8b2252;">"net.ifnames=0"</span> --location=mbr
<span style="color: #b22222;"># </span><span style="color: #b22222;">Clear the Master Boot Record</span>
zerombr
<span style="color: #b22222;"># </span><span style="color: #b22222;">Partition clearing information</span>
clearpart --all --initlabel
<span style="color: #b22222;"># </span><span style="color: #b22222;">Disk partitioning information</span>
part /boot --fstype=<span style="color: #8b2252;">"ext4"</span> --size=2048
part / --fstype=<span style="color: #8b2252;">"xfs"</span> --size=10240
part swap --fstype=<span style="color: #8b2252;">"swap"</span> --size=2048

%pre
i am pre
%end

%post --nochroot
i am post
%end

%packages
@development
-byacc
-cscope
-ctags
-diffstat
-doxygen
-elfutils
-gcc-gfortran
-git
-indent
-intltool
-patchutils
-rcs
-subversion
-swig
-systemtap
%end
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:eed3d000-c9a2-4494-83f6-aa6fbb1815fb" class="outline-3">
<h3 id="h:eed3d000-c9a2-4494-83f6-aa6fbb1815fb">3 åˆ¶ä½œå¼•å¯¼å…‰ç›˜å’ŒUç›˜</h3>
<div class="outline-text-3" id="text-h:eed3d000-c9a2-4494-83f6-aa6fbb1815fb">
<p>
å¯ä»¥å°†å®šåˆ¶å®‰è£…å…‰ç›˜ï¼Œå¹¶ç»“åˆkickstartå®ç°åŸºäºå…‰ç›˜å¯åŠ¨çš„åŠè‡ªåŠ¨åŒ–å®‰è£…
</p>

<p>
<b>å®ç°è¿‡ç¨‹</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#mkdir &#8211;pv /data/myiso
[root@centos8 ~]#cp -r /mnt/isolinux/ /data/myiso/
[root@centos8 ~]#tree /data/myiso/
/data/myiso/
&#9492;&#9472;&#9472; isolinux
    &#9500;&#9472;&#9472; boot.cat
    &#9500;&#9472;&#9472; boot.msg
    &#9500;&#9472;&#9472; grub.conf
    &#9500;&#9472;&#9472; initrd.img
    &#9500;&#9472;&#9472; isolinux.bin
    &#9500;&#9472;&#9472; isolinux.cfg
    &#9500;&#9472;&#9472; ldlinux.c32
    &#9500;&#9472;&#9472; libcom32.c32
    &#9500;&#9472;&#9472; libutil.c32
    &#9500;&#9472;&#9472; memtest
    &#9500;&#9472;&#9472; splash.png
    &#9500;&#9472;&#9472; TRANS.TBL
    &#9500;&#9472;&#9472; vesamenu.c32
    &#9492;&#9472;&#9472; vmlinuz

1 directory, 14 files

[root@centos8 ~]#vim /data/myiso/isolinux/isolinux.cfg
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26041;&#27861;1&#65306;&#24212;&#31572;&#26041;&#20214;&#25918;&#22312;ISO&#25991;&#20214;&#37324;</span>
label linux
  menu label ^Auto Install CentOS Linux 8
  kernel vmlinuz
  <span style="color: #a0522d;">initrd</span>=initrd.img text <span style="color: #a0522d;">ks</span>=cdrom:/myks.cfg

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26041;&#27861;2&#65306;&#24212;&#31572;&#26041;&#20214;&#25918;&#22312;http&#26381;&#21153;&#22120;&#19978;</span>
label linux
  menu label ^Auto Install CentOS Linux 8
  kernel vmlinuz
  append <span style="color: #a0522d;">initrd</span>=initrd.img quiet <span style="color: #a0522d;">ks</span>=http://10.0.0.8/ksdir/centos8.cfg
label rescue
  menu label ^Rescue a CentOS Linux system
  kernel vmlinuz
  append <span style="color: #a0522d;">initrd</span>=initrd.img inst.repo=http://10.0.0.8/centos/8 rescue quiet
label local
  menu default
  menu label Boot from ^local drive
  localboot 0xffff

[root@centos8 ~]#cp /root/myks.cfg /data/myiso/
[root@centos8 ~]#dnf -y install mkisofs
[root@centos8 ~]#mkisofs -R -J -T -v --no-emul-boot --boot-load-size 4 --bootinfo-table -V <span style="color: #8b2252;">"CentOS 8.0 x86_64 boot"</span> -b isolinux/isolinux.bin -c isolinux/boot.cat -o /root/boot.iso /data/myiso/
&#27880;&#24847;&#65306;&#20197;&#19978;&#30456;&#23545;&#36335;&#24452;&#37117;&#26159;&#30456;&#23545;&#20110;&#20809;&#30424;&#30340;&#26681;&#65292;&#21644;&#24037;&#20316;&#30446;&#24405;&#26080;&#20851;
</pre>
</div>

<p>
<b>mkisofsé€‰é¡¹è¯´æ˜</b>
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">[OPTION]</th>
<th scope="col" class="org-left">æ„ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">-o</td>
<td class="org-left">æŒ‡å®šæ˜ åƒæ–‡ä»¶çš„åç§°ã€‚</td>
</tr>

<tr>
<td class="org-left">-b</td>
<td class="org-left">æŒ‡å®šåœ¨åˆ¶ä½œå¯å¼€æœºå…‰ç›˜æ—¶æ‰€éœ€çš„å¼€æœºæ˜ åƒæ–‡ä»¶ã€‚</td>
</tr>

<tr>
<td class="org-left">-c</td>
<td class="org-left">åˆ¶ä½œå¯å¼€æœºå…‰ç›˜æ—¶ï¼Œä¼šå°†å¼€æœºæ˜ åƒæ–‡ä»¶ä¸­çš„</td>
</tr>

<tr>
<td class="org-left">no-eltorito-catalog</td>
<td class="org-left">å…¨éƒ¨å†…å®¹ä½œæˆä¸€ä¸ªæ–‡ä»¶ã€‚</td>
</tr>

<tr>
<td class="org-left">-no-emul-boot</td>
<td class="org-left">éæ¨¡æ‹Ÿæ¨¡å¼å¯åŠ¨ã€‚</td>
</tr>

<tr>
<td class="org-left">-boot-load-size 4</td>
<td class="org-left">è®¾ç½®è½½å…¥éƒ¨åˆ†çš„æ•°é‡</td>
</tr>

<tr>
<td class="org-left">-boot-info-table</td>
<td class="org-left">åœ¨å¯åŠ¨çš„å›¾åƒä¸­ç°å®ä¿¡æ¯</td>
</tr>

<tr>
<td class="org-left">-R æˆ– -rock</td>
<td class="org-left">ä½¿ç”¨ Rock RidgeExtensions</td>
</tr>

<tr>
<td class="org-left">-J æˆ– -joliet</td>
<td class="org-left">ä½¿ç”¨ Joliet æ ¼å¼çš„ç›®å½•ä¸æ–‡ä»¶åç§°</td>
</tr>

<tr>
<td class="org-left">-v æˆ– -verbose</td>
<td class="org-left">æ‰§è¡Œæ—¶æ˜¾ç¤ºè¯¦ç»†çš„ä¿¡æ¯</td>
</tr>

<tr>
<td class="org-left">-T æˆ– -translationtable</td>
<td class="org-left">å»ºç«‹æ–‡ä»¶åçš„è½¬æ¢è¡¨ï¼Œé€‚äºä¸æ”¯æŒ Rock Ridge Extensions çš„ç³»ç»Ÿä¸Š</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-h:8ef73af5-1c84-4683-9c32-e3f1dae2921e" class="outline-3">
<h3 id="h:8ef73af5-1c84-4683-9c32-e3f1dae2921e">4 å®ç°DHCPæœåŠ¡</h3>
<div class="outline-text-3" id="text-h:8ef73af5-1c84-4683-9c32-e3f1dae2921e">
<p>
ä¸»æœºè·å–ç½‘ç»œé…ç½®å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼š
</p>

<ul class="org-ul">
<li>é™æ€æŒ‡å®š</li>
<li>åŠ¨æ€è·å–:
<ul class="org-ul">
<li>bootpï¼šboot protocol MACä¸IPä¸€ä¸€é™æ€å¯¹åº”</li>
<li>dhcpï¼šå¢å¼ºçš„bootpï¼Œæ”¯æŒé™æ€å’ŒåŠ¨æ€</li>
</ul></li>
</ul>
</div>
<div id="outline-container-h:a334ebfb-88d4-4942-9d8d-1f8e6d0ae094" class="outline-4">
<h4 id="h:a334ebfb-88d4-4942-9d8d-1f8e6d0ae094">4.1 DHCPå·¥ä½œåŸç†</h4>
<div class="outline-text-4" id="text-h:a334ebfb-88d4-4942-9d8d-1f8e6d0ae094">
<p>
DHCP: Dynamic Host Configuration Protocolï¼ŒåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼ŒUDPåè®®ï¼ŒC/Sæ¨¡å¼ï¼Œdhcp
</p>

<p>
serverï¼š67/udp,dhcpv4c client :68/udpï¼Œdhcpv6 clientï¼š546/udp
</p>

<p>
ä¸»è¦ç”¨é€”ï¼š
</p>

<ul class="org-ul">
<li>ç”¨äºå†…éƒ¨ç½‘ç»œå’Œç½‘ç»œæœåŠ¡ä¾›åº”å•†è‡ªåŠ¨åˆ†é…IPåœ°å€ç»™ç”¨æˆ·</li>
<li>ç”¨äºå†…éƒ¨ç½‘ç»œç®¡ç†å‘˜ä½œä¸ºå¯¹æ‰€æœ‰ç”µè„‘ä½œé›†ä¸­ç®¡ç†çš„æ‰‹æ®µ</li>
<li>è‡ªåŠ¨åŒ–å®‰è£…ç³»ç»Ÿ</li>
<li>è§£å†³IPV4èµ„æºä¸è¶³é—®é¢˜</li>
</ul>

<p>
<b>å…±æœ‰å…«ç§æŠ¥æ–‡</b>
</p>


<figure id="orgbdab431">
<img src="images/image-20210122143110059.png" alt="image-20210122143110059.png">

</figure>

<ul class="org-ul">
<li>DHCP DISCOVERï¼šå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨</li>
<li>DHCP OFFER ï¼šæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯</li>
<li>DHCP REQUESTï¼šå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨</li>
<li>DHCP ACK ï¼šæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯</li>
<li>DHCP NAKï¼šæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯,é€šçŸ¥ç”¨æˆ·æ— æ³•åˆ†é…åˆé€‚çš„IPåœ°å€</li>
<li>DHCP DECLINE ï¼šå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ï¼ŒæŒ‡ç¤ºåœ°å€å·²è¢«ä½¿ç”¨</li>
<li>DHCP RELEASEï¼šå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ï¼Œæ”¾å¼ƒç½‘ç»œåœ°å€å’Œå–æ¶ˆå‰©ä½™çš„ç§Ÿçº¦æ—¶é—´</li>
<li>DHCP INFORMï¼šå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨,
å®¢æˆ·ç«¯å¦‚æœéœ€è¦ä»DHCPæœåŠ¡å™¨ç«¯è·å–æ›´ä¸ºè¯¦ç»†çš„é…ç½®ä¿¡æ¯ï¼Œåˆ™å‘é€InformæŠ¥æ–‡å‘æœåŠ¡å™¨è¿›è¡Œè¯·æ±‚ï¼Œæå°‘ç”¨åˆ°</li>
</ul>

<p>
<b>DHCPæœåŠ¡ç»­ç§Ÿ</b>
</p>

<ul class="org-ul">
<li>50%ï¼šç§Ÿèµæ—¶é—´è¾¾åˆ°50%æ—¶æ¥ç»­ç§Ÿï¼Œåˆšå‘DHCPæœåŠ¡å™¨å‘å‘æ–°çš„DHCPREQUESTè¯·æ±‚ã€‚å¦‚æœdhcpæœåŠ¡æ²¡æœ‰æ‹’ç»çš„ç†ç”±ï¼Œåˆ™å›åº”DHCPACKä¿¡æ¯ã€‚å½“DHCPå®¢æˆ·ç«¯æ”¶åˆ°è¯¥åº”ç­”ä¿¡æ¯åï¼Œå°±é‡æ–°å¼€å§‹æ–°çš„ç§Ÿç”¨å‘¨æœŸ</li>
<li>87.5%ï¼šå¦‚æœä¹‹å‰DHCP Serveræ²¡æœ‰å›åº”ç»­ç§Ÿè¯·æ±‚ï¼Œç­‰åˆ°ç§Ÿçº¦æœŸçš„7/8æ—¶ï¼Œä¸»æœºä¼šå†å‘é€ä¸€æ¬¡å¹¿æ’­è¯·æ±‚</li>
</ul>

<p>
<b>åŒç½‘æ®µå¤šDHCPæœåŠ¡</b>
</p>

<ul class="org-ul">
<li>DHCPæœåŠ¡å¿…é¡»åŸºäºæœ¬åœ°</li>
<li>å…ˆåˆ°å…ˆå¾—çš„åŸåˆ™</li>
</ul>

<p>
<b>è·¨ç½‘æ®µ</b>
</p>

<ul class="org-ul">
<li>RFC 1542 Compliant Routers</li>
<li>dhcp relay agent: ä¸­ç»§ä»£ç†</li>
</ul>

<p>
<b>ç›¸å…³åè®®</b>
</p>

<ul class="org-ul">
<li>arp</li>
<li>rarp</li>
</ul>

<p>
<b>ç§ŸæœŸï¼š</b>
</p>

<p>
é•¿ç§ŸæœŸï¼šIPç›¸å¯¹ç¨³å®šï¼Œç½‘ç»œèµ„æºæ¶ˆè€—è¾ƒå°‘ï¼Œä½†æ˜¯æµªè´¹IPèµ„æº
</p>

<p>
çŸ­ç§ŸæœŸï¼šIPç›¸å¯¹ä¸ç¨³å®šï¼Œç½‘ç»œèµ„æºæ¶ˆè€—è¾ƒå¤šï¼Œä½†æ˜¯IPèµ„æºå¯ä»¥å……åˆ†åˆ©ç”¨ï¼Œå¯ä»¥å®ç°è¾ƒå°‘IPä¸ºè¾ƒå¤šçš„ä¸»æœºæœåŠ¡
</p>
</div>
</div>
<div id="outline-container-h:15c65f05-fc0c-46d8-bd0b-2b36b566b604" class="outline-4">
<h4 id="h:15c65f05-fc0c-46d8-bd0b-2b36b566b604">4.2 DHCPå®ç°</h4>
<div class="outline-text-4" id="text-h:15c65f05-fc0c-46d8-bd0b-2b36b566b604">
<p>
æ³¨æ„ï¼š*å®ç°DHCPæœåŠ¡å‰ï¼Œå…ˆå°†ç½‘ç»œå·²æœ‰DHCPæœåŠ¡ï¼Œå¦‚ï¼šmwareä¸­çš„DHCPå…³é—­ï¼Œè®¿æ­¢å†²çª*
</p>

<p>
DHCPæœåŠ¡çš„å®ç°è½¯ä»¶ï¼š
</p>

<ul class="org-ul">
<li>dhcpï¼ˆCentOS 7 ä¹‹å‰ç‰ˆæœ¬ï¼‰ æˆ– dhcp-serverï¼ˆCentOS 8 ä¸­çš„åŒ…åï¼‰</li>
<li>dnsmasqï¼šå°å‹æœåŠ¡è½¯ä»¶ï¼Œå¯ä»¥æä¾›dhcpå’ŒdnsåŠŸèƒ½</li>
</ul>
</div>
<div id="outline-container-h:f4cf7a43-3ef0-4a3c-a81a-9d687bd1ce55" class="outline-5">
<h5 id="h:f4cf7a43-3ef0-4a3c-a81a-9d687bd1ce55">4.2.1 DHCPç›¸å…³æ–‡ä»¶ç»„æˆ</h5>
<div class="outline-text-5" id="text-h:f4cf7a43-3ef0-4a3c-a81a-9d687bd1ce55">
<p>
<b>dhcp-server åŒ…æ–‡ä»¶ç»„æˆ</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">/usr/sbin/dhcpd dhcp&#26381;&#21153;&#20027;&#31243;&#24207;
/etc/dhcp/dhcpd.conf dhcp&#26381;&#21153;&#37197;&#32622;&#25991;&#20214;
/usr/share/doc/dhcp-server/dhcpd.conf.example <span style="color: #b22222;">#</span><span style="color: #b22222;">dhcp&#26381;&#21153;&#37197;&#32622;&#33539;&#20363;&#25991;&#20214;</span>
/usr/lib/systemd/system/dhcpd.service <span style="color: #b22222;">#</span><span style="color: #b22222;">dhcp&#26381;&#21153;service&#25991;&#20214;</span>
/var/lib/dhcpd/dhcpd.leases &#22320;&#22336;&#20998;&#37197;&#35760;&#24405;
</pre>
</div>

<p>
<b>dhcp-clientå®¢æˆ·ç«¯åŒ…</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">/usr/sbin/dhclient <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23458;&#25143;&#31471;&#31243;&#24207;</span>
/var/lib/dhclient <span style="color: #b22222;">#</span><span style="color: #b22222;">&#33258;&#21160;&#33719;&#21462;&#30340;IP&#20449;&#24687;</span>
</pre>
</div>

<p>
<b>windows å·¥å…·</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">ipconfig /release <span style="color: #b22222;">#</span><span style="color: #b22222;">&#37322;&#25918;DHCP&#33719;&#21462;&#30340;IP&#65292;&#37325;&#26032;&#30003;&#35831;IP</span>
ipconfig/renew <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21047;&#26032;&#31199;&#32422;&#65292;&#32493;&#32422;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a5525092-82fa-471c-8aef-7057960a7ba5" class="outline-5">
<h5 id="h:a5525092-82fa-471c-8aef-7057960a7ba5">4.2.2 DHCPæœåŠ¡å™¨é…ç½®æ–‡ä»¶</h5>
<div class="outline-text-5" id="text-h:a5525092-82fa-471c-8aef-7057960a7ba5">
<p>
å¸®åŠ©å‚è€ƒï¼šman 5 dhcpd.conf
</p>

<p>
/etc/dhcp/dhcpd.conf æ ¼å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">&#20840;&#23616;&#37197;&#32622;
subnet {
...
}
host {
...
}
</pre>
</div>

<p>
æ£€æŸ¥è¯­æ³•å‘½ä»¤ï¼šservice dhcpd configtest ï¼ˆCentOS 6 ä¹‹å‰ç‰ˆæœ¬æ”¯æŒï¼‰
</p>

<p>
èŒƒä¾‹ï¼šdhcpd.conf
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep -v <span style="color: #8b2252;">"#"</span> /etc/dhcp/dhcpd.conf
option domain-name <span style="color: #8b2252;">"me.org"</span>;
option domain-name-servers 180.76.76.76, 223.6.6.6;
default-lease-time 600;
max-lease-time 7200;
log-facility local7;
subnet 10.0.0.0 netmask 255.255.255.0 {
    range 10.0.0.10 10.0.0.100;
    range 10.0.0.110 10.0.0.200;
    option routers 10.0.0.2;
    next-server 10.0.0.8;
    filename <span style="color: #8b2252;">"pxelinux.0"</span>;
}

host testclient {
  hardware ethernet 00:0c:29:33:b4:1a;
  fixed-address 10.0.0.106;
  default-lease-time 86400;
  max-lease-time 864000;
  option routers 10.0.0.254;
  option domain-name-servers 114.114.114.114,8.8.8.8 ;
  option domain-name <span style="color: #8b2252;">"me.net"</span>;

}
</pre>
</div>

<p>
<b>DHCPé…ç½®æ–‡ä»¶å…¶å®ƒé…ç½®é€‰é¡¹</b> ï¼š
</p>

<ul class="org-ul">
<li>next-serverï¼šæä¾›å¼•å¯¼æ–‡ä»¶çš„æœåŠ¡å™¨IPåœ°å€</li>
<li>filename: æŒ‡æ˜å¼•å¯¼æ–‡ä»¶åç§°</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">subnet 10.0.0.0 netmask 255.255.255.0 {
  range 10.0.0.100 10.0.0.200;
  option routers 10.0.0.2;
  next-server 10.0.0.8;  <span style="color: #b22222;">#</span><span style="color: #b22222;">TFTP&#26381;&#21153;&#22120;&#22320;&#22336;</span>
  filename <span style="color: #8b2252;">"pxelinux.0"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">bootloader&#21551;&#21160;&#25991;&#20214;&#30340;&#21517;&#31216;</span>
}
</pre>
</div>

<p>
èŒƒä¾‹ï¼šdhcp å®¢æˆ·ç«¯ç”³è¯·åœ°å€çš„è¿‡ç¨‹
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#dhclient -d
Internet Systems Consortium DHCP Client 4.2.5
Copyright 2004-2013 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/

Listening on LPF/eth0/00:0c:29:01:f9:48
Sending on LPF/eth0/00:0c:29:01:f9:48
Sending on Socket/fallback
DHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 8 (<span style="color: #a0522d;">xid</span>=0x4147178b)
DHCPREQUEST on eth0 to 255.255.255.255 port 67 (<span style="color: #a0522d;">xid</span>=0x4147178b)
DHCPOFFER from 10.0.0.8
DHCPACK from 10.0.0.8 (<span style="color: #a0522d;">xid</span>=0x4147178b)
bound to 10.0.0.100 -- renewal<span style="color: #a020f0;"> in</span> 32740 seconds.

<span style="color: #b22222;">#</span><span style="color: #b22222;">DHCP&#23458;&#25143;&#31471;&#30340;&#26085;&#24535;</span>
[root@centos7 ~]#ls /var/lib/dhclient/
dhclient.leases
[root@centos7 ~]#cat /var/lib/dhclient/dhclient.leases
lease {
  interface <span style="color: #8b2252;">"eth0"</span>;
  fixed-address 10.0.0.100;
  option subnet-mask 255.255.255.0;
  option routers 10.0.0.2;
  option dhcp-lease-time 86400;
  option dhcp-message-type 5;
  option domain-name-servers 180.76.76.76,223.5.5.5,223.6.6.6;
  option dhcp-server-identifier 10.0.0.8;
  option domain-name <span style="color: #8b2252;">"me.com"</span>;
  renew 3 2020/05/27 16:18:15;
  rebind 4 2020/05/28 04:12:33;
  expire 4 2020/05/28 07:12:33;
}


<span style="color: #b22222;">#</span><span style="color: #b22222;">DHCP&#26381;&#21153;&#22120;&#30340;&#26085;&#24535;</span>
[root@centos8 ~]#tail -f /var/lib/dhcpd/dhcpd.leases
<span style="color: #b22222;"># </span><span style="color: #b22222;">The format of this file is documented in the dhcpd.leases(5) manual page.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">This lease file was written by isc-dhcp-4.3.6</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">authoring-byte-order entry is generated, DO NOT DELETE</span>
authoring-byte-order little-endian;

server-duid <span style="color: #8b2252;">"\000\001\000\001&amp;`\315\277\000\014)?s\225"</span>;

lease 10.0.0.100 {
  starts 3 2020/05/27 07:12:33;
  ends 4 2020/05/28 07:12:33;
  cltt 3 2020/05/27 07:12:33;
  binding state active;
  next binding state free;
  rewind binding state free;
  hardware ethernet 00:0c:29:01:f9:48;
}
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:49fc7f5a-d072-4a10-a665-7d1b46582c1f" class="outline-3">
<h3 id="h:49fc7f5a-d072-4a10-a665-7d1b46582c1f">5 å®ç°TFTPæœåŠ¡</h3>
<div class="outline-text-3" id="text-h:49fc7f5a-d072-4a10-a665-7d1b46582c1f">
</div>
<div id="outline-container-h:d2644526-aecb-4245-9f1b-3a3897c4c31d" class="outline-4">
<h4 id="h:d2644526-aecb-4245-9f1b-3a3897c4c31d">5.1 TFTPä»‹ç»</h4>
<div class="outline-text-4" id="text-h:d2644526-aecb-4245-9f1b-3a3897c4c31d">
<p>
TFTPï¼šTrivial File Transfer Protocol
ï¼Œæ˜¯ä¸€ç§ç”¨äºä¼ è¾“æ–‡ä»¶çš„ç®€å•é«˜çº§åè®®ï¼Œæ˜¯æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰çš„ç®€åŒ–ç‰ˆæœ¬ã€‚ç”¨æ¥ä¼ è¾“æ¯”æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTPï¼‰æ›´æ˜“äºä½¿ç”¨ä½†åŠŸèƒ½è¾ƒå°‘çš„æ–‡ä»¶
</p>

<p>
TFTPå’ŒFTPçš„åŒºåˆ«
</p>
<ol class="org-ol">
<li><p>
å®‰å…¨æ€§åŒºåˆ«
</p>

<p>
FTPæ”¯æŒç™»å½•å®‰å…¨ï¼Œå…·æœ‰é€‚å½“çš„èº«ä»½éªŒè¯å’ŒåŠ å¯†åè®®ï¼Œåœ¨å»ºç«‹è¿æ¥æœŸé—´éœ€è¦ä¸FTPèº«ä»½éªŒè¯é€šä¿¡
</p>

<p>
TFTPæ˜¯ä¸€ç§å¼€æ”¾åè®®ï¼Œç¼ºä¹å®‰å…¨æ€§ï¼Œæ²¡æœ‰åŠ å¯†æœºåˆ¶ï¼Œä¸TFTPé€šä¿¡æ—¶ä¸éœ€è¦è®¤è¯
</p></li>

<li><p>
ä¼ è¾“å±‚åè®®çš„åŒºåˆ«
</p>

<p>
FTPä½¿ç”¨TCPä½œä¸ºä¼ è¾“å±‚åè®®ï¼ŒTFTPä½¿ç”¨UDPä½œä¸ºä¼ è¾“å±‚åè®®
</p></li>

<li><p>
ä½¿ç”¨ç«¯å£çš„åŒºåˆ«
</p>

<p>
FTPä½¿ç”¨2ä¸ªç«¯å£ï¼šTCPç«¯å£21ï¼Œæ˜¯ä¸ªä¾¦å¬ç«¯å£ï¼›TCPç«¯å£20æˆ–æ›´é«˜TCPç«¯å£1024ä»¥ä¸Šç”¨äºæºè¿æ¥
</p>

<p>
TFTPä»…ä½¿ç”¨ä¸€ä¸ªå…·æœ‰åœæ­¢å’Œç­‰å¾…æ¨¡å¼çš„ç«¯å£ï¼šç«¯å£ï¼š69/udp
</p></li>

<li><p>
RFCçš„åŒºåˆ«
</p>

<p>
FTPæ˜¯åŸºäºRFC 959æ–‡æ¡£ï¼Œå¸¦æœ‰å…¶ä»–RFCæ¶µç›–å®‰å…¨æªæ–½ï¼›TFTPåŸºäºRFC 1350æ–‡æ¡£
</p></li>

<li><p>
æ‰§è¡Œå‘½ä»¤çš„åŒºåˆ«
</p>

<p>
FTPæœ‰è®¸å¤šå¯ä»¥æ‰§è¡Œçš„å‘½ä»¤ï¼ˆgetï¼Œputï¼Œlsï¼Œdirï¼Œlcdï¼‰å¹¶ä¸”å¯ä»¥åˆ—å‡ºç›®å½•ç­‰
</p>

<p>
TFTPåªæœ‰5ä¸ªæŒ‡ä»¤å¯ä»¥æ‰§è¡Œï¼ˆrrqï¼Œwrqï¼Œdataï¼Œackï¼Œerrorï¼‰
</p></li>
</ol>
</div>
</div>
<div id="outline-container-h:f85805e1-4448-4813-98d2-663717d5e5fd" class="outline-4">
<h4 id="h:f85805e1-4448-4813-98d2-663717d5e5fd">5.2 å®‰è£…å’Œä½¿ç”¨TFTP</h4>
<div class="outline-text-4" id="text-h:f85805e1-4448-4813-98d2-663717d5e5fd">
<p>
*å®‰è£…åŒ…*ï¼š
</p>

<ul class="org-ul">
<li>tftp-server #æœåŠ¡å™¨åŒ…</li>
<li>tftp #å®¢æˆ·ç«¯åŒ…</li>
</ul>

<p>
èŒƒä¾‹ï¼šå®‰è£…å¹¶ä½¿ç”¨tftpä¸‹è½½æ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;tftp&#26381;&#21153;&#22120;&#21253;</span>
[root@centos8 ~]#dnf install tftp-server -y
[root@centos8 ~]#rpm -ql tftp-server
/usr/lib/.build-id
/usr/lib/.build-id/8c
/usr/lib/.build-id/8c/6921a9fb21d66da4fb299d516bce9ee6afea34
/usr/lib/systemd/system/tftp.service   <span style="color: #b22222;">#</span><span style="color: #b22222;">tftp service&#25991;&#20214;</span>
/usr/lib/systemd/system/tftp.socket    <span style="color: #b22222;">#</span><span style="color: #b22222;">tftp socket&#25991;&#20214;</span>
/usr/sbin/in.tftpd                     <span style="color: #b22222;">#</span><span style="color: #b22222;">tftp&#20027;&#31243;&#24207;</span>
/usr/share/doc/tftp-server
/usr/share/doc/tftp-server/CHANGES
/usr/share/doc/tftp-server/README
/usr/share/doc/tftp-server/README.security
/usr/share/man/man8/in.tftpd.8.gz
/usr/share/man/man8/tftpd.8.gz
/var/lib/tftpboot                      <span style="color: #b22222;">#</span><span style="color: #b22222;">TFTP&#26381;&#21153;&#25968;&#25454;&#30446;&#24405;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#21160;&#26381;&#21153;</span>
[root@centos8 ~]#systemctl enable --now tftp.service
Created symlink /etc/systemd/system/sockets.target.wants/tftp.socket &#8594;
/usr/lib/systemd/system/tftp.socket.

[root@centos8 ~]#ss -nulp|grep tftp
UNCONN    0      0                  *:69                    *:*
users:((<span style="color: #8b2252;">"in.tftpd"</span>,<span style="color: #a0522d;">pid</span>=10100,<span style="color: #a0522d;">fd</span>=0),(<span style="color: #8b2252;">"systemd"</span>,<span style="color: #a0522d;">pid</span>=1,<span style="color: #a0522d;">fd</span>=32))

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20934;&#22791;&#27979;&#35797;&#25991;&#20214;</span>
[root@centos8 ~]#cp /etc/fstab /var/lib/tftpboot/f1.txt
[root@centos8 ~]#mkdir /var/lib/tftpboot/dir
[root@centos8 ~]#cp /etc/password /var/lib/tftpboot/dir/f2.txt

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;tftp&#23458;&#25143;&#31471;&#21253;</span>
[root@centos7 ~]#yum -y install tftp
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23458;&#25143;&#31471;&#36890;&#36807;tftp&#27979;&#35797;&#19979;&#36733;&#25991;&#20214;</span>
[root@centos7 ~]#tftp 10.0.0.8
tftp&gt; ls
?Invalid command
tftp&gt; help
tftp-hpa 5.2
Commands may be abbreviated. Commands are:

connect     connect to remote tftp
mode        set file transfer mode
put         send file
get         receive file
quit        exit tftp
verbose     toggle verbose mode
trace       toggle packet tracing
literal     toggle literal mode, ignore <span style="color: #8b2252;">':'</span><span style="color: #a020f0;"> in</span> file name
status      show current status
binary      set mode to octet
ascii       set mode to netascii
rexmt       set per-packet transmission timeout
timeout     set total retransmission timeout
?           print help information
<span style="color: #483d8b;">help</span>        print help information
tftp&gt; get f1.txt
tftp&gt; get dir/f2.txt
tftp&gt; quit
[root@centos7 ~]#ls
anaconda-ks.cfg f1.txt f2.txt

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20197;&#19979;&#22312;tftp&#26381;&#21153;&#22120;&#25191;&#34892;&#65292;&#24403;&#29992;&#25143;&#19979;&#36733;&#25991;&#20214;&#21518;&#65292;&#21487;&#20197;&#35266;&#23519;&#21040;&#26381;&#21153;&#22120;&#31471;&#33258;&#21160;&#25171;&#24320;in.tftpd&#20027;&#31243;&#24207;</span>
[root@centos8 tftpboot]#ps aux|grep in.tftp
root        1276  0.0  0.2  14912  1720 ?       Ss   12:03   0:00
/usr/sbin/in.tftpd -s /var/lib/tftpboot
root        1282  0.0  0.1  12108  960 pts/0    R+   12:04   0:00 grep --color=auto in.tftp
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:5d0555ce-164e-4d27-84e5-d5df6c104c95" class="outline-3">
<h3 id="h:5d0555ce-164e-4d27-84e5-d5df6c104c95">6 åˆ©ç”¨ PXE å®ç°è‡ªåŠ¨åŒ–ç³»ç»Ÿéƒ¨ç½²</h3>
<div class="outline-text-3" id="text-h:5d0555ce-164e-4d27-84e5-d5df6c104c95">
</div>
<div id="outline-container-h:f2f79349-fb53-4ca0-ad6d-cfd3d411a98a" class="outline-4">
<h4 id="h:f2f79349-fb53-4ca0-ad6d-cfd3d411a98a">6.1 PXEä»‹ç»</h4>
<div class="outline-text-4" id="text-h:f2f79349-fb53-4ca0-ad6d-cfd3d411a98a">
<p>
PXEï¼šPreboot Excution Environmentï¼Œé¢„å¯åŠ¨æ‰§è¡Œç¯å¢ƒï¼Œæ˜¯ç”±Intelå…¬å¸ç ”å‘ï¼Œ
åŸºäºClient/Serverçš„ç½‘ç»œæ¨¡å¼ï¼Œæ”¯æŒè¿œç¨‹ä¸»æœºé€šè¿‡ç½‘ç»œä»è¿œç«¯æœåŠ¡å™¨ä¸‹è½½æ˜ åƒï¼Œ
å¹¶ç”±æ­¤æ”¯æŒé€šè¿‡ç½‘ç»œå¯åŠ¨æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥å¼•å¯¼å’Œå®‰è£…Windowsï¼Œlinuxç­‰å¤šç§æ“ä½œ
ç³»ç»Ÿ
</p>

<p>
<b>PXEå¯åŠ¨å·¥ä½œåŸç†</b>
</p>


<figure id="orgf7ab424">
<img src="images/image-20210122143233179.png" alt="image-20210122143233179.png">

</figure>
</div>
</div>
<div id="outline-container-h:e19967b1-627c-4835-a527-1f5a797d1b4d" class="outline-4">
<h4 id="h:e19967b1-627c-4835-a527-1f5a797d1b4d">6.2 åˆ©ç”¨PXEå®ç°è‡ªåŠ¨åŒ–å®‰è£…æµç¨‹</h4>
<div class="outline-text-4" id="text-h:e19967b1-627c-4835-a527-1f5a797d1b4d">

<figure id="orga910504">
<img src="images/image-20210122143252551.png" alt="image-20210122143252551.png">

</figure>

<ol class="org-ol">
<li>Clientå‘PXE
Serverä¸Šçš„DHCPå‘é€IPåœ°å€è¯·æ±‚æ¶ˆæ¯ï¼ŒDHCPæ£€æµ‹Clientæ˜¯å¦åˆæ³•ï¼ˆä¸»è¦æ˜¯æ£€æµ‹Clientçš„ç½‘å¡MACåœ°å€ï¼‰ï¼Œå¦‚æœåˆæ³•åˆ™è¿”å›Clientçš„IPåœ°å€ï¼ŒåŒæ—¶å°†å¯åŠ¨æ–‡ä»¶pxelinux.0çš„æ‰€åœ¨TFTPæœåŠ¡å™¨åœ°å€ä¿¡æ¯ä¸€å¹¶ä¼ é€ç»™Client</li>
<li>Clientå‘TFTPæœåŠ¡å™¨å‘é€è·å–pxelinux.0è¯·æ±‚æ¶ˆæ¯ï¼ŒTFTPæœåŠ¡å™¨æ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹åï¼Œå‘Clientå‘é€pxelinux.0å¤§å°ä¿¡æ¯ï¼Œè¯•æ¢Clientæ˜¯å¦æ»¡æ„ï¼Œå½“TFTPæ”¶åˆ°Clientå‘å›çš„åŒæ„å¤§å°ä¿¡æ¯ä¹‹åï¼Œæ­£å¼å‘Clientå‘é€pxelinux.0</li>
<li>Clientæ‰§è¡Œæ¥æ”¶åˆ°çš„pxelinux.0æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨æ­¤æ–‡ä»¶å¯åŠ¨</li>
<li>Clientå‘TFTP æœåŠ¡å™¨å‘é€è¯·æ±‚é’ˆå¯¹æœ¬æœºçš„é…ç½®ä¿¡æ¯æ–‡ä»¶ï¼ˆåœ¨TFTP
æœåŠ¡å™¨çš„pxelinux.cfgç›®å½•ä¸‹ï¼‰ï¼ŒTFTPæœåŠ¡å™¨å°†å¯åŠ¨èœå•é…ç½®æ–‡ä»¶å‘å›Clientï¼Œç»§è€ŒClientæ ¹æ®å¯åŠ¨èœå•é…ç½®æ–‡ä»¶æ‰§è¡Œåç»­æ“ä½œ</li>
<li>Clientæ ¹æ®å¯åŠ¨èœå•é…ç½®æ–‡ä»¶é‡Œçš„ä¿¡æ¯ï¼Œå‘TFTPå‘é€Linuxå†…æ ¸å’Œinitrdæ–‡ä»¶è¯·æ±‚ä¿¡æ¯ï¼ŒTFTPæ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹åå°†å†…æ ¸å’Œinitrdæ–‡ä»¶å‘é€ç»™Client</li>
<li>Clientå‘TFTPå‘é€æ ¹æ–‡ä»¶è¯·æ±‚ä¿¡æ¯ï¼ŒTFTPæ¥æ”¶åˆ°æ¶ˆæ¯ä¹‹åè¿”å›Linuxæ ¹æ–‡ä»¶ç³»ç»Ÿ</li>
<li>Clientå¯åŠ¨Linuxå†…æ ¸,åŠ è½½ç›¸å…³çš„å†…æ ¸å‚æ•°</li>
<li>Clienté€šè¿‡å†…æ ¸å‚æ•°ä¸‹è½½kickstartæ–‡ä»¶ï¼Œå¹¶æ ¹æ®kickstartæ–‡ä»¶é‡Œçš„å®‰è£…ä¿¡æ¯ï¼Œä¸‹è½½å®‰è£…æºæ–‡ä»¶è¿›è¡Œè‡ªåŠ¨åŒ–å®‰è£…</li>
</ol>

<p>
*UEFI å®¢æˆ·ç«¯çš„å®‰è£…æ–‡æ¡£*ï¼š
</p>

<p>
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_an_advanced_rhel_installation/preparing-for-a-network-install_installing-rhel-as-an-experienced-user#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_an_advanced_rhel_installation/preparing-for-a-network-install_installing-rhel-as-an-experienced-user#configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install</a>
</p>
</div>
</div>
<div id="outline-container-h:35e0793c-58b7-4cf4-ad0a-d5a0c574c3e7" class="outline-4">
<h4 id="h:35e0793c-58b7-4cf4-ad0a-d5a0c574c3e7">6.3 åœ¨CentOS 6 ä¸Šå®ç°PXEè‡ªåŠ¨åŒ–å®‰è£…CentOS</h4>
<div class="outline-text-4" id="text-h:35e0793c-58b7-4cf4-ad0a-d5a0c574c3e7">
<p>
<b>6.3.1 å®‰è£…å‰å‡†å¤‡</b>
</p>

<p>
å…³é—­é˜²ç«å¢™å’ŒSELINUXï¼ŒDHCPæœåŠ¡å™¨é™æ€IP
</p>

<p>
ç½‘ç»œè¦æ±‚ï¼šå…³é—­Vmwareè½¯ä»¶ä¸­çš„DHCPæœåŠ¡
</p>

<p>
<b>6.3.2 å®‰è£…ç›¸å…³è½¯ä»¶åŒ…å¹¶å¯åŠ¨</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#yum install dhcp httpd tftp-server syslinux
[root@centos6 ~]#chkconfig tftp on
[root@centos6 ~]#chkconfig httpd on
[root@centos6 ~]#chkconfig dhcpd on
[root@centos6 ~]#service httpd start
[root@centos6 ~]#service xneted start
</pre>
</div>

<p>
<b>6.3.3 å‡†å¤‡yum æºå’Œç›¸å…³ç›®å½•</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#mkdir -pv /var/www/html/centos/6/os/x86_64
[root@centos6 ~]#mount /dev/sr0 /var/www/html/centos/6/os/x86_64
</pre>
</div>

<p>
<b>6.3.4 å‡†å¤‡kickstartæ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#mkdir /var/www/html/ks/
[root@centos6 ~]#vim /var/www/html/centos/ks/centos6.cfg
[root@centos6 ~]#grep -vE <span style="color: #8b2252;">'^#|^$'</span> /var/www/html/centos/ks/centos6.cfg
install
text
reboot
url --url=http://10.0.0.100/centos/6/os/x86_64/
lang en_US.UTF-8
keyboard us
network --onboot yes --device eth0 --bootproto dhcp --noipv6
rootpw --iscrypted
$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">b6C5mM</span>/BwOMBoK8H$<span style="color: #a0522d;">cYZFrHoNlOL0iDsxOTRhwnWJ3yfFmf7mRJBOxEqGoI56UMrT8J7qlrGwX7tS</span>
nOf7wKxYR2hAvAREILDgOgsFe1
firewall --disabled
authconfig --enableshadow --passalgo=sha512
selinux --disabled
timezone Asia/Shanghai
bootloader --location=mbr --driveorder=sda --append=<span style="color: #8b2252;">"crashkernel=auto rhgb</span>
<span style="color: #8b2252;">quiet"</span>
zerombr
clearpart --all --initlabel
part /boot --fstype=ext4 --size=1024
part / --fstype=ext4 --size=50000
part /data --fstype=ext4 --size=30000
part swap --size=2048
%packages
@core
@server-policy
@workstation-policy
autofs
vim-enhanced
%end
%post
useradd wang
<span style="color: #483d8b;">echo</span> me | passwd --stdin wang &amp;&gt; /dev/null
mkdir /etc/yum.repos.d/bak
mv /etc/yum.repos.d/* /etc/yum.repos.d/bak
cat &gt; /etc/yum.repos.d/base.repo &lt;&lt;EOF
<span style="color: #ffa54f;">[base]</span>
<span style="color: #ffa54f;">name=base</span>
<span style="color: #ffa54f;">baseurl=file:///misc/cd</span>
<span style="color: #ffa54f;">gpgcheck=0</span>
<span style="color: #ffa54f;">EOF</span>
%end
</pre>
</div>

<p>
<b>6.3.5 é…ç½®DHCPæœåŠ¡</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#cp /usr/share/doc/dhcp-4.1.1/dhcpd.conf.sample
/etc/dhcp/dhcpd.conf
[root@centos6 ~]#vim /etc/dhcp/dhcpd.conf
[root@centos6 ~]#cat /etc/dhcp/dhcpd.conf
option domain-name <span style="color: #8b2252;">"example.com"</span>;
option domain-name-servers 10.0.0.1;
subnet 10.0.0.0 netmask 255.255.255.0 {
    range 10.0.0.1 10.0.0.200;
    option routers 10.0.0.1;
    filename <span style="color: #8b2252;">"pxelinux.0"</span>;
    next-server 10.0.0.100;
}
[root@centos6 ~]#service dhcpd start
</pre>
</div>

<p>
<b>6.3.6 å‡†å¤‡PXEå¯åŠ¨ç›¸å…³æ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#mkdir /var/lib/tftpboot/pxelinux.cfg/
[root@centos6 ~]#cp /usr/share/syslinux/pxelinux.0 /var/lib/tftpboot/
[root@centos6 ~]#cd /misc/cd/images/pxeboot/
[root@centos6 ~]#cp vmlinuz initrd.img /var/lib/tftpboot
[root@centos6 ~]#Cd /misc/cd/isolinux/
[root@centos6 ~]#cp boot.msg vesamenu.c32 splash.jpg /var/lib/tftpboot
[root@centos6 ~]#cp /misc/cd/isolinux/isolinux.cfg
/var/lib/tftpboot/pxelinux.cfg/default
[root@centos6 ~]#tree /var/lib/tftpboot/
/var/lib/tftpboot/
&#9500;&#9472;&#9472; boot.msg
&#9500;&#9472;&#9472; initrd.img
&#9500;&#9472;&#9472; pxelinux.0
&#9500;&#9472;&#9472; pxelinux.cfg
&#9474; &#9492;&#9472;&#9472; default
&#9500;&#9472;&#9472; splash.jpg
&#9500;&#9472;&#9472; vesamenu.c32
&#9492;&#9472;&#9472; vmlinuz

1 directory, 7 files
</pre>
</div>

<p>
<b>6.3.7 å‡†å¤‡å¯åŠ¨èœå•æ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#vim /var/lib/tftpboot/pxelinux.cfg/default
default vesamenu.c32 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25351;&#23450;&#33756;&#21333;&#39118;&#26684;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">prompt 1</span>
timeout 600?
display boot.msg?
menu background splash.jpg
menu title Welcome to wang CentOS 6
menu color border 0 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #00000000</span>
menu color sel 7 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #ff000000</span>
menu color title 0 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #00000000</span>
menu color tabmsg 0 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #00000000</span>
menu color unsel 0 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #00000000</span>
menu color hotsel 0 <span style="color: #b22222;">#</span><span style="color: #b22222;">ff000000 #ffffffff</span>
menu color hotkey 7 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #ff000000</span>
menu color scrollbar 0 <span style="color: #b22222;">#</span><span style="color: #b22222;">ffffffff #00000000?</span>
label auto
  menu label ^Automatic Install Centos6
  kernel vmlinuz
  append <span style="color: #a0522d;">initrd</span>=initrd.img <span style="color: #a0522d;">ks</span>=http://10.0.0.100/ks/centos6.cfg
label manual
  menu label ^Manual Install Centos
  kernel vmlinuz
  append <span style="color: #a0522d;">initrd</span>=initrd.img inst.repo=http://10.0.0.100/centos/6/isos/x86_64/
label local
  menu default
  menu label Boot from ^local drive
  localboot 0xffff
</pre>
</div>

<p>
<b>6.3.8 æµ‹è¯•å®¢æˆ·ç«¯åŸºäºPXEå®ç°è‡ªåŠ¨å®‰è£…</b>
</p>

<p>
æ–°å‡†å¤‡ä¸€å°ä¸»æœºï¼Œè®¾ç½®ç½‘å¡å¼•å¯¼ï¼Œå¯çœ‹åˆ°çœ‹å¯åŠ¨èœå•ï¼Œå¹¶å®ç°è‡ªåŠ¨å®‰è£…
</p>
</div>
</div>
<div id="outline-container-h:d14d2da4-a17b-4edd-bcef-e141bc39f7ae" class="outline-4">
<h4 id="h:d14d2da4-a17b-4edd-bcef-e141bc39f7ae">6.4 åœ¨CentOS7 ä¸Šå®ç°PXEè‡ªåŠ¨åŒ–å®‰è£…CentOS</h4>
<div class="outline-text-4" id="text-h:d14d2da4-a17b-4edd-bcef-e141bc39f7ae">
<p>
<b>6.4.1 å®‰è£…å‰å‡†å¤‡</b>
</p>

<p>
å…³é—­é˜²ç«å¢™å’ŒSELINUXï¼ŒDHCPæœåŠ¡å™¨é™æ€IP
</p>

<p>
ç½‘ç»œè¦æ±‚ï¼šå…³é—­Vmwareè½¯ä»¶ä¸­çš„DHCPæœåŠ¡
</p>

<p>
<b>6.4.2 å®‰è£…ç›¸å…³è½¯ä»¶åŒ…å¹¶å¯åŠ¨æœåŠ¡</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#yum -y install httpd tftp-server dhcp syslinux system-configkickstart
[root@centos7 ~]#systemctl enable --now httpd tftp dhcpd
</pre>
</div>

<p>
æ³¨æ„ï¼šç”±äºdhcpè¿˜æ²¡æœ‰é…ç½®ï¼Œæ­¤æ—¶è¿˜æ— æ³•ç«‹å³å¯åŠ¨
</p>

<p>
<b>6.4.3 å‡†å¤‡yumæºå’Œç›¸å…³ç›®å½•</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#mkdir -pv /var/www/html/centos/7/os/x86_64
[root@centos7 ~]#mount /dev/sr0 /var/www/html/centos/7/os/x86_64
</pre>
</div>

<p>
<b>6.4.4 å‡†å¤‡kickstartæ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#mkdir /var/www/html/ks/
[root@centos7 ~]#vim /var/www/html/ks/centos7.cfg
[root@centos7 ~]#grep -vE <span style="color: #8b2252;">'^#|^$'</span> /var/www/html/ks/centos7.cfg
install
xconfig --startxonboot
keyboard --vckeymap=us --xlayouts=<span style="color: #8b2252;">'us'</span>
rootpw --iscrypted $<span style="color: #a0522d;">1</span>$<span style="color: #a0522d;">bpNEv8S5</span>$<span style="color: #a0522d;">lK</span>.CjNkf.YCpFPHskSNiN0
url --url=<span style="color: #8b2252;">"http://10.0.0.100/centos/7/os/x86_64"</span>
lang en_US
auth --useshadow --passalgo=sha512
text
firstboot --enable
selinux --disabled
skipx
services --disabled=<span style="color: #8b2252;">"chronyd"</span>
ignoredisk --only-use=sda
firewall --disabled
network --bootproto=dhcp --device=ens33
reboot
timezone Asia/Shanghai --nontp
bootloader --append=<span style="color: #8b2252;">"crashkernel=auto"</span> --location=mbr --boot-drive=sda
zerombr
clearpart --all --initlabel
part swap --fstype=<span style="color: #8b2252;">"swap"</span> --ondisk=sda --size=3072
part / --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=51200
part /boot --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=1024
part /data --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=30720
%post
useradd wang
%end
%packages
@core
%end
</pre>
</div>

<p>
<b>6.4.5 é…ç½®DHCPæœåŠ¡</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#vim /etc/dhcp/dhcpd.conf
option domain-name <span style="color: #8b2252;">"example.com"</span>;
default-lease-time 600;
max-lease-time 7200;
subnet 10.0.0.0 netmask 255.255.255.0 {
    range 10.0.0.1 10.0.0.200;
    option routers 10.0.0.1;
    next-server 10.0.0.100;
    filename <span style="color: #8b2252;">"pxelinux.0"</span>;
}
[root@centos7 ~]#systemctl start dhcpd
</pre>
</div>

<p>
<b>6.4.6 å‡†å¤‡PXEå¯åŠ¨ç›¸å…³æ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#mkdir /var/lib/tftpboot/pxelinux.cfg/
[root@centos7 ~]#cp /usr/share/syslinux/{pxelinux.0,menu.c32} /var/lib/tftpboot/
[root@centos7 ~]#cp /misc/cd/isolinux/{vmlinuz,initrd.img} /var/lib/tftpboot/
[root@centos7 ~]#cp /misc/cd/isolinux/isolinux.cfg /var/lib/tftpboot/pxelinux.cfg/default

&#26368;&#32456;&#30446;&#24405;&#25991;&#20214;&#21015;&#34920;&#22914;&#19979;&#65306;
/var/lib/tftpboot/
&#9500;&#9472;&#9472; initrd.img
&#9500;&#9472;&#9472; menu.c32
&#9500;&#9472;&#9472; pxelinux.0
&#9500;&#9472;&#9472; pxelinux.cfg
&#9474; &#9492;&#9472;&#9472; default
&#9492;&#9472;&#9472; vmlinuz
</pre>
</div>

<p>
<b>6.4.7 å‡†å¤‡å¯åŠ¨èœå•</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#Vim /var/lib/tftpboot/pxelinux.cfg/default
default menu.c32
timeout 600
menu title PXE INSTALL MENU
label auto
  menu label ^Auto Install CentOS 7
  kernel vmlinuz
  append <span style="color: #a0522d;">initrd</span>=initrd.img <span style="color: #a0522d;">ks</span>=http://10.0.0.100/ks/centos7.cfg
label manual
  menu label ^Manual Install CentOS 7
  kernel vmlinuz
  append <span style="color: #a0522d;">initrd</span>=initrd.img inst.repo=http://10.0.0.100/centos/7/os/x86_64
label local
  menu default
  menu label ^Boot from local drive
  localboot 0xffff
</pre>
</div>

<p>
<b>6.4.8 æµ‹è¯•å®¢æˆ·ç«¯åŸºäºPXEå®ç°è‡ªåŠ¨å®‰è£…</b>
</p>

<p>
æ–°å‡†å¤‡ä¸€å°ä¸»æœºï¼Œè®¾ç½®ç½‘å¡å¼•å¯¼ï¼Œå¯çœ‹åˆ°çœ‹å¯åŠ¨èœå•ï¼Œå¹¶å®ç°è‡ªåŠ¨å®‰è£…
</p>
</div>
</div>
<div id="outline-container-h:7c4af5a1-3add-442c-b338-9435272266df" class="outline-4">
<h4 id="h:7c4af5a1-3add-442c-b338-9435272266df">6.5 åœ¨ CentOS 8 ä¸Šå®ç°PXEè‡ªåŠ¨åŒ–å®‰è£… CentOS 6,7,8</h4>
<div class="outline-text-4" id="text-h:7c4af5a1-3add-442c-b338-9435272266df">
<p>
<b>6.5.1 å®‰è£…å‰å‡†å¤‡</b>
</p>

<p>
å…³é—­é˜²ç«å¢™å’ŒSELINUXï¼ŒDHCPæœåŠ¡å™¨é™æ€IP
</p>

<p>
ç½‘ç»œè¦æ±‚ï¼šå…³é—­Vmwareè½¯ä»¶ä¸­çš„DHCPæœåŠ¡ï¼ŒåŸºäºNATæ¨¡å¼
</p>

<p>
æ³¨æ„ï¼š*CentOS 7ï¼Œ8ä½¿ç”¨ 1G å†…å­˜ä¼šæç¤ºç©ºé—´ä¸è¶³ï¼Œå»ºè®®2G*
</p>

<p>
<b>6.5.2 å®‰è£…ç›¸å…³è½¯ä»¶åŒ…å¹¶å¯åŠ¨</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#dnf -y install dhcp-server tftp-server httpd syslinux-nonlinux
[root@centos8 ~]#systemctl enable --now httpd tftp dhcpd
</pre>
</div>

<p>
<b>6.5.3 é…ç½®DHCPæœåŠ¡</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cp /usr/share/doc/dhcp-server/dhcpd.conf.example
/etc/dhcp/dhcpd.conf
[root@centos8 ~]#vim /etc/dhcp/dhcpd.conf
option domain-name <span style="color: #8b2252;">"example.com"</span>;
option domain-name-servers 180.76.76.76,223.6.6.6;
default-lease-time 600;
max-lease-time 7200;
log-facility local7;
subnet 10.0.0.0 netmask 255.255.255.0 {
  range 10.0.0.1 10.0.0.200;
  option routers 10.0.0.1;
  next-server 10.0.0.100;
  filename <span style="color: #8b2252;">"pxelinux.0"</span>;
}

[root@centos8 ~]#systemctl start dhcpd
</pre>
</div>

<p>
<b>6.5.4 å‡†å¤‡yum æºå’Œç›¸å…³ç›®å½•</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#mkdir -pv /var/www/html/centos/{6,7,8}/os/x86_64/
[root@centos8 ~]#mount /dev/sr0 /var/www/html/centos/6/os/x86_64/
[root@centos8 ~]#mount /dev/sr1 /var/www/html/centos/7/os/x86_64/
[root@centos8 ~]#mount /dev/sr2 /var/www/html/centos/8/os/x86_64/
</pre>
</div>

<p>
<b>6.5.5 å‡†å¤‡kickstartæ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#mkdir /var/www/html/ks/
[root@centos8 ~]#vim /var/www/html/ks/centos6.cfg <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20869;&#23481;&#21442;&#30475;6.3.4</span>
[root@centos8 ~]#vim /var/www/html/ks/centos7.cfg <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20869;&#23481;&#21442;&#30475;6.4.4</span>
[root@centos8 ~]#vim /var/www/html/ks/centos8.cfg
[root@centos8 ~]#grep -Ev <span style="color: #8b2252;">" (#|)"</span> /var/www/html/ks/centos8.cfg
ignoredisk --only-use=sda
zerombr
text
reboot
clearpart --all --initlabel
selinux --disabled
firewall --disabled
url --url=http://10.0.0.100/centos/8/os/x86_64/
keyboard --vckeymap=us --xlayouts=<span style="color: #8b2252;">'us'</span>
lang en_US.UTF-8
network --bootproto=dhcp --device=ens160 --ipv6=auto --activate
network --hostname=centos8.me.com
rootpw --iscrypted
$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">j9YhzDUnQVnxaAk8</span>$<span style="color: #a0522d;">qv7rkMcPAEbV5yvwsP666DXWYadd3jYjkA9fpxAo9qYotjGGBUclCGoP1TRv</span>
gHBpqgc5n0RypMsPTQnVDcpO01
firstboot --enable
skipx
services --disabled=<span style="color: #8b2252;">"chronyd"</span>
timezone Asia/Shanghai --isUtc --nontp
user --name=wang --
<span style="color: #a0522d;">password</span>=6oUfb/02CWfLb5l8f$<span style="color: #a0522d;">sgEZeR7c7DpqfpmFDH6huSmDbW1XQNR4qKl2EPns</span>.gOXqlnAIgv9p
TogtFVaDtEpMOC.SWXKYqxfVtd9MCwxb1 --iscrypted --gecos=<span style="color: #8b2252;">"wang"</span>
part / --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=102400
part /data --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=51200
part swap --fstype=<span style="color: #8b2252;">"swap"</span> --ondisk=sda --size=2048
part /boot --fstype=<span style="color: #8b2252;">"ext4"</span> --ondisk=sda --size=1024
%packages
@^minimal-environment
kexec-tools
%end
%addon com_redhat_kdump --enable --reserve-mb=<span style="color: #8b2252;">'auto'</span>
%end
%anaconda
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty
%end
</pre>
</div>

<p>
<b>6.5.6 å‡†å¤‡PXEå¯åŠ¨ç›¸å…³æ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#mkdir /var/lib/tftpboot/centos{6,7,8}
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20934;&#22791;CentOS6&#65292;7&#65292;8&#21508;&#33258;&#30340;&#20869;&#26680;&#30456;&#20851;&#25991;&#20214;</span>
[root@centos8 ~]#cp /var/www/html/centos/6/os/x86_64/isolinux/{vmlinuz,initrd.img} /var/lib/tftpboot/centos6
[root@centos8 ~]#cp /var/www/html/centos/7/os/x86_64/isolinux/{vmlinuz,initrd.img} /var/lib/tftpboot/centos7
[root@centos8 ~]#cp /var/www/html/centos/8/os/x86_64/isolinux/{vmlinuz,initrd.img} /var/lib/tftpboot/centos8
[root@centos8 ~]#cp /usr/share/syslinux/{pxelinux.0,menu.c32} /var/lib/tftpboot/

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20197;&#19979;&#19977;&#20010;&#25991;&#20214;&#26159;CentOS8&#23433;&#35013;&#25152;&#24517;&#39035;&#25991;&#20214;&#65292;CentOS6&#65292;7&#21017;&#19981;&#38656;&#35201;</span>
[root@centos8 ~]#cp /var/www/html/centos/8/os/x86_64/isolinux/{ldlinux.c32,libcom32.c32,libutil.c32} /var/lib/tftpboot/

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;&#23433;&#35013;&#33756;&#21333;&#25991;&#20214;</span>
[root@centos8 ~]#mkdir /var/lib/tftpboot/pxelinux.cfg/
[root@centos8 ~]#cp /var/www/html/centos/8/os/x86_64/isolinux/isolinux.cfg /var/lib/tftpboot/pxelinux.cfg/default

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26368;&#32456;&#30446;&#24405;&#32467;&#26500;&#22914;&#19979;</span>
[root@centos8 ~]#tree /var/lib/tftpboot
<span style="color: #483d8b;">.</span>
&#9500;&#9472;&#9472; centos6
&#9474; &#9500;&#9472;&#9472; initrd.img
&#9474; &#9492;&#9472;&#9472; vmlinuz
&#9500;&#9472;&#9472; centos7
&#9474; &#9500;&#9472;&#9472; initrd.img
&#9474; &#9492;&#9472;&#9472; vmlinuz
&#9500;&#9472;&#9472; centos8
&#9474; &#9500;&#9472;&#9472; initrd.img
&#9474; &#9492;&#9472;&#9472; vmlinuz
&#9500;&#9472;&#9472; ldlinux.c32
&#9500;&#9472;&#9472; libcom32.c32
&#9500;&#9472;&#9472; libutil.c32
&#9500;&#9472;&#9472; menu.c32
&#9500;&#9472;&#9472; pxelinux.0
&#9492;&#9472;&#9472; pxelinux.cfg
&#9492;&#9472;&#9472; default

4 directories, 12 files
</pre>
</div>

<p>
<b>6.5.7 å‡†å¤‡å¯åŠ¨èœå•æ–‡ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#vim /var/lib/tftpboot/pxelinux.cfg/default
default menu.c32
timeout 600
menu title Install CentOS Linux

label linux8
  menu label Auto Install CentOS Linux ^8
  kernel centos8/vmlinuz
  append <span style="color: #a0522d;">initrd</span>=centos8/initrd.img <span style="color: #a0522d;">ks</span>=http://10.0.0.100/ks/centos8.cfg

label linux7
  menu label Auto Install CentOS Linux ^7
  kernel centos7/vmlinuz
  append <span style="color: #a0522d;">initrd</span>=centos7/initrd.img <span style="color: #a0522d;">ks</span>=http://10.0.0.100/ks/centos7.cfg

label linux6
  menu label Auto Install CentOS Linux ^6
  kernel centos6/vmlinuz
  append <span style="color: #a0522d;">initrd</span>=centos6/initrd.img <span style="color: #a0522d;">ks</span>=http://10.0.0.100/ks/centos6.cfg

label manual
  menu label ^Manual Install CentOS Linux 8.0
  kernel centos8/vmlinuz
  append <span style="color: #a0522d;">initrd</span>=centos8/initrd.img
inst.repo=http://10.0.0.100/centos/8/os/x86_64/

label rescue
  menu label ^Rescue a CentOS Linux system 8
  kernel centos8/vmlinuz
  append <span style="color: #a0522d;">initrd</span>=centos8/initrd.img
inst.repo=http://10.0.0.100/centos/8/os/x86_64/ rescue

label local
  menu default
  menu label Boot from ^local drive
  localboot 0xffff
</pre>
</div>

<p>
<b>6.5.8 æµ‹è¯•å®¢æˆ·ç«¯åŸºäºPXEå®ç°è‡ªåŠ¨å®‰è£…</b>
</p>

<p>
æ–°å‡†å¤‡ä¸€å°ä¸»æœºï¼Œè®¾ç½®ç½‘å¡å¼•å¯¼ï¼Œå¯çœ‹åˆ°çœ‹å¯åŠ¨èœå•ï¼Œå¹¶å®ç°è‡ªåŠ¨å®‰è£…
</p>

<p>
æ³¨æ„ï¼šVMware workstation å¯¹äºä¸åŒçš„CentOS
ç‰ˆæœ¬ï¼Œç”Ÿæˆçš„è™šæ‹Ÿæœºçš„ç¡¬ä»¶å¹¶ä¸å…¼å®¹
</p>


<figure id="org4e4c6ba">
<img src="images/image-20210122143404491.png" alt="image-20210122143404491.png">

</figure>


<figure id="org41b4a4b">
<img src="images/image-20210122143425770.png" alt="image-20210122143425770.png">

</figure>


<figure id="orgc4ba77e">
<img src="images/image-20210122143443239.png" alt="image-20210122143443239.png">

</figure>


<figure id="org1b3fc3d">
<img src="images/image-20210122143456477.png" alt="image-20210122143456477.png">

</figure>


<figure id="org5c73415">
<img src="images/image-20210122143512605.png" alt="image-20210122143512605.png">

</figure>


<figure id="orgdb4faa0">
<img src="images/image-20210122143521660.png" alt="image-20210122143521660.png">

</figure>


<figure id="orgcce136d">
<img src="images/image-20210122143528254.png" alt="image-20210122143528254.png">

</figure>
</div>
</div>
</div>
</section>
<section id="outline-container-h:9bd0e18c-49a8-42c6-905e-7ddf60e9fc74" class="outline-2">
<h2 id="h:9bd0e18c-49a8-42c6-905e-7ddf60e9fc74">åˆ©ç”¨cobblerå®ç°è‡ªåŠ¨åŒ–å®‰è£…</h2>
<div class="outline-text-2" id="text-h:9bd0e18c-49a8-42c6-905e-7ddf60e9fc74">
</div>
<div id="outline-container-h:846ee33b-1663-48cd-8282-339cffc02394" class="outline-3">
<h3 id="h:846ee33b-1663-48cd-8282-339cffc02394">1 Cobblerç®€ä»‹</h3>
<div class="outline-text-3" id="text-h:846ee33b-1663-48cd-8282-339cffc02394">
<ul class="org-ul">
<li>Cobbleræ˜¯ä¸€æ¬¾Linuxç”Ÿæ€çš„è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼ŒåŸºäºPython2å¼€å‘ï¼Œç”¨äºè‡ªåŠ¨åŒ–
æ‰¹é‡éƒ¨ç½²å®‰è£…æ“ä½œç³»ç»Ÿï¼›å…¶æä¾›åŸºäºCLIçš„ç®¡ç†æ–¹å¼å’ŒWEBé…ç½®ç•Œé¢ï¼Œå…¶ä¸­WEB
é…ç½®ç•Œé¢æ˜¯åŸºäºPython2å’ŒDjangoæ¡†æ¶å¼€å‘ã€‚å¦å¤–ï¼Œcobblerè¿˜æä¾›äº†APIï¼Œæ–¹
ä¾¿äºŒæ¬¡å¼€å‘ã€‚Cobblerå±äºC/Sæ¨¡å‹(å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å‹)</li>
<li>Cobblerä¸»è¦ç”¨äºå¿«é€Ÿç½‘ç»œå®‰è£…linuxæ“ä½œç³»ç»Ÿï¼Œæ”¯æŒä¼—å¤šçš„Linuxå‘è¡Œç‰ˆå¦‚ï¼šRed
Hatã€Fedoraã€CentOSã€Debianã€Ubuntuå’ŒSuSEç­‰ï¼Œç”šè‡³æ”¯æŒwindowsçš„å®‰è£…</li>
<li>Cobblerå®è´¨æ˜¯PXEçš„äºŒæ¬¡å°è£…ï¼Œå°†å¤šç§å®‰è£…å‚æ•°å°è£…åˆ°ä¸€èµ·ï¼Œå¹¶æä¾›ç»Ÿä¸€çš„ç®¡ç†æ–¹æ³•</li>
</ul>
</div>
</div>
<div id="outline-container-h:2224e0bc-3fed-4a1b-a528-2b6c463b77c9" class="outline-3">
<h3 id="h:2224e0bc-3fed-4a1b-a528-2b6c463b77c9">2 Cobblerçš„ç›¸å…³æœåŠ¡</h3>
<div class="outline-text-3" id="text-h:2224e0bc-3fed-4a1b-a528-2b6c463b77c9">
<ul class="org-ul">
<li>ä½¿ç”¨Cobblerå®‰è£…ç³»ç»Ÿéœ€è¦ä¸€å°ä¸“é—¨æä¾›å„ç§æœåŠ¡çš„æœåŠ¡å™¨ï¼Œæä¾›çš„æœåŠ¡åŒ…æ‹¬
(HTTP/FTP/NFS,TFTP,DHCP),ä¹Ÿå¯ä»¥å°†è¿™å‡ ä¸ªæœåŠ¡åˆ†åˆ«éƒ¨ç½²åˆ°ä¸åŒæœåŠ¡å™¨ã€‚äº‹
å®ä¸Šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ€»æ˜¯å°†ä¸åŒçš„æœåŠ¡åˆ†åˆ«éƒ¨ç½²åˆ°ä¸“é—¨çš„æœåŠ¡å™¨ã€‚</li>
<li>Cobbleræ˜¯åœ¨HTTPã€TFTPã€DHCPç­‰å„ç§æœåŠ¡çš„åŸºç¡€ä¸Šè¿›è¡Œç›¸å…³æ“ä½œçš„ï¼Œå®é™…å®‰
è£…çš„å¤§ä½“è¿‡ç¨‹ç±»ä¼¼äºåŸºäºPXEçš„ç½‘ç»œå®‰è£…:å®¢æˆ·ç«¯(è£¸æœº)å¼€æœºä½¿ç”¨ç½‘å¡å¼•å¯¼å¯åŠ¨ï¼Œ
å…¶è¯·æ±‚DHCPåˆ†é…ä¸€ä¸ªåœ°å€åä»TFTPæœåŠ¡å™¨è·å–å¯åŠ¨æ–‡ä»¶,åŠ è½½åˆ°å®¢æˆ·ç«¯æœ¬åœ°å†…
å­˜ä¸­è¿è¡Œï¼Œå¹¶æ˜¾ç¤ºå‡ºå¯å®‰è£…çš„ç³»ç»Ÿåˆ—è¡¨ï¼›åœ¨äººä¸ºçš„é€‰å®šå®‰è£…çš„æ“ä½œç³»ç»Ÿç±»å‹å,å®¢
æœç«¯ä¼šåˆ°HTTPæœåŠ¡å™¨ä¸‹è½½ç›¸åº”çš„ç³»ç»Ÿå®‰è£…æ–‡ä»¶å¹¶æ‰§è¡Œè‡ªåŠ¨å®‰è£…</li>
</ul>
</div>
</div>
<div id="outline-container-h:c910981f-0ea3-49eb-935d-d89655a9130d" class="outline-3">
<h3 id="h:c910981f-0ea3-49eb-935d-d89655a9130d">3 Cobblerçš„å·¥ä½œåŸç†</h3>
<div class="outline-text-3" id="text-h:c910981f-0ea3-49eb-935d-d89655a9130d">

<figure id="org68f81ed">
<img src="images/image-20210122163035806.png" alt="image-20210122163035806.png">

</figure>

<ul class="org-ul">
<li>clientè£¸æœºé…ç½®äº†ä»ç½‘ç»œå¯åŠ¨åï¼Œå¼€æœºåä¼šå¹¿æ’­åŒ…è¯·æ±‚DHCPæœåŠ¡å™¨ï¼ˆcobbler
serverï¼‰å‘é€å…¶åˆ†é…å¥½çš„ä¸€ä¸ªIP</li>
<li>DHCPæœåŠ¡å™¨ï¼ˆcobbler serverï¼‰æ”¶åˆ°è¯·æ±‚åå‘é€responeseï¼ŒåŒ…æ‹¬å…¶ipåœ°å€</li>
<li>clientè£¸æœºæ‹¿åˆ°ipåå†å‘cobbler serverå‘é€è¯·æ±‚OSå¼•å¯¼æ–‡ä»¶çš„è¯·æ±‚</li>
<li>cobbler serverå‘Šè¯‰è£¸æœºOSå¼•å¯¼æ–‡ä»¶çš„åå­—å’ŒTFTP serverçš„ipå’Œport</li>
<li>clientè£¸æœºé€šè¿‡ä¸Šé¢å‘ŠçŸ¥çš„TFTP serveråœ°å€é€šä¿¡ï¼Œä¸‹è½½å¼•å¯¼æ–‡ä»¶</li>
<li>clientè£¸æœºæ‰§è¡Œæ‰§è¡Œè¯¥å¼•å¯¼æ–‡ä»¶ï¼Œç¡®å®šåŠ è½½ä¿¡æ¯ï¼Œé€‰æ‹©è¦å®‰è£…çš„osï¼ŒæœŸé—´ä¼šå†å‘cobbler
serverè¯·æ±‚kickstartæ–‡ä»¶å’Œos image</li>
<li>cobbler serverå‘é€è¯·æ±‚çš„kickstartå’Œos iamge</li>
<li>clientè£¸æœºåŠ è½½kickstartæ–‡ä»¶</li>
<li>clientè£¸æœºæ¥æ”¶os imageï¼Œå®‰è£…è¯¥os image</li>
</ul>
</div>
</div>
<div id="outline-container-h:67c359c0-d6aa-4df6-b455-276cf1384384" class="outline-3">
<h3 id="h:67c359c0-d6aa-4df6-b455-276cf1384384">4 å®‰è£…CobbleråŠå…¶ç›¸å…³çš„æœåŠ¡å’Œç»„ä»¶</h3>
<div class="outline-text-3" id="text-h:67c359c0-d6aa-4df6-b455-276cf1384384">
<p>
Cobbleræ‰€ä¾èµ–çš„æœåŠ¡åŒ…æ‹¬HTTPD,TFTP,DHCPç­‰ï¼Œå¦‚æœæœ‰webç•Œé¢è¦æ±‚ï¼Œè¿˜éœ€è¦å®‰è£…ç›¸å…³çš„ç»„ä»¶<br>
CentOS 8ç›®å‰è¿˜æ²¡æœ‰æä¾›Cobblerç›¸å…³åŒ…
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#yum install dhcp cobbler cobbler-web pykickstart
[root@centos7 ~]#systemctl enable --now cobbler httpd tftp dhcpd
</pre>
</div>

<p>
ç›¸å…³åŒ…è¯´æ˜ï¼š
</p>

<ul class="org-ul">
<li>httpdï¼šæä¾›yumæºï¼Œå¹¶é…åˆcobbler-webä½¿å¾—cobblerå¯ä»¥é€šè¿‡webç½‘é¡µç•Œé¢è¿›è¡Œé…ç½®ç®¡ç†</li>
<li>tftp-serverï¼šæä¾›å¯åŠ¨å’Œèœå•ç­‰ç›¸å…³æ–‡ä»¶ç½‘ç»œä¸‹è½½åŠŸèƒ½</li>
<li>cobbler-web : æä¾›åŸºäºwebçš„cobblerç®¡ç†ç•Œé¢</li>
<li>pykickstart.noarch : åŸºäºpythonçš„ç®¡ç†kickstartæ–‡ä»¶çš„åº“</li>
</ul>

<p>
è¯´æ˜ï¼š
</p>

<ul class="org-ul">
<li>Cobblerä¾èµ–äºepelæºï¼Œåœ¨å®‰è£…cobblerä¹‹å‰éœ€è¦é…ç½®epelæº</li>
<li>åœ¨å®‰è£…cobbleræ—¶ä¼šè‡ªå› ä¸ºä¾èµ–è€Œå®‰è£…httpd,tftp-serverç›¸å…³åŒ…</li>
</ul>
</div>
</div>
<div id="outline-container-h:3e22b740-f396-4710-bef5-463b0a175a33" class="outline-3">
<h3 id="h:3e22b740-f396-4710-bef5-463b0a175a33">5 Cobbleré…ç½®æ–‡ä»¶åŠå„ç›®å½•æƒ…å†µ</h3>
<div class="outline-text-3" id="text-h:3e22b740-f396-4710-bef5-463b0a175a33">
</div>
<div id="outline-container-h:f1c290da-6013-4cd2-99f5-2a3ce8826311" class="outline-4">
<h4 id="h:f1c290da-6013-4cd2-99f5-2a3ce8826311">5.1 é…ç½®æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:f1c290da-6013-4cd2-99f5-2a3ce8826311">
<div class="org-src-container">
<pre class="src src-sh">/etc/cobbler/settings       <span style="color: #b22222;">#</span><span style="color: #b22222;">cobbler &#20027;&#37197;&#32622;&#25991;&#20214;</span>
/etc/cobbler/iso/         <span style="color: #b22222;">#</span><span style="color: #b22222;">iso&#27169;&#26495;&#37197;&#32622;&#25991;&#20214;</span>
/etc/cobbler/pxe        <span style="color: #b22222;">#</span><span style="color: #b22222;">pxe&#27169;&#26495;&#25991;&#20214;</span>
/etc/cobbler/power        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30005;&#28304;&#37197;&#32622;&#25991;&#20214;</span>
/etc/cobbler/user.conf      <span style="color: #b22222;">#</span><span style="color: #b22222;">web&#26381;&#21153;&#25480;&#26435;&#37197;&#32622;&#25991;&#20214;</span>
/etc/cobbler/users.digest     <span style="color: #b22222;">#</span><span style="color: #b22222;">web&#35775;&#38382;&#30340;&#29992;&#25143;&#21517;&#23494;&#30721;&#37197;&#32622;&#25991;&#20214;</span>
/etc/cobbler/dhcp.template    <span style="color: #b22222;">#</span><span style="color: #b22222;">dhcp&#26381;&#21153;&#22120;&#30340;&#30340;&#37197;&#32622;&#27169;&#26495;</span>
/etc/cobbler/dnsmasq.template   <span style="color: #b22222;">#</span><span style="color: #b22222;">dns&#26381;&#21153;&#22120;&#30340;&#37197;&#32622;&#27169;&#26495;</span>
/etc/cobbler/tftpd.template   <span style="color: #b22222;">#</span><span style="color: #b22222;">tftp&#26381;&#21153;&#30340;&#37197;&#32622;&#27169;&#26495;</span>
/etc/cobbler/modules.conf       <span style="color: #b22222;">#</span><span style="color: #b22222;">cobbler&#27169;&#22359;&#30340;&#37197;&#32622;&#25991;&#20214; </span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2241da51-0e27-4fac-8dcb-357b4053aaa4" class="outline-4">
<h4 id="h:2241da51-0e27-4fac-8dcb-357b4053aaa4">5.2 æ•°æ®ç›®å½•</h4>
<div class="outline-text-4" id="text-h:2241da51-0e27-4fac-8dcb-357b4053aaa4">
<div class="org-src-container">
<pre class="src src-sh">/var/lib/cobbler/config/   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29992;&#20110;&#23384;&#25918;distros&#65292;system&#65292;profiles &#31561;&#20449;&#24687;&#30340;&#37197;&#32622;&#25991;&#20214;</span>
/var/lib/cobbler/triggers/   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29992;&#20110;&#23384;&#25918;&#29992;&#25143;&#23450;&#20041;&#30340;cobbler&#21629;&#20196;</span>
/var/lib/cobbler/kickstarts/ <span style="color: #b22222;"># </span><span style="color: #b22222;">&#40664;&#35748;&#23384;&#25918;kickstart&#25991;&#20214;</span>
/var/lib/cobbler/loaders/    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23384;&#25918;&#21508;&#31181;&#24341;&#23548;&#31243;&#24207;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7f012b20-4f09-4620-8f52-567760f824f0" class="outline-4">
<h4 id="h:7f012b20-4f09-4620-8f52-567760f824f0">5.3 é•œåƒç›®å½•</h4>
<div class="outline-text-4" id="text-h:7f012b20-4f09-4620-8f52-567760f824f0">
<div class="org-src-container">
<pre class="src src-sh">/var/www/cobbler/ks_mirror/   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23548;&#20837;&#30340;&#21457;&#34892;&#29256;&#31995;&#32479;&#30340;&#25152;&#26377;&#25968;&#25454;</span>
/var/www/cobbler/images/    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23548;&#20837;&#21457;&#34892;&#29256;kernel&#21644;initrd&#38236;&#20687;&#29992;&#20110;&#36828;&#31243;&#32593;&#32476;&#21551;&#21160;</span>
/var/www/cobbler/repo_mirror/   <span style="color: #b22222;">#</span><span style="color: #b22222;">yum &#20179;&#24211;&#23384;&#20648;&#30446;&#24405;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cc8dcbdb-3b69-45f9-8b5c-6d6bcd51b895" class="outline-4">
<h4 id="h:cc8dcbdb-3b69-45f9-8b5c-6d6bcd51b895">5.4 æ—¥å¿—ç›®å½•</h4>
<div class="outline-text-4" id="text-h:cc8dcbdb-3b69-45f9-8b5c-6d6bcd51b895">
<div class="org-src-container">
<pre class="src src-sh">/var/log/cobbler/installing  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23458;&#25143;&#31471;&#23433;&#35013;&#26085;&#24535;</span>
/var/log/cobbler/cobbler.log <span style="color: #b22222;">#</span><span style="color: #b22222;">cobbler&#26085;&#24535;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:9a797a3f-944d-4806-9899-ea5943093313" class="outline-3">
<h3 id="h:9a797a3f-944d-4806-9899-ea5943093313">6 é…ç½®åŠå¯åŠ¨cobblerdæœåŠ¡</h3>
<div class="outline-text-3" id="text-h:9a797a3f-944d-4806-9899-ea5943093313">
<p>
æ£€æµ‹cobblerçš„è¿è¡Œç¯å¢ƒ,å¹¶æ ¹æ®æç¤ºé€æ­¥é…ç½®cobbler
</p>

<div class="org-src-container">
<pre class="src src-sh">cobbler check
The following are potential configuration items that you may want to fix:

1 : The <span style="color: #8b2252;">'server'</span> field<span style="color: #a020f0;"> in</span> /etc/cobbler/settings must be set to something other
than localhost, or kickstarting features will not work. This should be a
resolvable hostname or IP for the boot server as reachable by all machines that
will use it.
2 : For PXE to be functional, the <span style="color: #8b2252;">'next_server'</span> field<span style="color: #a020f0;"> in</span> /etc/cobbler/settings
must be set to something other than 127.0.0.1, and should match the IP of the
boot server on the PXE network.
3 : change <span style="color: #8b2252;">'disable'</span> to <span style="color: #8b2252;">'no'</span><span style="color: #a020f0;"> in</span> /etc/xinetd.d/tftp
4 : Some network boot-loaders are missing from /var/lib/cobbler/loaders, you may
run <span style="color: #8b2252;">'cobbler get-loaders'</span> to download them, or, if you only want to handle
x86/x86_64 netbooting, you may ensure that you have installed a *recent* version
of the syslinux package installed and can ignore this message entirely. Files
<span style="color: #a020f0;">in</span> this directory, should you want to support all architectures, should include
pxelinux.0, menu.c32, elilo.efi, and yaboot. The <span style="color: #8b2252;">'cobbler get-loaders'</span> command
is the easiest way to resolve these requirements.
5 : enable and start rsyncd.service with systemctl
6 : debmirror package is not installed, it will be required to manage debian
deployments and repositories
7 : ksvalidator was not found, install pykickstart
8 : The default password used by the sample templates for newly installed
<span style="color: #0000ff;">machines</span> (default_password_crypted<span style="color: #a020f0;"> in</span> /etc/cobbler/settings) is still set to
<span style="color: #8b2252;">'cobbler'</span> and should be changed, try: <span style="color: #8b2252;">"openssl passwd -1 -salt 'random-phrasehere' 'your-password-here'"</span> to generate new one
9 : fencing tools were not found, and are required to use the (optional) power
management features. install cman or fence-agents to use them

Restart cobblerd and then run <span style="color: #8b2252;">'cobbler sync'</span> to apply changes.

1.&#26356;&#25913;/etc/xinetd.d/tftp&#37197;&#32622;&#25991;&#20214;
vim /etc/xinetd.d/tftp
disable = yes --&gt; disable = no
systemctl restart xinetd
2.&#32852;&#32593;&#19979;&#36733;boot&#24341;&#23548;&#31243;&#24207;&#25991;&#20214;
cobbler get-loaders
3.&#27809;&#26377;&#32593;&#32476;&#24773;&#20917;&#19979;&#25335;&#36125;&#21551;&#21160;&#25991;&#20214;&#21040;TFTP&#26381;&#21153;&#25991;&#20214;&#22841;
cp -a /usr/share/syslinux/{pxelinux.0,menu.c32} /var/lib/tftpboot
4.&#26356;&#25913;/etc/cobbler/settings&#37197;&#32622;&#25991;&#20214;&#30340;server&#39033;&#20026;&#25552;&#20379;cobblerd&#26381;&#21153;&#30340;&#20027;&#26426;&#22320;&#22336;,&#20063;&#23601;&#26159;&#26412;&#26426;&#22320;&#22336;
sed -nri <span style="color: #8b2252;">'s#server:127.0.0.1#server:192.168.100.100#'</span> /etc/cobbler/settings
&#26356;&#25913;&#21518;&#30340;&#25972;&#34892;&#20869;&#23481;:server:192.168.100.100
5.&#26356;&#25913;/etc/cobbler/settings&#37197;&#32622;&#25991;&#20214;&#30340;next_server&#39033;&#65292;&#25351;&#26126;tftp&#26381;&#21153;&#22120;&#22320;&#22336;&#65292;&#20351;&#24471;&#23458;&#25143;&#31471;&#33021;&#22815;&#25214;&#21040;TFTP&#26381;&#21153;&#22120;
sed -i <span style="color: #8b2252;">'s/next_server: 127.0.0.1/next_server: 192.168.100.100/'</span> /etc/cobbler/settings
&#26356;&#25913;&#21518;&#30340;&#25972;&#34892;&#20869;&#23481;:next_server:192.168.100.100
6.&#37197;&#32622;&#30456;&#24212;&#30340;&#36873;&#39033;&#26469;&#20351;&#29992;cobbler&#31649;&#29702;dhcp&#26381;&#21153;&#21644;tftp&#26381;&#21153;
manage_dhcp&#65306;1
manage_tftpd&#65306;1
7.pxe_just_once&#36873;&#39033;&#65292;&#35813;&#36873;&#39033;&#32622;1&#34920;&#31034;&#22312;pxe&#23433;&#35013;&#22359;&#32467;&#26463;&#26102;&#22312;cobbler&#31995;&#32479;&#20013;&#20570;&#30456;&#24212;&#30340;&#35760;&#24405;&#65292;&#36825;&#26679;&#20250;&#36991;&#20813;
&#22914;&#26524;&#23458;&#25143;&#26426;&#30340;BIOS&#36873;&#39033;&#20013;PXE&#21551;&#21160;&#22788;&#20110;&#31532;&#19968;&#20301;&#23548;&#33268;&#30340;&#24490;&#29615;&#37325;&#21551;&#65307;&#22914;&#26524;&#31532;&#19968;&#20010;&#21551;&#21160;&#30828;&#20214;&#19981;&#26159;PXE&#21551;&#21160;&#37027;&#23601;&#32622;0&#12290;
pxe_just_once&#65306;1

&#37197;&#32622;&#23436;&#25104;&#21518;&#37325;&#21551;
systemctl restart cobblerd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e5800cf0-86ad-48c0-99cd-38fe6177a9ef" class="outline-3">
<h3 id="h:e5800cf0-86ad-48c0-99cd-38fe6177a9ef">7 cobblerå‘½ä»¤ç”¨æ³•</h3>
<div class="outline-text-3" id="text-h:e5800cf0-86ad-48c0-99cd-38fe6177a9ef">
<p>
å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼å¾—åˆ°ä½¿ç”¨å¸®åŠ©
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@Centos7 ~]#cobbler
usage
=====
cobbler &lt;distro|profile|system|repo|image|mgmtclass|package|file&gt; ... 
        [add|edit|copy|getks*|list|remove|rename|report] [options|--help]
cobbler &lt;aclsetup|buildiso|import|list|replicate|report|reposync|sync|validateks|version|signature|get-loaders|hardlink&gt; [options|--help]

[root@centos7 ~]#cobbler distro --help
usage
=====
cobbler distro add
cobbler distro copy
cobbler distro edit
cobbler distro find
cobbler distro list
cobbler distro remove
cobbler distro rename
cobbler distro report

[root@Centos7 ~]#cobbler distro add --help
Usage: cobbler [options]

Options:
  -h, --help            show this help message and exit
  --name=NAME           Name (Ex: Fedora-11-i386)
  --ctime=CTIME         
  --mtime=MTIME         
  --uid=UID
...&#30465;&#30053;...
</pre>
</div>

<p>
å¸¸è§ç”¨æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#24403;&#21069;&#23548;&#20837;&#30340;linux&#21457;&#34892;&#29256;&#26465;&#30446;</span>
cobbler distro list
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25253;&#21578;&#24403;&#21069;&#25152;&#26377;&#30340;linux&#21457;&#34892;&#29256;&#35814;&#32454;&#20449;&#24687;</span>
cobbler distro report

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23548;&#20837;&#31995;&#32479;&#28304;&#25991;&#20214;&#29983;&#25104;&#20179;&#24211;</span>
cobbler import --name=centos-8.0-x86_64 --path=/mnt --arch=x86_64

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;linux&#21457;&#34892;&#29256;&#31995;&#32479;&#38236;&#20687;&#19982;&#20854;&#23545;&#24212;&#30340;ks&#25991;&#20214;&#24314;&#31435;&#20851;&#32852;</span>
cobbler profile --name=centos7 --distro=centos7-x86_64 --
<span style="color: #a0522d;">kickstart</span>=/var/lib/cobbler/kickstarts/ks7.cfg
</pre>
</div>
</div>
</div>
<div id="outline-container-h:413ba53d-f098-4f57-bc3c-fca5dd01251e" class="outline-3">
<h3 id="h:413ba53d-f098-4f57-bc3c-fca5dd01251e">8 å°†linuxå‘è¡Œç‰ˆå¯¼å…¥åˆ°cobbleråœ¨httpdæœåŠ¡çš„æ–‡ä»¶å¤¹ä¸‹</h3>
<div class="outline-text-3" id="text-h:413ba53d-f098-4f57-bc3c-fca5dd01251e">
<p>
cobblerå°†ç³»ç»Ÿyumæºæ–‡ä»¶å­˜æ”¾åœ¨ /var/www/cobbler/ks_mirrorç›®å½•ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">cobbler import --name=centos6 --path=/var/www/html/centos/6/isos/x86_64/ --arch=x86_64
cobbler import --name=centos7 --path=/var/www/html/centos/7/isos/x86_64/ --arch=x86_64
cobbler import --name=centos8 --path=/var/www/html/centos/8/isos/x86_64/ --arch=x86_64
</pre>
</div>

<p>
å¯¼å…¥åé‡å¯å¹¶åŒæ­¥
</p>

<div class="org-src-container">
<pre class="src src-sh">systemctl restart cobblerd
cobbler sync
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#du -sh /var/www/cobbler/ks_mirror/*
11G /var/www/cobbler/ks_mirror/centos-7.7-x86_64
7.2G /var/www/cobbler/ks_mirror/centos-8.1-x86_64
12K /var/www/cobbler/ks_mirror/config
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1c59a9b5-5531-4013-87a6-09285faa2b44" class="outline-3">
<h3 id="h:1c59a9b5-5531-4013-87a6-09285faa2b44">9 é…ç½®linuxå‘è¡Œç‰ˆå’Œå…³è”ç›¸åº”çš„ksæ–‡ä»¶</h3>
<div class="outline-text-3" id="text-h:1c59a9b5-5531-4013-87a6-09285faa2b44">
<p>
æ‹·è´äº‹å…ˆå‡†å¤‡å¥½çš„ksæ–‡ä»¶è‡³/var/lib/cobbler/kickstartsç›®å½•ä¸‹
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#cp /var/www/html/ks/centos{6,7,8}.ks
/var/lib/cobbler/kickstarts
</pre>
</div>

<p>
å°†linuxå‘è¡Œç‰ˆç³»ç»Ÿé•œåƒä¸å…¶å¯¹åº”çš„ksæ–‡ä»¶å»ºç«‹å…³è”
</p>

<div class="org-src-container">
<pre class="src src-sh">cobbler profile --name=centos6 --distro=centos6-x86_64 --kickstart=/var/lib/cobbler/kickstarts/centos6.cfg
cobbler profile --name=centos7 --distro=centos7-x86_64 --kickstart=/var/lib/cobbler/kickstarts/centos7.cfg
cobbler profile --name=centos8 --distro=centos8-x86_64 --kickstart=/var/lib/cobbler/kickstarts/centos8.cfg
</pre>
</div>

<p>
æ³¨æ„ï¼Œåœ¨å¯¼å…¥distroæ—¶ï¼Œcobblerä¼šè‡ªåŠ¨ç”Ÿæˆdistroæ¡ç›®ï¼Œè¿™äº›å¹¶æœªå’Œksæ–‡ä»¶å…³è”ï¼Œå¯ä»¥ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">cobbler profile remove --name=PROFILE_NAME
</pre>
</div>

<p>
åˆ é™¤åï¼Œå†å…³è”ksæ–‡ä»¶ã€‚
</p>

<p>
å»ºç«‹å…³è”åé‡å¯å¹¶åŒæ­¥
</p>

<div class="org-src-container">
<pre class="src src-sh">systemctl restart cobblerd
cobbler sync
</pre>
</div>

<p>
æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
</p>

<div class="org-src-container">
<pre class="src src-sh">cobbler report
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@Centos7 ~]#cobbler report
distros:
==========
Name                           : centos-8.1-x86_64
Architecture                   : x86_64
TFTP Boot Files                : {}
Breed                          : redhat
Comment                        : 
Fetchable Files                : {}
Initrd                         : /var/www/cobbler/ks_mirror/centos-8.1-x86_64/images/pxeboot/initrd.img
Kernel                         : /var/www/cobbler/ks_mirror/centos-8.1-x86_64/images/pxeboot/vmlinuz
Kernel Options                 : {}
Kernel Options (Post Install)  : {}
Kickstart Metadata             : {<span style="color: #8b2252;">'tree'</span>: <span style="color: #8b2252;">'http://@@http_server@@/cblr/links/centos-8.1-x86_64'</span>}
Management Classes             : []
OS Version                     : rhel8
Owners                         : [<span style="color: #8b2252;">'admin'</span>]
Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;
<span style="color: #ffa54f;">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Template Files                 : {}</span>

<span style="color: #ffa54f;">Name                           : centos-6.10-x86_64</span>
<span style="color: #ffa54f;">Architecture                   : x86_64</span>
<span style="color: #ffa54f;">TFTP Boot Files                : {}</span>
<span style="color: #ffa54f;">Breed                          : redhat</span>
<span style="color: #ffa54f;">Comment                        : </span>
<span style="color: #ffa54f;">Fetchable Files                : {}</span>
<span style="color: #ffa54f;">Initrd                         : /var/www/cobbler/ks_mirror/centos-6.10-x86_64/images/pxeboot/initrd.img</span>
<span style="color: #ffa54f;">Kernel                         : /var/www/cobbler/ks_mirror/centos-6.10-x86_64/images/pxeboot/vmlinuz</span>
<span style="color: #ffa54f;">Kernel Options                 : {}</span>
<span style="color: #ffa54f;">Kernel Options (Post Install)  : {}</span>
<span style="color: #ffa54f;">Kickstart Metadata             : {'tree': 'http://@@http_server@@/cblr/links/centos-6.10-x86_64'}</span>
<span style="color: #ffa54f;">Management Classes             : []</span>
<span style="color: #ffa54f;">OS Version                     : rhel6</span>
<span style="color: #ffa54f;">Owners                         : ['admin']</span>
<span style="color: #ffa54f;">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Template Files                 : {}</span>


<span style="color: #ffa54f;">profiles:</span>
<span style="color: #ffa54f;">==========</span>
<span style="color: #ffa54f;">Name                           : CentOS-8.1_test</span>
<span style="color: #ffa54f;">TFTP Boot Files                : {}</span>
<span style="color: #ffa54f;">Comment                        : </span>
<span style="color: #ffa54f;">DHCP Tag                       : default</span>
<span style="color: #ffa54f;">Distribution                   : CentOS-8.1-x86_64</span>
<span style="color: #ffa54f;">Enable gPXE?                   : 0</span>
<span style="color: #ffa54f;">Enable PXE Menu?               : 1</span>
<span style="color: #ffa54f;">Fetchable Files                : {}</span>
<span style="color: #ffa54f;">Kernel Options                 : {}</span>
<span style="color: #ffa54f;">Kernel Options (Post Install)  : {}</span>
<span style="color: #ffa54f;">Kickstart                      : /var/lib/cobbler/kickstarts/centos8.cfg</span>
<span style="color: #ffa54f;">Kickstart Metadata             : {}</span>
<span style="color: #ffa54f;">Management Classes             : []</span>
<span style="color: #ffa54f;">Management Parameters          : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Name Servers                   : []</span>
<span style="color: #ffa54f;">Name Servers Search Path       : []</span>
<span style="color: #ffa54f;">Owners                         : ['admin']</span>
<span style="color: #ffa54f;">Parent Profile                 : </span>
<span style="color: #ffa54f;">Internal proxy                 : </span>
<span style="color: #ffa54f;">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Repos                          : []</span>
<span style="color: #ffa54f;">Server Override                : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Template Files                 : {}</span>
<span style="color: #ffa54f;">Virt Auto Boot                 : 1</span>
<span style="color: #ffa54f;">Virt Bridge                    : xenbr0</span>
<span style="color: #ffa54f;">Virt CPUs                      : 1</span>
<span style="color: #ffa54f;">Virt Disk Driver Type          : raw</span>
<span style="color: #ffa54f;">Virt File Size(GB)             : 5</span>
<span style="color: #ffa54f;">Virt Path                      : </span>
<span style="color: #ffa54f;">Virt RAM (MB)                  : 512</span>
<span style="color: #ffa54f;">Virt Type                      : xenpv</span>

<span style="color: #ffa54f;">Name                           : centos-8.1-x86_64</span>
<span style="color: #ffa54f;">TFTP Boot Files                : {}</span>
<span style="color: #ffa54f;">Comment                        : </span>
<span style="color: #ffa54f;">DHCP Tag                       : default</span>
<span style="color: #ffa54f;">Distribution                   : centos-8.1-x86_64</span>
<span style="color: #ffa54f;">Enable gPXE?                   : 0</span>
<span style="color: #ffa54f;">Enable PXE Menu?               : 1</span>
<span style="color: #ffa54f;">Fetchable Files                : {}</span>
<span style="color: #ffa54f;">Kernel Options                 : {}</span>
<span style="color: #ffa54f;">Kernel Options (Post Install)  : {}</span>
<span style="color: #ffa54f;">Kickstart                      : /var/lib/cobbler/kickstarts/sample_end.ks</span>
<span style="color: #ffa54f;">Kickstart Metadata             : {}</span>
<span style="color: #ffa54f;">Management Classes             : []</span>
<span style="color: #ffa54f;">Management Parameters          : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Name Servers                   : []</span>
<span style="color: #ffa54f;">Name Servers Search Path       : []</span>
<span style="color: #ffa54f;">Owners                         : ['admin']</span>
<span style="color: #ffa54f;">Parent Profile                 : </span>
<span style="color: #ffa54f;">Internal proxy                 : </span>
<span style="color: #ffa54f;">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Repos                          : []</span>
<span style="color: #ffa54f;">Server Override                : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Template Files                 : {}</span>
<span style="color: #ffa54f;">Virt Auto Boot                 : 1</span>
<span style="color: #ffa54f;">Virt Bridge                    : xenbr0</span>
<span style="color: #ffa54f;">Virt CPUs                      : 1</span>
<span style="color: #ffa54f;">Virt Disk Driver Type          : raw</span>
<span style="color: #ffa54f;">Virt File Size(GB)             : 5</span>
<span style="color: #ffa54f;">Virt Path                      : </span>
<span style="color: #ffa54f;">Virt RAM (MB)                  : 512</span>
<span style="color: #ffa54f;">Virt Type                      : kvm</span>

<span style="color: #ffa54f;">Name                           : centos-6.10-x86_64</span>
<span style="color: #ffa54f;">TFTP Boot Files                : {}</span>
<span style="color: #ffa54f;">Comment                        : </span>
<span style="color: #ffa54f;">DHCP Tag                       : default</span>
<span style="color: #ffa54f;">Distribution                   : centos-6.10-x86_64</span>
<span style="color: #ffa54f;">Enable gPXE?                   : 0</span>
<span style="color: #ffa54f;">Enable PXE Menu?               : 1</span>
<span style="color: #ffa54f;">Fetchable Files                : {}</span>
<span style="color: #ffa54f;">Kernel Options                 : {}</span>
<span style="color: #ffa54f;">Kernel Options (Post Install)  : {}</span>
<span style="color: #ffa54f;">Kickstart                      : /var/lib/cobbler/kickstarts/sample_end.ks</span>
<span style="color: #ffa54f;">Kickstart Metadata             : {}</span>
<span style="color: #ffa54f;">Management Classes             : []</span>
<span style="color: #ffa54f;">Management Parameters          : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Name Servers                   : []</span>
<span style="color: #ffa54f;">Name Servers Search Path       : []</span>
<span style="color: #ffa54f;">Owners                         : ['admin']</span>
<span style="color: #ffa54f;">Parent Profile                 : </span>
<span style="color: #ffa54f;">Internal proxy                 : </span>
<span style="color: #ffa54f;">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Repos                          : []</span>
<span style="color: #ffa54f;">Server Override                : &lt;&lt;inherit&gt;&gt;</span>
<span style="color: #ffa54f;">Template Files                 : {}</span>
<span style="color: #ffa54f;">Virt Auto Boot                 : 1</span>
<span style="color: #ffa54f;">Virt Bridge                    : xenbr0</span>
<span style="color: #ffa54f;">Virt CPUs                      : 1</span>
<span style="color: #ffa54f;">Virt Disk Driver Type          : raw</span>
<span style="color: #ffa54f;">Virt File Size(GB)             : 5</span>
<span style="color: #ffa54f;">Virt Path                      : </span>
<span style="color: #ffa54f;">Virt RAM (MB)                  : 512</span>
<span style="color: #ffa54f;">Virt Type                      : kvm</span>


<span style="color: #ffa54f;">systems:</span>
<span style="color: #ffa54f;">==========</span>

<span style="color: #ffa54f;">repos:</span>
<span style="color: #ffa54f;">==========</span>

<span style="color: #ffa54f;">images:</span>
<span style="color: #ffa54f;">==========</span>

<span style="color: #ffa54f;">mgmtclasses:</span>
<span style="color: #ffa54f;">==========</span>

<span style="color: #ffa54f;">packages:</span>
<span style="color: #ffa54f;">==========</span>

<span style="color: #ffa54f;">files:</span>
<span style="color: #ffa54f;">==========</span>
</pre>
</div>

<p>
ä¸Šé¢ä¿¡æ¯ä¸­æœ‰ä¸€è¡Œå¦‚ä¸‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">Kickstart Metadata      :  {<span style="color: #8b2252;">'tree'</span>:<span style="color: #8b2252;">'http://@@http_server@@/cblr/links/centos-8.1-x86_64'</span>}
</pre>
</div>

<p>
è¯¥è¡Œçš„å®šä¹‰åœ¨æ–‡ä»¶/var/www/cobbler/ks_mirror/config/centos8-x86_64.repo
ä¸­æ˜¯cobblerè‡ªå·±å®šä¹‰å®‰è£…æºè·¯å¾„çš„ç‰¹æœ‰è¯­æ³•è§„å®šçš„ï¼Œå› æ­¤å¯ä»¥åœ¨ksæ–‡ä»¶ä¸­æŒ‡å®š
å®‰è£…æºæ—¶ç›´æ¥æŒ‡å®šä¸º$treeå˜é‡ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">url --url=$<span style="color: #a0522d;">tree</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#vim /var/www/cobbler/ks_mirror/config/centos8-x86_64.repo
[core-0]
<span style="color: #a0522d;">name</span>=core-0
<span style="color: #a0522d;">baseurl</span>=http://@@http_server@@/cobbler/ks_mirror/centos8-x86_64/AppStream
<span style="color: #a0522d;">enabled</span>=1
<span style="color: #a0522d;">gpgcheck</span>=0
<span style="color: #a0522d;">priority</span>=$<span style="color: #a0522d;">yum_distro_priority</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0abb53cc-5e08-4708-816d-57f3279d0fe7" class="outline-3">
<h3 id="h:0abb53cc-5e08-4708-816d-57f3279d0fe7">10 å¯åŠ¨èœå•ä¼˜åŒ–</h3>
<div class="outline-text-3" id="text-h:0abb53cc-5e08-4708-816d-57f3279d0fe7">
<p>
ä¿®æ”¹/etc/cobbler/pxe/pxedefault.templateæ¨¡æ¿æ–‡ä»¶ï¼Œé‡å¯åŒæ­¥
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@Centos7 ~]#vim /etc/cobbler/pxe/pxedefault.template
DEFAULT menu
PROMPT 0
MENU TITLE Cobbler | http://www.cuiqinghe.com/   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#39033;</span>
TIMEOUT 200
TOTALTIMEOUT 6000
ONTIMEOUT $<span style="color: #a0522d;">pxe_timeout_profile</span>

LABEL local
        MENU LABEL (<span style="color: #483d8b;">local</span>)   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#39033;1</span>
        MENU DEFAULT
        LOCALBOOT -1

$<span style="color: #a0522d;">pxe_menu_items</span>

MENU end
[root@centos7 ~]#systemctl restart cobblerd
[root@centos7 ~]#cobbler sync
</pre>
</div>

<p>
é‡å¯åŒæ­¥åcobbleræ›´æ–°æ–‡ä»¶/var/lib/tftpboot/pxelinux.cfg/default
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#vim /var/lib/tftpboot/pxelinux.cfg/default
DEFAULT menu
PROMPT 0
MENU TITLE Welcome! | www.cicin.com
TIMEOUT 200
TOTALTIMEOUT 6000
ONTIMEOUT local

LABEL local
    MENU LABEL (<span style="color: #483d8b;">local</span> installation)
    MENU DEFAULT
    LOCALBOOT -1
LABEL Install_centos6
    kernel /images/centos6-x86_64/vmlinuz
    MENU LABEL Install_centos6
    append <span style="color: #a0522d;">initrd</span>=/images/centos6-x86_64/initrd.img <span style="color: #a0522d;">ksdevice</span>=bootif <span style="color: #a0522d;">lang</span>=
kssendmac text <span style="color: #a0522d;">ks</span>=http://192.168.100.100/cblr/svc/op/ks/profile/Install_centos6
    ipappend 2

LABEL Install_centos7
    kernel /images/centos7-x86_64/vmlinuz
    MENU LABEL Install_centos7
    append <span style="color: #a0522d;">initrd</span>=/images/centos7-x86_64/initrd.img <span style="color: #a0522d;">ksdevice</span>=bootif <span style="color: #a0522d;">lang</span>=
kssendmac text <span style="color: #a0522d;">ks</span>=http://192.168.100.100/cblr/svc/op/ks/profile/Install_centos7
    ipappend 2

LABEL Install_centos8
    kernel /images/centos8-x86_64/vmlinuz
    MENU LABEL Install_centos8
    append <span style="color: #a0522d;">initrd</span>=/images/centos8-x86_64/initrd.img <span style="color: #a0522d;">ksdevice</span>=bootif <span style="color: #a0522d;">lang</span>=
kssendmac text <span style="color: #a0522d;">ks</span>=http://192.168.100.100/cblr/svc/op/ks/profile/Install_centos8
    ipappend 2
MENU end
</pre>
</div>
</div>
</div>
<div id="outline-container-h:49f6ab7b-7fc5-4168-9223-b31900303ee7" class="outline-3">
<h3 id="h:49f6ab7b-7fc5-4168-9223-b31900303ee7">11 åŸºäºwebç•Œé¢æ¥ç®¡ç†é…ç½®cobbler</h3>
<div class="outline-text-3" id="text-h:49f6ab7b-7fc5-4168-9223-b31900303ee7">
</div>
<div id="outline-container-h:a1b4da20-e469-48cb-bdd4-38bf3771e981" class="outline-4">
<h4 id="h:a1b4da20-e469-48cb-bdd4-38bf3771e981">11.1 å®‰è£…cobbler-web</h4>
<div class="outline-text-4" id="text-h:a1b4da20-e469-48cb-bdd4-38bf3771e981">
<div class="org-src-container">
<pre class="src src-sh">yum install cobbler-web<span style="color: #ff00ff;">`</span>
<span style="color: #ff00ff;">systemctl restart httpd</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:85975a46-85e3-4f01-b7e4-57c1bcbe3507" class="outline-4">
<h4 id="h:85975a46-85e3-4f01-b7e4-57c1bcbe3507">11.2 è®¿é—®webç•Œé¢</h4>
<div class="outline-text-4" id="text-h:85975a46-85e3-4f01-b7e4-57c1bcbe3507">
<p>
ç”¨æµè§ˆå™¨è®¿é—®ï¼š<a href="https://cobblerserver/cobbler_web">https://cobblerserver/cobbler_web</a>
</p>

<p>
cobbler-webç•Œé¢çš„é»˜è®¤è´¦å·ï¼Œç”¨æˆ·åï¼šcobbler å¯†ç :cobbler
</p>

<p>
cobblerè®¿é—®å›¾ç¤º
</p>


<figure id="org4690c72">
<img src="images/image-20210122163721339.png" alt="image-20210122163721339.png">

</figure>


<figure id="org18b7db8">
<img src="images/image-20210122163744513.png" alt="image-20210122163744513.png">

</figure>


<figure id="org74ec400">
<img src="images/image-20210122163809074.png" alt="image-20210122163809074.png">

</figure>


<figure id="orge36c93f">
<img src="images/image-20210122163835033.png" alt="image-20210122163835033.png">

</figure>

<p>
é»˜è®¤è´¦æˆ·å¯†ç éƒ½æ˜¯:cobbler
</p>
</div>
</div>
<div id="outline-container-h:42523b01-08ea-45d4-82de-3c373a9b8a02" class="outline-4">
<h4 id="h:42523b01-08ea-45d4-82de-3c373a9b8a02">11.3 WEBçš„ç™»å½•è®¤è¯æ–¹å¼</h4>
<div class="outline-text-4" id="text-h:42523b01-08ea-45d4-82de-3c373a9b8a02">
<p>
è®¤è¯æ–¹æ³•é…ç½®æ–‡ä»¶ï¼š/etc/cobbler/modules.conf
</p>

<p>
æ”¯æŒå¤šç§è®¤è¯æ–¹æ³•ï¼š
</p>

<ul class="org-ul">
<li>authn_configfileï¼Œæ­¤ä¸ºé»˜è®¤çš„è®¤è¯æ–¹æ³•</li>
<li>authn_pam</li>
</ul>

<p>
<b>ä½¿ç”¨authn_configfileæ¨¡å—è®¤è¯cobbler_webç”¨æˆ·</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">vim /etc/cobbler/modules.conf
[authentication]
<span style="color: #a0522d;">module</span>=authn_configfile
</pre>
</div>

<p>
åˆ›å»ºå…¶è®¤è¯æ–‡ä»¶/etc/cobbler/users.digestï¼Œå¹¶æ·»åŠ æ‰€éœ€çš„ç”¨æˆ·
</p>

<div class="org-src-container">
<pre class="src src-sh">htdigest -c /etc/cobbler/users.digest Cobbler admin
</pre>
</div>

<p>
ä½¿ç”¨å·²æœ‰ç”¨æˆ·æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ æ–°ç”¨æˆ·
</p>

<div class="org-src-container">
<pre class="src src-sh">htdigest /etc/cobbler/users.digest Cobbler admin2
</pre>
</div>

<p>
æ³¨æ„ï¼š
</p>

<ul class="org-ul">
<li>ä½¿ç”¨â€œ-câ€é€‰é¡¹ç”¨äºåˆ›å»ºç”¨æˆ·æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œå°†è¦†ç›–åŸæ–‡ä»¶</li>
<li>cobbler_webçš„realmåªèƒ½ä¸ºCobbler</li>
</ul>

<p>
<b>ä½¿ç”¨authn_pamæ¨¡å—è®¤è¯cobbler_webç”¨æˆ·</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">vim /etc/cobbler/modules.conf
[authentication]
module = authn_pam

systemctl restart cobblerd
</pre>
</div>

<p>
åˆ›å»ºcobblerç”¨æˆ·ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">useradd -s /sbin/nologin cobbleruser
<span style="color: #483d8b;">echo</span> me | passwd --stdin cobbleruser
vim /etc/cobbler/users.conf
[admins]
admin = <span style="color: #8b2252;">"cobbleruser"</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:2b24fa7f-4f89-4c73-9902-45b43ebd69c0" class="outline-3">
<h3 id="h:2b24fa7f-4f89-4c73-9902-45b43ebd69c0">12 Trouble Shooting</h3>
<div class="outline-text-3" id="text-h:2b24fa7f-4f89-4c73-9902-45b43ebd69c0">
</div>
<div id="outline-container-h:241e2c1d-6ae2-485d-9a77-d44e868097ef" class="outline-4">
<h4 id="h:241e2c1d-6ae2-485d-9a77-d44e868097ef">12.1 æ•…éšœ1</h4>
<div class="outline-text-4" id="text-h:241e2c1d-6ae2-485d-9a77-d44e868097ef">

<figure id="org16826ea">
<img src="images/image-20210122163858789.png" alt="image-20210122163858789.png">

</figure>

<p>
è¿™ç§æƒ…å†µæ˜¯ksæ–‡ä»¶ä¸­çš„å®‰è£…æºè·¯å¾„å‡ºé”™,æ”¹ä¸ºå¦‚ä¸‹ï¼š
</p>

<pre class="example" id="org9b44595">
centos6: url \--url=http://httpserver/ksdir/ks.cfg æˆ–è€… url \--url=$tree
centos7: url \--url=http://httpserver/ksdir/ks.cfg æˆ–è€… url \--url=$tree
centos8: url \--url=http://httpserver/ksdir/ks.cfg æˆ–è€… url \--url=$tree
</pre>
</div>
</div>
<div id="outline-container-h:26742ff5-5406-4f7b-8225-84014a73649d" class="outline-4">
<h4 id="h:26742ff5-5406-4f7b-8225-84014a73649d">12.2 æ•…éšœ2</h4>
<div class="outline-text-4" id="text-h:26742ff5-5406-4f7b-8225-84014a73649d">

<figure id="org7cba863">
<img src="images/image-20210122163924515.png" alt="image-20210122163924515.png">

</figure>

<p>
è¿™ç§æƒ…å†µæ˜¯å› ä¸ºåœ¨å®‰è£…é…ç½®cobbleræ—¶httpdæœåŠ¡ä¸€ç›´åœ¨è¿è¡Œä¸­ï¼Œæ²¡æœ‰æ­£ç¡®çš„ä¸ºcobbleræä¾›æœåŠ¡ï¼Œå› æ­¤é‡å¯httpdæœåŠ¡å°±okäº†systemctl restart httpd
</p>
</div>
</div>
<div id="outline-container-h:0a8f2722-277a-4e21-b12c-369805f89287" class="outline-4">
<h4 id="h:0a8f2722-277a-4e21-b12c-369805f89287">12.3 æ•…éšœ3</h4>
<div class="outline-text-4" id="text-h:0a8f2722-277a-4e21-b12c-369805f89287">
<p>
httpdæœåŠ¡è¿è¡Œä¸­å®‰è£…cobbler-webåŒ…åæ— æ³•è®¿é—®<a href="https://cobblerserver/cobbler-web">https://cobblerserver/cobbler-web</a>ç®¡ç†ç•Œé¢
</p>

<p>
yumæºæ›´æ–°åçš„Djangoç‰ˆæœ¬å’Œcobblerä¸å…¼å®¹ï¼Œæ›´æ–°cobbler
2.8.5æ–°ç‰ˆåï¼Œæ­¤æ•…éšœå·²ä¿®å¤
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#25552;&#31034;&#22914;&#26524;&#26080;&#27861;&#25171;&#24320;web&#39029;&#38754;&#65292;&#21487;&#20197;&#25191;&#34892;&#38754;&#25805;&#20316;</span>
[root@centos7 ~]#yum install python2-pip
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;&#25351;&#23450;&#29256;&#26412;&#30340;Django</span>
[root@centos7 ~]#pip install <span style="color: #a0522d;">Django</span>==1.8.17
[root@centos7 ~]#systemctl restart httpd
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:6f9c7473-9754-4873-83f5-5e0eb0513b83" class="outline-3">
<h3 id="h:6f9c7473-9754-4873-83f5-5e0eb0513b83">13 å®æˆ˜æ¡ˆä¾‹ï¼šCentOS 7 åŸºäºcobblerå®ç°ç³»ç»Ÿçš„è‡ªåŠ¨åŒ–å®‰è£…</h3>
<div class="outline-text-3" id="text-h:6f9c7473-9754-4873-83f5-5e0eb0513b83">
</div>
<div id="outline-container-h:bde958da-d25a-47a2-9286-e1ee278a72af" class="outline-4">
<h4 id="h:bde958da-d25a-47a2-9286-e1ee278a72af">13.1 ç¯å¢ƒå‡†å¤‡</h4>
<div class="outline-text-4" id="text-h:bde958da-d25a-47a2-9286-e1ee278a72af">
<p>
ä¸¤å°ä¸»æœº
</p>

<p>
ä¸€å°ä¸»æœºï¼šCentOS 7 å……å½“ Cobblerï¼Œhttpï¼Œdhcpï¼ŒtftpæœåŠ¡å™¨ï¼Œå¹¶å…³é—­é˜²ç«å¢™å’ŒSELinux
</p>

<p>
ä¸€å°ä¸»æœºï¼šå……å½“æµ‹è¯•æœºï¼Œç”¨äºå®ç°è‡ªåŠ¨åŒ–å®‰è£…Linuxç³»ç»Ÿ
</p>

<p>
ç½‘ç»œè¦æ±‚ï¼šå…³é—­Vmwareè½¯ä»¶ä¸­çš„NATæ¨¡å¼ä¸­çš„DHCPæœåŠ¡ï¼Œä¸¤ä¸ªä¸»æœºç½‘å¡åŸºäºNATæ¨¡å¼
</p>
</div>
</div>
<div id="outline-container-h:d709cba2-c95f-48fa-8573-5a2c42d21e9a" class="outline-4">
<h4 id="h:d709cba2-c95f-48fa-8573-5a2c42d21e9a">13.2 å®‰è£…ç›¸å…³åŒ…å¹¶å¯åŠ¨æœåŠ¡</h4>
<div class="outline-text-4" id="text-h:d709cba2-c95f-48fa-8573-5a2c42d21e9a">
<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#yum install cobbler dhcp -y
[root@centos7 ~]#systemctl enable --now cobblerd httpd tftp dhcpd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:12d669b7-19e8-4280-a13e-2878e80fbe98" class="outline-4">
<h4 id="h:12d669b7-19e8-4280-a13e-2878e80fbe98">13.3 ä¿®æ”¹cobblerç›¸å…³çš„é…ç½®</h4>
<div class="outline-text-4" id="text-h:12d669b7-19e8-4280-a13e-2878e80fbe98">
<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#cobbler check
The following are potential configuration items that you may want to fix:

1 : The <span style="color: #8b2252;">'server'</span> field<span style="color: #a020f0;"> in</span> /etc/cobbler/settings must be set to something other
than localhost, or kickstarting features will not work. This should be a
resolvable hostname or IP for the boot server as reachable by all machines that
will use it.
2 : For PXE to be functional, the <span style="color: #8b2252;">'next_server'</span> field<span style="color: #a020f0;"> in</span> /etc/cobbler/settings
must be set to something other than 127.0.0.1, and should match the IP of the
boot server on the PXE network.
3 : change <span style="color: #8b2252;">'disable'</span> to <span style="color: #8b2252;">'no'</span><span style="color: #a020f0;"> in</span> /etc/xinetd.d/tftp
4 : Some network boot-loaders are missing from /var/lib/cobbler/loaders, you may
run <span style="color: #8b2252;">'cobbler get-loaders'</span> to download them, or, if you only want to handle
x86/x86_64 netbooting, you may ensure that you have installed a *recent* version
of the syslinux package installed and can ignore this message entirely. Files
<span style="color: #a020f0;">in</span> this directory, should you want to support all architectures, should include
pxelinux.0, menu.c32, elilo.efi, and yaboot. The <span style="color: #8b2252;">'cobbler get-loaders'</span> command
is the easiest way to resolve these requirements.
5 : enable and start rsyncd.service with systemctl
6 : debmirror package is not installed, it will be required to manage debian
deployments and repositories
7 : ksvalidator was not found, install pykickstart
8 : The default password used by the sample templates for newly installed
<span style="color: #0000ff;">machines</span> (default_password_crypted<span style="color: #a020f0;"> in</span> /etc/cobbler/settings) is still set to
<span style="color: #8b2252;">'cobbler'</span> and should be changed, try: <span style="color: #8b2252;">"openssl passwd -1 -salt 'random-phrasehere' 'your-password-here'"</span> to generate new one
9 : fencing tools were not found, and are required to use the (optional) power
management features. install cman or fence-agents to use them

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;&#26032;&#23494;&#30721;&#65292;&#40664;&#35748;&#23433;&#35013;&#22909;&#30340;&#31995;&#32479;root&#23494;&#30721;&#20026;cobbler</span>
[root@centos7 ~]#openssl passwd -1 <span style="color: #8b2252;">'me'</span>
$<span style="color: #a0522d;">1</span>$<span style="color: #a0522d;">1</span>spuisnh$<span style="color: #a0522d;">j34LNmyTQWs3l6xKxCZY60</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26681;&#25454;&#20197;&#19978;&#25552;&#31034;&#65292;&#21482;&#38656;&#35201;&#20570;1&#65292;2&#65292;8&#36825;&#19977;&#39033;&#21363;&#21487;&#65292;&#20462;&#25913;&#19979;&#38754;&#22235;&#34892;</span>
[root@centos7 ~]#vim /etc/cobbler/settings
default_password_crypted: <span style="color: #8b2252;">"$1$1spuisnh$j34LNmyTQWs3l6xKxCZY60"</span>
next_server&#65306;&lt; tftp&#26381;&#21153;&#22120;&#30340; IP &#22320;&#22336;&gt;
server&#65306;&lt;cobbler&#26381;&#21153;&#22120;&#30340; IP &#22320;&#22336;&gt;
manage_dhcp&#65306;1 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#20026;1&#65292;&#34920;&#31034;&#36890;&#36807;cobbler&#29983;&#25104;dhcpd.conf&#37197;&#32622;&#25991;&#20214;</span>

[root@centos7 ~]#systemctl restart cobblerd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d0a8b869-d191-4d90-af58-49e534e868eb" class="outline-4">
<h4 id="h:d0a8b869-d191-4d90-af58-49e534e868eb">13.4 å®ç°dhcpæœåŠ¡</h4>
<div class="outline-text-4" id="text-h:d0a8b869-d191-4d90-af58-49e534e868eb">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;dhcp&#30340;&#27169;&#29256;&#25991;&#20214;&#19979;&#38754;&#30340;&#34892;&#65292;&#29992;&#26469;&#29983;&#25104;dhcp&#30340;&#37197;&#32622;&#25991;&#20214;</span>
[root@centos7 ~]#vim /etc/cobbler/dhcp.template
subnet 192.168.100.0 netmask 255.255.255.0 {
  option routers        192.168.100.1;
  option domain-name-servers  180.76.76.76,223.6.6.6;
  option subnet-mask      255.255.255.0;
  range dynamic-bootp     192.168.100.1 192.168.100.200;

[root@centos7 ~]#cobbler sync
[root@centos7 ~]#systemctl start dhcpd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:74b1cba7-cc2c-4fbf-84a1-6a3354ee0569" class="outline-4">
<h4 id="h:74b1cba7-cc2c-4fbf-84a1-6a3354ee0569">13.5 ä¸‹è½½å¯åŠ¨çš„ç›¸å…³æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:74b1cba7-cc2c-4fbf-84a1-6a3354ee0569">
<p>
#+begin_src sh
[root@centos7 ~]#cobbler get-loaders
task started: 2020-02-10_163111_get_loaders
task started (id=Download Bootloader Content, time=Mon Feb 10 16:31:11 2020)
downloading <a href="https://cobbler.github.io/loaders/README">https://cobbler.github.io/loaders/README</a> to /var/lib/cobbler/loaders/README
downloading <a href="https://cobbler.github.io/loaders/COPYING.elilo">https://cobbler.github.io/loaders/COPYING.elilo</a> to /var/lib/cobbler/loaders/COPYING.elilo
downloading <a href="https://cobbler.github.io/loaders/COPYING.yaboot">https://cobbler.github.io/loaders/COPYING.yaboot</a> to /var/lib/cobbler/loaders/COPYING.yaboot
downloading <a href="https://cobbler.github.io/loaders/COPYING.syslinux">https://cobbler.github.io/loaders/COPYING.syslinux</a> to /var/lib/cobbler/loaders/COPYING.syslinux
downloading <a href="https://cobbler.github.io/loaders/elilo-3.8-ia64.efi">https://cobbler.github.io/loaders/elilo-3.8-ia64.efi</a> to
/var/lib/cobbler/loaders/elilo-ia64.efi
downloading <a href="https://cobbler.github.io/loaders/yaboot-1.3.17">https://cobbler.github.io/loaders/yaboot-1.3.17</a> to
/var/lib/cobbler/loaders/yaboot
downloading <a href="https://cobbler.github.io/loaders/pxelinux.0-3.86">https://cobbler.github.io/loaders/pxelinux.0-3.86</a> to
/var/lib/cobbler/loaders/pxelinux.0
downloading <a href="https://cobbler.github.io/loaders/menu.c32-3.86">https://cobbler.github.io/loaders/menu.c32-3.86</a> to
/var/lib/cobbler/loaders/menu.c32
downloading <a href="https://cobbler.github.io/loaders/grub-0.97-x86.efi">https://cobbler.github.io/loaders/grub-0.97-x86.efi</a> to
/var/lib/cobbler/loaders/grub-x86.efi
downloading <a href="https://cobbler.github.io/loaders/grub-0.97-x86_64.efi">https://cobbler.github.io/loaders/grub-0.97-x86_64.efi</a> to
/var/lib/cobbler/loaders/grub-x86_64.efi
</p>
</div>
</div>
</div>
</section>
<section id="outline-container-h:8dd009d5-7057-45e1-94e2-9e78c0ec2c3e" class="outline-2">
<h2 id="h:8dd009d5-7057-45e1-94e2-9e78c0ec2c3e">TASK COMPLETE <b>*</b></h2>
<div class="outline-text-2" id="text-h:8dd009d5-7057-45e1-94e2-9e78c0ec2c3e">
<p>
[root@centos7 ~]#ls /var/lib/cobbler/loaders
COPYING.elilo COPYING.yaboot grub-x86_64.efi menu.c32 README
COPYING.syslinux elilo-ia64.efi grub-x86.efi pxelinux.0 yaboot
</p>

<p>
[root@centos7 ~]#tree <i>var/lib/tftpboot</i>
<i>var/lib/tftpboot</i>
â”œâ”€â”€ boot
â”œâ”€â”€ etc
â”œâ”€â”€ grub
â”œâ”€â”€ images
â”œâ”€â”€ images2
â”œâ”€â”€ ppc
â”œâ”€â”€ pxelinux.cfg
â””â”€â”€ s390x
</p>

<p>
8 directories, 0 files
[root@centos7 ~]#cobbler sync
task started: 2020-02-10_163219_sync
task started (id=Sync, time=Mon Feb 10 16:32:19 2020)
running pre-sync triggers
cleaning trees
removing: /var/lib/tftpboot/grub/images
copying bootloaders
trying hardlink /var/lib/cobbler/loaders/pxelinux.0 -&gt;
/var/lib/tftpboot/pxelinux.0
trying hardlink /var/lib/cobbler/loaders/menu.c32 -&gt; /var/lib/tftpboot/menu.c32
trying hardlink /var/lib/cobbler/loaders/yaboot -&gt; /var/lib/tftpboot/yaboot
trying hardlink /usr/share/syslinux/memdisk -&gt; /var/lib/tftpboot/memdisk
trying hardlink /var/lib/cobbler/loaders/grub-x86.efi -&gt;
/var/lib/tftpboot/grub/grub-x86.efi
trying hardlink /var/lib/cobbler/loaders/grub-x86_64.efi -&gt;
/var/lib/tftpboot/grub/grub-x86_64.efi
copying distros to tftpboot
copying images
generating PXE configuration files
generating PXE menu structure
rendering TFTPD files
generating /etc/xinetd.d/tftp
cleaning link caches
running post-sync triggers
running python triggers from /var/lib/cobbler/triggers/sync/post/*
running python trigger cobbler.modules.sync_post_restart_services
running shell triggers from /var/lib/cobbler/triggers/sync/post/*
running python triggers from /var/lib/cobbler/triggers/change/*
running python trigger cobbler.modules.manage_genders
running python trigger cobbler.modules.scm_track
running shell triggers from /var/lib/cobbler/triggers/change/*
</p>
</div>
</section>
<section id="outline-container-h:60fc76b4-72de-46c8-b5e0-62c2b22ee00e" class="outline-2">
<h2 id="h:60fc76b4-72de-46c8-b5e0-62c2b22ee00e">TASK COMPLETE <b>*</b></h2>
<div class="outline-text-2" id="text-h:60fc76b4-72de-46c8-b5e0-62c2b22ee00e">
<p>
[root@centos7 ~]#tree <i>var/lib/tftpboot</i>
<i>var/lib/tftpboot</i>
â”œâ”€â”€ boot
â”‚ â””â”€â”€ grub
â”‚ â””â”€â”€ menu.lst
â”œâ”€â”€ etc
â”œâ”€â”€ grub
â”‚ â”œâ”€â”€ efidefault
â”‚ â”œâ”€â”€ grub-x86_64.efi
â”‚ â”œâ”€â”€ grub-x86.efi
â”‚ â””â”€â”€ images -&gt; ../images
â”œâ”€â”€ images
â”œâ”€â”€ images2
â”œâ”€â”€ memdisk
â”œâ”€â”€ menu.c32
â”œâ”€â”€ ppc
â”œâ”€â”€ pxelinux.0
â”œâ”€â”€ pxelinux.cfg
â”‚ â””â”€â”€ default
â”œâ”€â”€ s390x
â”‚ â””â”€â”€ profile_list
â””â”€â”€ yaboot
</p>

<p>
10 directories, 10 files
#+end_src
</p>
</div>
<div id="outline-container-h:2abea07d-83b9-4a42-b169-b81e47fbad22" class="outline-4">
<h4 id="h:2abea07d-83b9-4a42-b169-b81e47fbad22">13.6 ä¿®æ”¹èœå•çš„æ ‡é¢˜ä¿¡æ¯(å¯é€‰)</h4>
<div class="outline-text-4" id="text-h:2abea07d-83b9-4a42-b169-b81e47fbad22">
<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#vim /etc/cobbler/pxe/pxedefault.template
MENU TITLE Cobbler | http://www.cuiqinghe.com/

[root@centos7 ~]#cobbler sync
[root@centos7 ~]#cat /var/lib/tftpboot/pxelinux.cfg/default
DEFAULT menu
PROMPT 0
MENU TITLE Cobbler | http://www.me.com/ <span style="color: #b22222;">#</span><span style="color: #b22222;">&#40664;&#35748;&#20026;&#65306;http://cobbler.github.io/</span>
TIMEOUT 200
TOTALTIMEOUT 6000
ONTIMEOUT local

LABEL local
    MENU LABEL (<span style="color: #483d8b;">local</span>)
    MENU DEFAULT
    LOCALBOOT -1

MENU end

[root@centos7 ~]#cobbler sync
</pre>
</div>
</div>
</div>
<div id="outline-container-h:fffac2d3-bf31-470b-956b-a8077015674d" class="outline-4">
<h4 id="h:fffac2d3-bf31-470b-956b-a8077015674d">13.7 å¯¼å…¥CentOSç³»ç»Ÿçš„å®‰è£…æ–‡ä»¶ï¼Œç”Ÿæˆç›¸åº”çš„YUMæº</h4>
<div class="outline-text-4" id="text-h:fffac2d3-bf31-470b-956b-a8077015674d">
<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#cobbler import --name=centos-8.1-x86_64 --path=/misc/cd --arch=x86_64
[root@centos7 ~]#mount /dev/sr1 /mnt
mount: /dev/sr1 is write-protected, mounting read-only
[root@centos7 ~]#cobbler import --name=centos-7.7-x86_64 --path=/mnt --arch=x86_64
[root@centos7 ~]#du -sh /var/www/cobbler/ks_mirror/*
11G /var/www/cobbler/ks_mirror/centos-7.7-x86_64
7.2G /var/www/cobbler/ks_mirror/centos-8.1-x86_64
12K /var/www/cobbler/ks_mirror/config
[root@centos7 ~]#cobbler distro list
centos-7.7-x86_64
centos-8.1-x86_64

[root@centos7 ~]#cobbler profile list
centos-7.7-x86_64
centos-8.1-x86_64

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#40664;&#35748;&#29983;&#25104;&#30340;&#26159;&#26368;&#23567;&#21270;&#23433;&#35013;</span>
</pre>
</div>


<figure id="org5ee036c">
<img src="images/image-20210122164013278.png" alt="image-20210122164013278.png">

</figure>
</div>
</div>
<div id="outline-container-h:f0d14607-c88b-4919-a349-bd97dd133034" class="outline-4">
<h4 id="h:f0d14607-c88b-4919-a349-bd97dd133034">13.8 å‡†å¤‡ kickstartæ–‡ä»¶,å¹¶å…³è”è‡³æŒ‡å®šçš„YUMæº</h4>
<div class="outline-text-4" id="text-h:f0d14607-c88b-4919-a349-bd97dd133034">
<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#vim /var/lib/cobbler/kickstarts/centos8.cfg
[root@centos7 ~]#cat /var/lib/cobbler/kickstarts/centos8.cfg
ignoredisk --only-use=sda
zerombr
text
reboot
clearpart --all --initlabel
selinux --disabled
firewall --disabled
url --url=$<span style="color: #a0522d;">tree</span> <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27880;&#24847;&#27492;&#34892;&#24517;&#39035;&#25351;&#23450;</span>
keyboard --vckeymap=us --xlayouts=<span style="color: #8b2252;">'us'</span>
lang en_US.UTF-8
network --bootproto=dhcp --device=ens160 --ipv6=auto --activate
network --hostname=centos8.me.com
rootpw --iscrypted
$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">nOPs5JTMlP4mhQeW</span>$<span style="color: #a0522d;">R</span>/o62B6SXAh3RR.zrZ3U0X4xYX9/u5nSLrR/vqCB6kdO2XFfMk2a4yAgrHJQ
pXK/e4jzRb0jiLBv2nFMXaBjB/
firstboot --enable
skipx
services --disabled=<span style="color: #8b2252;">"chronyd"</span>
timezone Asia/Shanghai --isUtc --nontp
user --name=wang --
<span style="color: #a0522d;">password</span>=$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">oUfb</span>/02CWfLb5l8f$<span style="color: #a0522d;">sgEZeR7c7DpqfpmFDH6huSmDbW1XQNR4qKl2EPns</span>.gOXqlnAIgv
9pTogtFVaDtEpMOC.SWXKYqxfVtd9MCwxb1 --iscrypted --gecos=<span style="color: #8b2252;">"wang"</span>
part / --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=102400
part /data --fstype=<span style="color: #8b2252;">"xfs"</span> --ondisk=sda --size=51200
part swap --fstype=<span style="color: #8b2252;">"swap"</span> --ondisk=sda --size=2048
part /boot --fstype=<span style="color: #8b2252;">"ext4"</span> --ondisk=sda --size=1024
%packages
@^minimal-environment
kexec-tools
%end
%addon com_redhat_kdump --enable --reserve-mb=<span style="color: #8b2252;">'auto'</span>
%end
%anaconda
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty
%end

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;kickstart&#25991;&#20214;&#65292;&#20851;&#32852;&#25351;&#23450;&#30340;YUM&#28304;&#21644;&#29983;&#25104;&#33756;&#21333;&#21015;&#34920;</span>
[root@centos7 ~]#cobbler profile add --name=CentOS-8.1_test --distro=CentOS-8.1-x86_64 --kickstart=/var/lib/cobbler/kickstarts/centos8.cfg
[root@centos7 ~]#cobbler profile add --name=CentOS-7.7_test --distro=CentOS-7.7-x86_64 --kickstart=/var/lib/cobbler/kickstarts/centos7.cfg

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#40664;&#35748;&#29983;&#25104;&#30340;&#33756;&#21333;</span>
[root@centos7 ~]#cobbler profile remove --name=centos-8.1-x86_64
[root@centos7 ~]#cobbler profile remove --name=centos-7.7-x86_64
[root@centos7 ~]#cobbler profile list
CentOS-7.7_test
CentOS-8.1_test

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#40664;&#35748;&#30340;&#33756;&#21333;&#21015;&#34920;</span>
[root@centos7 ~]#cobbler profile remove --name=CentOS8.0-x86_64
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6ed8a4c5-215c-4124-91aa-bb410a52b649" class="outline-4">
<h4 id="h:6ed8a4c5-215c-4124-91aa-bb410a52b649">13.9 æµ‹è¯•å®¢æˆ·ç«¯åŸºäºCobblerå®ç°è‡ªåŠ¨å®‰è£…</h4>
<div class="outline-text-4" id="text-h:6ed8a4c5-215c-4124-91aa-bb410a52b649">

<figure id="orge49f905">
<img src="images/image-20210122164032051.png" alt="image-20210122164032051.png">

</figure>
</div>
</div>
<div id="outline-container-h:3fcc8058-99d5-4a37-b704-1c17c20c7590" class="outline-4">
<h4 id="h:3fcc8058-99d5-4a37-b704-1c17c20c7590">13.10 æ”¯æŒUEFIå®‰è£…</h4>
<div class="outline-text-4" id="text-h:3fcc8058-99d5-4a37-b704-1c17c20c7590">
<p>
<b>æ³¨æ„ï¼šCentOS6çš„è™šæ‹Ÿæœºä¸æ”¯æŒUEFI</b>
</p>

<p>
ä¿®æ”¹æ–‡ä»¶è®¾ç½®æ—¶é—´ï¼Œé»˜è®¤ä¸æ˜¾ç¤ºèœå•
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;&#27169;&#29256;&#25991;&#20214;</span>
[root@Centos7 ~]#vim /etc/cobbler/pxe/efidefault.template 
[root@Centos7 ~]#cat /etc/cobbler/pxe/efidefault.template
<span style="color: #a0522d;">default</span>=0
<span style="color: #a0522d;">timeout</span>=60

$<span style="color: #a0522d;">grub_menu_items</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#27169;&#29256;&#29983;&#25928;</span>
[root@Centos7 ~]#cobbler sync

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#39564;&#35777;&#29983;&#25928;</span>
[root@Centos7 ~]#head -n 2 /var/lib/tftpboot/grub/efidefault 
<span style="color: #a0522d;">default</span>=0
<span style="color: #a0522d;">timeout</span>=60
</pre>
</div>

<p>
è®¾ç½®å®¢æˆ·ç«¯çš„å¯åŠ¨ä½¿ç”¨UEFI <img src="images/image-20210122164052729.png" alt="image-20210122164052729.png">
</p>

<p>
å¯åŠ¨å®¢æˆ·æœºå¯ä»¥çœ‹åˆ°é¢ç•Œé¢
</p>

<p>
<img src="images/image-20210122164116443.png" alt="image-20210122164116443.png"> é€‰æ‹©å¯¹åº”çš„èœå•è¿›è¡Œè‡ªåŠ¨å®‰è£…
<img src="images/image-20210122164139752.png" alt="image-20210122164139752.png">
</p>


<figure id="org06db67e">
<img src="images/image-20210122164151628.png" alt="image-20210122164151628.png">

</figure>


<figure id="org1b46e5d">
<img src="images/image-20210122164210619.png" alt="image-20210122164210619.png">

</figure>


<figure id="orgfd27519">
<img src="images/image-20210122164334382.png" alt="image-20210122164334382.png">

</figure>
</div>
</div>
<div id="outline-container-h:40e18527-a8a2-4f9d-886f-8e79a63e4207" class="outline-4">
<h4 id="h:40e18527-a8a2-4f9d-886f-8e79a63e4207">13.11 å®ç°cobbler çš„webç®¡ç†</h4>
<div class="outline-text-4" id="text-h:40e18527-a8a2-4f9d-886f-8e79a63e4207">
<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#yum -y install cobbler-web
[root@centos7 ~]#systemctl restart httpd
</pre>
</div>

<p>
é€šè¿‡æµè§ˆå™¨è®¿é—®ä¸‹é¢åœ°å€ï¼š <a href="https://cobblerserver/cobbler_web">https://cobblerserver/cobbler_web</a>
</p>


<figure id="org2f7854a">
<img src="images/image-20210122164518524.png" alt="image-20210122164518524.png">

</figure>

<p>
ç”¨æˆ·åï¼šcobblerï¼Œé»˜è®¤å¯†ç ï¼šcobbler
</p>
</div>
</div>
<div id="outline-container-h:20309237-041c-469d-a5b5-9180e165ee1c" class="outline-4">
<h4 id="h:20309237-041c-469d-a5b5-9180e165ee1c">13.12 åˆ›å»ºcobblerçš„è‡ªå®šä¹‰çš„webç”¨æˆ·</h4>
<div class="outline-text-4" id="text-h:20309237-041c-469d-a5b5-9180e165ee1c">
<div class="org-src-container">
<pre class="src src-sh">[root@Centos7 ~]#cat /etc/cobbler/users.digest 
cobbler:Cobbler:a2d6bae81669d707b72c0bd9806e01f3
[root@Centos7 ~]#htdigest -c /etc/cobbler/users.digest Cobbler admin
Adding password for admin<span style="color: #a020f0;"> in</span> realm Cobbler.
New password: 
Re-type new password: 
[root@Centos7 ~]#cat /etc/cobbler/users.digest 
admin:Cobbler:4887b371b26ba94f869506d1655ad46f
3
[root@Centos7 ~]#htdigest  /etc/cobbler/users.digest Cobbler admin2
Adding user admin2<span style="color: #a020f0;"> in</span> realm Cobbler
New password: 
Re-type new password: 
[root@Centos7 ~]#cat /etc/cobbler/users.digest 
admin:Cobbler:4887b371b26ba94f869506d1655ad46f
3
admin2:Cobbler:4d98c803029c18a65aa5fcf12c56b517
</pre>
</div>

<p>
ä½¿ç”¨ä¸Šé¢å‘½ä»¤åˆ›å»ºçš„ç”¨æˆ·ç™»å½•webç•Œé¢
</p>


<figure id="org946923b">
<img src="images/image-20210122164555471.png" alt="image-20210122164555471.png">

</figure>

<p>
ç™»å½•æˆåŠŸåï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢ç•Œé¢
</p>


<figure id="org087da2a">
<img src="images/image-20210122164609166.png" alt="image-20210122164609166.png">

</figure>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>æ‰“èµ</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Â© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
