<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kubernetes: Docker 基础</title>
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<!--
<script id="MathJax-script" async="" src="/static/aandds.com/js/mathjax.js"></script>

<script type="text/javascript" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
-->
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Kubernetes: Docker 基础</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:82077d8a-d67a-4cfb-8641-433431a3773f">Docker</a>
<ul>
<li><a href="#h:da532920-6c16-41f3-b5f4-cb18c342ed48">docker 设计理念及发展历程</a></li>
<li><a href="#h:6cd35b44-9b03-4848-b07f-9c93be1dcbf1">dockerfile</a></li>
<li><a href="#h:46e77fb8-0a0b-440e-b012-c37bde74f4d0">制作镜像</a></li>
<li><a href="#h:aa7ddca4-6cbd-48d8-8908-5c11730031ed">资源清理</a></li>
</ul>
</li>
<li><a href="#h:13f655c1-ce0c-49fb-98d1-c7e9f15a4a2d">Containerd</a>
<ul>
<li><a href="#h:fd330826-1ca9-4abb-9615-62a56d0bf5b1">ctr</a></li>
<li><a href="#h:4af7892e-4f7c-45e9-92e5-3429dce619fd">crictl</a></li>
<li><a href="#h:ee91730e-ab16-4da6-b13d-27e287eb54d3">排查</a>
<ul>
<li><a href="#h:9f931570-373a-423c-a90a-f92d4e43ebdf">查看容器资源占用情况</a></li>
<li><a href="#h:e81cdf69-39c2-4c40-bbad-c181ede408c4">通过快照路径确认容器</a></li>
<li><a href="#h:7747bb68-90da-4e3b-b92b-b2eb95988995">查看容器网络情况</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../index.html">Kubernetes</a></li>
</ul>
<section id="outline-container-h:82077d8a-d67a-4cfb-8641-433431a3773f" class="outline-2">
<h2 id="h:82077d8a-d67a-4cfb-8641-433431a3773f">Docker</h2>
<div class="outline-text-2" id="text-h:82077d8a-d67a-4cfb-8641-433431a3773f">
<p>
Docker：它是一个开源的软件项目，在Linux操作系统上，docker提供了一个额
外的软件抽象层及操作系统层虚拟化的自动管理机制。
</p>
</div>
<div id="outline-container-h:da532920-6c16-41f3-b5f4-cb18c342ed48" class="outline-3">
<h3 id="h:da532920-6c16-41f3-b5f4-cb18c342ed48">docker 设计理念及发展历程</h3>
<div class="outline-text-3" id="text-h:da532920-6c16-41f3-b5f4-cb18c342ed48">
<p>
物理机：
</p>

<ol class="org-ol">
<li>安装系统</li>
<li>依赖环境
<ul class="org-ul">
<li>Java – jdk jre</li>
<li>NodeJS – Node</li>
<li>PHP – PHP</li>
</ul></li>
<li>应用程序</li>
<li>加一个物理机—&gt; 提高并发量</li>
</ol>


<p>
虚拟机：
</p>

<p>
KVM Xen
</p>

<ol class="org-ol">
<li>把一个物理机虚拟机虚拟成多个机器</li>
<li>把依赖环境打成一个系统的模板</li>
</ol>

<p>
容器化：
</p>

<p>
Docker
</p>

<ol class="org-ol">
<li>镜像基础
<ul class="org-ul">
<li>依赖环境的镜像
<ul class="org-ul">
<li>Java – Java基础的基础镜像</li>
<li>PHP – PHP基础的基础镜像</li>
</ul></li>
<li>根据基础镜像 – 放入自己的代码或者包
<ul class="org-ul">
<li>生产一个新镜像</li>
<li>程序镜像</li>
</ul></li>
<li>镜像 – 按层存储
<ul class="org-ul">
<li>A – Java  JDK1.8 
<ul class="org-ul">
<li>a.jar</li>
</ul></li>
<li>B – Java -&gt; JDK1.8
<ul class="org-ul">
<li>b.jar</li>
</ul></li>
</ul></li>
</ul></li>
</ol>

<p>
2.启动时间特别，秒级启动
</p>

<p>
容器：把自己的应用程序，根据某个依赖的基础镜像，生成一个应用程序镜像。
</p>

<p>
应用程序镜像，可以运行在任何部署了Docker环境的机器上。
</p>

<p>
Docker基本命令
</p>
<div class="org-src-container">
<pre class="src src-shell">docker version
docker info
docker search
docker pull
docker push
docker run
docker logs
docker ps
docker exec

docker cp
docker rmi
docker rm
docker tag
docker images
docker stop
docker build
docker history
docker commit
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;Docker&#29256;&#26412;</span>
[root@k8s-master01 ~]# docker version

Client: Docker Engine - Community
 Version:           19.03.4
 API version:       1.40
 Go version:        go1.12.10
 Git commit:        9013bf583a
 Built:             Fri Oct 18 15:52:22 2019
 OS/Arch:           linux/amd64
 Experimental:      false

Server: Docker Engine - Community
 Engine:
  Version:          19.03.4
  API version:      1.40 (minimum version 1.12)
  Go version:       go1.12.10
  Git commit:       9013bf583a
  Built:            Fri Oct 18 15:50:54 2019
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          1.2.6
  GitCommit:        894b81a4b802e4eb2a91d1ce216b8817763c29fb
 runc:
  Version:          1.0.0-rc8
  GitCommit:        425e105d5a03fabd737a126ad93d62a9eeede87f
 docker-init:
  Version:          0.18.0
  GitCommit:        fec3683

Docker&#35814;&#32454;&#20449;&#24687;
[root@k8s-master01 ~]# docker info

Client:
 Debug Mode: false

Server:
 Containers: 8
  Running: 4
  Paused: 0
  Stopped: 4
 Images: 8
 Server Version: 19.03.4
 Storage Driver: overlay2
        <span style="color: #b22222;"># </span><span style="color: #b22222;">aufs&#12289;overlay brtfs</span>
  Backing Filesystem: xfs
  Supports d_type: true
  Native Overlay Diff: true
 Logging Driver: json-file
<span style="color: #b22222;"># </span><span style="color: #b22222;">json-file: &#23384;&#22312;&#26412;&#22320;</span>
 Cgroup Driver: cgroupfs
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog
 Swarm: inactive
 Runtimes: runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 894b81a4b802e4eb2a91d1ce216b8817763c29fb
 runc version: 425e105d5a03fabd737a126ad93d62a9eeede87f
 init version: fec3683
 Security Options:
  seccomp
   Profile: default
 Kernel Version: 4.18.0-80.el8.x86_64
 Operating System: CentOS Linux 8 (Core)
 OSType: linux
 Architecture: x86_64
 CPUs: 2
 Total Memory: 1.764GiB
 Name: k8s-master01
 ID: PRWL:PVRE:U7JQ:LNM6:SNLN:4QDV:URQA:MWQF:XXCE:VOT3:53GL:ECC6
 Docker Root Dir: /var/lib/docker
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21487;&#20197;&#26356;&#25913;&#30340;&#65292;ssd&#30340;&#30828;&#30424;&#12290;&#26368;&#22909;&#20351;&#29992;&#19968;&#20010;&#21333;&#29420;&#30340;&#30913;&#30424;&#36827;&#34892;&#25346;&#36733;</span>
 Debug Mode: false
 Registry: https://index.docker.io/v1/
 Labels:
 Experimental: false
 Insecure Registries:
  127.0.0.0/8
 Live Restore Enabled: false



&#25628;&#32034;&#38236;&#20687;&#65306;
[root@k8s-master01 ~]# docker search centos
NAME                               DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
centos                             The official build of CentOS.                   6054                [OK]                
ansible/centos7-ansible            Ansible on Centos7                              130                                     [OK]
consol/centos-xfce-vnc             Centos container with <span style="color: #8b2252;">"headless"</span> VNC session&#8230;   116                                     [OK]
jdeathe/centos-ssh                 OpenSSH / Supervisor / EPEL/IUS/SCL Repos - &#8230;   114                                     [OK]
centos/systemd                     systemd enabled base container.                 84                                      [OK]
centos/mysql-57-centos7            MySQL 5.7 SQL database server                   77                                      
imagine10255/centos6-lnmp-php56    centos6-lnmp-php56                              58                                      [OK]
tutum/centos                       Simple CentOS docker image with SSH access      47                                      
centos/postgresql-96-centos7       PostgreSQL is an advanced Object-Relational &#8230;   45                                      
kinogmt/centos-ssh                 CentOS with SSH                                 29                                      [OK]
pivotaldata/centos-gpdb-dev        CentOS image for GPDB development. Tag names&#8230;   12                                      
guyton/centos6                     From official centos6 container with full up&#8230;   10                                      [OK]
drecom/centos-ruby                 centos ruby                                     6                                       [OK]
centos/tools                       Docker image that has systems administration&#8230;   6                                       [OK]
pivotaldata/centos                 Base centos, freshened up a little with a Do&#8230;   4                                       
pivotaldata/centos-gcc-toolchain   CentOS with a toolchain, but unaffiliated wi&#8230;   3                                       
pivotaldata/centos-mingw           Using the mingw toolchain to cross-compile t&#8230;   3                                       
darksheer/centos                   Base Centos Image -- Updated hourly             3                                       [OK]
miko2u/centos6                     CentOS6 &#26085;&#26412;&#35486;&#29872;&#22659;                                   2                                       [OK]
blacklabelops/centos               CentOS Base Image! Built and Updates Daily!     1                                       [OK]
mcnaughton/centos-base             centos base image                               1                                       [OK]
indigo/centos-maven                Vanilla CentOS 7 with Oracle Java Developmen&#8230;   1                                       [OK]
pivotaldata/centos6.8-dev          CentosOS 6.8 image for GPDB development         0                                       
smartentry/centos                  centos with smartentry                          0                                       [OK]
pivotaldata/centos7-dev            CentosOS 7 image for GPDB development           0                                       
[root@k8s-master01 ~]# docker search nginx
NAME                               DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
nginx                              Official build of Nginx.                        13358               [OK]



&#25289;&#21462;&#19968;&#20010;&#38236;&#20687;&#21040;&#26412;&#22320;&#65306;
[root@k8s-master01 ~]# docker pull alpine:latest
latest: Pulling from library/alpine
df20fa9351a1: Already exists 
Digest: sha256:185518070891758909c9f839cf4ca393ee977ac378609f700f60a771a2dfe321
Status: Downloaded newer image for alpine:latest
docker.io/library/alpine:latest

push &#25512;&#36865;&#38236;&#20687;

Docker run&#65306;&#21551;&#21160;&#19968;&#20010;&#38236;&#20687;
1.&#21069;&#21488;&#21551;&#21160;
a)[root@k8s-master01 ~]# docker run -ti centos:8 bash
b)[root@55eb31fec62e /]# whoami 
c)root
2.&#21518;&#21488;&#21551;&#21160;  
-d &#21518;&#21488;&#21551;&#21160;&#19968;&#20010;&#38236;&#20687;

&#26597;&#30475;&#23481;&#22120;&#26085;&#24535;&#65306;docker logs -f  
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6cd35b44-9b03-4848-b07f-9c93be1dcbf1" class="outline-3">
<h3 id="h:6cd35b44-9b03-4848-b07f-9c93be1dcbf1">dockerfile</h3>
<div class="outline-text-3" id="text-h:6cd35b44-9b03-4848-b07f-9c93be1dcbf1">
<pre class="example" id="org8b3d536">
FROM：继承基础镜像
MAINTAINER：镜像制作作者信息
RUN：用来执行shell命令
EXPOSE：暴露端口号
CMD：启动容器默认执行的命令
ENTRYPOINT：启动容器真正执行的命令
VOLUME：创建挂载点
ENV：配置环境变量
ADD：复制文件到容器
COPY：复制文件到容器
WORKDIR：设置容器的工作目录
USER：容器使用的用户


CMD和ENTRYPIOINT 必须要有一个
CMD可以被覆盖，如果有ENTRYPIOINT的话，CMD就是ENTRYPIOINT的参数。

ENTRYPIOINT – 》 COMMAND
CMD –》 arg
</pre>


<div class="org-src-container">
<pre class="src src-sehll">FROM centos:8
LABEL maintainer="test dockerfile"
LABEL test=dockerfile
RUN useradd dot
RUN mkdir /opt/dot
CMD [ "sh", "-c", "echo 1"]
#RUN useradd dot &amp;&amp; /opt/dot

FROM centos:8

LABEL maintainer="test dockerfile"
LABEL test=dockerfile

ENV test_env1 env1
ENV test_env2 env2
RUN useradd dot
RUN mkdir /opt/dot

#ENTRYPOINT ["echo"]
ENV env1=test1 env2=test2

ADD ./index.tar.gz /opt/
COPY ./index.tar.gz /opt/dot/
WORKDIR /opt/dot
USER 1000
CMD pwd ; ls
#RUN useradd dot &amp;&amp; /opt/dot
</pre>
</div>
</div>
</div>
<div id="outline-container-h:46e77fb8-0a0b-440e-b012-c37bde74f4d0" class="outline-3">
<h3 id="h:46e77fb8-0a0b-440e-b012-c37bde74f4d0">制作镜像</h3>
<div class="outline-text-3" id="text-h:46e77fb8-0a0b-440e-b012-c37bde74f4d0">
<p>
制作小镜像：
</p>
<ul class="org-ul">
<li>一定不要使用centos镜像</li>
<li>Alpine，busybox，scratch(空镜像)，Debian</li>
<li>Glibc： node:slim python:slim net</li>
</ul>

<p>
使用多阶段构建：编译操作和生成最终镜像的操作
</p>

<div class="org-src-container">
<pre class="src src-shell">
<span style="color: #b22222;"># </span><span style="color: #b22222;">build step</span>
FROM golang:1.14.4-alpine as builder
WORKDIR /opt

COPY main.go /opt

RUN go build /opt/main.go 

CMD <span style="color: #8b2252;">"./main"</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">create real app image</span>

FROM alpine:3.8

COPY --from=builder /opt/main /

CMD <span style="color: #8b2252;">"./opt/main"</span>



FROM php:7.1.22-fpm-alpine

RUN apk add --no-cache binutils freetype libpng libjpeg-turbo freetype-dev libpng-dev libjpeg-turbo-dev libc6-compat libxml2 libxml2-dev libmcrypt libmcrypt-dev     libc-dev   icu-dev gettext-dev  openssl-dev bzip2-dev

RUN docker-php-ext-install pdo pdo_mysql mcrypt zip gd pcntl opcache bcmath 
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install gettext </span>
RUN docker-php-ext-install mysqli 
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN apk add --no-cache php7-sysvsem php7-pdo_dblib  php7-sockets php-soap php7-xmlrpc</span>
<span style="color: #b22222;">##</span><span style="color: #b22222;">RUN apk add --no-cache php7-sysvsem php7-pdo_dblib  php7-sockets php-soap php7-xmlrpc</span>
<span style="color: #b22222;">##</span><span style="color: #b22222;">RUN apk add --no-cache freetds-dev</span>
<span style="color: #b22222;">##</span><span style="color: #b22222;">RUN docker-php-ext-install pdo_dblib </span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install soap </span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install sockets</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install sysvsem </span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install xmlrpc</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN apk add --no-cache freetds-dev</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install pdo_dblib</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN docker-php-ext-install -j$(</span><span style="color: #ff00ff;">nproc</span><span style="color: #b22222;">) gd</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">FROM php:7.1.22-fpm-alpine</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">COPY --from=0 /usr/local/lib/php/extensions/no-debug-non-zts-20160303 /usr/local/lib/php/extensions/no-debug-non-zts-20160303</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">RUN apk add --no-cache freetds-dev php7-sysvsem php7-pdo_dblib  php7-sockets php-soap php7-xmlrpc binutils freetype libpng libjpeg-turbo freetype-dev libpng-dev libjpeg-turbo-dev libc6-compat libxml2 libxml2-dev libmcrypt libmcrypt-dev     libc-dev   icu-dev gettext-dev  openssl-dev bzip2-dev &amp;&amp; cd /usr/local/lib/php/extensions/no-debug-non-zts-20160303 &amp;&amp; docker-php-ext-enable *.so  &amp;&amp; rm -rf /var/cache/apk/*</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-h:aa7ddca4-6cbd-48d8-8908-5c11730031ed" class="outline-3">
<h3 id="h:aa7ddca4-6cbd-48d8-8908-5c11730031ed">资源清理</h3>
<div class="outline-text-3" id="text-h:aa7ddca4-6cbd-48d8-8908-5c11730031ed">
<p>
Docker 18.09 引入了 BuildKit ，提升了构建过程的性能、安全、存储管理等能力。
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#30913;&#30424;&#20351;&#29992;&#24773;&#20917;</span>
docker system df

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#25152;&#26377;&#24773;&#20917;</span>
docker system df -v

&#23637;&#31034;&#20197;&#19979;&#37096;&#20998;
Images space usage:
Containers space usage:
Local Volumes space usage:
Build cache usage: 
</pre>
</div>
<p>
清理
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#21344;&#29992;&#23384;&#20648;&#31354;&#38388;&#65292;&#21448;&#27809;&#26377;&#29992;&#30340;&#23481;&#22120;</span>
docker images -aq -f <span style="color: #8b2252;">'dangling=true'</span> | xargs docker rmi

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#28165;&#29702;&#20851;&#38381;&#30340;&#23481;&#22120;&#12289;&#26080;&#29992;&#30340;&#25968;&#25454;&#21367;&#21644;&#32593;&#32476;&#31561;</span>
docker system prune

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36830;&#21516;&#27809;&#26377;&#23481;&#22120;&#20351;&#29992;&#30340;&#38236;&#20687;&#19968;&#36215;&#28165;&#38500;</span>
docker system prune -a
</pre>
</div>

<p>
构建缓存清理
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#29702;&#25152;&#26377;&#26500;&#24314;&#32531;&#23384;</span>
docker builder prune

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#29702;10&#22825;&#20043;&#21069;&#30340;&#32531;&#23384;</span>
docker builder prune --filter <span style="color: #8b2252;">'until=240h'</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31995;&#32479;crontab &#23450;&#26102;&#28165;&#29702;</span>
0 0 * * * echo <span style="color: #8b2252;">'y'</span>| docker builder prune
</pre>
</div>

<p>
删除
</p>
<div class="org-src-container">
<pre class="src src-sh">docker stop $(<span style="color: #ff00ff;">docker ps -a | grep "Exited" | awk '{print $1 }'</span>)  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20572;&#27490;&#23481;&#22120;</span>
docker rm $(<span style="color: #ff00ff;">docker ps -a | grep "Exited" | awk '{print $1 }'</span>)  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#23481;&#22120;</span>
docker rmi $(<span style="color: #ff00ff;">docker images | grep "none" | awk '{print $3}'</span>)  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#38236;&#20687;</span>

docker rmi $(<span style="color: #ff00ff;">docker images -q</span>) -f <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;&#25152;&#26377;&#38236;&#20687; &#35880;&#24910;&#20351;&#29992;</span>
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-h:13f655c1-ce0c-49fb-98d1-c7e9f15a4a2d" class="outline-2">
<h2 id="h:13f655c1-ce0c-49fb-98d1-c7e9f15a4a2d">Containerd</h2>
<div class="outline-text-2" id="text-h:13f655c1-ce0c-49fb-98d1-c7e9f15a4a2d">
</div>
<div id="outline-container-h:fd330826-1ca9-4abb-9615-62a56d0bf5b1" class="outline-3">
<h3 id="h:fd330826-1ca9-4abb-9615-62a56d0bf5b1">ctr</h3>
<div class="outline-text-3" id="text-h:fd330826-1ca9-4abb-9615-62a56d0bf5b1">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#38236;&#20687;</span>
ctr ns list 
ctr --namespace k8s.io containers ls
ctr --namespace k8s.io images ls
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4af7892e-4f7c-45e9-92e5-3429dce619fd" class="outline-3">
<h3 id="h:4af7892e-4f7c-45e9-92e5-3429dce619fd">crictl</h3>
<div class="outline-text-3" id="text-h:4af7892e-4f7c-45e9-92e5-3429dce619fd">
<p>
containerd 自带的 ctr 命令工具功能有限
</p>

<p>
<a href="https://github.com/kubernetes-sigs/cri-tools">https://github.com/kubernetes-sigs/cri-tools</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">VERSION</span>=<span style="color: #8b2252;">"v1.31.1"</span>
wget https://github.com/kubernetes-sigs/cri-tools/releases/download/$<span style="color: #a0522d;">VERSION</span>/crictl-$<span style="color: #a0522d;">VERSION</span>-linux-amd64.tar.gz
sudo tar zxvf crictl-$<span style="color: #a0522d;">VERSION</span>-linux-amd64.tar.gz -C /usr/local/bin
rm -f crictl-$<span style="color: #a0522d;">VERSION</span>-linux-amd64.tar.gz
</pre>
</div>

<p>
设置一个连接端点
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;EOF | sudo tee /etc/crictl.yaml
<span style="color: #ffa54f;">runtime-endpoint: unix:///run/containerd/containerd.sock</span>
<span style="color: #ffa54f;">image-endpoint: unix:///run/containerd/containerd.sock</span>
<span style="color: #ffa54f;">timeout: 10</span>
<span style="color: #ffa54f;">debug: false</span>
<span style="color: #ffa54f;">EOF</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">1. &#20551;&#22914;&#20351;&#29992;&#30340;&#26159; docker:</span>
cat &lt;&lt;EOF | sudo tee /etc/crictl.yaml
<span style="color: #ffa54f;">runtime-endpoint: unix:///var/run/cri-dockerd.sock</span>
<span style="color: #ffa54f;">image-endpoint: unix:///var/run/cri-dockerd.sock</span>
<span style="color: #ffa54f;">timeout: 10</span>
<span style="color: #ffa54f;">debug: false</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">2. cri-o:</span>
cat &lt;&lt;EOF | sudo tee /etc/crictl.yaml
<span style="color: #ffa54f;">runtime-endpoint: unix:///var/run/crio/crio.sock</span>
<span style="color: #ffa54f;">image-endpoint: unix:///var/run/crio/crio.sock</span>
<span style="color: #ffa54f;">timeout: 10</span>
<span style="color: #ffa54f;">debug: false</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#27979;&#35797;&#36830;&#25509;</span>
crictl info
</pre>
</div>

<p>
常用命令
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#24110;&#21161;</span>
crictl &lt;subcommand&gt; help

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21015;&#20986;&#25152;&#26377;&#38236;&#20687;</span>
crictl img <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;&#32773; crictl images</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#38236;&#20687;&#35814;&#24773;</span>
crictl inspecti &lt;image-id&gt;
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25289;&#21462;&#38236;&#20687;</span>
crictl pull &lt;image-name&gt;
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#36816;&#34892;&#20013;&#30340;&#23481;&#22120;</span>
crictl ps
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#25152;&#26377;&#23481;&#22120;</span>
crictl ps -a
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#29702;&#38236;&#20687;&#23618;, &#28165;&#29702;&#26410;&#20351;&#29992;&#30340;&#38236;&#20687;&#23618;</span>
crictl rmi --prune
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ee91730e-ab16-4da6-b13d-27e287eb54d3" class="outline-3">
<h3 id="h:ee91730e-ab16-4da6-b13d-27e287eb54d3">排查</h3>
<div class="outline-text-3" id="text-h:ee91730e-ab16-4da6-b13d-27e287eb54d3">
</div>
<div id="outline-container-h:9f931570-373a-423c-a90a-f92d4e43ebdf" class="outline-4">
<h4 id="h:9f931570-373a-423c-a90a-f92d4e43ebdf">查看容器资源占用情况</h4>
<div class="outline-text-4" id="text-h:9f931570-373a-423c-a90a-f92d4e43ebdf">
<div class="org-src-container">
<pre class="src src-sh">crictl stats -a
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e81cdf69-39c2-4c40-bbad-c181ede408c4" class="outline-4">
<h4 id="h:e81cdf69-39c2-4c40-bbad-c181ede408c4">通过快照路径确认容器</h4>
<div class="outline-text-4" id="text-h:e81cdf69-39c2-4c40-bbad-c181ede408c4">
<p>
/var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snapshots/1077/fs/data/log 如何确认对应哪个容器
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#25214;&#25346;&#36733;&#28857;</span>
mount | grep overlay |grep 1077
overlay on /run/containerd/io.containerd.runtime.v2.task/k8s.io/078464e2ddf49d647dc10da72e2cd1b9f1a3e6b2739e21de1e8acf582206bbf4/rootfs type overlay (rw,relatime,...workdir=/var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snapshots/1077/work,<span style="color: #a0522d;">index</span>=off)
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;&#32773;findmnt | grep /var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snapshots/1077/fs</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#30830;&#35748;&#23481;&#22120;&#21517;&#31216;</span>
ctr -n k8s.io containers list |grep 078464e2ddf49d647dc10da72e2
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7747bb68-90da-4e3b-b92b-b2eb95988995" class="outline-4">
<h4 id="h:7747bb68-90da-4e3b-b92b-b2eb95988995">查看容器网络情况</h4>
<div class="outline-text-4" id="text-h:7747bb68-90da-4e3b-b92b-b2eb95988995">
<div class="org-src-container">
<pre class="src src-sh">

<span style="color: #b22222;">#</span><span style="color: #b22222;">1.&#25214;&#21040; Pod &#23545;&#24212;&#30340;&#23481;&#22120; ID</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21015;&#20986;&#25152;&#26377;&#23481;&#22120;&#65288;&#20351;&#29992;&#23481;&#22120;&#36816;&#34892;&#26102;&#25509;&#21475;&#24037;&#20855;&#65292;&#22914; crictl&#65289;</span>
crictl ps --name &lt;pod-name&gt; -o yaml
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25110;&#32773;&#36890;&#36807; kubectl &#25214;&#21040; Pod &#25152;&#22312;&#33410;&#28857;&#30830;&#35748;</span>
kubectl get pod &lt;pod-name&gt; -o wide

<span style="color: #b22222;">#</span><span style="color: #b22222;">2.&#33719;&#21462;&#23481;&#22120;&#30340;&#36827;&#31243; PID</span>
<span style="color: #a0522d;">CONTAINER_ID</span>=<span style="color: #8b2252;">"&lt;&#23481;&#22120;ID&gt;"</span>
<span style="color: #a0522d;">PID</span>=$(<span style="color: #ff00ff;">sudo crictl inspect --output=json $CONTAINER_ID | jq .info.pid</span>)

<span style="color: #b22222;">#</span><span style="color: #b22222;">3.&#36827;&#20837;&#23481;&#22120;&#30340;&#32593;&#32476;&#21629;&#21517;&#31354;&#38388;</span>
nsenter -n -t $<span style="color: #a0522d;">PID</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21518;&#32493;&#21629;&#20196;&#20250;&#22312; Pod &#30340;&#32593;&#32476;&#21629;&#21517;&#31354;&#38388;&#20013;&#25191;&#34892;&#12290;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">4.&#26597;&#30475;&#32593;&#32476;&#36830;&#25509;&#24773;&#20917;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#27963;&#36291;&#36830;&#25509;</span>
ss -tunap

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36807;&#28388;&#29305;&#23450; IP &#30340;&#36830;&#25509;</span>
ss -tunap src 172.21.80.173    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#28304; IP &#20026; Pod IP &#30340;&#36830;&#25509;</span>
ss -tunap dst 172.21.80.173    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#30446;&#26631; IP &#20026; Pod IP &#30340;&#36830;&#25509;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#36830;&#25509;&#36319;&#36394;&#34920;&#65288;conntrack&#65289;</span>
conntrack -L -d 172.21.80.173   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#19982; Pod IP &#30456;&#20851;&#30340;&#36830;&#25509;&#36319;&#36394;&#35760;&#24405;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">5.&#36864;&#20986;&#32593;&#32476;&#21629;&#21517;&#31354;&#38388;</span>
<span style="color: #a020f0;">exit</span>
</pre>
</div>
</div>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
