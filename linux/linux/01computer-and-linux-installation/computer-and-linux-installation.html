<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux: 计算机基础和 Linux 安装</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>技术</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>阅读</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/archives.html class=nobracket data-astro-cid-pux6a34n>归档</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>友链</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>关于</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              🏆 欢迎来到本站：
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>。
              <strong>希望这里有你感兴趣的内容</strong>。
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">Linux: 计算机基础和 Linux 安装</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:39c638fd-e105-40b9-81ff-8ec003b246ed">计算机系统</a>
<ul>
<li><a href="#h:d780887e-98e6-43d3-9dc5-6c17a72c5906">计算机硬件</a>
<ul>
<li><a href="#h:d110b035-8a1b-4484-8075-e9168396d6fd">世界上第一台计算机</a></li>
<li><a href="#h:b05a7e33-b1aa-4906-b8c3-a6d0a38d4a82">冯·诺依曼体系结构</a>
<ul>
<li><a href="#h:28217382-7ebe-4dff-b220-1e47336e947b">二进制和十进制转换</a></li>
<li><a href="#h:dc6b6394-6834-4d6a-b0a2-1dc2daa14a79">常见单位</a></li>
<li><a href="#h:5ac77ffe-baa4-4d6d-b795-883c48e6563a">计算机如何从存储上取得数据呢？</a></li>
</ul>
</li>
<li><a href="#h:2358f35a-2973-4218-b407-672aed9a6d43">摩尔定律</a></li>
<li><a href="#h:fde318cd-21cb-4add-9e60-8b04af017ba7">计算机分类</a>
<ul>
<li><a href="#h:7e72eeba-69b5-4291-a8bd-6eb4f29bc23e">按规模划分</a></li>
<li><a href="#h:28422e75-39cb-48ac-9e7c-68ab1f0fc691">按功能和角色划分</a></li>
<li><a href="#h:121fc2c4-c203-483e-90f5-312132f257d1">服务器按外形分类</a></li>
</ul>
</li>
<li><a href="#h:8879a96e-3235-4fac-976a-e72089cb748a">数据中心相关硬件</a></li>
<li><a href="#h:f597e16f-0ae0-4438-8bf3-b8813be6a5bc">服务器硬件组成</a>
<ul>
<li><a href="#h:332273f6-21de-4ac2-a0c6-d647e21ac466">服务器硬件&#x2014;CPU</a></li>
<li><a href="#h:6883c27c-25e1-4387-9113-ed26fdc8c13b">服务器硬件&#x2014;主板</a></li>
<li><a href="#h:186365a2-a0f6-4e4a-b0a7-5687aa415a18">服务器硬件&#x2014;内存</a></li>
<li><a href="#h:5947cc3b-e9e2-4127-94f2-7dff9ff5d331">服务器硬件&#x2014;硬盘</a></li>
<li><a href="#h:6aa1635b-3a2b-4097-a179-c35742ef1876">服务器硬件&#x2014;网卡</a></li>
<li><a href="#h:01720cea-041e-4f0a-8262-2be39e664839">服务器硬件&#x2014;相关其它硬件</a></li>
<li><a href="#h:b13e082c-36a7-4b57-a8c3-64bb1830c207">各种硬件处理速度和性能优化</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:05854193-ffa9-481e-9f12-a5d2d31e29f2">操作系统和 Linux</a>
<ul>
<li><a href="#h:b7419e2c-1b15-4339-9990-b7dff602c69d">操作系统功能</a></li>
<li><a href="#h:cf1e93f0-b3fc-4110-96a4-4122401a83c3">操作系统相关概念</a></li>
<li><a href="#h:53e81ba7-804a-446a-8f9c-bdac88e4dc12">各种操作系统</a></li>
<li><a href="#h:13e07b24-29de-4aef-9abe-8212a472e8ca">UNIX历史</a></li>
<li><a href="#h:c296ed6c-db72-4123-83f1-073449a37c3f">GNU</a></li>
<li><a href="#h:97022410-c41c-46f4-83d2-4aa702574391">Linux</a>
<ul>
<li><a href="#h:2c6a6d6f-bd5d-49ee-9e0f-0253eb633064">CentOS 和Rockey Linux</a></li>
<li><a href="#h:49c39932-2c6c-4a58-8c7e-1e01816fe9cc">Debian和Ubuntu</a></li>
</ul>
</li>
<li><a href="#h:acaa4f53-18b9-437b-af24-67b38754fc9a">开源 Open Source 协议</a></li>
<li><a href="#h:423218b6-1312-4465-97e3-5867cb9db58e">著作版权</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:62b2d08b-3ef6-4cd0-831b-85989136ab69">Linux安装</a>
<ul>
<li><a href="#h:9093bcfd-ad5e-48c7-94a8-34c9ca29e60b">Unix哲学思想</a></li>
<li><a href="#h:1826100f-d7ef-47f2-8b8e-056c148cd20c">Linux 生产主流版本</a></li>
<li><a href="#h:4864b7f1-4ff9-4709-b81d-c9f35994a2fa">安装linux系统</a>
<ul>
<li><a href="#h:edbb0090-725a-4c92-bc2c-cef649ec5946">linux安装前准备</a></li>
<li><a href="#h:7d261f7c-a1d2-4640-b32a-d4799e532d08">vmware</a>
<ul>
<li><a href="#h:d67e2d9a-42c2-4f7d-9ffe-6011a8102a6d">vmware 设置虚拟机环境</a></li>
<li><a href="#h:79e862eb-954e-471a-8c4b-24a73efa416d">创建新虚拟机-Centos8</a></li>
<li><a href="#h:4747c45d-c917-4d8f-ab53-0e72dc5d1a99">选择linux系统安装媒介</a></li>
</ul>
</li>
<li><a href="#h:26d6f56a-9620-423b-bff8-356212125b2c">安装centos</a>
<ul>
<li><a href="#h:86eb75be-0eb9-4145-ad4c-13e0f91f8500">安装CentOS8/Rocky</a></li>
<li><a href="#h:0ceaeb8a-e0f3-4a69-bb9b-35d516f0176d">系统配置</a>
<ul>
<li><a href="#h:349a8e3c-c797-4ac3-adb9-ac42da148ba4">网络配置</a></li>
<li><a href="#h:c76fadfa-a66c-4a22-bce9-e2406a31c891">设置主机名</a></li>
<li><a href="#h:b60d8218-42ea-4e0d-8f88-9486c26d01b3">切换yum源和安装常用命令</a></li>
<li><a href="#h:d858f9b0-5a56-4f24-a380-50e5eb6fe5fc">ssh优化</a></li>
<li><a href="#h:1b0b7d78-15f0-4c26-8e5e-7434b4a0c36b">命令提示符</a></li>
<li><a href="#h:3286a285-22d0-443f-9c08-76f52979c43c">时间同步</a></li>
<li><a href="#h:e24a9905-9457-45ee-b8c2-75a72ffdd100">优化设置 journal</a></li>
<li><a href="#h:e08e2172-ae1f-4bd4-956f-786593adce54">limit优化</a></li>
<li><a href="#h:0aa698a2-27ae-47c5-986c-3ef93842f9f3">内核优化</a></li>
<li><a href="#h:42a1fa43-c55b-4033-b2fd-6e435fb7ff03">别名</a></li>
<li><a href="#h:c2cf3920-1757-4c70-a73c-867f771877c4">其他</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:390305c2-ae5d-4c57-80d5-4127aa7d621c">安装Ubuntu</a></li>
<li><a href="#h:a8caf243-0730-4834-9126-600ac87d69d7">安装Debian</a></li>
<li><a href="#h:78aad357-df37-4e06-9c12-78a55808743d">Kali Linux</a></li>
<li><a href="#h:df87a313-1bcb-47b0-9c17-b41bea441be2">Apline Linux</a></li>
<li><a href="#h:9e667bae-169b-4f66-96ba-986876e62131">国产操作系统-统信UOS V20</a></li>
<li><a href="#h:3c6cc6c4-bf30-4fd1-bc45-ae928c0badd2">国产操作系统-麒麟 opeenKylin</a></li>
</ul>
</li>
<li><a href="#h:2bdf858a-ec21-4d73-8c9e-a2aa0e3dd6cd">SSH 客户端</a></li>
</ul>
</li>
<li><a href="#h:0a597add-0322-4d50-a63c-07414fda8c15">其它操作系统安装</a>
<ul>
<li><a href="#h:cba973bd-7b17-40e0-977e-22ff0b7302a1">windows 安装win11</a></li>
<li><a href="#h:880c85c7-2a78-4265-89b4-63b4715af073">archlinux</a>
<ul>
<li><a href="#h:2babae04-1f2c-4ab7-9f28-64663aa7e4f3">Archlinux的安装</a></li>
<li><a href="#h:2ccca7f1-3e18-473e-967e-0cf990ca5c5f">重启后图形界面</a>
<ul>
<li><a href="#h:645cceeb-6412-44c8-ba79-a64bef5854d3">基础包</a></li>
<li><a href="#h:fa692eb8-8b46-4cf2-9446-098ca14d46e2">桌面方案-GNOME</a></li>
<li><a href="#h:96c8c9f8-5e46-4d27-9be5-0c0cde94dce5">平铺窗口方案-bspwm+sxhkd</a></li>
<li><a href="#h:f6125d60-27cf-4ca3-8bef-dd4a7ac4ee8c">安装Hyprland桌面</a></li>
</ul>
</li>
<li><a href="#h:7da5b0fe-5408-4342-81bb-9fbc89536280">平铺窗口管理器-bspwm</a></li>
<li><a href="#h:01b6d4f8-98f3-4f68-ba23-cd709b83b878">bar</a>
<ul>
<li><a href="#h:eb78fb74-b1cd-4d11-90d6-292383814763">polybar</a></li>
<li><a href="#h:8ce966c0-365c-4aac-9bf1-3296e1371ba5">面板-lemonbar</a></li>
</ul>
</li>
<li><a href="#h:7fa5b0c8-bd0f-4f3e-8ea4-bfe5b7ae4cff">其它小工具</a>
<ul>
<li><a href="#h:cb0a2360-5146-46e7-99c8-dd05d9b24e64">锁屏</a></li>
<li><a href="#h:b7bbc307-e0c4-4072-87c3-155328ccc986">终端显示</a></li>
<li><a href="#h:167be97d-8536-4622-bead-b87d7f3c3947">多媒体播放器</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:1c35c3bb-14fd-4eef-8d72-d5045a9ba7b6">Guix</a>
<ul>
<li><a href="#h:44f2981c-b2f8-479d-bedf-5cd56577f9ba">虚拟机安装Guix</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:1709C03D-5151-4F81-BED5-B398795EDE2C">MacOS</a>
<ul>
<li><a href="#h:B4BECDF4-B882-410B-B651-F756C5CC92F6">Parallels desktop</a></li>
<li><a href="#h:0F173A69-F2EB-4E28-9187-8F369AEB8231">VirtualBox for MacOS</a>
<ul>
<li><a href="#h:CB7E3C50-6EEE-4D22-873D-12F80E89E50C">在 Mac(M1, M2, M3, M4) 上使用 VirtualBox 安装Kali Linux</a></li>
</ul>
</li>
<li><a href="#h:b54dfa05-9a2a-4c91-8260-4c6b2179539f">UTM for MacOS</a>
<ul>
<li><a href="#h:487be871-2972-4e42-8e99-b7d06b890514">安装 UTM</a>
<ul>
<li><a href="#h:d5b94099-fdb9-46ca-8177-b8af40ba6cc6">UTM 网络</a></li>
<li><a href="#h:e06059cf-904f-4506-9c8a-2b3e2e8d0d29">镜像</a></li>
</ul>
</li>
<li><a href="#h:47626f55-0120-409e-a4b9-61d1685a676c">在 Mac(M1, M2, M3, M4) 上使用 UTM 安装Kali Linux</a></li>
<li><a href="#h:7b11ea3a-3472-4808-aaf2-d7cc8f03d1a8">在 Mac(M1, M2, M3, M4) 上使用 UTM 安装window11</a></li>
<li><a href="#h:ac3ff411-d37e-4f15-8d2d-5c5846a02158">在 Mac(M1, M2, M3, M4) 上使用 UTM 安装window7-x86</a></li>
</ul>
</li>
<li><a href="#h:EB1540B9-D944-46DF-84A4-67B1D429EE89">VMware Fusion for MacOS</a>
<ul>
<li><a href="#h:b3189fd0-dff8-45e2-902f-e00f71d80c5e">在Mac(M1, M2, M3, M4) 上使用 VMware Fusion 安装window11</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Linux</a></li>
</ul>

<p>
内容概述
</p>

<ul class="org-ul">
<li>计算机系统</li>
<li>计算机硬件组成</li>
<li>操作系统</li>
<li>Linux相关介绍</li>
<li>Linux哲学思想</li>
<li>获取Linux</li>
<li>虚拟机</li>
<li>Linux 安装</li>
</ul>
<section id="outline-container-h:39c638fd-e105-40b9-81ff-8ec003b246ed" class="outline-2">
<h2 id="h:39c638fd-e105-40b9-81ff-8ec003b246ed">计算机系统</h2>
<div class="outline-text-2" id="text-h:39c638fd-e105-40b9-81ff-8ec003b246ed">
<p>
计算机（Computer）：俗称电脑，是一种能接收和存储信息，并按照存储在其内部的程序对海量数据进行自动、高速地处理，然后把处理结果输出的现代化智能电子设备
</p>

<p>
计算机有很多形式，比如：生活中常见的家用电脑，笔记本，智能手机，平板电脑等，还有生产环境中提供重要业务支撑的各种服务器（Server），都算是计算机。
</p>

<p>
其中一个完整的计算机系统由硬件(Hardware)系统和软件(Software)系统两大部分组成
</p>


<figure id="orgac7c09e">
<img src="images/image-20210215092640075.png" alt="image-20210215092640075.png">

</figure>
</div>
<div id="outline-container-h:d780887e-98e6-43d3-9dc5-6c17a72c5906" class="outline-3">
<h3 id="h:d780887e-98e6-43d3-9dc5-6c17a72c5906">计算机硬件</h3>
<div class="outline-text-3" id="text-h:d780887e-98e6-43d3-9dc5-6c17a72c5906">
<p>
<b>计算机发展历史</b> ：
</p>
<ol class="org-ol">
<li>第一代计算机(1946-1957) 电子管时代</li>
<li>第二代计算机(1958-1964) 晶体管时代</li>
<li>第三代计算机(1965-1970) 集成电路时代</li>
<li>第四代计算机(1971以后) 大规模集成电路时代</li>
</ol>


<p>
<b>电子计算机的诞生</b> ：
</p>

<p>
世界上第一台数字式电子计算机是由美国宾夕法尼亚大学的物理学家约翰.莫克利(John Mauchly)和工作师普雷斯伯.埃克特(J-Presper Eckert)领导，于1943年开始研制并于1946年完成，取名为ENIAC（Electronic Numerical Integrator And Calculator）的计算机。它的出现标志着电子计算机时代的到来 。
</p>

<p>
小知识-计算机的诞生在第二次世界大战中，美国政府寻求计算机以开发潜在的战略价值。这促进了计算机的研究与发展，1944年howard h.Aikien（1900-1973）研制出全电子计算机，为美国海军绘制弹道图。这台简称Mark的计算机有半个足球场大，内含500英里的电线，使用电磁信号来迁移机械部件。
</p>

<ol class="org-ol">
<li><p>
第一台电子计算机（ENIAC）
</p>

<p>
体重28吨，占地面积170m^2，18800只电子管，1500个继电器，功率160kw，5000次加法/秒。
</p></li>

<li><p>
第一代： 电子管计算机(1946-1957)
</p>

<p>
采用电子管为主要元件，主要用于科学计算。操作指令为特定任务而编制，一种机器只能执行一项任务。没有软件配置，采用机器语言或汇编语言。
</p></li>

<li><p>
第二代：晶体管计算机(1958-1964)
</p>

<p>
采用晶体管为主要元件，除科学计算机外，用于数据处理和工业控制。软件配置开始出现，高级程序设计语言问世。(程序员、分析员和计算机系统专家)和整个软件产业由此诞生。
</p></li>

<li><p>
第三代：集成电路计算机(1964-1970)
</p>

<p>
采用半导体中小规模集成电路为核心元件，应用进入到很多科学技术领域，软件配置完善，具有了操作系统。
</p>

<p>
操作系统是人操作硬件的中间层，我们可以 通过操作系统来控制硬件的工件。
</p>

<p>
虽然晶体管比起电子管是一个明显的进步，但晶体管还是产生大量的热量，这会损害计算机内部的敏感部分
</p></li>

<li><p>
第四代：大规模集成电路计算机(1970-现在)
</p>

<p>
以大规模或超大规模集成电路为主要部件。计算机沿两个方向发展：
</p>

<ul class="org-ul">
<li>利用逻辑芯片，组装出大型、超大型、巨型计算机，速度和存储容量有了大幅度提高。</li>
<li>产生微处理器，微计算机飞速发展，渗入到生活的各个领域。出现集成电路后，唯一的发展方向是扩大规模。大规模集成电路LSI，可以在一个芯片上容纳几百个元件。</li>
</ul></li>

<li><p>
光子、里子计算机
</p>

<p>
对于电子，一个电子可以表述2个数字。但对于量子，它是一种模糊态。它的特性是不确定的。
</p>

<p>
假如从这到天安门去有无数条路可以走，其实只要不走它就是模糊的混沌的在你面前展开的，但是一但你选择了，这个状态就确定了。所以当你不观测时它就像一个波，当你观测时它就是一个电子。
</p>

<p>
量子计算机如果根据这种态来实现记录的话，很有可能任何一个时态在你观察之前它是模糊的能存储N种可能性，所以这样就使得同样的位，比方有10位如果做量子计算的话它能存储数据只能存储10位的量子，可能比我们全球所有的计算机加起来提供的运算能力和存储能力都要强。现在的各种加密机制防护机制在量子计算机面前都不堪一击。
</p></li>
</ol>

<p>
参考文档： <a href="https://en.wikipedia.org/wiki/Computer#History_of_computing_hardware">https://en.wikipedia.org/wiki/Computer#History_of_computing_hardware</a>
</p>
</div>
<div id="outline-container-h:d110b035-8a1b-4484-8075-e9168396d6fd" class="outline-4">
<h4 id="h:d110b035-8a1b-4484-8075-e9168396d6fd">世界上第一台计算机</h4>
<div class="outline-text-4" id="text-h:d110b035-8a1b-4484-8075-e9168396d6fd">

<figure id="orge3f8af6">
<img src="images/image-20210215092707415.png" alt="image-20210215092707415.png">

</figure>

<p>
1946年,世界上第一台计算机ENIAC(electronic numerical integrator and
calculator电子数字积分计算机)在美国宾州大学诞生，是美国奥伯丁武器试验
场为了满足计算弹道需要而研制成的。使用了17468只电子管，占地170平方米,
重达30吨，耗电174千瓦，耗资40多万美元。每秒可进行5000次加法或减法运算
</p>
</div>
</div>
<div id="outline-container-h:b05a7e33-b1aa-4906-b8c3-a6d0a38d4a82" class="outline-4">
<h4 id="h:b05a7e33-b1aa-4906-b8c3-a6d0a38d4a82">冯·诺依曼体系结构</h4>
<div class="outline-text-4" id="text-h:b05a7e33-b1aa-4906-b8c3-a6d0a38d4a82">

<figure id="org39c4ae3">
<img src="images/image-20210215092720081.png" alt="image-20210215092720081.png">

</figure>

<p>
1946年美籍匈牙利数学家冯·诺依曼于提出存储程序原理，把程序本身当作数据来对待，程序和该程序处理的数据用同样的方式储存。
</p>

<p>
冯·诺依曼体系结构冯·诺依曼理论的要点是：
</p>
<ul class="org-ul">
<li>数字计算机的数制采用二进制，bit 位, byte 字节 1 byte =8 bit</li>
<li>计算机应该按照程序顺序执行</li>
<li>计算机硬件由运算器、控制器、存储器、输入设备和输出设备五大部分组成</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;<span style="color: #a0522d;">&#19968;&#20010;&#23383;&#33410;</span> = 8&#20301;&#65288;8&#20010;&#20108;&#36827;&#21046;&#20301;&#65289; <span style="color: #a0522d;">1Byte</span> = 8bit&#65307;
2&#12289;<span style="color: #a0522d;">&#19968;&#20010;&#21313;&#20845;&#36827;&#21046;</span> = 4&#20010;&#20108;&#36827;&#21046;&#20301;
3&#12289;<span style="color: #a0522d;">&#19968;&#20010;&#23383;&#33410;</span> = 2&#20010;&#21313;&#20845;&#36827;&#21046;
</pre>
</div>

<p>
艾伦·麦席森·图灵
</p>

<p>
艾伦·麦席森·图灵（英语：Alan Mathison Turing，1912年6月23日~1954年6月7
日），英国计算机科学家、数学家、逻辑学家、密码分析学家、理论生物学家
，“计算机科学之父”、“人工智能之父” ，英国皇家学会院士 。
</p>



<p>
<b>计算机的5大部件</b>
</p>

<ul class="org-ul">
<li>CPU-运算器: 提供算术运算、逻辑运算等各种运算</li>
<li>CPU-控制器: 控制总线的使用权限、控制询址。CPU内部同时提供加速辅助固件：寄存器、缓存</li>
<li>存储器：指的内存，也被称为RAM(Random Access Memory随机访问)</li>
<li>Input输入设备：下指令，提供数据等；</li>
<li>Output输出设备：输出数据加工的结果</li>
</ul>

<p>
说明：
</p>

<p>
整个计算其实是围绕着运算器、控制器、存储器3大组件就能够展开并完成所有操作，Input输入设备、Output输出设备仅仅按人类的需要加工的设备。
</p>

<p>
<b>各组件的功能</b>
</p>
<ul class="org-ul">
<li>控制器（Control）：计算机的中枢神经，控制部件之间的协调，也包括寻址操作
<ul class="org-ul">
<li>保障不同数率传输的数据可以得到缓冲、甄别IO设备传送数据的正错、实现数据与数据之间的交换、接收和识别命令</li>
</ul></li>
<li>运算器（Datapath）：包含算数逻辑单元（ALU）、累加器、状态寄存器、通用寄存器组等，通常只做运算
<ul class="org-ul">
<li>算数逻辑单元（ALU）：进行二位元的算术运算，如加减乘（不包括整数除）、移位等</li>
<li>累加器（accumulator）：储存计算产生的中间结果。保证ALU不用将计算结果写入内存</li>
<li>状态寄存器：存放两类信息&#x2013; 体现当前指令执行结果的状态信息、控制信息</li>
<li>通用寄存器组：可用于传送和暂存数据，也可以参与算术逻辑运算，保存运算结果</li>
</ul></li>
</ul>

<p>
通用寄存器组包括以下几类：数据寄存器、变址寄存器、指针寄存器、段寄存器、指令指针寄存器
</p>
<ul class="org-ul">
<li>存储器（memory）：具有存储数据和读写数据的功能，每一个存储单元为cell，8位二进制为一个存储单元，也就是一个字节
<ul class="org-ul">
<li>最小存储单元 1024/1024/1024/4 Bytes 1024/1024/4 KB 1024/4 MB 4 GB-&#x2013;&#x2014;32位CPU最多只能使用4GB内存</li>
</ul></li>
<li>输入设备（Input）：作用是将程序、原始数据、文字、字符、控制命令或现场采集的数据输入到计算机
<ul class="org-ul">
<li>常见的输入设备有：键盘、鼠标、磁带机、磁盘机、光盘机等</li>
</ul></li>
<li>输出设备（Output）：作用是把计算机的中间结果或最后结果、机内的各种数据及文字等信息输出来
<ul class="org-ul">
<li>常见的输出设备有：CRT、打印机、绘图仪等</li>
</ul></li>
</ul>

<p>
冯·诺依曼
</p>


<figure id="org755b3ac">
<img src="images/image-20210215092740676.png" alt="image-20210215092740676.png">

</figure>


<p>
早期计算机系统的输入设备：穿孔纸带
</p>


<figure id="org8698f45">
<img src="images/image-20210215092751792.png" alt="image-20210215092751792.png">

</figure>


<figure id="orgd77130f">
<img src="images/image-20210215094234442.png" alt="image-20210215094234442.png">

</figure>
</div>
<div id="outline-container-h:28217382-7ebe-4dff-b220-1e47336e947b" class="outline-5">
<h5 id="h:28217382-7ebe-4dff-b220-1e47336e947b">二进制和十进制转换</h5>
<div class="outline-text-5" id="text-h:28217382-7ebe-4dff-b220-1e47336e947b">
<ul class="org-ul">
<li>2^0=1=1b</li>
<li>2^1=2=10b</li>
<li>2^3=8=1000b</li>
<li>2^4=16=10000b</li>
<li>2^5=32=100000b</li>
<li>2^6=64=1000000b</li>
<li>2^7=128=10000000b</li>
<li>2^8=256=100000000b</li>
<li>2^9=512=1000000000b</li>
<li>2^10=1024=10000000000b</li>
<li>2^11=2048=100000000000b</li>
<li>2^12=4096=1000000000000b</li>
</ul>

<pre class="example" id="org832f8fc">
二进制 1010 转10进制：1000 + 10 &lt;==&gt; 2的3次方+2的1次方 = 8+2 = 10
二进制 10101000 转 10进制：10000000 + 100000 + 1000 &lt;==&gt; 2的7次方 + 2的5次方 + 2的3次方 = 128 + 32 + 8 = 168
</pre>
</div>
</div>
<div id="outline-container-h:dc6b6394-6834-4d6a-b0a2-1dc2daa14a79" class="outline-5">
<h5 id="h:dc6b6394-6834-4d6a-b0a2-1dc2daa14a79">常见单位</h5>
<div class="outline-text-5" id="text-h:dc6b6394-6834-4d6a-b0a2-1dc2daa14a79">
<ul class="org-ul">
<li>10的36次方 X</li>
<li>10的33次方 C</li>
<li>10的30次方 D</li>
<li>10的27次方 N</li>
<li>10的24次方 B</li>
<li>10的21次方 Y</li>
<li>10的18次方 E</li>
<li>10的15次方 P</li>
<li>10的12次方 T 二进制 2^40</li>
<li>10的 9次方 G 二进制 2^30</li>
<li>10的 6次方 M 二进制 2^20</li>
<li>10的 3次方 K 二进制 2^10=1024</li>
<li>10的 2次方 百</li>
<li>10的 1次方 十</li>
<li>10的-1次方 分 d</li>
<li>10的-2次方 厘 c</li>
<li>10的-3次方 m</li>
<li>10的-6次方 μ</li>
<li>10的-9次方 n</li>
<li>10的-12次方 p</li>
<li>10的-15次方 f</li>
<li>10的-18次方 a</li>
</ul>

<p>
数据存储容量单位
</p>
<pre class="example" id="orgf2a434c">
最小的数据单位是bit(位)，一个bit代表一个0或1。
byte(字节) 一个英文字母就占用一个字节，也就是8位；一个汉字占用两个字节。

每8个bit组成一个 一般位简写为小写字母“b”，字节简写为大写字母“B”。
每1024个字节称为1KB。

1B  = 8bit
1 KB = 1024 Bytes
1 MB = 1024 KB
1 GB = 1024 MB
1 TB = 1024 GB
1 PB = 1024 TB
1 EB = 1024 PB
1 ZB = 1024 EB
1 YB = 1024 ZB
1 BB = 1024 YB
1 NB = 1024 BB
1 DB = 1024 NB
</pre>

<p>
范例：确定当前系统是32位或64位
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#getconf LONG_BIT
64
[root@rhel5 ~]# getconf LONG_BIT
32

arch
</pre>
</div>
</div>
</div>
<div id="outline-container-h:5ac77ffe-baa4-4d6d-b795-883c48e6563a" class="outline-5">
<h5 id="h:5ac77ffe-baa4-4d6d-b795-883c48e6563a">计算机如何从存储上取得数据呢？</h5>
<div class="outline-text-5" id="text-h:5ac77ffe-baa4-4d6d-b795-883c48e6563a">

<figure id="orgadb4329">
<img src="images/img_20240302_165136.png" alt="img_20240302_165136.png" width="80%">

</figure>


<blockquote>
<ol class="org-ol">
<li>程序的组成</li>
</ol>

<p>
简单来讲，其实在冯.诺依曼体系当中他们也定义另外一个概念，叫做 <code>程序是由指令(操作命令)+数据(被加工的内容)组成</code> ；
</p>

<p>
指令就是计算机要运行的操作命令，比如做加法、做减法；当然从内存中取得某个数据也叫指令，但是数据本身则是被加工的内容。
</p>

<p>
别外程序还被分为另外一种描述方式：
</p>

<p>
<code>程序也是由算法+数据结构组成</code>
</p>

<p>
什么中算法呢？算法类似从A到B点的距离多种方式，我们要计算出来哪种方式是代价是最低的，数据结构是用于表明这种指令或算法本身要完成数据加工要以何种结构组成。所以说不同的算法通常对应于不同的数据结构，它们2者有很密切的关系的，有些数据结构用A算法效率较好，有些则用B算法效率较好。
</p>

<ol class="org-ol">
<li>指令怎么跑？
对于计算机来讲，CPU就是来跑程序的，CPU又由运算器和控制器组成，如图（计算机内部简单工作法则图）左边是运算器右边是控制器下面是存储器里面有数据，比如我们告诉CPU做加法运算，那么CPU上面一定有一个指令在这个CPU芯片设计时其内生在硬件逻辑上要支持加法运算，所以这个就叫做CPU自己支持的指令。
假设CPU能做加减乘除这四类运算的话，那么所有的指令结合起来对于一个CPU而言就叫做指令集，即CPU能支持的所有的指令集合。指令集大休分为2类，1类叫普通指令，比如加减乘，对其它没有影响的。；1类叫做特权指令，比如清空内存对其它没有影响的。</li>
</ol>

<p>
对于图（计算机内部简单工作法则图）运算器和控制器都有各自不同的指令集，运算器通常用来做运算，控制器通常来控制这几个部件之间的协调也包括询址操作。
</p>

<ol class="org-ol">
<li>我们来简单来描述下存储器和运算器、控制器是怎么结合的</li>
</ol>

<p>
比如作加法运算，问题是几加几？指令是CPU自己支持的，要加工的数据在什么地方存放？这就需要存储器来存储数据了。
</p>

<p>
存储器的最小存储单元是什么？
   而我们的存储器就是我们能看到的内存设备，其实在其内部是划分成了各各存储单元的，每个单元叫做一个细胞好了叫做一个CELL，大小是固定的，当然历史上各种说不清道不明原因，这每个CELL的大小是8位(bits)，我们知道计算机的存储是按位来存储的，即0和1方式，8
   位指的就是8位二进制，最多只能存8个二进制数字，比如0和1当中任何一种变化形式，每8位组织成一个CELL，一个存储单元，这每个CELL所提供的存储单元我们叫做一个字节(Bytes)，所以有时候我们把它分为大B和小b的概念，小b通常指的就是bits(位)，大B指的是Bytes(字节，8位2进制)。这每一个存储单元都是8位二进制，对于内存而言它的最小存储单元就是字节，也就意味着你哪怕只存一位数据也要占一个字节，另外7位只是空的对我们来讲没有用。我们一定要明白最小存储单元是什么。
</p>

<p>
存储器的编址形式
</p>

<p>
我们的数据在存储器上，在这么多存储格子里，当我们访问数据时，要计算第8个格子(即第8个CELL)和第3个CELL之间的两个数值之间的和，问题是我们怎么知道第8个格子和第3个格子在什么地方？我们可以理解为人其实就是数据，就是组织在这样能够存储人的地方这个房子我们就叫做存储格子，那么每一个格子为了能够方便找到，所以我们给它们做了编址。内存也是一样的道理，内存当中的每一个CELL都是有地址的，但是对于计算机而言，它们叫做电子数字计算机，所以它们更容易理解的是数字而不是字符串，不像我们现实生活中我们叫北京市某某胡同某某项某某街某某号，存储器这通通按照数字进行编址。而且，数字编址时我们必需在一个平面下能够编址完成才行。什么叫做一个平面下？比如对于北京市而言，北京市1号，北京市2号，北京市3号，我们知道北京市1号在什么地方吗，我们就无从得知了。为了能够让我们知道，我们可以按照一种特定的逻辑进行编辑编码，从南向北自东向西12345678，这样的话就有北京市第100号，像这种就叫做一个平面单元。一个平面单元上能编辑多少能？假如说一共只有3000号，北京有3001户那怎么办呢，在我们的户口薄上就溢出了。像这种就叫做平面编址。
平面编址我们知道编码不方查找不方便，于是我们可以把它划分成N层的立体编址方式，比如北京市海滨区、朝阳区，从一个大空间缩小成多个小空间，但是内存不能。内存的编址方式是一个平面的结构下进行编址的。它的编址方式必须能容纳所有的内存空间才行。而历史上说不清道不明的原因，我们CPU有所谓字长的概念，比如8位CPU、16位CPU、32位CPU、64位CPU。
</p>

<p>
32位CPU的存储能力
</p>

<p>
32位CPU指的是它的数据存取能力一次是32位二进制，你可以想像成在CPU之前有并排的32根线，每一根线对于计算机来讲它就是通电和不通电、有电压和无电压，有电压电路打通时表示为1，电路不能时表示为0，因此它有32根线每一根线有2种状态0或1。假如有一共有32根线，能表示多少种不同的变化?那就是2的32次方。所以CPU最多只能引用2的32次方个不同的位置，即对于CPU来讲只能理解2的32次方个不同的CELL。做10进制换算2的10次方等于1024，那么2的32次方相当于1024/1024/1024/4，本来默认存储器的最小存储单元是一个CELL即1Bytes，把公式向上进制，1KB=1024个Btyes，所以结果就成了1024/1024/4KB，再进制，1MB=1024KB，结果成了1024/4MB，最后再进制，1G=1024MB，结果为4GB。这里K在计算机中是以1024换算进制的，而现实生活中K代表1000，所以会出现买U盘时，计算机厂商以1000为进制单位，但是我们计算机的识别是以1024为单位换算的，32G的U盘到了电脑上格式化之后只有29点多G。所以，32位CPU最多只能使用4GB内存。
32位CPU数据存取能力：一次32位二进制，最大支持4G内存
</p>

<div class="org-src-container">
<pre class="src src-sh">2^<span style="color: #a0522d;">10</span>=1024
    1024*1024*1024*4 Bytes
        1024*1024*4 KB
        1024*4 MB
        4 GB
</pre>
</div>

<p>
对于32位计算机来讲，其内存的每个内存单元都是使用了32位的二进制来进行标识的。比如第一个可能是前面31个0最一个0表示第一个单元，第2个是前面31个0最一个2表示第2个单元，所以它是在同一个平面下进行编址的，因此所有的内存包括手机的内存都基于这种方式进行定义的，可能称乎的术语不一样。比如有人问手机内存多大的？32G。通常这是指的是外存ROM，我们通常指的是运行内存RAM。
</p>

<p>
因此计算机是怎么运行的呢？什么叫指令加数据？
</p>

<p>
对于图（计算机内部简单工作法则图），它为了能够运行指令加数据，我们知道程序是由程序员编写的。写好的程序通常是放在我们的外部设备上的(如硬盘)，因此这个程序要想运行这个就要装载到内存中，因为CPU只能跟内存打交道不可能跟硬盘直接打交道的，所以所有的数据要先装入内存中，硬盘其实是一种IO设备，不用想得过于复杂(如程序从哪来的)。所以一个程序要想运行，首先这个程序是稳健的，从磁盘装载到内存中，而程序是由指令加数据组成，这是意味着指令和数据都在内存中。比如第一个格子到第3个格子放的是指令，456789号格子放的是数据，于是CPU首先要加载每个指令，在这个指令中它会告诉CPU我们要运行的数据在什么地址，所以这个时候CPU会找到对应的内存单元当中把数据取出来。假如我们算的是第4个和第8个格子单元中的数字做加法运算，=第一步=我们先=取出指令=，=第2步=这个指令联系到的有数据，于是=把数据从内存中取出=来直接在运算器上做加法运算，内存是编址的存储单元。在指令被放入到运算器=之前=实际上=还有一个步骤=，指令还有第2个指令第3个指令，没准数据还要进行进一步的加工。所以为了能够让CPU知道运行完之后第一条指令之后，运行第2条指令在什么地方，CPU内部就有了=寄存器=(register)，最常用的就是指令指针寄存器(IP)，指令指针寄存器指的是比如加载完指令后，一个程序的多条指令彼此是有关系的，这种关系通常对于一个过程式编程言来讲，它内部的控制逻辑无非只有3种，第1种叫顺序执行(第一条运行完后运行第2条)，第2种循环执行(一段代码驴拉磨似的循环运转)，第3种叫选择执行(代码可能有10条分成2类，有选择性选取代码执行)，因此为了能够让CPU知道运行完之后第一条指令之后，运行第2条指令在什么地方，CPU内部就有了寄存器保存了下一次要执行的指令在哪一个存储单元中。还有我们在做加法运算时还要取来被加数，接着再取加数，被加数取出来以后才能再取加数的，2者要依次进行，暂存下来放在数值寄存器中。=还有=内存跟CPU比起来效率非常的慢，迄今为止内存的工作频率1866、1600、1333的，比起CPU的工作主频3GHz慢得多得多，也就意味着CPU说一句话要等可能空转2圈内存才可能接受到指令。为了避免CPU和内存之间不会耽误太长时间，CPU内部就引用了各种各样的缓存，其实CPU的缓存越大CPU的命中率就越高，命令率越高就意味着CPU的性能越好。同样一个主频的CPU，CPU的缓存越大就越贵贵的离谱，因为CPU缓存内部的工作机制跟你的内存工作机制不太一样，造价要比内存高得多得多，另外一方面CPU芯片面积有限的它要尽可能越做越小，通常而言CPU内部的缓存会非常小，而且比如从512K增涨到1MB那CPU价格可能要翻1倍的。所以你千万不要小瞧缓存，对于互联网时代有句话叫”catch is the king”缓存为王，这是加速当中的一个非常的计算方式，而且在=计算机领域中有一个特性或思维逻辑，就是任何两个层次之间在速度上也巴在逻辑上也巴只要不衔接就加中间层=。比如CPU快内存慢加中间层(缓存层)，语言编程也是一样的道理，人说的机械听不懂那就加中间层(用编译器来实现)。这样在计算的时候虽然会影响一部分性能，但这种影响实际上带来的提升效果比降低的效果高很多，比如跟老外交流，对方说英语我们说汉语，为了与人交流我们可能要花很长时间学会英语可能要1、2年的功夫，但是找一个翻译可能只需要几分钟的功夫。这就是计算机中的简单工作法则。第3步，运算器把运算的结果
</p>

<p>
IO设备
</p>

<p>
我们知道硬件本身没有任何指令没有任何程序，所以我们的程序员写的软件非常关键，但是我们又应该知道计算机自己被制造出来它内部并没有带什么程序，所以我们需要程序员写好程序把指令和数据输入给计算机，让计算机能够运行并且运行后的结果反馈给我们，所以这就需要输入输出设备，我们通常把它叫做IO设备。常见的输入设备，比如磁盘，它既能输入也能输出，站在计算机的角度，我们可能从磁盘中读出来数据，我们还可能把数据加工以后存入磁盘。比如键盘，可以输入高端的可能输出(如震动)。比如鼠标，输入设备。常见的输出设备，比如显示器，比较廉价，因为早些时候的输出设备是穿孔纸带，任何一次输出都要要一条上打孔，有孔的地方表示1，没孔的地方表示0，然后一些记录员再把它翻译成二进制再转换成10进制，然后再根据码表换成字符，像早期的电传电报就是这样发报的。像摩斯密码，按下去马上抬开表示0，按下去持续一段时间表示1，但如果按下去好长时间才抬开怎么表示一个1啊？
</p>

<p>
双方必须按照同样时序进行操作，要么是同步，要么是异步，异步话要自己事先定义好，比如我每1毫秒的时长表示一个1，因此我按下去不松开1秒钟表示1000个1，按照这样的方式来工作的。所以时间在数据传输上的至关重要的，这就是为什么，计算机内部CPU都有频率。这每一个频率就是指的是在一个时钟周期内这个时间结束了它的一件事干完了。所以这就是为什么主频越高CPU的性能越好，因为所谓3GHz指的就是它在1秒钟内能做3GHz次的操作(即30多亿次的运算)。
</p>

<p>
现在的输出设备显示器，可以亿万次的输出，不像打印机一样浪费纸张，所以说它是非常廉价的设备。
</p>
</blockquote>


<p>
指令集: 假设把CPU加法乘法等指令结合起来就叫做指令集；
</p>

<p>
指令集可分为2类： 普通指令：比如加减乘 特权指令：比如清空内存
</p>


<figure id="org6059757">
<img src="images/image-20210215102032249.png" alt="image-20210215102032249.png">

</figure>

<p>
存储器（memory）：具有存储数据和读写数据的功能，每一个存储单元为cell，按照数字进行编址，8位二进制为一个存储单元，也就是一个字节
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#  </span><span style="color: #b22222;">32&#20301;CPU&#26368;&#22810;&#21482;&#33021;&#20351;&#29992;4GB&#20869;&#23384; &#65292;32&#26681;&#30005;&#36335;&#32447;&#65292;&#27599;&#26681;&#21482;&#26377;0&#12289;1&#30340;&#21464;&#21270;&#65292;&#20849;&#26377;2&#30340;32&#27425;&#26041;&#21464;&#21270;&#65292;2^32=2^10 * 2^10 * 2^10 *2^2=1024*1024*1024*4 Bytes  =1024*1024*4 KB =1024*4 MB =4 GB&#8212;&#8212;32&#20301;CPU&#26368;&#22810;&#21482;&#33021;&#20351;&#29992;4GB&#20869;&#23384;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:2358f35a-2973-4218-b407-672aed9a6d43" class="outline-4">
<h4 id="h:2358f35a-2973-4218-b407-672aed9a6d43">摩尔定律</h4>
<div class="outline-text-4" id="text-h:2358f35a-2973-4218-b407-672aed9a6d43">
<p>
由英特尔（Intel）创始人之一戈登·摩尔于1965年提出，当价格不变时，集成电路上可容纳的元器件的数目，约每隔18-24个月便会增加一倍，性能也将提升一倍
</p>


<figure id="org3242b7e">
<img src="images/image-20210215092825194.png" alt="image-20210215092825194.png">

</figure>
</div>
</div>
<div id="outline-container-h:fde318cd-21cb-4add-9e60-8b04af017ba7" class="outline-4">
<h4 id="h:fde318cd-21cb-4add-9e60-8b04af017ba7">计算机分类</h4>
<div class="outline-text-4" id="text-h:fde318cd-21cb-4add-9e60-8b04af017ba7">
</div>
<div id="outline-container-h:7e72eeba-69b5-4291-a8bd-6eb4f29bc23e" class="outline-5">
<h5 id="h:7e72eeba-69b5-4291-a8bd-6eb4f29bc23e">按规模划分</h5>
<div class="outline-text-5" id="text-h:7e72eeba-69b5-4291-a8bd-6eb4f29bc23e">
<ol class="org-ol">
<li>超级计算机：Super Computer，又称巨型计算机，应用于国防尖端技术和现代科学计算中。巨型机的运算速度可达每秒百万亿次以上，"天河一号"为我国首台千万亿次超级计算机</li>

<li>大型计算机：具有较高的运算速度，每秒可以执行几千万条指令，而且有较大的存储空间。往往用于科学计算、数据处理或作为网络服务器使用，如：IBM z13 mainframe</li>

<li>小型计算机：指采用精简指令集处理器，性能和价格介于PC服务器和大型主机之间的一种高性能64位计算机。在中国，小型机习惯上用来指UNIX服务器</li>

<li>微型计算机：指采用 X86 CPU架构的PC服务器，中央处理器（CPU）采用微处理器芯片，体积小巧轻便，广泛用于商业、服务业、工厂的自动控制、办公自动化以及大众化的信息处理,互联网公司发起去IOE运动,代替小型机</li>
</ol>
</div>
</div>
<div id="outline-container-h:28422e75-39cb-48ac-9e7c-68ab1f0fc691" class="outline-5">
<h5 id="h:28422e75-39cb-48ac-9e7c-68ab1f0fc691">按功能和角色划分</h5>
<div class="outline-text-5" id="text-h:28422e75-39cb-48ac-9e7c-68ab1f0fc691">
<p>
<b>服务器和客户机</b>
</p>

<p>
服务器：即Server，计算机的一种，通常是网络中为客户端计算机提供各种服务的高性能的计算机，服务器在网络操作系统的控制下，将与其相连的硬盘、磁带、打印机及昂贵的专用通讯设备提供给网络上的客户站点共享，也能为网络用户提供集中计算、信息发布及数据管理等服务
</p>

<p>
客户机：即Client，向服务器提出请求，需要服务器为之提供相应的服务和支持的计算机
</p>

<p>
<b>服务器按应用功能可分为：</b>
</p>

<p>
Web服务器、数据库服务器、文件服务器、中间件应用服务器、日志服务器、监控服务器、程序版本控制服务器、虚拟机服务器、邮件服务器、打印服务器、域控制服务器、多媒体服务器、通讯服务器、ERP服务器等
</p>
</div>
</div>
<div id="outline-container-h:121fc2c4-c203-483e-90f5-312132f257d1" class="outline-5">
<h5 id="h:121fc2c4-c203-483e-90f5-312132f257d1">服务器按外形分类</h5>
<div class="outline-text-5" id="text-h:121fc2c4-c203-483e-90f5-312132f257d1">
<p>
<b>PC服务器常见的三种外型：</b>
</p>
<ul class="org-ul">
<li>塔式服务器</li>
<li>刀片式服务器</li>
<li>机架式服务器</li>
</ul>

<p>
<b>塔式Tower服务器</b>
</p>


<figure id="org13af3af">
<img src="images/image-20210215092849147.png" alt="image-20210215092849147.png">

</figure>


<figure id="org4a72109">
<img src="images/image-20210215095610288.png" alt="image-20210215095610288.png">

</figure>

<p>
早期的服务器形式，目前较少使用
</p>

<p>
外形以及结构和平时使用的立式PC差不多
</p>

<p>
机箱空间大，主板扩展性较强，插槽较多
</p>

<p>
预留了足够的内部空间，以便日后进行硬盘和电源的冗余扩展，设计一般都考虑降噪
</p>

<p>
<b>刀片式Blade服务器</b>
</p>


<figure id="orgd6df7b7">
<img src="images/image-20210215092901492.png" alt="image-20210215092901492.png">

</figure>

<p>
在标准高度的机架式机箱内可插装多个卡式的服务器单元，实现高可用和高密度
</p>

<p>
更高的密度，集中管理，高性能，灵活扩展，按需配置
</p>

<p>
可以使用系统软件将这些母板集合成一个服务器集群。在集群模式下，所有的母板可以连接起来提供高速的网络环境，并同时共享资源，为相同的用户群服务
</p>

<p>
<b>机架式Rack服务器</b>
</p>


<figure id="org5a32a82">
<img src="images/image-20210215092918485.png" alt="image-20210215092918485.png">

</figure>


<figure id="org5180da9">
<img src="images/image-20210215092930758.png" alt="image-20210215092930758.png">

</figure>

<ul class="org-ul">
<li>按照统一标准设计，配合机柜统一使用，便于统计管理，高密度，节省空间，常用U为单位，1U=1.75英寸=44.45毫米，机箱尺寸比较小巧，在机柜中可以同时放置多台服务器</li>
<li>机架式服务器的宽度为19英寸（48.26cm），厚度通常有1U，2U，3U，4U，5U，7U几种标准的服务器</li>
<li>机柜的尺寸也是采用通用的工业标准，如：宽度600mm,深度1000mm,高2000mm（42U）</li>
<li>现阶段是最主流的的服务器</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:8879a96e-3235-4fac-976a-e72089cb748a" class="outline-4">
<h4 id="h:8879a96e-3235-4fac-976a-e72089cb748a">数据中心相关硬件</h4>
<div class="outline-text-4" id="text-h:8879a96e-3235-4fac-976a-e72089cb748a">

<figure id="orgf1a401c">
<img src="images/image-20210215095726880.png" alt="image-20210215095726880.png">

</figure>

<p>
上图为数据中心，有许多硬件设备，大体上可以分为三类：服务器，网络设备和存储设备，图中这一排
</p>

<p>
排的就是机柜，我们平时所谓的服务器、网络交换机和存储等设备都放在这里面。
</p>

<p>
<b>物理拓扑</b>
</p>


<figure id="orgdc61c19">
<img src="images/image-20210215095822398.png" alt="image-20210215095822398.png">

</figure>

<p>
物理设备怎么放
</p>

<p>
在机柜中有许多的设备，用上面所示的方式进行连接，包括服务器、光纤交换机、磁盘阵列和磁带库等。其中上层的设备是服务器，中层的设备是光纤交换机，下层的设备是存储设备，包含磁盘阵列和磁 带库。
</p>

<p>
实际数据中心要复杂的多，除了包含上述设备外，还包括核心路由器、核心交换机、防火墙和负载均衡器等等设备。这还不包括上述机柜、无烟灭火器、空调和UPS等辅助设备
</p>

<p>
<b>逻辑拓扑</b>
</p>


<figure id="orgb3916f4">
<img src="images/image-20210215095911578.png" alt="image-20210215095911578.png">

</figure>

<p>
数据怎么走
</p>

<p>
上面复杂的结构可简化为上面的逻辑图，可以看到服务器通过主机总线适配器，即：HBA（Host Bus Adapter）卡和光纤交换机相连，而存储设备也通过HBA卡和光纤交换机相连；服务器之间通过以太网交换机互联。
</p>
</div>
</div>
<div id="outline-container-h:f597e16f-0ae0-4438-8bf3-b8813be6a5bc" class="outline-4">
<h4 id="h:f597e16f-0ae0-4438-8bf3-b8813be6a5bc">服务器硬件组成</h4>
<div class="outline-text-4" id="text-h:f597e16f-0ae0-4438-8bf3-b8813be6a5bc">

<figure id="org6743f5c">
<img src="images/image-20210215092947822.png" alt="image-20210215092947822.png">

</figure>

<p>
<b>服务器配置示例（参考价格47588元）</b>
</p>


<figure id="org6c96e2c">
<img src="images/image-20210215093019134.png" alt="image-20210215093019134.png">

</figure>
</div>
<div id="outline-container-h:332273f6-21de-4ac2-a0c6-d647e21ac466" class="outline-5">
<h5 id="h:332273f6-21de-4ac2-a0c6-d647e21ac466">服务器硬件&#x2014;CPU</h5>
<div class="outline-text-5" id="text-h:332273f6-21de-4ac2-a0c6-d647e21ac466">

<figure id="org53c8d22">
<img src="images/image-20210215093033916.png" alt="image-20210215093033916.png">

</figure>

<p>
CPU：Central Processing Unit，即中央处理器。由控制器和运算器构成，是整个计算机系统中最重要的部分
</p>


<p>
<b>CPU 架构</b> ：
</p>
<ul class="org-ul">
<li>CISC：Complex Instruction Set Computer，复杂指令集
<ul class="org-ul">
<li>主流架构：X86</li>
</ul></li>

<li>RISC：Reduced Instruction Set Computer，精减指令集
<ul class="org-ul">
<li>主流架构：ARM、RISC-V、MIPS、PA-RISC、PowerArchitecture(包括PowerPC)、DECAlpha和SPARC</li>
</ul></li>
</ul>

<p>
<b>精减指令集和复杂指令集：</b>
</p>

<p>
早期计算机一直沿用CISC指令集方式。它的设计目的是要用最少的机器语言指令来完成所需的计算任务。在CISC处理器中，程序的各条指令是按顺序串行执行的，每条指令中的各个操作也是按顺序串行执行的。顺序执行的优点是控制简单，但计算机各部分的利用率不高，执行速度慢。 <b>CISC的指令系统庞大，功能复杂，指令格式、寻址方式多；执行速度慢；</b> 难以优化编译，编译程序复杂；无法并行；无法兼容。大约20%的指令占据了80%的处理器时间。其余80%指令使用频度只占20%的处理机运行时间。由此CISC生产厂商长期致力于复杂指令系统的设计，实际上是在设计一种难得在实践中用得上的指令系统的处理器，同时．复杂的指令系统必然带来结构的复杂性．这不但增加了设计的时间与成本还容易造成设计失误。目前个人计算机x86体系CPU 厂商一直在走CISC的发展道路，包括Intel、AMD、VIA（威盛）等。之所以称为X86，是因为最早Intel的CPU型号是8086，后来出现了80286，80386，80486，80586等，所以之后的Intel和其兼容的厂商的生产CPU都称为X86 CPU。而后CPU从最初的8位，16位，32位，发展到目前主流的64位。为了区别非64位的CPU，一般将64位的CPU称为X86-64。由于最早在1999由AMD设计公开64 位技术，称为 x86-64，后来改名为 AMD64，不同厂商称呼有所不同，所以AMD 64,x86-64,x64都指的是64位的基于X86的CPU。
</p>

<p>
因为CISC存在上面的问题，于是有了RISC，它是图灵奖得主John L.Hennessy和David A.Patterson对行业的重大贡献，由加州大学伯克利分校于1980年发布， <b>其基本思想是尽量简化计算机指令功能，只保留那些功能简单、能在一个节拍内执行完成的指令</b> ，使其实现更容易，指令并行执行程度更好，此称为精简指令集RISC(Reduced Instruction Set Computing）。精减指令集其风格是强调计算机结构的简单性和高效性,其特点是所有指令的格式都是一致的，所有指令的指令周期也是相同的，支持并行，并且采用流水线技术。当需要完成复杂任务时，就由多个指令组合来实现。常用的精简指令集微处理器包括：ARM、RISC-V、MIPS、PA-RISC、PowerArchitecture(包括PowerPC)、DECAlpha和SPARC等。说到这里不得不提一下ARM，全世界超过95%的智能手机和平板电脑都采用ARM架构，当前最先进的华为的海思麒麟990 CPU，高通的骁龙865 CPU，苹果的A13 CPU也都属于ARM架构。ARM可以说是目前世界上使用最广泛的CPU架构了。
</p>

<p>
当前CPU的两大架构是CISC（复杂指令集）和RISC（精简指令集），x86是CISC的代表架构，占领了95%以上的桌面计算机和服务器市场。Arm作为RISC的一种，在智能手机、可穿戴设备等移动处理器市场占领主要地位，针对物联网、5G、AI新兴领域的应用， <b>RISC-V和MIPS两大精简指令集架构再次登上历史舞台</b> 。
</p>

<p>
RISC-V：1980年加州大学伯克利分校(Berkeley)的David Patterson(大卫·帕特森)教授主导了BerkeleyRISC项目并设计了其第一代的处理器RISC I,2010年,Krste Asanovic(克斯特·阿萨诺维奇)教授带领的团队大约花了四年时间，设计和开发了一套完整的新的指令集，这个新的指令集叫做RISC-V,这是Berkeley从RISC I开始设计的第五代指令集架构，V还代表了变化(variation)和向量(vectors),RISC-V架构使用BSD开源协议给予使用者很大自由，允许使用者修改和重新发布开源代码，也允许基于开源代码开发商业软件发布和销售。
</p>

<p>
MIPS是一种RISC处理器,它最早是在80年代初期由斯坦福(Stanford)大学John L. Hennessy(约翰·亨利斯)教授领导的研究小组研制出来的,MIPS是出现最早的商业RISC架构芯片之一,2018年3月21日美国计算机协会（ACM）宣布将2017年度的图灵奖颁给了芯片界的两位大师：曾任斯坦福大学校长的John L.Hennessy和曾任加州大学伯克利分校教授的David A. Patterson。MIPS计算机系统公司创建于1984年，最初的目的是将斯坦福大学MIPS CPU小组的研究成功商业化，商用MIPS CPU增强了内存管理硬件，并于1985年末作为R2000面世，其后又相继推出了R3000、R4000、R10000等多款处理器。
</p>

<p>
<b>CPU类型</b>
</p>

<ul class="org-ul">
<li>X86：CISC</li>
</ul>

<pre class="example" id="orge6552c7">
intel生产的CPU32位的叫x86系列，这个叫x86兼容pcCPU，AMD或者intel他们所生产的CPU即便内在的设计逻辑不同，但外部接口虽然也可能不同，不过都属于PC兼容机当中的x86兼容CPU

32位：32条路，每条1/0两个选择 ，有2^32种方法选址，最多只能使用大约4G内存
</pre>

<ul class="org-ul">
<li><p>
ARM：Acorn RISC Machine 高通，华为麒麟
</p>

<p>
我们现在手机的CPU架构是arm系列的，也是最常见的CPU。arm公司只提供架构图，不生产cpu。各厂商买回去自己生产或者二次开发，相比intel的CPU功耗低很多
</p></li>

<li>RISC-V 阿里玄铁910</li>

<li>MIPS 龙芯</li>

<li><p>
Power：IBM
</p>

<p>
IBM也有自己的CPU叫power，性能强大，全球第一款主频超过4Ghz的CPU，功耗体积大，精简指令集，价格贵。而intel的指令集是属于复杂指令集的。跑的系统是AIX
</p></li>

<li><p>
Powerpc：apple,ibm,moto
</p>

<p>
简称ppc，简装版power，用于早期的Apple的CPU架构
</p></li>

<li>Ultrasparc ：Sun</li>

<li><p>
Alpha：HP
</p>

<p>
惠普自己的CPU，小机上跑的是HP-UX系统
</p></li>

<li>安腾：compaq</li>
</ul>

<p>
<b>服务器CPU公司</b>
</p>
<ul class="org-ul">
<li>Intel： Xeon 至强，Itanium 安腾</li>
<li>AMD： Althlon MP</li>
<li>IBM： Power</li>
</ul>

<p>
<b>按照CPU体系架构来区分，服务器主要分为两类</b> ：
</p>

<ul class="org-ul">
<li>x86服务器：采用CISC（复杂指令集）架构服务器，即通常所讲的PC服务器，它是基于PC机体系结构，使用Intel或其它兼容x86指令集的处理器芯片的服务器。目前主要为intel的Xeon E3，E5，E7系列，价格相对便宜、兼容性好、稳定性较差、安全性不算太高</li>

<li>非x86服务器：采用RISC（精简指令集）或EPIC（并行指令代码）处理器，主要采用UNIX和其它专用操作系统的服务器，CPU主要有IBM的Power PC、MIPS的MIPS、SUN的Sparc、Compaq的Alpha、HP的PA-RISC、Intel研发的EPIC安腾处理器等。这种服务器价格昂贵，体系封闭，但是稳定性好，性能强，主要用在金融、电信等大型企业的核心系统</li>
</ul>

<p>
<b>微处理器</b>
</p>

<p>
1971年11月15日，Intel公司的工程师特德·霍夫发明了世界上第一个微处理器&#x2014;4004，这款4位微处理器虽然只有45条指令，而且每秒只能执行5万条指令。性能很低，但它的集成度却要高很多，一块4004的重量还不到一盅司
</p>

<p>
Intel从8086开始，就进入了我们常说的x86时代。而80386的诞生则标志着Intel正是进入了32位微处理器的时代。从80386到Pentium 4这个年代的CPU，就是传说中的IA-32时代
</p>

<p>
x86-64（ 又称x64，即英文词64-bit extended，64位拓展的简写）是x86架构的64位拓展，向后兼容于16位及32位的x86架构。x64于1999年由AMD设计，AMD首次公开64位集以扩展给x86，称为“AMD64”。其后也为英特尔所采用，现时英特尔称之为“Intel 64”，在之前曾使用过“ClackamasTechnology” (CT)、"IA-32e"及“EM64T”
</p>

<p>
Intel公司的CPU发展历程
</p>


<figure id="orgcade094">
<img src="images/image-20210215093059075.png" alt="image-20210215093059075.png">

</figure>

<p>
CPU主频：主频是CPU的时钟频率(CPU Clock Speed)，是CPU运算时的工作的频率（1秒内发生的同步脉冲数）的简称。单位是Hz。一般说来，主频越高，CPU的速度越快，由于内部结构不同，并非所有的时钟频率相同的CPU的性能都一样
</p>

<p>
外频：系统总线的工作频率，CPU与外部（主板芯片组）交换数据、指令的工作时钟频率
</p>

<p>
倍频：倍频则是指CPU外频与主频相差的倍数
</p>

<p>
三者关系是：主频=外频x倍频
</p>

<p>
高速缓存（cache）：高速交换的存储器。CPU缓存分为一级，二级，三级缓存，即L1，L2，L3
</p>
<div class="org-src-container">
<pre class="src src-sh">lscpu

L1d cache:             32K  &#25968;&#25454;&#32531;&#23384;
L1i cache:             32K  &#25351;&#20196;&#32531;&#23384;
L2 cache:              4096K
L3 cache:              28160K
</pre>
</div>

<p>
内存总线速度(Memory-BusSpeed)：一般等同于CPU的外频，指CPU与二级(L2)高速缓存和内存之间的通信速度
</p>

<p>
地址总线宽度：决定了CPU可以访问的物理地址空间
</p>
</div>
</div>
<div id="outline-container-h:6883c27c-25e1-4387-9113-ed26fdc8c13b" class="outline-5">
<h5 id="h:6883c27c-25e1-4387-9113-ed26fdc8c13b">服务器硬件&#x2014;主板</h5>
<div class="outline-text-5" id="text-h:6883c27c-25e1-4387-9113-ed26fdc8c13b">

<figure id="org31d46f1">
<img src="images/image-20210215093110059.png" alt="image-20210215093110059.png">

</figure>

<p>
主板mainboard，安装在机箱内，是计算机最基本的也是最重要的部件之一
</p>

<p>
主板一般为矩形电路板，上面安装了组成计算机的主要电路系统，一般有BIOS芯片、I/O控制芯片、键盘和面板控制开关接口、指示灯插接件、扩充插槽、主板及插卡的直流电源供电接插件等元件
</p>
</div>
</div>
<div id="outline-container-h:186365a2-a0f6-4e4a-b0a7-5687aa415a18" class="outline-5">
<h5 id="h:186365a2-a0f6-4e4a-b0a7-5687aa415a18">服务器硬件&#x2014;内存</h5>
<div class="outline-text-5" id="text-h:186365a2-a0f6-4e4a-b0a7-5687aa415a18">

<figure id="orgef3c7d2">
<img src="images/image-20210215093136781.png" alt="image-20210215093136781.png">

</figure>

<p>
内存是介于CPU 和外部存储之间，是CPU对外部存储中程序与数据进行高速运算时存放程序指令、数据和中间结果的临时场所，它的物理实质就是一组具备数据输入输出和数据存储功能的高速集成电路
</p>

<p>
内存是CPU能直接寻址的存储空间，由半导体器件制成。内存的特点是存取速度快
</p>

<p>
计算机中所有程序的运行都是在内存中进行的，因此内存的性能对计算机的影响非常大
</p>

<p>
外存：硬盘，U盘，软盘，光盘
</p>

<p>
<b>内存和外存的区别：</b>
</p>
<ul class="org-ul">
<li>内存断电后数据丢失</li>
<li>外存断电后数据可以保存</li>
</ul>

<p>
<b>服务器内存常用技术</b> ：
</p>

<p>
1、 在线备用内存技术
</p>
<ul class="org-ul">
<li>当主内存或者是扩展内存中的内存出现多位错误时或者出现物理内存故障时，服务器仍继续运行</li>
<li>由备用内存接替出现故障内存的工作</li>
<li>备用的内存区域必须比其它区域的内存容量要大或相同</li>
</ul>

<p>
2 、内存镜像
</p>
<ul class="org-ul">
<li>镜像为系统在出现多位错或内存物理故障时提供数据保护功能，以保证系统仍能正常的运行</li>
<li>数据同时写入两个镜像的内存区域</li>
<li>从一个区域进行数据的读取</li>
</ul>

<p>
<b>容量</b> ：即该内存的存储容量，单位一般为GB
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# lsmem 
RANGE                                  SIZE  STATE REMOVABLE BLOCK
0x0000000000000000-0x00000000efffffff  3.8G online        no  0-29
0x0000000100000000-0x000000010fffffff  256M online        no 32-33

Memory block size:       128M
Total online memory:       4G
Total offline memory:      0B
</pre>
</div>

<p>
<b>内存带宽：</b>
</p>

<p>
内存带宽是指内存与北桥芯片之间的数据传输率，B byte 字节 b bit位
</p>

<p>
单通道内存控制器一般都是64-bit的，8个二进制位相当于1个字节，换算成字节是64/8=8，再乘以内存的运行频率，如果是双通道内存就要再乘以2
</p>

<p>
<b>计算公式</b>: <code>内存带宽=内存总线频率×数据总线位数/8</code>
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">&#21333;&#36890;&#36947;DDR&#65288;Double Data Rate&#21452;&#20493;&#36895;&#29575;&#65289;&#20869;&#23384;&#24102;&#23485;&#35745;&#31639;
DDR4-4000&#65306;4000MHz*64bit/8=32000MB/S 
DDR4-3600&#65306;3600MHz*64bit/8=28800MB/S

&#21452;&#36890;&#36947;&#65306;&#38169;&#24320;&#25554;
DDR4-4000&#65306;4000MHz*64bit*2/8=64000MB/S
</pre>
</div>
</div>
</div>
<div id="outline-container-h:5947cc3b-e9e2-4127-94f2-7dff9ff5d331" class="outline-5">
<h5 id="h:5947cc3b-e9e2-4127-94f2-7dff9ff5d331">服务器硬件&#x2014;硬盘</h5>
<div class="outline-text-5" id="text-h:5947cc3b-e9e2-4127-94f2-7dff9ff5d331">

<figure id="org1ed54c4">
<img src="images/image-20210215093155397.png" alt="image-20210215093155397.png">

</figure>

<p>
<b>常见的磁盘接口种类：</b> 
</p>

<ul class="org-ul">
<li>IDE：Integrated Drive Electronics，电子集成[驱动器，早期家用电脑常用接口</li>
<li>SCSI：Small Computer System Interface，小型计算机系统接口，早期的服务器常用接口</li>
<li>SATA：Serial ATA （Advanced Technology Attachment 高技术配置），家用电脑常用的接口</li>
<li>SAS：Serial Attached SCSI，是目前服务器上主流的接口</li>
<li>光纤通道：Fiber Channe，高性能服务器上采用的接口</li>
<li>M.2 ：固态硬盘接口，性能更强。nvme协议的读速更快</li>
</ul>

<p>
<b>结构分类：</b>
</p>

<ul class="org-ul">
<li>机械硬盘HDD（Hard Disk Drive）</li>
<li>固态硬盘SSD（Solid State Drives ）</li>
</ul>

<p>
<b>机械硬盘</b> ：
</p>


<figure id="org3b44c3c">
<img src="images/image-20210215093213411.png" alt="image-20210215093213411.png">

</figure>

<ul class="org-ul">
<li><p>
存储介质（Media）-&#x2013;&#x2014;盘片
</p>

<p>
盘片的基板是金属或玻璃材质制成，为达到高密度高稳定的质量，基板要求表面光滑平整，不可有任何暇疵
</p></li>

<li><p>
读写磁头（Read Write Head）-&#x2013;&#x2014;磁头
</p>

<p>
磁头是硬盘读取数据的关键部件，它的主要作用就是将存储在硬盘盘片上的磁信息转化为电信号向外传输
</p></li>

<li><p>
马达（ Spindle Motor &amp; Voice Coil Motor ）
</p>

<p>
马达上装有一至多片盘片，以7200，10000，15000 RPM等定速旋转，为保持其平衡不可抖动，所以其质量要求严谨，不产生高温躁音
</p></li>
</ul>

<p>
机械硬盘基本参数：
</p>
<ul class="org-ul">
<li>容量：容量是硬盘最主要的参数。单位有MB、GB、TB，常见容量：500GB，1T，2T，3T，4T，6T</li>
<li>转速：转速是指硬盘盘片每分钟转动的圈数，单位为rpm。常见：7200rpm，10000rpm，15000rpm</li>
<li>传输速率：传输速率(Data Transfer Rate)。硬盘的数据传输率是指硬盘读写数据的速度，单位为兆字节每秒（MB/s），常见：6Gb/s,12Gb/s</li>
<li>缓存：硬盘缓存的目的是为了解决系统前后级读写速度不匹配的问题，以提高硬盘的读写速度</li>
<li>磁盘尺寸：3.5”/2.5”/1.8”</li>
<li>是否支持热插拔</li>
</ul>

<p>
<b>SSD硬盘</b>:
</p>


<figure id="org7b7feab">
<img src="images/image-20210215093226937.png" alt="image-20210215093226937.png">

</figure>

<p>
SSD，即固态硬盘，泛指使用NAND Flash组成的固态硬盘。其特别之处在于没有机械结构，以区块写入和抹除的方式作读写的功能，因此在读写的效率上，非常依赖读写技术上的设计SSD读写存取速度快，性能稳定，防震性高，发热低，耐低温，电耗低，无噪音。因为没有机械部分，所以长时间使用也出现故障几率也较小。缺点：价格高，容量小，相对普通机械硬盘性价比低
</p>

<p>
固态中支持NVMe通道协议的速度理快
</p>
</div>
</div>
<div id="outline-container-h:6aa1635b-3a2b-4097-a179-c35742ef1876" class="outline-5">
<h5 id="h:6aa1635b-3a2b-4097-a179-c35742ef1876">服务器硬件&#x2014;网卡</h5>
<div class="outline-text-5" id="text-h:6aa1635b-3a2b-4097-a179-c35742ef1876">

<figure id="org8242e03">
<img src="images/image-20210215093240860.png" alt="image-20210215093240860.png">

</figure>

<p>
服务器都在主板上集成了网卡，传输速率为1Gbps，即千兆网卡
</p>

<p>
特殊应用需要高端网卡，如光纤网卡，Infiniband网卡等，传输速率能达到10Gbps、20Gbps，即万兆网卡
</p>
</div>
</div>
<div id="outline-container-h:01720cea-041e-4f0a-8262-2be39e664839" class="outline-5">
<h5 id="h:01720cea-041e-4f0a-8262-2be39e664839">服务器硬件&#x2014;相关其它硬件</h5>
<div class="outline-text-5" id="text-h:01720cea-041e-4f0a-8262-2be39e664839">
<p>
<b>服务器硬件&#x2014;远程管理卡</b>
</p>

<p>
IPMI是智能型平台管理接口（Intelligent Platform Management Interface）的缩写，是管理基于 Intel结构的企业系统中所使用的外围设备采用的一种工业标准，该标准由英特尔、惠普、NEC、美国戴尔电脑和SuperMicro等公司制定。用户可以利用IPMI监视服务器的物理健康特征，如温度、电压、风扇工作状态、电源状态等。而且更为重要的是IPMI是一个开放的免费标准，用户无需为使用该标准而支付额外的费用。
</p>

<p>
IPMI 定义管理员如何监测系统硬件和传感器、控制系统组件和检索重要系统事件的日志以进行远程管理和恢复。
</p>

<p>
自1998 年，IPMI论坛创建了IPMI标准依赖，其已经得到了170 多家供应商的支持，这使得其逐渐成为了一个完整地包括服务器和其他系统（如存储设备、网络和通信设备）的硬件管理规范.
</p>

<p>
远程管理卡就是基于IPMI实现的服务器特有的远程管理部件，在家用电脑及笔记本电脑上是不存在的。
</p>

<p>
远程管理卡是安装在服务器上的硬件设备，提供一个以太网接口，使它可以连接到局域网内，提供远程访问。这种远程管理基于BMC（基板管理控制器），由集成在管理卡上的系统微处理器负责监测和管理操作系统之外的服务器环境和状态。它既不会占用服务器系统资源，也不会影响服务器系统的运行。
</p>

<p>
早期（2010年以前），服务器托管在IDC机房，一旦出现问题，还得跑机房或者请机房的人管理。有了远程管理卡之后，运维人员管理服务器的效率就大大的提高了。
</p>

<p>
远程管理卡有服务器自带的和独立的两类。服务器自带的远程管理卡，可以关机、开机，但是看不到开关服务器的过程。所以，建议给服务器配备独立的远程管理卡，可能会多花100多块钱的样子，但是，当服务器出现问题，就不需要打车或者出差，也不用给机房人员打电话了，可以利用远程管理卡快速查看服务器故障并恢复服务。
</p>

<p>
各个服务器厂商都提供了符合IPMI标准的远程管理接口,比如Dell的iDRAC,惠普的ILO等
</p>


<figure id="orgb09c4eb">
<img src="./images/Snipaste_2023-05-18_14-03-27.png" alt="Snipaste_2023-05-18_14-03-27.png">

</figure>

<p>
上图是浪潮的服务器IPMI卡,不过不像DELL,浪潮的服务器是出厂默认带的IPMI接口
</p>


<figure id="orgcf017da">
<img src="./images/Snipaste_2023-05-18_14-05-59.png" alt="Snipaste_2023-05-18_14-05-59.png">

</figure>

<p>
上图为Dell的 iDRAC((integrated Dell Remote Access Controller))卡即是远程管理卡, 相当于是附加在服务器上的一台独立运行的小型pc，通过与服务器主板上的管理芯片BMC进行通信，监控与管理服务器的硬件状态信息。它拥有自己的系统和IP地址，与服务器上的OS无关，是服务器管理员进行远程访问和管理的便利工具
</p>

<p>
<b>服务器硬件&#x2014;阵列卡</b>
</p>


<figure id="org408f508">
<img src="images/image-20210215093258565.png" alt="image-20210215093258565.png">

</figure>

<p>
Raid卡用来实现RAID的建立和重建，检测和修复多位错误，错误磁盘自动检测等功能。RAID芯片使CPU的资源得以释放，阵列卡把若干硬盘驱动器按照一定要求组成一个整体、由阵列控制器管理的系统阵列卡可以用来提高磁盘子系统的性能及可靠性
</p>

<p>
支持的多种RAID级别，RAID0，1，5，6等
</p>

<p>
阵列卡提供缓存及电池保护
</p>

<p>
<b>服务器硬件&#x2014;电源</b>
</p>


<figure id="org9e5a2fd">
<img src="images/image-20210215093311725.png" alt="image-20210215093311725.png">

</figure>

<p>
支持服务器的电力负载，支持冗余，防止电源故障 ，故障预警和防止，故障之前的预防性维护，保证服务器持续运行，电源子系统包括：冗余电源和风扇
</p>

<p>
<b>服务器硬件&#x2014;显卡</b>
</p>

<p>
服务器都在主板上集成了显卡，但是显存容量不高，一般为16M或32M.
</p>

<p>
GPU：Graphic ProcessingUnit，即“图形处理器”
</p>

<p>
<b>服务器硬件&#x2014;热插拔技术</b>
</p>

<p>
热插拔技术，称为热交换技术（Hot Swap），允许在不关机的状态下更换故障热插拔设备，常见的热插拔设备：硬盘，电源，PCI设备，风扇等。热插拔硬盘技术与RAID技术配合起来，可以使服务器在不关机的状态下恢复故障硬盘上的数据，同时并不影响网络用户对数据的使用
</p>

<p>
<b>服务器硬件&#x2014;机柜</b>
</p>


<figure id="orge08d52f">
<img src="images/image-20210215093326561.png" alt="image-20210215093326561.png">

</figure>

<p>
机架式服务器-服务器放置在机柜中
</p>

<p>
通常使用的机柜是42U（约2米高）机柜（1U=44.45mm）
</p>

<p>
外观尺寸一般为：宽600/深1000/高2000（mm）
</p>

<p>
在一个机架上，累计设备U数一般不超过26U，全1U设备部署数量一般不超过16台，全2U设备一般不超过12台，全4U设备一般4到7台
</p>

<p>
<b>机架式服务器-机架及其配件</b>
</p>


<figure id="org5715215">
<img src="images/image-20210215093354112.png" alt="image-20210215093354112.png">

</figure>
</div>
</div>
<div id="outline-container-h:b13e082c-36a7-4b57-a8c3-64bb1830c207" class="outline-5">
<h5 id="h:b13e082c-36a7-4b57-a8c3-64bb1830c207">各种硬件处理速度和性能优化</h5>
<div class="outline-text-5" id="text-h:b13e082c-36a7-4b57-a8c3-64bb1830c207">
<p>
<a href="https://www.sohu.com/a/360663667_467784">https://www.sohu.com/a/360663667_467784</a>
</p>

<p>
服务器的性能短板：如果CPU有每秒处理1000个服务请求的能力，各种总线的负载能力能达到500个，但网卡只能接受200个请求，而硬盘只能负担150个的话，那这台服务器得处理能力只能是150个请求/秒，有85%的处理器计算能力浪费了，在计算机系统当中，硬盘的读写速率已经成为影响系统性能进一步提高的瓶颈
</p>


<figure id="orgdc468d2">
<img src="images/image-20210215093407269.png" alt="image-20210215093407269.png">

</figure>

<p>
电脑的各个设备部件之间的延时从高到底的排列，依次是机械硬盘、固态硬盘、内存、CPU
</p>


<figure id="orgc4568c2">
<img src="images/image-20210215093421773.png" alt="image-20210215093421773.png">

</figure>

<p>
上图可以看到，CPU最快，一个时钟周期是0.3纳秒，内存访问需要120纳秒，固态硬盘访问需要50-150微秒，传统硬盘访问需要1-10毫秒，网络访问最慢，都是几十毫秒。
</p>

<p>
上图最有趣的地方在于它把计算机世界的时间和人类世界的时间做了对比，常常把CPU比喻成跑得很快，但是记不住事情的“阿甘”，他的一个时钟周期如果按1秒算： 内存访问就是6分钟
</p>

<p>
一次 CPU 上下文切换(系统调用)需要大约需要1小时
</p>

<p>
在 1Gbps 的网络上传输 2K 的数据需要10多个小时
</p>

<p>
从 SSD 读取 1MB 的顺序数据，大约需要 1ms，换算成人类时间是 1个月
</p>

<p>
从磁盘读取 1MB 连续数据需要 20ms，换算成人类时间是 20个月
</p>

<p>
如果说打开一个网页可以秒开的话，那也相当于100年
</p>

<p>
<i>对于CPU来说，这个世界真是太慢了！</i>
</p>

<p>
<b>存储器的层次结构</b>
</p>


<figure id="orged33402">
<img src="images/image-20210215093435030.png" alt="image-20210215093435030.png">

</figure>

<p>
上图以层次化的方式，增加了价格信息，它展示了一个真理：世界上没有免费的午餐。存储器越往上速度越快，但是价格越来越贵，越往下速度越慢，但是价格越来越便宜。正是由于计算机各个部件的速度不同，容量不同，价格不同，导致了计算机系统/编程中的各种问题以及相应的解决方案
</p>

<p>
<b>并发和多线程</b>
</p>

<p>
CPU的速度超级快，不能老是让它闲着，要充分地压榨它！这里有两个强劲的理由：
</p>
<ol class="org-ol">
<li>人类需要多个程序“同时”运行，我们要把CPU的时间进行分片，让各个程序在CPU上轮转，造成一种多个程序同时在运行的假象，即 <b>并发</b> 。</li>
<li>当CPU遇到IO操作（硬盘，网络）时，不能坐在那里干等“几个月”甚至“几年”，在等待的时候，一定要切换，去执行别的程序。</li>
</ol>

<p>
说起来简单，但是程序的切换需要保存程序执行的现场，以便以后恢复执行，于是需要一个数据结构来表示，这就是进程了。如果一个进程只有一个“执行流”，如果进程去等待硬盘的操作，那这个程序就会被阻塞，无法响应用户的输入了，所以必须得有多个“执行流”，即 <b>多线程</b> 。
</p>

<p>
<b>缓存</b>
</p>

<p>
需要持久化的数据一定要保存到硬盘中，但是硬盘超级慢，支持不了大量的并发访问，那怎么办呢？
</p>

<p>
可以把最常访问的热点数据放到CPU的缓存中嘛， 其实CPU也是这么做的，但是CPU的L1, L2, L3级缓存实在是太小， 根本满足不了需求。于是只好退而求其次，把热点数据放到速度稍慢的内存中，于是 <b>应用程序的缓存</b> 就出现了。缓存虽然是解决了问题，但是也带来了更多的问题，例如：缓存数据和数据库数据怎么保持一致性？
</p>

<p>
缓存如果崩溃了该怎么处理？数据在一台机器的内存放不下了，要分布到多个机器上，怎么搞分布式啊，用什么算法？&#x2026;..
</p>

<pre class="example" id="orgc7cf3b8">
缓存
---&gt;disk---&gt;缓存(内存条)---&gt;cpu自己的缓存--&gt;cpu

缓冲
---&gt;缓冲区(内存条)批量写---&gt;disk
</pre>

<p>
<b>异步</b>
</p>

<p>
对于Tomcat这样的应用服务器，对于每个请求都要用一个线程来处理，如果现在有一万个请求进来，Tomcat会建立1万个线程来处理吗？ 不会的，因为线程多了开销会很大 ，线程切换起来也很慢，所以它只好用个线程池来复用线程。现在假设线程池中有一千个可用线程（已经非常多了），它们都被派去访问硬盘，数据库，或者发起网络调用，这是非常慢的操作，导致这一千个线程都在等待结果的返回（阻塞了），那剩下的九千个请求就没法处理了，对吧？所以后来人们就发明了新的处理办法，仅使用几个线程（例如和CPU核心数量一样），让他们疯狂运行，遇到I/O操作，程序就注册一个钩子函数放在那里，然后线程就去处理别的请求，等到I/O操作完成了，系统会给这个线程发送一个事件， 线程就回过头来调用之前的钩子函数（也叫回调函数）来处理。
</p>

<p>
这就是 <b>异步</b> ， <b>非阻塞</b> 的处理方式。nginx,Node.js等采用的都是类似的思想。
</p>

<p>
<b>单线程</b>
</p>

<p>
Redis使用单线程的方式来处理请求的，为什么用单线程就可以呢？它为什么不像Tomcat那样使用多线程和线程池呢？因为它面对的仅仅是内存，内存的速度在计算机的体系中仅次于CPU，比那些网络操作不知道要快到哪里去了所以这个唯一的线程就可以快速地执行内存的读写操作，完成从许多网络过来的缓存请求了。单线程还有个巨大的优势，没有竞争，不需要加锁！
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-h:05854193-ffa9-481e-9f12-a5d2d31e29f2" class="outline-3">
<h3 id="h:05854193-ffa9-481e-9f12-a5d2d31e29f2">操作系统和 Linux</h3>
<div class="outline-text-3" id="text-h:05854193-ffa9-481e-9f12-a5d2d31e29f2">
</div>
<div id="outline-container-h:b7419e2c-1b15-4339-9990-b7dff602c69d" class="outline-4">
<h4 id="h:b7419e2c-1b15-4339-9990-b7dff602c69d">操作系统功能</h4>
<div class="outline-text-4" id="text-h:b7419e2c-1b15-4339-9990-b7dff602c69d">
<p>
OS: Operating System 操作系统，通用目的的软件程序
</p>


<figure id="org8e9e089">
<img src="images/image-20210215102746920.png" alt="image-20210215102746920.png">

</figure>

<p>
主要功能：
</p>
<ul class="org-ul">
<li>硬件驱动</li>
<li>进程管理</li>
<li>内存管理</li>
<li>网络管理</li>
<li>安全管理</li>
<li>文件管理</li>
</ul>

<p>
OS分类：
</p>
<ul class="org-ul">
<li>服务器OS：CentOS，Ubuntu，Windows Server，AIX</li>
<li>桌面OS：Windows 10，Mac OS，Fedora</li>
<li>移动设备OS：Andriod，IOS，AliOS，HarmonyOS</li>
</ul>
</div>
</div>
<div id="outline-container-h:cf1e93f0-b3fc-4110-96a4-4122401a83c3" class="outline-4">
<h4 id="h:cf1e93f0-b3fc-4110-96a4-4122401a83c3">操作系统相关概念</h4>
<div class="outline-text-4" id="text-h:cf1e93f0-b3fc-4110-96a4-4122401a83c3">
<p>
<b>接口</b> ：interface，来源于电气工程学科，指的是插座与插头的连接口，起到将电与电器连接起为的功能。后来延伸到软件工程里指软件包向外提供的功能模块的函数接口。所以接口是用来连接两个东西、信号转换和屏蔽细节
</p>

<p>
操作系统通过接口的方式，建立了用户与计算机硬件的沟通方式。用户通过调用操作系统的接口来使用计算机的各种计算服务。
</p>

<p>
为操作系统一般会提供两个重要的接口，来满足用户的一些一般性的使用需求：
</p>

<ul class="org-ul">
<li>命令行(CLI)：实际是一个叫shell的终端程序提供的功能，该程序底层的实质还是调用一些操作系统提供的函数</li>
<li>窗口界面(GUI)：窗口界面通过编写的窗口程序接收来自操作系统消息队列的一些鼠标、键盘动作，进而做出一些响应</li>
</ul>

<p>
<b>ABI</b>
</p>

<p>
Application Binary Interface，应用程序二进制接口，ABI描述了应用程序与OS之间的底层接口,允许编译好的目标代码在使用兼容ABI的系统中无需改动就能运行
</p>

<p>
运行程序格式： 
</p>

<ul class="org-ul">
<li>Windows: PE(portable executable）格式， .dll(dynamic link library)，.lib</li>
<li>Linux: ELF(Executable and Linking Format)格式, .so(shared object), .a</li>
</ul>

<p>
<b>API</b> 
</p>

<p>
Application Programming Interface，应用程序开发接口，API定义了源代码和库之间的接口，因此同样的源代码可以在支持这个API的任何系统中编译
</p>


<figure id="org104e267">
<img src="./images/Snipaste_2023-05-18_14-39-54.png" alt="Snipaste_2023-05-18_14-39-54.png">

</figure>

<p>
<b>POSIX</b>: Portable Operating System Interface 可移植的操作系统接口
</p>
<ul class="org-ul">
<li>IEEE在操作系统上定义的一系列API标准</li>
<li>POSIX兼容的程序可在其它POSIX操作系统编译执行</li>
</ul>

<p>
<b>用户态和内核态</b>
</p>


<figure id="org7070cad">
<img src="images/image-20210215102813776.png" alt="image-20210215102813776.png">

</figure>

<p>
计算机硬件资源都是操作系统内核进行管理的，目前操作系统都是基于多任务、
多用户的。如果每个用户进程都可以随便访问操作系统内核的模块，改变状态，
那整个操作系统的稳定性、安全性都大大降低
</p>

<p>
为了将内核程序与用户程序隔离开，在硬件层面上提供了一次机制，将程序执行
的状态分为了不同的级别，从0到3，数字越小，访问级别越高。0代表内核态，
在该特权级别下，所有内存上的数据都是可见的，可访问的。3代表用户态，在
这个特权级下，程序只能访问一部分的内存区域，只能执行一些限定的指令
</p>

<p>
<b>系统调用 system call 和函数库 Library function</b>
</p>


<figure id="org09902ad">
<img src="images/image-20210215122817472.png" alt="image-20210215122817472.png">

</figure>


<figure id="org4d823aa">
<img src="./images/Snipaste_2023-05-18_14-40-33.png" alt="Snipaste_2023-05-18_14-40-33.png">

</figure>

<p>
对于非一般性使用需求，操作系统提供了一系列的函数调用给软件开发者，由软
件开发者来实现一些用户需要的功能。这些函数调用由于是操作系统内核提供的，
为了有别于一般的函数调用，被称为系统调用。比如使用C语言进行软件开发时，
经常用的printf函数，它的内部实际就是通过write这个系统调用，让操作系统
内核把字符打印在屏幕上的
</p>

<p>
系统调用：就是调用操作系统所提供的API来实现某些功能的行为，硬件资源都
是由操作系统统一管理，当程序需要调用硬件某些功能的时候，只能通过调用操
作系统提供的API来实现，这就是系统调用(System Call)
</p>

<p>
库函数：将提供一些特定功能的代码进行封装，只暴露出一些函数，比如JSON库
(专门用来处理JSON格式的数据)，网络库(专门处理网络相关业务)，提供第三方
调用，那这些函数，就称为库函数，库函数在Ring3层工作，在某些情况下，调
用库函数最终也会发展为系统调用。
</p>


<p>
<b>用户和内核空间</b>
</p>


<figure id="org921992b">
<img src="images/image-20210215122840787.png" alt="image-20210215122840787.png">

</figure>

<p>
用户空间：User space
</p>

<ul class="org-ul">
<li>用户程序的运行空间。为了安全，它们是隔离的，即使用户的程序崩溃，内核也不受影响</li>
<li>只能执行简单的运算，不能直接调用系统资源，必须通过系统接口（ system call），才能向内核发出指令</li>
</ul>

<p>
内核空间：Kernel space
</p>

<ul class="org-ul">
<li>是 Linux 内核的运行空间</li>
<li>可以执行任意命令，调用系统的一切资源</li>
</ul>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">st <span style="color: #a0522d;">r</span>= <span style="color: #8b2252;">"w.com"</span>      // &#29992;&#25143;&#31354;&#38388;
<span style="color: #a0522d;">x</span> = x + 10         // &#29992;&#25143;&#31354;&#38388;
<span style="color: #0000ff;">file.wirte</span>(str)    // &#20999;&#25442;&#21040;&#20869;&#26680;&#31354;&#38388;
<span style="color: #a0522d;">y</span> = x + 200        // &#20999;&#25442;&#21040;1&#29992;&#25143;&#31354;&#38388;
</pre>
</div>

<p>
说明：第一行和第二行都是简单的赋值运算，在 User space执行。第三行需要写入文件，就要切换到Kernel space，因为用户不能直接写文件，必须通过内核安排。第四行又是赋值运算，就切换回Userspace
</p>

<p>
<b>编程语言</b>
</p>

<ul class="org-ul">
<li>低级语言：计算机能理解的语言，二进制
<ul class="org-ul">
<li>机器语言：0和1</li>
<li>汇编语言：和机器语言一一对应，与硬件相关的特有代码、驱动程序开发</li>
</ul></li>
<li>中级语言：C 语言，系统级应用、驱动程序</li>
<li>高级语言：java, python, go, rust, php, Objective-C, C#，易语言(中文)，应用级程序开发，人类语言实现</li>
</ul>

<p>
<b>操作系统在硬件上的实现</b>
</p>



<figure id="orgc7d42e0">
<img src="images/image-20210215124418095.png" alt="image-20210215124418095.png">

</figure>


<blockquote>
<p>
对于操作系统来讲它要把底层的复杂性隐藏起来，隐藏完以后还要把这部分功能用更为简洁的方式向上提供，对于操作系统来讲我们把这个简洁的接口称为系统调用systemcall。有系统调用程序员再写程序就不用面对硬件来写了而是面对系统调用写。所以这个程序文件里面写的大量的程序代码编程程序都是通过调用系统接口而不是硬件的裸接口实现的。
</p>

<p>
计算机操作系统是一款通用软件程序它必须以通用为目的，因此通用目的就不能设定为更为接近用户，所以依然很底层很原始。
</p>

<p>
为了使得程序员工作更为便洁易用，就有人把底层操作系统上的各种各样接口再一次封装为离程序员更近的界面，这个层次叫做库。库是把底层简洁的功能组合成更为复杂的功能。这时就不能把它们称为系统调用而是库接口调用。这个库叫libraries。库的接口叫`libcall`。
</p>

<p>
你拿到系统调用接口作程序还用库接口作程序，很显示利用库接口作程序要快得多。但也有人用系统调用来写程序。我们不希望程序员从头造轮子。
</p>

<p>
程序员在写编程时调用这个可编程的接口叫做`API`。
</p>

<p>
站在程序的运行视角来看，库是二进制文件，内核是二进制文件，程序是二进制文件，它们都是直接运行的。也就意味着这个程序能不能运行看它所依赖的调用的库、二进制文件二者是否兼容。
</p>

<p>
开发好的程序在运行时面对的接口`ABI`。
</p>

<p>
为了让在WINDOWS上开发的程序在linux也能运行，互联网定义了一个规范叫POSIX(Portable Operating System Interface)可移植操作系统接口标准，IX是加上去的，为了像unix和linux。`任何一个遵循POSIX规范的API，那么程序员所写的开发代码在linux上可以用在windows上也可以用，但这个用只是意味着编程接口兼容并不意味着二进制接口兼容`。一旦这个程序写好了两者是编程接口兼容的，我们知道任何程序都要转码成二进制文件才能用的，这需要一个编译器编译。假如在windows上， 通过编译器转换成适用于windows上ABI的运行格式，所以转换后的二进制程序到linux跑不起来了，反之linux上的二进制程序在windows一样跑不起来。
</p>
</blockquote>

<ol class="org-ol">
<li>Syscall系统调用接口(硬件上内核层接口)</li>
<li>libcall库调用（将通用功能在系统接口再封装成模块方便统一功能调用）</li>
<li>操作系统：隐藏底层硬件复杂性，差异性Sysacall&#x2014;&gt;再封装&#x2014;&gt;libcall</li>
</ol>

<p>
POSIX: Portable Operating System Interface 可移植操作系统接口标准
</p>

<p>
API: Application Program Interface 程序员面对的编程接口 ABI:
</p>

<p>
Application Binary Interface 程序应用者面对运行程序的接口
</p>

<p>
编程接口兼容不等于二进制接口兼容
</p>

<p>
GNU/Linux：通常以源码（文本格式）方式提供，任何人可以看到;
</p>

<p>
特性：自由、灵活
</p>

<p>
源码：编译成为 二进制格式
</p>



<figure id="org8b91abe">
<img src="images/image-20210215124437306.png" alt="image-20210215124437306.png">

</figure>
</div>
</div>
<div id="outline-container-h:53e81ba7-804a-446a-8f9c-bdac88e4dc12" class="outline-4">
<h4 id="h:53e81ba7-804a-446a-8f9c-bdac88e4dc12">各种操作系统</h4>
<div class="outline-text-4" id="text-h:53e81ba7-804a-446a-8f9c-bdac88e4dc12">
<p>
<b>操作系统演变</b>
</p>
<ul class="org-ul">
<li>单用户系统：一次只能支持一个用户程序的运行。向用户提供联机交互式的工作环境，如：DOS</li>
<li>批处理系统：用户将一批作业提交给操作系统后就不再交互，由操作系统控制自动运行，提高系统运行效率</li>
<li>多道程序系统：程序控制 CPU 处理顺序</li>
<li>分时系统：提高系统利用率，操作系统控制 CPU</li>
<li>处理顺序，多个人共用一台计算机</li>
<li>个人计算机：每人用户对应一个系统，廉价，方便，易用</li>
<li>分布式计算：每个用户对应多个系统，云计算，大数据处理</li>
</ul>

<p>
<b>服务器三大操作系统</b>
</p>
<ul class="org-ul">
<li>Windows：</li>
<li>Linux：GNU/Linux</li>
<li>Unix：1969年 Ken Thompson
<ul class="org-ul">
<li>System: Bell Lab
<ul class="org-ul">
<li>AIX （IBM）</li>
<li>Solaris (SUN)</li>
<li>HP-UX (HP)</li>
</ul></li>
<li>BSD: （BSRG）Berkeley System Distribution
<ul class="org-ul">
<li>NetBSD</li>
<li>OpenBSD</li>
<li>FreeBSD</li>
</ul></li>
</ul></li>
</ul>

<p>
<b>服务器操作系统市场</b>
</p>


<figure id="orgfe730c0">
<img src="images/image-20210215123057535.png" alt="image-20210215123057535.png">

</figure>

<blockquote>
<p>
硬件设备不能完成所谓的硬件操作，而真正能完成某一个具体任务靠的是软件程序。这就需要程序员了，但是要想程序在硬件上运行起来首先它得能够根据硬件自己的程序逻辑来写程序。比如A公司生产的CPU芯片和B公司生产的CPU芯片彼此之间肯定是不需要共享的，也就意味着intel的CPU和AMD的CPU或者其它任何的CPU内部的执行指令都不一样。因此程序员写程序就是查看这个CPU说明书，而你写的程序只能在这一类CPU上运行。 可以想像下全球生产计算机芯片的厂商非常多，你所写的程序换个电脑就运行不了了，不具有通用性。这是我们所面临的第一个问题。第2个问题，即便它具有通用性，我们全球的所有CPU厂商一家公司使用同一个规范研发，但我们仍然有一个问题就是任何一个程序员写程序为了能让程序能在硬件上运行起来还需要写一个针对硬件的驱动程序，低层需要花费大量时间程序让硬件工作起来，这是完全没有必要的。这段让硬件运行起来的代码就通用了，对于许多程序员都需要，这就是一个通用软件，它什么活也不干，也不是浏览器，它就是要让底层硬件工作起来的基本的驱动程序。而这个让硬件运行起来的叫做通用程序，程序员写的解决某个具体任务需要的叫做专用程序。而通用程序后来就演化为了操作系统。这就来让我们说操作系统了。
</p>

<p>
最早计算机出现的时候是没有所谓操作系统的，后来人们发现输入输出设备在计算机上人是最薄弱的一环，每一次为了让计算机运行程序，我们写的程序转换为机器可以理解的格式，而那时的计算机输入设备叫穿孔纸带，输出设备依然是穿孔纸带，再后来就到了磁带磁芯磁鼓作为输入设备，输出设备变为发光二级管(亮为1不亮为0)。不管怎么讲计算机运行的速度很快，但是人在这一环上作为输入时很慢读取输出时也很慢，所以等磁带出现以后人们就可以这样想办法了，把要运行的程序给做成多个按顺序放在磁带上让电脑读取磁带来加速要运行的程序。像这种我们把它叫做批处理系统batch，出现第一个程序叫做job1并用 <code>$$$$</code> 符隔开
</p>

<p>
批处理系统： <code>job1$$$$job2$$$$jiob3$$$$......</code> 
</p>

<p>
但是批处理系统有一个特性，计算机在运行时根我们大脑一样在某一时刻只能干一件事情，为什么呢。因为内存只有一个来存储指令和数据，CPU也只有一个，所以某一时刻计算机只能运行一个程序，这个程序运行完了它把空间腾出来来运行下一个程序。那个时候所有程序不能同时运行，那个时候就叫做单任务的操作系统。
</p>

<p>
后来虽然批处理在一定程度上解决了人输入输出太慢，但是在某一时刻发现计算机仍然有大量时间CPU时间是浪费的。为什么呢？因为虽然磁带的形式比人快了，但比起CPU的计算能力依然是非常慢的。同样的道理CPU永远比内存快，所以在大量的时间CPU仍然是闲置的。因此我们希望能够满负荷地压榨CPU的能力。
</p>

<p>
我们能否让计算机在同一时刻运行多个任务呢(multi tasks)？
</p>

<p>
CPU和内存只有一个怎么跑多任务呢？一跑多个任务是不是彼此之间就乱掉了啊？你占了我的空间你覆盖了我的数据。为了不乱掉，找一个监管人员。假如在计算机上有一个程序是做监控的，监控程序它有特权，它工作在内存中的某一个特定位置空余的才能被其它程序使用，而这个监控程序把剩余空间划分成一个个格子，这只是假设，任何程序它被装载入到内存时监控程序把它划分好了第1片是第1个程序的第2片是第2个程序的，大家各不相干，于是计算机的数据存储问题解决了，不过存储空间像内存的存储它是向空间上划分的这个容易实现，但是CPU呢？CPU只有一个怎么让多个任务跑起来呢？根我们一样大脑只有1个，虽然领导交给我们5件事完成，而且这5件事你都记下来了，但在某一时刻你只能盘算一件，为了让5件事齐头并进，我们可以想5秒钟第1件事，不管想完想不完把解决问题放在这先记下来，然后再想第2件事5秒钟，&#x2026;. 回过头来再想第1件事，从刚才中断的位置继续往后进行。像这种就是按时间切割的，把一个CPU所能够提供的计算能力从时间上切割，第1个时间片给第1个程序，第2个时间片给第2个程序。
</p>

<p>
为了能让程序跑起来了，我们必须有一个监控程序(Monitor程序)，这个监控程序需要有一个公众之心的没有私心的更不能包藏祸心这么一个组织把这个监控程序写出来。那时有一些项目就催生了，比如像早些时候的ATMT的贝尔实验室(Bell)、麻省理工学院的人工智能实验室(MIT)、通用电器(GE)他们联合起来开发这么一个监控程序，起名Multics。后来2、3年后人们发现这个Multics程序到底的目标是什么呢？最初的设计目标已经完成了，但后续的目标人们发现在设计的过程中越走越任务做不到完美，于是这个系统的目标被越设置越大，到最后甚至于他们迷失了到底要写什么，面对这种现状后来GE通用电器就退出了，再后来贝尔实验室也退出了，不管怎么讲Multics确实研发成功了。
</p>

<p>
而Multics项目就试图建立一个具备众多功能的信息功能应用工具而设定，但是大家都迷失以后贝尔实验室为Multics项目的参与招的那些优秀的工作师就被招回了贝尔实验室，他们就无事可干了，对于牛人他们就自己鼓捣东西了，比如说早期的ken Thompson研发人员在Multics上研发了一个游戏程序Space Travel，贝尔实验室退出以后Ken是没有在Multics计算机上跑这个程序的，为了能够继续研究自己这个小的游戏程序，就决定自己写一个系统能支撑这个游戏的运行，但是当时比较流行的计算机已经到了小型计算机时代，那会数字设备公司(DEC)比较有名，这家公司生产了当时非常著名的小型机PDP-11还有VAX，大概能卖到几十万美元。
</p>

<p>
在贝尔实验室里某个角落有一个没有在用的PDP-7，那时还是用汇编语言编码的，KEN就写了一个小系统来跑他的游戏。他为了让自己的游戏得到关注于是在贝尔实验室兜售自己的游戏，而贝尔实验室的人更多的关注了他的系统，但比当年他们参与的Multics功能单一，他们很戏谑的把这个系统起名为Unics。
</p>

<p>
本来Unics和Multics是相对立的词根，后来不知道什么原因被命名为Unix，这是20世纪60年代末期的产物。
</p>

<p>
到了1971年时，贝尔实验室需要为内部的专利部门提供一个文字处理的程序nroff，这个程序的运行需要一个底层的系统，但早期PDP-12上跑的系统对nroff并不理想，ken这几个就把项目承包下来了，并在unics上写这个程序，并在写nroff程序中，unics不断的被改进，那时还不知道unics会被拿来做什么，也就没有作商业化。
</p>

<p>
1972年前后，unix的装机量在贝尔实验室已经达到10台了，在贝尔实验室广为流行。最初Unix是使用汇编语言写成的，而它的各种应用程序是使用解释型的编程语言B语言编写，B语言的特点在于非常的小巧，但功能还不够强大。后来贝尔实验室的另一个年轻人Dennis Ritch，他就把B语言增加了一些像数据结构或叫数据类型等，进而把B语言升级到B+语言，后来人们发现B+不好听就改名叫C语言。
</p>

<p>
1973-1974年，Ken和Dennis Ritch俩人决定联合起来用C重写整个unix，因为早期用汇编写的unics与底层设备结合程序太紧密。C语言其实是和底层的CPU是没有关系的，有关系的就是这个编译器编译成特定主机的汇编就行了。这在当时是非常冒险的做法，因为当时计算机运行性能很差。我们说过语言越高级，浪费的计算量越多，计算机运行起来越慢。
</p>

<p>
1974年，在《美国计算机通信》杂志上， 双方合伙发表一篇论文，第一次把unix公之于众。受到了很多大学的关注，他们都期望拿来学习和使用。不过当时的贝尔实验室属于AT&amp;T美国电话电报公司。当时美国正大反垄断，AT&amp;T被裁定不能销售电报电话以外的任何产品，如果你有别要还得给。大学拿到代码后把自己的研究成果回馈给贝尔实验室。unix起的系统名很独特就叫System V。这时离个人PC机还有一段时间 。
</p>

<p>
1979年，System V7在大学中流行。
</p>

<p>
1978年，全球第1家包装商业发型版unix公司诞生了，叫西雅图数字公司SCO，开始出售商用版的编译器。
</p>

<p>
1980年，也在美国西雅图，一家更不干起眼的公司成立了，叫微软Microsoft ，当时只有2款产品，第1个是basic语言的编译器，第2个卖unix的变种起名叫XENIX。
</p>

<p>
对Unix做出卓越贡献的是美国加州大学的伯克利分校Berkeley，而Ken在1976年年休时在这任教，因此使得伯克利分校走在世界前列。在学校里有个研究生叫Bill Joy在unix上更是花了很长时间，并且他们联合成立了BSRG组织(伯克利操作系统研究小组)，在1977年发布了BSD（Berkrlry System Distribution）伯克利系统分发版。1980年前后已经成为这个大学的校园网络的核心。
</p>

<p>
1980年前后，美国国防部高级研究计划局DARPA，需要请人在Unix环境下机器上实现TCP/IP协议栈。其实本来DARPA打算在DEC公司的VAX的系统上的VMS上来实现的。DEC公司除了有PDP还有VAX机器，其上的操作系统叫做VMS(VAX监控系统)，也是一个多任务系统。DARPA担心VMS是一个商业系统不可能把原码给我研究，那时Unix还是开放。DARPA就把这个项目合同给了伯克利的BSRG组织。1983年，TCP/IP正式诞生在BSD系列的UNIX系统。
</p>

<p>
但在这个过程还有另外一件事要了解，大概在1981年
</p>

<p>
1981年，Microsoft公司的大概有3个合伙人，其中有一个合伙人在美国西雅图产品公司SCP，这个产品公司有一个程序员大概花了6个周自己研发了一个小系统叫QDOS（Quick and Dirty Operating System），因为那时个人计算机已经出现了但是没有操作系统，Unix系统还是比较大的跑不上去，unix对计算机性能要求还是比较高的，那时Unxi系统主要跑在摩托罗拉的CPU上，而第1代PC兼容机是intel生产的CPU，在摩托罗拉的程序员看来intel的CPU丑陋廉价性能非常的差，unix在上面就跑不动。比尔盖茨发现这个事了，然后通过他母亲在IBM公司的董事席位了解到IBM正准备大批量发行售卖PC兼容机，于是比尔盖茨敏感的捕捉到了商机，他5万美元为合同从美国西雅图产品公司一下子买断了QDOS的版权，然后在这个系统的基础上改进，又通过自己的谈判拿下了IBM的PC兼容机的合同，他当时的做法是非常精巧的，他找到了当时的CEO并告诉他自己有一个系统可以随着硬件搭售，而且搭售非常便宜我的系统版权不卖给你但是每卖一个计算机可以直接装上这个系统只需给我费用就OK，PC兼容机卖到了几百万台，而比尔羡从中赚到了几千万美元。同比尔羡还说服了IBM的CEO，我的这个系统不仅能卖给你还可以卖给其它公司，当时的DEC和康柏都卖这种PC兼容机，因此上亿美金到手了，因此比尔羡跟技术不沾边，完全是个商业天才。随后的几年DOS光芒反而胜过了CP/M了，性能价格比CP/M更好 ，DOS是QDOS的仿照版，DOS 2.0 只卖几美元，让比尔成为全球富豪。更有意思的是直到1990年为止，微软公司的开发环境都是Unix。
</p>

<p>
Windows（支持图形化）
</p>

<p>
windows nt（new technology）
</p>

<p>
在这个期间有一家公司也成立了
</p>

<p>
1982年SUN公司，成立者是Bill Joy ，联合了3个人利用斯坦福设计的硬件和伯克利大学所设计的软件BSD出售BSD系统的小型机workstation工作站。同时伯克利大学的BSRG组织也开始单独出售BSD系统。
</p>

<p>
1983年，DEC公司取消PDP-10、PDP-11之后的衍生版本，并且随后VAX机系统的工作站上没有VMS系统都有unix系统。
</p>

<p>
随后几年比尔和SUN公司虽然都赚到了很多钱，各公司都还相安无事。而且贝尔实验室对unix的发行者和BSD阵营的对微软公司还是不屑一顾，他们还是觉得X86的主机太丑陋。再后来AT&amp;T公司被美国最高法院裁定违反了反垄断法被分拆了，贝尔实验室独立了。贝尔实验室就不受限于卖电报电话。贝尔实验室每个动作就是把BSD告上法庭 侵犯了unix版权并要求对方付费，其实当时BSD所保留的UNIX代码已经不足30%，所以两者打了一场很长的10年的官司。在此期间美国车库有一家公司又诞生了，
</p>

<p>
Apple公司，当时CEO转到另一家公司XEROX施乐公司的PARK实验室（star产品：图像化界面），PARK实验还无偿贡献了以太网和鼠标给人类。当时以很低的价格卖给乔布斯作拷贝， 不知道怎么回事Bill Gates听说了，比尔找到了乔布斯学习下，于是拷贝一份代码只是上层代码没有底层代码，为了看上去不你乔布斯的系统又不侵犯版权，所以在DOS上研究，以极底价格卖给了乔布斯的合作伙伴，后又开发出最早的windows。windows的底层是DOS，DOS对于视窗系统兼容性不是很好，对于比尔来讲遇到最大的问题就是出去演示了就蓝屏了。碰巧的是DEC的VMS被打入了冷宫，因为unix抢了它的饭碗，比尔找到了他们加入微软，他们在windows基础上研究出了windows nt (new technology)，再后来在windows nt的基础上出现了windows 2000, windows 2003, windows xp。不过当时windows的图形界面相比于APPLE的丑陋的很。
</p>

<p>
1985年，当unix商业化后，AT&amp;T公司又被分拆，当年拿到unix备份的一份交4万美元，当时在计算机大学讲授都用unix，其中就包括麻省理工大学MIT，在这个大学中有个极左的人叫Richard Stallman很激进，觉得软件不应该被商业公司独占，并发起生产主义运动GUN： GUN is Not Unix，GUN不是unix这是递归缩进，软件不商业化软件都是自由的，任何人都可以获取使用。于是GUN发展起来了。他们有自己的章程GPL：General Public License通用公共协议。遵循了GPL软件就free:freedom自由的，当时X-Window软件也遵循了GPL，还有gcc: gnu c complier，vi: visual interface都遵循了GPL。但这些软件还是要运行在unix系统上，于是这些开发者就希望有一个监控程序来运行这些软件。
</p>

<p>
没想到 FSF：Free Software Foundation 
</p>

<p>
在欧洲有一个大学里一个教授Andrew在unix商业化后，自己写了一个类似unix的系统Minix，早起4000+行代码，很unix上的功能都有，有很多学生及黑客希望为minix增加代码增加通用性，但教授不允许任何代码加入到Minix。
</p>

<p>
我们知道System V Unix  &lt;&#x2014;&gt; BSD发生了很长时间的官司。微软成长起来。
</p>

<p>
1990年BSD执行反击了，BSD把UNIX的代码清除殆尽从此与unix再无瓜葛。BSD的组织觉得推广unix的任务已经完成，于是这个项目也终止了。但 Jolitz 尝试将BSD移植到x86项目，最终夭折。后来92年又重启项目386-BSD
</p>

<p>
1991年8月，Linus Torvalds宣布成立Linux项目;准守GPL协定。linus还出了本自传《只是为了好玩》，自传都会有些粉饰，看看也就玩了。在90年时http协议诞生了，互联网呈现了大爆炸式的发展。第1年就有上100位黑客获得linux代码后纷纷注入自己的代码。为了避免BSD的官司一些BSD的开发者也转向了linux，BSD也正式的没落了。基于Larry Wall(perl作者)，利用diff编写补丁和patch打补丁工具运用，协同开发推动了linux流行
</p>
</blockquote>


<p>
小结：
</p>
<pre class="example" id="org327aa27">
多任务：multi tasks   ---&gt;Bell，MIT，GE三个组织=Multics
CPU：slice机制，切换任务运算
Memory：分段机制；虚拟地址空间
多任务：multi tasks
避免CPU浪费
cpu时序复用
监控分配
Bell,MIT,GE =Multics(多功能信息应用工具)

贝尔实验室的ken Thompson ---&gt;在PDP-7上开发
DEC：小型机PDP-11，VAX(VMS)流行，贵  ---&gt;Ken在PDP-7汇编语言上开发游戏(Space Travel)
---&gt;1969:Unics对立  = Unix  ---&gt;Unix：1971 nroff,用于文字处理
---&gt;1972 Bell实验室有十台使用unix
---&gt;B语言-Dennis Ritch-C语言(B语言升级版) ，两人用c语言改写了unix
从汇编到c可移植性增强，但是在当时的计算机性能差方面问题冒险
---&gt;联合发表在《美国计算机通信》：1974年，第一次公之于众
---&gt;1979年：System V7 比较流行
---&gt;1978年， AT&amp;TSCO包装发行unix
---&gt;1980: Microsoft ,XENIX
---&gt;Berkrlry ：Ken 任教伯克利大学
Bill Joy.组织BSRG。1977年发布BSD（Berkrlry System Distribution）
---&gt;1980年，DARPA，在BSD系列的unix上研究tcp/ip
---&gt;在版权官司十年unix逐渐落末


1981.Microsoft，Bill Gates
SCP ：QDOS（Quick and Dirty Operating System）
DOS 2.0，性能价格比CP/M更好
Windows（支持图形化）
windows nt（new technology）
1990.一直在unix上编写DOS
SUN公司:Bill Joy   workstation工作站
Apple：XEROX施乐公司： PARK实验室（star产品：图像化界面）
----&gt;Bill Gates"盗窃"后开发出最早的windows
1985：Richard Stallman
GUN： GUN is Not Unix
GLP：General Public License
FSF：Free Software Foundation    free:freedom自由的
软件方面：X-Window: GPL
gcc: gnu c complier
vi: visual interface
... ...                
Andrew： Minix，早起4000+行代码        
System V Unix  &lt;---&gt; BSD官司
---&gt;1990：BSD  ---&gt;Jolitz 将BSD移植到x86项目，最终夭折
重启项目386-BSD
1991年8月：Linux Torvalds宣布成立Linux;准守GPL协定
---&gt;基于Larry Wall(perl作者), diff编写补丁和patch打补丁工具运用，协同开发推动了linux流行

Unix3个主要分支：
SUN: Solaris
IBM: AIX
HP: HP-UX
lunix诞生历史：
why:sununix太贵
</pre>



<figure id="org2bffa42">
<img src="images/541170-1bb1fbfe72c74321.png" alt="541170-1bb1fbfe72c74321.png">

</figure>
</div>
</div>
<div id="outline-container-h:13e07b24-29de-4aef-9abe-8212a472e8ca" class="outline-4">
<h4 id="h:13e07b24-29de-4aef-9abe-8212a472e8ca">UNIX历史</h4>
<div class="outline-text-4" id="text-h:13e07b24-29de-4aef-9abe-8212a472e8ca">

<figure id="orgb2db778">
<img src="images/image-20210215123112550.png" alt="image-20210215123112550.png">

</figure>

<p>
<b>兼容分时系统 Multics</b>
</p>


<figure id="org2d99809">
<img src="images/image-20210215123131459.png" alt="image-20210215123131459.png">

</figure>

<p>
为了进一步强化大型主机的功能，让主机的资源可以提供更多的使用者来利用，所以在1964年，由贝尔实验室(Bell)、麻省理工学院(MIT)及奇异公司(GE美国通用电气公司)共同发起了Multics（多路信息计算系统）的计划，Multics计划的目的是让大型主机可以同时支持300个以上的终端机连线使用。不过，到了1969年前后，由于计划进度缓慢，资金也短缺，所以该计划虽然继续在研究，但最终贝尔实验室还是选择了退出
</p>

<p>
<b>Unix诞生</b>
</p>

<p>
1966年从加州大学伯克利分校毕业的Ken Thompson加入了贝尔实验室。参与了Multics系统的研发。他基于Multics开发了“star travel”游戏。不幸的是，1969年由于贝尔实验室退出Multics项目，这同时意味着Ken将没有机器可以再玩这个游戏了。面对此情此景，Ken作为一个创造者的本性立即体现了出来，于是他决定自己写一个操作系统来满足他玩游戏的需要，Ken找到了一台废弃已久的老式PDP-7，并在这台机器上重写了他的游戏。在这个过程中，Ken有了一个主意，要开发一个全新的操作系统。利用PDP-7上的汇编语言，Ken只花了一个月就编写完了操作系统的内核，在这个一个月中，他一周一个内核，一个文件系统，一个编辑器和一个编译程序的完成
</p>


<figure id="org4bf65b2">
<img src="images/image-20210215123146601.png" alt="image-20210215123146601.png">

</figure>

<pre class="example" id="orgff83337">
1969 Unix 雏形 UNICS
 Ken Thompson 汇编语言 B语言
1973 正式命名为 Unix
 Dennis Ritchie C语言
1977 BSD
 Berkeley Software Distribution 伯克利大学
1979 System V架构 版权声明
 HP-UNIX IBM AIX “不对学生提供源码” 收回版权
1984年 Minix操作系统
 Andrew S. Tanenbaum 荷兰阿姆斯特丹自由大学计算机科学系
1970 ~1980 年代初，商业初创公司大规模采用 Unix（BSD 和 System V）
 Unix 分裂，包括 DYNIX、HP-UX、SunOS/Solaris、AIX 和 Xenix。
1990 年代
  BSD 和 Linux 发行版是通过全球程序员网络合作开发的。
2000 年
  苹果发布了 Darwin，这也是一个 Unix 系统，它成为 Mac OS X 操作系统的核心，后来更名为 macOS。
</pre>

<p>
参考文档：
</p>
<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/Unix#History">https://en.wikipedia.org/wiki/Unix#History</a></li>
<li><a href="https://gunkies.org/wiki/UNIX">https://gunkies.org/wiki/UNIX</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:c296ed6c-db72-4123-83f1-073449a37c3f" class="outline-4">
<h4 id="h:c296ed6c-db72-4123-83f1-073449a37c3f">GNU</h4>
<div class="outline-text-4" id="text-h:c296ed6c-db72-4123-83f1-073449a37c3f">

<figure id="org2d425cd">
<img src="images/image-20210215123205233.png" alt="image-20210215123205233.png">

</figure>

<p>
<b>GNU：GNU is Not Unix</b>
</p>

<p>
1984年由Richard Stallman发起并创建
</p>

<p>
目标是编写大量兼容于Unix系统的自由软件
</p>

<p>
官方网站：<a href="http://www.gnu.org">http://www.gnu.org</a>
</p>

<p>
GPL：GNU General Public License
</p>

<p>
自由软件基金会：Free Software Foundation
</p>

<p>
允许用户任意复制、传递、修改及再发布
</p>

<p>
基于自由软件修改再次发布的软件，仍需遵守GPL
</p>

<p>
LGPL：Lesser General Public License，LGPL相对于GPL较为宽松，允许不公开全部源代码
</p>


<p>
GNU操作系统：
</p>

<p>
Hurd：Hird(Hurd of Interfaces Representing Depth) of Unix-Replacing Daemons
</p>

<p>
官网：<a href="http://www.gnu.org/software/hurd/hurd.html">http://www.gnu.org/software/hurd/hurd.html</a>
</p>

<p>
richard Stallman 为了无止境寻找完美内核，而忘记了HURD的原本目的:能用的操作系统
</p>
</div>
</div>
<div id="outline-container-h:97022410-c41c-46f4-83d2-4aa702574391" class="outline-4">
<h4 id="h:97022410-c41c-46f4-83d2-4aa702574391">Linux</h4>
<div class="outline-text-4" id="text-h:97022410-c41c-46f4-83d2-4aa702574391">

<figure id="org17b5ef7">
<img src="images/image-20210215123223992.png" alt="image-20210215123223992.png">

</figure>

<p>
1991年的10月5日Linus Benedict Torvalds在comp.os.minix新闻组上发布消息，正式向外宣布他自行编写的完全自由免费的内核诞生（Freeminix-like kernel sources for 386-AT） &#x2013;FREAX，含义是怪诞的、怪物、异想天开类Unix的内核，在GPL下发布
</p>

<p>
官网：<a href="https://www.kernel.org/">https://www.kernel.org/</a>
</p>

<p>
最早版本: <a href="https://mirrors.edge.kernel.org/pub/linux/kernel/Historic/">https://mirrors.edge.kernel.org/pub/linux/kernel/Historic/</a>
</p>

<p>
<b>Linux操作系统</b>
</p>

<ul class="org-ul">
<li>完整的类UNIX操作系统</li>
<li><p>
Linux内核+ GNU工具=Linux/GNU
</p>

<p>
如：CentOS,Ubuntu,Android
</p></li>
</ul>


<p>
<b>Linux的内核版本组成</b>
</p>

<ul class="org-ul">
<li>主版本号</li>
<li>次版本号</li>
<li>末版本号</li>
<li>打包版本号</li>
<li>厂商版本 Linux团队</li>
</ul>


<figure id="org9046240">
<img src="images/image-20210215123338320.png" alt="image-20210215123338320.png">

</figure>

<p>
<b>Linux 发行版</b> 
</p>

<p>
<a href="https://mirrors.kernel.org/">https://mirrors.kernel.org/</a>
</p>

<ul class="org-ul">
<li>slackware：SUSE Linux Enterprise Server (SLES) , OpenSuse桌面</li>
<li>debian: ubuntu，deepin（深度），mint</li>
<li>redhat： RHEL: RedHat Enterprise Linux, 每18个月发行一个新版本
<ul class="org-ul">
<li>CentOS： Community Enterprise Operating System 兼容RHEL的格式</li>
<li>中标麒麟：中标软件</li>
<li>Fedora：每6个月发行一个新版本</li>
</ul></li>

<li>Alpine： 一个面向安全的轻型 Linux 发行版。它不同于通常 Linux 发行版，Alpine 采用了 musllibc 和 busybox 以减小系统的体积和运行时资源消耗，但功能上比 busybox 又完善的多，只有5M左右大小</li>
<li>ArchLinux：轻量简洁，遵循K.I.S.S.原则（ keep it simple and stupid），Manjaro</li>
<li>Gentoo：极致性能，不提供传统意义的安装程序，下载源代码在本机上编译安装软件</li>
<li>LFS：Linux From scratch 自制Linux，只是一个说明书 <a href="https://www.linuxfromscratch.org/">https://www.linuxfromscratch.org/</a></li>
<li>Android：kernel+busybox（工具集）+java虚拟机</li>
</ul>

<p>
Linux 分支参考网站：<a href="http://futurist.se/gldt/">http://futurist.se/gldt/</a>  <img src="https://en.wikipedia.org/wiki/File:Linux_Distribution_Timeline.svg" alt="File:Linux_Distribution_Timeline.svg" class="org-svg">
</p>

<p>
Linux发行版排名: <a href="https://distrowatch.com/dwres.php?resource=popularity">https://distrowatch.com/dwres.php?resource=popularity</a>
</p>

<p>
Linux 发行版体验: <a href="https://distrotest.net/">https://distrotest.net/</a>
</p>

<p>
wiki: <a href="https://gunkies.org/wiki/Linux">https://gunkies.org/wiki/Linux</a>
</p>

<p>
<b>RedHat 红帽公司</b>
</p>


<figure id="orga0bc474">
<img src="images/image-20210215123353574.png" alt="image-20210215123353574.png">

</figure>

<p>
Marc Ewing早在卡内基梅隆大学读书的时候就戴着他祖父的红色曲球帽. Marc在Marc Ewing大学常把自己的软件命名为Red Hat — Red hat 1, Red Hat 2 用来区别他人的软件. 所以当他开始自己的Linux项 目, 自然就会命名为Red Hat Linux。Ewing非常乐于帮助同学解决计算机问题 “你的朋友可能会说, 去跟我的朋友Marc交流. 谁是Marc? 他是红帽男孩. ” 所以, 至少在他们最亲密的朋友当中, 红帽子成为了技术专家的同义词
</p>

<p>
1993年，Bob Young 建立ACC公司，营销Linux和UNIX的支持软件和书籍杂志
</p>

<p>
1995年，Bob Young 收购了Marc Ewing的业务，合并后的ACC公司成为新的Red Hat软件公司，发布了Red Hat Linux 2.0
</p>

<p>
2018年10月29日，IBM宣布将以约340亿美元收购开源软件和技术主要供应商红帽公司
</p>

<p>
Torvalds 一年有1000w美金
</p>

<p>
<b>红帽发行版本</b> 
</p>
<pre class="example" id="org39e5209">
Red Hat Linux 1.0 (Mother's Day) 1994年11月03日
Red Hat Linux 2.0 1995年09月20日
Red Hat Linux 3.0 (Picasso) 1996年05月01日
Red Hat Linux 4.0 (Colgate) 1996年10月08日
Red Hat Linux 5.0 (Hurricane) 1997年12月01日
Red Hat Linux 6.0 (Hedwig) 1999年04月26日
Red Hat Linux 6.2 (Zoot) Red Hat Linux 6.2E 2000年04月03日
Red Hat Linux 7.0 (Guinness) 2000年03月27日
Red Hat Linux 7.2 (Enigma) Red Hat Enterprise Linux 2 2001年10月22日
Red Hat Linux 8.0 (Psyche) 2002年09月30日
Red Hat Linux 9.0 (Shrike) 2003年03月31日
Red Hat Enterprise Linux 3.0(Taroon) Fedora 1 (Yarrow) 2003年10月22日
Red Hat Enterprise Linux 4.0 2005年02月15日
Red Hat Enterprise Linux 5.0(Tikanga) 2007年03月14日
Red Hat Enterprise Linux 6.0(Santiago) 2010年11月10日
Red Hat Enterprise Linux 7.0(Maipo) 2014年06月10日
Red Hat Enterprise Linux 8.0 2019年05月07日
</pre>

<p>
<b>关于红帽认证</b>
</p>

<p>
红帽认证是目前世界范围内高度认可的Linux行业认证。红帽认证体系有三个等级，分别是RHCSA(红帽认证系统管理员), RHCE(红帽认证工程师), RHCA(红帽认证系统架构师)
</p>
</div>
<div id="outline-container-h:2c6a6d6f-bd5d-49ee-9e0f-0253eb633064" class="outline-5">
<h5 id="h:2c6a6d6f-bd5d-49ee-9e0f-0253eb633064">CentOS 和Rockey Linux</h5>
<div class="outline-text-5" id="text-h:2c6a6d6f-bd5d-49ee-9e0f-0253eb633064">
<ul class="org-ul">
<li>RHEL：企业版，商用要买许可</li>
<li>RHL：个人版，频繁更新，非常不稳定</li>
</ul>

<pre class="example" id="org4f34dc3">
RHEL(Red Enterprise Linux) 红帽企业版Linux
Red Hat 公司自身的产品中本身包含个人版(Red Hat Linux)和企业版(RHEL)
基于GPLg开源协议，不论是Red Hat Linux还是Red HatEnterprise Linux，用户都可以直接从网络上获取，但是从2003年开始，Red Hat Linux被新项目(Fedora Core)所取代，并且频繁更新，所以几乎无法在企业环境中使用。
同样基于GPL开源协议，RHEL在发布时必做发布源代码，所以无论是二进制的发行版，还是源码，用户都可以直接免费获取，但是不能在商业场景中使用，商用必须购买许可(licence)，另外Red Hat公司也提供技术支持，咨询，解决方案等。

CentOS(Community enterprise operating system)社区企业操作系统
就是将RHEL发行的源代码从新编译一次，形成一个可使用的二进制版本，RHEL是遵守GPL开源协议的，所以重新编译是合法的。但是得去掉商标、版权信息等。CentOS可以得到RHEL的所有功能，甚至更好的软件，但CentOS并不向用户提供商业支持，当然也负任何商业责任。漏洞修复和软件包升级等，相对于RHEL的有偿服务来说，也有一定的延时。
</pre>

<p>
2004年，Gregory Kurtzer和CentOS的其他创始成员基于开源的RHEL创建了CentOS，将EnterpriseLinux引入了社区。
</p>

<p>
2014年，红帽宣布正式赞助CentOS。CentOS的几个核心团队入职Red Hat专门负责其开发。并在Red Hat在理事会中占了三席，但是其社区属性得到保留，交易结果是一部分包括将CentOS商标和IP转移到Red Hat以安全保存。
</p>

<p>
CentOS 8于2019年9月交付，紧随RHEL 8之后，CentOS Stream的发布和发布是对下一个次要更新中即将发布内容预览版本。可以说是RHEL的beta频道。
</p>

<p>
2019，巨头IBM花重资收购了Red Hat。并承诺Red Hat忠于其开源根基不会改变，声称" Red Hat对开源的使命和坚定承诺将保持不变。"
</p>

<p>
2020年12月8日IBM宣布将惯例支持到2029年CentOS 8，提前在2年内就终结，唯一的升级途径是Centos Stream—AKA，RHEL的Beta发布，并建议不再生产环境中使用。预示着CentOS可能会正式死亡。CentOS已死，但是CentOS精神将会永存。
</p>

<pre class="example" id="org1d645d7">
以前, centos在rhel下游发版，保证软件的稳定
----rhel-------------------
----------------centos----

现在，centos在上游发版，无法保证稳定. 之后创始人重新开一个下游版本rocky
----centos----------------
---------------rhel--------
--------------------rocky-
</pre>

<p>
随后以CentOS创始人之一Gregory Kurtzer为首，8小时内250人啸聚网络，计划以创建Rocky Linux（Rocky为已经逝世的另外一个CentOS创始人）取代CentOS。Rocky Linux与RHEL兼容
</p>

<p>
目前已经创建了Github Rocky Linux项目组织（<a href="https://github.com/rocky-linux/rocky">github.com/rocky-linux/rocky</a>）和官网（<a href="https://rockylinux.org">rockylinux.org</a>）。
</p>
</div>
</div>
<div id="outline-container-h:49c39932-2c6c-4a58-8c7e-1e01816fe9cc" class="outline-5">
<h5 id="h:49c39932-2c6c-4a58-8c7e-1e01816fe9cc">Debian和Ubuntu</h5>
<div class="outline-text-5" id="text-h:49c39932-2c6c-4a58-8c7e-1e01816fe9cc">
<p>
Debian <a href="https://www.debian.org/intro/why_debian">https://www.debian.org/intro/why_debian</a>
</p>

<p>
Debian 是许多其他发行版的基础。Debian 稳定版本的生命周期为五年：首先是三年的完整支持，然后是两年的长期支持（LTS）
</p>

<ul class="org-ul">
<li>官方地址 <a href="https://www.debian.org/">https://www.debian.org/</a></li>
</ul>

<p>
Ubuntu(乌班图) 基于Debian GNU/Linux，内核比较新
</p>
<ul class="org-ul">
<li>官方地址 <a href="https://ubuntu.com/">https://ubuntu.com/</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:acaa4f53-18b9-437b-af24-67b38754fc9a" class="outline-4">
<h4 id="h:acaa4f53-18b9-437b-af24-67b38754fc9a">开源 Open Source 协议</h4>
<div class="outline-text-4" id="text-h:acaa4f53-18b9-437b-af24-67b38754fc9a">
<p>
1998 年的 2 月 5 日，一场小型聚会在美国加州的 VA 研究中心举行，与会的人包括了 一众信息技术领域的知名学者和工程师。正是在这场会上，大家同意了 Christine Peterson 女士提出的用“开放源代码”（Open Source）一词来替代容易在英语人士中引起歧义的“自由软件”（Free Software）一词，表达的是同样的软件和意思，但更方便理解更容易获取更多支持。从那一天开始，“开源”正式诞生。
</p>



<figure id="org64342db">
<img src="images/image-20210215123406959.png" alt="image-20210215123406959.png">

</figure>

<p>
<b>开源 Open Source</b>
</p>

<ul class="org-ul">
<li>软件和源代码提供给所有人，自由分发软件和源代码，free 自由，不是免费的意思</li>
<li>能够修改和创建衍生作品</li>
</ul>

<p>
开源软件特性：
</p>
<ol class="org-ol">
<li>自由学习、自由修改源代码</li>
<li>可以出于任何目的获得源代码</li>
<li>可以自由分发源代码</li>
<li>自由创建衍生版</li>
</ol>

<p>
<b>软件分类</b>
</p>
<ul class="org-ul">
<li>商业：收费，源码也不公开</li>
<li>共享：免费使用，但源码不公开</li>
<li>自由：源代码公开</li>
</ul>

<p>
<b>开源协议</b>
</p>

<p>
世界上的开源许可证，大概有上百种
</p>


<figure id="org7422d2b">
<img src="images/image-20210215123435441.png" alt="image-20210215123435441.png">

</figure>

<ul class="org-ul">
<li>GPLv2, GPLv3, LGPL(lesser) ：通用公共许可 copyleft</li>
<li>Apache: apache</li>
<li>BSD: bsd</li>
<li>Mozilla</li>
<li>MIT</li>
</ul>

<p>
常用开源协议：
</p>

<ol class="org-ol">
<li><p>
GPL： General Public
</p>

<p>
官方软件许可证列表： <a href="https://www.gnu.org/licenses/license-list.html">https://www.gnu.org/licenses/license-list.html</a>
</p>

<p>
License通用公共许可证，版权属于GPL,任何程序只要遵循GPL协定，就必须开源
</p>

<p>
FSF：自由软件基金会 版权标记：copyright, 开源软件版权标记copyleft
</p>

<p>
GPL V2. GPL V3.更新版
</p>

<p>
不利于开源的蓬勃发展
</p>

<p>
GPL的出发点是代码的开源/免费使用和引用/修改/衍生代码的开源/免费使用，但不允许修改后和衍生的代码做为闭源的商业软件发布和销售。
</p>

<p>
GPL协议的主要内容是只要在一个软件中使用("使用"指类库引用，修改后的代码或者衍生代码)GPL
</p>

<p>
协议的产品，则该软件产品必须也采用GPL协议，既必须也是开源和免费。这就是所谓的”传染性”。GPL协议的产品作为一个单独的产品使用没有任何问题，还可以享受免费的优势。
</p>

<p>
由于GPL严格要求使用了GPL类库的软件产品必须使用GPL协议，对于使用GPL协议的开源代码，商业软件或者对代码有保密要求的部门就不适合集成/采用作为类库和二次开发的基础。
</p></li>

<li>LGPL:Lesser GPL 宽松的通用公共许可证，基于库接口调用，无需开源
<ul class="org-ul">
<li>库接口调用时，可以不用开源。只能以库接口调用才不开源限制了GPL发展。</li>
<li>基于代码或者衍生，就要开源</li>
</ul></li>

<li><p>
BSD协定：Berkeley Software Distribution license
</p>

<p>
BSD开源协议是一个给于使用者很大自由的协议。基本上使用者可以”为所欲为”,可以自由的使用，修改源代码，也可以将修改后的代码作为开源或者专有软件再发布。
</p>

<ol class="org-ol">
<li>如果二次发布的产品中包含源代码，则在源代码中必须带有原来的代码中的BSD协定；</li>
<li>如果二次发布产品是二进制格式的库或程序，则需要在发布的文档或版权声明中说明包含原来的代码中的BSD协定</li>
<li>不可以用开源代码的作者或组织，以及原来的产品的名字做市场推广；</li>
</ol></li>

<li><p>
Apache协定： Apache License ASF：Apache Software Foundtion Apache
</p>

<p>
Licence是著名的非盈利开源组织Apache采用的协议。该协议和BSD类似，同样鼓励代码共享和尊重原作者的著作权，同样允许代码修改，再发布（作为开源或商业软件）。需要满足的条件也和BSD类似；
</p>

<ol class="org-ol">
<li>需要给代码的用户apach license说明，说明软件中包含这个</li>
<li>如果了源代码，需要在源代码中说明</li>
<li>在衍生代码中，需要带有原来代码的协议/商标</li>
<li>发布中有Notice文件，注明带有Apache Licence版权的代码</li>
</ol></li>

<li><p>
MIT（MIT）The MIT License
</p>

<p>
MIT是和BSD一样宽范的许可协议,作者只想保留版权,而无任何其他了限制.也就是说,你必须在你的发行版里包含原许可协议的声明,无论你是以二进制发布的还是以源代码发布的.
</p></li>
</ol>

<p>
开源软件的作者采用双线授权：
</p>

<p>
研发一个程序有2个分支，第1个分支支持开源协定，第2个商业化
</p>

<ul class="org-ul">
<li>Community社区版：遵循开源协定</li>

<li>Enterprise商业授权版：社区版基础上二次开发出更强大的功能、以及提供服务</li>
</ul>

<p>
后来很多开源软件作者都基于这种方式获得收入。
</p>
</div>
</div>
<div id="outline-container-h:423218b6-1312-4465-97e3-5867cb9db58e" class="outline-4">
<h4 id="h:423218b6-1312-4465-97e3-5867cb9db58e">著作版权</h4>
<div class="outline-text-4" id="text-h:423218b6-1312-4465-97e3-5867cb9db58e">
<p>
关于项目的开源许可协议 。
</p>

<p>
常见有六种，GPL、BSD、MIT、Mozilla、Apache和LGPL。这些协议适用于我们软件与项目代码，对于我们文档和作品，我们通常使用创作共用许可证来保护。
</p>

<p>
到 <a href="http://creativecommons.org/license/%20">http://creativecommons.org/license/%20</a>去进行选择
</p>

<p>
<a href="https://creativecommons.org/share-your-work/cclicenses/">https://creativecommons.org/share-your-work/cclicenses/</a>
</p>



<figure id="orgdd3e393">
<img src="images/image-20210215123503094.png" alt="image-20210215123503094.png">

</figure>

<pre class="example" id="org1c579eb">
1. 署名（by license）
2. 署名-非商业用途（by-nc license）
3. 署名-禁止演绎（by-nd license）
4. 署名-非商业用途-禁止演绎（by-nc-nd license）
5. 署名-非商业用途-相同方式共享（by-nc-sa license）
6. 署名-相同方式共享（by-sa license）
</pre>

<p>
阮一峰：谈谈创作共用许可证（Creative Commons licenses）
<a href="http://www.ruanyifeng.com/blog/2008/04/creative_commons_licenses.html">http://www.ruanyifeng.com/blog/2008/04/creative_commons_licenses.html</a>
</p>

<div class="org-src-container">
<pre class="src src-text">&#29256;&#26435;&#22768;&#26126;&#65306;&#26412;&#25991;&#37319;&#29992;&#30693;&#35782;&#20849;&#20139;&#32626;&#21517;-&#38750;&#21830;&#19994;&#24615;&#20351;&#29992; 4.0 &#22269;&#38469;&#35768;&#21487;&#21327;&#35758;&#36827;&#34892;&#35768;&#21487;
&#29256;&#26435;&#22768;&#26126;&#65306;CC BY-NC 4.0
</pre>
</div>

<div class="org-src-container">
<pre class="src src-text">1. &#20320;&#21487;&#20197;&#33258;&#30001;&#65306;
&#20849;&#20139; &#8212;&#8212; &#22312;&#20219;&#20309;&#23186;&#20171;&#20197;&#20219;&#20309;&#24418;&#24335;&#22797;&#21046;&#12289;&#21457;&#34892;&#26412;&#20316;&#21697;
&#28436;&#32462; &#8212;&#8212; &#20462;&#25913;&#12289;&#36716;&#25442;&#25110;&#20197;&#26412;&#20316;&#21697;&#20026;&#22522;&#30784;&#36827;&#34892;&#21019;&#20316;
&#21482;&#35201;&#20320;&#36981;&#23432;&#35768;&#21487;&#21327;&#35758;&#26465;&#27454;&#65292;&#35768;&#21487;&#20154;&#23601;&#26080;&#27861;&#25910;&#22238;&#20320;&#30340;&#36825;&#20123;&#26435;&#21033;&#12290;

2. &#24799;&#39035;&#36981;&#23432;&#19979;&#21015;&#26465;&#20214;&#65306;
&#32626;&#21517; &#8212;&#8212; &#24744;&#24517;&#39035;&#32473;&#20986;&#36866;&#24403;&#30340;&#32626;&#21517;&#65292;&#25552;&#20379;&#25351;&#21521;&#26412;&#35768;&#21487;&#21327;&#35758;&#30340;&#38142;&#25509;&#65292;&#21516;&#26102;&#26631;&#26126;&#26159;&#21542;&#23545;&#21407;&#22987;&#20316;&#21697;&#20316;&#20102;&#20462;&#25913;&#12290;&#24744;&#21487;&#20197;&#29992;&#20219;&#20309;&#21512;&#29702;&#30340;&#26041;&#24335;&#26469;&#32626;&#21517;&#65292;&#20294;&#26159;&#19981;&#24471;&#20197;&#20219;&#20309;&#26041;&#24335;&#26263;&#31034;&#35768;&#21487;&#20154;&#20026;&#24744;&#25110;&#24744;&#30340;&#20351;&#29992;&#32972;&#20070;&#12290;
&#38750;&#21830;&#19994;&#24615;&#20351;&#29992; &#8212;&#8212; &#24744;&#19981;&#24471;&#23558;&#26412;&#20316;&#21697;&#29992;&#20110;&#21830;&#19994;&#30446;&#30340;&#12290;
&#27809;&#26377;&#38468;&#21152;&#38480;&#21046; &#8212;&#8212; &#24744;&#19981;&#24471;&#36866;&#29992;&#27861;&#24459;&#26415;&#35821;&#25110;&#32773; &#25216;&#26415;&#25514;&#26045; &#20174;&#32780;&#38480;&#21046;&#20854;&#20182;&#20154;&#20570;&#35768;&#21487;&#21327;&#35758;&#20801;&#35768;&#30340;&#20107;&#24773;&#12290;

3. &#22768;&#26126;&#65306;
&#24744;&#19981;&#24517;&#22240;&#20026;&#20844;&#20849;&#39046;&#22495;&#30340;&#20316;&#21697;&#35201;&#32032;&#32780;&#36981;&#23432;&#35768;&#21487;&#21327;&#35758;&#65292;&#25110;&#32773;&#24744;&#30340;&#20351;&#29992;&#34987;&#21487;&#36866;&#29992;&#30340; &#20363;&#22806;&#25110;&#38480;&#21046;&#25152;&#20801;&#35768;&#12290;
&#19981;&#25552;&#20379;&#25285;&#20445;&#12290;&#35768;&#21487;&#21327;&#35758;&#21487;&#33021;&#19981;&#20250;&#32473;&#19982;&#24744;&#24847;&#22270;&#20351;&#29992;&#30340;&#25152;&#24517;&#39035;&#30340;&#25152;&#26377;&#35768;&#21487;&#12290;&#20363;&#22914;&#65292;&#20854;&#20182;&#26435;&#21033;&#27604;&#22914;&#24418;&#35937;&#26435;&#12289;&#38544;&#31169;&#26435;&#25110;&#20154;&#26684;&#26435;&#21487;&#33021;&#38480;&#21046;&#24744;&#22914;&#20309;&#20351;&#29992;&#20316;&#21697;&#12290;
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:62b2d08b-3ef6-4cd0-831b-85989136ab69" class="outline-2">
<h2 id="h:62b2d08b-3ef6-4cd0-831b-85989136ab69">Linux安装</h2>
<div class="outline-text-2" id="text-h:62b2d08b-3ef6-4cd0-831b-85989136ab69">
</div>
<div id="outline-container-h:9093bcfd-ad5e-48c7-94a8-34c9ca29e60b" class="outline-3">
<h3 id="h:9093bcfd-ad5e-48c7-94a8-34c9ca29e60b">Unix哲学思想</h3>
<div class="outline-text-3" id="text-h:9093bcfd-ad5e-48c7-94a8-34c9ca29e60b">
<ul class="org-ul">
<li>一切都是一个文件（包括硬件）</li>
<li>小型，单一用途的程序</li>
<li>链接程序，共同完成复杂的任务</li>
<li>避免令人困惑的用户界面</li>
<li>配置数据存储在文本中</li>
</ul>
</div>
</div>
<div id="outline-container-h:1826100f-d7ef-47f2-8b8e-056c148cd20c" class="outline-3">
<h3 id="h:1826100f-d7ef-47f2-8b8e-056c148cd20c">Linux 生产主流版本</h3>
<div class="outline-text-3" id="text-h:1826100f-d7ef-47f2-8b8e-056c148cd20c">
<p>
<b>Linux 各种版本</b>
</p>

<p>
Centos 各版本介绍
</p>
<ul class="org-ul">
<li><a href="https://zh.wikipedia.org/wiki/CentOS">https://zh.wikipedia.org/wiki/CentOS</a></li>
</ul>

<p>
RHEL各版本介绍
</p>
<ul class="org-ul">
<li><a href="https://zh.wikipedia.org/wiki/Red_Hat_Enterprise_Linux">https://zh.wikipedia.org/wiki/Red_Hat_Enterprise_Linux</a></li>
</ul>

<p>
Ubuntu 各版本介绍 每隔2年4月发布一版
</p>
<ul class="org-ul">
<li><a href="https://zh.wikipedia.org/wiki/Ubuntu">https://zh.wikipedia.org/wiki/Ubuntu</a></li>
<li><a href="https://blog.csdn.net/songfulu/article/details/85310273">https://blog.csdn.net/songfulu/article/details/85310273</a></li>
</ul>

<p>
<b>获取发行版</b>
</p>

<p>
CentOS
</p>
<ul class="org-ul">
<li><a href="https://wiki.centos.org/Download">https://wiki.centos.org/Download</a></li>
<li><a href="http://mirrors.aliyun.com">http://mirrors.aliyun.com</a></li>
<li><a href="http://mirrors.sohu.com">http://mirrors.sohu.com</a></li>
<li><a href="http://mirrors.163.com">http://mirrors.163.com</a></li>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/centos/">https://mirrors.tuna.tsinghua.edu.cn/centos/</a></li>
</ul>

<p>
Rocky
</p>
<ul class="org-ul">
<li><a href="https://rockylinux.org/zh-CN/download">https://rockylinux.org/zh-CN/download</a></li>
</ul>

<p>
Ubuntu
</p>
<ul class="org-ul">
<li><a href="http://cdimage.ubuntu.com/releases/">http://cdimage.ubuntu.com/releases/</a> Server版</li>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cdimage/releases/">https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cdimage/releases/</a></li>
<li><a href="http://releases.ubuntu.com/">http://releases.ubuntu.com/</a> Desktop版</li>
<li><a href="http://mirrors.aliyun.com/ubuntu-releases/">http://mirrors.aliyun.com/ubuntu-releases/</a>
<ul class="org-ul">
<li>ubuntu24.04.1 <a href="https://mirrors.aliyun.com/ubuntu-releases/24.04.1/ubuntu-24.04.1-live-server-amd64.iso">https://mirrors.aliyun.com/ubuntu-releases/24.04.1/ubuntu-24.04.1-live-server-amd64.iso</a></li>
</ul></li>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/">https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:4864b7f1-4ff9-4709-b81d-c9f35994a2fa" class="outline-3">
<h3 id="h:4864b7f1-4ff9-4709-b81d-c9f35994a2fa">安装linux系统</h3>
<div class="outline-text-3" id="text-h:4864b7f1-4ff9-4709-b81d-c9f35994a2fa">
</div>
<div id="outline-container-h:edbb0090-725a-4c92-bc2c-cef649ec5946" class="outline-4">
<h4 id="h:edbb0090-725a-4c92-bc2c-cef649ec5946">linux安装前准备</h4>
<div class="outline-text-4" id="text-h:edbb0090-725a-4c92-bc2c-cef649ec5946">
<p>
虚拟机：用软件（如：vmware,virtualbox等）模拟硬件,方便实验的灵活配置
</p>

<p>
虚拟化软件，建议使用 Vmware Workstation
</p>



<figure id="org19bf43f">
<img src="images/image-20210215130023460.png" alt="image-20210215130023460.png">

</figure>

<p>
<b>虚拟硬件配置</b>
</p>
<ul class="org-ul">
<li>CPU：2核或更多</li>
<li>内存：1G以上，推荐2G</li>
<li>硬盘：一块硬盘，200G</li>
<li>网卡：NAT模式</li>
<li>光盘：挂载对应版本的ISO文件</li>
</ul>

<p>
<b>打开虚拟化功能</b>
</p>

<p>
在很多家用台式机和笔记本电脑上，虚拟化功能默认是关闭的，再要打开后才能使用Vmware等虚拟化软件，否则会报错。需要在电脑的BIOS里，打开虚拟化功能
</p>

<p>
在电脑的BIOS里，打开虚拟化功能
</p>

<p>
<b>范例：Intel CPU 虚拟化功能</b>
</p>


<figure id="org4aea1e2">
<img src="./images/Snipaste_2023-05-18_16-00-36.png" alt="Snipaste_2023-05-18_16-00-36.png">

</figure>

<p>
<b>范例：AMD CPU 虚拟化功能</b>
</p>


<figure id="orgb3fc756">
<img src="./images/Snipaste_2023-05-18_16-05-25.png" alt="Snipaste_2023-05-18_16-05-25.png">

</figure>
</div>
</div>
<div id="outline-container-h:7d261f7c-a1d2-4640-b32a-d4799e532d08" class="outline-4">
<h4 id="h:7d261f7c-a1d2-4640-b32a-d4799e532d08">vmware</h4>
<div class="outline-text-4" id="text-h:7d261f7c-a1d2-4640-b32a-d4799e532d08">
</div>
<div id="outline-container-h:d67e2d9a-42c2-4f7d-9ffe-6011a8102a6d" class="outline-5">
<h5 id="h:d67e2d9a-42c2-4f7d-9ffe-6011a8102a6d">vmware 设置虚拟机环境</h5>
<div class="outline-text-5" id="text-h:d67e2d9a-42c2-4f7d-9ffe-6011a8102a6d">
<p>
1.统一存放位置
</p>



<figure id="org4adb19c">
<img src="images/image-20210215130434473.png" alt="image-20210215130434473.png">

</figure>

<p>
2.设置vmware 网络
</p>

<p>
编辑&#x2014;虚拟网络编辑器
</p>

<pre class="example" id="org1a37e0f">
子网IP: 10.0.0.0
子网掩码：255.255.255.0

NAT设置：
  网关IP:10.0.0.2
</pre>


<figure id="org00c3acf">
<img src="images/image-20210215130510554.png" alt="image-20210215130510554.png">

</figure>

<p>
存放数据的目录结构
</p>
<div class="org-src-container">
<pre class="src src-sh">&#9492;&#9472;&#9472; linux
    &#9500;&#9472;&#9472; CentOS8
    &#9474;&#160;&#160; &#9500;&#9472;&#9472; CentOS8.3-1  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31532;&#19968;&#20010;&#34394;&#25311;&#26426;</span>
    &#9474;&#160;&#160; &#9492;&#9472;&#9472; CentOS8.3-2  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31532;&#20108;&#20010;&#34394;&#25311;&#26426;</span>
    &#9492;&#9472;&#9472; Ubuntu18.04.5
    &#9474;&#160;&#160; &#9500;&#9472;&#9472; Ubuntu18.04.5-1
</pre>
</div>
</div>
</div>
<div id="outline-container-h:79e862eb-954e-471a-8c4b-24a73efa416d" class="outline-5">
<h5 id="h:79e862eb-954e-471a-8c4b-24a73efa416d">创建新虚拟机-Centos8</h5>
<div class="outline-text-5" id="text-h:79e862eb-954e-471a-8c4b-24a73efa416d">
<ul class="org-ul">
<li>文件&#x2013;新建虚拟机</li>
</ul>


<figure id="org490b5cf">
<img src="images/image-20210215130739023.png" alt="image-20210215130739023.png">

</figure>



<figure id="org39e3059">
<img src="images/image-20210215130801764.png" alt="image-20210215130801764.png">

</figure>

<ul class="org-ul">
<li>选择虚拟硬件兼容性</li>
</ul>



<figure id="orgbda85cc">
<img src="images/image-20210215130839463.png" alt="image-20210215130839463.png">

</figure>

<ul class="org-ul">
<li>安装来源，选稍后安装操作系统</li>
</ul>



<figure id="org4311eb2">
<img src="images/image-20210215130906446.png" alt="image-20210215130906446.png">

</figure>

<ul class="org-ul">
<li>选择客户机操作系统，根据操作要安装的操作系统进行选择</li>
</ul>



<figure id="org55b9dce">
<img src="images/image-20210215130926256.png" alt="image-20210215130926256.png">

</figure>

<ul class="org-ul">
<li>虚拟机名称，随意取</li>
</ul>



<figure id="org32b0865">
<img src="images/image-20210215130941375.png" alt="image-20210215130941375.png">

</figure>


<figure id="org2f70ad5">
<img src="images/Snipaste_2023-05-18_17-03-42.png" alt="Snipaste_2023-05-18_17-03-42.png">

</figure>


<ul class="org-ul">
<li>选择虚拟出的CPU数量， 2核</li>
</ul>



<figure id="orga222684">
<img src="images/image-20210215130954130.png" alt="image-20210215130954130.png">

</figure>

<ul class="org-ul">
<li>选择内存大小，2GB</li>
</ul>



<figure id="org07b2287">
<img src="images/image-20210215131021014.png" alt="image-20210215131021014.png">

</figure>

<ul class="org-ul">
<li>网络类型，NAT</li>
</ul>



<figure id="orgdac426e">
<img src="images/image-20210215131033954.png" alt="image-20210215131033954.png">

</figure>

<ul class="org-ul">
<li>一直下一步到，选择创建新虚拟磁盘</li>
</ul>



<figure id="org7668f05">
<img src="images/image-20210215131105207.png" alt="image-20210215131105207.png">

</figure>

<ul class="org-ul">
<li>指定磁盘容量，200GB</li>
</ul>



<figure id="org9868dbb">
<img src="images/image-20210215131115669.png" alt="image-20210215131115669.png">

</figure>

<p>
存储为单个文件. 如果选多个文件后期磁盘扩容麻烦，需要手动合并多文件
</p>



<figure id="orgdcf434d">
<img src="images/image-20210215131145876.png" alt="image-20210215131145876.png">

</figure>

<ol class="org-ol">
<li>完成</li>
</ol>



<figure id="orgee3f322">
<img src="images/image-20210215131207294.png" alt="image-20210215131207294.png">

</figure>
</div>
</div>
<div id="outline-container-h:4747c45d-c917-4d8f-ab53-0e72dc5d1a99" class="outline-5">
<h5 id="h:4747c45d-c917-4d8f-ab53-0e72dc5d1a99">选择linux系统安装媒介</h5>
<div class="outline-text-5" id="text-h:4747c45d-c917-4d8f-ab53-0e72dc5d1a99">
<p>
安装系统有多种方式：ISO镜像、PXE
</p>

<p>
1.找到ISO镜像
</p>



<figure id="org961ef06">
<img src="images/image-20210215131714916.png" alt="image-20210215131714916.png">

</figure>



<figure id="org89535bd">
<img src="images/image-20210215131728500.png" alt="image-20210215131728500.png">

</figure>



<figure id="orgeb23055">
<img src="images/image-20210215131740038.png" alt="image-20210215131740038.png">

</figure>



<figure id="org7840e69">
<img src="images/image-20210215131809958.png" alt="image-20210215131809958.png">

</figure>

<p>
2.加电开机
</p>


<figure id="orgde9f850">
<img src="images/image-20210215131844017.png" alt="image-20210215131844017.png">

</figure>
</div>
</div>
</div>
<div id="outline-container-h:26d6f56a-9620-423b-bff8-356212125b2c" class="outline-4">
<h4 id="h:26d6f56a-9620-423b-bff8-356212125b2c">安装centos</h4>
<div class="outline-text-4" id="text-h:26d6f56a-9620-423b-bff8-356212125b2c">
</div>
<div id="outline-container-h:86eb75be-0eb9-4145-ad4c-13e0f91f8500" class="outline-5">
<h5 id="h:86eb75be-0eb9-4145-ad4c-13e0f91f8500">安装CentOS8/Rocky</h5>
<div class="outline-text-5" id="text-h:86eb75be-0eb9-4145-ad4c-13e0f91f8500">
<ul class="org-ul">
<li>Install Rocky Linux 8.0</li>
</ul>


<figure id="org79c1578">
<img src="images/image-20210215131933032.png" alt="image-20210215131933032.png">

</figure>

<p>
centos7后网卡名称不再是eth0，这里统一改成eth0
</p>

<p>
点击 Tab，打开 kernel 启动选项后，增加 <code>net.ifnames=0 biosdevname=0</code> ，如下图所示
</p>



<figure id="org965a7ed">
<img src="images/image-20210215133151306.png" alt="image-20210215133151306.png">

</figure>

<ul class="org-ul">
<li>选择语言, English</li>
</ul>



<figure id="org49021a5">
<img src="images/image-20210215132002448.png" alt="image-20210215132002448.png">

</figure>

<ul class="org-ul">
<li>设置磁盘空间分配策略</li>
</ul>



<figure id="orge32e795">
<img src="images/image-20210215132025336.png" alt="image-20210215132025336.png">

</figure>

<ul class="org-ul">
<li>自定义分区</li>
</ul>

<p>
总200G
</p>
<div class="org-src-container">
<pre class="src src-sh">/     100g xfs
/boot 1g   ext4
/data 50g  xfs
swap  2g
</pre>
</div>



<figure id="org0e563ac">
<img src="images/image-20210215132050777.png" alt="image-20210215132050777.png">

</figure>



<figure id="org3885a64">
<img src="images/image-20210215132102935.png" alt="image-20210215132102935.png">

</figure>



<figure id="org3b47293">
<img src="images/image-20210215132123939.png" alt="image-20210215132123939.png">

</figure>



<figure id="org6b4e1da">
<img src="images/image-20210215132148914.png" alt="image-20210215132148914.png">

</figure>



<figure id="org7dc6733">
<img src="images/image-20210215132244252.png" alt="image-20210215132244252.png">

</figure>

<ul class="org-ul">
<li>安装指定包组(这里选最小化安装)</li>
</ul>



<figure id="org750fd7c">
<img src="images/image-20210215132337275.png" alt="image-20210215132337275.png">

</figure>

<ul class="org-ul">
<li>配置网络和主机名，开启</li>
</ul>



<figure id="org88b7894">
<img src="images/image-20210215132427873.png" alt="image-20210215132427873.png">

</figure>

<ul class="org-ul">
<li>设置时区和时间</li>
</ul>



<figure id="org0543ad1">
<img src="images/image-20210215132457985.png" alt="image-20210215132457985.png">

</figure>



<figure id="org72f5825">
<img src="images/image-20210215132513112.png" alt="image-20210215132513112.png">

</figure>



<figure id="org262f134">
<img src="images/image-20210215132533188.png" alt="image-20210215132533188.png">

</figure>

<ul class="org-ul">
<li>设置root用户的密码和普通用户</li>
</ul>


<figure id="orgc7a0d64">
<img src="images/image-20210215132554874.png" alt="image-20210215132554874.png">

</figure>

<ul class="org-ul">
<li>重启</li>
</ul>


<figure id="org9a05fba">
<img src="images/image-20210215132647957.png" alt="image-20210215132647957.png">

</figure>

<ul class="org-ul">
<li>第一次启动</li>
</ul>



<figure id="org2769c43">
<img src="images/image-20210215132715505.png" alt="image-20210215132715505.png">

</figure>

<ul class="org-ul">
<li>许可协议，进入并同意许可</li>
</ul>


<figure id="org90ca4aa">
<img src="images/image-20210215132753040.png" alt="image-20210215132753040.png">

</figure>


<figure id="org49dad58">
<img src="images/image-20210215132805388.png" alt="image-20210215132805388.png">

</figure>


<figure id="orgfc4f7ce">
<img src="images/image-20210215132817390.png" alt="image-20210215132817390.png">

</figure>

<ul class="org-ul">
<li>用户登录界面</li>
</ul>
</div>
</div>
<div id="outline-container-h:0ceaeb8a-e0f3-4a69-bb9b-35d516f0176d" class="outline-5">
<h5 id="h:0ceaeb8a-e0f3-4a69-bb9b-35d516f0176d">系统配置</h5>
<div class="outline-text-5" id="text-h:0ceaeb8a-e0f3-4a69-bb9b-35d516f0176d">
</div>
<div id="outline-container-h:349a8e3c-c797-4ac3-adb9-ac42da148ba4" class="outline-6">
<h6 id="h:349a8e3c-c797-4ac3-adb9-ac42da148ba4">网络配置</h6>
<div class="outline-text-6" id="text-h:349a8e3c-c797-4ac3-adb9-ac42da148ba4">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">centos7</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#35831;&#37197;&#32622;&#38745;&#24577; IP  &#22320;&#22336;&#12290;&#27880;&#24847;&#23558; UUID &#21644; &#21644; MAC  &#22320;&#22336; &#24050;&#32463;&#20854;&#23427;&#37197;&#32622;&#21024;&#38500;&#25481;&#65292;&#20415;&#20110;&#36827;&#34892;&#34394;&#25311;&#26426;&#20811;&#38534;&#65292;&#35831;&#21442;&#32771;&#19979;&#38754;&#30340;&#37197;&#32622;&#12290;</span>
[root@localhost ~]# vim /etc/sysconfig/network-scripts/ifcfg-eth0
<span style="color: #a0522d;">TYPE</span>=Ethernet
<span style="color: #a0522d;">BOOTPROTO</span>=static
<span style="color: #a0522d;">NAME</span>=eth0
<span style="color: #a0522d;">DEVICE</span>=eth0
<span style="color: #a0522d;">ONBOOT</span>=yes
<span style="color: #a0522d;">IPADDR</span>=172.16.100.11
<span style="color: #a0522d;">NETMASK</span>=255.255.0.0
<span style="color: #a0522d;">GATEWAY</span>=172.16.0.2
<span style="color: #a0522d;">DNS1</span>=114.114.114.114

&#37325;&#21551;&#32593;&#32476;&#26381;&#21153;
systemctl restart network

<span style="color: #b22222;"># </span><span style="color: #b22222;">centos8</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;&#32593;&#21345;&#21517;</span>
sed -ri <span style="color: #8b2252;">'/GRUB_CMDLINE_LINUX=/s#(.*)"$#\1 ifnames=0"#'</span> /etc/default/grub
grub2-mkconfig -o /boot/grub2/grub.cfg ; reboot

<span style="color: #b22222;">#</span><span style="color: #b22222;">1. &#35774;&#32622; IP  &#22320;&#22336;</span>
cat &gt;/etc/sysconfig/network-scripts/ifcfg-eth0 &lt;&lt;\EOF
<span style="color: #ffa54f;">TYPE=Ethernet</span>
<span style="color: #ffa54f;">BOOTPROTO=static</span>
<span style="color: #ffa54f;">NAME=eth0</span>
<span style="color: #ffa54f;">DEVICE=eth0</span>
<span style="color: #ffa54f;">ONBOOT=yes</span>
<span style="color: #ffa54f;">IPADDR=10.100.21.131</span>
<span style="color: #ffa54f;">PREFIX=24</span>
<span style="color: #ffa54f;">GATEWAY=10.100.21.1</span>
<span style="color: #ffa54f;">#DNS1=223.6.6.6</span>
<span style="color: #ffa54f;">#DNS2=180.76.76.76</span>
<span style="color: #ffa54f;">EOF</span>

nmcli c reload eth0
nmcli c up eth0

<span style="color: #b22222;">#</span><span style="color: #b22222;">dns&#25991;&#20214;&#35201;&#25163;&#21160;&#21019;&#24314;</span>
cat &gt;/etc/resolv.conf&lt;&lt;EOF
<span style="color: #ffa54f;">nameserver 114.114.114.114</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>

<p>
<b>关闭防火墙与SElinux</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">systemctl disable --now firewalld</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">systemctl stop  firewalld</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;&#32773;</span>
systemctl disable --now firewalld.service
systemctl disable --now NetworkManager

setenforce 0
<span style="color: #b22222;">#</span><span style="color: #b22222;">sed -ri '/^[^#]*SELINUX=/s#=.+$#=disabled#' /etc/selinux/config</span>
sed -i <span style="color: #8b2252;">'/^SELINUX=/c SELINUX=disabled'</span> /etc/selinux/config
</pre>
</div>

<p>
<b>关闭 dnsmasq (可选)</b>
</p>

<p>
linux 系统开启了 dnsmasq 后(如 GUI 环境)，将系统DNS Server 设置为 127.0.0.1，这会导致 docker容器无法解析域名，需要关闭它
</p>

<div class="org-src-container">
<pre class="src src-sh">systemctl disable --now dnsmasq
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c76fadfa-a66c-4a22-bce9-e2406a31c891" class="outline-6">
<h6 id="h:c76fadfa-a66c-4a22-bce9-e2406a31c891">设置主机名</h6>
<div class="outline-text-6" id="text-h:c76fadfa-a66c-4a22-bce9-e2406a31c891">
<div class="org-src-container">
<pre class="src src-sh">hostnamectl set-hostname node01
hostname node01
</pre>
</div>

<p>
<b>设置主机名解析</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">cat /etc/hosts</span>
node01 172.16.100.11
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b60d8218-42ea-4e0d-8f88-9486c26d01b3" class="outline-6">
<h6 id="h:b60d8218-42ea-4e0d-8f88-9486c26d01b3">切换yum源和安装常用命令</h6>
<div class="outline-text-6" id="text-h:b60d8218-42ea-4e0d-8f88-9486c26d01b3">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#31995;&#32479;&#28304;&#65292;EPEL&#28304;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">centos7</span>
curl -s -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
curl -s -o  /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
yum makecache <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;&#32531;&#23384;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">centos8</span>
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-8.repo
sed -i -e <span style="color: #8b2252;">'/mirrors.cloud.aliyuncs.com/d'</span> -e <span style="color: #8b2252;">'/mirrors.aliyuncs.com/d'</span> /etc/yum.repos.d/CentOS-Base.repo
yum install -y https://mirrors.aliyun.com/epel/epel-release-latest-8.noarch.rpm
sed -i <span style="color: #8b2252;">'s|^#baseurl=https://download.fedoraproject.org/pub|baseurl=https://mirrors.aliyun.com|'</span> /etc/yum.repos.d/epel*
sed -i <span style="color: #8b2252;">'s|^metalink|#metalink|'</span> /etc/yum.repos.d/epel*
yum makecache <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;&#32531;&#23384;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#36719;&#20214;</span>
yum install -y wget jq psmisc vim net-tools  lrzsz tree screen  tmux lsof tcpdump nc mtr nmap telnet git
yum install -y bash-completion
</pre>
</div>


<p>
常用软件
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">centos</span>
yum install net-tools iproute iputils less telnet -y &amp;&amp; yum install less which file -y &amp;&amp; yum clean all &amp;&amp; <span style="color: #483d8b;">cd</span> /opt &amp;&amp; curl -O https://alibaba.github.io/arthas/arthas-boot.jar

<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu</span>
apt update &amp;&amp; apt install -y  net-tools iproute2 iputils-ping less telnet file curl &amp;&amp; <span style="color: #483d8b;">cd</span> /opt &amp;&amp; curl -O https://alibaba.github.io/arthas/arthas-boot.jar

<span style="color: #b22222;">#</span><span style="color: #b22222;">apline linux</span>
apk update &amp;&amp; apk add busybox-extras file curl &amp;&amp; <span style="color: #483d8b;">cd</span> /opt &amp;&amp; curl -O https://alibaba.github.io/arthas/arthas-boot.jar


<span style="color: #b22222;">#</span><span style="color: #b22222;">busybox-extras&#21253;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">sed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositorie</span>
cat &lt;&lt;\EOF&gt;&gt; /etc/apk/repositories 
<span style="color: #ffa54f;">http://mirrors.tuna.tsinghua.edu.cn/alpine/v3.9/main</span>
<span style="color: #ffa54f;">http://mirrors.tuna.tsinghua.edu.cn/alpine/v3.9/community</span>
<span style="color: #ffa54f;">EOF</span>
apk update
apk add busybox-extras


<span style="color: #b22222;">#</span><span style="color: #b22222;">ifconfig </span>
net-tools
<span style="color: #b22222;">#</span><span style="color: #b22222;">alpine &#33258;&#24102;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">ip ss</span>
iproute  <span style="color: #b22222;">#</span><span style="color: #b22222;">centos</span>
iproute2 <span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu </span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">apline &#33258;&#24102;ip netstat</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">ping</span>
iputils <span style="color: #b22222;">#</span><span style="color: #b22222;">centos</span>
iputils-ping <span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">apline &#33258;&#24102;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">less</span>
less
<span style="color: #b22222;">#</span><span style="color: #b22222;">apline &#33258;&#24102;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">telnet</span>
telnet
busybox-extras <span style="color: #b22222;">#</span><span style="color: #b22222;">apline</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">file</span>
file

<span style="color: #b22222;">#</span><span style="color: #b22222;">curl</span>
curl

<span style="color: #b22222;">#</span><span style="color: #b22222;">arthas-boot.jar</span>
<span style="color: #483d8b;">cd</span> /opt &amp;&amp;  curl -O https://alibaba.github.io/arthas/arthas-boot.jar
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d858f9b0-5a56-4f24-a380-50e5eb6fe5fc" class="outline-6">
<h6 id="h:d858f9b0-5a56-4f24-a380-50e5eb6fe5fc">ssh优化</h6>
<div class="outline-text-6" id="text-h:d858f9b0-5a56-4f24-a380-50e5eb6fe5fc">
<div class="org-src-container">
<pre class="src src-sh">sed -ri <span style="color: #8b2252;">'s/(GSSAPIAuthentication )yes/\1no/'</span>  /etc/ssh/sshd_config
sed -ri <span style="color: #8b2252;">'s/^#(UseDNS )yes/\1no/'</span> /etc/ssh/sshd_config
<span style="color: #b22222;">#</span><span style="color: #b22222;">sed -i 's/^#(Port) 22/\1 2200/'  /etc/ssh/sshd_config</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">sed -i 's/^#(PermitRootLogin )yes/\1no/'  /etc/ssh/sshd_config #&#19981;&#35753;root&#30331;&#24405;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">echo -e 'ClientAliveInterval 10\nClientAliveCountMax 86400' &gt;&gt; /etc/ssh/sshd_config</span>
systemctl restart sshd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1b0b7d78-15f0-4c26-8e5e-7434b4a0c36b" class="outline-6">
<h6 id="h:1b0b7d78-15f0-4c26-8e5e-7434b4a0c36b">命令提示符</h6>
<div class="outline-text-6" id="text-h:1b0b7d78-15f0-4c26-8e5e-7434b4a0c36b">
<div class="org-src-container">
<pre class="src src-sh">cat &gt;/etc/profile.d/ipenv.sh&lt;&lt;\EOF
<span style="color: #ffa54f;">POOL_NAME=`hostname`</span>
<span style="color: #ffa54f;">PS1_POOL=`echo ${POOL_NAME} | tr 'A-Z' 'a-z'`</span>
<span style="color: #ffa54f;">PS1_INT=`/sbin/ip a | egrep -v 'inet6|127.0.0.1|\/32' | awk -F'[ /]+' '/inet/{print $NF" = "$3}' | head -n1`</span>
<span style="color: #ffa54f;">export PS1='[\e[1;32m\u\e[m\e[1;33m@\e[m'"\e[1;35m$PS1_POOL\e[m"' \e[4m\w\e[m] \e[1;36m$PS1_INT\e[m\n\$ '</span>

<span style="color: #ffa54f;">HISTFILESIZE=4000</span>
<span style="color: #ffa54f;">HISTSIZE=4000</span>
<span style="color: #ffa54f;">USER_IP=`who -u am i 2&gt;/dev/null| awk '{print $NF}'|sed -e 's/[()]//g'`</span>
<span style="color: #ffa54f;">if [ -z $USER_IP ]</span>
<span style="color: #ffa54f;">then</span>
<span style="color: #ffa54f;">  USER_IP=`hostname`</span>
<span style="color: #ffa54f;">fi</span>
<span style="color: #ffa54f;">HISTTIMEFORMAT="%F %T $USER_IP:`whoami` "</span>
<span style="color: #ffa54f;">export HISTTIMEFORMAT</span>
<span style="color: #ffa54f;">#export HISTTIMEFORMAT="%Y-%m-%d:%H-%M-%S:`whoami`:  "</span>
<span style="color: #ffa54f;">alias vi=vim</span>
<span style="color: #ffa54f;">export EDITOR=vim</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #483d8b;">source</span> /etc/profile
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3286a285-22d0-443f-9c08-76f52979c43c" class="outline-6">
<h6 id="h:3286a285-22d0-443f-9c08-76f52979c43c">时间同步</h6>
<div class="outline-text-6" id="text-h:3286a285-22d0-443f-9c08-76f52979c43c">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">chrony&#26102;&#38388;&#21516;&#27493;</span>
yum install -y chrony
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37197;&#32622;</span>
cat&gt;/etc/chrony.conf&lt;&lt;EOF
<span style="color: #ffa54f;">server ntp1.aliyun.com iburst minpoll 4 maxpoll 10</span>
<span style="color: #ffa54f;">server cn.pool.ntp.org iburst minpoll 4 maxpoll 10</span>
<span style="color: #ffa54f;">server s1b.time.edu.cn iburst minpoll 4 maxpoll 10</span>
<span style="color: #ffa54f;">stratumweight 0</span>
<span style="color: #ffa54f;">driftfile /var/lib/chrony/chrony.drift</span>
<span style="color: #ffa54f;">rtcsync</span>
<span style="color: #ffa54f;">makestep 1.0 3</span>
<span style="color: #ffa54f;">bindcmdaddress 127.0.0.1</span>
<span style="color: #ffa54f;">keyfile /etc/chrony/chrony.keys</span>
<span style="color: #ffa54f;">logdir /var/log/chrony</span>
<span style="color: #ffa54f;">logchange 1</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">systemctl start chronyd.service</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">systemctl enable chronyd.service</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;</span>
systemctl enable --now chronyd.service
timedatectl set-timezone Asia/Shanghai <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20462;&#25913;&#26102;&#21306;</span>
chronyc -a makestep <span style="color: #b22222;"># </span><span style="color: #b22222;">&#24378;&#21046;&#21516;&#27493;&#19979;&#31995;&#32479;&#26102;&#38047;</span>
timedatectl set-ntp yes <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#29992;NTP&#26102;&#38388;&#21516;&#27493;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">ntp&#30340;&#26102;&#38388;&#21516;&#27493;(&#19981;&#29992;&#20102;)</span>
rpm -ivh http://mirrors.wlnmp.com/centos/wlnmp-release-centos.noarch.rpm
yum install ntp -y
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26356;&#25913;&#26102;&#21306;</span>
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#35774;&#32622;&#23450;&#26102;&#20219;&#21153;&#21516;&#27493;&#26102;&#38388;</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'Asia/Shanghai'</span> &gt;/etc/timezone

ntpdate time2.aliyun.com
ntpdate time.windows.com
hwclock -w

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21152;&#20837;&#21040;crontab</span>
crontab -e
*/5 * * * * /usr/sbin/ntpdate time.windows.com &amp;&gt;/dev/null
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e24a9905-9457-45ee-b8c2-75a72ffdd100" class="outline-6">
<h6 id="h:e24a9905-9457-45ee-b8c2-75a72ffdd100">优化设置 journal</h6>
<div class="outline-text-6" id="text-h:e24a9905-9457-45ee-b8c2-75a72ffdd100">
<p>
优化设置 journal 日志相关，避免日志重复搜集，浪费系统资源。修改systemctl启动的最小文件打开数量。
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#19979;&#38754;&#20004;&#21477;apt&#31995;&#21015;&#31995;&#32479;&#27809;&#26377;&#65292;&#25191;&#34892;&#19981;&#24433;&#21709;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31105;&#27490;rsyslog&#33719;&#21462;journald&#26085;&#24535; &#65288;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">sed -ri 's/^\$ModLoad imjournal/#&amp;/' /etc/rsyslog.conf</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">sed -ri 's/^\$IMJournalStateFile/#&amp;/' /etc/rsyslog.conf</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;systemctl&#21551;&#21160;&#30340;&#26368;&#23567;&#25991;&#20214;&#25171;&#24320;&#25968;&#37327;</span>
sed -ri <span style="color: #8b2252;">'s/^#(DefaultLimitCORE)=/\1=100000/'</span> /etc/systemd/system.conf
sed -ri <span style="color: #8b2252;">'s/^#(DefaultLimitNOFILE)=/\1=100000/'</span> /etc/systemd/system.conf
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e08e2172-ae1f-4bd4-956f-786593adce54" class="outline-6">
<h6 id="h:e08e2172-ae1f-4bd4-956f-786593adce54">limit优化</h6>
<div class="outline-text-6" id="text-h:e08e2172-ae1f-4bd4-956f-786593adce54">
<p>
文件最大打开数，按照规范，在子配置文件写
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">ulimit -SHn 65535 #&#20020;&#26102;&#29983;&#25928;</span>

cat &gt;&gt;/etc/security/limits.conf &lt;&lt;\EOF
<span style="color: #ffa54f;">root   -   nproc       1000000</span>
<span style="color: #ffa54f;">root   -   nofile      1000000</span>
<span style="color: #ffa54f;">*   -   core        unlimited</span>
<span style="color: #ffa54f;">*   -   nproc       1000000</span>
<span style="color: #ffa54f;">*   -   nofile      1000000</span>
<span style="color: #ffa54f;">*   -   memlock     32000</span>
<span style="color: #ffa54f;">*   -   msgqueue    8192000</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21482;&#23545;&#38750; root &#29992;&#25143;&#36215;&#20316;&#29992;&#12290;&#32780; root &#29992;&#25143;&#30340;&#38480;&#21046;&#65292;&#24517;&#39035;&#26174;&#24335;&#28155;&#21152;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0aa698a2-27ae-47c5-986c-3ef93842f9f3" class="outline-6">
<h6 id="h:0aa698a2-27ae-47c5-986c-3ef93842f9f3">内核优化</h6>
<div class="outline-text-6" id="text-h:0aa698a2-27ae-47c5-986c-3ef93842f9f3">
<div class="org-src-container">
<pre class="src src-sh">cat &gt;&gt;/etc/sysctl.conf&lt;&lt; \EOF
<span style="color: #ffa54f;">#add</span>
<span style="color: #ffa54f;">vm.max_map_count = 655360</span>
<span style="color: #ffa54f;">net.core.somaxconn = 26214</span>
<span style="color: #ffa54f;">fs.file-max = 1024000</span>

<span style="color: #ffa54f;">kernel.msgmnb = 65536</span>
<span style="color: #ffa54f;">kernel.msgmax = 65536</span>
<span style="color: #ffa54f;">net.ipv4.conf.all.arp_filter = 1</span>
<span style="color: #ffa54f;">net.ipv4.ip_local_port_range = 10000 65535</span>
<span style="color: #ffa54f;">net.core.netdev_max_backlog = 16384</span>
<span style="color: #ffa54f;">net.core.rmem_max = 2097152</span>
<span style="color: #ffa54f;">net.core.wmem_max = 2097152</span>
<span style="color: #ffa54f;">vm.overcommit_memory = 1</span>
<span style="color: #ffa54f;">vm.swappiness = 0</span>
<span style="color: #ffa54f;">vm.dirty_expire_centisecs = 500</span>
<span style="color: #ffa54f;">vm.dirty_writeback_centisecs = 100</span>
<span style="color: #ffa54f;">vm.dirty_background_ratio = 0</span>
<span style="color: #ffa54f;">vm.dirty_ratio=0</span>
<span style="color: #ffa54f;">vm.dirty_background_bytes = 1610612736</span>
<span style="color: #ffa54f;">vm.dirty_bytes = 4294967296</span>

<span style="color: #ffa54f;"># see details in https://help.aliyun.com/knowledge_detail/39428.html</span>
<span style="color: #ffa54f;">net.ipv4.conf.all.rp_filter=0</span>
<span style="color: #ffa54f;">net.ipv4.conf.default.rp_filter=0</span>
<span style="color: #ffa54f;">net.ipv4.conf.default.arp_announce = 2</span>
<span style="color: #ffa54f;">net.ipv4.conf.lo.arp_announce=2</span>
<span style="color: #ffa54f;">net.ipv4.conf.all.arp_announce=2</span>

<span style="color: #ffa54f;"># see details in https://help.aliyun.com/knowledge_detail/41334.html</span>
<span style="color: #ffa54f;">net.ipv4.tcp_max_syn_backlog = 16384</span>
<span style="color: #ffa54f;">net.ipv4.tcp_max_tw_buckets = 50000</span>
<span style="color: #ffa54f;">net.ipv4.tcp_syncookies = 1</span>
<span style="color: #ffa54f;">net.ipv4.tcp_synack_retries = 2</span>
<span style="color: #ffa54f;">kernel.sysrq = 1</span>

<span style="color: #ffa54f;">#</span>
<span style="color: #ffa54f;">net.ipv4.tcp_syncookies = 1</span>
<span style="color: #ffa54f;">net.ipv4.tcp_tw_reuse = 1</span>
<span style="color: #ffa54f;">net.ipv4.tcp_tw_recycle = 1</span>
<span style="color: #ffa54f;">net.ipv4.tcp_fin_timeout = 30</span>
<span style="color: #ffa54f;">EOF</span>
sysctl -p
</pre>
</div>
</div>
</div>
<div id="outline-container-h:42a1fa43-c55b-4033-b2fd-6e435fb7ff03" class="outline-6">
<h6 id="h:42a1fa43-c55b-4033-b2fd-6e435fb7ff03">别名</h6>
<div class="outline-text-6" id="text-h:42a1fa43-c55b-4033-b2fd-6e435fb7ff03">
<p>
ubuntu/debian
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;\EOF&gt; ~/.bash_profile
<span style="color: #ffa54f;">export LS_OPTIONS='--color=auto'</span>
<span style="color: #ffa54f;">eval "$(dircolors)"</span>
<span style="color: #ffa54f;">alias ls='ls $LS_OPTIONS'</span>
<span style="color: #ffa54f;">alias ll='ls $LS_OPTIONS -l'</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;\EOF&gt; /etc/profile.d/alias.sh
<span style="color: #ffa54f;">alias ll='ls -alF'</span>
<span style="color: #ffa54f;">alias ls='ls --color=auto'</span>
<span style="color: #ffa54f;">alias l.='ls -d .* --color=auto' #&#20165;&#26174;&#31034;&#38544;&#34255;&#25991;&#20214;</span>
<span style="color: #ffa54f;">alias la='ls -A'</span>
<span style="color: #ffa54f;">alias l='ls -CF'</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c2cf3920-1757-4c70-a73c-867f771877c4" class="outline-6">
<h6 id="h:c2cf3920-1757-4c70-a73c-867f771877c4">其他</h6>
<div class="outline-text-6" id="text-h:c2cf3920-1757-4c70-a73c-867f771877c4">
<p>
开启桌面（不推荐）
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# startx
</pre>
</div>

<p>
使用中文字符集（不推荐）
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#24403;&#21069;&#31995;&#32479;&#35821;&#35328;</span>
locale

<span style="color: #b22222;">#</span><span style="color: #b22222;">export LANG='en_US.UTF-8'</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#27704;&#20037;&#20462;&#25913;</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'LANG=en_US.UTF-8'</span> &gt; /etc/locale.conf
<span style="color: #483d8b;">source</span>   /etc/locale.conf
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20063;&#21487;&#20197;&#20351;&#29992;&#21629;&#20196;&#20462;&#25913;locale.conf&#37197;&#32622;&#25991;&#20214;&#65306;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">localectl set-locale LANG=en_US.UTF-8</span>
localectl set-locale <span style="color: #a0522d;">LANG</span>=zh_CN.utf8

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#39564;&#35777;</span>
date
</pre>
</div>

<p>
<b>docker</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">cat &gt;/etc/sysctl.d/docker.conf&lt;&lt;\EOF
<span style="color: #ffa54f;">#docker&#22823;&#37327;&#29983;&#25104;&#30340;iptables&#35268;&#21017;&#21487;&#20197;&#35201;&#25171;&#24320;&#20869;&#29983;&#30340;&#26725;&#25509;&#21151;&#33021;&#65292;&#35201;&#30830;&#20445;Iptables&#19981;&#23545;bridge&#30340;&#25968;&#25454;&#36827;&#34892;&#22788;&#29702;</span>
<span style="color: #ffa54f;">net.bridge.bridge-nf-call-iptables=1</span>
<span style="color: #ffa54f;">net.bridge.bridge-nf-call-ip6tables=1</span>
<span style="color: #ffa54f;">net.bridge.bridge-nf-call-arptables=1</span>

<span style="color: #ffa54f;">vm.swappiness=0</span>
<span style="color: #ffa54f;">vm.overcommit_memory=1</span>

<span style="color: #ffa54f;">vm.panic_on_oom=0</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">sysctl -p /etc/sysctl.d/docker.conf</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;</span>
sysctl --system
</pre>
</div>

<p>
<b>K8S相关</b>
</p>

<p>
k8s相关-安装基础软件包
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">init_pkg</span>=(conntrack-tools     <span style="color: #b22222;"># </span><span style="color: #b22222;">ipvs &#27169;&#24335;&#38656;&#35201;</span>
psmisc        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#23433;&#35013;psmisc &#25165;&#33021;&#20351;&#29992;&#21629;&#20196;killall&#65292;&#23427;&#22312;keepalive&#30340;&#30417;&#27979;&#33050;&#26412;&#20013;&#20351;&#29992;&#21040;</span>
nfs-utils     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25346;&#36733;nfs &#20849;&#20139;&#25991;&#20214;&#38656;&#35201; (&#21019;&#24314;&#22522;&#20110; nfs&#30340;PV &#38656;&#35201;)</span>
jq                  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36731;&#37327;JSON&#22788;&#29702;&#31243;&#24207;&#65292;&#23433;&#35013;docker&#26597;&#35810;&#38236;&#20687;&#38656;&#35201;</span>
socat               <span style="color: #b22222;"># </span><span style="color: #b22222;">&#29992;&#20110;port forwarding</span>
bash-completion     <span style="color: #b22222;"># </span><span style="color: #b22222;">bash&#21629;&#20196;&#34917;&#20840;&#24037;&#20855;&#65292;&#38656;&#35201;&#37325;&#26032;&#30331;&#24405;&#26381;&#21153;&#22120;&#29983;&#25928;</span>
ipset
perl           <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20869;&#26680;&#20381;&#36182;</span>
ipvsadm
conntrack
libseccomp
net-tools
crontabs
sysstat
unzip
bind-utils
tcpdump
telnet
lsof
htop
wget
psmisc
)
<span style="color: #483d8b;">unset</span> yum_pkg;<span style="color: #a020f0;">for</span> i<span style="color: #a020f0;"> in</span> ${<span style="color: #a0522d;">init_pkg</span>[@]}; <span style="color: #a020f0;">do</span> <span style="color: #a0522d;">yum_pkg</span>=<span style="color: #8b2252;">"$yum_pkg $i"</span> ;<span style="color: #a020f0;">done</span> &amp;&amp; yum install -y $<span style="color: #a0522d;">yum_pkg</span>
</pre>
</div>

<p>
k8s相关-加载ipvs内核模块
</p>

<div class="org-src-container">
<pre class="src src-sh">:&gt; /etc/modules-load.d/k8s-ipvs.conf
<span style="color: #a0522d;">module</span>=(
ip_vs
ip_vs_rr
ip_vs_wrr
ip_vs_sh
nf_conntrack
br_netfilter
  )
<span style="color: #a020f0;">for</span> kernel_module<span style="color: #a020f0;"> in</span> ${<span style="color: #a0522d;">module</span>[@]};<span style="color: #a020f0;">do</span>
    /sbin/modinfo -F filename $<span style="color: #a0522d;">kernel_module</span> |&amp; grep -qv ERROR &amp;&amp; <span style="color: #483d8b;">echo</span> $<span style="color: #a0522d;">kernel_module</span> &gt;&gt; /etc/modules-load.d/k8s-ipvs.conf || :
<span style="color: #a020f0;">done</span>

systemctl daemon-reload
systemctl enable --now systemd-modules-load.service
</pre>
</div>

<p>
k8s限制
</p>

<div class="org-src-container">
<pre class="src src-sh">cat &gt;/etc/security/limits.d/kubernetes.conf&lt;&lt;EOF
<span style="color: #ffa54f;">*   -   nproc       1000000</span>
<span style="color: #ffa54f;">*   soft   nofile   1000000</span>
<span style="color: #ffa54f;">*   hard   nofile   131072</span>
<span style="color: #ffa54f;">*   -   memlock     unlimited</span>
<span style="color: #ffa54f;">root soft nproc unlimited</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>

<p>
k8s相关-内核参数
</p>

<p>
所有机器需要设定统参数，目前对ipv6支持不怎么好，所以里面也关闭ipv6了。
</p>

<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;EOF &gt; /etc/sysctl.d/k8s-sysctl.conf
<span style="color: #ffa54f;">#---add k8s---</span>
<span style="color: #ffa54f;">net.ipv4.ip_forward = 1</span>
<span style="color: #ffa54f;">net.netfilter.nf_conntrack_max = 2310720</span>
<span style="color: #ffa54f;">fs.inotify.max_user_watches=89100</span>
<span style="color: #ffa54f;">fs.may_detach_mounts = 1</span>
<span style="color: #ffa54f;">fs.file-max = 52706963</span>
<span style="color: #ffa54f;">fs.nr_open = 52706963</span>

<span style="color: #ffa54f;"># &#35299;&#20915; k8s service &#21516;&#33410;&#28857;&#36890;&#20449;&#38382;&#39064;</span>
<span style="color: #ffa54f;">net.bridge.bridge-nf-call-ip6tables = 1</span>
<span style="color: #ffa54f;">net.bridge.bridge-nf-call-iptables = 1</span>
<span style="color: #ffa54f;">net.bridge.bridge-nf-call-arptables = 1</span>

<span style="color: #ffa54f;">#&#31105;&#27490;&#20351;&#29992; swap &#31354;&#38388;&#65292;&#21482;&#26377;&#24403;&#31995;&#32479; OOM &#26102;&#25165;&#20801;&#35768;&#20351;&#29992;&#23427;</span>
<span style="color: #ffa54f;">vm.swappiness=0</span>
<span style="color: #ffa54f;">vm.panic_on_oom=0  # &#24320;&#21551; OOM</span>
<span style="color: #ffa54f;">vm.overcommit_memory=1 # &#19981;&#26816;&#26597;&#29289;&#29702;&#20869;&#23384;&#26159;&#21542;&#22815;&#29992;</span>

<span style="color: #ffa54f;"># kube-proxy&#20351;&#29992;ipvs&#30340;&#35805;&#20026;&#20102;&#38450;&#27490;timeout&#38656;&#35201;&#35774;&#32622;&#19979;tcp&#21442;&#25968;</span>
<span style="color: #ffa54f;"># https://github.com/moby/moby/issues/31208 </span>
<span style="color: #ffa54f;"># ipvsadm -l --timout</span>
<span style="color: #ffa54f;"># &#20462;&#22797;ipvs&#27169;&#24335;&#19979;&#38271;&#36830;&#25509;timeout&#38382;&#39064; &#23567;&#20110;900&#21363;&#21487;</span>
<span style="color: #ffa54f;">net.ipv4.tcp_keepalive_time = 600</span>
<span style="color: #ffa54f;">net.ipv4.tcp_keepalive_probes = 3</span>
<span style="color: #ffa54f;">net.ipv4.tcp_keepalive_intvl =15</span>

<span style="color: #ffa54f;">net.ipv4.conf.all.arp_announce = 2</span>
<span style="color: #ffa54f;">net.ipv4.tcp_max_tw_buckets = 50000</span>
<span style="color: #ffa54f;">net.ipv4.tcp_tw_reuse = 1</span>
<span style="color: #ffa54f;">net.ipv4.tcp_max_orphans = 327680</span>
<span style="color: #ffa54f;">net.ipv4.tcp_orphan_retries = 3</span>
<span style="color: #ffa54f;">net.ipv4.tcp_syncookies = 1</span>
<span style="color: #ffa54f;">net.ipv4.tcp_max_syn_backlog = 16384</span>
<span style="color: #ffa54f;">net.ipv4.ip_conntrack_max = 65536</span>
<span style="color: #ffa54f;">net.ipv4.tcp_synack_retries = 2</span>
<span style="color: #ffa54f;">net.ipv4.tcp_timestamps = 0</span>
<span style="color: #ffa54f;">net.core.somaxconn = 16384</span>
<span style="color: #ffa54f;">net.ipv6.conf.all.disable_ipv6 = 1</span>
<span style="color: #ffa54f;">net.ipv6.conf.default.disable_ipv6 = 1</span>
<span style="color: #ffa54f;">net.ipv6.conf.lo.disable_ipv6 = 1</span>
<span style="color: #ffa54f;">net.ipv4.neigh.default.gc_stale_time = 120</span>
<span style="color: #ffa54f;">net.ipv4.conf.all.rp_filter = 0</span>
<span style="color: #ffa54f;">net.ipv4.conf.default.rp_filter = 0</span>
<span style="color: #ffa54f;">net.ipv4.conf.default.arp_announce = 2</span>
<span style="color: #ffa54f;">net.ipv4.conf.lo.arp_announce = 2</span>
<span style="color: #ffa54f;">EOF</span>

sysctl --system
</pre>
</div>

<p>
启用 <code>bridge-nf-call-iptables</code> 这个内核参数 (置为 1)，表示 bridge设备在二层转发时也去调用 iptables 配置的三层规则 (包含conntrack)，所以开启这个参数就能够解决上述 Service同节点通信问题，这也是为什么在 Kubernetes 环境中，大多都要求开启
<code>bridge-nf-call-iptables</code> 的原因。参考<a href="https://imroc.cc/post/202105/why-enable-bridge-nf-call-iptables/">https://imroc.cc/post/202105/why-enable-bridge-nf-call-iptables/</a>
</p>

<p>
k8s相关-fstab文件关闭swap Kubernetes
</p>

<p>
v1.8+要求关闭系统Swap,若不关闭则需要修改kubelet设定参数( &#x2013;fail-swap-on设置为 false 来忽略 swapon),在所有机器使用以下指令关闭swap并注释掉/etc/fstab中swap的行：
</p>

<div class="org-src-container">
<pre class="src src-sh">swapoff -a &amp;&amp; sysctl -w vm.swappiness=0
sed -ri <span style="color: #8b2252;">'/^[^#]*swap/s@^@#@'</span> /etc/fstab
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:390305c2-ae5d-4c57-80d5-4127aa7d621c" class="outline-4">
<h4 id="h:390305c2-ae5d-4c57-80d5-4127aa7d621c">安装Ubuntu</h4>
<div class="outline-text-4" id="text-h:390305c2-ae5d-4c57-80d5-4127aa7d621c">
<p>
ISO镜像下载地址：<a href="http://mirrors.aliyun.com/ubuntu-releases">http://mirrors.aliyun.com/ubuntu-releases</a>
</p>

<p>
不带图形界面的server版
</p>

<p>
vmware高级选择UEFI，这样就能使用ubuntu自带的安装器而不使用wmware的简易安装
</p>


<figure id="org7b703c5">
<img src="images/image-20210215140113720.png" alt="image-20210215140113720.png">

</figure>

<ul class="org-ul">
<li>选第一个</li>
</ul>


<figure id="org5fadcb4">
<img src="images/image-20210215140126820.png" alt="image-20210215140126820.png">

</figure>

<ul class="org-ul">
<li>选择安装语言，这里选英语</li>
</ul>


<figure id="orga731717">
<img src="images/image-20210215140146421.png" alt="image-20210215140146421.png">

</figure>

<ul class="org-ul">
<li>选择键盘布局，默认英语</li>
</ul>


<figure id="org76cf5c7">
<img src="images/image-20210215140201656.png" alt="image-20210215140201656.png">

</figure>

<ul class="org-ul">
<li>配置至少一块网卡，可以用DHCP自动分配，也可以手动设置。这里是我的手动配置</li>
</ul>


<figure id="org394617b">
<img src="images/image-20210215140215219.png" alt="image-20210215140215219.png">

</figure>

<ul class="org-ul">
<li>代理服务器，这里保留为空</li>
</ul>


<figure id="org9c04c08">
<img src="images/image-20210215140227524.png" alt="image-20210215140227524.png">

</figure>

<ul class="org-ul">
<li>配置Ubuntu存档镜像，这里使用阿里源</li>
</ul>


<figure id="orgaff84ba">
<img src="images/image-20210215140242302.png" alt="image-20210215140242302.png">

</figure>

<ul class="org-ul">
<li>磁盘分区，可以默认“回车”。这里自定义分区</li>
</ul>



<figure id="org2d9957b">
<img src="images/image-20210215140352743.png" alt="image-20210215140352743.png">

</figure>



<figure id="org889cd93">
<img src="images/image-20210215140406631.png" alt="image-20210215140406631.png">

</figure>



<figure id="org74f144e">
<img src="images/image-20210215140421653.png" alt="image-20210215140421653.png">

</figure>



<figure id="org491d638">
<img src="images/image-20210215140432842.png" alt="image-20210215140432842.png">

</figure>



<figure id="org40c0a11">
<img src="images/image-20210215140453206.png" alt="image-20210215140453206.png">

</figure>



<figure id="orge508b36">
<img src="images/image-20210215140504588.png" alt="image-20210215140504588.png">

</figure>

<ul class="org-ul">
<li>配置您的名称，服务器名称，用户名及其密码</li>
</ul>



<figure id="org28009b9">
<img src="images/image-20210215140516177.png" alt="image-20210215140516177.png">

</figure>

<ul class="org-ul">
<li>选择安装openssh，方便远程访问</li>
</ul>



<figure id="orgca26c97">
<img src="images/image-20210215140537635.png" alt="image-20210215140537635.png">

</figure>

<ul class="org-ul">
<li>选择适用于您的Ubuntu系统的可用特性软件包列。这里不选了</li>
</ul>



<figure id="org3cfbfc7">
<img src="images/image-20210215140549510.png" alt="image-20210215140549510.png">

</figure>

<ul class="org-ul">
<li>成功安装Ubuntu LTS服务器后，请重新引导它以完成安装。</li>
</ul>



<figure id="org7011e48">
<img src="images/image-20210215140559717.png" alt="image-20210215140559717.png">

</figure>

<ul class="org-ul">
<li>出现这个提示，提前将安装盘连接取消</li>
</ul>



<figure id="org3004e50">
<img src="images/image-20210215140621702.png" alt="image-20210215140621702.png">

</figure>



<figure id="org32a1e54">
<img src="images/image-20210215140640740.png" alt="image-20210215140640740.png">

</figure>

<ul class="org-ul">
<li>恭喜你！Ubuntu LTS服务器可以使用了</li>
</ul>



<figure id="orgb78a99b">
<img src="images/image-20210215140655928.png" alt="image-20210215140655928.png">

</figure>
</div>
</div>
<div id="outline-container-h:a8caf243-0730-4834-9126-600ac87d69d7" class="outline-4">
<h4 id="h:a8caf243-0730-4834-9126-600ac87d69d7">安装Debian</h4>
<div class="outline-text-4" id="text-h:a8caf243-0730-4834-9126-600ac87d69d7">
<p>
官方网站下载ISO镜像：<a href="https://www.debian.org/">https://www.debian.org/</a>
</p>

<ul class="org-ul">
<li>进入到系统安装界面，选择图形安装Graphical install 或文本安装Install</li>
<li>Select a language: 选择系统使用语言English</li>
<li>Select your location: 选择地区：Hong Kong</li>
<li>Configure the keyboard: 选择键盘模式：American English</li>
<li>系统加载和扫描中</li>
<li>Configure the network
<ul class="org-ul">
<li>Hostname: 为计算机命名：可自定义</li>
<li>Domain name: 为计算机设置域名：可不填写</li>
</ul></li>
<li>Set up users and passwords
<ul class="org-ul">
<li>Root password: 为计算机超级管理员root设置密码</li>
<li>New user: 为计算机设置一个普通用户，设定用户全名 jasper</li>
<li>Username for your account and password: 为计算机设置普通用户的账户 jasper</li>
</ul></li>
<li>等待设定磁盘</li>
<li>Partition disks
<ul class="org-ul">
<li>Manual 手动配置
<ul class="org-ul">
<li>选择磁盘</li>
<li>Create new empty partition table on this device: 创建新的分区表（抹掉所有数据） Yes</li>
<li>Select FREE SPACE: 选择磁盘下面的可用空间</li>
<li>Create a new partition: 创建一个新分区 ENTER</li>
<li>New partition size: 分区容量输入 max （分配全部可用空间）</li>
<li>Type for the new partition: 分区类型选择主分区 Primary</li>
<li>Partition settings: Done</li>
<li>Finish partitioning and write changes to disk: 完成分区操作并保存修改到磁盘 Enter</li>
<li>出现没有设置分区用作 SWAP 空间的警告，询问是否回到分区菜单？选择 No</li>
<li>Write the changes to disks?: 写磁盘 Yes</li>
</ul></li>
</ul></li>
<li>Install the base system: 开始安装系统</li>
<li>Configure the package manager: 是否扫描安装介质，选择：No
<ul class="org-ul">
<li>Use a network mirror: 是否使用网络镜像源，选择：No ,后面会单独说明配置镜像源</li>
</ul></li>
<li>Configure popularity-contest: 是否参与使用系统调查(每周系统自动提交一个脚本给系统开发者)，选择：No</li>
<li>Software selection: 选择桌面环境和服务，需要把SSH Server选择上
<ul class="org-ul">
<li>无桌面最小化： SSH server, standard system utilities</li>
<li>Installing: 安装软件中&#x2026;耐心等待</li>
</ul></li>
<li>Install the GRUB boot loader: 主硬盘安装GRUB引导加载程序，选择：Yes
<ul class="org-ul">
<li>Device for boot loader installation: 为GRUB加载引导程序选择安装的磁盘 /dev/sda</li>
</ul></li>
<li>Finish the installtion完成系统安装
<ul class="org-ul">
<li>&lt;Continue&gt; to reboot: 完成系统安装，提示重启系统</li>
</ul></li>
<li>重启后，直接选择Debian回车</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;ssh</span>
apt install -y openssh-server
systemctl start sshd

<span style="color: #b22222;">#</span><span style="color: #b22222;">vim</span>
apt install -y vim
</pre>
</div>
</div>
</div>
<div id="outline-container-h:78aad357-df37-4e06-9c12-78a55808743d" class="outline-4">
<h4 id="h:78aad357-df37-4e06-9c12-78a55808743d">Kali Linux</h4>
<div class="outline-text-4" id="text-h:78aad357-df37-4e06-9c12-78a55808743d">
<p>
Kali基于Debian衍生版。
</p>

<p>
安装说明：
</p>
<ul class="org-ul">
<li>VMware创建虚拟机：<a href="https://www.kali.org/docs/virtualization/install-vmware-guest-vm/">https://www.kali.org/docs/virtualization/install-vmware-guest-vm/</a></li>
<li><p>
系统安装：<a href="https://www.kali.org/docs/installation/hard-disk-install/">https://www.kali.org/docs/installation/hard-disk-install/</a>
</p>

<p>
参考Debian安装过程
</p></li>
</ul>


<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;ssh</span>
sudo apt install -y openssh-server
sudo systemctl enable --now ssh

<span style="color: #b22222;">#</span><span style="color: #b22222;">vim</span>
sudo apt install -y vim
</pre>
</div>

<p>
容器安装：<a href="https://www.kali.org/docs/containers/">https://www.kali.org/docs/containers/</a>
</p>
<ul class="org-ul">
<li>[[<a href="https://www.kali.org/docs/containers/installing-docker-on-kali/#installing-docker-ce-on-kali-linux">https://www.kali.org/docs/containers/installing-docker-on-kali/#installing-docker-ce-on-kali-linux</a></li>
</ul>
<p>
][在 Kali Linux 上安装 docker-ce]]
</p>
</div>
</div>
<div id="outline-container-h:df87a313-1bcb-47b0-9c17-b41bea441be2" class="outline-4">
<h4 id="h:df87a313-1bcb-47b0-9c17-b41bea441be2">Apline Linux</h4>
<div class="outline-text-4" id="text-h:df87a313-1bcb-47b0-9c17-b41bea441be2">
<p>
<a href="https://alpinelinux.org/">https://alpinelinux.org/</a>
</p>

<p>
Alpine Linux 是基于 musl libc 和 busybox 的面向安全的轻量级 Linux 发行版。
</p>

<p>
下载IOS镜像直接启动，root 无密码
</p>

<p>
网络配置
</p>

<p>
<a href="https://wiki.alpinelinux.org/wiki/Configure_Networking">https://wiki.alpinelinux.org/wiki/Configure_Networking</a>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20020;&#26102;ip</span>
ifconfig eth0 10.0.0.136 netmask 255.255.0.0
<span style="color: #b22222;">#</span><span style="color: #b22222;">ifconfig eth0 0 #&#28165;&#38500;ip&#22320;&#22336;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">ifconfig eth0 up</span>
route add default gw 10.0.0.2

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#38745;&#24577;ip #&#21644;Debian&#30340;&#37197;&#32622;&#30456;&#20284;&#65292;&#22312; /etc/network/interfaces &#20013;&#35774;&#32622;IP&#22320;&#22336;:</span>
cat &lt;&lt;\EOF&gt; /etc/network/interfaces
<span style="color: #ffa54f;">auto lo</span>
<span style="color: #ffa54f;">iface lo inet loopback</span>

<span style="color: #ffa54f;">auto eth0</span>
<span style="color: #ffa54f;">iface eth0 inet static</span>
<span style="color: #ffa54f;">    address 192.168.6.111/24</span>
<span style="color: #ffa54f;">    gateway 192.168.6.11</span>
<span style="color: #ffa54f;">    hostname alpine</span>
<span style="color: #ffa54f;">EOF</span>

cat &lt;&lt;\EOF&gt; /etc/resolv.conf
<span style="color: #ffa54f;">nameserver 8.8.8.8</span>
<span style="color: #ffa54f;">EOF</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#21551;&#32593;&#32476;&#26381;&#21153;&#20351;&#37197;&#32622;&#29983;&#25928;:</span>
/etc/init.d/networking restart
</pre>
</div>

<p>
包使用
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#25628;&#32034;&#26381;&#21153;</span>
apk search &#21253;&#21517;
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;&#26381;&#21153;</span>
apk add &#21253;&#21517;
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#21160;&#26381;&#21153; sysV</span>
service &#26381;&#21153;&#21517; start

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#24050;&#23433;&#35013;&#21253;&#65292;&#21450;&#25991;&#20214;&#21015;&#34920;</span>
apk info
apk info -L openssh-server
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#24050;&#23433;&#35013;&#25991;&#20214;&#20381;&#36182;&#21738;&#20010;&#21253;</span>
apk info -W /sbin/ifconfig 
</pre>
</div>

<p>
范例-安装sshd服务
</p>
<div class="org-src-container">
<pre class="src src-sh">apk search sshd
apk add openssh-server
ls /etc/init
service sshd start

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20801;&#35768;root&#30331;&#24405;</span>
sed -ri.bak <span style="color: #8b2252;">'s/^#(PermitRootLogin )prohibit-password/\1yes/'</span> /etc/ssh/sshd_config
service sshd restart
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9e667bae-169b-4f66-96ba-986876e62131" class="outline-4">
<h4 id="h:9e667bae-169b-4f66-96ba-986876e62131">国产操作系统-统信UOS V20</h4>
<div class="outline-text-4" id="text-h:9e667bae-169b-4f66-96ba-986876e62131">
<ul class="org-ul">
<li>服务器下载页面 <a href="https://www.chinauos.com/resource/download-server-ufu">https://www.chinauos.com/resource/download-server-ufu</a></li>
<li>镜像下载-UOS免授权版</li>
<li>安装过程参考CentOS/Rocky</li>
</ul>
</div>
</div>
<div id="outline-container-h:3c6cc6c4-bf30-4fd1-bc45-ae928c0badd2" class="outline-4">
<h4 id="h:3c6cc6c4-bf30-4fd1-bc45-ae928c0badd2">国产操作系统-麒麟 opeenKylin</h4>
<div class="outline-text-4" id="text-h:3c6cc6c4-bf30-4fd1-bc45-ae928c0badd2">
<ul class="org-ul">
<li>下载地址 <a href="https://www.openkylin.top/downloads/index-cn.html">https://www.openkylin.top/downloads/index-cn.html</a></li>
<li>安装过程(ubuntu): <a href="https://docs.openkylin.top/zh/01_%E5%AE%89%E8%A3%85%E5%8D%87%E7%BA%A7%E6%8C%87%E5%8D%97/openKylin%E7%B3%B">参考官方文档</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:2bdf858a-ec21-4d73-8c9e-a2aa0e3dd6cd" class="outline-3">
<h3 id="h:2bdf858a-ec21-4d73-8c9e-a2aa0e3dd6cd">SSH 客户端</h3>
<div class="outline-text-3" id="text-h:2bdf858a-ec21-4d73-8c9e-a2aa0e3dd6cd">
<p>
SSH 客户端远程接入Linux 系统
</p>

<p>
<b>win10</b>
</p>

<p>
cmd自带ssh
</p>

<p>
<b>MobaXterm</b>
</p>

<p>
<a href="https://mobaxterm.mobatek.net/">https://mobaxterm.mobatek.net/</a>
</p>

<p>
ssh key 连接
</p>

<p>
<a href="https://ubccr.freshdesk.com/support/solutions/articles/13000034093-using-ssh-keys-with-mobaxterm-windows-">https://ubccr.freshdesk.com/support/solutions/articles/13000034093-using-ssh-keys-with-mobaxterm-windows-</a>
</p>

<p>
上传下载
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;rz/sz&#24037;&#20855;&#65306;</span>
yum -y install lrzsz

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;linux&#19979;&#36733;&#25991;&#20214;</span>
sz  filename
&#20351;&#29992;&#65306;ctrl + &#40736;&#26631;&#21491;&#38190;
&#36873;&#25321;&#65306;Receive file using Z-modem

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#20256;&#25991;&#20214;&#21040;linux</span>
rz
&#20351;&#29992;&#65306;ctrl + &#40736;&#26631;&#21491;&#38190;
&#36873;&#25321;&#65306;Send file using Z-modem
&#36873;&#25321;&#19978;&#20256;&#25991;&#20214;
</pre>
</div>

<p>
<b>xshell</b>
</p>

<p>
<b>crt</b>
</p>
</div>
</div>
</section>
<section id="outline-container-h:0a597add-0322-4d50-a63c-07414fda8c15" class="outline-2">
<h2 id="h:0a597add-0322-4d50-a63c-07414fda8c15">其它操作系统安装</h2>
<div class="outline-text-2" id="text-h:0a597add-0322-4d50-a63c-07414fda8c15">
</div>
<div id="outline-container-h:cba973bd-7b17-40e0-977e-22ff0b7302a1" class="outline-3">
<h3 id="h:cba973bd-7b17-40e0-977e-22ff0b7302a1">windows 安装win11</h3>
<div class="outline-text-3" id="text-h:cba973bd-7b17-40e0-977e-22ff0b7302a1">
<p>
下载深度镜像：
</p>

<p>
<a href="https://www.deepinghost.com/ghostxitong/">https://www.deepinghost.com/ghostxitong/</a>
</p>
</div>
</div>
<div id="outline-container-h:880c85c7-2a78-4265-89b4-63b4715af073" class="outline-3">
<h3 id="h:880c85c7-2a78-4265-89b4-63b4715af073">archlinux</h3>
<div class="outline-text-3" id="text-h:880c85c7-2a78-4265-89b4-63b4715af073">
<p>
Archlinux的安装与配置
</p>

<p>
官方文档： <a href="https://wiki.archlinux.org/title/Installation_guide">https://wiki.archlinux.org/title/Installation_guide</a>
</p>


<p>
安装到btrfs文件系统上
</p>

<p>
桌面用Hyprland，显卡是N卡
</p>

<p>
附加Windows的双系统引导
</p>
</div>
<div id="outline-container-h:2babae04-1f2c-4ab7-9f28-64663aa7e4f3" class="outline-4">
<h4 id="h:2babae04-1f2c-4ab7-9f28-64663aa7e4f3">Archlinux的安装</h4>
<div class="outline-text-4" id="text-h:2babae04-1f2c-4ab7-9f28-64663aa7e4f3">
<ol class="org-ol">
<li><p>
先去官网下载最新的ISO镜像文件，刻录到U盘，从U盘启动Arch的安装镜像，网上有很多教程，
我就不演示了
</p>

<p>
BIOS 设置 EFI 引导 
</p></li>

<li><p>
连接互联网
</p>

<p>
<code>ip link</code> 检查网卡状态 
</p>

<p>
如果有网线：输入命令 =dhcpcd &amp;  自动获取 ip
</p>

<p>
如果没网线就连wifi
</p>

<div class="org-src-container">
<pre class="src src-sh">iwctl
station &lt;&#32593;&#21345;&#21517;&gt; connect &lt;WIFI&#21517;&gt;
&#36755;&#20837;&#23494;&#30721;
quit
</pre>
</div>

<p>
ping baidu.com  测试网络连接
</p></li>

<li><p>
联网 :: passwd 输入 root 密码
</p>

<p>
我用ssh连接物理机的arch安装镜像，不在虚拟机安装
</p></li>

<li>检验是否是UEFI64位模式 :: cat /sys/firmware/efi/fw_platform_size</li>

<li><p>
设置时区 :: timedatectl list-timezone | grep -i shanghai
</p>

<p>
timedatectl set-timezone Asia/Shanghai
</p></li>

<li><p>
磁盘分区，注意别把数据格式化了 :: 如果Windows有一个EFI分区，可以和Arch共用
</p>

<p>
<code>blkid</code> 检查磁盘类型
</p>

<p>
为Archlinux准备一个512MB的EFI分区，1G的交换分区，其余空间创建为linux filesystem分区
</p>

<p>
cfdisk /dev/你的硬盘
</p>

<div class="org-src-container">
<pre class="src src-sh">fdisk /dev/sda
m <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#24110;&#21161;</span>
g <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26032;&#24314; GPT &#20998;&#21306;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">512M &#32473; efi</span>
n
&#22238;&#36710;&#65292;&#22238;&#36710;&#65292;&#22312; Last sector: +512M
Hex code ...: ef00


<span style="color: #b22222;"># </span><span style="color: #b22222;">1G &#32473; swap &#20132;&#25442;&#20998;&#21306;</span>
n
&#22238;&#36710;&#65292;&#22238;&#36710;&#65292;&#22312; Last sector: +1g
Hex code ...: 8200

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21097;&#20313;&#32473; /</span>
n
&#22238;&#36710;&#65292;&#22238;&#36710;&#65292;&#22238;&#36710;&#65292;&#22238;&#36710;

w <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20889;&#20837;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;</span>
lsblk
</pre>
</div></li>

<li><p>
格式化分区
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#22914;&#26524;&#20320;&#20026;arch&#20934;&#22791;&#20102;&#21333;&#29420;&#30340;EFI&#20998;&#21306;</span>
mkfs.fat -F 32 /dev/efi_partition
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26684;&#24335;&#21270;&#20132;&#25442;&#20998;&#21306;</span>
mkswap /dev/swap_partition
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26684;&#24335;&#21270;btrfs&#25991;&#20214;&#31995;&#32479;</span>
mkfs.btrfs /dev/root_partition -f
mount /dev/root_partition /mnt
btrfs subvolume create /mnt/@
btrfs subvolume create /mnt/@home
umount /dev/root_partition
</pre>
</div></li>

<li><p>
挂载分区
</p>

<div class="org-src-container">
<pre class="src src-sh">mount /dev/root_partition /mnt -o <span style="color: #a0522d;">subvol</span>=@
mount /dev/root_partition /mnt/home -o <span style="color: #a0522d;">subvol</span>=@home --mkdir
mount /dev/efi_system_partition /mnt/boot/efi --mkdir
swapon /dev/swap_partition
</pre>
</div></li>

<li><p>
设置镜像源并安装系统
</p>

<p>
方法1-手动修改源
</p>

<p>
<code>vim /etc/pacman.d/mirrorlist</code>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#24320;&#22836;&#21152;&#19978;&#38236;&#20687;&#28304; https://archlinux.org/mirrorlist/all/</span>
<span style="color: #a0522d;">Server</span> = https://mirrors.ustc.edu.cn/archlinux/$<span style="color: #a0522d;">repo</span>/os/$<span style="color: #a0522d;">arch</span>
<span style="color: #a0522d;">Server</span> = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$<span style="color: #a0522d;">repo</span>/os/$<span style="color: #a0522d;">arch</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26356;&#26032;</span>
pacman -Syy
</pre>
</div>

<p>
方法2-利用内置 reflector 程序改源
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">reflector &#21453;&#23556;&#22120;&#25628;&#32034;&#23545;&#24212;&#22269;&#23478;&#65292;&#26368;&#36817; 6 &#23567;&#26102;&#21047;&#26032;&#65292;&#25353;&#36895;&#29575;&#25490;&#24207;&#65292;&#24182;&#20445;&#23384;&#21040;&#28304;&#25991;&#20214;&#20013;</span>
reflector --country China --age 6 --sort rate --save /etc/pacman.d/mirrorlist

pacman -Sy
</pre>
</div>

<p>
安装系统
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;Arch</span>
pacstrap -K /mnt base linux linux-firmware neovim
<span style="color: #b22222;">#</span><span style="color: #b22222;">pacstrap -K /mnt base linux linux-firmware base-devel git fish grub efibootmgr os-prober openssl networkmanager dhcpcd btrfs-prog neovim</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31561;&#24453;&#23433;&#35013;&#23436;&#12290;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#19979;&#21015;&#21253;&#26410;&#23433;&#35013;&#65292;&#38656;&#35201;&#36827;&#20837;&#31995;&#32479;&#21518; pacman -S &#21253;&#21517;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">neovim &#32534;&#36753;&#24037;&#20855;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">adm-ucode &#22914;&#26524;&#26377;&#26159; adm &#22788;&#29702;&#22120;&#23433;&#35013;&#36825;&#20010;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">intel-ucode &#22914;&#26524;&#26377;&#26159;&#33521;&#29305;&#23572;&#22788;&#29702;&#22120;&#23433;&#35013;&#36825;&#20010; </span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">fish &#32456;&#31471;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">grub efibootmgr &#26356;&#25913;&#24341;&#23548;&#29992;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">networkmanager hdcpcd  &#32593;&#32476;&#37197;&#32622;</span>
</pre>
</div></li>

<li>arch的基础配置

<ul class="org-ul">
<li><p>
挂载配置
</p>

<div class="org-src-container">
<pre class="src src-sh">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
arch-chroot /mnt
</pre>
</div></li>

<li><p>
时间设置
</p>

<div class="org-src-container">
<pre class="src src-sh">ln -sf /usr/share/zoneinfo/Region/City /etc/localtime
hwclock --systohc
</pre>
</div></li>

<li><p>
语言设置
</p>

<div class="org-src-container">
<pre class="src src-sh">nvim /etc/locale.gen <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#28040;en_US.UTF-8 UTF-8&#21644;zh_CN.UTF-8&#21069;&#30340;&#27880;&#37322;</span>
locale-gen
nvim /etc/locale.conf  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31532;&#19968;&#34892;&#20889;&#20837;LANG=en_US.UTF-8</span>
</pre>
</div></li>

<li><p>
网络配置
</p>

<div class="org-src-container">
<pre class="src src-sh">nvim /etc/hostname
&#31532;&#19968;&#34892;&#20889;&#20837;&#20320;&#30340;hostname&#65292;&#20219;&#24847;&#28155;(&#21035;&#22826;&#20219;&#24847;%&#8230;&#8230;#@$<span style="color: #a0522d;">@</span>*&amp;&#8230;&#8230;)

nvim /etc/hosts
127.0.0.1 localhost
::1       localhost
127.0.0.1 &#20027;&#26426;&#21517;.xx.com &#20027;&#26426;&#21517;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24517;&#35201;&#30340;&#36719;&#20214;</span>
pacman -S btrfs-progs grub efibootmgr os-prober networkmanager network-manager-applet dhcpcd dialog wpa_supplicant mtools dosfstools reflector base-devel linux-headers bluez bluez-utils cups hplip alsa-utils pipewire pipewire-alsa pipewire-pulse pipewire-jack bash-completion openssh rsync acpi acpi_call tlp sof-firmware acpid git fish 
<span style="color: #b22222;">#</span><span style="color: #b22222;">fish &#32456;&#31471;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">grub efibootmgr os-prober &#26356;&#25913;&#24341;&#23548;&#29992;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">networkmanager hdcpcd  &#32593;&#32476;&#37197;&#32622;&#65292;network-manager-applet &#23545;&#26700;&#38754;&#23567;&#31243;&#24207;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">dialog &#32593;&#32476;&#23454;&#29992;&#31243;&#24207;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">wpa_supplicant &#23545;&#24212;&#36830;&#25509; wifi &#31243;&#24207;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">mtools dosfstools &#23545;&#24212; windows &#31995;&#32479;&#31243;&#24207;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">reflector &#21453;&#23556;&#22120;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">base-devel &#24320;&#21457;&#21253;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">linux-headers &#26700;&#38754;&#22836;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">bluez bluez-utils &#34013;&#29273;&#36866;&#37197;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cups &#25171;&#21360;&#26426;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">hplip &#24800;&#26222;&#25171;&#21360;&#26426;&#21644;&#25195;&#25551;&#20202;&#39537;&#21160;&#31243;&#24207;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">alsa-utils &#22768;&#38899;&#21253;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">pipewire pipewire-alsa pipewire-pulse pipewire-jack &#38899;&#39057;&#30456;&#20851;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">bash-completion bash &#30340;&#34917;&#20840;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">openssh &#36828;&#31243; ssh</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">rsync &#25991;&#20214;&#21516;&#27493;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">acpi acpi_call tlp acpid &#30005;&#28304;&#31649;&#29702;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">sof-firemware &#35299;&#20915;&#25140;&#23572;&#31508;&#35760;&#26412;&#27809;&#22768;&#38899;&#38382;&#39064;</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">pacman -S networkmanager dhcpcd</span>
systemctl enable dhcpcd
systemctl enable NetworkManager


systemctl enable bluetooth <span style="color: #b22222;"># </span><span style="color: #b22222;">&#24320;&#26426;&#21551;&#21160;&#34013;&#29273;&#36866;&#37197;&#22120;</span>
systemctl enable cups <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24320;&#26426;&#21551;&#21160;&#25171;&#21360;&#26426;</span>
systemctl enable sshd
systemctl enable tlp
systemctl enable reflector.timer <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24320;&#26426;&#21551;&#21160;&#21453;&#23556;&#22120;&#35745;&#26102;&#22120;</span>
systemctl enable fstrim.timer <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20026; SSD &#21551;&#29992; fs &#27969;&#35745;&#26102;&#22120;&#65292;&#23450;&#26399;&#35843;&#25972; ssd omi &#31995;&#32479;</span>
systemctl enable acpid
</pre>
</div></li>

<li><p>
Initramfs配置
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">pacman -S grub-btrfs</span>
nvim /etc/mkinitcpio.conf <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;HOOKS&#20013;&#21152;&#20837;btrfs</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">pacman -S btrfs-progs #&#23433;&#35013;&#26102;&#24536;&#35760;&#35013;btrfs&#20102;&#65292;&#36825;&#26465;&#21629;&#20196;&#20250;&#33258;&#21160;&#36816;&#34892;mkinitcpio -P</span>
&#22914;&#26524;&#22312;pacstrap&#20013;&#23601;&#23433;&#35013;&#20102;btrfs-progs&#65292;&#37027;&#20040;&#25913;&#23436;/etc/mkinitcpio.conf&#21518;&#38656;&#35201;&#25163;&#21160;&#36816;&#34892;mkinitcpio -P
mkinitcpio -P
</pre>
</div></li>

<li><p>
Pacman配置
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26816;&#26597;/etc/pacman.d/mirrorlist</span>
nvim /etc/pacman.conf <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#28040;Color&#21644;ParallelDownloads&#21069;&#30340;&#27880;&#37322;, &#20250;&#26377;&#24425;&#33394;&#23433;&#35013;&#30028;&#38754;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20877;&#21152;&#19978;&#19968;&#34892; ILoveCandy  &#21507;&#35910;&#20154;&#24425;&#34507;</span>
pacman -Syy
</pre>
</div></li>

<li><p>
用户配置
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;root&#30340;&#23494;&#30721;</span>
passwd

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#28155;&#21152;&#19968;&#20010;&#29992;&#25143;</span>
useradd -mG wheel &lt;&#29992;&#25143;&#21517;&gt;
passwd &lt;&#29992;&#25143;&#21517;&gt; <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#29992;&#25143;&#23494;&#30721;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20026;wheel&#32452;&#20013;&#30340;&#29992;&#25143;&#28155;&#21152;sudo&#26435;&#38480;</span>
pacman -S sudo fish
nvim /etc/sudoers
&#23558;108&#34892;&#30340;&#27880;&#37322;&#21435;&#25481;
&#20250;&#25552;&#37266;&#36825;&#26159;&#20010;&#21482;&#35835;&#25991;&#20214;&#65292;&#19981;&#29992;&#31649;&#65292;&#30452;&#25509;:w!&#24378;&#21046;&#20889;&#20837;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#29992;&#25143;shell</span>
su &lt;&#29992;&#25143;&#21517;&gt;
whereis fish <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;shell&#20301;&#32622;</span>
chsh -s /usr/bin/fish
Ctrl+D &#36864;&#20986;&#29992;&#25143;&#30331;&#38470;
su &lt;&#29992;&#25143;&#21517;&gt;
&#20877;&#27425;&#36827;&#20837;&#21040;&#29992;&#25143;&#65292;&#21487;&#20197;&#30475;&#21040;shell&#24050;&#32463;&#21464;&#20102;
</pre>
</div></li>

<li><p>
引导配置
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">sudo pacman -S grub efibootmgr os-prober</span>
sudo grub-install --recheck /dev/&#20320;&#30340;&#30828;&#30424;
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;&#32773; sudo grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=GRUB</span>

sudo nvim /etc/default/grub

<span style="color: #a0522d;">GRUB_CMDLINE_LINUX_DEFAULT</span>=<span style="color: #8b2252;">"loglevel=3 quiet video=1920x1080"</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#23631;&#24149;&#20998;&#36776;&#29575;&#22823;&#20123;</span>
<span style="color: #a0522d;">GRUB_DISABLE_OS_PROBER</span>=false
&#23558;&#26368;&#21518;&#19968;&#34892;&#30340;&#27880;&#37322;&#21435;&#25481;&#65292;&#21551;&#29992;os-prober&#26816;&#27979;&#21452;&#31995;&#32479;
&#22914;&#26524;&#20043;&#21069;&#20026;Arch&#21019;&#24314;&#20102;&#21333;&#29420;&#30340;EFI&#65292;&#37027;&#20040;&#29616;&#22312;&#23558;windows&#30340;EFI&#20998;&#21306;&#25346;&#36733;&#21040;&#20219;&#24847;&#30446;&#24405; &#20363;&#22914;(/mnt)
&#36816;&#34892;sudo os-prober&#30475;&#30475;&#33021;&#19981;&#33021;&#26816;&#27979;&#21040;windows

sudo grub-mkconfig -o /boot/grub/grub.cfg
</pre>
</div></li>

<li><p>
配置完引导后重启电脑并拔掉U盘
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">Ctrl+D 2&#27425;&#65292;&#36864;&#20986;&#30331;&#38470;&#26222;&#36890;&#29992;&#25143;&#12289;root&#29992;&#25143;&#65292;&#22238;&#21040;&#38750; chroot &#27169;&#24335;</span>
jasper@archiso /&gt; 
[root@archiso /]# 
<span style="color: #a020f0;">exit</span>
arch-chroot /mnt  59.69s user 61.89s system 1% cpu 1:49:10.68 total
root@archiso ~ <span style="color: #b22222;">#</span>

umount -R /mnt &#21462;&#28040;&#25346;&#36733;
reboot &#37325;&#21551;
</pre>
</div></li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-h:2ccca7f1-3e18-473e-967e-0cf990ca5c5f" class="outline-4">
<h4 id="h:2ccca7f1-3e18-473e-967e-0cf990ca5c5f">重启后图形界面</h4>
<div class="outline-text-4" id="text-h:2ccca7f1-3e18-473e-967e-0cf990ca5c5f">
</div>
<div id="outline-container-h:645cceeb-6412-44c8-ba79-a64bef5854d3" class="outline-5">
<h5 id="h:645cceeb-6412-44c8-ba79-a64bef5854d3">基础包</h5>
<div class="outline-text-5" id="text-h:645cceeb-6412-44c8-ba79-a64bef5854d3">
<ol class="org-ol">
<li>登陆到你的用户</li>

<li><p>
显卡
</p>

<p>
虚拟机不涉及显卡驱动安装
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#26174;&#21345;</span>
lspci -k | grep -A 2 -E <span style="color: #8b2252;">"(VGA|3D)"</span>
</pre>
</div>

<p>
安装Nvidia驱动
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;&#39537;&#21160;</span>
&#25105;&#30340;&#21488;&#24335;&#26426;&#35013;&#30340;nvidia-dkms&#27809;&#38382;&#39064;&#65292;&#31508;&#35760;&#26412;&#26377;&#38382;&#39064;&#65292;&#25913;&#25104;&#35013;nvidia&#32780;&#19981;&#26159;nvidia-dkms
sudo pacman -S nvidia-dkms nvidia-utils nvidia-settings
sudo pacman -S nvidia nvidia-utils nvidia-settings

sudo nvim /etc/default/grub
&#22312;GRUB_CMDLINE_LINUX&#20013;&#28155;&#21152;nvidia_drm.modeset=1
sudo grub-mkconfig -o /boot/grub/grub.cfg
sudo nvim /etc/mkinitcpio.conf
&#22312;MODULES&#20013;&#21152;&#20837;nvidia nvidia_modeset nvidia_uvm nvidia_drm
&#23558;kms&#20174;HOOKS&#20013;&#21435;&#25481;
sudo mkinitcpio -P
reboot &#37325;&#21551;
nvidia-smi &#39564;&#35777;&#26159;&#21542;&#23433;&#35013;&#25104;&#21151;

&#22312;/etc/pacman.d/hooks/nvidia.hook&#20013;&#20889;&#20837;

[Trigger]
<span style="color: #a0522d;">Operation</span>=Install
<span style="color: #a0522d;">Operation</span>=Upgrade
<span style="color: #a0522d;">Operation</span>=Remove
<span style="color: #a0522d;">Type</span>=Package
<span style="color: #a0522d;">Target</span>=nvidia
<span style="color: #a0522d;">Target</span>=linux
<span style="color: #b22222;"># </span><span style="color: #b22222;">Change the linux part above if a different kernel is used</span>

[Action]
<span style="color: #a0522d;">Description</span>=Update NVIDIA module<span style="color: #a020f0;"> in</span> initcpio
<span style="color: #a0522d;">Depends</span>=mkinitcpio
<span style="color: #a0522d;">When</span>=PostTransaction
NeedsTargets
<span style="color: #a0522d;">Exec</span>=/bin/sh -c <span style="color: #8b2252;">'while read -r trg; do case $trg in linux*) exit 0; esac; done; /usr/bin/mkinitcpio -P'</span>

</pre>
</div>

<p>
只安装 Intel 显卡驱动
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S xf86-video-intel
</pre>
</div>

<p>
安装 AMD 显卡驱动
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S  xf86-video-amdgpu mesa lib32-mesa vulkan-radeon lib32-vulkan-radeon libva-mesa-driver lib32-libva-mesa-driver mesa-vdpau mesa-vdpau amdgpu-pro-libgl lib32-amdgpu-pro-libgl
</pre>
</div></li>

<li><p>
其它
</p>

<p>
软件包 
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">## </span><span style="color: #b22222;">&#22270;&#24418;&#30028;&#38754;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">adm</span>
xf86-video-amdgpu

<span style="color: #b22222;"># </span><span style="color: #b22222;">nvidia &#39537;&#21160;</span>
nvidia nvidia-utils

/etc/mkinitcpio.conf &#22312;MODULES&#22788;&#20462;&#25913;
&#22914; <span style="color: #a0522d;">MODULES</span>=(admgpu) &#25110;  <span style="color: #a0522d;">MODULES</span>=(nvidia) 

</pre>
</div></li>

<li><p>
连接互联网
</p>

<p>
如果有网线跳过这一步
</p>

<p>
<code>nmcli device wifi connect &lt;网络名&gt; &lt;密码&gt;</code>
</p>

<p>
或 nmtui
</p></li>

<li>常用包

<dl class="org-dl">
<dt>archlinux AUR 仓库第三方包管理工具</dt><dd><p>
可以安装很多第三方软件
</p>

<p>
方案1-paru
</p>

<p>
<a href="https://github.com/morganamilo/paru">https://github.com/morganamilo/paru</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S --needed base-devel
git clone https://aur.archlinux.org/paru.git
<span style="color: #483d8b;">cd</span> paru
makepkg -si
</pre>
</div></dd>
</dl></li>
</ol>


<p>
方案2-yay
</p>

<div class="org-src-container">
<pre class="src src-sh">git clone https://aur.archlinux.org/yay-bin
<span style="color: #483d8b;">cd</span> yay-bin/
makepkg -si
</pre>
</div>

<dl class="org-dl">
<dt>快照备份</dt><dd><p>
<code>yay -S timeshift-bin timeshift-autosnap</code>
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo timeshift --list-devices

sudo timeshift --snapshot-device /dev/&#25968;&#25454;&#30424; <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25351;&#23450;&#24555;&#29031;&#30424;&#65292;&#20445;&#23384;&#20449;&#24687;&#21040; json &#25991;&#20214;&#20013;</span>

sudo timeshift --create --comments <span style="color: #8b2252;">"First Backup"</span> --tags D

sudo grub-mkconfig -o /boot/grub/grub.cfg

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#24674;&#22797;&#24555;&#29031;</span>
sudo timeshift --list
sudo timeshift --restore
</pre>
</div></dd>

<dt>中文</dt><dd><code>sudo pacman -S noto-fonts-cjk noto-fonts</code></dd>

<dt>(no term)</dt><dd><p>
浏览器
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S firefox
sudo pacman -S google-chrome
</pre>
</div></dd>
</dl>
</div>
</div>
<div id="outline-container-h:fa692eb8-8b46-4cf2-9446-098ca14d46e2" class="outline-5">
<h5 id="h:fa692eb8-8b46-4cf2-9446-098ca14d46e2">桌面方案-GNOME</h5>
<div class="outline-text-5" id="text-h:fa692eb8-8b46-4cf2-9446-098ca14d46e2">
<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S  gdm gnome gnome-extra gnome-tweaks 
sudo systemctl enable gdm
</pre>
</div>
</div>
</div>
<div id="outline-container-h:96c8c9f8-5e46-4d27-9be5-0c0cde94dce5" class="outline-5">
<h5 id="h:96c8c9f8-5e46-4d27-9be5-0c0cde94dce5">平铺窗口方案-bspwm+sxhkd</h5>
<div class="outline-text-5" id="text-h:96c8c9f8-5e46-4d27-9be5-0c0cde94dce5">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013; bspwm sxhkd &#21644;&#20854;&#23427;&#36719;&#20214;</span>
sudo pacman -S xorg bspwm sxhkd dmenu terminator lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings nitrogen lxappearance picom nautilus arandr 
<span style="color: #b22222;">#</span><span style="color: #b22222;">sxhkd &#28909;&#38190;&#32465;&#23450; &#19982; bspwm &#24179;&#38138;&#31383;&#21475;&#19968;&#36215;&#20351;&#29992;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">arandr &#22810;&#26174;&#31034;&#22120;&#24456;&#26377;&#29992;&#65292;&#22914; xrandr -s 1920x1080</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#28608;&#27963;&#30331;&#24405;&#31383;&#21475;</span>
sudo systemctl enable lightdm

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37197;&#32622;</span>
mkdir -p .config/{bspwm,sxhkd}
install -Dm755 /usr/share/doc/bspwm/examples/bspwmrc .config/bspwm/
install -Dm644 /usr/share/doc/bspwm/examples/sxhkdrc .config/sxhkd/

vim .config/sxhkd/sxhkdrc
urxvt &#25913;&#20026; terminator

vim .config/bspwm/bspwmrc 

sxhkd &#19979;&#19968;&#34892;&#21152;&#20837;
nitrogen --restore <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#21160;&#22721;&#32440;</span>
picom   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#21160;&#31383;&#21475;&#21160;&#24577;&#25928;&#26524;</span>

sudo reboot

<span style="color: #b22222;">#</span><span style="color: #b22222;">bspwm &#31616;&#21333;&#25805;&#20316;</span>
&#31383;&#21475;&#38190;+&#22238;&#36710;&#65306;&#22810;&#31383;&#21475;
&#31383;&#21475;&#38190;+w&#65306;&#21024;&#38500;&#31383;&#21475;
&#31383;&#21475;&#38190;+&#31354;&#26684;&#65306;&#25628;&#32034;&#65292;&#22914;firefox

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;&#22721;&#32440;&#21644;&#20027;&#39064;</span>
sudo pacman -S archlinux-wallpaper
sudo pacman -S materia-gtk-theme papirus-icon-theme

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26700;&#38754;&#22721;&#32440;&#35774;&#32622;</span>
&#32456;&#31471;&#21491;&#38190;&#23646;&#24615;&#65306;
    Global: &#21435;&#25481; window borders
    Profiles: 
      General: Cursor Shape &#25913;&#20026; Underline&#65292;&#21462;&#28040; Show titlebar
      Background: &#36873;&#25321; Transparent background &#36879;&#26126;&#24230; 85%
      Scrolling:  &#20851;&#38381;&#32456;&#31471;&#28378;&#21160;&#26465;

&#31383;&#21475;&#38190;+&#31354;&#26684;: lxappearance  &#25913;&#21464;&#22270;&#26631;&#22806;&#35266;
  Widget: Materia-dark 
  Icon Theme: Papirus


&#31383;&#21475;&#38190;+&#31354;&#26684;: nitrogen  &#23646;&#24615;&#65292;&#22312;directories &#28155;&#21152; /usr/share/backgrounds/archlinux &#65292;&#36873;&#25321;&#19968;&#24352;&#22721;&#32440;&#65292;Zoomed Fill
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f6125d60-27cf-4ca3-8bef-dd4a7ac4ee8c" class="outline-5">
<h5 id="h:f6125d60-27cf-4ca3-8bef-dd4a7ac4ee8c">安装Hyprland桌面</h5>
<div class="outline-text-5" id="text-h:f6125d60-27cf-4ca3-8bef-dd4a7ac4ee8c">
<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S hyprland kitty waybar
sudo pacman -S sddm
sudo pacman -S ttf-jetbrains-mono-nerd adobe-source-han-sans-cn-fonts adobe-source-code-pro-fonts
sudo systemctl enable sddm
sudo reboot &#37325;&#21551;

&#31561;&#24453;&#37325;&#21551;&#65292;&#28982;&#21518;&#23601;&#33021;&#30475;&#21040;&#19968;&#20010;&#30331;&#38470;&#30028;&#38754;&#65292;&#36755;&#20837;&#29992;&#25143;&#23494;&#30721;&#36827;&#20837;Hyprland
Nvidia&#36824;&#35201;&#35774;&#32622;&#19968;&#19979;
https://wiki.hyprland.org/Nvidia/
CTRL+ALT+F3&#36827;&#22914;tty3&#24182;&#30331;&#38470;&#29992;&#25143;
nvim ~/.config/hypr/hyprland.conf
&#28155;&#21152;NVIDIA&#29615;&#22659;&#21464;&#37327;
<span style="color: #a0522d;">env</span> = LIBVA_DRIVER_NAME,nvidia
<span style="color: #a0522d;">env</span> = XDG_SESSION_TYPE,wayland
<span style="color: #a0522d;">env</span> = GBM_BACKEND,nvidia-drm
<span style="color: #a0522d;">env</span> = __GLX_VENDOR_LIBRARY_NAME,nvidia
<span style="color: #a0522d;">env</span> = WLR_NO_HARDWARE_CURSORS,1
reboot &#37325;&#21551;
&#31561;&#24453;&#37325;&#21551;&#65292;&#28982;&#21518;&#23601;&#33021;&#30475;&#21040;&#19968;&#20010;&#30331;&#38470;&#30028;&#38754;&#65292;&#36755;&#20837;&#29992;&#25143;&#23494;&#30721;&#36827;&#20837;Hyprland
Win+Q &#24320;&#21551;&#32456;&#31471;
Win+C &#20851;&#38381;&#31383;&#21475;
Win+R &#21628;&#20986;&#33756;&#21333;
Win+&#25968;&#23383; &#20999;&#25442;&#26700;&#38754;
Win+Shift+&#25968;&#23383; &#23558;&#24403;&#21069;&#31383;&#21475;&#31227;&#21160;&#21040;&#23545;&#24212;&#24037;&#20316;&#21306;
Win+&#40736;&#26631;&#24038;&#38190; &#25302;&#21160;&#31383;&#21475;
Win+&#40736;&#26631;&#21491;&#38190; &#35843;&#25972;&#31383;&#21475;&#22823;&#23567;
Win+V &#35753;&#31383;&#21475;&#28014;&#21160;&#20986;&#26469;
&#65288;&#23433;&#35013;OBS&#20013;&#12290;&#12290;&#12290;&#12290;&#65289;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">&#23433;&#35013;&#36755;&#20837;&#27861;
    sudo pacman -S fcitx5 fcitx5-chinese-addons fcitx5-configtool
&#37197;&#32622;&#36755;&#20837;&#27861;
    fcitx5-configtool
&#23433;&#35013;paru
    git clone https://aur.archlinux.org/paru.git
    <span style="color: #483d8b;">cd</span> paru
    makepkg -si
&#23433;&#35013;rofi
    sudo pacman -S rofi
&#23433;&#35013;chrome&#21644;vscodfe
    paru -S google-chrome
    sudo pacman -S code
&#37197;&#32622;
    &#23433;&#35013;grim&#65292;&#25130;&#22270;&#36719;&#20214;
        sudo pacman -S grim
    &#23433;&#35013;QQ&#38899;&#20048;
        paru -S qqmusic-bin
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:7da5b0fe-5408-4342-81bb-9fbc89536280" class="outline-4">
<h4 id="h:7da5b0fe-5408-4342-81bb-9fbc89536280">平铺窗口管理器-bspwm</h4>
<div class="outline-text-4" id="text-h:7da5b0fe-5408-4342-81bb-9fbc89536280">
<p>
安装
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S bspwm sxhkd
<span style="color: #b22222;"># </span><span style="color: #b22222;">sxhkd &#25353;&#38190;&#32465;&#23450;&#31243;&#24207;</span>


mkdir -p .config/{bspwm,sxhkd}
install -Dm755 /usr/share/doc/bspwm/examples/bspwmrc .config/bspwm/
install -Dm644 /usr/share/doc/bspwm/examples/sxhkdrc .config/sxhkd/

vim .config/sxhkd/sxhkdrc
urxvt &#25913;&#20026; terminator

vim .config/bspwm/bspwmrc 

pgrep &#19979;&#19968;&#34892;&#21152;&#20837;
nitrogen --resore
picom 


sudo reboot


&#31383;&#21475;&#38190;+&#22238;&#36710;&#65306;&#22810;&#31383;&#21475;
&#31383;&#21475;&#38190;+w&#65306;&#21024;&#38500;&#31383;&#21475;
&#31383;&#21475;&#38190;+&#31354;&#26684;&#65306;&#25628;&#32034;&#65292;&#22914;firefox
</pre>
</div>

<p>
bspwm 启动快捷键依赖 sxhkd 热键配置
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">make sxhkd reload its configuration files: &#37325;&#36733;&#37197;&#32622; </span>
super + Escape
    pkill -USR1 -x sxhkd

<span style="color: #b22222;"># </span><span style="color: #b22222;">quit/restart bspwm  q &#36864;&#20986; bspwm&#65292; r &#37325;&#21551; bspwm</span>
super + alt + {q,r}
    bspc {quit,wm -r}
</pre>
</div>

<p>
bspwm 配置
</p>

<p>
实际上是 bash 脚本 
</p>
<div class="org-src-container">
<pre class="src src-sh">jasper@jasper-arch ~/.c/bspwm&gt; cat bspwmrc 
<span style="color: #b22222;">#</span><span style="color: #b22222;">! /bin/sh</span>

pgrep -x sxhkd &gt; /dev/null || sxhkd &amp;

bspc monitor -d I II III IV V VI VII VIII IX X <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21551;&#21160; 10 &#20010;&#32456;&#31471;</span>

bspc config border_width         2 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36793;&#26694;&#23485;&#24230;</span>
bspc config window_gap          12

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true

bspc rule -a Gimp <span style="color: #a0522d;">desktop</span>=<span style="color: #8b2252;">'^8'</span> <span style="color: #a0522d;">state</span>=floating <span style="color: #a0522d;">follow</span>=on
bspc rule -a Chromium <span style="color: #a0522d;">desktop</span>=<span style="color: #8b2252;">'^2'</span>
bspc rule -a mplayer2 <span style="color: #a0522d;">state</span>=floating
bspc rule -a Kupfer.py <span style="color: #a0522d;">focus</span>=on
bspc rule -a Screenkey <span style="color: #a0522d;">manage</span>=off
</pre>
</div>


<p>
焦点窗口颜色：
</p>
<div class="org-src-container">
<pre class="src src-sh">jasper@jasper-arch ~/.c/bspwm&gt; cat bspwmrc 
<span style="color: #b22222;">#</span><span style="color: #b22222;">! /bin/sh</span>

pgrep -x sxhkd &gt; /dev/null || sxhkd &amp;

bspc monitor -d I II III IV V VI VII VIII IX X <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21551;&#21160; 10 &#20010;&#32456;&#31471;</span>

bspc config border_width         2 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36793;&#26694;&#23485;&#24230;</span>
bspc config window_gap          12 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31383;&#21475;&#38388;&#38388;&#36317;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#39068;&#33394; #&#32418;&#32511;&#34013;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">normal_border_color  &#26410;&#32858;&#28966;&#31383;&#21475;&#36793;&#26694;&#30340;&#39068;&#33394;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">focused_border_color &#32858;&#28966;&#30417;&#35270;&#22120;&#30340;&#32858;&#28966;&#31383;&#21475;&#36793;&#26694;&#30340;&#39068;&#33394;&#12290;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">bspc config normal_border_color \#FFFF00   #&#40644;&#33394;&#20026;&#32418;&#33394;&#26368;&#22823;+&#32511;&#33394;&#26368;&#22823;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">bspc config focused_border_color \#00FF00  #&#32511;&#33394;</span>

bspc config split_ratio          0.52
bspc config borderless_monocle   true
bspc config gapless_monocle      true

bspc rule -a Gimp <span style="color: #a0522d;">desktop</span>=<span style="color: #8b2252;">'^8'</span> <span style="color: #a0522d;">state</span>=floating <span style="color: #a0522d;">follow</span>=on 
bspc rule -a Chromium <span style="color: #a0522d;">desktop</span>=<span style="color: #8b2252;">'^2'</span> <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#24320; chromium &#26102;&#22312;&#31532;2&#20010;&#26174;&#31034;&#32456;&#31471;</span>
bspc rule -a mplayer2 <span style="color: #a0522d;">state</span>=floating
bspc rule -a Kupfer.py <span style="color: #a0522d;">focus</span>=on
bspc rule -a Screenkey <span style="color: #a0522d;">manage</span>=off
</pre>
</div>

<p>
sxhkd 格式
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">key chord</span>
Super + &lt;key&gt;

<span style="color: #b22222;"># </span><span style="color: #b22222;">key chord chain</span>
Super + &lt;key&gt; ; &lt;key&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">super + e ; {p,t}
        { <span style="color: #8b2252;">\</span>
        pkill -x melonpanel &amp;&amp; melonpanel, <span style="color: #8b2252;">\</span>
        tempusmenu, <span style="color: #8b2252;">\</span>
        }
</pre>
</div>

<p>
此模式意味着您首先按住Super，然后按e，然后松开Super并按分号右侧定义的任意键;来调用相应的命令。为此， super + e ; t将执行tempusmenu.
</p>

<p>
sxhkd 示例配置解析
</p>

<div class="org-src-container">
<pre class="src src-sh">jasper@jasper-arch ~/.c/sxhkd&gt; cat sxhkdrc
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">wm independent hotkeys &#65306;sxhkd &#33258;&#24049;&#30340;&#37197;&#32622;</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">terminal emulator : mod4 + &#22238;&#36710;&#65292;&#25171;&#24320; &#19968;&#20010;&#40664;&#35748;&#32456;&#31471;&#65292;&#40664;&#35748;&#26159; urxvt&#65292;&#21487;&#20197;&#25442;&#25104;&#20854;&#23427; </span>
super + Return
    terminator

<span style="color: #b22222;"># </span><span style="color: #b22222;">program launcher &#65306; mod4+&#31354;&#26684;&#65292;&#25171;&#24320;&#33756;&#21333;&#12290;&#36825;&#37324; @ &#34920;&#31034; mod4+&#31354;&#26684;&#26494;&#24320;&#21518;&#25165;&#25191;&#34892;&#25171;&#24320;&#23545;&#24212;&#21151;&#33021;&#12290;man sxhkd &#26377;&#35299;&#37322;</span>
super + @space
    dmenu_run <span style="color: #b22222;">#</span><span style="color: #b22222;">&#40664;&#35748;&#22312;&#31383;&#21475;&#19978;&#38754;&#26174;&#31034;&#65292;dmenu_run -b &#22312;&#31383;&#21475;&#19979;&#38754;&#26174;&#31034; </span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">make sxhkd reload its configuration files: &#37325;&#36733;&#37197;&#32622; </span>
super + Escape
    pkill -USR1 -x sxhkd

<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">bspwm hotkeys &#65306;bspwm &#37197;&#32622;</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">quit/restart bspwm  q &#36864;&#20986; bspwm&#65292; r &#37325;&#21551; bspwm</span>
super + alt + {q,r}
    bspc {quit,wm -r}

<span style="color: #b22222;"># </span><span style="color: #b22222;">close and kill &#65306;mod4+w &#20851;&#38381;&#31383;&#21475;&#65292;mod4+shift+w &#26432;&#27515; bspwm &#36827;&#31243;</span>
super + {_,shift + }w
    bspc node -{c,k}

<span style="color: #b22222;"># </span><span style="color: #b22222;">alternate between the tiled and monocle layout : tiled &#24179;&#38138;&#27169;&#24335; &#21644; &#21333;&#31383;&#21475;&#27169;&#24335;&#20999;&#25442;</span>
super + m
    bspc desktop -l next

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36793;&#26694;&#39068;&#33394;&#65292;man bspwm&#65292;&#22312; ~/.config/bspwm/bspwmrc &#20013;&#35774;&#32622; </span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#39068;&#33394; #&#32418;&#32511;&#34013;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">normal_border_color  &#26410;&#32858;&#28966;&#31383;&#21475;&#36793;&#26694;&#30340;&#39068;&#33394;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">focused_border_color &#32858;&#28966;&#30417;&#35270;&#22120;&#30340;&#32858;&#28966;&#31383;&#21475;&#36793;&#26694;&#30340;&#39068;&#33394;&#12290;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">bspc config normal_border_color \#FFFF00   #&#40644;&#33394;&#20026;&#32418;&#33394;&#26368;&#22823;+&#32511;&#33394;&#26368;&#22823;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">bspc config focused_border_color \#00FF00  #&#32511;&#33394;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">send the newest marked node to the newest preselected node : &#26631;&#35760;&#30340;&#31383;&#21475;&#36865;&#21040;&#26368;&#26032;&#39044;&#36873;&#30340;&#33410;&#28857;&#65292;&#21518;&#38754;&#32454;&#35762;</span>
super + y
    bspc node newest.marked.local -n newest.!automatic.local

<span style="color: #b22222;"># </span><span style="color: #b22222;">swap the current node and the biggest window &#65306;&#19982;&#26368;&#22823;&#30340;&#26174;&#31034;&#23631;&#31383;&#21475;&#20132;&#25442;</span>
super + g
    bspc node -s biggest.window

<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">state/flags &#29366;&#24577;</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">set the window state &#65306; tiled&#24179;&#38138;&#65292;pseudo_tiled&#20266;&#24179;&#38138;&#65288;&#20687;&#20010;&#28014;&#21160;&#31383;&#21475;&#65289; floating&#24748;&#28014;&#65288;&#21069;&#32622;&#21040;&#26368;&#21069;&#38754;&#22266;&#23450;&#65289;  fullscreen &#20840;&#23631;</span>
super + {t,shift + t,s,f}
    bspc node -t {tiled,pseudo_tiled,floating,fullscreen}

<span style="color: #b22222;"># </span><span style="color: #b22222;">set the node flags &#65306;marked &#26631;&#35760;&#65288;&#21644;&#39044;&#36873;&#19968;&#36215;&#35762;&#35299;&#65289;&#65292;locked &#26159;&#21542;&#38145;&#23450;&#65292;&#38145;&#23450;&#21017;&#19981;&#21487;&#34987;&#20851;&#38381;&#65292;sticky &#31896;&#20303;&#65292;&#27704;&#36828;&#36319;&#22312;&#30524;&#21069;&#65288;&#19981;&#24120;&#29992;&#65289;&#65292;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">private &#31169;&#26377;&#65292;&#19981;&#34987;&#25171;&#25200;&#65292;&#21363;&#19981;&#22312;&#26412;&#20391;&#31383;&#21475;&#20998;&#23631;&#31561;&#12290;</span>
super + ctrl + {m,x,y,z}
    bspc node -g {marked,locked,sticky,private}

<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">focus/swap</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus the node in the given direction &#65306; &#23545;&#24212;vim&#20013;&#30340;k&#19978; j&#19979; h&#24038; l&#21491;&#20999;&#25442;&#28966;&#28857; &#65292;shift &#21644;&#30456;&#24212;&#26041;&#21521;&#19978;&#30340;&#31383;&#21475;&#20132;&#25442;&#20301;&#32622;</span>
super + {_,shift + }{h,j,k,l}
    bspc node -{f,s} {west,south,north,east}

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus the node for the given path jump &#65306;&#20351;&#29992; bspwm &#30340;&#20108;&#21449;&#26641;&#36716;&#31227;&#28966;&#28857;&#65292;https://github.com/baskerville/bspwm#manual-mode</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">parent &#36873;&#20013;&#24403;&#21069;&#36873;&#20013;&#31383;&#21475;&#30340;&#29238;&#31383;&#21475;&#65292;brother &#36873;&#20013;&#24403;&#21069;&#36873;&#20013;&#31383;&#21475;&#30340;&#20804;&#24351;&#23481;&#22120;&#65292;comma &#36887;&#21495; &#31532;&#19968;&#20010;&#31383;&#21475;&#65292;period &#21477;&#21495; &#31532;1&#20010;&#31383;&#21475;&#30340;&#21516;&#32423;&#31383;&#21475;</span>
super + {p,b,comma,period}
    bspc node -f @{parent,brother,first,second}

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus the next/previous window in the current desktop &#65306; &#28966;&#28857;&#36718;&#25442;&#21040;&#19979;&#19968;&#20010;&#31383;&#21475;&#12289;&#19978;&#19968;&#20010;&#31383;&#21475;</span>
super + {_,shift + }c
    bspc node -f {next,prev}.local.!hidden.window

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus the next/previous desktop in the current monitor &#65306;barcket &#20013;&#25324;&#21495;[]&#24038;&#21491;&#34920;&#31034;&#20999;&#25442;&#21040;&#21069;&#25110;&#19979;&#19968;&#20010;&#26174;&#31034;&#23631;</span>
super + bracket{left,right}
    bspc desktop -f {prev,next}.local

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus the last node/desktop &#65306;grave &#26159; ` &#21495;&#34920;&#31034;&#36820;&#22238;&#19978;&#27425;&#32534;&#36753;&#30340;&#31383;&#21475;&#65292;tab&#38190;&#20999;&#19978;&#27425;&#32534;&#36753;&#30340;&#26174;&#31034;&#23631;</span>
super + {grave,Tab}
    bspc {node,desktop} -f last

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus the older or newer node in the focus history &#65306;&#25353;&#26102;&#38388;&#27491;&#21521;&#21453;&#21521;&#22238;&#28335;&#31383;&#21475;</span>
super + {o,i}
    bspc wm -h off; <span style="color: #8b2252;">\</span>
    bspc node {older,newer} -f; <span style="color: #8b2252;">\</span>
    bspc wm -h on

<span style="color: #b22222;"># </span><span style="color: #b22222;">focus or send to the given desktop &#65306;&#20999;&#25442;&#26174;&#31034;&#23631;&#65292;shift &#25226;&#24403;&#21069;&#31383;&#21475;&#36865;&#21040;&#21738;&#20010;&#26174;&#31034;&#23631;</span>
super + {_,shift + }{1-9,0}
    bspc {desktop -f,node -d} <span style="color: #8b2252;">'^{1-9,10}'</span>

<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">preselect &#39044;&#36873;</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">preselect the direction &#65306;&#39044;&#36873;&#31383;&#21475;</span>
super + ctrl + {h,j,k,l}
    bspc node -p {west,south,north,east}

<span style="color: #b22222;"># </span><span style="color: #b22222;">preselect the ratio &#65306;&#39044;&#36873;&#26102;&#21152;&#19978;&#27604;&#20363;&#65292;1 &#20026; 0.1 &#20010;&#31383;&#21475;</span>
super + ctrl + {1-9}
    bspc node -o 0.{1-9}

<span style="color: #b22222;"># </span><span style="color: #b22222;">cancel the preselection for the focused node &#65306;&#21462;&#28040;&#24403;&#21069;&#31383;&#21475;&#39044;&#36873;</span>
super + ctrl + space
    bspc node -p cancel

<span style="color: #b22222;"># </span><span style="color: #b22222;">cancel the preselection for the focused desktop &#65306;&#21462;&#28040;&#24403;&#21069;&#24179;&#38138;&#38754;&#39044;&#36873;</span>
super + ctrl + shift + space
    bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#39044;&#36873;&#22909;&#20102;&#20301;&#32622;&#65292;&#21487;&#20197;&#36827;&#34892;&#19968;&#20123;&#25805;&#20316;&#65306;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22914; super+&#22238;&#36710; &#23601;&#20250;&#22312;&#20301;&#32622;&#22788;&#25171;&#24320;&#32456;&#31471;&#65292;super+&#31354;&#26684; &#25171;&#24320;&#24212;&#29992;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22914; &#26631;&#35760;&#30340;&#31383;&#21475;&#65288;&#21487;&#20197;&#26159;&#28014;&#21160;&#31383;&#21475;&#65289;&#36865;&#21040;&#26368;&#26032;&#39044;&#36873;&#30340;&#33410;&#28857;&#65292;super + ctrl + m &#26631;&#35760;&#31383;&#21475;&#65292;&#20877;&#25214;&#20010;&#31383;&#21475;  super + ctrl + h,super + ctrl + 6, &#39044;&#36873;&#31383;&#21475;&#65292;super + y &#36865;&#39044;&#36873;&#31383;&#21475;</span>

<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">move/resize  &#25913;&#21464;&#22823;&#23567;</span>
<span style="color: #b22222;">#</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">expand a window by moving one of its side outward &#65306; &#25193;&#22823;&#31383;&#21475;</span>
super + alt + {h,j,k,l}
    bspc node -z {left -20 0,bottom 0 20,top 0 -20,right 20 0}

<span style="color: #b22222;"># </span><span style="color: #b22222;">contract a window by moving one of its side inward &#65306;&#32553;&#23567;&#31383;&#21475;</span>
super + alt + shift + {h,j,k,l}
    bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}

<span style="color: #b22222;"># </span><span style="color: #b22222;">move a floating window &#65306;&#36890;&#36807;&#25353;&#20303;&#40736;&#26631;&#21491;&#38190;&#25918;&#22823;&#32553;&#23567;&#31383;&#21475;&#65292;&#36890;&#36807;&#25353;&#20303;&#40736;&#26631;&#24038;&#38190;&#31227;&#21160;&#31383;&#21475;</span>
super + {Left,Down,Up,Right}
    bspc node -v {-20 0,0 20,0 -20,20 0}
</pre>
</div>

<p>
配置自定义的 sxhkd 热键需要阅读 bspwm 文档 <code>man bspwm</code>
</p>
</div>
</div>
<div id="outline-container-h:01b6d4f8-98f3-4f68-ba23-cd709b83b878" class="outline-4">
<h4 id="h:01b6d4f8-98f3-4f68-ba23-cd709b83b878">bar</h4>
<div class="outline-text-4" id="text-h:01b6d4f8-98f3-4f68-ba23-cd709b83b878">
</div>
<div id="outline-container-h:eb78fb74-b1cd-4d11-90d6-292383814763" class="outline-5">
<h5 id="h:eb78fb74-b1cd-4d11-90d6-292383814763">polybar</h5>
<div class="outline-text-5" id="text-h:eb78fb74-b1cd-4d11-90d6-292383814763">
<p>
<a href="https://wiki.archlinux.org/title/Polybar">https://wiki.archlinux.org/title/Polybar</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013; polybar &#21644;&#23383;&#20307;&#22270;&#26631;</span>
yay -S polybar pacman-contrib ttf-font-awesome siji-git pulseaudio alsa-utils

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37197;&#32622;</span>
mkdir ~/.config/polybar
curl https://gitlab.com/eflinux/polybar/-/raw/master/.config?<span style="color: #a0522d;">ref_type</span>=heads -o ~/.config/polybar/config

vim ~/.config/polybar/config
modules-right = filesystem pulseaudio xkeyboard memory cpu eth  date powermenu
[module/bspwm]
label-separator = | <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#28040;&#27880;&#37322; </span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#32467;&#21512; bspwm</span>
vim $<span style="color: #a0522d;">HOME</span>/.config/polybar/launch.sh
<span style="color: #b22222;">#</span><span style="color: #b22222;">!/bin/bash</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Terminate already running bar instances</span>
killall -q polybar
<span style="color: #b22222;"># </span><span style="color: #b22222;">If all your bars have ipc enabled, you can also use</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">polybar-msg cmd quit</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">Launch Polybar, using default config location ~/.config/polybar/config.ini</span>
polybar example 2&gt;&amp;1 | tee -a /tmp/polybar.log &amp; <span style="color: #483d8b;">disown</span> <span style="color: #b22222;">#</span><span style="color: #b22222;">mybar&#25913;&#20026;example</span>

<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"Polybar launched..."</span>

chmod +x ~/.config/polybar/launch.sh

vim ~/.config/bspwm/bspwmrc
$<span style="color: #a0522d;">HOME</span>/.config/polybar/launch.sh <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21152;&#22312;bspc&#21551;&#21160;&#21069;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:8ce966c0-365c-4aac-9bf1-3296e1371ba5" class="outline-5">
<h5 id="h:8ce966c0-365c-4aac-9bf1-3296e1371ba5">面板-lemonbar</h5>
<div class="outline-text-5" id="text-h:8ce966c0-365c-4aac-9bf1-3296e1371ba5">
<p>
版本差异
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt; paru  lemonbar

 1 aur/lemonbar 1.4-1 &#23448;&#26041;&#21457;&#34892;&#29256;&#26412;
    A featherweight, lemon-scented, bar based on xcb.
 2 aur/lemonbar-git &#23448;&#26041; git &#29256;&#26412;
    A featherweight, lemon-scented, bar based on xcb.
 3 aur/lemonbar-xft-git &#25903;&#25345;&#22270;&#26631;&#23383;&#20307;&#30340;&#29256;&#26412;
    A lightweight xcb based bar with ported xft support.
 4 aur/lemonbar-sm-git &#25903;&#25345; xft &#21516;&#26102;&#25903;&#25345;&#36873;&#25321;&#22810;&#23631;&#24149;&#30340;&#21151;&#33021;
    Fork of lemonbar, with xft support and the ability to select monitor.
 5 aur/lemonbar-clicks-git &#25903;&#25345;&#26356;&#22810;&#30340;&#28857;&#20987;&#20107;&#20214;&#65292;&#23448;&#26041;&#26368;&#22810;&#25903;&#25345; 10 &#28857;&#20987;&#20107;&#20214; 
    A lightweight xcb based bar with ported xft support, support to specify outputs, support for unlimited 
    clickable areas and support for longer input.
 6 aur/weather-bar 
    Weather plug-in for polybar, lemonbar, and others. With geolocation, Weather Underground, and NOAA support
 7 aur/lemons 0.6.3-1 &#33050;&#26412;
    Output script for lemonbar
 8 aur/thonkbar-git r46.29a2364-1 [+1 ~0.09]
    minimalist block based lemonbar wrapper
 9 aur/barpyrus-git r117.a50f18b-3 [+0 ~0.00]
    A python wrapper for lemonbar/conky
10 aur/lemonbar-ucs4-git &#25903;&#25345; ucs4 &#32534;&#30721;
    A lightweight xcb based bar with ported xft and ucs4 support.
</pre>
</div>

<p>
安装 <code>paru -S  lemonbar-xft-git</code>
</p>

<p>
配置文件位置随意指定：如 <code>~/.config/lemonbar</code>
</p>

<p>
启动 <code>lemonbar</code>
</p>

<p>
运行原理：
</p>

<p>
lemonbar 接收标准输入输出再展示出来。
</p>


<p>
命令行参数：<a href="https://github.com/LemonBoy/bar">https://github.com/LemonBoy/bar</a>
</p>

<p>
-p 保持在屏幕上，不让输入完就退出。 <code>echo 1111111111|lemonbar -p</code>
</p>

<p>
-f 修改字体。 <code>fc-list</code> 查看字体，如 <code>echo 1111111111|lemonbar -p -f 'Adobe Courier'-19</code> 使用 Adobe Courier 字体，字体大小为 19 号
</p>

<p>
-B 修改背景色 hex format (#aarrggbb, #rrggbb, #rgb).
</p>

<p>
-F 修改前景交通
</p>

<p>
-b bar 位置在底部
</p>

<p>
-g widthxheight+x+y: bar 的宽度高度，xy 轴坐标
</p>

<p>
-d 防止被覆盖，告诉窗口管理器这是个 bar而不是应用程序
</p>

<p>
-n 设置 bar 窗口名称
</p>

<p>
-u 加下划线
</p>

<p>
-U 设置下划线颜色
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#40644;&#33394;&#32972;&#26223;&#65292;&#34013;&#23383;&#65292;100&#23485;&#26368;&#24038;&#20391;&#30340; bar</span>
<span style="color: #483d8b;">echo</span> 1111111111|lemonbar -p -f <span style="color: #8b2252;">'Adobe Courier'</span>-19 -B <span style="color: #8b2252;">'#ffff00'</span> -F <span style="color: #8b2252;">'#00ff00'</span> -g 100x20+0+0
</pre>
</div>

<p>
格式化输出： 在 <code>%%</code> 内 <code>{}</code> 填入操作动作 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">aaa&#23383;&#20018;&#20301;&#32622;&#40644;&#33394;&#32972;&#26223;&#65292;bb&#23383;&#20018;&#32511;&#33394;&#32972;&#26223;&#65292;&#34013;&#23383;&#65292;aaa &#20013;&#38388; a &#20026;&#32511;&#23383;&#65292;100&#23485;&#26368;&#24038;&#20391;&#30340; bar</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"%{B#ffff00}a%{F#00ff00}a%{F}a%{B}%{B#00ff00}bb%{B}"</span>|lemonbar -p -f <span style="color: #8b2252;">'Adobe Courier'</span>-19  -F <span style="color: #8b2252;">'#00ff00'</span> -g 100x20+0+0
</pre>
</div>

<p>
其中点击事件 <code>Abutton:command:</code> 比较重要，A 左键，A2 中键，A3 右键，A4 向上滚，A5 向下滚
</p>
</div>
</div>
</div>
<div id="outline-container-h:7fa5b0c8-bd0f-4f3e-8ea4-bfe5b7ae4cff" class="outline-4">
<h4 id="h:7fa5b0c8-bd0f-4f3e-8ea4-bfe5b7ae4cff">其它小工具</h4>
<div class="outline-text-4" id="text-h:7fa5b0c8-bd0f-4f3e-8ea4-bfe5b7ae4cff">
</div>
<div id="outline-container-h:cb0a2360-5146-46e7-99c8-dd05d9b24e64" class="outline-5">
<h5 id="h:cb0a2360-5146-46e7-99c8-dd05d9b24e64">锁屏</h5>
<div class="outline-text-5" id="text-h:cb0a2360-5146-46e7-99c8-dd05d9b24e64">
<ul class="org-ul">
<li>betterlockscreen</li>
<li>feh</li>
</ul>

<p>
范例：betterlockscreen
</p>

<div class="org-src-container">
<pre class="src src-sh">yay -S betterlockscreen
N
yay -S xdpyinfo xrandr bc feh

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#27983;&#35272;&#22120;&#19979;&#36733;&#19968;&#24352;&#22721;&#32440; china 4k wallpapers</span>
betterlockscreen -u Downloads/a.jpg  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#32531;&#23384;</span>
betterlockscreen -l dimblur <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25191;&#34892;&#38145;&#23631;&#65292;&#38145;&#23631;&#21518;&#38656;&#35201;&#36755;&#20837;&#23494;&#30721;&#35299;&#38145;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b7bbc307-e0c4-4072-87c3-155328ccc986" class="outline-5">
<h5 id="h:b7bbc307-e0c4-4072-87c3-155328ccc986">终端显示</h5>
<div class="outline-text-5" id="text-h:b7bbc307-e0c4-4072-87c3-155328ccc986">
<p>
<a href="https://wiki.archlinux.org/title/Powerline">https://wiki.archlinux.org/title/Powerline</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S neofetch powerline
vim ~/.bashrc <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36861;&#21152;&#20869;&#23481;</span>

neofetch
powerline-daemon -q
<span style="color: #a0522d;">POWERLINE_BASH_CONTINUATION</span>=1
<span style="color: #a0522d;">POWERLINE_BASH_SELECT</span>=1
. /usr/share/powerline/bindings/bash/powerline.sh
</pre>
</div>
</div>
</div>
<div id="outline-container-h:167be97d-8536-4622-bead-b87d7f3c3947" class="outline-5">
<h5 id="h:167be97d-8536-4622-bead-b87d7f3c3947">多媒体播放器</h5>
<div class="outline-text-5" id="text-h:167be97d-8536-4622-bead-b87d7f3c3947">
<div class="org-src-container">
<pre class="src src-sh">sudo pacman -S mpv
paru -S youtube-dl
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:1c35c3bb-14fd-4eef-8d72-d5045a9ba7b6" class="outline-3">
<h3 id="h:1c35c3bb-14fd-4eef-8d72-d5045a9ba7b6">Guix</h3>
<div class="outline-text-3" id="text-h:1c35c3bb-14fd-4eef-8d72-d5045a9ba7b6">
<p>
自由的GNU/Linux发行版： <a href="https://www.gnu.org/distros/free-distros.html">https://www.gnu.org/distros/free-distros.html</a>
</p>

<p>
Guix System 是一个基于 GNU Guix（发音是“geeks”）的先进 GNU/Linux 发行版，这是 GNU 系统的一个纯功能性包管理器。
</p>

<p>
官方地址： <a href="https://guix.gnu.org/">https://guix.gnu.org/</a>
</p>
</div>
<div id="outline-container-h:44f2981c-b2f8-479d-bedf-5cd56577f9ba" class="outline-4">
<h4 id="h:44f2981c-b2f8-479d-bedf-5cd56577f9ba">虚拟机安装Guix</h4>
<div class="outline-text-4" id="text-h:44f2981c-b2f8-479d-bedf-5cd56577f9ba">
<p>
iso镜像下载：<a href="https://guix.gnu.org/zh-CN/download/">https://guix.gnu.org/zh-CN/download/</a>
</p>

<ul class="org-ul">
<li>Locale language: English</li>
<li>Locale location: Hong Kong</li>
<li>GNU Guix install: Graphical install using a terminal based interface</li>
<li>Timezone: Asia&#x2013;Hong Kong</li>
<li>Layout: English (US)</li>
<li>Variant: English (US)</li>
<li>Hostname: 主机名，随意。 jasper</li>
<li>Substitute server discovery: Disable</li>
<li>System administrator password: 填入密码</li>
<li>User creation: 添加普通用户</li>
<li>Desktop environment: 桌面环境可选，这里用GNOME</li>
<li>Network service: 加上 OpenSSH</li>
<li>Printing and document service: 不选</li>
<li>Partitioning method: 磁盘整个 Guided - using the entrie disk
<ul class="org-ul">
<li>Partition table: gpt</li>
<li>Partition scheme: 整个分区Everthing is one partition</li>
</ul></li>
<li>Configuration file: 刚设置生产的配置文件，不修改的话直接 OK
<ul class="org-ul">
<li>可配置国内源</li>
</ul></li>
<li>等待20分钟左右，重启 reboot</li>
</ul>


<p>
默认程序在
</p>
<ul class="org-ul">
<li>/run/current-system/profile/bin</li>
<li>/run/current-system/profile/sbin</li>
<li>~/.guix-profile/bin</li>
</ul>


<p>
<b>软件包配置文件</b>
</p>

<ul class="org-ul">
<li>channels 用于获取软件包定义和更新的源</li>
<li>subsitute 获取预编译二进制包</li>
</ul>

<p>
配置国内软件包源:
</p>
<ul class="org-ul">
<li><a href="https://mirror.sjtu.edu.cn/docs/guix">https://mirror.sjtu.edu.cn/docs/guix</a></li>
</ul>

<p>
channels:
</p>

<p>
vi ~/.config/guix/channels.scm 
</p>
<div class="org-src-container">
<pre class="src src-sh">(list (channel
       (inherit (car %default-channels))
       (url <span style="color: #8b2252;">"https://mirror.sjtu.edu.cn/git/guix.git"</span>)))
</pre>
</div>

<p>
Substitute 镜像
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26041;&#27861;1&#29615;&#22659;&#21464;&#37327;</span>
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">GUIX_BUILD_OPTIONS</span>=<span style="color: #8b2252;">"--substitute-urls=https://mirror.sjtu.edu.cn/guix"</span>
</pre>
</div>

<p>
guix 使用
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26356;&#26032;&#28304;</span>
guix pull

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;&#36719;&#20214;</span>
guix install curl

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#21253;&#21464;&#21270;</span>
guix package -l
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:1709C03D-5151-4F81-BED5-B398795EDE2C" class="outline-2">
<h2 id="h:1709C03D-5151-4F81-BED5-B398795EDE2C">MacOS</h2>
<div class="outline-text-2" id="text-h:1709C03D-5151-4F81-BED5-B398795EDE2C">
</div>
<div id="outline-container-h:B4BECDF4-B882-410B-B651-F756C5CC92F6" class="outline-3">
<h3 id="h:B4BECDF4-B882-410B-B651-F756C5CC92F6">Parallels desktop</h3>
<div class="outline-text-3" id="text-h:B4BECDF4-B882-410B-B651-F756C5CC92F6">
<p>
<a href="https://www.parallels.cn/products/desktop/">https://www.parallels.cn/products/desktop/</a>
</p>

<p>
丝滑收费。
</p>
</div>
</div>
<div id="outline-container-h:0F173A69-F2EB-4E28-9187-8F369AEB8231" class="outline-3">
<h3 id="h:0F173A69-F2EB-4E28-9187-8F369AEB8231">VirtualBox for MacOS</h3>
<div class="outline-text-3" id="text-h:0F173A69-F2EB-4E28-9187-8F369AEB8231">
</div>
<div id="outline-container-h:CB7E3C50-6EEE-4D22-873D-12F80E89E50C" class="outline-4">
<h4 id="h:CB7E3C50-6EEE-4D22-873D-12F80E89E50C">在 Mac(M1, M2, M3, M4) 上使用 VirtualBox 安装Kali Linux</h4>
<div class="outline-text-4" id="text-h:CB7E3C50-6EEE-4D22-873D-12F80E89E50C">
<p>
视频参考：
</p>
<ul class="org-ul">
<li><a href="https://youtu.be/mWPPmaOXnrI?si=W6Au05Xt0EZZS1yO">https://youtu.be/mWPPmaOXnrI?si=W6Au05Xt0EZZS1yO</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:b54dfa05-9a2a-4c91-8260-4c6b2179539f" class="outline-3">
<h3 id="h:b54dfa05-9a2a-4c91-8260-4c6b2179539f">UTM for MacOS</h3>
<div class="outline-text-3" id="text-h:b54dfa05-9a2a-4c91-8260-4c6b2179539f">
<p>
<a href="https://mac.getutm.app/">https://mac.getutm.app/</a>
</p>

<p>
UTM 是一款功能强大的 <code>QEMU</code> 虚拟机管理程序和模拟器，它允许你在任何配置Apple Silicon 的Mac上的虚拟机(VM)内运行具有OpenGL硬件加速的Linux 。UTM 的 macOS 版支持 Apple Silicon 和 Intel 双架构，和 iOS/iPadOS 版一样完全免费
</p>
</div>
<div id="outline-container-h:487be871-2972-4e42-8e99-b7d06b890514" class="outline-4">
<h4 id="h:487be871-2972-4e42-8e99-b7d06b890514">安装 UTM</h4>
<div class="outline-text-4" id="text-h:487be871-2972-4e42-8e99-b7d06b890514">
<p>
<a href="https://mac.getutm.app/">https://mac.getutm.app/</a> 选择Download
</p>

<p>
双击安装。
</p>
</div>
<div id="outline-container-h:d5b94099-fdb9-46ca-8177-b8af40ba6cc6" class="outline-5">
<h5 id="h:d5b94099-fdb9-46ca-8177-b8af40ba6cc6">UTM 网络</h5>
<div class="outline-text-5" id="text-h:d5b94099-fdb9-46ca-8177-b8af40ba6cc6">
<p>
虚拟机在停止状态下才能编辑网络。
</p>

<p>
网络模式分4种：
</p>
<ul class="org-ul">
<li>模拟VLAN</li>
<li>共享网络（默认Nat）</li>
<li>Host Only</li>
<li>桥接（高级）</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">Share Network (Nat) has access internet to WAN
Ubuntu1 192.168.64.4
Ubuntu2 192.168.64.5

---

Host Only (No connection to WAN)
Can connect via ssh on LAN
Ubuntu1 10.37.129.2
Ubuntu2 10.37.129.3

---

<span style="color: #0000ff;">Bridged</span> (Advanced) access to WAN
Ubuntu1 10.10.2.91
Ubuntu2 10.10.2.92
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e06059cf-904f-4506-9c8a-2b3e2e8d0d29" class="outline-5">
<h5 id="h:e06059cf-904f-4506-9c8a-2b3e2e8d0d29">镜像</h5>
<div class="outline-text-5" id="text-h:e06059cf-904f-4506-9c8a-2b3e2e8d0d29">
<p>
vmware 格式文件转 utm 能使用的格式
</p>
<div class="org-src-container">
<pre class="src src-sh">qemu-img convert -p -O qcow2 Renmux-disk1.vmdk Renmux.qcow2
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:47626f55-0120-409e-a4b9-61d1685a676c" class="outline-4">
<h4 id="h:47626f55-0120-409e-a4b9-61d1685a676c">在 Mac(M1, M2, M3, M4) 上使用 UTM 安装Kali Linux</h4>
<div class="outline-text-4" id="text-h:47626f55-0120-409e-a4b9-61d1685a676c">
<p>
<a href="https://www.kali.org/docs/virtualization/">https://www.kali.org/docs/virtualization/</a>
</p>

<p>
utm安装kali参考：<a href="https://www.kali.org/docs/virtualization/install-utm-guest-vm/">https://www.kali.org/docs/virtualization/install-utm-guest-vm/</a>
</p>

<p>
视频：<a href="https://www.youtube.com/watch?v=9zdjQ9w_v_4">https://www.youtube.com/watch?v=9zdjQ9w_v_4</a>
</p>

<p>
<a href="https://www.kali.org/">https://www.kali.org/</a> 选择download
</p>

<p>
我们这里下载的是 Kali Linux 2023.2 版架构Apple Silicon(ARM64)名为Installer的裸机镜像。
</p>

<p>
<b>为Kali创建虚拟机</b>
</p>

<ul class="org-ul">
<li>打开UTM</li>

<li>创建一个虚拟机，推荐选择与主机架构一致的虚拟化主机。</li>

<li>操作系统选择Linux</li>

<li>在 Linux 选项都不勾选，我们将使用 QEMU 虚拟机管理程序，而不是不稳定的苹果虚拟机管理程序。
<ul class="org-ul">
<li>启动ISO镜像中选择下载好的镜像</li>
</ul></li>

<li>分配4G内存、CPU 4核心，同时开启OpenGL硬件加速</li>

<li>磁盘空间至少30G</li>

<li>共享目录，这里选择了桌面</li>

<li>概述中给虚拟主机命名，保存</li>

<li>点击右上角设置，在"设备"下添加一个串行端口。如果不这样做，安装程序将无法运行。
<ul class="org-ul">
<li>字体大小可以设置为20</li>
</ul></li>

<li>启动虚拟机
<ul class="org-ul">
<li>启动时有2个窗口，选择"terminal 1"窗口</li>
<li>Ctrl + Option 将光标控制权返回给主机操作系统</li>
</ul></li>
</ul>

<p>
<b>kali安装</b>
</p>

<ul class="org-ul">
<li>安装界面，选择Install，当前不适用于UTM的图形安装
<ul class="org-ul">
<li>使用键盘的方向键、TAB操作</li>
</ul></li>
<li>语言：English</li>
<li>位置：other ，中国在other中
<ul class="org-ul">
<li>大陆或地区：Asia 亚州</li>
<li>国家或地区：China</li>
<li>本地字符: en_US.UTF-8</li>
</ul></li>
<li>键盘：American English</li>
<li>主机名：kali 默认。可修改</li>
<li>域名：空</li>
<li>账号密码：自定义</li>
<li>硬盘分区：默认一整块，一路回车，选择YES确认分区信息</li>
<li>软件选择：默认 TAB 回车，等待安装完毕。
<ul class="org-ul">
<li>默认为 xface 终端</li>
</ul></li>
<li>软件安装完毕后，关闭虚拟机</li>
<li>转到主界面将虚拟机CD/DVD的ISO镜像清除</li>
<li>右上角设置，从设备中将串行端口删除，保存</li>
<li>启动虚拟机，等待10秒即可看到登录屏幕
<ul class="org-ul">
<li>打开终端窗口查看版本，cat /etc/os-release</li>
</ul></li>
</ul>

<p>
自动dhcp 地址
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo vim /etc/network/interfaces
auto eth0
<span style="color: #b22222;">#</span><span style="color: #b22222;">iface eth0 inet static #&#37197;&#32622;&#20351;&#29992;&#38745;&#24577;&#22320;&#22336;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">address 10.0.2.2  #&#37197;&#32622;&#22266;&#23450;ip</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">netmask 255.255.255.0</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">gateway xxxx</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">dns</span>
sudo vim /etc/resolv.conf
nameserver 8.8.8.8

systemctl restart networking
</pre>
</div>

<p>
软件更新：
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo apt update
sudo apt upgrade
sudo apt install neofetch htop

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#23433;&#35013; SPICE &#24037;&#20855;&#65292;&#20197;&#20415;&#21487;&#20197;&#20849;&#20139;&#21098;&#36148;&#26495;&#24182;&#35843;&#25972;&#26174;&#31034;&#22823;&#23567;</span>
sudo apt install spice-vdagent spice-webdavd

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;ssh</span>
apt install -y openssh-server
systemctl enable --now ssh

<span style="color: #b22222;">#</span><span style="color: #b22222;">vim</span>
apt install -y vim
</pre>
</div>

<p>
切换工作区：
</p>

<p>
Ctrl+Alt+方向键
</p>

<p>
Ctrl+Alt+123456指定工作区
</p>
</div>
</div>
<div id="outline-container-h:7b11ea3a-3472-4808-aaf2-d7cc8f03d1a8" class="outline-4">
<h4 id="h:7b11ea3a-3472-4808-aaf2-d7cc8f03d1a8">在 Mac(M1, M2, M3, M4) 上使用 UTM 安装window11</h4>
<div class="outline-text-4" id="text-h:7b11ea3a-3472-4808-aaf2-d7cc8f03d1a8">
<p>
UTM 缺点没有快照功能，需要自己输入 qemu 命令
</p>

<p>
UTM(download):<a href="https://mac.getutm.app/">https://mac.getutm.app/</a>
</p>

<p>
MY ISO FILE OF WINDOWS 11: <a href="https://www.mediafire.com/file/0m96d95bw65gou7/22621.1.220506-1250.NI_RELEASE_CLIENTMULTI_A64FRE_EN-US.ISO">https://www.mediafire.com/file/0m96d95bw65gou7/22621.1.220506-1250.NI_RELEASE_CLIENTMULTI_A64FRE_EN-US.ISO</a>
</p>

<p>
Windows 11 UTM GUIDE:<a href="https://docs.getutm.app/guides/windows/">https://docs.getutm.app/guides/windows/</a>
</p>

<p>
视频参考：
</p>
<ul class="org-ul">
<li><a href="https://youtu.be/hdddzyIPasU?si=xjOE39-C-LY6M5WR">https://youtu.be/hdddzyIPasU?si=xjOE39-C-LY6M5WR</a></li>
<li><a href="https://www.youtube.com/watch?v=SPraImTROn0&amp;t=602s">https://www.youtube.com/watch?v=SPraImTROn0&amp;t=602s</a></li>

<li>下载UTM
<ul class="org-ul">
<li><a href="https://mac.getutm.app/">https://mac.getutm.app/</a> 点击Download</li>
</ul></li>
<li>下载windows11
<ul class="org-ul">
<li><a href="https://www.microsoft.com/en-us/windowsinsider/">https://www.microsoft.com/en-us/windowsinsider/</a> 登录账号</li>
<li>选择 Preview Windows &#x2013;&gt; Preview now &#x2013;&gt; 弹出页面同意后中点击<a href="https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewiso?rfs=1">"Windows Insider Preview ISO</a>"</li>
<li>右侧选择 <a href="https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewarm64">Windows 11 on Arm Insider Preview</a></li>
<li>选择最新版本win11，点击Confirm</li>
<li>语言：English，点击Confirm</li>
<li>点击 Download Now
<ul class="org-ul">
<li>下载是VHDX映像</li>
</ul></li>
</ul></li>
<li>下载SPICE 主机之间复制粘贴工具，自动安装</li>
</ul>

<p>
<b>安装UTM</b>
</p>

<p>
略，参考Kali中讲解
</p>

<p>
<b>新建windows11虚拟机</b>
</p>

<ul class="org-ul">
<li>打开UTM</li>
<li>创建一个虚拟机，推荐选择与主机架构一致的虚拟化主机。</li>
<li>操作系统选择Windows</li>
<li>在 Windows 选项都勾选
<ul class="org-ul">
<li>导入VHDX映像
<ul class="org-ul">
<li>启动ISO镜像中选择下载好的镜像</li>
</ul></li>
</ul></li>
<li>分配4G内存、CPU 4核心</li>
<li>共享目录，这里选择了桌面</li>
<li>概述中给虚拟主机命名，保存</li>
<li>启动虚拟机
<ul class="org-ul">
<li>Ctrl + Option 将光标控制权返回给主机操作系统</li>
</ul></li>
</ul>

<p>
<b>安装windows11</b>
</p>

<ul class="org-ul">
<li>Cuntry or region: United States</li>
<li>keyboard: US</li>
<li>connect you to a network:
<ul class="org-ul">
<li>Press "Fn+Shift+F10"
<ul class="org-ul">
<li>cmd:
<ul class="org-ul">
<li><code>oobe\bypassnro</code> &lt;ENTER&gt;</li>
</ul></li>
</ul></li>
<li>I don't have internet</li>
</ul></li>
<li>review the License</li>
<li>your name: xxx</li>
<li>setting for your device: Next&#x2026;</li>
<li>桌面图标
<ul class="org-ul">
<li>桌面右键 Personalize &#x2013;&gt; Themes &#x2013;&gt; Desktop icon settings</li>
<li>勾选Computer  应用 Apply</li>
</ul></li>
<li>Open CD Drive（D:）
<ul class="org-ul">
<li>install Spice tool. reboot</li>
</ul></li>
</ul>


<p>
浏览器 Edge
</p>
<ul class="org-ul">
<li>Start without your data</li>
<li>Confirm and start browsing</li>
<li>浏览器上输入 google.com 正常打开</li>
</ul>

<p>
激活：管理员打开cmd窗口
</p>

<p>
<a href="https://learn.microsoft.com/en-us/windows-server/get-started/kms-client-activation-keys">KMS client activation</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">C:\Windows\System32&gt;slmgr /ipk W269N-WFGWX-YVC9B-4J6C9-T83GX

C:\Windows\System32&gt;slmgr /skms kms9.MSGuides.com

C:\Windows\System32&gt;slmgr /ato
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ac3ff411-d37e-4f15-8d2d-5c5846a02158" class="outline-4">
<h4 id="h:ac3ff411-d37e-4f15-8d2d-5c5846a02158">在 Mac(M1, M2, M3, M4) 上使用 UTM 安装window7-x86</h4>
<div class="outline-text-4" id="text-h:ac3ff411-d37e-4f15-8d2d-5c5846a02158">
<ul class="org-ul">
<li>下载UTM
<ul class="org-ul">
<li><a href="https://mac.getutm.app/">https://mac.getutm.app/</a> 点击Download</li>
</ul></li>
<li>下载utm win7配置
<ul class="org-ul">
<li>utm 首页点击 GALLERY 选择 <a href="https://mac.getutm.app/gallery/windows-7">windows-7 x86</a></li>
<li>点击 Download 下载，得到 Windows 7.utm</li>
</ul></li>
<li>下载 SPICE tools ISO
<ul class="org-ul">
<li>utm 首页点击 GALLERY 选择 <a href="https://mac.getutm.app/gallery/windows-7">windows-7 x86</a></li>
<li>选择 <a href="https://docs.getutm.app/guest-support/windows/#download">SPICE tools ISO</a>，在 Download 标题点击 <a href="https://github.com/utmapp/qemu/releases/download/v7.0.0-utm/spice-guest-tools-0.164.4.iso">here</a> 下载，得到 spice-guest-tools-0.164.4.iso</li>
</ul></li>
<li>下载windows7</li>
</ul>

<p>
<b>安装UTM</b>
</p>

<p>
双击安装
</p>

<p>
<b>新建windows7虚拟机</b>
</p>

<ul class="org-ul">
<li>双击使用 Windows 7.utm  模板</li>
<li>修改内存为8g</li>
<li>修改磁盘大小 60G</li>
<li>取消</li>
</ul>

<p>
<b>安装windows7</b>
</p>

<ul class="org-ul">
<li>下一步</li>
<li>安装 SPICE tools
<ul class="org-ul">
<li>点击 utm 界面右上角的 <code>Drive image options</code> 更改 iso 为 spice tools 的 iso</li>
<li>在弹出窗口中打开 CD 驱动器文件夹，选择 spice tools 安装程序双击安装</li>
<li>安装过程一直下一步就行，弹窗中选择 <code>始终安装这个软件</code></li>
<li>点击 utm 界面右上角的 <code>Drive image options</code> 弹出光盘</li>
</ul></li>
<li>重启虚拟机</li>
<li>如果无法联网
<ul class="org-ul">
<li>打开右下角图标 <code>打开网络和共享中心</code> 选择 <code>更改适配器设置</code></li>
<li>右击 <code>本地连接</code> 选择属性，把 ipv4 的 dns 改成 8.8.8.8 保存</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:EB1540B9-D944-46DF-84A4-67B1D429EE89" class="outline-3">
<h3 id="h:EB1540B9-D944-46DF-84A4-67B1D429EE89">VMware Fusion for MacOS</h3>
<div class="outline-text-3" id="text-h:EB1540B9-D944-46DF-84A4-67B1D429EE89">
</div>
<div id="outline-container-h:b3189fd0-dff8-45e2-902f-e00f71d80c5e" class="outline-4">
<h4 id="h:b3189fd0-dff8-45e2-902f-e00f71d80c5e">在Mac(M1, M2, M3, M4) 上使用 VMware Fusion 安装window11</h4>
<div class="outline-text-4" id="text-h:b3189fd0-dff8-45e2-902f-e00f71d80c5e">
<p>
视频参考：
</p>
<ul class="org-ul">
<li><a href="https://youtu.be/UfRmN7QS8eo?si=1barOH_sFYfRa2Ip">https://youtu.be/UfRmN7QS8eo?si=1barOH_sFYfRa2Ip</a></li>
<li><a href="https://www.youtube.com/watch?v=za2CyrxKYFs">https://www.youtube.com/watch?v=za2CyrxKYFs</a></li>
<li>中文：<a href="https://youtu.be/h567WqCF6ZI?si=VsXLBQbwVZ7Gr_fQ">https://youtu.be/h567WqCF6ZI?si=VsXLBQbwVZ7Gr_fQ</a></li>
<li>中文：<a href="https://youtu.be/f3Et-70HdGE?si=wgHqJ31jEWWjOQRZ">https://youtu.be/f3Et-70HdGE?si=wgHqJ31jEWWjOQRZ</a></li>
</ul>

<p>
Downloads:
</p>
<ul class="org-ul">
<li>Download Parallels Desktop For Mac: <a href="https://www.parallels.com/">https://www.parallels.com/</a></li>
<li>Download VMWare Fusion Player: <a href="https://www.vmware.com/in/products/fu">https://www.vmware.com/in/products/fu</a>&#x2026;</li>
</ul>


<p>
Download Windows 11 ARM ISO
</p>
<ul class="org-ul">
<li>下载 Parallels
<ul class="org-ul">
<li>官方页面选择 Download free trial 进入下载页面，下载</li>
<li>安装：双击安装，按提示来，同意并开通对应权限</li>
<li>安装好后，点从 Microsoft 获取 Windows 11，点继续，就会下载arm 平台iso镜像，后面会用到
<ul class="org-ul">
<li>镜像位置：~/Downloads/22621.1702.230505-1222.ni_release_svc_refresh_CLIENTCONSUMER_RET_A64FRE_zh-cn.iso</li>
</ul></li>
<li>下载时自动安装 win11 系统同时进行，我们只需要iso镜像，所以快速退出安装即可
<ul class="org-ul">
<li>左上角菜单退出安装win11
<ul class="org-ul">
<li>注意：只需要iso镜像，快速退出。自动安装win11后需要登录账号才能退出win11</li>
</ul></li>
</ul></li>
<li>删除软件，同时删除 <code>~/Parallels</code> 目录</li>
</ul></li>
</ul>

<p>
Install Windows 11 for ARM using VMware Fusion
</p>
<ul class="org-ul">
<li>下载好软件，输入密钥，过程略</li>
<li>打开VMware</li>
<li>将iso镜像拖到界面，点继续</li>
<li>引导固件默认UEFI，点继续</li>
<li>加密，自动加密，点继续</li>
<li>自定义配置，可以改位置，这里默认。点完成。菜单栏关机</li>
<li>点上方菜单栏"虚拟机"的设置选项
<ul class="org-ul">
<li>处理器和内存：4核心</li>
</ul></li>
<li>菜单栏虚拟机选项启动虚拟机，回车进入安装画面</li>
</ul>


<p>
<b>安装windows11-初始化</b>
</p>
<ul class="org-ul">
<li>选择语言，下一步</li>
<li>点开始安装</li>
<li>密钥，选择我没有产品密钥</li>
<li>选择要安装的操作系统，这里默认家族版，下一步</li>
<li>同意协议，下一步</li>
<li>自定义仅安装windows</li>
<li>磁盘位置默认，下一步</li>
<li>等待复制文件、安装更新，自动重启虚拟机</li>
</ul>


<p>
<b>安装windows11-配置</b>
</p>
<ul class="org-ul">
<li>Cuntry or region: United States</li>
<li>keyboard: US</li>
<li>connect you to a network:
<ul class="org-ul">
<li>Press "Fn+Shift+F10"
<ul class="org-ul">
<li>cmd:
<ul class="org-ul">
<li><code>oobe\bypassnro</code> &lt;ENTER&gt;</li>
</ul></li>
</ul></li>
<li>I don't have internet</li>
</ul></li>
<li>review the License</li>
<li>your name: xxx</li>
<li>setting for your device: Next&#x2026;</li>
<li>桌面图标
<ul class="org-ul">
<li>桌面右键 Personalize &#x2013;&gt; Themes &#x2013;&gt; Desktop icon settings</li>
<li>勾选Computer  应用 Apply</li>
</ul></li>
<li><p>
VMware tools
</p>
<ul class="org-ul">
<li>虚拟机缺少网络驱动，需要安装 VMware tools</li>
<li>搜索栏中搜索 powershell ，用管理员身份运行，并执行如下命令</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">Set-ExecutionPolicy RemoteSigned
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26356;&#25913;&#25191;&#34892;&#31574;&#30053;&#65292;A &#20840;&#37096;</span>
</pre>
</div>
<ul class="org-ul">
<li>菜单栏虚拟机选项中选择安装 VMware tools
<ul class="org-ul">
<li>打开对应DVD驱动器， setup 处右键以 powershell 运行</li>
</ul></li>
</ul></li>
</ul>


<p>
<b>共享文件夹</b>
</p>

<p>
参考：<a href="https://zhuanlan.zhihu.com/p/452412091">https://zhuanlan.zhihu.com/p/452412091</a>
</p>

<ul class="org-ul">
<li>共享文件夹
<ul class="org-ul">
<li>首先打开设置 &gt; 网络和 Internet &gt; 高级网络设置 &gt; 高级共享设置</li>
<li>将对应的“网络发现”和“文件和打印机共享”两个开关打开。</li>
<li>wind10 右键要共享的文件夹属性，如桌面
<ul class="org-ul">
<li>点击“高级共享”按钮，权限按钮所有人允许</li>
<li>确定</li>
</ul></li>
<li>cmd 输入命令 <code>ipconfig</code> 查看ip</li>
<li>macOS 访达（Finder）下，执行菜单命令：前往 &gt; 连接服务器
<ul class="org-ul">
<li>输入smb://，接着输入刚才记下的 IP 地</li>
<li>填写 window 账号密码</li>
</ul></li>
</ul></li>
<li>使用远程桌面
<ul class="org-ul">
<li>使用第三方向日葵、TeamViewer、ToDesk的忽略</li>
<li>Windows 中打开“设置”，在“系统”下找到“远程桌面”，将远程桌面的开关打开</li>
<li>下载最新的 <a href="https://go.microsoft.com/fwlink/?linkid=868963">Microsoft Remote Desktop</a></li>
<li>双击打开安装器安装后，运行 Microsoft Remote Desktop。</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
