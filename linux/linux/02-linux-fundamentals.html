<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux: Linux基础入门和帮助</title>
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Linux: Linux基础入门和帮助</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:844f3be0-b94d-4e00-a81a-f71c9f46626d">linux基础</a>
<ul>
<li><a href="#h:6e07cefd-5985-4d4d-8585-a864e432c9f6">用户类型</a></li>
<li><a href="#h:20e4f25a-a49d-4867-9bf1-35a272285d08">终端 terminal</a>
<ul>
<li><a href="#h:9147fb0f-5bca-403c-9a1a-6f5240b2041c">终端类型</a></li>
<li><a href="#h:ccc67608-413e-4828-966f-86a916c849dd">查看当前的终端设备 tty</a></li>
</ul>
</li>
<li><a href="#h:f61485b6-b049-4540-afc3-1c65d1d39576">交互式接口</a>
<ul>
<li><a href="#h:53c8bb28-b844-476d-9e3f-e2bd91f5deb7">交互式接口类型</a>
<ul>
<li><a href="#h:3e86de14-bd05-4a56-97e2-b3f2a87e7844">GUI：Graphic User Interface 图形用户界面</a></li>
<li><a href="#h:e19ada49-8a80-4140-9506-55cc19b79d43">CLI：Command Line Interface 命令行接口</a></li>
</ul>
</li>
<li><a href="#h:04d6bcca-dcec-411c-8d74-d3e39233a1b5">什么是shell</a></li>
<li><a href="#h:dbccc081-9241-4ee2-9753-7c45e7939619">各种Shell</a></li>
<li><a href="#h:c78d334c-225d-4f84-a958-6da93d535078">bash shell</a></li>
<li><a href="#h:997d1b6a-b963-4ae4-aef6-5f3b67e136c9">远程连接方式：</a></li>
</ul>
</li>
<li><a href="#h:c4c1c85d-a54b-4d38-af97-4a39cb338451">设置主机名</a></li>
<li><a href="#h:1af7d43c-34df-405d-a9ae-d1ad3c8a63e4">命令提示符 prompt</a>
<ul>
<li><a href="#h:e4b3c80e-22f1-4919-8571-4080558457a7">ANSI转义序</a></li>
<li><a href="#h:257b0bbe-f39f-47b5-abe4-338290fc5c97">自定义命令提示符</a></li>
</ul>
</li>
<li><a href="#h:aff47b03-d18a-45d6-bb29-d5fd92a8c54c">执行命令</a>
<ul>
<li><a href="#h:054324e6-6ade-4edb-a592-a922dbd64498">执行命令过程</a></li>
<li><a href="#h:4aa85044-a32d-4b2d-928b-1b851af7784a">shell中可执行的两类命令</a>
<ul>
<li><a href="#h:22099c72-69ed-43b9-975f-73019fc6e065">内部命令相关</a></li>
<li><a href="#h:1ae95521-6a7a-4e13-af49-65d0d7d2ad54">执行外部命令 与hash缓存表</a></li>
</ul>
</li>
<li><a href="#h:ff5db4cd-9cf3-433b-9f4f-ca81eb29ec11">命令别名 alias</a></li>
<li><a href="#h:dedfb61b-b029-4ed6-b087-299f4dedec64">命令格式</a>
<ul>
<li><a href="#h:b5651267-906a-46c6-80d1-09f263180807">COMMAND</a></li>
<li><a href="#h:87d7e0bc-bf3c-4862-b157-c7e4b4f9e151">OPTIONS：</a></li>
<li><a href="#h:f6b87468-a50b-4957-b511-f0b3d1e69aad">ARGUMENTS:</a></li>
</ul>
</li>
<li><a href="#h:931950ff-d346-4935-91e9-899a151d4d90">命令里套子命令</a></li>
</ul>
</li>
<li><a href="#h:e47e7e01-50d7-4390-816b-85727a0b41ac">常见命令</a>
<ul>
<li><a href="#h:3c43ca4d-5491-487b-a451-d78e29286cb5">查看硬件信息</a>
<ul>
<li><a href="#h:b7f6d1c5-2790-4750-b266-822925b4874e">查看cpu</a></li>
<li><a href="#h:1c06c89d-2d79-4675-89ae-f981d74c9c97">查看内存大小</a></li>
<li><a href="#h:2c9a9a2f-90de-4f1d-887d-7c7be859f634">查看硬盘和分区情况</a></li>
<li><a href="#h:91300ba8-ea75-425b-9afd-2da2143f1159">查看 cpu 架构</a></li>
</ul>
</li>
<li><a href="#h:5578ce55-9ed1-4ad0-ae8c-c29517e7a366">查看系统版本信息</a>
<ul>
<li><a href="#h:ef935c15-74e0-44fc-adfb-3b12a7f0b888">查看内核版本</a></li>
<li><a href="#h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b">查看操作系统发行版本</a></li>
</ul>
</li>
<li><a href="#h:155b1c95-a99f-4fa0-b6fc-3297f352064c">日期和时间</a>
<ul>
<li><a href="#h:d6cb7ed9-5ad4-43a0-bf54-9141851650b8">系统时钟命令：date</a></li>
<li><a href="#h:6aa156ff-b296-4811-b731-9dfbd5b0b0da">硬件时钟 clock、hwclock</a></li>
<li><a href="#h:2e6179d0-1fe1-463a-848d-9364ebf984df">时区</a></li>
<li><a href="#h:2ac7d4c9-80d2-4844-aa6d-ae0064640af3">cal：日历</a></li>
</ul>
</li>
<li><a href="#h:1567eea7-d270-46d4-8d6d-dae5aebf72a1">关机和重启</a>
<ul>
<li><a href="#h:22f97adf-2324-4c5b-94f9-4c142ea39fb7">WALL：向每个终端发一个信息</a></li>
</ul>
</li>
<li><a href="#h:b2fef1fe-124f-4a44-ab2b-853ef3ca20df">用户登录信息who,w</a>
<ul>
<li><a href="#h:080ccc3f-1a65-4f27-8052-5c3b6bfb65ae">强制踢出用户</a></li>
</ul>
</li>
<li><a href="#h:005484d8-d7ff-4824-a408-2b825135c3d7">文本编辑 nano</a></li>
<li><a href="#h:5829c477-0060-4978-8a43-9c52f8d52118">会话管理screen、tmux</a>
<ul>
<li><a href="#h:2549baa4-578e-4ba4-be7c-61ab321468b1">screen</a></li>
<li><a href="#h:3dee8563-2079-463a-a834-1a696b55ac9d">tmux</a></li>
</ul>
</li>
<li><a href="#h:022687fc-1fba-469e-9a72-5706877e7329">echo：回显</a>
<ul>
<li><a href="#h:cd52953b-4825-4476-ae2b-0d0f3313ffbd">echo 基本用法：</a></li>
<li><a href="#h:bf5e8f8e-ba45-4b36-932c-a8785325934f">echo 高级用法-ANSI转义序列：</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:ab915742-d6ef-4cd4-be9d-06ba21485a78">字符集和编码</a>
<ul>
<li><a href="#h:996a7031-611d-4112-aef5-78429b7c95c0">ASCII码</a></li>
<li><a href="#h:b49efbad-42ad-4e3a-93c9-30e855963739">Unicode</a>
<ul>
<li><a href="#h:e65ec0d3-1fa1-4b86-a22c-f27a2860503a">语言环境</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:71e5489d-31c2-4a5d-a2b3-eb7590de4fec">ANSI转义序列</a>
<ul>
<li><a href="#h:aada8ee1-9f9a-49a6-9b3a-b46eea3dec83">ANSI 和 ASCII 关系</a></li>
<li><a href="#h:0a1c2a8a-8386-44d1-9610-c66ccae5b33f">控制字符</a>
<ul>
<li><a href="#h:3496df9f-cdb5-4e67-b395-3e4fe9f29001">开始一个新的转义序列</a></li>
</ul>
</li>
<li><a href="#h:1796f09d-3643-4b3d-87b0-0ecc7b11503b">控制序列 - CSI (Control Sequence Introducer)</a>
<ul>
<li><a href="#h:77fb8e5d-8883-4c58-9dbd-97e85f284c69">一些常用的CSI</a></li>
</ul>
</li>
<li><a href="#h:adf39d91-8c18-4b34-92e3-92646fc85aa5">设置图形属性序列 - SGR (Set Graphics Rendition)</a>
<ul>
<li><a href="#h:6422dcfb-b506-46e1-8eec-6760aa6f0360">颜色</a></li>
</ul>
</li>
<li><a href="#h:a76a6c3c-a5a5-45c3-b118-b9d082f9324c">ANSI转义序列应用案例</a>
<ul>
<li><a href="#h:83d657f4-4643-4adc-94f1-af8c4afd8926">js</a></li>
<li><a href="#h:90012e6a-e4ae-476d-bd07-ca325250eb0f">进度条</a></li>
<li><a href="#h:4d37bb20-e9e1-4d29-bf65-8816c5bfb4fc">选择器</a></li>
<li><a href="#h:b800d647-6f92-40ad-a579-2193b7cbce7d">ASCII 字符画</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:e542d218-d9bf-4e76-8c84-9b9759bdacdf">命令行扩展和被括起来的集合</a>
<ul>
<li><a href="#h:c0312de1-883b-42b8-bd8d-a74986b37ea8">bash 基础特性-命令行展开</a></li>
<li><a href="#h:62a2b6ba-d2aa-431a-ad3f-0b05131d1106">bash 基础特性-引用</a></li>
</ul>
</li>
<li><a href="#h:40080357-ad08-474f-9b6c-ce571f6a2b52">tab bash基础特性-键补全</a>
<ul>
<li><a href="#h:8e5bb591-eb7b-4acd-99b5-3b7413be1af2">命令补全</a></li>
<li><a href="#h:e6eeb620-edf2-4394-b8b6-e8a79bf80ebc">路径补全</a></li>
<li><a href="#h:28bba1e8-28cf-4c79-b0e2-92c83f002dc4">双击Tab键</a></li>
</ul>
</li>
<li><a href="#h:25d39c0e-88e7-49f5-a23d-d71964c41890">bash基础特性-命令历史特性history</a></li>
<li><a href="#h:d350bc61-7c1e-41d8-b907-b6c2a3f38040">bash基础特性-快捷键</a></li>
<li><a href="#h:4e21f79c-0d1e-43b2-8c8d-43860e4c8e01">登录提示</a>
<ul>
<li><a href="#h:c53ab1e2-97fd-4513-abfb-7c49084cb641">登录前提示</a></li>
<li><a href="#h:cc2a7b9a-75ab-4b0f-baf1-bbf67cd1a826">登录后提示</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:7c7280bd-9895-4822-863b-b9284ee81804">获取帮助</a>
<ul>
<li><a href="#h:4cb48e39-6d97-4050-862b-87bf9ceca9b9">whatis</a></li>
<li><a href="#h:4b4c5042-515d-484a-9886-3de71a8d2ce5">查看命令帮助</a>
<ul>
<li><a href="#h:87968cf1-c05e-47da-bd18-e3e2a657cc25">内部命令help：</a></li>
<li><a href="#h:4d2fce47-7533-4d4f-9136-701ed621287c">外部命令：</a></li>
</ul>
</li>
<li><a href="#h:e447c13c-5235-42ae-a4ae-b50ad19079e7">&#x2013;help 或 -h 选项</a></li>
<li><a href="#h:2f99e4b6-9106-4d86-a60d-741d251a65b8">man 命令</a></li>
<li><a href="#h:f1bb2ef5-4f43-42c5-8bb3-5845ed0b495f">info</a></li>
<li><a href="#h:df2cda81-10a0-4558-b7c2-ad878f958cfb">命令自身提供的官方使用指南</a></li>
<li><a href="#h:60547678-a236-4056-84b7-8c4f04319df1">系统及第三方应用官方文档</a>
<ul>
<li><a href="#h:f5bfe2e0-aa09-4e08-b04f-b7c38d42dad7">通过在线文档获取帮助</a></li>
<li><a href="#h:a60eb643-f380-487f-aeec-00373b2390f9">Linux官方在线文档和知识库</a></li>
<li><a href="#h:bf28d357-98a3-48f3-aba7-d01e4b60875a">红帽全球技术支持服务</a></li>
</ul>
</li>
<li><a href="#h:9682505c-51d6-43a1-b576-bea95d034653">TLDR命令</a></li>
<li><a href="#h:25d50f32-6936-4156-9049-60a778384b77">网站和搜索</a></li>
<li><a href="#h:21db0eae-36a1-4e5e-b22d-f940661bb9db">书籍的出版社推荐：</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../index.html">Linux</a></li>
</ul>

<p>
Linux命令教程：<a href="https://killercoda.com/pawelpiwosz/course/linuxFundamentals">网站</a>  <a href="https://www.bilibili.com/video/BV18A411o7ty?p=1&amp;vd_source=70e4e839cabca1314b02190e14da328a">bilibili</a>
</p>

<p>
内容概述
</p>

<ul class="org-ul">
<li>用户</li>
<li>Shell介绍</li>
<li>执行命令</li>
<li>简单命令</li>
<li>Tab键补全</li>
<li>命令行历史</li>
<li>bash快捷键</li>
<li>帮助用法</li>
</ul>
<section id="outline-container-h:844f3be0-b94d-4e00-a81a-f71c9f46626d" class="outline-2">
<h2 id="h:844f3be0-b94d-4e00-a81a-f71c9f46626d">linux基础</h2>
<div class="outline-text-2" id="text-h:844f3be0-b94d-4e00-a81a-f71c9f46626d">
</div>
<div id="outline-container-h:6e07cefd-5985-4d4d-8585-a864e432c9f6" class="outline-3">
<h3 id="h:6e07cefd-5985-4d4d-8585-a864e432c9f6">用户类型</h3>
<div class="outline-text-3" id="text-h:6e07cefd-5985-4d4d-8585-a864e432c9f6">
<ul class="org-ul">
<li><p>
root 用户
</p>

<pre class="example" id="org2e036ed">
一个特殊的管理帐户
也被称为超级用户
root已接近完整的系统控制
对系统损害几乎有无限的能力
除非必要,不要登录为 root
</pre></li>
</ul>


<ul class="org-ul">
<li><p>
普通（ 非特权 ）用户
</p>

<p>
权限有限，造成损害的能力比较有限
</p></li>
</ul>
</div>
</div>
<div id="outline-container-h:20e4f25a-a49d-4867-9bf1-35a272285d08" class="outline-3">
<h3 id="h:20e4f25a-a49d-4867-9bf1-35a272285d08">终端 terminal</h3>
<div class="outline-text-3" id="text-h:20e4f25a-a49d-4867-9bf1-35a272285d08">

<figure id="org4489e66">
<img src="./images/img_20250608_200204.png" alt="img_20250608_200204.png" width="50%">

</figure>


<p>
设备终端：键盘、鼠标、显示器
</p>

<blockquote>
<p>
朋友们想象下，如果你面前没有键盘鼠标至少没有一个键盘和显示器的话，终端
对我们来讲或者我们打开这个命令提示符的可能性是否存在？
</p>

<p>
也就是说，用户想想跟计算机交互是不是需要一个交互界面？但是这个交互界面
如果没有工具程序或者没有硬件设备的话我们是否可以交互？
</p>

<p>
输入命令需要键盘，显示命令的结果需要显示器。所以如果没有键盘和显示器这
些都做不了。
</p>

<p>
任何的接口程序都应该是跟一组硬件相关。这组硬件设备至少包含一个键盘一个
显示器。而键盘加显示器的组合我们通常把它们叫做终端设备。
</p>

<p>
早期的系统是多任务和多用户的操作系统，那时的电脑都一些小型机，多个用户
使用主机前面多路复用一样的分屏器的一个插槽接口连接。
</p>

<p>
同一个电脑就要显示多个用户接口，每一个用户接口上都需要运行一个用户接口
程序，运行中的接口程序我们通常叫做进程，但是这个用户接口程序一定要跟硬
件设备结合起来。终端设备叫做terminal
</p>
</blockquote>
</div>
<div id="outline-container-h:9147fb0f-5bca-403c-9a1a-6f5240b2041c" class="outline-4">
<h4 id="h:9147fb0f-5bca-403c-9a1a-6f5240b2041c">终端类型</h4>
<div class="outline-text-4" id="text-h:9147fb0f-5bca-403c-9a1a-6f5240b2041c">
<p>
<b>1) 物理终端pty，控制台console</b>
</p>

<p>
物理终端只在linux启动过程中被直接使用，系统启动完后我们所看到的黑屏幕
不叫物理终端而是虚拟终端，他是软件模拟出来的。设备文件：/dev/console
</p>


<figure id="org266af5c">
<img src="./images/image-20210215144249842.png" alt="image-20210215144249842.png">

</figure>

<p>
<b>2) 虚拟终端tty</b>
</p>

<p>
tty：teletypewriters 用软件模拟出来的。可以有n个，
</p>

<p>
默认会启动6个虚拟终端，按住 <code>Ctrl+Alt+F[1-6]</code> 开启一个虚拟终端，同样方
法可以来回切换的。
</p>

<p>
设备文件：/dev/tty# #号是1到6的闭区间[1,6]
</p>

<p>
虚拟终端可以有n个，它是软件模拟出来的，
</p>

<p>
如，现在在虚拟终端上按住Ctrl+Alt+F3
</p>


<figure id="orgfee15df">
<img src="./images/image-20210215144302615.png" alt="image-20210215144302615.png" width="50%">

</figure>

<p>
<b>3) 图形终端</b>
</p>

<p>
图像化界面，但不是必须的，无需图形界面服务器不需要显卡
</p>

<p>
CentOS 6 ： Ctrl+Alt+F7
</p>

<p>
CentOS 7：在哪个虚拟终端启动，即位于哪个虚拟终端；
</p>

<p>
启动GUI：
</p>

<p>
第一次启动时，在虚拟终端接口运行命令: startx &amp;
</p>

<p>
startx, xwindows
</p>

<p>
<b>4) 串行终端ttyS</b>
</p>

<p>
如果你电脑从来都用不到图形界面，我们就不需要显卡，主板上的串口基于特定
的速率交换字符就可以。你这种称为串行终端。
</p>

<p>
设备文件：/dev/ttyS#
</p>

<p>
<b>5) 伪终端pts</b>
</p>

<p>
通过远程的或者其它的显示器加键盘或者是通过桌面上模拟出来的一个显示器来
当作命令输出接口时，像这种叫伪终端。
</p>

<p>
设备文件：/dev/pts#
</p>

<p>
注意在启动设备后，在其上管理一个用户接口程序，即可实现与用户交互。
</p>
</div>
</div>
<div id="outline-container-h:ccc67608-413e-4828-966f-86a916c849dd" class="outline-4">
<h4 id="h:ccc67608-413e-4828-966f-86a916c849dd">查看当前的终端设备 tty</h4>
<div class="outline-text-4" id="text-h:ccc67608-413e-4828-966f-86a916c849dd">
<p>
tty 命令可以查看当前所在终端
</p>

<p>
选项
</p>

<div class="org-src-container">
<pre class="src src-sh">-s &#27809;&#26377;&#20219;&#20309;&#36755;&#20986;&#65292;&#20165;&#36820;&#22238;&#29366;&#24577;&#12290;0&#20026;&#26377;&#32456;&#31471;
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">tty [root@centos8 ~]#tty 
/dev/pts/0
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:f61485b6-b049-4540-afc3-1c65d1d39576" class="outline-3">
<h3 id="h:f61485b6-b049-4540-afc3-1c65d1d39576">交互式接口</h3>
<div class="outline-text-3" id="text-h:f61485b6-b049-4540-afc3-1c65d1d39576">
<p>
交互式接口：启动终端后，在终端设备附加一个交互式应用程序
</p>
</div>
<div id="outline-container-h:53c8bb28-b844-476d-9e3f-e2bd91f5deb7" class="outline-4">
<h4 id="h:53c8bb28-b844-476d-9e3f-e2bd91f5deb7">交互式接口类型</h4>
<div class="outline-text-4" id="text-h:53c8bb28-b844-476d-9e3f-e2bd91f5deb7">
<ul class="org-ul">
<li>GUI：Graphic User Interface

<ul class="org-ul">
<li>X protocol, window manager, desktop
<ul class="org-ul">
<li>Desktop:</li>
<li>GNOME (C, 图形库gtk)，</li>
<li>KDE (C++,图形库qt)</li>
<li>XFCE (轻量级桌面)</li>
</ul></li>
</ul></li>

<li><p>
CLI：Command Line Interface
</p>

<p>
shell程序
</p></li>
</ul>


<p>
操作系统接口分2种：GUI、CLI
</p>
</div>
<div id="outline-container-h:3e86de14-bd05-4a56-97e2-b3f2a87e7844" class="outline-5">
<h5 id="h:3e86de14-bd05-4a56-97e2-b3f2a87e7844">GUI：Graphic User Interface 图形用户界面</h5>
<div class="outline-text-5" id="text-h:3e86de14-bd05-4a56-97e2-b3f2a87e7844">
<ul class="org-ul">
<li>GNome使用C语言研发的，研发环境gtk</li>
<li>KDE是使用c++研发的，研发环境是qt</li>
<li>XFACE：轻量，简洁，适用于嵌入式终端的桌面系统</li>
</ul>
</div>
</div>
<div id="outline-container-h:e19ada49-8a80-4140-9506-55cc19b79d43" class="outline-5">
<h5 id="h:e19ada49-8a80-4140-9506-55cc19b79d43">CLI：Command Line Interface 命令行接口</h5>
<div class="outline-text-5" id="text-h:e19ada49-8a80-4140-9506-55cc19b79d43">
<p>
纯粹的命令行界面 TUI：Text User Interface文本用户接口
</p>

<p>
实现：bash、zsh、sh、csh、tcsh、ksh、fish
</p>
</div>
</div>
</div>
<div id="outline-container-h:04d6bcca-dcec-411c-8d74-d3e39233a1b5" class="outline-4">
<h4 id="h:04d6bcca-dcec-411c-8d74-d3e39233a1b5">什么是shell</h4>
<div class="outline-text-4" id="text-h:04d6bcca-dcec-411c-8d74-d3e39233a1b5">

<figure id="orgae82f92">
<img src="./images/image-20210215144321122.png" alt="image-20210215144321122.png">

</figure>

<p>
Shell 是Linux系统的用户界面，提供了用户与内核进行交互操作的一种接口。
它接收用户输入的命令并把它送入内核去执行
</p>

<p>
shell也被称为LINUX的命令解释器（command interpreter），Shell 本身是一
个程序。将用户输入的命令行拆解为”命令名“与”参数“。接着，根据命令名
找到对应要执行的程序，对被执行的程序进行初始化，然后将刚才解析出来的参
数传给该程序并执行
</p>

<p>
shell是一种高级程序设计语言，提供了变量，函数，条件判断，循环等开发语
言的功能
</p>

<p>
由于Shell本身是个程序，所以它可以被任何用户自己开发的各种Shell所代替
</p>
</div>
</div>
<div id="outline-container-h:dbccc081-9241-4ee2-9753-7c45e7939619" class="outline-4">
<h4 id="h:dbccc081-9241-4ee2-9753-7c45e7939619">各种Shell</h4>
<div class="outline-text-4" id="text-h:dbccc081-9241-4ee2-9753-7c45e7939619">

<figure id="org61484f5">
<img src="./images/image-20210215144335124.png" alt="image-20210215144335124.png" width="50%">

</figure>

<ul class="org-ul">
<li>sh：Steve Bourne</li>
<li>bash：Bourne-Again Shell，GPL，CentOS 和 Ubuntu 默认使用</li>
<li>csh：c shell , C 语言风格</li>
<li>tcsh</li>
<li>ksh ：Korn Shell, AIX 默认 shell</li>
<li>zsh： MacOS默认shell</li>
</ul>
</div>
</div>
<div id="outline-container-h:c78d334c-225d-4f84-a958-6da93d535078" class="outline-4">
<h4 id="h:c78d334c-225d-4f84-a958-6da93d535078">bash shell</h4>
<div class="outline-text-4" id="text-h:c78d334c-225d-4f84-a958-6da93d535078">
<p>
GNU Bourne-Again Shell(bash)是GNU计划中重要的工具软件之一，目前也是
Linux标准的shell，与 sh兼容
</p>

<p>
显示当前使用的shell
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> ${<span style="color: #a0522d;">SHELL</span>}
</pre>
</div>

<p>
显示当前系统使用的所有shell
</p>

<div class="org-src-container">
<pre class="src src-sh">cat /etc/shells
</pre>
</div>
</div>
</div>
<div id="outline-container-h:997d1b6a-b963-4ae4-aef6-5f3b67e136c9" class="outline-4">
<h4 id="h:997d1b6a-b963-4ae4-aef6-5f3b67e136c9">远程连接方式：</h4>
<div class="outline-text-4" id="text-h:997d1b6a-b963-4ae4-aef6-5f3b67e136c9">
<div class="org-src-container">
<pre class="src src-sh">&#36890;&#36807;ssh&#21327;&#35758;&#65288;secure shell&#65289;
&#26597;&#30475;ssh&#21327;&#35758;&#26159;&#21542;&#24320;&#21551;&#65292;&#36755;&#20837;&#21629;&#20196;
~]# ss -tnl
&#26597;&#30475;&#31995;&#32479;&#26159;&#21542;&#30417;&#21548;&#20110;tcp&#21327;&#35758;&#30340;22&#21495;&#31471;&#21475;&#12290;

&#26597;&#30475;&#26412;&#26426;&#22320;&#22336;IP
~]# ip addr list
~]# ifconfig


&#27979;&#35797;&#32593;&#32476;&#36830;&#36890;&#24615;
~]# ping &#26412;&#26426;ip 

&#30830;&#20445;&#38381;&#20851;&#38450;&#28779;&#22681;
centos6
~]# iptables -L -n
~]# service stop iptables <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20851;&#38381;&#38450;&#28779;&#22681;
</span>~]# chkconfig iptables off  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30830;&#20445;&#20197;&#21518;&#19981;&#20250;&#21551;&#21160;
</span>
centos7
~]# systemctl disable firewalld.service <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30830;&#20445;&#24320;&#21551;&#19981;&#21551;&#21160;
</span>~]# systemctl stop firewalld.service <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20851;&#38381;&#38450;&#28779;&#22681;</span>
</pre>
</div>


<p>
远程连接工具：
推荐使用xmanager 通过xshell连接也能输入用户命令
</p>

<p>
用户接口：
能输入命令的地方就是用户接口
</p>
</div>
</div>
</div>
<div id="outline-container-h:c4c1c85d-a54b-4d38-af97-4a39cb338451" class="outline-3">
<h3 id="h:c4c1c85d-a54b-4d38-af97-4a39cb338451">设置主机名</h3>
<div class="outline-text-3" id="text-h:c4c1c85d-a54b-4d38-af97-4a39cb338451">
<div class="org-src-container">
<pre class="src src-sh">hostname NAME  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20020;&#26102;&#20462;&#25913;&#65292;&#20889;&#22312;&#20869;&#23384;&#37324;&#19979;&#27425;&#30331;&#24405;&#23601;&#36824;&#21407;&#20102;
</span>hostnamectl sethostname NAME <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27704;&#20037;&#29983;&#25928;&#65292;&#24182;&#23558;&#20027;&#26426;&#21517;&#20889;&#21040;/etc/hostname&#20013;&#65292;&#25903;&#25345;centos7&#21644;ubuntu18.04&#20197;&#19978;&#29256;&#26412;</span>
</pre>
</div>

<p>
注意：
</p>

<ul class="org-ul">
<li>主机名不支持使用下划线，但支持横线，可使用字母，横线或数字组合</li>
<li>有些软件对主机名有特殊要求</li>
</ul>

<p>
范例
</p>

<div class="org-src-container">
<pre class="src src-sh">hostnamectl hostname b100-ubuntu2024-01 
bash <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36827;&#20837;bash&#20013;&#21152;&#36733;&#29615;&#22659;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1af7d43c-34df-405d-a9ae-d1ad3c8a63e4" class="outline-3">
<h3 id="h:1af7d43c-34df-405d-a9ae-d1ad3c8a63e4">命令提示符 prompt</h3>
<div class="outline-text-3" id="text-h:1af7d43c-34df-405d-a9ae-d1ad3c8a63e4">
<p>
登录Linux后，默认的系统命令提示符毫无没有个性，无法明显辨别生产和测试环境，而导致误操作。
</p>

<p>
可以通过修改PS1变量实现个性的提示符格式，避免这种低级错误
</p>

<p>
范例：默认的提示符
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS&#40664;&#35748;&#25552;&#31034;&#31526;
</span>[root@localhost ~]#

<span style="color: #b22222;">#</span><span style="color: #b22222;">Ubuntu&#40664;&#35748;&#25552;&#31034;&#31526;
</span>root@ubuntu1804:~#
</pre>
</div>

<pre class="example" id="orgf946273">
#：命令提示符； 其中# 号管理员、$ 号普通用户

[]是固定字符
root: 当登录的用户
@是固定符号
localhost: 当前主机的主机名，非完整格式；完整格式是FQDN，域名为node1.xxx.com
~：用户当前所在的目录(current directory)，也称为工作目录(working directory)；相对路径；
</pre>

<p>
命令提示符有2种：
</p>
<ul class="org-ul">
<li>#：管理员账号，为root; 拥有最高权限，能执行所有操作；</li>
<li>$：普通用户，非root用户；不具有管理权限，不能执行系统管理类操作；</li>
</ul>

<p>
如，用root创建一个普通用户并切换过去，看命令提示符
</p>

<p>
注意：我们尽量使用非管理员用户登录，执行管理员操作时临时切换到管理员，操作完即退回。
</p>

<p>
<b>显示提示符格式</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo $<span style="color: #a0522d;">PS1</span> 
<span style="color: #8b2252;">\[</span>\e[1;35m<span style="color: #8b2252;">\]</span>[\u@\h \W]<span style="color: #8b2252;">\$\[</span>\e[0m<span style="color: #8b2252;">\]</span>
</pre>
</div>

<p>
<b>修改提示符格式范例</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\e[1;5;41;33m\][\u@\h \W]\\$\[\e[0m\]"</span> 
<span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">'\[\e[1;32m\][\t \[\e[1;33m\]\u\[\e[35m\]@\h\[\e[1;31m\] \W\[\e[1;32m\]]\[\e[0m\]\$'</span>

<span style="color: #a0522d;">POOL_NAME</span>=<span style="color: #ff00ff;">`hostname`</span>
<span style="color: #a0522d;">PS1_POOL</span>=<span style="color: #ff00ff;">`echo ${POOL_NAME} | tr 'A-Z' 'a-z'`</span>
<span style="color: #a0522d;">PS1_INT</span>=<span style="color: #ff00ff;">`/sbin/ip a | egrep -v 'inet6|127.0.0.1|\/32' | awk -F'[ /]+' '/inet/{print $NF" = "$3}' | head -n1`</span>
<span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">'[\e[1;32m\u\e[m\e[1;33m@\e[m'"\e[1;35m$PS1_POOL\e[m"' \e[4m\w\e[m] \e[1;36m$PS1_INT\e[m\n\$ '</span>
</pre>
</div>

<p>
<b>提示符格式说明：</b>
</p>

<pre class="example" id="org41bbc02">
\e 控制符\033
\u 当前用户 
\h 主机名简称
\H 主机名
\w 当前工作目录
\W 当前工作目录基名
\t 24小时时间格式
\T 12小时时间格式
! 命令历史数
# 开机后命令历史数
</pre>
</div>
<div id="outline-container-h:e4b3c80e-22f1-4919-8571-4080558457a7" class="outline-4">
<h4 id="h:e4b3c80e-22f1-4919-8571-4080558457a7">ANSI转义序</h4>
<div class="outline-text-4" id="text-h:e4b3c80e-22f1-4919-8571-4080558457a7">
<p>
<code>\e</code> ANSI转义序列使用了ECMA-48标准，用于控制视频文本终端上的光标位置、
颜色和其他选项。
</p>

<p>
<a href="https://zh.wikipedia.org/wiki/ANSI%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">https://zh.wikipedia.org/wiki/ANSI%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97</a>
</p>

<p>
<a href="https://manpages.ubuntu.com/manpages/kinetic/zh_CN/man4/console_codes.4.html">https://manpages.ubuntu.com/manpages/kinetic/zh_CN/man4/console_codes.4.html</a>
</p>

<p>
<a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-48/">https://www.ecma-international.org/publications-and-standards/standards/ecma-48/</a>
</p>

<p>
范例：centos持久保存提示符格式相关变量 PS1
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]# echo <span style="color: #8b2252;">'PS1="\[\e[1;32m\][\t \[\e[1;33m\]\u\[\e[35m\]@\h\ [\e[1;31m\] \W\[\e[1;32m\]]\[\e[0m\]\\$"'</span> &gt; /etc/profile.d/env.sh 
[root@centos8 ~]#cat /etc/profile.d/env.sh 
<span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\e[1;32m\][\t \[\e[1;33m\]\u\[\e[35m\]@\h\[\e[1;31m\] \W\[\e[1;32m\]]\ [\e[0m\]\\$"</span> 
[root@centos8 ~]# exit 
[15:28:40 root@centos8 ~]#
</pre>
</div>

<p>
范例：centos持久保存提示符格式相关变量 PS1
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@ubuntu2004 ~]#echo <span style="color: #8b2252;">"PS1='\[\e[1;35m\][\u@\h \W]\\$\[\e[0m\]'"</span> &gt;&gt; .bashrc
[root@ubuntu2004 ~]#tail -1 .bashrc
<span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">'\[\e[1;35m\][\u@\h \W]\$\[\e[0m\]</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:257b0bbe-f39f-47b5-abe4-338290fc5c97" class="outline-4">
<h4 id="h:257b0bbe-f39f-47b5-abe4-338290fc5c97">自定义命令提示符</h4>
<div class="outline-text-4" id="text-h:257b0bbe-f39f-47b5-abe4-338290fc5c97">
<p>
表1: Shell 提示符中用到的转义字符
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">序列</th>
<th scope="col" class="org-left">显示值</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\a</td>
<td class="org-left">以 ASCII 格式编码的铃声 . 当遇到这个转义序列时，计算机会发出嗡嗡的响声。</td>
</tr>

<tr>
<td class="org-left">\d</td>
<td class="org-left">以日，月，天格式来表示当前日期。例如，“Mon May 26”</td>
</tr>

<tr>
<td class="org-left">\h</td>
<td class="org-left">本地机的主机名，但不带末尾的域名。</td>
</tr>

<tr>
<td class="org-left">\H</td>
<td class="org-left">完整的主机名。</td>
</tr>

<tr>
<td class="org-left">\j</td>
<td class="org-left">运行在当前 shell 会话中的工作数。</td>
</tr>

<tr>
<td class="org-left">\l</td>
<td class="org-left">当前终端设备名。</td>
</tr>

<tr>
<td class="org-left">\n</td>
<td class="org-left">一个换行符。</td>
</tr>

<tr>
<td class="org-left">\r</td>
<td class="org-left">一个回车符。</td>
</tr>

<tr>
<td class="org-left">\s</td>
<td class="org-left">shell 程序名。</td>
</tr>

<tr>
<td class="org-left">\t</td>
<td class="org-left">以24小时制，hours:minutes:seconds 的格式表示当前时间.</td>
</tr>

<tr>
<td class="org-left">\T</td>
<td class="org-left">以12小时制表示当前时间。</td>
</tr>

<tr>
<td class="org-left">\@</td>
<td class="org-left">以12小时制，AM/PM 格式来表示当前时间，例如“10:51 PM”。</td>
</tr>

<tr>
<td class="org-left">\A</td>
<td class="org-left">以24小时制，hours:minutes 格式表示当前时间。</td>
</tr>

<tr>
<td class="org-left">\u</td>
<td class="org-left">当前用户名。</td>
</tr>

<tr>
<td class="org-left">\v</td>
<td class="org-left">shell 程序的版本号，例如4.3。</td>
</tr>

<tr>
<td class="org-left">\V</td>
<td class="org-left">shell 程序的版本号，例如4.3.11。</td>
</tr>

<tr>
<td class="org-left">\w</td>
<td class="org-left">当前工作目录名。</td>
</tr>

<tr>
<td class="org-left">\W</td>
<td class="org-left">当前工作目录名的最后部分。</td>
</tr>

<tr>
<td class="org-left">\!</td>
<td class="org-left">当前命令的历史号。</td>
</tr>

<tr>
<td class="org-left">\#</td>
<td class="org-left">当前 shell 会话中的命令数。</td>
</tr>

<tr>
<td class="org-left">\$</td>
<td class="org-left">这会显示一个"$"字符，除非你拥有超级用户权限。在那种情况下， 它会显示一个"#"字符。</td>
</tr>

<tr>
<td class="org-left">\[</td>
<td class="org-left">标志着一系列一个或多个非打印字符的开始。这被用来嵌入非打印的控制字符，这些字符以某种方式来操作终端仿真器，比方说移动光标或者是更改文本颜色。</td>
</tr>

<tr>
<td class="org-left">\]</td>
<td class="org-left">标志着非打印字符序列结束。</td>
</tr>
</tbody>
</table>

<p>
例如我现在想让提示符显示格式为： <code>&lt;用户名&gt;@&lt;当前目录名&gt; $</code> ，则
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\u@\W\$ "</span>
</pre>
</div>

<p>
效果如下
</p>


<figure id="orgad78cfc">
<img src="./images/image-20210215145403461.png" alt="image-20210215145403461.png">

</figure>

<p>
上面能够满足我们的效果了，但是相对于LinuxMint原始的提示符，缺少了颜色，
不太美观。下面我们来学习如何添加颜色。大多数终端仿真器程序支持一定的非
打印字符序列来控制，比方说字符属性（像颜色，黑体和可怕的闪烁）和光标位
置。
</p>

<p>
<b>2.字体颜色字体</b>
</p>

<p>
颜色是由一个ANSI 转义编码来控制的。该控制编码会嵌入字符流中并发送给终
端仿真器。但是，该控制编码不会被“打印”到屏幕上，而是会被终端解释为一
个指令。
</p>

<p>
正如我们在上表看到的字符序列， 这个 \[ 和 \] 序列被用来封装这些非打印
字符。一个 ANSI 转义编码以一个八进制033（这个编码是由 退出按键产生的）
开头，其后跟着一个可选的字符属性（0：正常、1：黑体、4：下划线、5：闪烁、
7：反向（前景色和背景色反转）），在之后是一个指令。表14-2: 用转义序列
来设置文本颜色
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">序列</th>
<th scope="col" class="org-left">文本颜色</th>
<th scope="col" class="org-left">序列</th>
<th scope="col" class="org-left">文本颜色</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\033[0;30m</td>
<td class="org-left">黑色</td>
<td class="org-left">\033[1;30m</td>
<td class="org-left">深灰色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;31m</td>
<td class="org-left">红色</td>
<td class="org-left">\033[1;31m</td>
<td class="org-left">浅红色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;32m</td>
<td class="org-left">绿色</td>
<td class="org-left">\033[1;32m</td>
<td class="org-left">浅绿色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;33m</td>
<td class="org-left">棕色</td>
<td class="org-left">\033[1;33m</td>
<td class="org-left">黄色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;34m</td>
<td class="org-left">蓝色</td>
<td class="org-left">\033[1;34m</td>
<td class="org-left">浅蓝色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;35m</td>
<td class="org-left">粉红</td>
<td class="org-left">\033[1;35m</td>
<td class="org-left">浅粉色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;36m</td>
<td class="org-left">青色</td>
<td class="org-left">\033[1;36m</td>
<td class="org-left">浅青色</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">\033[0;37m</td>
<td class="org-left">浅灰色</td>
<td class="org-left">\033[1;37m</td>
<td class="org-left">白色</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
PS:
\033可用\e来代替
</p>

<p>
例如我们来设置一个同LinuxMint默认的绿色提示符，
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\033[01;32m\]\u@\W\$\[\033[00m\] "</span>
&#25110;
<span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">'\e[01;32m\u@\W\n\$\e[0m'</span>
</pre>
</div>

<p>
于是，我们便有了下面的效果。
</p>


<figure id="org4c75170">
<img src="./images/image-20210215145449089.png" alt="image-20210215145449089.png" width="50%">

</figure>

<p>
上面跟设置的提示符格式中的最后那个”[\033[00m]”是用于将后续的字符颜色
还原回原来的颜色。如果没有没有加最后这个转义码，则会出现下面结果（我们
自己手工输入的命令也都将是绿色的）。
</p>

<p>
<b>3.背景颜色</b>
</p>

<p>
除了字体颜色，我们也可以设置字体的背景颜色。同样是通过转义的控制编码来
实现，下表是背景颜色的控制编码。
</p>

<p>
表3: 用转义序列来设置背景颜色
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">序列</th>
<th scope="col" class="org-left">文本颜色</th>
<th scope="col" class="org-left">序列</th>
<th scope="col" class="org-left">文本颜色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\033[0;40m</td>
<td class="org-left">黑色</td>
<td class="org-left">\033[1;44m</td>
<td class="org-left">蓝色</td>
</tr>

<tr>
<td class="org-left">\033[0;41m</td>
<td class="org-left">红色</td>
<td class="org-left">\033[1;45m</td>
<td class="org-left">粉红</td>
</tr>

<tr>
<td class="org-left">\033[0;42m</td>
<td class="org-left">绿色</td>
<td class="org-left">\033[1;46m</td>
<td class="org-left">青色</td>
</tr>

<tr>
<td class="org-left">\033[0;43m</td>
<td class="org-left">棕色</td>
<td class="org-left">\033[1;47m</td>
<td class="org-left">浅灰色</td>
</tr>
</tbody>
</table>


<p>
<b>4.移动光标：</b>
</p>

<p>
转义编码也可以用来定位光标。这些编码通常被用来，每次当提示符出现的时候，
会在屏幕的不同位置，比如说上面一个角落，显示一个时钟或者其它一些信息。
下表是一系列用来定位光标的转义编码：
</p>

<p>
表14-4: 光标移动转义序列
</p>
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">转义编码</th>
<th scope="col" class="org-left">行动</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\033[l;cH</td>
<td class="org-left">把光标移到第 l 行，第 c 列。</td>
</tr>

<tr>
<td class="org-left">\033[nA</td>
<td class="org-left">把光标向上移动 n 行。</td>
</tr>

<tr>
<td class="org-left">\033[nB</td>
<td class="org-left">把光标向下移动 n 行。</td>
</tr>

<tr>
<td class="org-left">\033[nC</td>
<td class="org-left">把光标向前移动 n 个字符。</td>
</tr>

<tr>
<td class="org-left">\033[nD</td>
<td class="org-left">把光标向后移动 n 个字符。</td>
</tr>

<tr>
<td class="org-left">\033[2J</td>
<td class="org-left">清空屏幕，把光标移到左上角（第零行，第零列）。</td>
</tr>

<tr>
<td class="org-left">\033[K</td>
<td class="org-left">清空从光标位置到当前行末的内容。</td>
</tr>

<tr>
<td class="org-left">\033[s</td>
<td class="org-left">存储当前光标位置。</td>
</tr>

<tr>
<td class="org-left">\033[u</td>
<td class="org-left">唤醒之前存储的光标位置。</td>
</tr>
</tbody>
</table>



<p>
<b>5.保存提示符</b>
</p>

<p>
我们在当前打开的Terminal中设置环境变量PS1的值来自定义的终端提示符，只
在当前Terminal中有效，打开新的Terminal就会采用系统默认的提示符了。我们
当让不希望每次打开Terminal的时候都要重新设置一次SP1环境变量。
</p>

<p>
<code>~/.bashrc</code> 文件会在每次打开一个Terminal之前会被执行一次。于是，我们可
以将设置环境变量SP1的命令放到该文件中，便不需要每次都手工再设置一次SP1
的值。于是，我们在 <code>~/.bashrc</code> 配置文件末尾加入下面两行内容，
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\033[01;32m\]\u@\W\$\[\033[00m\] "</span>
<span style="color: #483d8b;">export</span> PS1
</pre>
</div>

<p>
于是，每次打开Terminal便都会有如下提示符效果，
</p>


<figure id="org6313785">
<img src="./images/image-20210215145510649.png" alt="image-20210215145510649.png">

</figure>

<p>
<b>6.示例</b>
</p>

<p>
1）格式： <code>&lt;用户名&gt;@&lt;当前目录名&gt;$</code>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\u@\W\$ "</span>
</pre>
</div>

<p>
效果如下：
</p>


<figure id="org0e4535b">
<img src="./images/image-20210215145521189.png" alt="image-20210215145521189.png">

</figure>

<p>
2）添加下划线：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\033[4;37m\]\u@\W\$\[\033[00m\] "</span>
</pre>
</div>

<p>
效果如下：
</p>


<figure id="org2de90a2">
<img src="./images/image-20210215145533747.png" alt="image-20210215145533747.png">

</figure>

<p>
3）前景色为绿色：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\033[0;32m\]\u@\W\$\[\033[00m\] "</span>
</pre>
</div>

<p>
效果如下：
</p>


<figure id="orgad48c19">
<img src="./images/image-20210215145544590.png" alt="image-20210215145544590.png">

</figure>

<p>
4）前景色为绿色，背景色为红色：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"\[\033[0;41m\033[1;32m\]\u@\W\$\[\033[00m\] "</span>
</pre>
</div>

<p>
效果如下：
</p>


<figure id="org2a47644">
<img src="./images/image-20210215145557066.png" alt="image-20210215145557066.png">

</figure>

<p>
5）设置一个超级复杂的，通过移动光标来设置一个每次显示提示符的时候都在
当前Terminal的第一行显示当前时间。
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">'\[\033[s\033[0;0H\033[0;41m\033[K\033[1;33m\t\033[0m\033[u\033[1;32m\]\u@\W\$ \[\033[00m\] '</span>
</pre>
</div>

<p>
效果如下：
</p>


<figure id="org0f8b394">
<img src="./images/image-20210215145610043.png" alt="image-20210215145610043.png">

</figure>

<p>
参考： <a href="http://billie66.github.io/TLCL/book/chap14.html">http://billie66.github.io/TLCL/book/chap14.html</a>
</p>

<p>
<b>生产</b>
</p>


<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">PS1</span>=<span style="color: #8b2252;">"[\033[1;32m\]\u@\H \w\[\033[0m]\n\\$ "</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">cat &gt;/etc/profile.d/ipenv.sh&lt;&lt;\EOF<span style="color: #ffa54f;">
POOL_NAME=`hostname`
PS1_POOL=`echo ${POOL_NAME} | tr 'A-Z' 'a-z'`
PS1_INT=`/sbin/ip a | egrep -v 'inet6|127.0.0.1|\/32' | awk -F'[ /]+' '/inet/{print $NF" = "$3}' | head -n1`
export PS1='[\e[1;32m\u\e[m\e[1;33m@\e[m'"\e[1;35m$PS1_POOL\e[m"' \e[4m\w\e[m] \e[1;36m$PS1_INT\e[m\n\$ '

HISTFILESIZE=4000
HISTSIZE=4000
USER_IP=`who -u am i 2&gt;/dev/null| awk '{print $NF}'|sed -e 's/[()]//g'`
if [ -z $USER_IP ]
then
  USER_IP=`hostname`
fi
HISTTIMEFORMAT="%F %T $USER_IP:`whoami` "
export HISTTIMEFORMAT
#export HISTTIMEFORMAT="%Y-%m-%d:%H-%M-%S:`whoami`:  "
alias vi=vim
export EDITOR=vim
EOF
</span>
<span style="color: #483d8b;">source</span> /etc/profile
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt; \EOF &gt; /etc/profile.d/ipenv.sh <span style="color: #ffa54f;">
POOL_NAME=`hostname`
PS1_POOL=`echo ${POOL_NAME} | tr 'A-Z' 'a-z'`
PS1_INT=`/sbin/ip a | egrep -v 'inet6|127.0.0.1|\/32' | awk -F'[ /]+' '/inet/{print $NF" = "$3}' | head -n1`
export PS1='[\e[1;32m\u\e[m\e[1;33m@\e[m'"\e[1;35m$PS1_POOL\e[m"' \e[4m\w\e[m] \e[1;36m$PS1_INT\e[m\n\$ '

export HISTTIMEFORMAT="%Y-%m-%d:%H-%M-%S:`whoami`:  "
alias vi=vim
export EDITOR=vim
EOF
</span><span style="color: #483d8b;">source</span> /etc/profile
</pre>
</div>



<figure id="org74d70ff">
<img src="./images/image-20210215145633967.png" alt="image-20210215145633967.png" width="50%">

</figure>
</div>
</div>
</div>
<div id="outline-container-h:aff47b03-d18a-45d6-bb29-d5fd92a8c54c" class="outline-3">
<h3 id="h:aff47b03-d18a-45d6-bb29-d5fd92a8c54c">执行命令</h3>
<div class="outline-text-3" id="text-h:aff47b03-d18a-45d6-bb29-d5fd92a8c54c">
</div>
<div id="outline-container-h:054324e6-6ade-4edb-a592-a922dbd64498" class="outline-4">
<h4 id="h:054324e6-6ade-4edb-a592-a922dbd64498">执行命令过程</h4>
<div class="outline-text-4" id="text-h:054324e6-6ade-4edb-a592-a922dbd64498">
<p>
输入命令后回车，提请shell程序找到键入命令所对应的可执行程序或代码，并
由其分析后提交给内核分配资源将其运行起来
</p>
</div>
</div>
<div id="outline-container-h:4aa85044-a32d-4b2d-928b-1b851af7784a" class="outline-4">
<h4 id="h:4aa85044-a32d-4b2d-928b-1b851af7784a">shell中可执行的两类命令</h4>
<div class="outline-text-4" id="text-h:4aa85044-a32d-4b2d-928b-1b851af7784a">
<ul class="org-ul">
<li>内部命令：由shell自带的，而且通过某命令形式提供
<ul class="org-ul">
<li>一连上终端，在这个终端中bash就已经运行起来了，bash是一个接口程序，同时也是一个工具集，里面有很多命令。这些命令就叫内部命令。</li>
</ul></li>
<li>外部命令：在文件系统路径下有对应的可执行程序文件</li>
</ul>

<p>
<b>区别指定的命令是内部或外部命令</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">type</span> COMMAND

<span style="color: #483d8b;">type</span> ls           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21306;&#20998;&#26159;&#20869;&#37096;&#36824;&#26159;&#22806;&#37096;&#21629;&#20196;
</span><span style="color: #483d8b;">type</span> -t echo  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31616;&#20889;&#65292;&#21482;&#32473;&#20986;&#31867;&#22411;&#65292;builtin|alias|file|keyword
</span><span style="color: #483d8b;">type</span> -a echo  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#25152;&#26377;&#65292;&#26377;&#21487;&#33021;&#26159;&#20869;&#37096;&#21629;&#20196;&#65292;&#20063;&#21516;&#26102;&#20250;&#26159;&#22806;&#37096;&#21629;&#20196;
</span>bash -c help  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;bash&#20013;&#25152;&#26377;&#20869;&#23481;(&#19981;&#20165;&#20165;&#26159;&#20869;&#37096;&#21629;&#20196;)
</span>help              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;bash&#20013;&#25152;&#26377;&#20869;&#23481;(&#19981;&#20165;&#20165;&#26159;&#20869;&#37096;&#21629;&#20196;)
</span><span style="color: #483d8b;">enable</span>           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;bash&#20013;&#25152;&#26377;&#20869;&#32622;&#21629;&#20196;
</span>help echo      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#20869;&#37096;&#21629;&#20196;&#24110;&#21161;</span>
</pre>
</div>

<p>
范例: 查看是否存在对应内部和外部命令
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#type -a echo
<span style="color: #483d8b;">echo</span> is a shell builtin
<span style="color: #483d8b;">echo</span> is /usr/bin/echo
</pre>
</div>

<p>
有内部命令，又有外部命令，因为不是所有主机都使用标准shell，所以常用内部命令有一个外部命令的备份，防止内部命令执行失败。
</p>

<p>
在命令执行时，shell先判断是否是内部命令，如果是，则执行内部命令，如果不是，则去特定目录下寻找外部命令。
</p>

<p>
bash shell 自身就是一个程序，里面有很多小工具，有用户通过终端连接主机，则该终端就有一个bash在后台运行着。
</p>
</div>
<div id="outline-container-h:22099c72-69ed-43b9-975f-73019fc6e065" class="outline-5">
<h5 id="h:22099c72-69ed-43b9-975f-73019fc6e065">内部命令相关</h5>
<div class="outline-text-5" id="text-h:22099c72-69ed-43b9-975f-73019fc6e065">
<div class="org-src-container">
<pre class="src src-sh">help                 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20869;&#37096;&#21629;&#20196;&#21015;&#34920;
</span><span style="color: #483d8b;">enable</span>              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31649;&#29702;&#20869;&#37096;&#21629;&#20196;
</span><span style="color: #483d8b;">enable</span> cmd      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#29992;&#20869;&#37096;&#21629;&#20196;
</span><span style="color: #483d8b;">enable</span> &#8211;n cmd <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31105;&#29992;&#20869;&#37096;&#21629;&#20196;
</span><span style="color: #483d8b;">enable</span> &#8211;n         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#25152;&#26377;&#31105;&#29992;&#30340;&#20869;&#37096;&#21629;&#20196;</span>
</pre>
</div>

<p>
内置命令参考：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">enable
</span>(1). : &#25191;&#34892;&#24403;&#21069;&#36827;&#31243;&#29615;&#22659;&#20013;&#30340;&#31243;&#24207;&#12290;&#21516;source&#12290;
(2). file : dot&#21629;&#20196;&#20174;&#25991;&#20214;file&#20013;&#35835;&#21462;&#21629;&#20196;&#24182;&#25191;&#34892;&#12290;
(3):  : &#21333;&#20010;&#20882;&#21495;&#20026;&#31354;&#25805;&#20316;&#65292;&#36820;&#22238;&#36864;&#20986;&#29366;&#24577;0&#12290;
(4)<span style="color: #483d8b;">alias</span> : &#26174;&#31034;&#21644;&#21019;&#24314;&#24050;&#26377;&#21629;&#20196;&#30340;&#21035;&#21517;&#12290;
(5)<span style="color: #483d8b;">bg</span> : &#25226;&#20316;&#19994;&#25918;&#21040;&#21518;&#21488;&#12290;
(6)<span style="color: #483d8b;">declare</span> [var] : &#26174;&#31034;&#25152;&#26377;&#21464;&#37327;&#65292;&#25110;&#29992;&#21487;&#36873;&#23646;&#24615;&#22768;&#26126;&#21464;&#37327;&#12290;
(7)<span style="color: #483d8b;">dirs</span> : &#26174;&#31034;&#24403;&#21069;&#35760;&#24405;&#30340;&#30446;&#24405;&#65288;pushd&#30340;&#32467;&#26524;&#65289;&#12290;
(8)<span style="color: #483d8b;">disown</span> : &#20174;&#20316;&#19994;&#34920;&#20013;&#21024;&#38500;&#19968;&#20010;&#27963;&#21160;&#20316;&#19994;&#12290;
(9)<span style="color: #483d8b;">echo</span> [args] : &#26174;&#31034;args&#24182;&#25442;&#34892;&#12290;
(10)<span style="color: #483d8b;">enable</span> : &#21551;&#29992;&#25110;&#31105;&#29992;Shell&#20869;&#32622;&#30340;&#21629;&#20196;&#12290;
(11)bind : &#26174;&#31034;&#24403;&#21069;&#20851;&#38190;&#23383;&#19982;&#20989;&#25968;&#30340;&#32465;&#23450;&#24773;&#20917;&#65292;&#25110;&#23558;&#20851;&#38190;&#23383;&#19982;readline&#20989;&#25968;&#25110;&#23439;&#36827;&#34892;&#32465;&#23450;&#12290;
(12)<span style="color: #a020f0;">break</span> : &#20174;&#26368;&#20869;&#23618;&#24490;&#29615;&#36339;&#20986;&#12290;
(13)<span style="color: #483d8b;">builtin</span> [sh-builtin [args]] : &#36816;&#34892;&#19968;&#20010;&#20869;&#32622;Shell&#21629;&#20196;&#65292;&#24182;&#20256;&#36865;&#21442;&#25968;&#65292;&#36820;&#22238;&#36864;&#20986;&#29366;&#24577;0&#12290;&#24403;&#19968;&#20010;&#20989;&#25968;&#19982;&#19968;&#20010;&#20869;&#32622;&#21629;&#20196;&#21516;&#21517; &#26102;&#65292;&#35813;&#21629;&#20196;&#23558;&#24456;&#26377;&#29992;&#12290;
(14)<span style="color: #483d8b;">cd</span> [arg] : &#25913;&#21464;&#30446;&#24405;&#65292;&#22914;&#26524;&#19981;&#24102;&#21442;&#25968;&#65292;&#21017;&#22238;&#21040;&#20027;&#30446;&#24405;&#65292;&#24102;&#21442;&#25968;&#21017;&#20999;&#25442;&#21040;&#21442;&#25968;&#25152;&#25351;&#30340;&#30446;&#24405;&#12290;
(15)command comand [arg] : &#21363;&#20351;&#26377;&#21516;&#21517;&#20989;&#25968;&#65292;&#20173;&#28982;&#25191;&#34892;&#35813;&#21629;&#20196;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#36339;&#36807;&#20989;&#25968;&#26597;&#25214;&#12290;
(16)<span style="color: #483d8b;">eval</span> [args] : &#25226;args&#35835;&#20837;Shell&#65292;&#24182;&#25191;&#34892;&#20135;&#29983;&#30340;&#21629;&#20196;&#12290;
(17)<span style="color: #a020f0;">exec</span> command&#65306;&#36816;&#34892;&#21629;&#20196;&#65292;&#26367;&#25442;&#25481;&#24403;&#21069;Shell&#12290;
(18)<span style="color: #a020f0;">exit</span> [n] : &#20197;&#29366;&#24577;n&#36864;&#20986;Shell&#12290;
(19)<span style="color: #483d8b;">export</span> [var] : &#20351;&#21464;&#37327;&#21487;&#34987;&#23376;Shell&#35782;&#21035;&#12290;
(20)help [command] : &#26174;&#31034;&#20851;&#20110;&#20869;&#32622;&#21629;&#20196;&#30340;&#26377;&#29992;&#20449;&#24687;&#12290;&#22914;&#26524;&#25351;&#23450;&#20102;&#19968;&#20010;&#21629;&#20196;&#65292;&#21017;&#23558;&#26174;&#31034;&#35813;&#21629;&#20196;&#30340;&#35814;&#32454;&#20449;&#24687;&#12290;
(21)<span style="color: #483d8b;">history</span> : &#26174;&#31034;&#24102;&#34892;&#21495;&#30340;&#21629;&#20196;&#21382;&#21490;&#21015;&#34920;&#12290;
(22)<span style="color: #483d8b;">jobs</span> : &#26174;&#31034;&#25918;&#21040;&#21518;&#21488;&#30340;&#20316;&#19994;&#12290;
(23)<span style="color: #483d8b;">kill</span> [-signal process] : &#21521;&#30001;PID&#21495;&#25110;&#20316;&#19994;&#21495;&#25351;&#23450;&#30340;&#36827;&#31243;&#21457;&#36865;&#20449;&#21495;&#12290;&#36755;&#20837;kill-l&#26597;&#30475;&#20449;&#21495;&#21015;&#34920;&#12290;
(24)<span style="color: #483d8b;">let</span> : &#29992;&#26469;&#35745;&#31639;&#31639;&#26415;&#34920;&#36798;&#24335;&#30340;&#20540;&#65292;&#24182;&#25226;&#31639;&#26415;&#36816;&#31639;&#30340;&#32467;&#26524;&#36171;&#32473;&#21464;&#37327;&#12290;
(25)<span style="color: #483d8b;">local</span> : &#29992;&#22312;&#20989;&#25968;&#20013;&#65292;&#25226;&#21464;&#37327;&#30340;&#20316;&#29992;&#22495;&#38480;&#21046;&#22312;&#20989;&#25968;&#20869;&#37096;&#12290;
(26)<span style="color: #483d8b;">fg</span> : &#25226;&#21518;&#21488;&#20316;&#19994;&#25918;&#21040;&#21069;&#21488;&#12290;
(27)<span style="color: #483d8b;">getopts</span> : &#35299;&#26512;&#24182;&#22788;&#29702;&#21629;&#20196;&#34892;&#36873;&#39033;&#12290;
(28)<span style="color: #483d8b;">hash</span> : &#25511;&#21046;&#29992;&#20110;&#21152;&#36895;&#21629;&#20196;&#26597;&#25214;&#30340;&#20869;&#37096;&#21704;&#24076;&#34920;&#12290;
(29)<span style="color: #a020f0;">logout</span> : &#36864;&#20986;&#30331;&#24405;Shell&#12290;
(30)<span style="color: #483d8b;">popd</span> : &#20174;&#30446;&#24405;&#26632;&#20013;&#21024;&#38500;&#39033;&#12290;
(31)<span style="color: #483d8b;">pushd</span> : &#21521;&#30446;&#24405;&#26632;&#20013;&#22686;&#21152;&#39033;&#12290;
(32)<span style="color: #483d8b;">pwd</span> : &#25171;&#21360;&#20986;&#24403;&#21069;&#30340;&#24037;&#20316;&#30446;&#24405;&#12290;
(33)<span style="color: #483d8b;">read</span> [var] : &#20174;&#26631;&#20934;&#36755;&#20837;&#35835;&#21462;&#19968;&#34892;&#65292;&#20445;&#23384;&#21040;&#21464;&#37327;var&#20013;&#12290;
(34)<span style="color: #483d8b;">readonly</span> [var] : &#23558;&#21464;&#37327;var&#35774;&#20026;&#21482;&#35835;&#65292;&#19981;&#20801;&#35768;&#37325;&#32622;&#35813;&#21464;&#37327;&#12290;
(35)<span style="color: #a020f0;">return</span> [n] : &#20174;&#20989;&#25968;&#20013;&#36864;&#20986;&#65292;n&#26159;&#25351;&#23450;&#32473;return&#21629;&#20196;&#30340;&#36864;&#20986;&#29366;&#24577;&#20540;&#12290;
(36)<span style="color: #483d8b;">set</span> : &#35774;&#32622;&#36873;&#39033;&#21644;&#20301;&#32622;&#21442;&#37327;&#12290;
(37)<span style="color: #483d8b;">shift</span> [n] : &#23558;&#20301;&#32622;&#21442;&#37327;&#24038;&#31227;n&#27425;&#12290;
(38)stop pid : &#26242;&#20572;&#31532;pid&#21495;&#36827;&#31243;&#30340;&#36816;&#34892;&#12290;
(39)<span style="color: #483d8b;">suspend</span> : &#32456;&#27490;&#24403;&#21069;Shell&#30340;&#36816;&#34892;&#65288;&#23545;&#30331;&#24405;Shell&#26080;&#25928;&#65289;&#12290;
(40)test : &#26816;&#26597;&#25991;&#20214;&#31867;&#22411;&#65292;&#24182;&#35745;&#31639;&#26465;&#20214;&#34920;&#36798;&#24335;&#12290;
(41)<span style="color: #483d8b;">times</span> : &#26174;&#31034;&#30001;&#24403;&#21069;Shell&#21551;&#21160;&#30340;&#36827;&#31243;&#36816;&#34892;&#25152;&#32047;&#35745;&#29992;&#25143;&#26102;&#38388;&#21644;&#31995;&#32479;&#26102;&#38388;&#12290;
(42)<span style="color: #a020f0;">trap</span> [arg] [n] : &#24403;Shell&#25910;&#21040;&#20449;&#21495;n&#65288;n&#20026;0&#12289;1&#12289;2&#25110;15&#65289;&#26102;&#65292;&#25191;&#34892;arg&#12290;
(43)<span style="color: #483d8b;">type</span> [command] : &#26174;&#31034;&#21629;&#20196;&#30340;&#31867;&#22411;&#65292;&#20363;&#22914;&#65306;pwd&#26159;Shell&#30340;&#19968;&#20010;&#20869;&#32622;&#21629;&#20196;&#12290;
(44)<span style="color: #483d8b;">typeset</span> : &#21516;declare&#12290;&#35774;&#32622;&#21464;&#37327;&#24182;&#36171;&#20104;&#20854;&#23646;&#24615;&#12290;
(45)<span style="color: #483d8b;">ulimit</span> : &#26174;&#31034;&#25110;&#35774;&#32622;&#36827;&#31243;&#21487;&#29992;&#36164;&#28304;&#30340;&#26368;&#22823;&#38480;&#39069;&#12290;
(46)<span style="color: #483d8b;">umask</span> [&#20843;&#36827;&#21046;&#25968;&#23383;] : &#29992;&#25143;&#25991;&#20214;&#20851;&#20110;&#23646;&#20027;&#12289;&#23646;&#32452;&#21644;&#20854;&#20182;&#29992;&#25143;&#30340;&#21019;&#24314;&#27169;&#24335;&#25513;&#30721;&#12290;
(47)<span style="color: #483d8b;">unalias</span> : &#21462;&#28040;&#25152;&#26377;&#30340;&#21629;&#20196;&#21035;&#21517;&#35774;&#32622;&#12290;
(48)<span style="color: #483d8b;">unset</span> [name] : &#21462;&#28040;&#25351;&#23450;&#21464;&#37327;&#30340;&#20540;&#25110;&#20989;&#25968;&#30340;&#23450;&#20041;&#12290;
(49)<span style="color: #483d8b;">wait</span> [pid#n] : &#31561;&#24453;pid&#21495;&#20026;n&#30340;&#21518;&#21488;&#36827;&#31243;&#32467;&#26463;&#65292;&#24182;&#25253;&#21578;&#23427;&#30340;&#32467;&#26463;&#29366;&#24577;&#12290;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1ae95521-6a7a-4e13-af49-65d0d7d2ad54" class="outline-5">
<h5 id="h:1ae95521-6a7a-4e13-af49-65d0d7d2ad54">执行外部命令 与hash缓存表</h5>
<div class="outline-text-5" id="text-h:1ae95521-6a7a-4e13-af49-65d0d7d2ad54">
<p>
查看外部命令路径：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">which</span> -a |--skip-alias
whereis
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">which</span> ls

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36339;&#36807;&#21035;&#21517;
</span><span style="color: #483d8b;">which</span> --skip-alias ls

<span style="color: #b22222;"># </span><span style="color: #b22222;">-a &#34920;&#31034;&#22312;&#25152;&#26377;&#36335;&#24452;&#20013;&#26597;&#25214;&#21305;&#37197;&#30340;&#21629;&#20196;
</span>jasper@debian:~$ which -a echo
/usr/bin/echo
/bin/echo

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;path
</span><span style="color: #483d8b;">echo</span> $<span style="color: #a0522d;">PATH</span>
</pre>
</div>

<p>
<b>Hash缓存表</b>
系统初始hash表为空，当外部命令执行时，默认会从PATH路径下寻找该命令，找到后会将这条命令的路径记录到hash表中，当再次使用该命令时，shell解释器首先会查看hash表，存在将执行之，如果不存在，将会去PATH路径下寻找，利用hash缓存表可大大提高命令的调用速率
</p>

<p>
hash 命令常见用法 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">hash</span>                       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;hash&#32531;&#23384;
</span><span style="color: #483d8b;">hash</span> -l                    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;hash&#32531;&#23384;&#65292;&#21487;&#20316;&#20026;&#36755;&#20837;&#20351;&#29992;
</span><span style="color: #483d8b;">hash</span> -p path name <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#21629;&#20196;&#20840;&#36335;&#24452;path&#36215;&#21035;&#21517;&#20026;name
</span><span style="color: #483d8b;">hash</span> -t name          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#32531;&#23384;&#20013;name&#30340;&#36335;&#24452;
</span><span style="color: #483d8b;">hash</span> -d name         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#38500;name&#32531;&#23384;
</span><span style="color: #483d8b;">hash</span> -r                    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#38500;&#32531;&#23384;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:ff5db4cd-9cf3-433b-9f4f-ca81eb29ec11" class="outline-4">
<h4 id="h:ff5db4cd-9cf3-433b-9f4f-ca81eb29ec11">命令别名 alias</h4>
<div class="outline-text-4" id="text-h:ff5db4cd-9cf3-433b-9f4f-ca81eb29ec11">
<p>
对于经常执行的较长的命令，可以将其定义成较短的别名，以方便执行
显示当前shell进程所有可用的命令别名 。 注意别名在脚本中无效
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">alias</span>                            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24403;&#21069;shell&#36827;&#31243;&#25152;&#26377;&#21487;&#29992;&#30340;&#21629;&#20196;&#21035;&#21517;
</span><span style="color: #483d8b;">alias</span> name                  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#25351;&#23450;&#21035;&#21517;
</span><span style="color: #483d8b;">alias</span> <span style="color: #a0522d;">NAME</span>=<span style="color: #8b2252;">'VALUE'</span>   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23450;&#20041;&#21035;&#21517;NAME&#65292;&#20854;&#30456;&#24403;&#20110;&#25191;&#34892;&#21629;&#20196;VALUE
</span><span style="color: #483d8b;">unalias</span>                        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25764;&#28040;&#21035;&#21517;
</span>  <span style="color: #483d8b;">unalias</span> [-a] name [name ...]
  <span style="color: #483d8b;">unalias</span> -a  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#28040;&#25152;&#26377;&#21035;&#21517;</span>
</pre>
</div>

<p>
注意：在命令行中定义的别名，仅对当前shell进程有效
</p>

<p>
范例: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#25152;&#26377;&#21035;&#21517;
</span><span style="color: #483d8b;">alias</span>

<span style="color: #483d8b;">alias</span> <span style="color: #a0522d;">ls</span>=<span style="color: #8b2252;">'ls -l --color=auto'</span>
<span style="color: #483d8b;">alias</span> <span style="color: #a0522d;">ll</span>=<span style="color: #8b2252;">'ls -alF'</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23450;&#20041;&#21035;&#21517;scandisk&#65292;&#25195;&#25551;&#26032;&#21152;&#30340;&#30913;&#30424;
</span>[root@centos8 ~]#alias <span style="color: #a0522d;">scandisk</span>=<span style="color: #8b2252;">'echo - - - &gt;/sys/class/scsi_host/host0/scan;echo - - - &gt;/sys/class/scsi_host/host1/scan;echo - - - &gt; /sys/class/scsi_host/host2/scan'</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25764;&#38144;&#21035;&#21517;
</span><span style="color: #483d8b;">unalias</span> scandisk

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25345;&#20037;&#20445;&#23384;&#21035;&#21517;
</span><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"alias free='free -h'"</span> &gt;&gt; .bashrc
</pre>
</div>


<p>
如果想永久有效，要定义在配置文件中
</p>
<ul class="org-ul">
<li>仅对当前用户： ~/.bashrc</li>
<li>对所有用户有效：/etc/bashrc</li>
</ul>

<p>
编辑配置给出的新配置不会立即生效，bash进程重新读取配置文件
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">source</span> /path/to/config_file
. /path/to/config_file
</pre>
</div>

<p>
如果别名同原命令同名，如果要执行原命令，可使用
</p>

<div class="org-src-container">
<pre class="src src-sh">\ALIASNAME
&#8220;ALIASNAME&#8221;
<span style="color: #8b2252;">'ALIASNAME'</span>
command ALIASNAME
/path/commmand  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21482;&#36866;&#29992;&#20110;&#22806;&#37096;&#21629;&#20196;</span>
</pre>
</div>

<p>
范例： 使用原生命令
</p>
<div class="org-src-container">
<pre class="src src-sh">\ls
<span style="color: #8b2252;">"ls"</span>
<span style="color: #8b2252;">'ls'</span>
command ls
/usr/bin/ls
</pre>
</div>
</div>
</div>
<div id="outline-container-h:dedfb61b-b029-4ed6-b087-299f4dedec64" class="outline-4">
<h4 id="h:dedfb61b-b029-4ed6-b087-299f4dedec64">命令格式</h4>
<div class="outline-text-4" id="text-h:dedfb61b-b029-4ed6-b087-299f4dedec64">
<blockquote>
<p>
我们知道任何的人机交互接口都应该关联到一个终端设备上，而后在终端设备上
显示命令提示符来，在命令提示符下就可以键入命令。但是每一个命令它的大体
运行格式几乎都是相似的。
</p>
</blockquote>

<p>
通用格式
</p>

<div class="org-src-container">
<pre class="src src-sh">COMMAND [OPTIONS...] [ARGUMENTS...]

COMMAND       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21629;&#20196;
</span>[OPTIONS...]       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36873;&#39033;&#65292;&#29992;&#20110;&#21551;&#21160;&#20851;&#38381;&#21629;&#20196;&#30340;&#26576;&#20010;&#25110;&#26576;&#20123;&#21151;&#33021;
</span>[ARGUMENTS...] <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21442;&#25968;&#65292;&#21629;&#20196;&#20316;&#29992;&#23545;&#35937;&#65292;&#27604;&#22914;:&#25991;&#20214;&#21517;&#65292;&#29992;&#25143;&#21517;&#31561;
</span>[]                       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34920;&#31034;&#37324;&#38754;&#30340;&#20869;&#23481;&#26159;&#21487;&#36873;&#30340;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#19968;&#26465;&#21629;&#20196;&#30340;&#36873;&#39033;&#21644;&#21442;&#25968;&#26159;&#21487;&#20197;&#37117;&#27809;&#26377;&#30340;
</span>...                       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34920;&#31034;&#21487;&#20197;&#26377;&#22810;&#20010;&#20540;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#19968;&#26465;&#21629;&#20196;&#65292;&#21487;&#20197;&#26377;&#22810;&#20010;&#36873;&#39033;&#65292;&#25110;&#22810;&#20010;&#21442;&#25968;</span>
</pre>
</div>

<p>
选项：
</p>
<ul class="org-ul">
<li>短选项：UNIX 风格选项，-c 例如：-l, -h</li>
<li>长选项：GNU风格选项，&#x2013;word 例如：&#x2013;all, &#x2013;human</li>
<li>BSD风格选项： 一个字母，例如：a，使用相对较少</li>
</ul>


<p>
范例:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#id -u wang
1000
[root@centos8 ~]#ls -a
[root@centos8 ~]#ls --all
[root@centos8 ~]#free -h            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30701;&#36873;&#39033;
</span>[root@centos8 ~]#free --human  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#38271;&#36873;&#39033;
</span>[root@centos8 ~]#ps a                <span style="color: #b22222;">#</span><span style="color: #b22222;">BSD&#39118;&#26684;&#36873;&#39033;</span>
</pre>
</div>

<p>
注意：
</p>
<ul class="org-ul">
<li>多个选项以及多参数和命令之间使用空白字符分隔</li>
<li>多个短选项可以写在一起，如ls -alF，但多点长选项不可以写在一起，拆不过来。</li>
<li>取消和结束命令执行：Ctrl+c，Ctrl+d</li>
<li>多个命令可以用 ";" 符号分开</li>
<li>一个命令可以用 \ 反斜杠分成多行</li>
</ul>
</div>
<div id="outline-container-h:b5651267-906a-46c6-80d1-09f263180807" class="outline-5">
<h5 id="h:b5651267-906a-46c6-80d1-09f263180807">COMMAND</h5>
<div class="outline-text-5" id="text-h:b5651267-906a-46c6-80d1-09f263180807">
<p>
<b>发起一个命令：请求内核将某个二进制程序运行为一个进程。</b>
</p>

<p>
程序 &#x2013;&gt;进程
</p>

<p>
静态 &#x2013;&gt;动态（有生命周期）
</p>

<p>
<b>命令命令本身是一个可执行的程序文件：</b>
</p>

<p>
二进制格式的文件，有可能会调用共享库
</p>

<div class="org-src-container">
<pre class="src src-sh">&#22810;&#25968;&#31995;&#32479;&#31243;&#24207;&#25991;&#20214;&#37117;&#23384;&#25918;&#22312;: &#31995;&#32479;&#33258;&#24102;&#30340;/bin,/sbin,/usr/bin,/usr/sbin,  &#38750;&#31995;&#32479;&#33258;&#24102;&#30340;/usr/local/sbin, /usr/local/bin
&#26222;&#36890;&#21629;&#20196;&#65306;/bin, /usr/bin, /usr/local/bin
&#31649;&#29702;&#21629;&#20196;&#65306;/sbin, /usr/sbin, /usr/local/sbin
&#20849;&#20139;&#24211;&#65306;/lib, /lib64, /usr/lib, /usr/lib64, /usr/local/lib, /usr/local/lib64
32&#20301;&#24211;&#25991;&#20214;&#65306;/lib,/usr/lib,/usr/local/lib
64&#20301;&#24211;&#25991;&#20214;&#65306;/lib64,/usr/lib64,/usr/local/lib64
</pre>
</div>

<p>
注意：并非所有的命令都有一个在某目录与之对应的可执行程序文件，像cd命令。
</p>

<p>
<b>命令必须遵循特定格式规范</b>
</p>

<ul class="org-ul">
<li>Windows格式: exe,msi,</li>
<li>Linux格式: ELF&#x2013;&gt;Executable and Linkable Format可执行链接文件</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# file /bin/ls
/bin/ls: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, <span style="color: #a0522d;">BuildID</span>[sha1]=3d705971a4c4544545cb78fd890d27bf792af6d4, stripped
</pre>
</div>

<p>
<b>命令分为两类</b>
</p>

<p>
内置命令(builtin)：由shell程序自带命令，像cd
</p>

<p>
外部命令:独立可执行程序文件，文件名即命令名
</p>

<p>
<b>为什么输入ls系统能找到ls在的位置并执行？</b>
</p>

<p>
shell程序是独特的程序，负责解析用户提供的命令(包括词法分析语法分析句法
分析等)，他们通过自己的环境变量来定义工作特性。按照空格切割输入的内容
</p>

<p>
环境变量：
</p>

<p>
PATH:从哪些路径中查找用户键入的命令字符串所对应的命令文件；
</p>

<p>
查找次序：自左而右，找到了命令就不往下找了。
</p>

<p>
查看PATH的环境变量
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# echo $<span style="color: #a0522d;">PATH</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
</pre>
</div>

<p>
<b>查看命令类型：</b>
</p>

<p>
type COMMAND
</p>

<p>
把PATH变量去除了只能找到内置命令了，但写入绝对路径也可以找到外部命令。
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# type ls <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22806;&#37096;&#21629;&#20196;
</span>ls is aliased to <span style="color: #ff00ff;">`ls --color=auto'
[root@node01 ~]# type type #&#20869;&#32622;&#21629;&#20196;
type is a shell builtin</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:87d7e0bc-bf3c-4862-b157-c7e4b4f9e151" class="outline-5">
<h5 id="h:87d7e0bc-bf3c-4862-b157-c7e4b4f9e151">OPTIONS：</h5>
<div class="outline-text-5" id="text-h:87d7e0bc-bf3c-4862-b157-c7e4b4f9e151">
<p>
<b>OPTIONS的主要作用</b>
</p>

<p>
指定命令的运行特性：
配置文件也是指定命令的运行特性的
</p>

<p>
<b>选项有两种表现形式：</b>
</p>

<p>
短选项： -后加一个单个字符，-C ,如-l ,-d
</p>

<p>
注意：有些命令的选项没有-。如果同一个命令同时使用多个短选项，多个数可
合并，如-ld
</p>

<p>
短选项使用空格来分隔
</p>

<p>
长选项： &#x2013;word,如：&#x2013;help,&#x2013;human-readable
</p>

<p>
注意：长选项不能合并。
</p>

<p>
长选项使用等号来等于
</p>

<p>
有些选项可以带参数，此称为选项参数
</p>
</div>
</div>
<div id="outline-container-h:f6b87468-a50b-4957-b511-f0b3d1e69aad" class="outline-5">
<h5 id="h:f6b87468-a50b-4957-b511-f0b3d1e69aad">ARGUMENTS:</h5>
<div class="outline-text-5" id="text-h:f6b87468-a50b-4957-b511-f0b3d1e69aad">
<p>
命令的作用对象：命令对什么生效？？？？
</p>

<p>
注意：不同的命令参数：有些命令同时可带多个参数，多个之间以空白分开
</p>

<p>
如：ls -ld /var /usr
</p>
</div>
</div>
</div>
<div id="outline-container-h:931950ff-d346-4935-91e9-899a151d4d90" class="outline-4">
<h4 id="h:931950ff-d346-4935-91e9-899a151d4d90">命令里套子命令</h4>
<div class="outline-text-4" id="text-h:931950ff-d346-4935-91e9-899a151d4d90">
<p>
centos7后的命令开始大量使用子命令
</p>


<figure id="org30c900e">
<img src="./images/image-20210215170021680.png" alt="image-20210215170021680.png" width="50%">

</figure>
</div>
</div>
</div>
<div id="outline-container-h:e47e7e01-50d7-4390-816b-85727a0b41ac" class="outline-3">
<h3 id="h:e47e7e01-50d7-4390-816b-85727a0b41ac">常见命令</h3>
<div class="outline-text-3" id="text-h:e47e7e01-50d7-4390-816b-85727a0b41ac">
</div>
<div id="outline-container-h:3c43ca4d-5491-487b-a451-d78e29286cb5" class="outline-4">
<h4 id="h:3c43ca4d-5491-487b-a451-d78e29286cb5">查看硬件信息</h4>
<div class="outline-text-4" id="text-h:3c43ca4d-5491-487b-a451-d78e29286cb5">
</div>
<div id="outline-container-h:b7f6d1c5-2790-4750-b266-822925b4874e" class="outline-5">
<h5 id="h:b7f6d1c5-2790-4750-b266-822925b4874e">查看cpu</h5>
<div class="outline-text-5" id="text-h:b7f6d1c5-2790-4750-b266-822925b4874e">
<p>
lscpu命令可以查看cpu信息
</p>

<p>
cat /proc/cpuinfo也可看查看到
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]# lscpu
Architecture:     x86_64
CPU op-mode(s):     32-bit, 64-bit
Byte Order:      Little Endian
<span style="color: #0000ff;">CPU</span>(s):         8
On-line CPU(s) list:  0-7
<span style="color: #0000ff;">Thread</span>(s) per core:   1          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27599;&#20010;core &#26377;&#20960;&#20010;&#32447;&#31243;
</span><span style="color: #0000ff;">Core</span>(s) per socket:   4          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27599;&#20010;&#27133;&#20301;&#26377;4&#20010;core
</span><span style="color: #0000ff;">Socket</span>(s):       2               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26381;&#21153;&#22120;&#38754;&#26495;&#19978;&#26377;2&#20010;cpu &#27133;&#20301;
</span>NUMA node(s):      2             <span style="color: #b22222;">#</span><span style="color: #b22222;">nodes&#30340;&#25968;&#37327;
</span>Vendor ID:       GenuineIntel
CPU family:       6
Model:         44
Stepping:        2
CPU MHz:        2128.025
BogoMIPS:        4256.03
Virtualization:    VT-x
L1d cache:       32K
L1i cache:       32K
L2 cache:       256K
L3 cache:       8192K
NUMA node0 CPU(s):   0,2,4,6    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23545;&#24212;&#30340;core
</span>NUMA node1 CPU(s):   1,3,5,7

[root@centos8 ~]# cat /proc/cpuinfo

<span style="color: #b22222;"># </span><span style="color: #b22222;">nproc&#21629;&#20196; # &#26597;&#30475;cpu&#20010;&#25968;
</span>~]# nproc
16
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1c06c89d-2d79-4675-89ae-f981d74c9c97" class="outline-5">
<h5 id="h:1c06c89d-2d79-4675-89ae-f981d74c9c97">查看内存大小</h5>
<div class="outline-text-5" id="text-h:1c06c89d-2d79-4675-89ae-f981d74c9c97">
<div class="org-src-container">
<pre class="src src-sh">jasper@debian:~$ lsmem 
RANGE                                 SIZE  STATE REMOVABLE BLOCK
0x0000000000000000-0x000000007fffffff   2G online       yes  0-15

Memory block size:       128M
Total online memory:       2G
Total offline memory:      0B

[root@centos8 ~]#free
      total    used    free   shared buff/cache  available
Mem:     816188    156888    412660     5792    246640    527024
Swap:    2097148      0   2097148

[root@centos8 ~]#cat /proc/meminfo
MemTotal:     816188 kB
MemFree:      412780 kB
MemAvailable:   527144 kB
Buffers:       5304 kB
Cached:      208252 kB
......
</pre>
</div>

<p>
free命令补充
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">1&#31186;&#21047;&#26032;&#19968;&#27425;&#25968;&#25454;
</span>free -hs 1

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21047;&#26032;2&#27425;&#25968;&#25454;&#21518;&#36864;&#20986;
</span>free -hc 2

total            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31995;&#32479;&#24635;&#20869;&#23384;&#22823;&#23567;
</span>used            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24050;&#20351;&#29992;&#29289;&#29702;&#20869;&#23384;&#22823;&#23567;
</span>free             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36824;&#26377;&#22810;&#23569;&#29289;&#29702;&#20869;&#23384;&#21487;&#29992;
</span>share          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34917;&#20849;&#20139;&#20351;&#29992;&#30340;&#29289;&#29702;&#20869;&#23384;&#22823;&#23567;
</span>buff/cache  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34987;buffer&#21644;cache&#20351;&#29992;&#30340;&#29289;&#29702;&#20869;&#23384;&#22823;&#23567;
</span>available     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36824;&#21487;&#20197;&#34987;&#24212;&#29992;&#31243;&#24207;&#20351;&#29992;&#30340;&#29289;&#29702;&#20869;&#23384;&#22823;&#23567;
</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">free &#26159;&#30495;&#27491;&#23578;&#26410;&#34987;&#20351;&#29992;&#30340;&#29289;&#29702;&#20869;&#23384;&#22823;&#23567;
</span><span style="color: #b22222;">#</span><span style="color: #b22222;">available &#26159;&#24212;&#29992;&#31243;&#24207;&#35748;&#20026;&#21487;&#29992;&#20869;&#23384;&#25968;&#37327;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2c9a9a2f-90de-4f1d-887d-7c7be859f634" class="outline-5">
<h5 id="h:2c9a9a2f-90de-4f1d-887d-7c7be859f634">查看硬盘和分区情况</h5>
<div class="outline-text-5" id="text-h:2c9a9a2f-90de-4f1d-887d-7c7be859f634">
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#lsblk
NAME  MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda    8:0   0 200G  0 disk
&#9500;&#9472;sda1  8:1   0  1G  0 part /boot
&#9500;&#9472;sda2  8:2   0 100G  0 part /
&#9500;&#9472;sda3  8:3   0  50G  0 part /data
&#9500;&#9472;sda4  8:4   0  1K  0 part
&#9492;&#9472;sda5  8:5   0  2G  0 part [SWAP]
sr0   11:0   1  7G  0 rom 

[root@centos8 ~]#cat /proc/partitions
major minor  <span style="color: #b22222;">#</span><span style="color: #b22222;">blocks name
</span> 8     0  209715200 sda
 8     1   1048576 sda1
 8     2  104857600 sda2
 8     3  52428800 sda3
 8     4      1 sda4
 8     5   2097152 sda5
 11     0   7377920 sr
</pre>
</div>
</div>
</div>
<div id="outline-container-h:91300ba8-ea75-425b-9afd-2da2143f1159" class="outline-5">
<h5 id="h:91300ba8-ea75-425b-9afd-2da2143f1159">查看 cpu 架构</h5>
<div class="outline-text-5" id="text-h:91300ba8-ea75-425b-9afd-2da2143f1159">
<div class="org-src-container">
<pre class="src src-sh">$ arch
</pre>
</div>

<ul class="org-ul">
<li>x86_64： amd 架构</li>
<li>aarch64: arm 架构</li>
</ul>

<p>
范例：确定当前系统是32位或64位
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#getconf LONG_BIT
64
[root@rhel5 ~]# getconf LONG_BIT
32
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:5578ce55-9ed1-4ad0-ae8c-c29517e7a366" class="outline-4">
<h4 id="h:5578ce55-9ed1-4ad0-ae8c-c29517e7a366">查看系统版本信息</h4>
<div class="outline-text-4" id="text-h:5578ce55-9ed1-4ad0-ae8c-c29517e7a366">
</div>
<div id="outline-container-h:ef935c15-74e0-44fc-adfb-3b12a7f0b888" class="outline-5">
<h5 id="h:ef935c15-74e0-44fc-adfb-3b12a7f0b888">查看内核版本</h5>
<div class="outline-text-5" id="text-h:ef935c15-74e0-44fc-adfb-3b12a7f0b888">
<div class="org-src-container">
<pre class="src src-sh">cat /proc/version
uname -a
uname -mrs
rpm -q kernel
dmesg | grep Linux
ls /boot | grep vmlinuz-
</pre>
</div>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#uname -r
4.18.0-147.el8.x86_64
[root@centos7 ~]#uname -r
3.10.0-1062.el7.x86_64
[root@centos6 ~]# uname -r
2.6.32-754.el6.x86_64
[root@ubuntu1804 ~]#uname -r
4.15.0-29-generic

[root@jump prometheus]# uname -mrs
Linux 6.1.140-154.222.amzn2023.aarch64 aarch64
[root@jump prometheus]# cat /proc/version
Linux version 6.1.140-154.222.amzn2023.aarch64 (mockbuild@ip-10-0-37-20) (gcc (GCC) 11.5.0 20240719 (Red Hat 11.5.0-5), GNU ld version 2.41-50.amzn2023.0.3) <span style="color: #b22222;">#</span><span style="color: #b22222;">1 SMP Mon Jun  2 15:10:54 UTC 2025</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b" class="outline-5">
<h5 id="h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b">查看操作系统发行版本</h5>
<div class="outline-text-5" id="text-h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS8 &#26597;&#30475;&#21457;&#34892;&#29256;&#26412;
</span>[root@centos8 ~]#cat /etc/redhat-release
CentOS Linux release 8.1.1911 (Core)

[root@centos8 ~]#cat /etc/os-release
<span style="color: #a0522d;">NAME</span>=<span style="color: #8b2252;">"CentOS Linux"</span>
<span style="color: #a0522d;">VERSION</span>=<span style="color: #8b2252;">"8 (Core)"</span>
<span style="color: #a0522d;">ID</span>=<span style="color: #8b2252;">"centos"</span>
<span style="color: #a0522d;">ID_LIKE</span>=<span style="color: #8b2252;">"rhel fedora"</span>
<span style="color: #a0522d;">VERSION_ID</span>=<span style="color: #8b2252;">"8"</span>
<span style="color: #a0522d;">PLATFORM_ID</span>=<span style="color: #8b2252;">"platform:el8"</span>
<span style="color: #a0522d;">PRETTY_NAME</span>=<span style="color: #8b2252;">"CentOS Linux 8 (Core)"</span>
<span style="color: #a0522d;">ANSI_COLOR</span>=<span style="color: #8b2252;">"0;31"</span>
<span style="color: #a0522d;">CPE_NAME</span>=<span style="color: #8b2252;">"cpe:/o:centos:centos:8"</span>
<span style="color: #a0522d;">HOME_URL</span>=<span style="color: #8b2252;">"https://www.centos.org/"</span>
<span style="color: #a0522d;">BUG_REPORT_URL</span>=<span style="color: #8b2252;">"https://bugs.centos.org/"</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">yum provides lsb_release
</span>redhat-lsb-core-4.1-27.el7.centos.1.i686 : LSB Core module support
Repo        : base
Matched from:
Filename    : /usr/bin/lsb_release
[root@centos7 ~] <span style="color: #a0522d;">eth0</span> = 10.0.1.86
<span style="color: #b22222;"># </span><span style="color: #b22222;">yum install redhat-lsb-core -y
</span>
[root@centos8 ~]#lsb_release -a 
LSB Version: :core-4.1-amd64:core-4.1-noarch
Distributor ID: CentOS
Description: CentOS Linux release 8.1.1911 (Core)
Release: 8.1.1911
Codename: Core
[root@centos8 ~]#

<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu&#26597;&#30475;&#21457;&#34892;&#29256;&#26412;
</span>[root@ubuntu1804 ~]#cat /etc/os-release
<span style="color: #a0522d;">NAME</span>=<span style="color: #8b2252;">"Ubuntu"</span>
<span style="color: #a0522d;">VERSION</span>=<span style="color: #8b2252;">"18.04.1 LTS (Bionic Beaver)"</span>
<span style="color: #a0522d;">ID</span>=ubuntu
<span style="color: #a0522d;">ID_LIKE</span>=debian
<span style="color: #a0522d;">PRETTY_NAME</span>=<span style="color: #8b2252;">"Ubuntu 18.04.1 LTS"</span>
<span style="color: #a0522d;">VERSION_ID</span>=<span style="color: #8b2252;">"18.04"</span>
<span style="color: #a0522d;">HOME_URL</span>=<span style="color: #8b2252;">"https://www.ubuntu.com/"</span>
<span style="color: #a0522d;">SUPPORT_URL</span>=<span style="color: #8b2252;">"https://help.ubuntu.com/"</span>
<span style="color: #a0522d;">BUG_REPORT_URL</span>=<span style="color: #8b2252;">"https://bugs.launchpad.net/ubuntu/"</span>
<span style="color: #a0522d;">PRIVACY_POLICY_URL</span>=<span style="color: #8b2252;">"https://www.ubuntu.com/legal/terms-and-policies/privacy-
policy"</span>
<span style="color: #a0522d;">VERSION_CODENAME</span>=bionic
<span style="color: #a0522d;">UBUNTU_CODENAME</span>=bionic


[root@ubuntu1804 ~]#cat /etc/issue
Ubuntu 18.04.1 LTS \n \l

[root@ubuntu1804 ~]#lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu 18.04.1 LTS
Release: 18.04
Codename: bionic
[root@ubuntu1804 ~]#
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:155b1c95-a99f-4fa0-b6fc-3297f352064c" class="outline-4">
<h4 id="h:155b1c95-a99f-4fa0-b6fc-3297f352064c">日期和时间</h4>
<div class="outline-text-4" id="text-h:155b1c95-a99f-4fa0-b6fc-3297f352064c">
<p>
Linux：系统启动时从硬件读取日期和时间信息；读取完了以后，就不再与硬件
相关联，然后就跟内核频率有关。
</p>

<p>
靠内核时钟来维护时钟，内核频率，比如内核频率是100Hz表示内核震动100次走1秒。
</p>

<p>
linux的两种时钟：
</p>
<ul class="org-ul">
<li>系统时钟：由Linux内核通过CPU的工作频率进行的</li>
<li>硬件时钟：主板</li>
</ul>
</div>
<div id="outline-container-h:d6cb7ed9-5ad4-43a0-bf54-9141851650b8" class="outline-5">
<h5 id="h:d6cb7ed9-5ad4-43a0-bf54-9141851650b8">系统时钟命令：date</h5>
<div class="outline-text-5" id="text-h:d6cb7ed9-5ad4-43a0-bf54-9141851650b8">
<pre class="example" id="orgdf311d6">
date [OPTION]... [+FORMAT] #显示系统日期
date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]] #设置系统时间
</pre>


<p>
命令选项:
</p>
<pre class="example" id="org54f36d4">
-d&lt;字符串&gt; 显示字符串所指的日期与时间。字符串前后必须加上双引号。
-s&lt;字符串&gt; 根据字符串来设置日期与时间。字符串前后必须加上双引号。
-u 显示GMT。
--help 在线帮助。
--version 显示版本信息
</pre>


<p>
<b>1 显示系统日期时间：date [OPTION]&#x2026; [+FORMAT]</b>
</p>

<p>
FORMAT：格式符
</p>

<pre class="example" id="orgc920174">
%n : 在显示时，插入新的一行
%t : 在显示时，插入tab
%H : 小时(00..23)
%I : 小时(01..12)
%k : 小时(0..23)
%l : 小时(1..12)
%M : 分钟(00..59)
%p : 显示本地 AM 或 PM
%r : 直接显示时间 (12 小时制，格式为 hh:mm:ss [AP]M)
%s : 从 1970 年 1 月 1 日 00:00:00 UTC 到目前为止的秒数
%S : 秒(00..61)
%T : 直接显示时间 (24 小时制)
%X : 相当于 %H:%M:%S
%Z : 显示时区 %a : 星期几 (Sun..Sat)
%a : 星期的缩写
%A : 星期几 (Sunday..Saturday)
%b : 月份 (Jan..Dec)
%B : 月份 (January..December)
%c : 直接显示日期与时间
%d : 日 (01..31)
%D : 直接显示日期 (mm/dd/yy)
%h : 同 %b
%j : 一年中的第几天 (001..366)
%m : 月份 (01..12)
%U : 一年中的第几周 (00..53) (以 Sunday 为一周的第一天的情形)
%w : 一周中的第几天 (0..6)
%W : 一年中的第几周 (00..53) (以 Monday 为一周的第一天的情形)
%x : 直接显示日期 (mm/dd/yy)
%y : 年份的最后两位数字 (00.99)
%Y : 完整年份 (0000..9999)
%F：年月日
</pre>


<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#31354;&#30333;&#23383;&#31526;&#20998;&#38548;&#30340;&#35805;&#65292;+&#21495;&#21518;&#38754;&#36319;&#24341;&#21495;&#34920;&#31034;&#26159;&#21516;&#19968;&#20010;&#23383;&#31526;&#20018;
</span>date +<span style="color: #8b2252;">"%F %T"</span>
date +%F-%T

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24180;&#26376;&#26085;&#20960;&#28857;&#20960;&#20998;&#20960;&#31186;&#65306;
</span>date +%Y-%m-%d-%H_%M_%S
date +%s <span style="color: #b22222;">#</span><span style="color: #b22222;">&#33258;1970-1-1&#21040;&#24403;&#21069;&#30340;&#26102;&#38388;&#25139;</span>
</pre>
</div>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-sh">jasper@debian:~$ date
Wed Sep  4 03:59:48 PM CST 2024

<span style="color: #b22222;"># </span><span style="color: #b22222;">-R &#26174;&#31034;&#26102;&#21306;
</span>jasper@debian:~$ date -R
Wed, 04 Sep 2024 15:59:42 +0800

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26102;&#38388;&#25139;
</span>jasper@debian:~$ date +%s
1725437062

jasper@debian:~$ date -d @<span style="color: #ff00ff;">`date +%s`</span>
Wed Sep  4 04:05:13 PM CST 2024

jasper@debian:~$ date -d @1725437062
Wed Sep  4 04:04:22 PM CST 2024

jasper@debian:~$ date +%F
2024-09-04
jasper@debian:~$ date +%<span style="color: #8b2252;">"F %T"</span>
2024-09-04 16:08:37
jasper@debian:~$ date +<span style="color: #8b2252;">"%F %T"</span>
2024-09-04 16:08:50
jasper@debian:~$ date 
Wed Sep  4 04:09:13 PM CST 2024
jasper@debian:~$ date +%Y-%m-%d_%H:%M:%S
2024-09-04_16:11:30

[root@centos8 ~]#date -d @1584689051
Fri Mar 20 15:24:11 CST 2020
[root@centos8 ~]#date -d @1584689051 +%F_%T
2020-03-20_15:24:11
[root@ubuntu ~]#date -d <span style="color: #8b2252;">"2020-02-02"</span> +%s
1580572800
</pre>
</div>

<p>
<b>2 设定系统日期时间：date [MMDDhhmm[[CC]YY][.ss]]</b>
</p>

<p>
月日小时分钟[[2位年]4位年][.秒]
</p>

<div class="org-src-container">
<pre class="src src-sh">&#22914;&#65292;2013&#24180;10&#26376;10&#26085;8&#28857;8&#20998;8&#31186;
[root@node01 ~]# date 101008082013.08
Thu Oct 10 08:08:08 CST 2013

&#22914;&#65292;2015&#24180;12&#26376;8&#26085;18&#28857;15&#20998;23&#31186;
[root@node01 ~]# date 1208181515.23
Tue Dec  8 18:15:23 CST 2015
</pre>
</div>

<p>
在设定时间方面：
</p>

<div class="org-src-container">
<pre class="src src-sh">date -s //&#35774;&#32622;&#24403;&#21069;&#26102;&#38388;&#65292;&#21482;&#26377;root&#26435;&#38480;&#25165;&#33021;&#35774;&#32622;&#65292;&#20854;&#20182;&#21482;&#33021;&#26597;&#30475;&#12290;
date -s 20080523 //&#35774;&#32622;&#25104;20080523&#65292;&#36825;&#26679;&#20250;&#25226;&#20855;&#20307;&#26102;&#38388;&#35774;&#32622;&#25104;&#31354;00:00:00
date -s 01:01:01 //&#35774;&#32622;&#20855;&#20307;&#26102;&#38388;&#65292;&#19981;&#20250;&#23545;&#26085;&#26399;&#20570;&#26356;&#25913;
date -s &#8220;01:01:01 2008-05-23&#8243; //&#36825;&#26679;&#21487;&#20197;&#35774;&#32622;&#20840;&#37096;&#26102;&#38388;
date -s &#8220;01:01:01 20080523&#8243; //&#36825;&#26679;&#21487;&#20197;&#35774;&#32622;&#20840;&#37096;&#26102;&#38388;
date -s &#8220;2008-05-23 01:01:01&#8243; //&#36825;&#26679;&#21487;&#20197;&#35774;&#32622;&#20840;&#37096;&#26102;&#38388;
date -s &#8220;20080523 01:01:01&#8243; //&#36825;&#26679;&#21487;&#20197;&#35774;&#32622;&#20840;&#37096;&#26102;&#38388;
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20462;&#25913;&#26085;&#26399;&#26102;&#38388;&#65306;
</span>timedatectl set-time <span style="color: #8b2252;">"2017-01-23 10:30:00"</span>&#65288;&#21487;&#20197;&#21482;&#20462;&#25913;&#20854;&#20013;&#19968;&#20010;&#65289;
</pre>
</div>

<p>
<b>加减：</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">date +%Y%m%d         //&#26174;&#31034;&#21069;&#22825;&#24180;&#26376;&#26085;
date +%Y%m%d --date=<span style="color: #8b2252;">"+1 day"</span>  //&#26174;&#31034;&#21069;&#19968;&#22825;&#30340;&#26085;&#26399;
date +%Y%m%d --date=<span style="color: #8b2252;">"-1 day"</span>  //&#26174;&#31034;&#21518;&#19968;&#22825;&#30340;&#26085;&#26399;
date +%Y%m%d --date=<span style="color: #8b2252;">"-1 month"</span>  //&#26174;&#31034;&#19978;&#19968;&#26376;&#30340;&#26085;&#26399;
date +%Y%m%d --date=<span style="color: #8b2252;">"+1 month"</span>  //&#26174;&#31034;&#19979;&#19968;&#26376;&#30340;&#26085;&#26399;
date +%Y%m%d --date=<span style="color: #8b2252;">"-1 year"</span>  //&#26174;&#31034;&#21069;&#19968;&#24180;&#30340;&#26085;&#26399;
date +%Y%m%d --date=<span style="color: #8b2252;">"+1 year"</span>  //&#26174;&#31034;&#19979;&#19968;&#24180;&#30340;&#26085;&#26399;
</pre>
</div>

<p>
<b>date 命令的另一个扩展是 -d</b>
</p>

<p>
选项，该选项非常有用。使用这个功能强大的选项，通过将日期作为引号括起来
的参数提供，您可以快速地查明一个特定的日期。
</p>

<p>
-d 选项还可以告诉您，相对
于当前日期若干天的究竟是哪一天，从现在开始的若干天或若干星期以后，或者
以前（过去）。
</p>

<p>
通过将这个相对偏移使用引号括起来，作为 -d 选项的参数，就
可以完成这项任务。 具体说明如下：
</p>

<div class="org-src-container">
<pre class="src src-sh">date -d <span style="color: #8b2252;">"nov 22"</span>  &#20170;&#24180;&#30340; 11 &#26376; 22 &#26085;&#26159;&#26143;&#26399;&#19977;
date -d <span style="color: #8b2252;">'2 weeks'</span> 2&#21608;&#21518;&#30340;&#26085;&#26399;
date -d <span style="color: #8b2252;">'next monday'</span> (&#19979;&#21608;&#19968;&#30340;&#26085;&#26399;)
date -d next-day +%Y%m%d&#65288;&#26126;&#22825;&#30340;&#26085;&#26399;&#65289;&#25110;&#32773;&#65306;date -d tomorrow +%Y%m%d
date -d last-day +%Y%m%d(&#26152;&#22825;&#30340;&#26085;&#26399;) &#25110;&#32773;&#65306;date -d yesterday +%Y%m%d
date -d last-month +%Y%m(&#19978;&#20010;&#26376;&#26159;&#20960;&#26376;)
date -d next-month +%Y%m(&#19979;&#20010;&#26376;&#26159;&#20960;&#26376;)

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992; ago &#25351;&#20196;&#65292;&#24744;&#21487;&#20197;&#24471;&#21040;&#36807;&#21435;&#30340;&#26085;&#26399;&#65306;
</span>date -d <span style="color: #8b2252;">'30 days ago'</span> &#65288;30&#22825;&#21069;&#30340;&#26085;&#26399;&#65289;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#36127;&#25968;&#20197;&#24471;&#21040;&#30456;&#21453;&#30340;&#26085;&#26399;&#65306;
</span>date -d <span style="color: #8b2252;">'dec 14 -2 weeks'</span> &#65288;&#30456;&#23545;:dec 14&#36825;&#20010;&#26085;&#26399;&#30340;&#20004;&#21608;&#21069;&#30340;&#26085;&#26399;&#65289;
date -d <span style="color: #8b2252;">'-100 days'</span> (100&#22825;&#20197;&#21069;&#30340;&#26085;&#26399;)
date -d <span style="color: #8b2252;">'50 days'</span>(50&#22825;&#21518;&#30340;&#26085;&#26399;)         
</pre>
</div>

<p>
<b>3 时间戳和标准时间的互转</b>
</p>

<p>
下面介绍几种时间戳格式和标准时间格式转换的方法：
</p>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#20998;&#21035;&#20197;&#26631;&#20934;&#26684;&#24335;&#21644;&#26102;&#38388;&#25139;&#26469;&#26174;&#31034;&#24403;&#21069;&#26102;&#38388;
[root@365linux ~]# date    
2010&#24180; 08&#26376; 10&#26085; &#26143;&#26399;&#20108; 03:39:21 CST   
[root@365linux ~]# date +%s
1281382775

2&#12289;&#26174;&#31034;&#25351;&#23450;&#26102;&#38388;&#30340;&#26102;&#38388;&#25139;
[root@365linux ~]# date -d <span style="color: #8b2252;">"2010-07-20 10:25:30"</span> +%s    
1279592730

3&#12289;&#23558;&#26102;&#38388;&#25139;&#36716;&#25442;&#20026;&#26631;&#20934;&#26102;&#38388;&#26684;&#24335;
&#26041;&#27861;1&#65306;&#20351;&#29992;date&#21629;&#20196;
[root@365linux ~]# date -d <span style="color: #8b2252;">"@1279592730"</span>
2010&#24180; 07&#26376; 20&#26085; &#26143;&#26399;&#20108; 10:25:30 CST
[root@365linux ~]# date -d <span style="color: #8b2252;">"1970-01-01 utc 1279592730 seconds"</span>
2010&#24180; 07&#26376; 20&#26085; &#26143;&#26399;&#20108; 10:25:30 CST
[root@365linux ~]# date -d <span style="color: #8b2252;">"1970-01-01 14781 days"</span> <span style="color: #8b2252;">"+%Y/%m/%d %H:%M:%S"</span>
2010/06/21 00:00:00
[root@localhost tmp]#  date -d <span style="color: #8b2252;">"@1279592730"</span>
Tue Jul 20 10:25:30 CST 2010
[root@localhost tmp]#  date -d <span style="color: #8b2252;">"@1279592730"</span> +<span style="color: #8b2252;">"%Y%m%d %H:%M:%S"</span>
20100720 10:25:30
[root@localhost tmp]#  date -d <span style="color: #8b2252;">"@1279592730"</span> +<span style="color: #8b2252;">"%F %H:%M:%S"</span>
2010-07-20 10:25:30
[root@localhost tmp]# date -d <span style="color: #8b2252;">"1970-01-01 utc 1279592730 seconds"</span>  
Tue Jul 20 10:25:30 CST 2010
[root@localhost tmp]# date -d <span style="color: #8b2252;">"1970-01-01 utc 1279592730 seconds"</span> +<span style="color: #8b2252;">"%F %H:%M:%S"</span>
2010-07-20 10:25:30
[root@rabbitmq01 sh]# date -d <span style="color: #8b2252;">"1970-01-01  1279592730 sec utc"</span> +<span style="color: #8b2252;">"%F %H:%M:%S"</span>
2010-07-20 10:25:30


&#26041;&#27861;2&#65306;&#20351;&#29992;awk&#37324;&#30340;&#26102;&#38388;&#20989;&#25968;
[root@365linux ~]# echo <span style="color: #8b2252;">"1279592730"</span> |awk <span style="color: #8b2252;">'{print strftime ("%F %T",$0)}'</span>
2010-07-20 10:25:30
&#26041;&#27861;3&#65306;&#20351;&#29992;perl&#22788;&#29702;
[root@365linux ~]# perl -e <span style="color: #8b2252;">'print localtime(1279592730)."\n";'</span>
Tue Jul 20 10:25:30 2010


4. utc&#26102;&#38388;&#36716;&#25442;&#20026;cst&#26102;&#38388;
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#35774;&#32622;&#26102;&#21306;&#20026;&#19978;&#28023;&#65288;&#21271;&#20140;&#26102;&#38388;&#65289;
</span><span style="color: #a0522d;">TZ</span>=<span style="color: #8b2252;">'Asia/Shanghai'</span> date
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25110;&#32773;&#20351;&#29992;&#31616;&#20889;
</span><span style="color: #a0522d;">TZ</span>=<span style="color: #8b2252;">'CST-8'</span> date

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#30452;&#25509;&#35745;&#31639;&#21271;&#20140;&#26102;&#38388;&#65288;UTC+8&#65289;
</span>date -d <span style="color: #8b2252;">'+8 hours'</span> <span style="color: #8b2252;">'+%Y-%m-%d %H:%M:%S %z'</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25110;&#32773;&#26356;&#35814;&#32454;&#30340;&#26684;&#24335;
</span>date -d <span style="color: #8b2252;">'+8 hours'</span> <span style="color: #8b2252;">'+%A, %B %d, %Y %H:%M:%S (GMT+8)'</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21360;&#24230;&#26102;&#38388;&#36716;&#25442;&#20026;&#21271;&#20140;&#26102;&#38388;
</span> (<span style="color: #a0522d;">TZ</span>=Asia/Shanghai date --date=<span style="color: #8b2252;">"TZ=\"Asia/Kolkata\" 2023-05-23 02:42:04"</span> +<span style="color: #8b2252;">"%Y-%m-%d %H:%M:%S %Z"</span>)

<span style="color: #b22222;"># </span><span style="color: #b22222;">(TZ=Asia/Shanghai date --date="TZ=\"Asia/Kolkata\" 2023-05-23 02:42:04" +"%Y-%m-%d %H:%M:%S %Z")
</span>2023-05-23 05:12:04 CST
<span style="color: #b22222;"># </span><span style="color: #b22222;">(TZ=UTC date --date="TZ=\"Asia/Shanghai\" 2023-05-23 06:30:00" +"%Y-%m-%d %H:%M:%S %Z")
</span>2023-05-22 22:30:00 UTC
</pre>
</div>


<p>
关于时间格式的解释
</p>
<ul class="org-ul">
<li>UTC  (Universal Time Coordinated,UTC)世界协调时间</li>
<li>CST  (China Standard Time UTC+8:00)中国沿海时间(北京时间)</li>
<li>GMT  (Greenwich Mean Time)格林威治标准时间：</li>
</ul>


<div class="org-src-container">
<pre class="src src-sh">[root@365linux ~]# vim /etc/sysconfig/clock <span style="color: #a0522d;">ZONE</span>=<span style="color: #8b2252;">"Asia/Shanghai"</span>
<span style="color: #a0522d;">UTC</span>=true
<span style="color: #a0522d;">ARC</span>=false
[root@365linux ~]# cp /usr/share/zoneinfo/Asia/Shanghai  /etc/localtime
</pre>
</div>

<p>
oracle 中将unix/linux时间戳进行转换
</p>

<p>
unix/linux时间戳是按照从格林威治时间1970年1月1日期计算的一个秒数。
</p>

<p>
unix/linux时间戳转换为标准时间格式（主要是注意时区问题）：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">select</span> TO_DATE(<span style="color: #8b2252;">'19700101'</span>,<span style="color: #8b2252;">'yyyymmdd'</span>) + 1235728935/86400 +TO_NUMBER(SUBSTR(TZ_OFFSET(sessiontimezone),1,3))/24 from dual
</pre>
</div>

<p>
其中1235728935就是unix/linux时间戳，转换完之后就表示为 2009-2-27
18:02:15。反过来也一样，还是要考虑时区:
</p>

<div class="org-src-container">
<pre class="src src-sql"><span style="color: #a020f0;">select</span> (to_date(<span style="color: #8b2252;">'2009-2-27 18:02:15'</span>,<span style="color: #8b2252;">'yyyy-mm-dd hh24:mi:ss'</span>) - to_date(<span style="color: #8b2252;">'1970-1-1'</span>,<span style="color: #8b2252;">'yyyy-mm-dd'</span>))*86400- TO_NUMBER(SUBSTR(TZ_OFFSET(sessiontimezone),1,3))*3600 <span style="color: #a020f0;">from</span> dual
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6aa156ff-b296-4811-b731-9dfbd5b0b0da" class="outline-5">
<h5 id="h:6aa156ff-b296-4811-b731-9dfbd5b0b0da">硬件时钟 clock、hwclock</h5>
<div class="outline-text-5" id="text-h:6aa156ff-b296-4811-b731-9dfbd5b0b0da">
<p>
显示或设定硬件时钟
</p>

<div class="org-src-container">
<pre class="src src-sh">clock [<span style="color: #a020f0;">function</span>] [option...]
hwclock [<span style="color: #a020f0;">function</span>] [option...]

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#36873;&#39033;
</span>-s,--hctosys    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20197;&#30828;&#20214;&#26102;&#38047;&#20026;&#20934;&#65292;&#25226;&#31995;&#32479;&#35843;&#25972;&#20026;&#19982;&#30828;&#20214;&#26102;&#38388;&#30456;&#21516;
</span>-w,--systohc   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20197;&#31995;&#32479;&#20026;&#20934;&#65292;&#25226;&#30828;&#20214;&#26102;&#38388;&#35843;&#25972;&#20026;&#19982;&#31995;&#32479;&#26102;&#38047;&#30456;&#21516;</span>
</pre>
</div>

<p>
显示硬件时钟：
</p>

<p>
使用hwclock命令显示硬件时间，这里跟时区相关，这里显示UTC时间
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# hwclock  
Thu 04 Jan 2018 11:38:40 PM CST  -0.364600 seconds

[root@centos8 ~]#ll /usr/sbin/clock
lrwxrwxrwx. 1 root root 7 Apr 24 2020 /usr/sbin/clock -&gt; hwclock
</pre>
</div>

<p>
设定硬件时钟:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;hwclock -s &#20197;&#30828;&#20214;&#20026;&#20934;
</span>[root@node01 ~]# hwclock
Thu 04 Jan 2018 11:38:40 PM CST  -0.364600 seconds

[root@node01 ~]# hwclock -w
[root@node01 ~]# date
Tue Dec  8 18:26:27 CST 2015

[root@node01 ~]# hwclock
Tue 08 Dec 2015 06:26:33 PM CST  -0.647028 seconds

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20316;&#29992;hwclock -w&#20197;&#31995;&#32479;&#26102;&#38388;&#20026;&#20934;
</span>~]# hwclock -w
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2e6179d0-1fe1-463a-848d-9364ebf984df" class="outline-5">
<h5 id="h:2e6179d0-1fe1-463a-848d-9364ebf984df">时区</h5>
<div class="outline-text-5" id="text-h:2e6179d0-1fe1-463a-848d-9364ebf984df">
<p>
/etc/localtime
</p>

<p>
范例
</p>

<div class="org-src-container">
<pre class="src src-sh">timedatectl <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#26085;&#26399;&#26102;&#38388;&#12289;&#26102;&#21306;&#21450;NTP&#29366;&#24577;&#65306;
</span>
[root@centos8 ~]#timedatectl  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31561;&#21516;&#20110;timedatectl status
</span>Local time: Mon 2020-07-27 17:20:56 CST
Universal time: Mon 2020-07-27 09:20:56 UTC
RTC time: Mon 2020-07-27 09:20:56
Time zone: Asia/Shanghai (CST, +0800)
System clock synchronized: yes
NTP service: active
RTC<span style="color: #a020f0;"> in</span> local TZ: no

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#25152;&#26377;&#26102;&#21306;
</span>[root@centos8 ~]#timedatectl list-timezones

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;&#26102;&#21306;
</span>timedatectl set-timezone Asia/Shanghai <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20462;&#25913;&#26102;&#21306;
</span>chronyc -a makestep  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#35774;&#32622;&#23436;&#26102;&#21306;&#21518;&#65292;&#24378;&#21046;&#21516;&#27493;&#19979;&#31995;&#32479;&#26102;&#38047;&#65306;
</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26816;&#26597;&#26102;&#21306;
</span>[root@centos8 ~]#ll /etc/localtime
lrwxrwxrwx. 1 root root 35 Dec 11 11:19 /etc/localtime -&gt;
../usr/share/zoneinfo/Asia/Shanghai

root@ubuntu1804:~# cat /etc/timezone
Asia/Shanghai
</pre>
</div>


<p>
关于时间格式的解释
</p>

<ul class="org-ul">
<li>UTC  (Universal Time Coordinated,UTC)世界协调时间</li>
<li>CST  (China Standard Time UTC+8:00)中国沿海时间(北京时间)</li>
<li>GMT  (Greenwich Mean Time)格林威治标准时间：</li>
</ul>

<p>
系统时区设置：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@365linux ~]# vim /etc/sysconfig/clock <span style="color: #a0522d;">ZONE</span>=<span style="color: #8b2252;">"Asia/Shanghai"</span>
<span style="color: #a0522d;">UTC</span>=true
<span style="color: #a0522d;">ARC</span>=false

ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime

<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'Asia/Kolkata'</span> &gt; /etc/timezone
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2ac7d4c9-80d2-4844-aa6d-ae0064640af3" class="outline-5">
<h5 id="h:2ac7d4c9-80d2-4844-aa6d-ae0064640af3">cal：日历</h5>
<div class="outline-text-5" id="text-h:2ac7d4c9-80d2-4844-aa6d-ae0064640af3">
<p>
cal [[month] year]
</p>

<p>
显示日历: cal -y
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# cal
    January 2018    
Su Mo Tu We Th Fr Sa
    1  2  3  4  5  6
7  8  9 10 11 12 13
14 15 16 17 18 19 20
21 22 23 24 25 26 27
28 29 30 31

<span style="color: #b22222;">#</span><span style="color: #b22222;">1752&#24180;9&#26376;&#65292;&#25353;&#21476;&#21382;&#27861;&#35745;&#31639;&#26102;&#38388;&#19982;&#20892;&#21382;&#33410;&#27450;&#23545;&#19981;&#19978;&#20102;&#65292;&#25152;&#20197;&#32599;&#39532;&#25945;&#30343;&#35843;&#20102;&#19968;&#19979;&#26102;&#38388;
</span>[16:47:36 root@centos8 ~]#cal 9 1752
 September 1752 
Su Mo Tu We Th Fr Sa
   1  2 14 15 16
17 18 19 20 21 22 23
24 25 26 27 28 29 30
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:1567eea7-d270-46d4-8d6d-dae5aebf72a1" class="outline-4">
<h4 id="h:1567eea7-d270-46d4-8d6d-dae5aebf72a1">关机和重启</h4>
<div class="outline-text-4" id="text-h:1567eea7-d270-46d4-8d6d-dae5aebf72a1">
<p>
关机：
</p>
<div class="org-src-container">
<pre class="src src-sh">halt
poweroff
init 0
shutdown -h now
</pre>
</div>

<p>
重启：
</p>
<div class="org-src-container">
<pre class="src src-sh">reboot
init 6
shutdown -r now

<span style="color: #b22222;">#</span><span style="color: #b22222;">ctrl+alt+delete &#38190;</span>
</pre>
</div>

<p>
reboot命令
</p>
<pre class="example" id="orga3cdc27">
-f: 强制，不调用shutdown
-p: 切断电源
</pre>

<p>
<b>shutdown：关机或重启</b>
</p>

<p>
shutdown程序会广播已登录的用户，被看作是案例的关机命令。是一个计划关机任务，可撤销
</p>

<div class="org-src-container">
<pre class="src src-sh">shutdown [OPTIONS...] [TIME] [WALL...]

OPTION:
-h&#65306;halt &#20851;&#26426;
-r&#65306;reboot &#37325;&#21551;
-c&#65306;cancel&#21462;&#28040;&#20851;&#26426;&#25110;&#37325;&#21551;
-k: &#19981;&#20851;&#26426;&#65292;&#36887;&#20320;&#29609; 

TIME&#65306;&#26080;&#25351;&#23450;&#65292;&#40664;&#35748;&#30456;&#24403;&#20110;+1&#65288;CentOS7&#65289;
  now: &#31435;&#21051;,&#30456;&#24403;&#20110;+0
  +#: &#30456;&#23545;&#26102;&#38388;&#34920;&#31034;&#27861;&#65292;&#20960;&#20998;&#38047;&#20043;&#21518;&#65307;&#20363;&#22914; +3
  hh:mm: &#32477;&#23545;&#26102;&#38388;&#34920;&#31034;&#65292;&#25351;&#26126;&#20855;&#20307;&#26102;&#38388;
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">shutdow                          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19968;&#20998;&#38047;&#21518;&#20851;&#26426;
</span>shutdown -h now            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29616;&#22312;&#20851;&#26426;
</span>shutdown +10                 <span style="color: #b22222;">#</span><span style="color: #b22222;">10&#20998;&#38047;&#21518;&#20851;&#26426;
</span>shutdown 01:02               <span style="color: #b22222;">#</span><span style="color: #b22222;">1&#28857;&#36807;2&#20998;&#20851;&#26426;
</span>shutdown -r|--reboot       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19968;&#20998;&#38047;&#21518;&#37325;&#21551;
</span>shutdown -r now              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29616;&#22312;&#37325;&#21551;
</span>shutdown -H|--halt          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19968;&#20998;&#38047;&#21518;&#35843;&#29992;halt&#20851;&#26426;
</span>shutdown -P|--poweroff   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19968;&#20998;&#38047;&#21518;&#35843;&#29992;poweroff&#20851;&#26426;
</span>shutdown -c                     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#28040;&#20851;&#26426;&#35745;&#21010;</span>
</pre>
</div>
</div>
<div id="outline-container-h:22f97adf-2324-4c5b-94f9-4c142ea39fb7" class="outline-5">
<h5 id="h:22f97adf-2324-4c5b-94f9-4c142ea39fb7">WALL：向每个终端发一个信息</h5>
<div class="outline-text-5" id="text-h:22f97adf-2324-4c5b-94f9-4c142ea39fb7">
<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# shutdown -r +10 <span style="color: #8b2252;">"hell,everyone"</span>
wall:send a message to everybody<span style="color: #8b2252;">'s terminal

~]# shutdown --show #&#26597;&#30475;&#20851;&#26426;&#35745;&#21010;

&#21462;&#28040;&#20851;&#26426;
~]# shutdown -c  #&#21462;&#28040;&#20063;&#20250;&#21457;&#32473;&#25152;&#26377;&#20154;

&#29992;wall&#21629;&#20196;&#65292;&#21521;&#27599;&#20010;&#32456;&#31471;&#21457;&#20449;&#24687;
~]# wall '</span>hello,world<span style="color: #8b2252;">'

# &#25351;&#23450;&#32456;&#31471;&#21457;&#36865;&#20449;&#24687;
echo  hello &gt;/dev/pts/1</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:b2fef1fe-124f-4a44-ab2b-853ef3ca20df" class="outline-4">
<h4 id="h:b2fef1fe-124f-4a44-ab2b-853ef3ca20df">用户登录信息who,w</h4>
<div class="outline-text-4" id="text-h:b2fef1fe-124f-4a44-ab2b-853ef3ca20df">
<ul class="org-ul">
<li>whoami: 显示当前登录有效用户</li>
<li>who: 系统当前所有的登录会话</li>
<li>w: 系统当前所有的登录会话及所做的操作</li>
</ul>

<p>
<b>whoami</b>
</p>
<div class="org-src-container">
<pre class="src src-sh">who am i   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24403;&#21069;&#29992;&#25143;&#21517;&#12289;&#32456;&#31471;&#12289;&#30331;&#24405;&#26102;&#38388;&#12289;&#26469;&#28304;ip
</span>
whoami  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24403;&#21069;&#29992;&#25143;&#21517;</span>
</pre>
</div>

<p>
<b>who</b>
</p>
<div class="org-src-container">
<pre class="src src-sh">who                        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#24403;&#21069;&#20027;&#26426;&#19978;&#25152;&#26377;&#30331;&#24405;&#29992;&#25143;
</span>who -u|--users        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#24403;&#21069;&#20027;&#26426;&#19978;&#25152;&#26377;&#29992;&#25143;&#30340;&#31354;&#38386;&#26102;&#38388;&#12290;. &#34920;&#31034;&#26368;&#36817;&#19968;&#20998;&#38047;&#36824;&#26159;&#27963;&#36291;&#29366;&#24577;&#65292;old &#34920;&#31034;&#29992;&#25143;&#24050;&#32463;&#31354;&#38386;&#36229;&#36807;24&#23567;&#26102;
</span>who -s|--short         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#24403;&#21069;&#20027;&#26426;&#19978;&#25152;&#26377;&#30331;&#24405;&#29992;&#25143;&#65292;&#31561;&#21516;&#20110;who
</span>who -q|--count       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30331;&#24405;&#29992;&#25143;&#32479;&#35745;
</span>who -b|--boot         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#27425;&#31995;&#32479;&#21551;&#21160;&#26102;&#38388;
</span>who -a|--all             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22810;&#36873;&#39033;&#32452;&#21512;
</span>who -m                   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31561;&#21516;&#20110; who am i
</span>
-d print dead processes  &#27515;&#20129;&#30340;&#36827;&#31243;
-r &#36816;&#34892;&#32423;&#21035;&#65292;&#30456;&#20284;&#21629;&#20196;runlevel
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">who /var/log/wtmp            <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#30331;&#38470;&#36807;&#30340;&#29992;&#25143;&#20449;&#24687;
</span>
<span style="color: #a0522d;">USER_IP</span>=<span style="color: #ff00ff;">`who -u am i 2&gt;/dev/null| awk '{print $NF}'|sed -e 's/[()]//g'`</span>
</pre>
</div>

<p>
<b>w命令</b>
</p>

<p>
w：增强版的who
</p>

<p>
Show who is logged on and what they are doing
</p>

<p>
该命令也可以查看登录当前系统的用户信息。与who命令相比，w命令的功能更强
大，它不但可以显示当前有哪些用户登录到系统，还可以显示这些用户正在进行
的操作，并给出更加详细和科学的统计数据。
</p>

<p>
w命令的格式如下： <code>w  [选项]  [用户名]</code>
</p>

<p>
如果w命令携带用户名，则只显示指定用户的信息，否则显示当前所有登录用户
的信息。其常用参数和含义如表所示。
</p>

<div class="org-src-container">
<pre class="src src-sh">-h: &#19981;&#26174;&#31034;&#21508;&#21015;&#30340;&#26631;&#39064;
-l: &#26174;&#31034;&#35814;&#32454;&#20449;&#24687;&#21015;&#34920;&#65292;&#27492;&#20026;&#39044;&#35774;&#20540;
-s: &#20351;&#29992;&#30701;&#21015;&#34920;&#65292;&#19981;&#26174;&#31034;&#29992;&#25143;&#30331;&#24405;&#26102;&#38388;&#12289;JCPU&#21644;PCPU&#26102;&#38388; 
-u: &#24573;&#30053;&#25191;&#34892;&#31243;&#24207;&#30340;&#21517;&#31216;&#65292;&#20197;&#21450;&#35813;&#31243;&#24207;&#30340;PCPU&#26102;&#38388;
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#36755;&#20837;w&#21629;&#20196;&#26597;&#30475;&#24050;&#30331;&#24405;&#29992;&#25143;&#20449;&#24687;
</span>[root@KW_S01_192.168.1.106_A ~]# w
 19:22:31 up  2:11,  3 users,  load average: 0.00, 0.00, 0.00
USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0    192.168.1.178    18:41    0.00s  0.16s  0.01s w
root     pts/1    192.168.1.178    19:22    4.00s  0.14s  0.05s ssh localhost

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#30331;&#24405;&#21517;&#12289;&#32456;&#31471;&#12289;&#26469;&#28304;IP&#12289;&#30331;&#24405;&#26102;&#38388;&#12289;&#31354;&#38386;&#26102;&#38388;(IDLE)&#12289;&#24403;&#21069;&#32456;&#31471;&#20013;&#25152;&#26377;&#36827;&#31243;&#20351;&#29992;cpu&#30340;&#26102;&#38388;&#65292;&#19981;&#21253;&#25324;&#21518;&#21488;&#20316;&#19994;&#21344;&#29992;&#30340;&#26102;&#38388;(JCPU)&#12289;&#24403;&#21069;&#36827;&#31243;&#20351;&#29992;&#30340;cpu&#26102;&#38388;(PCPU)
</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#29305;&#23450;&#29992;&#25143;
</span>w root
</pre>
</div>
</div>
<div id="outline-container-h:080ccc3f-1a65-4f27-8052-5c3b6bfb65ae" class="outline-5">
<h5 id="h:080ccc3f-1a65-4f27-8052-5c3b6bfb65ae">强制踢出用户</h5>
<div class="outline-text-5" id="text-h:080ccc3f-1a65-4f27-8052-5c3b6bfb65ae">
<ul class="org-ul">
<li>直接关闭终端，简单粗暴</li>
<li><code>pkill -u 用户名</code>
<ul class="org-ul">
<li><code>pgrep -u 用户名</code> 显示用户使用的进程，再使用 <code>pkill -u 用户名</code>
强制退出用户</li>
</ul></li>
<li><code>pkill -kill -t pts/3</code>
<ul class="org-ul">
<li>执行 <code>w</code> 看当前远程的终端，执行 <code>pkill -kill -t pts/3</code> 杀死pts/3的
ssh进程</li>
</ul></li>
<li><code>kill 进程号</code>
<ul class="org-ul">
<li><code>ps -efH</code> 显示 ssh 用户主进程，=kill PID= 杀死进程</li>
</ul></li>
<li>多次 <code>Ctrl+D</code>
<ul class="org-ul">
<li><code>Ctrl+D</code> 退出当前登录，方便快捷。同样的命令有
<ul class="org-ul">
<li><code>logout=，=exit</code></li>
</ul></li>
</ul></li>
</ul>

<p>
范例：Linux强制踢出用户命令：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#36755;&#20837;w&#21629;&#20196;&#26597;&#30475;&#24050;&#30331;&#24405;&#29992;&#25143;&#20449;&#24687;
</span>[root@KW_S01_192.168.1.106_A ~]# w
 19:22:31 up  2:11,  3 users,  load average: 0.00, 0.00, 0.00
USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0    192.168.1.178    18:41    0.00s  0.16s  0.01s w
root     pts/1    192.168.1.178    19:22    4.00s  0.14s  0.05s ssh localhost
root     pts/2    localhost.locald 19:22    4.00s  0.07s  0.07s -bash

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20351;&#29992;&#21629;&#20196;pkill -kill -t &#29992;&#25143;tty
</span>[root@KW_S01_192.168.1.106_A ~]# pkill -kill -t pts/2

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#39564;&#35777;&#25805;&#20316;&#26159;&#21542;&#25104;&#21151;
</span>[root@KW_S01_192.168.1.106_A ~]# w
 19:24:25 up  2:12,  2 users,  load average: 0.00, 0.00, 0.00
USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT
root     pts/0    192.168.1.178    18:41    0.00s  0.18s  0.02s w
root     pts/1    192.168.1.178    19:22    1:58   0.09s  0.09s -bash

&#30331;&#38470;&#29992;&#25143;&#20449;&#24687;&#35828;&#26126;&#65306;
USER&#65306;&#26174;&#31034;&#30331;&#38470;&#29992;&#25143;&#24080;&#21495;&#21517;&#12290;&#29992;&#25143;&#37325;&#22797;&#30331;&#38470;&#65292;&#35813;&#24080;&#21495;&#20063;&#20250;&#37325;&#22797;&#20986;&#29616;&#12290;
TTY&#65306;&#29992;&#25143;&#30331;&#38470;&#25152;&#29992;&#30340;&#32456;&#31471;&#12290;
FROM&#65306;&#26174;&#31034;&#29992;&#25143;&#22312;&#20309;&#22788;&#30331;&#38470;&#31995;&#32479;&#12290;
LOGIN@&#65306;&#26159;LOGIN AT&#30340;&#24847;&#24605;&#65292;&#34920;&#31034;&#30331;&#38470;&#36827;&#20837;&#31995;&#32479;&#30340;&#26102;&#38388;&#12290;
IDLE&#65306;&#29992;&#25143;&#31354;&#38386;&#26102;&#38388;&#65292;&#20174;&#29992;&#25143;&#19978;&#19968;&#27425;&#20219;&#21153;&#32467;&#26463;&#21518;&#65292;&#24320;&#20250;&#35760;&#26102;&#12290;
JCPU&#65306;&#19968;&#32456;&#31471;&#20195;&#21495;&#26469;&#21306;&#20998;&#65292;&#34920;&#31034;&#22312;&#25720;&#27573;&#26102;&#38388;&#20869;&#65292;&#25152;&#26377;&#19982;&#35813;&#32456;&#31471;&#30456;&#20851;&#30340;&#36827;&#31243;&#20219;&#21153;&#25152;&#32791;&#36153;&#30340;CPU&#26102;&#38388;&#12290;
PCPU&#65306;&#25351;WHAT&#22495;&#30340;&#20219;&#21153;&#25191;&#34892;&#21518;&#32791;&#36153;&#30340;CPU&#26102;&#38388;&#12290;
WHAT&#65306;&#34920;&#31034;&#24403;&#21069;&#25191;&#34892;&#30340;&#20219;&#21153;&#12290;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:005484d8-d7ff-4824-a408-2b825135c3d7" class="outline-4">
<h4 id="h:005484d8-d7ff-4824-a408-2b825135c3d7">文本编辑 nano</h4>
<div class="outline-text-4" id="text-h:005484d8-d7ff-4824-a408-2b825135c3d7">
<ul class="org-ul">
<li>nano 工具可以实现文本的编辑，上手容易，适合初学者</li>
<li>gedit 工具是图形工具</li>
</ul>

<p>
编辑器 nano 的使用
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# yum install nano
[root@node01 ~]# nano fstab
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#19981;&#31649;text.txt&#23384;&#19981;&#23384;&#22312;&#37117;&#27809;&#26377;&#20851;&#31995;&#65281;&#23384;&#22312;&#23601;&#24320;&#21551;&#26087;&#26723;&#65292;&#19981;&#23384;&#22312;&#23601;&#24320;&#21551;&#26032;&#26723;
</span>GNU nano 2.3.1                                             File: fstab    
abc

                                                                               [ New File ]
^G Get Help                 ^O WriteOut                 ^R Read File                ^Y Prev Page                ^K Cut Text                 ^C Cur Pos
^X Exit                     ^J Justify                  ^W Where Is                 ^V Next Page                ^U UnCut Text               ^T To Spell
</pre>
</div>

<pre class="example" id="org8416633">
^  :相当于Ctrl键
M :相当于Alt键

^G ：Ctrl+g打开帮助， ctrl+p/n 光标上下迁移
^s   :  ctrl+s保存文件
^x  :  ctrl+x 保存并退出
</pre>

<p>
其他
</p>
<pre class="example" id="org1475dee">
[ctrl]-G：取得联机帮助(help)，很有用的！
[ctrl]-X：离开naon软件，若有修改过文件会提示是否需要储存喔！
[ctrl]-O：储存文件，若你有权限的话就能够储存文件了；
[ctrl]-R：从其他文件读入数据，可以将某个文件的内容贴在本文件中；
[ctrl]-W：搜寻字符串，这个也是很有帮助的命令喔！
[ctrl]-C：说明目前光标所在处的行数与列数等信息；
[ctrl]-_：可以直接输入行号，让光标快速移动到该行；
[alt]-Y：校正语法功能开启或关闭(单击开、再单击关)
[alt]-M：可以支持鼠标来移动光标的功能
</pre>

<p>
如果你想要取得更完整的说明，可以在nano的画面中按下[ctrl]-G或者是[F1]按
键，就能够显示出完整的naon内命令说明了
</p>

<p>
如果你会使用emacs文本编辑器，有些快捷键操作是相同的。
</p>
</div>
</div>
<div id="outline-container-h:5829c477-0060-4978-8a43-9c52f8d52118" class="outline-4">
<h4 id="h:5829c477-0060-4978-8a43-9c52f8d52118">会话管理screen、tmux</h4>
<div class="outline-text-4" id="text-h:5829c477-0060-4978-8a43-9c52f8d52118">
<p>
命令行的典型使用方式是，打开一个终端窗口（terminal window，以下简称"窗
口"），在里面输入命令。用户与计算机的这种临时的交互，称为一次"会话
"（session）
</p>

<p>
会话的一个重要特点是，窗口与其中启动的进程是连在一起的。打开窗口，会话
开始；关闭窗口，会话结束，会话内部的进程也会随之终止，不管有没有运行完
</p>

<p>
一个典型的例子就是，SSH 登录远程计算机，打开一个远程窗口执行命令。这时，
网络突然断线，再次登录的时候，是找不回上一次执行的命令的。因为上一次
SSH 会话已经终止了，里面的进程也随之消失了。
</p>

<p>
为了解决这个问题，会话与窗口可以"解绑"：窗口关闭时，会话并不终止，而是
继续运行，等到以后需要的时候，再让会话"绑定"其他窗口
</p>

<p>
终端复用器软件就是会话与窗口的”解绑”工具，将它们彻底分离。
</p>

<ol class="org-ol">
<li>它允许在单个窗口中，同时访问多个会话。这对于同时运行多个命令行程序很有用。</li>
<li>它可以让新窗口”接入”已经存在的会话。</li>
<li>它允许每个会话有多个连接窗口，因此可以多人实时共享会话。</li>
<li>它还支持窗口任意的垂直和水平拆分。</li>
</ol>

<p>
类似的终端复用器还有Screen，Tmux
</p>
</div>
<div id="outline-container-h:2549baa4-578e-4ba4-be7c-61ab321468b1" class="outline-5">
<h5 id="h:2549baa4-578e-4ba4-be7c-61ab321468b1">screen</h5>
<div class="outline-text-5" id="text-h:2549baa4-578e-4ba4-be7c-61ab321468b1">
<p>
利用screen 可以实现会话管理,如：新建会话,共享会话等
</p>

<p>
注意：CentOS7来自于base源，CentOS8 来自于epel源
</p>


<p>
范例：安装 screen
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS7 &#23433;&#35013;screen
</span>[root@centos7 ~]#yum -y install screen
<span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS8 &#23433;&#35013;screen
</span>[root@centos8 ~]#dnf -y install epel-release
[root@centos8 ~]#dnf -y install screen
</pre>
</div>

<p>
screen命令常见用法：
</p>

<div class="org-src-container">
<pre class="src src-sh">&#21019;&#24314;&#26032;screen&#20250;&#35805;&#65306;screen &#8211;S [SESSION]
&#21152;&#20837;screen&#20250;&#35805;&#65306;screen &#8211;x [SESSION]
&#36864;&#20986;&#24182;&#20851;&#38381;screen&#20250;&#35805;&#65306;exit
&#21093;&#31163;&#24403;&#21069;screen&#20250;&#35805;&#65306;Ctrl+a,d
&#26174;&#31034;&#25152;&#26377;&#24050;&#32463;&#25171;&#24320;&#30340;screen&#20250;&#35805;&#65306;screen -ls
&#24674;&#22797;&#26576;screen&#20250;&#35805;&#65306;screen -r [SESSION]
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3dee8563-2079-463a-a834-1a696b55ac9d" class="outline-5">
<h5 id="h:3dee8563-2079-463a-a834-1a696b55ac9d">tmux</h5>
<div class="outline-text-5" id="text-h:3dee8563-2079-463a-a834-1a696b55ac9d">
<p>
<a href="linux-tools.html#h:3dee8563-2079-463a-a834-1a696b55ac9d">tmux</a>
</p>
</div>
</div>
</div>
<div id="outline-container-h:022687fc-1fba-469e-9a72-5706877e7329" class="outline-4">
<h4 id="h:022687fc-1fba-469e-9a72-5706877e7329">echo：回显</h4>
<div class="outline-text-4" id="text-h:022687fc-1fba-469e-9a72-5706877e7329">
</div>
<div id="outline-container-h:cd52953b-4825-4476-ae2b-0d0f3313ffbd" class="outline-5">
<h5 id="h:cd52953b-4825-4476-ae2b-0d0f3313ffbd">echo 基本用法：</h5>
<div class="outline-text-5" id="text-h:cd52953b-4825-4476-ae2b-0d0f3313ffbd">
<p>
echo 命令可以将后面跟的字符进行输出
</p>

<p>
功能：显示字符，echo会将输入的字符串送往标准输出。输出的字符串间以空白
字符隔开,并在最后加 上换行号
</p>

<p>
语法格式
</p>

<pre class="example" id="org6b07af3">
echo [SHORT-OPTION]... [STRING]...
</pre>

<p>
选项：
</p>

<div class="org-src-container">
<pre class="src src-sh">-E &#65288;&#40664;&#35748;&#65289;&#19981;&#25903;&#25345; <span style="color: #8b2252;">\ </span>&#35299;&#37322;&#21151;&#33021;. &#21363;&#19981;&#36716;&#20041;
-n &#19981;&#33258;&#21160;&#25442;&#34892;
-e &#21551;&#29992;\&#23383;&#31526;&#30340;&#35299;&#37322;&#21151;&#33021;
</pre>
</div>

<p>
范例：显示变量
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"$VAR_NAME&#8221;  #&#29992;&#21464;&#37327;&#20540;&#26367;&#25442;&#65292;&#24369;&#24341;&#29992;
echo '$VAR_NAME&#8217;  #&#21464;&#37327;&#19981;&#20250;&#26367;&#25442;&#65292;&#24378;&#24341;&#29992;</span>
</pre>
</div>

<p>
启用命令选项-e，若字符串中出现以下字符，则特别加以处理，而不会将它当成一般文字输出
</p>
<div class="org-src-container">
<pre class="src src-sh">\n&#65306;&#25442;&#34892;
\t&#65306;&#21046;&#34920;&#31526;
\b&#65306;&#36864;&#26684;
\e escape&#65292;&#30456;&#24403;&#20110;\033
\a &#38393;&#38083;
\c &#24378;&#21046;&#19981;&#25442;&#34892;
\e &#36864;&#20986;
\f &#28165;&#38500;&#23631;&#24149;
\n &#26032;&#34892; &#25442;&#34892;&#19988;&#20809;&#26631;&#31227;&#33267;&#34892;&#39318;
\r Carriage return. &#22238;&#36710;&#65292;&#21363;&#20809;&#26631;&#31227;&#33267;&#34892;&#39318;&#65292;&#20294;&#19981;&#25442;&#34892;
\v &#22402;&#30452;&#21046;&#34920;&#31526;
<span style="color: #8b2252;">\\</span> &#21453;&#26012;&#26464;
\0nnn &#25554;&#20837;nnn&#65288;&#20843;&#36827;&#21046;&#65289;&#25152;&#20195;&#34920;&#30340;ASCII&#23383;&#31526;
\xHH&#25554;&#20837;HH&#65288;&#21313;&#20845;&#36827;&#21046;&#65289;&#25152;&#20195;&#34920;&#30340;ASCII&#25968;&#23383;&#65288;man 7 ascii)
\u  &#25171;&#21360;unicode
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo -e <span style="color: #8b2252;">'a\x0Ab'</span>
a
b
[root@centos8 ~]#echo -e <span style="color: #8b2252;">'\x57\x41\x4E\x47'</span>
WANG
[root@centos8 ~]#echo <span style="color: #8b2252;">\$</span><span style="color: #a0522d;">PATH</span>
$<span style="color: #a0522d;">PATH</span>
[root@centos8 ~]#echo <span style="color: #8b2252;">\</span>
[root@centos8 ~]#echo <span style="color: #8b2252;">\\</span>
<span style="color: #8b2252;">\</span>
[root@centos8 ~]#echo <span style="color: #8b2252;">\\</span><span style="color: #8b2252;">\</span>

[root@centos8 ~]#echo <span style="color: #8b2252;">\\\\</span>
<span style="color: #8b2252;">\\</span>
[root@centos8 ~]#echo <span style="color: #8b2252;">"$PATH"</span>
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
[root@centos8 ~]#echo <span style="color: #8b2252;">'$PATH'</span>
$<span style="color: #a0522d;">PATH</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#22402;&#30452;&#26174;&#31034;
</span>[root@centos8 ~]# echo -e <span style="color: #8b2252;">'a\vb\vc'</span>
a
 b
  c

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#39068;&#33394;
</span>[root@centos8 ~]# echo -e <span style="color: #8b2252;">'\e[31mhello\e[0m'</span>
hello
[root@centos8 ~]# echo -e <span style="color: #8b2252;">'\E[31mhello\E[0m'</span>
hello

[root@centos8 ~]# man ascii
       Oct   Dec   Hex   Char                        Oct   Dec   Hex   Char
       &#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;
       033   27    1B    ESC (escape)                133   91    5B    [
[root@centos8 ~]# echo -e <span style="color: #8b2252;">'\033[31mhello\033[0m'</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">8&#36827;&#21046;&#34920;&#31034;&#27861;
</span>hello
[root@centos8 ~]# echo -e <span style="color: #8b2252;">'\x1B[31mhello\x1B[0m'</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">16&#36827;&#21046;&#34920;&#31034;&#27861;
</span>hello

[root@centos8 ~]# echo -e <span style="color: #8b2252;">'^[[31mhello^[[0m'</span>
hello
&#27880;&#24847;&#65306;Ctrl&#65291;v,&#28982;&#21518;&#25353;&#19968;&#19979;Esc&#38190;&#65292;&#22312;&#23631;&#24149;&#19978;&#26174;&#31034;^[&#34920;&#31034;&#24050;&#36755;&#20837;
</pre>
</div>

<p>
范例：打印汉字
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "\u6C49"
</span>&#27721;
<span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "\u9a6c"
</span>&#39532;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:bf5e8f8e-ba45-4b36-932c-a8785325934f" class="outline-5">
<h5 id="h:bf5e8f8e-ba45-4b36-932c-a8785325934f">echo 高级用法-ANSI转义序列：</h5>
<div class="outline-text-5" id="text-h:bf5e8f8e-ba45-4b36-932c-a8785325934f">
<p>
在终端中，ANSI定义了用于屏幕显示的Escape屏幕控制码。具有颜色的字符，其
格式如下:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"\033[&#23383;&#31526;&#32972;&#26223;&#39068;&#33394;;&#23383;&#20307;&#39068;&#33394;m&#23383;&#31526;&#20018;\033[0m"</span>
</pre>
</div>

<p>
\033[30m &#x2013; \033[37m 设置前景色 \033[40m &#x2013; \033[47m 设置背景色
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#21151;&#33021; \033[#m
</span>0    &#37325;&#26032;&#35774;&#32622;&#23646;&#24615;&#21040;&#32570;&#30465;&#35774;&#32622;   
1    &#35774;&#32622;&#31895;&#20307; 
2    &#35774;&#32622;&#19968;&#21322;&#20142;&#24230;&#65288;&#27169;&#25311;&#24425;&#33394;&#26174;&#31034;&#22120;&#30340;&#39068;&#33394;&#65289;   
4    &#35774;&#32622;&#19979;&#21010;&#32447;&#65288;&#27169;&#25311;&#24425;&#33394;&#26174;&#31034;&#22120;&#30340;&#39068;&#33394;&#65289;   
5    &#35774;&#32622;&#38378;&#28865;   
7    &#35774;&#32622;&#21453;&#21521;&#22270;&#35937;   
22  &#35774;&#32622;&#19968;&#33324;&#23494;&#24230;   
24  &#20851;&#38381;&#19979;&#21010;&#32447;   
25  &#20851;&#38381;&#38378;&#28865;   
27  &#20851;&#38381;&#21453;&#21521;&#22270;&#35937;   

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#39068;&#33394; \033[##m
</span><span style="color: #b22222;">##</span><span style="color: #b22222;">m&#65306;
</span> &#24038;&#20391;#&#65306;
  3&#34920;&#31034;&#21069;&#26223;&#33394;
  4&#34920;&#31034;&#32972;&#26223;&#33394;
 &#21491;&#20391;#: &#39068;&#33394;&#31181;&#31867;
  0 &#40657;,
  1 &#32418;,
  2 &#32511;,
  3 &#40644;,
  4 &#34013;,
  5 &#32043;,
  6 &#22825;&#34013;,
  7 &#30333; 
</pre>
</div>

<p>
加颜色只是以下控制码中的一种，下面是常见的一些ANSI控制码：
</p>

<div class="org-src-container">
<pre class="src src-sh">\033[0m      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20851;&#38381;&#25152;&#26377;&#23646;&#24615; 
</span>\033[1m      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#39640;&#20142;&#24230; 
</span>\033[4m      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19979;&#21010;&#32447; 
</span>\033[5m      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#38378;&#28865; 
</span>\033[7m      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21453;&#26174; 
</span>\033[8m      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28040;&#38544; 
</span>\033[nA      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20809;&#26631;&#19978;&#31227;n&#34892; 
</span>\033[nB      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20809;&#26631;&#19979;&#31227;n&#34892; 
</span>\033[nC      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20809;&#26631;&#21491;&#31227;n&#34892; 
</span>\033[nD      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20809;&#26631;&#24038;&#31227;n&#34892; 
</span>\033[x;yH    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#20809;&#26631;&#20301;&#32622;x&#34892;y&#21015; 
</span>\033[2J       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#23631; 
</span>\033[K        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#38500;&#20174;&#20809;&#26631;&#21040;&#34892;&#23614;&#30340;&#20869;&#23481; 
</span>\033[s         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20445;&#23384;&#20809;&#26631;&#20301;&#32622; 
</span>\033[u        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24674;&#22797;&#20809;&#26631;&#20301;&#32622; 
</span>\033[?25l    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#38544;&#34255;&#20809;&#26631; 
</span>\033[?25h   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#20809;&#26631;
</span>\033[2J\033[0;0H <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#23631;&#19988;&#23558;&#20809;&#26631;&#32622;&#39030;
</span>
&#20854;&#20182;&#26377;&#36259;&#30340;&#20195;&#30721;&#36824;&#26377;&#65306;
\033[2J   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#38500;&#23631;&#24149;
</span>\033[0q   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20851;&#38381;&#25152;&#26377;&#30340;&#38190;&#30424;&#25351;&#31034;&#28783;
</span>\033[1q   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#8220;&#28378;&#21160;&#38145;&#23450;&#8221;&#25351;&#31034;&#28783; (Scroll Lock)
</span>\033[2q   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#8220;&#25968;&#20540;&#38145;&#23450;&#8221;&#25351;&#31034;&#28783; (Num Lock)
</span>\033[3q   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#8220;&#22823;&#20889;&#38145;&#23450;&#8221;&#25351;&#31034;&#28783; (Caps Lock)
</span>\033[15:40H <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;&#20809;&#26631;&#31227;&#21160;&#21040;&#31532;15&#34892;&#65292;40&#21015;
</span>\007            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21457;&#34562;&#40483;&#29983;beep</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:ab915742-d6ef-4cd4-be9d-06ba21485a78" class="outline-3">
<h3 id="h:ab915742-d6ef-4cd4-be9d-06ba21485a78">字符集和编码</h3>
<div class="outline-text-3" id="text-h:ab915742-d6ef-4cd4-be9d-06ba21485a78">
<p>
许多场合下，字符集与编码这两个概念常被混为一谈，但两者是有差别的。字符
集与字符集编码是两个
</p>

<p>
不同层面的概念
</p>

<p>
charset是character set的简写，即字符集，即二进制和字符的对应关系，不关
注最终的存储形式
</p>

<p>
encoding是charset encoding的简写，即字符集编码，简称编码，实现如何将字
符转化为实际的二进制进行存储或相反，编码决定了空间的使用的大小
</p>


<figure id="org877bf19">
<img src="./images/image-20210215173103294.png" alt="image-20210215173103294.png">

</figure>
</div>
<div id="outline-container-h:996a7031-611d-4112-aef5-78429b7c95c0" class="outline-4">
<h4 id="h:996a7031-611d-4112-aef5-78429b7c95c0">ASCII码</h4>
<div class="outline-text-4" id="text-h:996a7031-611d-4112-aef5-78429b7c95c0">
<p>
计算机内部，所有信息最终都是一个二进制值。上个世纪60年代，美国制定了一
套字符编码，对英语字符与二进制位之间的关系，做了统一规定，即
ASCII（American Standard Codefor InformationInterchange） 码
</p>


<p>
ASCII码一共规定了128个字符的编码，占用了一个字节的后面7位，最前面的一位统一规定为0
</p>

<p>
ASCII码对照表: <a href="https://toolhelper.cn/Encoding/ASCII">https://toolhelper.cn/Encoding/ASCII</a>
</p>
<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/ASCII">https://en.wikipedia.org/wiki/ASCII</a></li>
</ul>


<!-- This HTML table template is generated by emacs 30.2 -->
<table border="1">
  <tr>
    <td colspan="17" align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ASCII&nbsp;(1977/1986)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;1&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;2&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;5&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;6&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;7&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;8&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;9&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;A&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;B&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;C&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;D&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;E&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;F&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;0x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;NUL&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;SOH&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;STX&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;ETX&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;EOT&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;ENQ&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;ACK&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;BEL&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;BS&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;HT&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;LF&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;VT&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;FF&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;CR&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;SO&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;SI&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;1x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;DLE&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;DC1&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;DC2&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;DC3&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;DC4&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;NAK&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;SYN&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;ETB&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;CAN&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;EM&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;SUB&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;ESC&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;FS&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;GS&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;RS&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;US&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;2x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;SP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;!&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;"&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;#&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;%&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;'&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;(&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;)&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;*&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;+&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;,&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;-&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;.&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;/&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;3x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;1&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;2&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;5&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;6&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;7&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;8&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;9&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;:&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;<&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;=&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;>&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;?&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;4x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;A&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;B&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;D&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;E&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;F&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;G&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;H&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;I&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;J&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;K&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;L&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;M&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;N&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;O&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;5x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;Q&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;R&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;T&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;U&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;V&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;W&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;X&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;Y&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;Z&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;[&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;\&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;]&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;^&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;_&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;6x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;a&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;b&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;e&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;f&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;g&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;h&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;i&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;j&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;k&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;l&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;m&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;n&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;o&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      &nbsp;&nbsp;7x&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;q&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;r&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;u&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;v&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;w&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;x&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;y&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;z&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;{&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;|&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;}&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;&nbsp;~&nbsp;&nbsp;
    </td>
    <td align="left" valign="top">
      &nbsp;DEL&nbsp;
    </td>
  </tr>
  <tr>
    <td colspan="17" align="left" valign="top">
      Changed&nbsp;or&nbsp;added&nbsp;in&nbsp;1963&nbsp;version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
  <tr>
    <td colspan="17" align="left" valign="top">
      Changed&nbsp;in&nbsp;both&nbsp;1963&nbsp;version&nbsp;and&nbsp;1965&nbsp;draft&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </td>
  </tr>
</table>



<figure id="org85e45ab">
<img src="./images/image-20210215173324472.png" alt="image-20210215173324472.png" width="50%">

</figure>

<p>
范例：查看 ascii 表
</p>

<div class="org-src-container">
<pre class="src src-sh">vim &#20013;&#25353;ga

man ascii <span style="color: #b22222;">#</span><span style="color: #b22222;">man-pages&#21253;
</span>   &#34920;&#26684;
       &#20026;&#26041;&#20415;&#36215;&#35265;&#65292;&#25105;&#20204;&#32473;&#20986;&#20102;&#26356;&#32039;&#20945;&#30340;&#21313;&#20845;&#36827;&#21046;&#21644;&#21313;&#36827;&#21046;&#34920;&#26684;&#12290;

          2 3 4 5 6 7       30 40 50 60 70 80 90 100 110 120
        -------------      ---------------------------------
       0:   0 @ P <span style="color: #ff00ff;">` p     0:    (  2  &lt;  F  P  Z  d   n   x
       1: ! 1 A Q a q     1:    )  3  =  G  Q  [  e   o   y
       2: " 2 B R b r     2:    *  4  &gt;  H  R  \  f   p   z
       3: # 3 C S c s     3: !  +  5  ?  I  S  ]  g   q   {
       4: $ 4 D T d t     4: "  ,  6  @  J  T  ^  h   r   |
       5: % 5 E U e u     5: #  -  7  A  K  U  _  i   s   }
       6: &amp; 6 F V f v     6: $  .  8  B  L  V  `</span>  j   t   ~
       7: &#180; 7 G W g w     7: %  /  9  C  M  W  a  k   u  DEL
       8: ( 8 H X h x     8: &amp;  0  :  D  N  X  b  l   v
       9: ) 9 I Y i y     9: &#180;  1  ;  E  O  Y  c  m   w
       A: * : J Z j z
       B: + ; K [ k {
       C: , &lt; L <span style="color: #8b2252;">\ </span>l |
       D: - = M ] m }
       E: . &gt; N ^ n ~
       F: / ? O _ o DEL
</pre>
</div>


<figure id="orgfedc049">
<img src="./images/ascii.png" alt="ascii.png" width="50%">

<figcaption><span class="figure-number">Figure 2: </span>ascii</figcaption>
</figure>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]# echo 0 &gt;a.lg
[root@centos8 ~]# hexdump -C a.lg   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;16&#36827;&#21046;
</span>00000000  30 0a                                             |0.|
00000002


</pre>
</div>

<p>
范例16进制字符转换
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#23558;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026; 16 &#36827;&#21046;&#26684;&#24335;&#65306;
</span><span style="color: #483d8b;">echo</span> -n <span style="color: #8b2252;">"string"</span> | xxd -p

<span style="color: #b22222;"># </span><span style="color: #b22222;">echo -n "~" | xxd -p
</span>7e


<span style="color: #b22222;"># </span><span style="color: #b22222;">&#23558; 16 &#36827;&#21046;&#26684;&#24335;&#30340;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;&#23383;&#31526;&#20018;&#65306;
</span><span style="color: #483d8b;">echo</span> -n <span style="color: #8b2252;">"48656c6c6f20576f726c64"</span> | xxd -r -p

mysql&gt; select 0x7e;
+------+
| 0x7e |
+------+
| ~    |
+------+
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b49efbad-42ad-4e3a-93c9-30e855963739" class="outline-4">
<h4 id="h:b49efbad-42ad-4e3a-93c9-30e855963739">Unicode</h4>
<div class="outline-text-4" id="text-h:b49efbad-42ad-4e3a-93c9-30e855963739">
<p>
由于计算机是美国人发明的，因此，最早只有127个字母被编码到计算机里，即
ASCII编码，但是要处理中文显然一个字节是不够的，至少需要两个字节，而且
还不能和ASCII编码冲突，所以，中国制定了GB2312编码，用来把中文编进去。
</p>

<p>
全世界有上百种语言，日本把日文编到Shift_JIS里，韩国把韩文编到Euc-kr里，
各国有各国的标准，就会不可避免地出现冲突，结果就是，在多语言混合的文本
中，显示出来会有乱码
</p>

<p>
为了表示世界上所有语言中的所有字符。每一个符号都给予一个独一无二的编码
数字，Unicode 是一个很大的集合，现在的规模可以容纳100多万个符号。
Unicode 仅仅只是一个字符集，规定了每个字符对应的二进制代码，至于这个二
进制代码如何存储则没有规定
</p>


<p>
<b>Unicode编码方案：</b>
</p>

<ul class="org-ul">
<li>UTF-8：变长，1到4个字节</li>
<li>UTF-16：变长，2或4个字节</li>
<li>UTF-32：固定长度，4个字节</li>
</ul>


<figure id="org376ccea">
<img src="./images/image-20210215173513344.png" alt="image-20210215173513344.png" width="50%">

</figure>

<p>
UTF-8 是目前互联网上使用最广泛的一种 Unicode 编码方式，可变长存储。使
用 1 - 4 个字节表示一个字符，根据字符的不同变换长度。编码规则如下：
</p>

<p>
对于单个字节的字符，第一位设为 0，后面的 7 位对应这个字符的 Unicode 码。
因此，对于英文中的 0 - 127 号字符，与 ASCII 码完全相同。这意味着 ASCII
码的文档可用 UTF-8 编码打开
</p>

<p>
对于需要使用 N 个字节来表示的字符（N &gt; 1），第一个字节的前 N 位都设为
1，第 N + 1 位设为0，剩余的 N - 1 个字节的前两位都设位 10，剩下的二进
制位则使用这个字符的 Unicode 码来填充
</p>


<p>
<b>编码转换和查询：</b>
编码转换和查询参考链接：
<a href="https://home.unicode.org/">https://home.unicode.org/</a>
<a href="https://unicode.yunser.com/unicode">https://unicode.yunser.com/unicode</a>
<a href="http://www.chi2ko.com/tool/CJK.htm">http://www.chi2ko.com/tool/CJK.htm</a> 每一个汉字对应的unicode值
<a href="https://www.bejson.com/convert/unicode_chinese/">https://www.bejson.com/convert/unicode_chinese/</a>
<a href="https://javawind.net/tools/native2ascii.jsp?action=transform">https://javawind.net/tools/native2ascii.jsp?action=transform</a>
<a href="http://tool.oschina.net/encode">http://tool.oschina.net/encode</a>
<a href="http://web.chacuo.net/charsetescape">http://web.chacuo.net/charsetescape</a>
</p>


<p>
<b>Unicode和UTF-8</b>
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Unicode符号范围(十六进制)</th>
<th scope="col" class="org-left">UTF-8编码方式二进制）</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">0000 0000-0000 007F</td>
<td class="org-left">0xxxxxxx</td>
</tr>

<tr>
<td class="org-left">0000 0080-0000 07FF</td>
<td class="org-left">110xxxxx 10xxxxxx</td>
</tr>

<tr>
<td class="org-left">0000 0800-0000 FFFF</td>
<td class="org-left">1110xxxx 10xxxxxx 10xxxxxx</td>
</tr>

<tr>
<td class="org-left">0001 0000-0010 FFFF</td>
<td class="org-left">11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>
</tbody>
</table>


<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">&#8220;&#27721;&#8221;&#30340; Unicode &#30721; 0x6C49&#65288;110 110001 001001&#65289;&#65292;&#38656;&#35201;&#19977;&#20010;&#23383;&#33410;&#23384;&#20648;&#65292;&#26684;&#24335;&#20026;&#65306; 1110xxxx 10xxxxxx 10xxxxxx&#65292;&#20174;&#21518;&#21521;&#21069;&#20381;&#27425;&#22635;&#20805;&#23545;&#24212;&#26684;&#24335;&#20013;&#30340; x&#65292;&#22810;&#20986;&#30340; x &#29992; 0 &#34917;&#65292;&#24471;&#20986;UTF-8 &#32534;&#30721;&#20026;11100110 10110001 10001001

&#8220;&#39532;&#8221;&#30340; Unicode &#30721; 0x9A6C&#65288;1001 101001 101100&#65289;&#65292;&#38656;&#35201;&#19977;&#20010;&#23383;&#33410;&#23384;&#20648;&#65292;&#26684;&#24335;&#20026;&#65306; 1110xxxx 10xxxxxx 10xxxxxx&#65292;&#20174;&#21518;&#21521;&#21069;&#20381;&#27425;&#22635;&#20805;&#23545;&#24212;&#26684;&#24335;&#20013;&#30340; x&#65292;&#22810;&#20986;&#30340; x &#29992; 0 &#34917;&#65292;&#24471;&#20986;UTF-8 &#32534;&#30721;&#20026;11101001 10101001 10101100
</pre>
</div>

<p>
范例：打印汉字
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "\u6C49"
</span>&#27721;
<span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "\u9a6c"
</span>&#39532;
</pre>
</div>
</div>
<div id="outline-container-h:e65ec0d3-1fa1-4b86-a22c-f27a2860503a" class="outline-5">
<h5 id="h:e65ec0d3-1fa1-4b86-a22c-f27a2860503a">语言环境</h5>
<div class="outline-text-5" id="text-h:e65ec0d3-1fa1-4b86-a22c-f27a2860503a">
<p>
默认系统为英文环境，可修改为中文环境，从而查看帮助或提示可以变为中文。
</p>


<p>
范例：修改LANG变量实现中文语言提示(不推荐修改)
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#24403;&#21069;&#31995;&#32479;&#35821;&#35328;
</span>locale

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;&#35821;&#35328;&#21253;
</span>apt install language-pack-zh-hans -y

[root@centos7 ~]# localectl status
   System Locale: <span style="color: #a0522d;">LANG</span>=en_US.UTF-8
       VC Keymap: us
      X11 Layout: n/

localectl list-locales  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;&#25152;&#26377;&#35821;&#35328;&#21253;
</span>
[root@centos7 ~]#echo $<span style="color: #a0522d;">LANG</span>
en_US.UTF-8
[root@centos7 ~]#<span style="color: #a0522d;">LANG</span>=zh_CN.UTF-8
[root@centos7 ~]#echo $<span style="color: #a0522d;">LANG</span>
zh_CN.UTF-8

<span style="color: #b22222;">#</span><span style="color: #b22222;">export LANG='en_US.UTF-8'
</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#27704;&#20037;&#20462;&#25913;
</span><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'LANG=en_US.UTF-8'</span> &gt; /etc/locale.conf
<span style="color: #483d8b;">source</span>   /etc/locale.conf
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20063;&#21487;&#20197;&#20351;&#29992;&#21629;&#20196;&#20462;&#25913;locale.conf&#37197;&#32622;&#25991;&#20214;&#65306;
</span><span style="color: #b22222;">#</span><span style="color: #b22222;">localectl set-locale LANG=en_US.UTF-8
</span>localectl set-locale <span style="color: #a0522d;">LANG</span>=zh_CN.utf8 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#35821;&#35328;&#29615;&#22659;
</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#39564;&#35777;
</span>date
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:71e5489d-31c2-4a5d-a2b3-eb7590de4fec" class="outline-3">
<h3 id="h:71e5489d-31c2-4a5d-a2b3-eb7590de4fec">ANSI转义序列</h3>
<div class="outline-text-3" id="text-h:71e5489d-31c2-4a5d-a2b3-eb7590de4fec">
<p>
ANSI转义序列使用了ECMA-48标准，是一种 带内信号 (In-band Signaling) 的
转义序列 (escape sequence) 标准，用于控制视频文本终端上的光标位置、颜
色和其他选项。
</p>

<p>
<b>历史</b>
</p>

<p>
ANSI转义序列 第一个标准是1976年 ECMA（European Computer Manufacturers
Association，欧洲计算机制造商协会）发布的 ECMA-48。
</p>

<p>
但是 “ANSI转义序列” 这个名称起源于 1979 年 ANSI（American National
Standards Institute，美国国家标准学会） 发布的 ANSI X3.64，这个标准几
乎与 ECMA-48 相同
</p>

<p>
即使 1994年，ANSI 取消了其标准，以支持国际标准， “ANSI转义序列” 这个
名称依然保留下来。
</p>

<p>
ECMA-48已经经历了多次更新换代，目前是从1991年开始的第5版。它也被ISO和
IEC用作标准ISO/IEC 6429。
</p>

<p>
ANSI 序列是在二十世纪七十年代引入的标准，用以取代特定于终端供应商的序
列，并在二十世纪八十年代早期开始在计算机设备市场上广泛使用。
</p>


<figure id="orgb814c02">
<img src="./images/Snipaste_2023-05-19_15-27-08.png" alt="Snipaste_2023-05-19_15-27-08.png" width="50%">

</figure>

<p>
(vt100 是第一台支持ANSI转义序列的终端)
</p>

<p>
在 21 世纪，尽管硬件文本终端已经越来越少了，但 ANSI 标准依然存在，因为
大多数终端模拟器会对部分 ANSI 转义序列进行解释。一个值得注意的例外是，
在微软 Windows 10 更新 TH2 之前，Windows 操作系统的 Win32 控制台是不支
持 ANSI 转义序列的。
</p>


<p>
<b>参考链接</b>
</p>

<p>
<a href="https://zh.wikipedia.org/wiki/ANSI%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97">https://zh.wikipedia.org/wiki/ANSI%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97</a>
</p>

<p>
<a href="https://manpages.ubuntu.com/manpages/kinetic/zh_CN/man4/console_codes.4.html">https://manpages.ubuntu.com/manpages/kinetic/zh_CN/man4/console_codes.4.html</a>
</p>

<p>
<a href="https://www.ecma-international.org/publications-and-standards/standards/ecma-48/">https://www.ecma-international.org/publications-and-standards/standards/ecma-48/</a>
</p>

<p>
<a href="https://www.gnu.org/software/screen/manual/html_node/Control-Sequences.html">https://www.gnu.org/software/screen/manual/html_node/Control-Sequences.html</a>
</p>

<p>
博文：
<a href="https://blog.csdn.net/weixin_43919932/article/details/107497216">https://blog.csdn.net/weixin_43919932/article/details/107497216</a>
</p>

<p>
<a href="https://xuan-zhang.gitee.io/other/%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA.html#linux%E7%BB%88%E7%AB%AF%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA">https://xuan-zhang.gitee.io/other/%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA.html#linux%E7%BB%88%E7%AB%AF%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA</a>
</p>

<p>
在文本中嵌入 ANSI 转义序列 , 终端会把这些 ANSI 转义序列 解释为相应的指
令，而不是普通的字符.
</p>

<p>
例如运行这个例子，将会输出 RGB 颜色为 R:215,G:84,B:85 (大体是 粉红色)
的 Hello World 在终端中 Hello World
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos ~]# printf <span style="color: #8b2252;">"\x1b[38;2;215;84;85m Hello World"</span>
 Hello World[root@centos ~]#
</pre>
</div>
</div>
<div id="outline-container-h:aada8ee1-9f9a-49a6-9b3a-b46eea3dec83" class="outline-4">
<h4 id="h:aada8ee1-9f9a-49a6-9b3a-b46eea3dec83">ANSI 和 ASCII 关系</h4>
<div class="outline-text-4" id="text-h:aada8ee1-9f9a-49a6-9b3a-b46eea3dec83">
<p>
ASNI 是为了解决 各家厂商都提出自家标准而造成市场十分混乱 的问题而提出
的 (大部分沿用到现代的标准似乎都是这个理由 XD).
</p>

<p>
标准制定了一种 所有终端共享的指令集，并要求采用 ASCII 的数字字符 传递
所有的信息.
</p>
</div>
</div>
<div id="outline-container-h:0a1c2a8a-8386-44d1-9610-c66ccae5b33f" class="outline-4">
<h4 id="h:0a1c2a8a-8386-44d1-9610-c66ccae5b33f">控制字符</h4>
<div class="outline-text-4" id="text-h:0a1c2a8a-8386-44d1-9610-c66ccae5b33f">
<p>
控制字符，即 ASCII 控制码。ASCII 码小于 32 的字符都是控制字符。在
ASCII 中常用的控制字符包括：
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-right">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">名称</td>
<td class="org-left">含义</td>
<td class="org-right">ASCII码</td>
<td class="org-left">键盘映射</td>
<td class="org-left">作用</td>
</tr>

<tr>
<td class="org-left">BEL</td>
<td class="org-left">bell</td>
<td class="org-right">0x07</td>
<td class="org-left">Ctrl+G</td>
<td class="org-left">铃声</td>
</tr>

<tr>
<td class="org-left">BS</td>
<td class="org-left">backspace</td>
<td class="org-right">0x08</td>
<td class="org-left">Ctrl+H</td>
<td class="org-left">后退一格</td>
</tr>

<tr>
<td class="org-left">HT</td>
<td class="org-left">horizontal tab</td>
<td class="org-right">0x09</td>
<td class="org-left">Ctrl+I</td>
<td class="org-left">跳至下一个制表位</td>
</tr>

<tr>
<td class="org-left">LF</td>
<td class="org-left">line feed</td>
<td class="org-right">0x0A</td>
<td class="org-left">Ctrl+J</td>
<td class="org-left">换行</td>
</tr>

<tr>
<td class="org-left">CR</td>
<td class="org-left">carriage return</td>
<td class="org-right">0x0D</td>
<td class="org-left">Ctrl+M</td>
<td class="org-left">回车</td>
</tr>

<tr>
<td class="org-left">ESC</td>
<td class="org-left">escape</td>
<td class="org-right">0x1B</td>
<td class="org-left">Ctrl+[</td>
<td class="org-left">开始一个转义序列</td>
</tr>
</tbody>
</table>

<p>
在键盘上如何映射控制字符：按下 Ctrl 键和某个字符键，将该字符键 ASCII
编码字节的7位中，左起的两位强制定为0，从而产生出32个 ASCII 控制码之一。
</p>

<p>
例如，按下 Ctrl 和字母 G（十进制编码为71，二进制为01000111），产生编码
7（振铃符，十进制编码7，或二进制00000111）。 键盘上有些单个键能产生控
制码。例如 Backspace 键通常产生编码8，Tab 是编码9，Enter 是编码13（有
些键盘上 Enter 可能是编码10）。
</p>
</div>
<div id="outline-container-h:3496df9f-cdb5-4e67-b395-3e4fe9f29001" class="outline-5">
<h5 id="h:3496df9f-cdb5-4e67-b395-3e4fe9f29001">开始一个新的转义序列</h5>
<div class="outline-text-5" id="text-h:3496df9f-cdb5-4e67-b395-3e4fe9f29001">
<p>
控制序列，即 ANSI 控制码。大多数终端模拟器（Unix，Linux，Windows）都支
持 ANSI 控制码。大多数 ANSI 控制码都多于两个字符，并且以 ESC 和 [ 开头，
这时将 ESC+[ （即 “\033[“）称为 CSI（Control Sequence Introducer）
</p>

<p>
查看 ascii 表
</p>

<div class="org-src-container">
<pre class="src src-sh">yum -y install man-pages
man ascii
       Oct   Dec   Hex   Char                       
       &#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;
       007   7     07    BEL <span style="color: #8b2252;">'\a'</span> (bell)
       010   8     08    BS  <span style="color: #8b2252;">'\b'</span> (backspace) 
       011   9     09    HT  <span style="color: #8b2252;">'\t'</span> (horizontal tab)
       012   10    0A    LF  <span style="color: #8b2252;">'\n'</span> (new line)   
       015   13    0D    CR  <span style="color: #8b2252;">'\r'</span> (carriage ret)
       033   27    1B    ESC (escape)
</pre>
</div>

<p>
<code>ESC[</code> 可以使用
</p>
<ul class="org-ul">
<li>8进进制： <code>\033[</code></li>
<li>16进制： <code>\x1b[</code></li>
<li>键盘映射： <code>^[[</code>
<ul class="org-ul">
<li><code>^[</code> 是先按 <code>ctrl-v</code> ，然后再按 <code>&lt;esc&gt;</code> 键（就是键盘左上角的键）产
生的。</li>
</ul></li>
<li><code>\e</code> ： bash <a href="https://manpages.ubuntu.com/manpages/bionic/zh_CN/man1/bash.1.html">https://manpages.ubuntu.com/manpages/bionic/zh_CN/man1/bash.1.html</a></li>
</ul>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@ip-10-204-68-236 ~]# echo -e  <span style="color: #8b2252;">"\033[38;2;215;84;85m Hello World\033[0m"</span>
 Hello World
[root@ip-10-204-68-236 ~]# echo -e  <span style="color: #8b2252;">"\x1b[38;2;215;84;85m Hello World\x1b[0m"</span>
 Hello World
[root@ip-10-204-68-236 ~]# echo -e  <span style="color: #8b2252;">"^[[38;2;215;84;85m Hello World^[[0m"</span>
 Hello World
[root@ip-10-204-68-236 ~]# echo -e <span style="color: #8b2252;">"\e[38;2;215;84;85m Hello World\e[0m"</span>
 Hello World
[root@ip-10-204-68-236 ~]# echo -e  <span style="color: #8b2252;">"\u001b[38;2;215;84;85m Hello World\u001b[0m"</span>
 Hello World
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:1796f09d-3643-4b3d-87b0-0ecc7b11503b" class="outline-4">
<h4 id="h:1796f09d-3643-4b3d-87b0-0ecc7b11503b">控制序列 - CSI (Control Sequence Introducer)</h4>
<div class="outline-text-4" id="text-h:1796f09d-3643-4b3d-87b0-0ecc7b11503b">
<p>
CSI 序列 由 <code>ESC [</code> 以及任意数量（包括无）的"参数字节" 和 <code>若干个中间
字节</code> 以及 一个 <code>最终字节</code> 组成.
</p>

<p>
CSI序列在ESC [之后各个组成部分的字符范围:
</p>

<div class="org-src-container">
<pre class="src src-sh">&#32452;&#25104;&#37096;&#20998;    &#23383;&#31526;&#33539;&#22260;    ASCII
&#21442;&#25968;&#23383;&#33410;    0x30&#8211;0x3F       0&#8211;9:;&lt;=&gt;?
&#20013;&#38388;&#23383;&#33410;    0x20&#8211;0x2F       &#31354;&#26684;&#12289;!<span style="color: #8b2252;">"#$%&amp;'()*+,-./
&#26368;&#32456;&#23383;&#33410;    0x40&#8211;0x7E       @A&#8211;Z[\]^_`a&#8211;z{|}~</span>
</pre>
</div>

<p>
说明：
</p>

<ul class="org-ul">
<li>所有常见的序列都只是把参数用作一系列分号分隔的数字，如 <code>1;2;3</code> 。缺省的数</li>
</ul>
<p>
字视为0（如 <code>1;;3</code> 相当于中间的数字是0， <code>ESC[m</code> 这样没有参数的情况相
当于参数为0）。某些序列（如CUU）把0视为1，以使缺少参数的情况下有意义
</p>

<ul class="org-ul">
<li>一部分字符定义是“私有”的，以便终端制造商可以插入他们自己的序列而不与</li>
</ul>
<p>
标准相冲突。包括参数字节 <code>&lt;=&gt;?</code> 的使用，或者最终字节
0x70–0x7F（ <code>p–z{|}~</code> ）例如VT320序列 <code>CSI?25h</code> 和 <code>CSI?25l</code> 的作用是
打开和关闭光标的显示
</p>

<p>
CSI 序列的基本结构是：
</p>

<div class="org-src-container">
<pre class="src src-sh">CSI n1 ; n2... letter
</pre>
</div>

<p>
最后一个字符 letter 决定 CSI 序列的动作， <code>n1 ; n2..</code> 等参数是可选的，
省略时将采用缺省值，一般是0或1。可以用一个问号代替参数序列。
</p>


<p>
<b>部分 CSI 序列：</b>
</p>

<ul class="org-ul">
<li><p>
CSI n A： CUU – 光标上移（Cursor Up）
</p>

<p>
光标向指定的方向移动 n（默认 1）格。如果光标已在屏幕边缘，则无效。
</p></li>

<li><p>
CSI n B： CUD – 光标下移（Cursor Down）
</p>

<p>
光标向指定的方向移动 n（默认 1）格。如果光标已在屏幕边缘，则无效。
</p></li>

<li><p>
CSI n C： CUF – 光标前移（Cursor Forward）
</p>

<p>
光标向指定的方向移动 n（默认 1）格。如果光标已在屏幕边缘，则无效。
</p></li>

<li><p>
CSI n D： CUB – 光标后移（Cursor Back）
</p>

<p>
光标向指定的方向移动 n（默认 1）格。如果光标已在屏幕边缘，则无效。
</p></li>

<li><p>
CSI n E： CNL – 光标移到下一行（Cursor Next Line）
</p>

<p>
光标移动到下面第 n（默认 1）行的开头。
</p></li>

<li><p>
CSI n F： CPL – 光标移到上一行（Cursor Previous Line）
</p>

<p>
光标移动到上面第 n（默认 1）行的开头。
</p></li>

<li><p>
CSI n G： CHA – 光标水平绝对（Cursor Horizontal Absolute）
</p>

<p>
光标移动到第 n（默认 1）列。
</p></li>

<li><p>
CSI n ; m H： CUP – 光标位置（Cursor Position）
</p>

<p>
光标移动到第 n 行、第 m 列。值从 1 开始，且默认为 1（左上角）。例如
<code>CSI ;5H</code> 和 <code>CSI 1;5H</code> 含义相同； <code>CSI 17;H</code> 、 <code>CSI 17H</code> 和 <code>CSI
  17;1H</code> 三者含义相同。
</p></li>

<li><p>
CSI n J： ED – 擦除显示（Erase in Display）
</p>

<p>
清除屏幕的部分区域。如果 n 是 0（或缺失），则清除从光标位置到屏幕末
尾的部分。如果 n 是 1，则清除从光标位置到屏幕开头的部分。如果 n 是 2，
则清除整个屏幕（在 DOS ANSI.SYS 中，光标还会向左上方移动）。如果 n
是 3，则清除整个屏幕，并删除回滚缓存区中的所有行（这个特性是 <code>xterm</code>
添加的，其他终端应用程序也支持）。
</p></li>

<li><p>
CSI n K： EL – 擦除行（Erase in Line）
</p>

<p>
清除行内的部分区域。如果 n 是 0（或缺失），清除从光标位置到该行末尾
的部分。如果 n 是 1，清除从光标位置到该行开头的部分。如果 n 是 2，清
除整行。光标位置不变。
</p></li>

<li><p>
CSI n S： SU – 向上滚动（Scroll Up）
</p>

<p>
整页向上滚动 n（默认 1）行。新行添加到底部。（非 ANSI.SYS）
</p></li>

<li><p>
CSI n T： SD – 向下滚动（Scroll Down）
</p>

<p>
整页向下滚动 n（默认 1）行。新行添加到顶部。（非 ANSI.SYS）
</p></li>

<li>CSI n ; m f： HVP – 水平垂直位置（Horizontal Vertical Position）同 CUP。</li>

<li><p>
CSI n m： SGR – 选择图形再现（Select Graphic Rendition）
</p>

<p>
设置 SGR 参数，包括文字颜色。CSI 后可以是 0 或者更多参数，用分号分隔。
如果没有参数，则视为 CSI 0 m（重置 / 常规）。
</p></li>

<li><p>
CSI 5i：  打开辅助端口
</p>

<p>
启用辅助串行端口，通常用于本地串行打印机
</p></li>

<li><p>
CSI 4i：  关闭辅助端口
</p>

<p>
禁用辅助串行端口，通常用于本地串行打印机
</p></li>

<li><p>
CSI 6n：  DSR – 设备状态报告（Device Status Report）
</p>

<p>
以 ESC[n;mR（就像在键盘上输入）向应用程序报告光标位置（CPR），其中 n 是行，m 是列。
</p></li>

<li><p>
CSI s： SCP – 保存光标位置（Save Cursor Position）
</p>

<p>
保存光标的当前位置。
</p></li>

<li><p>
CSI u： RCP – 恢复光标位置（Restore Cursor Position）
</p>

<p>
恢复保存的光标位置。
</p></li>
</ul>

<p>
<code>重要的是 SGR 部分</code> ，也就是 <code>CSI n m</code>
</p>
</div>
<div id="outline-container-h:77fb8e5d-8883-4c58-9dbd-97e85f284c69" class="outline-5">
<h5 id="h:77fb8e5d-8883-4c58-9dbd-97e85f284c69">一些常用的CSI</h5>
<div class="outline-text-5" id="text-h:77fb8e5d-8883-4c58-9dbd-97e85f284c69">
<p>
其他有趣的代码还有：
</p>
<div class="org-src-container">
<pre class="src src-sh">\033[2J &#28165;&#38500;&#23631;&#24149;
\033[0q &#20851;&#38381;&#25152;&#26377;&#30340;&#38190;&#30424;&#25351;&#31034;&#28783;
\033[1q &#35774;&#32622;&#8220;&#28378;&#21160;&#38145;&#23450;&#8221;&#25351;&#31034;&#28783; (Scroll Lock)
\033[2q &#35774;&#32622;&#8220;&#25968;&#20540;&#38145;&#23450;&#8221;&#25351;&#31034;&#28783; (Num Lock)
\033[3q &#35774;&#32622;&#8220;&#22823;&#20889;&#38145;&#23450;&#8221;&#25351;&#31034;&#28783; (Caps Lock)
\033[15:40H &#25226;&#20809;&#26631;&#31227;&#21160;&#21040;&#31532;15&#34892;&#65292;40&#21015;
\007 &#21457;&#34562;&#40483;&#29983;beep
</pre>
</div>

<p>
键盘锁：
</p>
<div class="org-src-container">
<pre class="src src-sh">&#38145;&#38190;&#30424;&#65306;ESC[2h
&#24320;&#38190;&#30424;&#65306;ESC[2l
</pre>
</div>

<p>
删除字符
</p>
<div class="org-src-container">
<pre class="src src-sh">ESC[nX:&#28165;&#38500;&#20809;&#26631;&#21491;&#36793;n&#20010;&#23383;&#31526;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[K&#25110;ESC[OK;&#28165;&#38500;&#20809;&#26631;&#21491;&#36793;&#20840;&#37096;&#23383;&#31526;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[1K:&#28165;&#38500;&#20809;&#26631;&#24038;&#36793;&#20840;&#37096;&#23383;&#31526;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[2K:&#28165;&#38500;&#25972;&#34892;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[J&#25110;ESC[OJ:&#28165;&#38500;&#20809;&#26631;&#21491;&#19979;&#23631;&#25152;&#26377;&#23383;&#31526;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[1J:&#28165;&#38500;&#20809;&#26631;&#24038;&#19978;&#23631;&#25152;&#26377;&#23383;&#31526;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[2J&#25110;ESCc:&#28165;&#23631;&#65292;&#20809;&#26631;&#31227;&#21040;&#24038;&#19978;&#35282;&#12290;
ESC[nM:&#21024;&#38500;&#20809;&#26631;&#20043;&#19979;n&#34892;&#65292;&#21097;&#19979;&#34892;&#24448;&#19978;&#31227;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
ESC[nP:&#21024;&#38500;&#20809;&#26631;&#21491;&#36793;n&#20010;&#23383;&#31526;&#65292;&#21097;&#19979;&#37096;&#20998;&#24038;&#31227;&#65292;&#20809;&#26631;&#19981;&#21160;&#12290;
</pre>
</div>

<p>
插入字符代码
</p>
<div class="org-src-container">
<pre class="src src-sh">ESC[n@:&#22312;&#24403;&#21069;&#20809;&#26631;&#22788;&#25554;&#20837;n&#20010;&#23383;&#31526;&#12290;
ESC[nL:&#22312;&#24403;&#21069;&#20809;&#26631;&#19979;&#25554;&#20837;n&#34892;&#12290;
</pre>
</div>

<p>
移动光标
</p>
<div class="org-src-container">
<pre class="src src-sh">ESC[nA:&#20809;&#26631;&#19978;&#31227;n&#34892;&#12290;
ESC[nB:&#20809;&#26631;&#19979;&#31227;n&#34892;&#12290;
ESC[nC:&#20809;&#26631;&#21491;&#31227;n&#20010;&#23383;&#31526;&#12290;
ESC[nD:&#20809;&#26631;&#24038;&#31227;n&#20010;&#23383;&#31526;&#12290;
ESC[n;mH :&#20809;&#26631;&#23450;&#20301;&#21040;&#31532;n&#34892;m&#21015;(&#31867;&#20284;&#20195;&#30721;ESC[n;mf)&#12290;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:adf39d91-8c18-4b34-92e3-92646fc85aa5" class="outline-4">
<h4 id="h:adf39d91-8c18-4b34-92e3-92646fc85aa5">设置图形属性序列 - SGR (Set Graphics Rendition)</h4>
<div class="outline-text-4" id="text-h:adf39d91-8c18-4b34-92e3-92646fc85aa5">
<p>
ANSI转义代码生成器：<a href="https://tooltt.com/ansi/">https://tooltt.com/ansi/</a>
</p>

<p>
代码
</p>
<div class="org-src-container">
<pre class="src src-sh">&#20195;&#30721;      &#20316;&#29992;      &#22791;&#27880;
0       &#37325;&#32622;/&#27491;&#24120;   &#20851;&#38381;&#25152;&#26377;&#23646;&#24615;&#12290;
1       &#31895;&#20307;&#25110;&#22686;&#21152;&#24378;&#24230; 
2       &#24369;&#21270;&#65288;&#38477;&#20302;&#24378;&#24230;&#65289;        &#26410;&#24191;&#27867;&#25903;&#25345;&#12290;
3       &#26012;&#20307;      &#26410;&#24191;&#27867;&#25903;&#25345;&#12290;&#26377;&#26102;&#35270;&#20026;&#21453;&#30456;&#26174;&#31034;&#12290;
4       &#19979;&#21010;&#32447;     
5       &#32531;&#24930;&#38378;&#28865;    &#20302;&#20110;&#27599;&#20998;&#38047;150&#27425;&#12290;
6       &#24555;&#36895;&#38378;&#28865;    MS-DOS ANSI.SYS&#65307;&#27599;&#20998;&#38047;150&#20197;&#19978;&#65307;&#26410;&#24191;&#27867;&#25903;&#25345;&#12290;
7       &#21453;&#26174;      &#21069;&#26223;&#33394;&#19982;&#32972;&#26223;&#33394;&#20132;&#25442;&#12290;
8       &#38544;&#34255;      &#26410;&#24191;&#27867;&#25903;&#25345;&#12290;
9       &#21010;&#38500;      &#23383;&#31526;&#28165;&#26224;&#65292;&#20294;&#26631;&#35760;&#20026;&#21024;&#38500;&#12290;&#26410;&#24191;&#27867;&#25903;&#25345;&#12290;
10      &#20027;&#35201;&#65288;&#40664;&#35748;&#65289;&#23383;&#20307;        
11&#8211;19   &#26367;&#20195;&#23383;&#20307;    &#36873;&#25321;&#26367;&#20195;&#23383;&#20307; &#36873;&#25321;&#26367;&#20195;&#23383;&#20307;
20      &#23574;&#35282;&#20307;     &#20960;&#20046;&#26080;&#25903;&#25345;&#12290;
21      &#20851;&#38381;&#31895;&#20307;&#25110;&#21452;&#19979;&#21010;&#32447;       &#20851;&#38381;&#31895;&#20307;&#26410;&#24191;&#27867;&#25903;&#25345;&#65307;&#21452;&#19979;&#21010;&#32447;&#20960;&#20046;&#26080;&#25903;&#25345;&#12290;
22      &#27491;&#24120;&#39068;&#33394;&#25110;&#24378;&#24230; &#19981;&#24378;&#19981;&#24369;&#12290;
23      &#38750;&#26012;&#20307;&#12289;&#38750;&#23574;&#35282;&#20307;        
24      &#20851;&#38381;&#19979;&#21010;&#32447;   &#21435;&#25481;&#21333;&#21452;&#19979;&#21010;&#32447;&#12290;
25      &#20851;&#38381;&#38378;&#28865;    
27      &#20851;&#38381;&#21453;&#26174;    
28      &#20851;&#38381;&#38544;&#34255;    
29      &#20851;&#38381;&#21010;&#38500;    
30&#8211;37   3/4 &#20301;&#33394;&#35774;&#32622;&#21069;&#26223;&#33394;     &#21442;&#35265;&#19979;&#38754;&#30340;&#39068;&#33394;&#34920;&#12290;
38      &#35774;&#32622;&#21069;&#26223;&#33394;&#65288;&#19982; 8bit &#21644; 24bit &#39068;&#33394;&#35774;&#32622;&#26377;&#20851;&#65289;    &#19979;&#19968;&#20010;&#21442;&#25968;&#26159;5;n&#25110;2;<span style="color: #483d8b;">r</span>;g;b&#65292;&#35265;&#19979;&#12290;
39      &#40664;&#35748;&#21069;&#26223;&#33394;   &#30001;&#20855;&#20307;&#23454;&#29616;&#23450;&#20041;&#65288;&#25353;&#29031;&#26631;&#20934;&#65289;&#12290;
40&#8211;47   3/4 &#20301;&#33394;&#35774;&#32622;&#32972;&#26223;&#33394;     &#21442;&#35265;&#19979;&#38754;&#30340;&#39068;&#33394;&#34920;&#12290;
48      &#35774;&#32622;&#32972;&#26223;&#33394;&#65288;&#19982; 8bit &#21644; 24bit &#39068;&#33394;&#35774;&#32622;&#26377;&#20851;&#65289;    &#19979;&#19968;&#20010;&#21442;&#25968;&#26159;5;n&#25110;2;<span style="color: #483d8b;">r</span>;g;b&#65292;&#35265;&#19979;&#12290;
49      &#40664;&#35748;&#32972;&#26223;&#33394;   &#30001;&#20855;&#20307;&#23454;&#29616;&#23450;&#20041;&#65288;&#25353;&#29031;&#26631;&#20934;&#65289;&#12290;
51      Framed  
52      Encircled       
53      &#19978;&#21010;&#32447;     
54      Not framed or encircled 
55      &#20851;&#38381;&#19978;&#21010;&#32447;   
60      &#34920;&#24847;&#25991;&#23383;&#19979;&#21010;&#32447;&#25110;&#21491;&#36793;&#32447;     &#20960;&#20046;&#26080;&#25903;&#25345;&#12290;
61      &#34920;&#24847;&#25991;&#23383;&#21452;&#19979;&#21010;&#32447;&#25110;&#21452;&#21491;&#36793;&#32447;
62      &#34920;&#24847;&#25991;&#23383;&#19978;&#21010;&#32447;&#25110;&#24038;&#36793;&#32447;
63      &#34920;&#24847;&#25991;&#23383;&#21452;&#19978;&#21010;&#32447;&#25110;&#21452;&#24038;&#36793;&#32447;
64      &#34920;&#24847;&#25991;&#23383;&#30528;&#37325;&#26631;&#24535;
65      &#34920;&#24847;&#25991;&#23383;&#23646;&#24615;&#20851;&#38381;        &#37325;&#32622;60&#8211;64&#30340;&#25152;&#26377;&#25928;&#26524;&#12290;
90&#8211;97   &#35774;&#32622;&#26126;&#20142;&#30340;&#21069;&#26223;&#33394;        aixterm&#65288;&#38750;&#26631;&#20934;&#65289;&#12290;
100&#8211;107 &#35774;&#32622;&#26126;&#20142;&#30340;&#32972;&#26223;&#33394;        aixterm&#65288;&#38750;&#26631;&#20934;&#65289;&#12290;
</pre>
</div>
</div>
<div id="outline-container-h:6422dcfb-b506-46e1-8eec-6760aa6f0360" class="outline-5">
<h5 id="h:6422dcfb-b506-46e1-8eec-6760aa6f0360">颜色</h5>
<div class="outline-text-5" id="text-h:6422dcfb-b506-46e1-8eec-6760aa6f0360">
</div>
<ul class="org-ul">
<li><a id="h:911c23b3-5773-4a6a-8c3a-2c0cfb614abe"></a>3/4位色<br>
<div class="outline-text-6" id="text-h:911c23b3-5773-4a6a-8c3a-2c0cfb614abe">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">##</span><span style="color: #b22222;">m&#65306;
</span> &#24038;&#20391;#&#65306;
  3&#34920;&#31034;&#21069;&#26223;&#33394;
  4&#34920;&#31034;&#32972;&#26223;&#33394;
 &#21491;&#20391;#: &#39068;&#33394;&#31181;&#31867;
  0 &#40657;,
  1 &#32418;,
  2 &#32511;,
  3 &#40644;,
  4 &#34013;,
  5 &#32043;,
  6 &#22825;&#34013;,
  7 &#30333;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">&#20320;&#21487;&#20197;&#20351;&#29992; \x1b[31m &#35774;&#32622; &#20026;&#32418;&#33394;&#23383;&#20307;&#65292;

&#20351;&#29992; \x1b[31;102m &#35774;&#32622; &#21069;&#26223;&#33394;&#20026;&#32418;&#33394;&#65292;&#32972;&#26223;&#33394;&#20026;&#20142;&#32511;&#33394;

&#20351;&#29992; \x1b[1;5;31;102m &#35774;&#32622; &#21069;&#26223;&#33394;&#20026;&#32418;&#33394;&#65292;&#32972;&#26223;&#33394;&#20026;&#20142;&#32511;&#33394;&#65292;&#31895;&#20307;&#65292;&#24182;&#38378;&#28865;
</pre>
</div>
<p>
部分平台上 可能 30-37 和 90-97 显示的是同一种颜色，因平台而异
</p>

<p>
3/4 的颜色表
</p>


<figure id="org2d26463">
<img src="./images/Snipaste_2023-05-19_15-09-08.png" alt="Snipaste_2023-05-19_15-09-08.png" width="50%">

</figure>
</div>
</li>
<li><a id="h:d455ab70-0da3-4788-bae5-33e1921f372a"></a>8bit (256 色)<br>
<div class="outline-text-6" id="text-h:d455ab70-0da3-4788-bae5-33e1921f372a">
<div class="org-src-container">
<pre class="src src-sh">&#21487;&#20197;&#20351;&#29992; \x1b[38;5;51m &#36755;&#20986;&#21069;&#26223;&#33394;&#20026; &#32534;&#21495; 51 &#30340; <span style="color: #b22222;">#</span><span style="color: #b22222;">5f00ff &#30340;&#23383;&#31526;&#20018; (&#22823;&#27010;&#26159;&#32043;&#33394;)
</span>
&#21487;&#20197;&#20351;&#29992; \x1b[48;5;51m &#36755;&#20986;&#21069;&#26223;&#33394;&#20026; &#32534;&#21495; 51 &#30340; <span style="color: #b22222;">#</span><span style="color: #b22222;">5f00ff &#30340;&#23383;&#31526;&#20018;</span>
</pre>
</div>

<p>
颜色表如下
</p>


<figure id="org91e5aa5">
<img src="./images/Snipaste_2023-05-19_15-11-43.png" alt="Snipaste_2023-05-19_15-11-43.png" width="50%">

</figure>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:a76a6c3c-a5a5-45c3-b118-b9d082f9324c" class="outline-4">
<h4 id="h:a76a6c3c-a5a5-45c3-b118-b9d082f9324c">ANSI转义序列应用案例</h4>
<div class="outline-text-4" id="text-h:a76a6c3c-a5a5-45c3-b118-b9d082f9324c">
</div>
<div id="outline-container-h:83d657f4-4643-4adc-94f1-af8c4afd8926" class="outline-5">
<h5 id="h:83d657f4-4643-4adc-94f1-af8c4afd8926">js</h5>
<div class="outline-text-5" id="text-h:83d657f4-4643-4adc-94f1-af8c4afd8926">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">write</span> (<span style="color: #a0522d;">file</span>, <span style="color: #a0522d;">str</span>, <span style="color: #a0522d;">mode</span>) {
  fs.writeFileSync(file, str, { mode: mode || MODE_0666 })
  console.log(<span style="color: #8b2252;">'   \x1b[36mcreate\x1b[0m : '</span> + file)
}
</pre>
</div>
<p>
其中的 console.log 输出的 create 会变成青色。
</p>


<figure id="org9a129a1">
<img src="./images/Snipaste_2023-05-19_15-25-09.png" alt="Snipaste_2023-05-19_15-25-09.png" width="50%">

</figure>
</div>
</div>
<div id="outline-container-h:90012e6a-e4ae-476d-bd07-ca325250eb0f" class="outline-5">
<h5 id="h:90012e6a-e4ae-476d-bd07-ca325250eb0f">进度条</h5>
<div class="outline-text-5" id="text-h:90012e6a-e4ae-476d-bd07-ca325250eb0f">

<figure id="orgce5a3b2">
<img src="./images/loading.gif" alt="loading.gif">

</figure>

<p>
常见的进度条也是 CSI序列 的又一经典应用，核心是用 CSI n K EL – 擦除行
（Erase in Line） 将上次输出的进度清除，再覆盖成最新的进度。
</p>

<p>
这里用到一个很实用的开源库 <a href="https://github.com/freeall/single-line-log/">single-line-log</a>
</p>

<p>
看看他的核心代码
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#20301;&#20316;&#32773;&#29992; 16 &#36827;&#21046;&#20889;&#23383;&#31526;&#20018;&#26159;&#20248;&#28857;&#39578;
</span><span style="color: #b22222;">// </span><span style="color: #b22222;">'\u001b[1000D'
</span><span style="color: #b22222;">// </span><span style="color: #b22222;">&#20809;&#26631;&#21518;&#31227;&#65288;Cursor Back&#65289;
</span><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">MOVE_LEFT</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Buffer</span>(<span style="color: #8b2252;">'1b5b3130303044'</span>, <span style="color: #8b2252;">'hex'</span>).toString();

<span style="color: #b22222;">// </span><span style="color: #b22222;">'\u001b[0K'
</span><span style="color: #b22222;">// </span><span style="color: #b22222;">&#25830;&#38500;&#34892;&#65288;Erase in Line&#65289;
</span><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">CLEAR_LINE</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Buffer</span>(<span style="color: #8b2252;">'1b5b304b'</span>, <span style="color: #8b2252;">'hex'</span>).toString();

<span style="color: #b22222;">// </span><span style="color: #b22222;">'\u001b[1A'
</span><span style="color: #b22222;">// </span><span style="color: #b22222;">&#20809;&#26631;&#19978;&#31227;&#65288;Cursor Up&#65289;
</span><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">MOVE_UP</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Buffer</span>(<span style="color: #8b2252;">'1b5b3141'</span>, <span style="color: #8b2252;">'hex'</span>).toString();
...
str = <span style="color: #8b2252;">''</span>;
<span style="color: #b22222;">// </span><span style="color: #b22222;">Clear screen
</span><span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">i</span> = 0; i &lt; prevLineCount; i ++) {
  str += MOVE_LEFT + CLEAR_LINE + (i &lt; prevLineCount -1 ? MOVE_UP : <span style="color: #8b2252;">''</span>);
}
<span style="color: #b22222;">// </span><span style="color: #b22222;">Actual log output
</span>str += nextStr;
...
</pre>
</div>

<p>
代码上可见 MOVE_LEFT 就是 '\u001b[1000D' 光标后移（退格键的方向） 1000
格，因为终端很少会有达到 1000 列，这里相当于是把光标移动到当前行最左端。
</p>

<p>
CLEAR_LINE 就是 '\u001b[0K' 表示清除从光标位置到该行末尾的部分，因为前
面光标已经在行头，这里相当于是整行清除。
</p>

<p>
MOVE_UP 就是 '\u001b[1A' 光标上移一格。
</p>

<p>
三个指令加一个 for 循环达到清屏的效果。
</p>
</div>
</div>
<div id="outline-container-h:4d37bb20-e9e1-4d29-bf65-8816c5bfb4fc" class="outline-5">
<h5 id="h:4d37bb20-e9e1-4d29-bf65-8816c5bfb4fc">选择器</h5>
<div class="outline-text-5" id="text-h:4d37bb20-e9e1-4d29-bf65-8816c5bfb4fc">
<p>
loading 的例子里利用 CSI 几个命令组合的刷新功能，成为终端命令行的里进
行 UI 交互的基础。基于此，我们可以实现终端里的 select 选择器。
</p>

<p>
开源库 <a href="https://github.com/SBoudrias/Inquirer.js">Inquirer.js</a> 就是用这个方法实现的。
</p>
</div>
</div>
<div id="outline-container-h:b800d647-6f92-40ad-a579-2193b7cbce7d" class="outline-5">
<h5 id="h:b800d647-6f92-40ad-a579-2193b7cbce7d">ASCII 字符画</h5>
<div class="outline-text-5" id="text-h:b800d647-6f92-40ad-a579-2193b7cbce7d">
<p>
动画就是一帧帧快速刷新的画面，所以 CSI 的刷新能力是可以用来做动画的。
下面就用 CSI 做一个终端版的 <a href="https://zh.wikipedia.org/wiki/Bad_Apple!!">Bad Apple!!</a>（【東方】Bad Apple!!　ＰＶ【影
絵】）。
</p>

<p>
虽然终端不支持显示图片，但是我们可以将图片的像素信息生成 ASCII 字符画。
然后通过 渲染 -&gt; 清空画面 -&gt; 再渲染 的方式让画面动起来。
</p>

<p>
参考：<a href="http://rococolate.github.io/blog/2020/11/25/ansi-esc.html">http://rococolate.github.io/blog/2020/11/25/ansi-esc.html</a>
</p>


<figure id="org9ae1e06">
<img src="./images/opencv.gif" alt="opencv.gif">

</figure>
</div>
</div>
</div>
</div>
<div id="outline-container-h:e542d218-d9bf-4e76-8c84-9b9759bdacdf" class="outline-3">
<h3 id="h:e542d218-d9bf-4e76-8c84-9b9759bdacdf">命令行扩展和被括起来的集合</h3>
<div class="outline-text-3" id="text-h:e542d218-d9bf-4e76-8c84-9b9759bdacdf">
</div>
<div id="outline-container-h:c0312de1-883b-42b8-bd8d-a74986b37ea8" class="outline-4">
<h4 id="h:c0312de1-883b-42b8-bd8d-a74986b37ea8">bash 基础特性-命令行展开</h4>
<div class="outline-text-4" id="text-h:c0312de1-883b-42b8-bd8d-a74986b37ea8">
<p>
<code>~</code> ：自动展开为用户的家目录，或者指定的用户的家目录；
</p>

<p>
<code>{}</code> ：可以承载一个以逗号分隔的路径列表，并能够将其展开为多个路径；
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> file{1,3,5} &#32467;&#26524;&#20026;&#65306;file1 file3 file5
rm -f file{1,3,5}
<span style="color: #483d8b;">echo</span> {1..10}
<span style="color: #483d8b;">echo</span> {a..z}
<span style="color: #483d8b;">echo</span> {1..10..2}  <span style="color: #b22222;">#</span><span style="color: #b22222;">2&#20026;&#27493;&#38271;&#65292;&#38388;&#38548;2&#20010;&#36755;&#20986;
</span><span style="color: #483d8b;">echo</span> {000..20..2}  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34917;&#40784;</span>
</pre>
</div>

<p>
范例
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo {000..20..2}
000 002 004 006 008 010 012 014 016 018 020

[root@centos8 ~]#echo {a..z..2}
a c e g i k m o q s u w y

[root@centos8 ~]#echo {A..z}
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ <span style="color: #ff00ff;">` a b c d e f g h i j k l m n o p q r s t u v w x y z

jasper@guix ~$ echo {1..3}.{log,txt}
1.log 1.txt 2.log 2.txt 3.log 3.txt</span>
</pre>
</div>

<p>
例如：/tmp/{a,b},相当于/tmp/a /tmp/b
</p>


<p>
<b>$- 变量</b> : 当前bash的参数
</p>

<p>
变量输出说明：
</p>
<ul class="org-ul">
<li>h：hashall，打开选项后，Shell 会将命令所在的路径 hash 下来，避免每次都
要查询。通过 <code>set +h</code> 将h选项关闭</li>
<li>i：interactive-comments，包含这个选项说明当前的 shell 是一个交互式的
shell。所谓的交互式 shell，在脚本中，i 选项是关闭的</li>
<li>m：monitor，打开监控模式，就可以通过Job control来控制进程的停止、继
续，后台或者前台执行等</li>
<li>B：braceexpand，大括号扩展</li>
<li>H：history，H 选项打开，可以展开历史列表中的命令，可以通过 ! 感叹号
来完成，例如“!!”返回上最近的一个历史命令，“!n”返回第 n 个历史命令</li>
</ul>


<p>
范例: 关闭和启用{}的扩展功能
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo $<span style="color: #a0522d;">-</span>
himBHs
[root@centos8 ~]#echo {1..10}
1 2 3 4 5 6 7 8 9 10
[root@centos8 ~]#set +B
[root@centos8 ~]#echo $<span style="color: #a0522d;">-</span>
himHs
[root@centos8 ~]#echo {1..10}
{1..10}
[root@centos8 ~]#set -B
[root@centos8 ~]#echo $<span style="color: #a0522d;">-</span>
himBHs
[root@centos8 ~]#echo {1..10}
1 2 3 4 5 6 7 8 9 10
</pre>
</div>

<p>
问题1：如何创建/tmp/x/y1, /tmp/x/y2, /tmp/x/y1/a, /tmp/x/y1/b?
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# mkdir  -pv /tmp/x/{y1/{a,b},y2}
</pre>
</div>

<p>
问题2:如何创建a_c, a_d, b_c, b_d;
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# mkdir -v {a,b}_{c,d}
</pre>
</div>

<p>
问题3：创建如下目录结构：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# tree /tmp/mysysroot/
/tmp/mysysroot/
&#9500;&#9472;&#9472; bin
&#9500;&#9472;&#9472; etc
&#9474;   &#9492;&#9472;&#9472; sysconfig
&#9474;       &#9492;&#9472;&#9472; network-scripts
&#9500;&#9472;&#9472; sbin
&#9500;&#9472;&#9472; usr
&#9474;   &#9500;&#9472;&#9472; bin
&#9474;   &#9500;&#9472;&#9472; lib
&#9474;   &#9500;&#9472;&#9472; lib64
&#9474;   &#9500;&#9472;&#9472; local
&#9474;   &#9474;   &#9500;&#9472;&#9472; bin
&#9474;   &#9474;   &#9500;&#9472;&#9472; etc
&#9474;   &#9474;   &#9500;&#9472;&#9472; lib
&#9474;   &#9474;   &#9492;&#9472;&#9472; sbin
&#9474;   &#9492;&#9472;&#9472; sbin
&#9492;&#9472;&#9472; var
    &#9500;&#9472;&#9472; cache
    &#9500;&#9472;&#9472; log
    &#9492;&#9472;&#9472; run
~]# mkdir -pv /tmp/mysysroot/{bin,sbin,etc/sysconfig/network-scripts,usr/{bin,sbin,local/{bin,sbin,etc,lib},lib,lib64},var/{cache,log,run}}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:62a2b6ba-d2aa-431a-ad3f-0b05131d1106" class="outline-4">
<h4 id="h:62a2b6ba-d2aa-431a-ad3f-0b05131d1106">bash 基础特性-引用</h4>
<div class="outline-text-4" id="text-h:62a2b6ba-d2aa-431a-ad3f-0b05131d1106">
<ol class="org-ol">
<li><p>
强引用单绰号：''
</p>

<p>
变量和命令都不识别，都当成了普通的字符串；其内部的字符串都是直接显示
</p></li>

<li><p>
弱引用双引号：""
</p>

<p>
不能识别命令，可以识别变量；双引号中的变量会做变量替换，把变量名替
换为变量所存储的值
</p></li>

<li><p>
命令引用反引号：``
</p>

<p>
里面的内容必须是能执行的命令并且有输出信息,变量和命令都识别，并且会
将反向单引号的内容当成命令进行执行后，再交给调用反向单引号的命令继续
</p>

<p>
<code>建议使用$()，crontab 不支持$()</code>
</p></li>
</ol>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ll <span style="color: #ff00ff;">`echo `</span>date +%F<span style="color: #ff00ff;">`.txt`</span>
-bash: .txt: command not found
ls: cannot access <span style="color: #8b2252;">'date'</span>: No such file or directory
ls: cannot access <span style="color: #8b2252;">'+%F'</span>: No such file or directory

[root@centos8 ~]#ll $(<span style="color: #483d8b;">echo</span> $(date +%F).txt)
-rw-r--r-- 1 root root 0 Mar 20 09:55 2020-03-20.txt

[root@centos8 ~]#ll <span style="color: #ff00ff;">`echo $(date +%F).txt`</span>
-rw-r--r-- 1 root root 0 Mar 20 09:55 2020-03-20.txt

[root@centos8 ~]#ll $(<span style="color: #483d8b;">echo</span> <span style="color: #ff00ff;">`date +%F`</span>.txt)
-rw-r--r-- 1 root root 0 Mar 20 09:55 2020-03-20.txt
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:40080357-ad08-474f-9b6c-ce571f6a2b52" class="outline-3">
<h3 id="h:40080357-ad08-474f-9b6c-ce571f6a2b52">tab bash基础特性-键补全</h3>
<div class="outline-text-3" id="text-h:40080357-ad08-474f-9b6c-ce571f6a2b52">
<p>
tab 键可以实现命令及路径等补全，提高输入效率，避免出错
</p>
</div>
<div id="outline-container-h:8e5bb591-eb7b-4acd-99b5-3b7413be1af2" class="outline-4">
<h4 id="h:8e5bb591-eb7b-4acd-99b5-3b7413be1af2">命令补全</h4>
<div class="outline-text-4" id="text-h:8e5bb591-eb7b-4acd-99b5-3b7413be1af2">
<p>
<b>工作前提：</b>
</p>

<p>
shell程序在接收到用户执行命令请求时，分析完成之后，最左侧的字符串会被
当作命令；
</p>

<p>
<b>命令查找机制</b>
</p>

<p>
查找内部命令；
</p>

<p>
查找方式是根据PATH环境变量中设定的目录，自左而右逐个搜索目录下的文件名；
</p>

<p>
如，查看当前PATH环境变量  echo $PATH
</p>

<p>
<b>3种命令补全</b> *
</p>

<ul class="org-ul">
<li>内部命令：</li>
<li>外部命令：bash根据PATH环境变量定义的路径，自左而右在每个路径搜寻以给
定命令名命名的文件，第一次找到的命令即为要执行的命令</li>
<li>命令的子命令补全，需要安装 bash-completion</li>
</ul>

<p>
注意：用户给定的字符串只有一条惟一对应的命令，直接补全，否则，再次Tab
会给出列表
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#nmcli connection <span style="color: #b22222;"># </span><span style="color: #b22222;">2TAB
</span>add   delete  edit   help   load   monitor show
clone  down   export  import  modify  reload  up
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e6eeb620-edf2-4394-b8b6-e8a79bf80ebc" class="outline-4">
<h4 id="h:e6eeb620-edf2-4394-b8b6-e8a79bf80ebc">路径补全</h4>
<div class="outline-text-4" id="text-h:e6eeb620-edf2-4394-b8b6-e8a79bf80ebc">
<p>
把用户给出的字符串当做路径开头，并在其指定上级目录下搜索以指定的字符串
开头的文件名
</p>

<p>
如果惟一：则直接补全
</p>

<p>
否则：再次Tab给出列表
</p>
</div>
</div>
<div id="outline-container-h:28bba1e8-28cf-4c79-b0e2-92c83f002dc4" class="outline-4">
<h4 id="h:28bba1e8-28cf-4c79-b0e2-92c83f002dc4">双击Tab键</h4>
<div class="outline-text-4" id="text-h:28bba1e8-28cf-4c79-b0e2-92c83f002dc4">
<div class="org-src-container">
<pre class="src src-sh">- command 2Tab &#25152;&#26377;&#23376;&#21629;&#20196;&#25110;&#25991;&#20214;&#34917;&#20840;
- string2Tab &#20197;string&#24320;&#22836;&#21629;&#20196;
- /2Tab &#26174;&#31034;&#25152;&#26377;&#26681;&#30446;&#24405;&#19979;&#19968;&#32423;&#30446;&#24405;&#65292;&#21253;&#25324;&#38544;&#34255;&#30446;&#24405;
- ./2Tab &#24403;&#21069;&#30446;&#24405;&#19979;&#23376;&#30446;&#24405;&#65292;&#21253;&#25324;&#38544;&#34255;&#30446;&#24405;
- *2Tab &#24403;&#21069;&#30446;&#24405;&#19979;&#23376;&#30446;&#24405;&#65292;&#19981;&#21253;&#25324;&#38544;&#34255;&#30446;&#24405;
- ~2Tab &#25152;&#26377;&#29992;&#25143;&#21015;&#34920;
- $<span style="color: #a0522d;">2</span>Tab &#25152;&#26377;&#21464;&#37327;
- @2Tab /etc/hosts&#35760;&#24405; &#65288;centos7 &#19981;&#25903;&#25345;&#65289;
- =2Tab &#30456;&#24403;&#20110;ls &#8211;A &#65288;centos7&#19981;&#25903;&#25345;&#65289;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:25d39c0e-88e7-49f5-a23d-d71964c41890" class="outline-3">
<h3 id="h:25d39c0e-88e7-49f5-a23d-d71964c41890">bash基础特性-命令历史特性history</h3>
<div class="outline-text-3" id="text-h:25d39c0e-88e7-49f5-a23d-d71964c41890">
<p>
命令历史：shell进程会将其会话中保存此前用户提交执行过的命令；
</p>

<p>
当执行命令后，系统默认会在内存记录执行过的命令
</p>

<p>
当用户正常退出时，会将内存的命令历史存放对应历史文件中，默认是
~/.bash_history
</p>

<p>
登录shell时，会读取命令历史文件中记录下的命令加载到内存中
</p>

<p>
登录进shell后新执行的命令只会记录在内存的缓存区中；这些命令会用户正常
退出时“追加”至命令历史文件中
</p>

<p>
利用命令历史。可以用它来重复执行命令，提高输入效率
</p>

<p>
<b>1. history命令用法：</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">history</span> [-c] [-d offset&#20559;&#31227;&#37327;] [n]
or history -anrw [filename]
or history -ps arg [arg...]
</pre>
</div>

<p>
选项：
</p>

<pre class="example" id="org837a24b">
-c : 清空，清空的是内存
-d : 删除指定条的命令历史，如，-d number n ：从指定条数后删除n条命令历史
-a : 从内存追加指定内容到文件
-n : 从文件中读取未被读取的行
-r : 文件到内存
-w : 内存到文件，把历史列表中的所有命令追加到历史文件中；
# : 显示最近的#条命令
-p: 展开历史参数成多行，但不存在历史列表中
-s: 展开历史参数成一行，附加在历史列表后。即伪造命令历史
</pre>

<p>
<b>2. 定制history的功能，可通过环境变量实现</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">HISTSIZE      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21629;&#20196;&#21382;&#21490;&#35760;&#24405;&#30340;&#26465;&#25968;
</span>HISTFILE      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25351;&#23450;&#21382;&#21490;&#25991;&#20214;&#65292;&#40664;&#35748;&#20026;~/.bash_history
</span>HISTFILESIZE  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21629;&#20196;&#21382;&#21490;&#25991;&#20214;&#35760;&#24405;&#21382;&#21490;&#30340;&#26465;&#25968;
</span><span style="color: #a0522d;">HISTTIMEFORMAT</span>=<span style="color: #8b2252;">"%F %T `whoami`"</span> <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#26102;&#38388;&#21644;&#29992;&#25143;
</span><span style="color: #a0522d;">HISTIGNORE</span>=<span style="color: #8b2252;">"str1:str2*:&#8230;"</span>       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24573;&#30053;str1&#21629;&#20196;&#65292;str2&#24320;&#22836;&#30340;&#21382;&#21490;
</span>
HISTCONTROL  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25511;&#21046;&#21629;&#20196;&#21382;&#21490;&#30340;&#35760;&#24405;&#26041;&#24335;
</span>ignoredups   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26159;&#40664;&#35748;&#20540;&#65292;&#21487;&#24573;&#30053;&#37325;&#22797;&#30340;&#21629;&#20196;&#65292;&#36830;&#32493;&#19988;&#30456;&#21516;&#20026;&#8220;&#37325;&#22797;&#8221;
</span>ignorespace  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24573;&#30053;&#25152;&#26377;&#20197;&#31354;&#30333;&#24320;&#22836;&#30340;&#21629;&#20196;
</span>ignoreboth   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#24403;&#20110;ignoredups, ignorespace&#30340;&#32452;&#21512;
</span>erasedups    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#37325;&#22797;&#21629;&#20196;</span>
</pre>
</div>

<p>
示例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# echo $<span style="color: #a0522d;">HISTSIZE</span>
1000
[root@node01 ~]# echo $<span style="color: #a0522d;">HISTFILE</span>
/root/.bash_history
</pre>
</div>

<p>
<b>3 持久保存变量</b>
</p>

<p>
以上变量可以 export 变量名="值" 形式存放在 <i>etc/profile 或 ~</i>.bash_profile 范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat .bash_profile
<span style="color: #b22222;"># </span><span style="color: #b22222;">.bash_profile
</span><span style="color: #b22222;"># </span><span style="color: #b22222;">Get the aliases and functions
</span><span style="color: #a020f0;">if</span> [ -f ~/.bashrc ]; <span style="color: #a020f0;">then</span>
. ~/.bashrc
<span style="color: #a020f0;">fi</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">User specific environment and startup programs
</span><span style="color: #a0522d;">PATH</span>=$<span style="color: #a0522d;">PATH</span>:$<span style="color: #a0522d;">HOME</span>/bin
<span style="color: #483d8b;">export</span> PATH
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">HISTCONTROL</span>=ignoreboth <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24573;&#30053;&#25152;&#26377;&#20197;&#31354;&#30333;&#24320;&#22836;&#30340;&#21629;&#20196; &#24573;&#30053;&#37325;&#22797;&#30340;&#21629;&#20196;
</span><span style="color: #483d8b;">export</span> <span style="color: #a0522d;">HISTTIMEFORMAT</span>=<span style="color: #8b2252;">"%F %T "</span>

[root@centos8 ~]#history
  1  2019-12-13 08:39:05 ls /data
  2  2019-12-13 08:39:05 date
  3  2019-12-13 08:39:05 vie0
  4  2019-12-13 08:39:05 nano .bash_profile
  5  2019-12-13 08:39:05 exit
</pre>
</div>

<p>
<b>4. 调用命令历史列表中的命令：</b>
</p>

<ol class="org-ol">
<li><p>
按上下方向键，并回车执行
</p>

<p>
<b>重复前一个命令方法</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#37325;&#22797;&#21069;&#19968;&#20010;&#21629;&#20196;&#20351;&#29992;&#19978;&#26041;&#21521;&#38190;&#65292;&#24182;&#22238;&#36710;&#25191;&#34892;
&#25353; !! &#24182;&#22238;&#36710;&#25191;&#34892;
&#36755;&#20837; !-1 &#24182;&#22238;&#36710;&#25191;&#34892;
&#25353; Ctrl+p &#24182;&#22238;&#36710;&#25191;&#34892;
</pre>
</div></li>

<li><p>
输入单个感叹号操作
</p>

<div class="org-src-container">
<pre class="src src-sh">!:0       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25191;&#34892;&#21069;&#19968;&#26465;&#21629;&#20196;&#65288;&#21435;&#38500;&#21442;&#25968;&#65289;
</span>!#        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20877;&#19968;&#27425;&#25191;&#34892;&#21382;&#21490;&#21015;&#34920;&#20013;&#30340;&#31532;#&#26465;&#21629;&#20196;&#65292;-#&#34920;&#31034;&#20498;&#25968;&#65307;
</span>!!        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20877;&#19968;&#27425;&#25191;&#34892;&#19978;&#19968;&#27425;&#21629;&#20196;&#65307;
</span>!STRING   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#22797;&#26368;&#36817;&#19968;&#20010;&#20197;STRING&#24320;&#22836;&#30340;&#21629;&#20196;&#65307;
</span>!?STRING  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21305;&#37197;&#26368;&#36817;&#19968;&#20010;&#21253;&#21547;STRING&#23383;&#31526;&#30340;&#21629;&#20196;
</span>!string:p <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20165;&#25171;&#21360;&#21629;&#20196;&#21382;&#21490;&#65292;&#32780;&#19981;&#25191;&#34892;  &#21629;&#20196;&#20013;&#21253;&#21547;string&#23383;&#20018;
</span>
!$:p      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#36755;&#20986; !$ &#65288;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#65289;&#30340;&#20869;&#23481;
</span>!*:p      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#36755;&#20986; !*&#65288;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#25152;&#26377;&#21442;&#25968;&#65289;&#30340;&#20869;&#23481;
</span>!:p       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#36755;&#20986;&#26368;&#21518;&#19968;&#20010;&#21629;&#20196;&#30340;&#20869;&#23481;
</span>^&#23383;&#31526;&#20018;   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#25481;&#19978;&#19968;&#26465;&#21629;&#20196;&#20013;&#30340;&#32473;&#23450;&#23383;&#31526;&#20018;&#24182;&#25191;&#34892;
</span>^string1^string2            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#19978;&#19968;&#26465;&#21629;&#20196;&#20013;&#30340;&#23383;&#31526;&#20018;1&#25913;&#20026;&#23383;&#31526;&#20018;2&#24182;&#25191;&#34892;
</span>!:gs/string1/string2        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#19978;&#19968;&#26465;&#21629;&#20196;&#20013;&#25152;&#26377;&#30340;string1&#37117;&#26367;&#25442;&#20026; string2  &#65288;!!:gs/string1/string2&#20063;&#21487;&#20197;&#65289;
</span>!string3:gs/string1/string2 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;string3&#21629;&#20196;&#20013;&#25152;&#26377;&#30340;string1&#37117;&#26367;&#25442;&#20026; string2</span>
</pre>
</div></li>

<li><p>
ctrl +r : 在历史列表中搜索命令
</p>

<p>
使用up（向上）和down（向下）键来上下浏览从前输入的命令
</p>

<p>
注意：命令的重复执行有时候需要依赖于幂等性，表示执行n遍不出错；
</p>

<p>
ctrl+g 从历史搜索模式中退出
</p></li>

<li>按Ctrl+p显示上条命令，按回车执行</li>

<li><p>
更有效的查询历史命令
</p>

<p>
在自己的用户主目录（home directory）新建一个 .inputrc 文件：
</p>

<div class="org-src-container">
<pre class="src src-sh">$ vi ~/.inputrc
<span style="color: #8b2252;">"\e[A"</span>: history-search-backward
<span style="color: #8b2252;">"\e[B"</span>: history-search-forward
<span style="color: #483d8b;">set</span> show-all-if-ambiguous on
<span style="color: #483d8b;">set</span> completion-ignore-case on
</pre>
</div>

<p>
退出 bash 后重新登陆，敲打一个字母或者几个字母，然后 "上下"键，就会
看到以这个字母搜索到的完整命令行。如果搜索到几个类似命令，通过上下
键来切换，有点像 ctrl+r，但是更好用。
</p></li>
</ol>

<p>
<b>5. 调用参数执行，和只显示参数不执行</b>
</p>

<p>
<b>调用上一条命令的最后一个参数</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">!$      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34920;&#31034;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#21442;&#25968;&#24182;&#25191;&#34892;&#12290;
</span>Esc+ .  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28857;&#20987;Esc&#38190;&#21518;&#26494;&#24320;&#65292;&#28982;&#21518;&#28857;&#20987; . &#38190;  &#21482;&#26174;&#31034;
</span>Alt+ .  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#20303;Alt&#38190;&#30340;&#21516;&#26102;&#28857;&#20987; . &#38190;
</span>
!^      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#19978;&#20010;&#21629;&#20196;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;&#65292;&#24182;&#25191;&#34892;
</span>!*      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#19978;&#20010;&#21629;&#20196;&#30340;&#25152;&#26377;&#21442;&#25968;&#65292;&#24182;&#25191;&#34892;
</span>!:n     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#31532;n&#20010;&#21442;&#25968;&#65292;&#24182;&#25191;&#34892;
</span>!n:n    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#31532;n&#20010;&#21629;&#20196;&#30340;&#31532;n&#20010;&#21442;&#25968;&#65292;&#24182;&#25191;&#34892;
</span>!*:p    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#25152;&#26377;&#21442;&#25968;
</span>!$:p    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;
</span>!^:p    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;&#12290;</span>
</pre>
</div>

<p>
组合：
</p>

<div class="org-src-container">
<pre class="src src-sh">command !^        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21033;&#29992;&#19978;&#19968;&#20010;&#21629;&#20196;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;&#20570;command&#30340;&#21442;&#25968;
</span>command !$        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21033;&#29992;&#19978;&#19968;&#20010;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#20570;command&#30340;&#21442;&#25968;
</span>command !*        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21033;&#29992;&#19978;&#19968;&#20010;&#21629;&#20196;&#30340;&#20840;&#37096;&#21442;&#25968;&#20570;command&#30340;&#21442;&#25968;
</span>command !:n       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21033;&#29992;&#19978;&#19968;&#20010;&#21629;&#20196;&#30340;&#31532;n&#20010;&#21442;&#25968;&#20570;command&#30340;&#21442;&#25968;
</span>command !n:^      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#31532;n&#26465;&#21629;&#20196;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;
</span>command !m:$      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#31532;m&#26465;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;
</span>command !m:n      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#31532;m&#26465;&#21629;&#20196;&#30340;&#31532;n&#20010;&#21442;&#25968;
</span>command !m:*      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#31532;m&#26465;&#21629;&#20196;&#30340;&#25152;&#26377;&#21442;&#25968;
</span>command !string:^ <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#20197;&#32473;&#23450;&#23383;&#31526;&#20018;&#24320;&#22836;&#30340;&#26368;&#36817;&#30340;&#21629;&#20196;&#30340;&#31532;&#19968;&#20010;&#21442;&#25968;
</span>command !string:$ <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#20197;&#32473;&#23450;&#23383;&#31526;&#20018;&#24320;&#22836;&#30340;&#26368;&#36817;&#30340;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;
</span>command !string:n <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#20197;&#32473;&#23450;&#23383;&#31526;&#20018;&#24320;&#22836;&#30340;&#26368;&#36817;&#30340;&#21629;&#20196;&#30340;&#31532;n&#20010;&#21442;&#25968;
</span>command !string:  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35843;&#29992;&#20197;&#32473;&#23450;&#23383;&#31526;&#20018;&#24320;&#22836;&#30340;&#26368;&#36817;&#30340;&#21629;&#20196;&#30340;&#25152;&#26377;&#21442;&#25968;</span>
</pre>
</div>

<p>
防止按键冲突xshell中改这些选项
</p>


<figure id="orgc52a034">
<img src="./images/image-20210215175838455.png" alt="image-20210215175838455.png" width="50%">

</figure>

<p>
<b>6. 历史定制</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">increase history size
</span><span style="color: #483d8b;">export</span> <span style="color: #a0522d;">HISTSIZE</span>=10000
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">HISTFILESIZE</span>=10000

<span style="color: #b22222;"># </span><span style="color: #b22222;">bash history is not automatically saved by default.
</span><span style="color: #b22222;"># </span><span style="color: #b22222;">below setting would save history after each command execution.
</span><span style="color: #a0522d;">PROMPT_COMMAND</span>=<span style="color: #8b2252;">'$PROMPT_COMMAND; history -a'</span>
</pre>
</div>

<p>
检查历史命令
</p>

<p>
一般而言，入侵者获取shell之后，会执行一些系统命令从而在主机上留下痕迹，
我们可以通过history命令查询shell命令的执行历史
</p>

<p>
1）查询某个用户在系统上执行了什么命令
</p>

<div class="org-src-container">
<pre class="src src-sh">&#20351;&#29992;root&#29992;&#25143;&#30331;&#24405;&#31995;&#32479;&#65292;&#26816;&#26597;/home&#30446;&#24405;&#19979;&#30340;&#29992;&#25143;&#20027;&#30446;&#24405;&#30340;.bash_history&#25991;&#20214;
</pre>
</div>

<p>
2）默认情况下，系统可以保存1000条的历史命令，并不记录命令执行的时间，
根据需要进行安全加固。
</p>

<div class="org-src-container">
<pre class="src src-sh">a&#65289;&#20445;&#23384;1&#19975;&#26465;&#21629;&#20196;
sed -i <span style="color: #8b2252;">'s/^HISTSIZE=1000/HISTSIZE=10000/g'</span> /etc/profile
b&#65289;&#22312;/etc/profile&#30340;&#25991;&#20214;&#23614;&#37096;&#28155;&#21152;&#22914;&#19979;&#34892;&#25968;&#37197;&#32622;&#20449;&#24687;&#65306;
<span style="color: #b22222;">######</span><span style="color: #b22222;">jiagu history xianshi#########
</span><span style="color: #a0522d;">USER_IP</span>=<span style="color: #ff00ff;">`who -u am i 2&gt;/dev/null | awk '{print $NF}' | sed -e 's/[()]//g'`</span>
<span style="color: #a020f0;">if</span> [ <span style="color: #8b2252;">"$USER_IP"</span> = <span style="color: #8b2252;">""</span> ]
<span style="color: #a020f0;">then</span>
<span style="color: #a0522d;">USER_IP</span>=<span style="color: #ff00ff;">`hostname`</span>
<span style="color: #a020f0;">fi</span>
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">HISTTIMEFORMAT</span>=<span style="color: #8b2252;">"%F %T $USER_IP `whoami` "</span>
shopt -s histappend
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">PROMPT_COMMAND</span>=<span style="color: #8b2252;">"history -a"</span>
<span style="color: #b22222;">######### </span><span style="color: #b22222;">jiagu history xianshi ##########
</span>c&#65289;source /etc/profile&#35753;&#37197;&#32622;&#29983;&#25928;
</pre>
</div>

<p>
<b>7. fzf 历史优化</b>
</p>

<p>
bash中的命令历史搜索没有模糊搜索，也没有历史列表。fzf可以在那里帮助你。
</p>

<p>
安装fzf：
</p>

<div class="org-src-container">
<pre class="src src-sh">git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install
git clone https://github.com/4z3/fzf-plugins ~/.fzf-plugins
</pre>
</div>

<p>
编辑~/.bashrc：
</p>

<div class="org-src-container">
<pre class="src src-sh">[ -f ~/.fzf.bash ] &amp;&amp; <span style="color: #483d8b;">source</span> ~/.fzf.bash

<span style="color: #b22222;"># </span><span style="color: #b22222;">when you select one command, press `C-e` to edit it instead of executing it directly:
</span><span style="color: #a0522d;">FZF_CTRL_R_EDIT_KEY</span>=ctrl-e
<span style="color: #a0522d;">FZF_CTRL_R_EXEC_KEY</span>=enter
<span style="color: #483d8b;">source</span> ~/.fzf-plugins/history-exec.bash
</pre>
</div>

<p>
按 <code>C-r</code> 以模糊方式交互搜索历史记录。
</p>
</div>
</div>
<div id="outline-container-h:d350bc61-7c1e-41d8-b907-b6c2a3f38040" class="outline-3">
<h3 id="h:d350bc61-7c1e-41d8-b907-b6c2a3f38040">bash基础特性-快捷键</h3>
<div class="outline-text-3" id="text-h:d350bc61-7c1e-41d8-b907-b6c2a3f38040">
<p>
常用：
</p>

<div class="org-src-container">
<pre class="src src-sh">Ctrl+u    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#34892;&#39318;&#33267;&#20809;&#26631;&#25152;&#22312;&#22788;&#20043;&#38388;&#30340;&#25152;&#26377;&#23383;&#31526;
</span>Ctrl+k    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#20809;&#26631;&#25152;&#22312;&#22788;&#33267;&#34892;&#23614;&#30340;&#25152;&#26377;&#23383;&#31526;
</span>Ctrl + w  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#21521;&#21069;&#21024;&#38500;&#19968;&#20010;&#35789;
</span>Alt + r   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#24403;&#21069;&#25972;&#34892; 
</span>Ctrl+a    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36339;&#36716;&#33267;&#21629;&#20196;&#34892;&#39318;&#37096;
</span>Ctrl+e    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36339;&#36716;&#33267;&#21629;&#20196;&#34892;&#23614;&#37096;
</span>Ctrl + f  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#23383;&#31526;&#21069;&#31227;&#65288;&#21491;&#21521;&#31227;&#21160;&#65289;
</span>Ctrl + b  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#23383;&#31526;&#21518;&#31227;&#65288;&#24038;&#21521;&#65289;
</span>Alt + f   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#21333;&#35789;&#21069;&#31227;&#65288;&#21491;&#21521;&#65289;
</span>Alt + b   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#21333;&#35789;&#21518;&#31227;&#65288;&#24038;&#21521;&#65289;
</span>Ctrl+l    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#23631;&#65292;&#30456;&#24403;&#20110;clear
</span>Ctrl + c  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#32456;&#27490;&#21629;&#20196;
</span>Ctrl + D  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36864;&#20986;&#30331;&#24405;&#65292;&#19982; exit &#20316;&#29992;&#19968;&#26679;
</span><span style="color: #483d8b;">export</span> <span style="color: #a0522d;">EDITOR</span>=vim&#65292;C-x C-e&#36827;&#20837;vim&#65292;bash&#20250;&#21019;&#24314;&#19968;&#20010;&#20020;&#26102;&#25991;&#20214;&#36827;&#34892;&#32534;&#36753;&#65292;&#24403;&#20320;&#20445;&#23384;&#24182;&#36864;&#20986;vim&#26102;&#65292;bash&#20250;&#25191;&#34892;&#25991;&#20214;&#20869;&#23481;.
</pre>
</div>

<p>
生活在 Bash shell 中，熟记以下快捷键，将极大的提高你的命令行操作效率。
</p>

<p>
<b>1 编辑命令</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">Ctrl + a   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31227;&#21040;&#21629;&#20196;&#34892;&#39318;
</span>Ctrl + e   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31227;&#21040;&#21629;&#20196;&#34892;&#23614;
</span>Ctrl + f   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#23383;&#31526;&#21069;&#31227;&#65288;&#21491;&#21521;&#31227;&#21160;&#65289;
</span>Ctrl + b   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#23383;&#31526;&#21518;&#31227;&#65288;&#24038;&#21521;&#65289;
</span>Alt + f    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#21333;&#35789;&#21069;&#31227;&#65288;&#21491;&#21521;&#65289;
</span>Alt + b    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#21333;&#35789;&#21518;&#31227;&#65288;&#24038;&#21521;&#65289;
</span>Ctrl + xx  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#21629;&#20196;&#34892;&#39318;&#21644;&#20809;&#26631;&#20043;&#38388;&#31227;&#21160;
</span>Ctrl + u   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#21024;&#38500;&#33267;&#21629;&#20196;&#34892;&#39318;
</span>Ctrl + k   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#21024;&#38500;&#33267;&#21629;&#20196;&#34892;&#23614;
</span>Ctrl + w   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#21521;&#21069;&#21024;&#38500;&#19968;&#20010;&#35789;
</span>Alt + r    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#24403;&#21069;&#25972;&#34892;
</span>Ctrl + w   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#21024;&#38500;&#33267;&#23383;&#39318;,&#23427;&#21024;&#38500;&#20809;&#26631;&#21069;&#30340;&#19968;&#20010;&#21333;&#35789;
</span>Alt + d    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#21024;&#38500;&#33267;&#23383;&#23614;
</span>Ctrl + d   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#20809;&#26631;&#22788;&#30340;&#23383;&#31526;
</span>
Ctrl + h   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#20809;&#26631;&#21069;&#19968;&#20010;&#23383;&#31526;,&#21516; backspace &#38190;&#30456;&#21516;
</span>Ctrl + y   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#21024;&#38500;&#30340;&#23383;&#31526;&#31896;&#36148;&#33267;&#20809;&#26631;&#21518;&#65311;
</span>Alt + c    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#26356;&#25913;&#20026;&#39318;&#23383;&#27597;&#22823;&#20889;&#30340;&#21333;&#35789;
</span>Alt + u    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#26356;&#25913;&#20026;&#20840;&#37096;&#22823;&#20889;&#30340;&#21333;&#35789;
</span>Alt + l    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#20809;&#26631;&#22788;&#26356;&#25913;&#20026;&#20840;&#37096;&#23567;&#20889;&#30340;&#21333;&#35789;
</span>Ctrl + t   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20132;&#25442;&#20809;&#26631;&#22788;&#21644;&#20043;&#21069;&#30340;&#23383;&#31526;
</span>Alt + t    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20132;&#25442;&#20809;&#26631;&#22788;&#21644;&#20043;&#21069;&#30340;&#21333;&#35789;
</span>ctrl+i     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31561;&#21516;&#20110;&#25353;&#21046;&#34920;&#31526;&lt;TAB&gt;&#38190;
</span>Alt + Backspace  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19982; Ctrl + w &#30456;&#21516;&#31867;&#20284;&#65292;&#20998;&#38548;&#31526;&#26377;&#20123;&#24046;&#21035; [&#24863;&#35874; rezilla &#25351;&#27491;]
</span>Alt + <span style="color: #b22222;">#          </span><span style="color: #b22222;">#&#25353;&#20303;alt&#38190;&#20877;&#25353;&#25968;&#23383;&#65292;&#25552;&#31034;&#36755;&#20837;&#25351;&#23450;&#23383;&#31526;&#21518;&#65292;&#37325;&#22797;&#26174;&#31034;&#35813;&#23383;&#31526;#&#27425;</span>
</pre>
</div>

<p>
注意：Alt组合快捷键经常和其它软件冲突，下面是xshell设置
</p>


<figure id="orgac219f8">
<img src="./images/image-20210215175838455.png" alt="image-20210215175838455.png" width="50%">

</figure>

<p>
<b>2. 重新执行命令</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">Ctrl + r  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36870;&#21521;&#25628;&#32034;&#21629;&#20196;&#21382;&#21490;
</span>Ctrl + g  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#21382;&#21490;&#25628;&#32034;&#27169;&#24335;&#36864;&#20986;
</span>Ctrl + p  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21382;&#21490;&#20013;&#30340;&#19978;&#19968;&#26465;&#21629;&#20196;
</span>Ctrl + n  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21382;&#21490;&#20013;&#30340;&#19979;&#19968;&#26465;&#21629;&#20196;
</span>Alt + .   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;</span>
</pre>
</div>

<p>
<b>3. 控制命令</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">Ctrl + l  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28165;&#23631;
</span>Ctrl + o  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25191;&#34892;&#24403;&#21069;&#21629;&#20196;&#65292;&#24182;&#36873;&#25321;&#19978;&#19968;&#26465;&#21629;&#20196;
</span>Ctrl + s  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#38459;&#27490;&#23631;&#24149;&#36755;&#20986;
</span>Ctrl + q  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20801;&#35768;&#23631;&#24149;&#36755;&#20986;
</span>Ctrl + c  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#32456;&#27490;&#21629;&#20196;
</span>Ctrl + z  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25346;&#36215;&#21629;&#20196;,&#25226;&#24403;&#21069;&#36827;&#31243;&#36716;&#21040;&#21518;&#21488;&#36816;&#34892;&#65292;&#20351;&#29992;fg&#21629;&#20196;&#24674;&#22797;&#12290;</span>
</pre>
</div>

<p>
<b>4. Bang (!) 命令</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">!!         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25191;&#34892;&#19978;&#19968;&#26465;&#21629;&#20196;
</span>!blah      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25191;&#34892;&#26368;&#36817;&#30340;&#20197; blah &#24320;&#22836;&#30340;&#21629;&#20196;&#65292;&#22914; !ls
</span>!blah:p    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20165;&#25171;&#21360;&#36755;&#20986;&#65292;&#32780;&#19981;&#25191;&#34892;
</span>!$         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#26368;&#21518;&#19968;&#20010;&#21442;&#25968;&#65292;&#19982; Alt + . &#30456;&#21516;
</span>!$:p       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#36755;&#20986; !$ &#30340;&#20869;&#23481;
</span>!*         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#19968;&#26465;&#21629;&#20196;&#30340;&#25152;&#26377;&#21442;&#25968;
</span>!*:p       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#36755;&#20986; !* &#30340;&#20869;&#23481;
</span>^blah      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#19978;&#19968;&#26465;&#21629;&#20196;&#20013;&#30340; blah
</span>^blah^foo  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#19978;&#19968;&#26465;&#21629;&#20196;&#20013;&#30340; blah &#26367;&#25442;&#20026; foo
</span>^blah^foo^ <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#19978;&#19968;&#26465;&#21629;&#20196;&#20013;&#25152;&#26377;&#30340; blah &#37117;&#26367;&#25442;&#20026; foo</span>
</pre>
</div>

<p>
<b>友情提示：</b>
</p>

<p>
以上介绍的大多数 Bash 快捷键仅当在 emacs 编辑模式时有效，若你将 Bash
配置为 vi 编辑模式，那将遵循 vi 的按键绑定。Bash 默认为 emacs 编辑模式。
如果你的 Bash 不在 emacs 编辑模式，可通过:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> -o emacs

^S&#12289;^Q&#12289;^C&#12289;^Z &#26159;&#30001;&#32456;&#31471;&#35774;&#22791;&#22788;&#29702;&#30340;&#65292;&#21487;&#29992; stty &#21629;&#20196;&#35774;&#32622;&#12290;
</pre>
</div>

<p>
<b>5. esc组合</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">ESC-c  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#19968;&#19979;ESC &#20877;&#25353;c&#12290;&#20809;&#26631;&#20572;&#30041;&#22788;&#30340;&#23383;&#27597;&#21464;&#22823;&#20889;&#65292;&#24182;&#19988;&#20809;&#26631;&#20999;&#25442;&#21040;&#21333;&#35789;&#32467;&#23614;&#12290;&#32780;&#19981;&#26159;&#21629;&#20196;&#34892;&#32467;&#23614;&#12290;
</span>ESC-u  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25353;&#19968;&#19979;ESC &#20877;&#25353;u&#12290;&#22312;&#21333;&#35789;&#19978;&#65292;&#20809;&#26631;&#21518;&#30340;&#25152;&#26377;&#23383;&#27597;&#21464;&#22823;&#20889;&#65292;&#24182;&#19988;&#20809;&#26631;&#20999;&#25442;&#21040;&#21333;&#35789;&#32467;&#23614;&#12290;&#32780;&#19981;&#26159;&#21629;&#20196;&#34892;&#32467;&#23614;&#12290;
</span>ESC-l  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21516;ESC-u, &#20294;&#20351;&#20043;&#20840;&#21464;&#20026;&#23567;&#20889;.
</span>esc+d  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#20809;&#26631;&#21518;&#30340;&#19968;&#20010;&#35789;,&#22914;&#65306;abcd efgh &#20809;&#26631;&#20572;&#22312;b&#22788;&#65292;&#21024;&#38500;&#20809;&#26631;&#65288;&#21253;&#25324;&#65289;&#21518;cd&#65292;&#20809;&#26631;&#20301;&#32622;&#31227;&#21160;&#21040;&#35813;&#21333;&#35789;&#32467;&#23614;&#12290;
</span>esc+f  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24448;&#21491;&#36339;&#19968;&#20010;&#35789;;&#20809;&#26631;&#20572;&#30041;&#22312;&#36825;&#20010;&#35789;&#21518;&#38754;&#31532;&#19968;&#20010;&#31354;&#23383;&#31526;&#20301;&#32622;&#12290;
</span>esc+b  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24448;&#24038;&#36339;&#19968;&#20010;&#35789;&#65307;&#20809;&#26631;&#20572;&#30041;&#22312;&#36825;&#20010;&#35789;&#21518;&#38754;&#39318;&#23383;&#31526;&#20301;&#32622;&#12290;
</span>esc+t  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20132;&#25442;&#20809;&#26631;&#20301;&#32622;&#21069;&#30340;&#20004;&#20010;&#21333;&#35789;&#12290;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4e21f79c-0d1e-43b2-8c8d-43860e4c8e01" class="outline-3">
<h3 id="h:4e21f79c-0d1e-43b2-8c8d-43860e4c8e01">登录提示</h3>
<div class="outline-text-3" id="text-h:4e21f79c-0d1e-43b2-8c8d-43860e4c8e01">
</div>
<div id="outline-container-h:c53ab1e2-97fd-4513-abfb-7c49084cb641" class="outline-4">
<h4 id="h:c53ab1e2-97fd-4513-abfb-7c49084cb641">登录前提示</h4>
<div class="outline-text-4" id="text-h:c53ab1e2-97fd-4513-abfb-7c49084cb641">
<p>
在命令行模式下本地终端(tty1-tty6)登录界面，会有几行提示文字，这些文字都保存在/etc/issue文件中，可以自行修改
</p>

<div class="org-src-container">
<pre class="src src-sh">/etc/issue
/etc/issue.d/*.issue

<span style="color: #b22222;">#</span><span style="color: #b22222;">issue &#25903;&#25345;&#36716;&#20041;&#23383;&#31526;&#65292;&#20840;&#37096;&#21487;&#20197;&#29992;&#30340;&#36716;&#20041;&#23383;&#31526;&#21487;&#20197;&#36890;&#36807; man agetty &#26597;&#30475;&#65292;&#36825;&#37324;&#21015;&#20986;&#24120;&#29992;&#30340;
</span>\d    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24403;&#21069;&#31995;&#32479;&#26085;&#26399;
</span>\S    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#25805;&#20316;&#31995;&#32479;&#21517;&#31216;
</span>\m   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#30828;&#20214;&#31995;&#32479;&#32467;&#26500;&#65292;&#22914;i386, i686&#31561;
</span>\n    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#20027;&#26426;&#21517;
</span>\o    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#22495;&#21517;
</span>\r     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#20869;&#26680;&#29256;&#26412;
</span>\t     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24403;&#21069;&#31995;&#32479;&#26102;&#38388;
</span>\u    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#24403;&#21069;&#30331;&#24405;&#29992;&#25143;&#30340;&#24207;&#21015;&#21495;
</span>\l     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#32456;&#31471;&#32534;&#21495;</span>
</pre>
</div>

<p>
如果是远程终端ssh登录，则其登录前信息，可以放在 <code>/etc/issue.net</code> 中，但是该文件的内容不支持转义
</p>

<p>
如果要使用远程终端ssh登录前的提示信息，还需要修改ssh的相关配置文件
</p>

<div class="org-src-container">
<pre class="src src-sh">vim /etc/ssh/sshd_config

<span style="color: #b22222;">#</span><span style="color: #b22222;">Banner none &#23558;&#27492;&#22788;banner&#25351;&#21521;&#23545;&#24212;&#30340;&#25991;&#20214;&#21363;&#21487;
</span>Banner /etc/issue.net

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#21551;ssh&#26381;&#21153;
</span>systemctl restart  sshd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cc2a7b9a-75ab-4b0f-baf1-bbf67cd1a826" class="outline-4">
<h4 id="h:cc2a7b9a-75ab-4b0f-baf1-bbf67cd1a826">登录后提示</h4>
<div class="outline-text-4" id="text-h:cc2a7b9a-75ab-4b0f-baf1-bbf67cd1a826">
<p>
<code>vim  /etc/pam.d/sshd</code>
</p>

<p>
此文件只适用于命令行界面，如果是图形界面，将不显示此文件内容
</p>

<pre class="example" id="orgcc13e58">
/etc/motd
/etc/motd.d/
</pre>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu&#20013;&#65292;&#38656;&#35201;&#21019;&#24314;&#27492;&#25991;&#20214;
</span>vim /etc/motd

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#30331;&#24405;&#21518;&#30340;&#25552;&#31034;&#26469;&#33258;&#20110;&#27492;&#30446;&#24405;&#19979;&#19981;&#21516;&#25991;&#20214;&#65292;&#22914;&#26524;&#19981;&#38656;&#35201;&#40664;&#35748;&#25552;&#31034;&#65292;&#21487;&#20197;&#23558;&#35813;&#30446;&#24405;&#21024;&#38500;
</span>ls /etc/update-motd.d/
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:7c7280bd-9895-4822-863b-b9284ee81804" class="outline-2">
<h2 id="h:7c7280bd-9895-4822-863b-b9284ee81804">获取帮助</h2>
<div class="outline-text-2" id="text-h:7c7280bd-9895-4822-863b-b9284ee81804">
<p>
命令的获取有多种方式
</p>

<ul class="org-ul">
<li>whatis</li>
<li>command &#x2013;help</li>
<li>man and info</li>
<li><i>usr/share/doc</i></li>
<li>Red Hat documentation 、Ubuntu documentation</li>
<li>软件项目网站</li>
<li>其它网站</li>
<li>搜索</li>
</ul>


<p>
查看命令的类型:
type COMMAND
</p>
</div>
<div id="outline-container-h:4cb48e39-6d97-4050-862b-87bf9ceca9b9" class="outline-3">
<h3 id="h:4cb48e39-6d97-4050-862b-87bf9ceca9b9">whatis</h3>
<div class="outline-text-3" id="text-h:4cb48e39-6d97-4050-862b-87bf9ceca9b9">
<p>
whatis 使用数据库来显示命令的简短描述，以及对应的man手册的章节
</p>

<p>
刚安装好系统后不可立即使用，需要做数据库初始化
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS 7 &#29256;&#26412;&#20197;&#21518;
</span>mandb

<span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS 6 &#29256;&#26412;&#20043;&#21069;
</span>makewhatis
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#whatis cal
<span style="color: #0000ff;">cal</span> (1)       - display a calendar
<span style="color: #0000ff;">cal</span> (1p)       - print a calendar
[root@centos8 ~]#man -f cal
<span style="color: #0000ff;">cal</span> (1)       - display a calendar
<span style="color: #0000ff;">cal</span> (1p)       - print a calendar
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#whatis ls
ls: nothing appropriate.

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;man&#30456;&#20851;&#25968;&#25454;&#24211;
</span>[root@centos8 ~]#mandb
Processing manual pages under /usr/share/man...
Updating index cache for path <span style="color: #ff00ff;">`/usr/share/man/mann'. Wait...done.
Checking for stray cats under /usr/share/man...
...&#30465;&#30053;...
0 old database entries were purged.

[root@centos8 ~]#whatis ls
ls (1)        - list directory contents</span>
</pre>
</div>

<p>
whereis可以列出命令或者系统文件路径，以及对应的man手册中的文档路径
</p>

<div class="org-src-container">
<pre class="src src-sh">jasper@debian:~$ whereis ls
ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4b4c5042-515d-484a-9886-3de71a8d2ce5" class="outline-3">
<h3 id="h:4b4c5042-515d-484a-9886-3de71a8d2ce5">查看命令帮助</h3>
<div class="outline-text-3" id="text-h:4b4c5042-515d-484a-9886-3de71a8d2ce5">
</div>
<div id="outline-container-h:87968cf1-c05e-47da-bd18-e3e2a657cc25" class="outline-4">
<h4 id="h:87968cf1-c05e-47da-bd18-e3e2a657cc25">内部命令help：</h4>
<div class="outline-text-4" id="text-h:87968cf1-c05e-47da-bd18-e3e2a657cc25">
<p>
help COMMAND
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# help type
<span style="color: #483d8b;">type</span>: type [-afptP] name [name ...]
    Display information about command type.
    Options:
      -a    display all locations containing an executable named NAME;
        includes aliases, builtins, and functions, if and only if
        the <span style="color: #ff00ff;">`-p' option is not also used
      -f    suppress shell function lookup
      -P    force a PATH search for each NAME, even if it is an alias,</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4d2fce47-7533-4d4f-9136-701ed621287c" class="outline-4">
<h4 id="h:4d2fce47-7533-4d4f-9136-701ed621287c">外部命令：</h4>
<div class="outline-text-4" id="text-h:4d2fce47-7533-4d4f-9136-701ed621287c">
<p>
对于外部命令，命令的使用帮助有多种
</p>

<p>
<b>1、命令自带简要格式的使用帮助 &#x2013;help -h</b>
</p>
<div class="org-src-container">
<pre class="src src-sh">~]# COMAND --help &#65292;&#22914; ls --help
</pre>
</div>

<p>
<b>2、使用手册：manual，这个命令得带有手册</b>
</p>

<p>
手册的位置在/usr/share/man，
</p>

<p>
命令man COMMAND
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# man ls
</pre>
</div>

<p>
<b>3、info COMMAND</b> 获取命令的在线文档
</p>

<p>
<b>4、很多应用程序自带帮助文档：/usr/share/doc/APP-VERSION(命令名跟上版
本号)</b>
</p>

<ul class="org-ul">
<li>README：程序的相关的信息</li>
<li>INSTALL：安装帮助</li>
<li>CHANGES：版本迭代时的改动信息</li>
</ul>

<p>
如：docker
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# ll  /usr/share/doc/docker-1.12.6/
total 272
-rw-r--r-- 1 root root  56809 Sep 20 21:29 AUTHORS
-rw-r--r-- 1 root root 158919 Sep 20 21:29 CHANGELOG.md
-rw-r--r-- 1 root root  18061 Sep 20 21:29 CONTRIBUTING.md
-rw-r--r-- 1 root root   8762 Sep 20 21:29 MAINTAINERS
-rw-r--r-- 1 root root    638 Sep 20 21:29 NOTICE
-rw-r--r-- 1 root root  20467 Sep 20 21:29 README.md
-rw-r--r-- 1 root root    430 Oct 24 23:41 README-vim-syntax.md
</pre>
</div>

<p>
<b>5、主流发行版官方文档：</b>
</p>

<p>
<a href="http://www.redhat.com/docs">http://www.redhat.com/docs</a>
</p>

<p>
<b>6、程序的官方文档：</b> 官方站点上的“Document”
</p>

<p>
<b>7、用好搜索引擎</b>
</p>

<ul class="org-ul">
<li>Google 引擎的利用，如搜索PDF文档：</li>
<li>keyword filetype:pdf</li>
<li>keyword site:domain.tld #不要加www</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:e447c13c-5235-42ae-a4ae-b50ad19079e7" class="outline-3">
<h3 id="h:e447c13c-5235-42ae-a4ae-b50ad19079e7">&#x2013;help 或 -h 选项</h3>
<div class="outline-text-3" id="text-h:e447c13c-5235-42ae-a4ae-b50ad19079e7">
<p>
显示用法总结和参数列表，大多数命令使用，但并非所有的
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#date --help
Usage: date [OPTION]... [+FORMAT]
or: date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
Display the current time<span style="color: #a020f0;"> in</span> the given FORMAT, or set the system date.

[root@centos8 ~]#cal -h
Usage:
cal [options] [[[day] month] year]
cal [options] &lt;timestamp|monthname&gt;

[root@centos8 ~]#openssl --help
Invalid command <span style="color: #8b2252;">'--help'</span>; <span style="color: #483d8b;">type</span> <span style="color: #8b2252;">"help"</span> for a list.

[root@centos8 ~]#date -h
date: invalid option -- <span style="color: #8b2252;">'h'</span>
Try <span style="color: #8b2252;">'date --help'</span> for more information.
[root@centos8 ~]#shutdown -h
Shutdown scheduled for Fri 2020-03-20 08:26:27 CST, use <span style="color: #8b2252;">'shutdown -c'</span> to cancel.
</pre>
</div>

<p>
格式说明：
</p>

<pre class="example" id="org6f61bf4">
[] 表示可选项
CAPS或 &lt;&gt; 表示变化的数据
... 表示一个列表
x |y| z 的意思是“ x 或 y 或 z ”
-abc的 意思是 -a -b –c
{ } 表示分组
</pre>
</div>
</div>
<div id="outline-container-h:2f99e4b6-9106-4d86-a60d-741d251a65b8" class="outline-3">
<h3 id="h:2f99e4b6-9106-4d86-a60d-741d251a65b8">man 命令</h3>
<div class="outline-text-3" id="text-h:2f99e4b6-9106-4d86-a60d-741d251a65b8">
<p>
man 提供命令帮助的文件,手册页存放在/usr/share/man
</p>

<p>
几乎每个命令都有man的“页面” 中文man需安装包
</p>

<ul class="org-ul">
<li>man-pages</li>
<li>man-pages-zh-CN</li>
</ul>

<p>
<b>man 页面分组</b>
</p>

<p>
不同类型的帮助称为不同的“章节”，统称为Linux手册，man 1 man
</p>

<ul class="org-ul">
<li>1：用户命令 普通用户和管理员都可以运行的命令</li>
<li>2：系统调用 程序员会用到</li>
<li>3：C库调用</li>
<li>4：设备文件及特殊文件</li>
<li>5：配置文件格式</li>
<li>6：游戏</li>
<li>7：杂项</li>
<li>8：管理类的命令</li>
<li>9：Linux 内核API</li>
</ul>

<p>
man命令的配置文件：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS 6 &#20043;&#21069;&#29256; man &#30340;&#37197;&#32622;&#25991;&#20214;
</span>/etc/man.config

<span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS 7 &#20043;&#21518;&#29256; man &#30340;&#37197;&#32622;&#25991;&#20214;
</span>/etc/man_db.conf

<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu man &#30340;&#37197;&#32622;&#25991;&#20214;
</span>/etc/manpath.config
</pre>
</div>

<p>
<b>man命令常见用法</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">man [&#36873;&#39033;...]  [&#31456;&#33410;]  &#25163;&#20876;&#39029;...
</span>
man passwd               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#40664;&#35748;&#25171;&#24320;&#31532;&#19968;&#31456;&#24110;&#21161;
</span>man [&#31456;&#33410;] passwd        <span style="color: #b22222;">#</span><span style="color: #b22222;">
</span>
man -a passwd            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#24320;&#25152;&#26377;&#24110;&#21161;
</span>man -f passwd            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;passwd&#30456;&#20851;&#30340;&#31456;&#33410;&#65292;&#30456;&#24403;&#20110;whatis pawwd
</span>man -k passwd            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;man&#25163;&#20876;&#20013;&#25628;&#32034;&#25152;&#26377;&#19982;passwd&#30456;&#20851;&#30340;&#20869;&#23481;&#65292;&#20351;&#29992;whatis&#25968;&#25454;&#20179;
</span>
man -w [&#31456;&#33410;] ls              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;ls&#30340;man&#25991;&#20214;&#36335;&#24452;
</span>man -aw passwd                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#25152;&#26377;passwd&#30456;&#20851;&#30340;man&#25991;&#20214;&#36335;&#24452;
</span>man -M /usr/share/man/zh_CN   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#20013;&#25991;man&#30340;&#20869;&#23481;
</span>man -l  /path/dir/file        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35299;&#21387;&#32553;&#24182;&#26684;&#24335;&#21270; nroff &#28304;&#25163;&#20876;&#39029;
</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#20851;&#38190;&#23383;&#21450;&#26684;&#24335;
</span>[] &#21487;&#36873;&#20869;&#23481;
&lt;&gt; &#24517;&#36873;&#20869;&#23481;
a|b|c&#65306;&#22810;&#36873;&#19968;
{ } &#20998;&#32452;
... &#21516;&#19968;&#20869;&#23481;&#21487;&#20986;&#29616;&#22810;&#27425;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#27573;&#33853;&#35828;&#26126;
</span>NAME                     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21517;&#31216;&#21450;&#31616;&#35201;&#35828;&#26126;
</span>SYNOPSIS                 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29992;&#27861;&#26684;&#24335;&#35828;&#26126;
</span>DESCRIPTION              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35814;&#32454;&#35828;&#26126;
</span>FILE                     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#20851;&#25991;&#20214;
</span>OPTIONS                  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36873;&#39033;&#35828;&#26126;
</span>AUTHOR                   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20316;&#32773;
</span>REPORTING BUGS           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#20851;bug&#20449;&#24687;
</span>COPYRIGHT                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29256;&#26435;&#21644;&#24320;&#28304;&#21327;&#35758;&#20449;&#24687;
</span>EXAMPLES                 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#31034;&#20363;
</span>SEE ALSO                 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20854;&#23427;&#24110;&#21161;&#21442;&#32771;
</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20854;&#23427;&#21629;&#20196;
</span><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;Man&#25163;&#20876;&#25991;&#20214;&#36335;&#24452;
</span>jasper@debian:~$ manpath 
/usr/local/man:/usr/local/share/man:/usr/share/ma

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25351;&#23450;man&#25163;&#20876;&#25991;&#20214;&#36335;&#24452;
</span>manpath /path/dir

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#25351;&#23450;&#20301;&#32622;&#19979;&#25628;&#32034;&#65292;&#33258;&#23450;&#20041;&#23433;&#35013;&#30340;&#36719;&#20214;&#65292;&#29992;man&#26597;&#30475;&#24110;&#21161;&#65292;&#21487;&#20197;&#25351;&#23450;man&#25991;&#20214;&#22320;&#22336;
</span>man -M  /path/dir  COMMAND


man&#21629;&#20196;&#30340;&#25805;&#20316;&#26041;&#27861;&#65306;&#20351;&#29992;less&#21629;&#20196;&#23454;&#29616;
- h, H:  &#25171;&#24320;&#24110;&#21161;&#12290; ^&#34920;&#31034;ctrl&#38190;
- RETURN, ^N, e, ^E or j or ^J   &#24448;&#19979;&#19968;&#34892;
- y or ^Y or ^P or k or ^K         &#24448;&#19978;&#19968;&#34892;
- space, ^v, ^f, ^F: &#21521;&#25991;&#20214;&#23614;&#32763;&#23631;
- b, ^b: &#21521;&#25991;&#20214;&#39318;&#37096;&#32763;&#23631;
- d, ^d: &#21521;&#25991;&#20214;&#23614;&#37096;&#32763;&#21322;&#23631;
- u, ^u: &#21521;&#25991;&#20214;&#39318;&#37096;&#32763;&#21322;&#23631;
- q: &#36864;&#20986;
- <span style="color: #b22222;">#</span><span style="color: #b22222;">&#65306;&#36339;&#36716;&#33267;&#31532;#&#34892;
</span>- 1G: &#22238;&#21040;&#25991;&#20214;&#39318;&#37096;
- G&#65306;&#32763;&#33267;&#25991;&#20214;&#23614;&#37096;
- /KEYWORD

  &#20197;KEYWORD&#25351;&#23450;&#30340;&#23383;&#31526;&#20018;&#20026;&#20851;&#38190;&#23383;&#65292;&#20174;&#24403;&#21069;&#20301;&#32622;&#21521;&#25991;&#20214;&#23614;&#37096;&#25628;&#32034;&#65307;&#19981;&#21306;&#20998;&#23383;&#31526;&#22823;&#23567;&#20889;

  n&#65306;&#19979;&#19968;&#20010;&#65307; N&#65306;&#19978;&#19968;&#20010;

- ?KEYWORD

  &#20197;KEYWORD&#25351;&#23450;&#30340;&#23383;&#31526;&#20018;&#20026;&#20851;&#38190;&#23383;&#65292;&#20174;&#24403;&#21069;&#20301;&#32622;&#21521;&#25991;&#20214;&#39318;&#37096;&#25628;&#32034;&#65307;&#19981;&#21306;&#20998;&#23383;&#31526;&#22823;&#23567;&#20889;

  n&#65306;&#36319;&#25628;&#32034;&#21629;&#20196;&#21516;&#26041;&#21521;&#65292;&#19979;&#19968;&#20010;&#65307; N&#65306;&#36319;&#25628;&#32034;&#21629;&#20196;&#21453;&#26041;&#21521;&#65292;&#19978;&#19968;&#20010;
</pre>
</div>


<p>
格式：
</p>
<div class="org-src-container">
<pre class="src src-sh">MANPATH /PATH/TO/SOMEWHERE <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25351;&#26126;man&#25991;&#20214;&#25628;&#32034;&#20301;&#32622;</span>
</pre>
</div>

<p>
也可以指定位置下搜索COMMAND命令的手册页并显示
</p>

<div class="org-src-container">
<pre class="src src-sh">man -M /PATH/TO/SOMEWHERE COMMAND
</pre>
</div>

<p>
范例：
</p>

<pre class="example" id="orged772bb">
[root@centos7 ~]#vim /etc/man_db.conf
MANDATORY_MANPATH      /apps/tree/man 
</pre>


<p>
<b>打开指定目录下的命令手册</b>
</p>

<p>
如果man手册不在标准路径下，man是找不到它们的，可以通过 -M 选项指明。
</p>

<p>
-M /PATH/TO/SOMEDIR: 到指定目录下查找命令手册并打开之；
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 learnc]# whereis write
write: /usr/bin/write /usr/share/man/man1/write.1.gz /usr/share/man/man1p/write.1p.gz /usr/share/man/man2/write.2.gz /usr/share/man/man3p/write.3p.gz
[root@node01 learnc]# whatis write
<span style="color: #0000ff;">write</span> (1)            - send a message to another user
<span style="color: #0000ff;">write</span> (1p)           - write to another user&#65288;&#21644;&#24320;&#21457;&#30456;&#20851;&#65289;
<span style="color: #0000ff;">write</span> (2)            - write to a file descriptor
<span style="color: #0000ff;">write</span> (3p)           - write on a file
[root@node01 learnc]# man 3p write
[root@node01 learnc]# man 2 write

[jasperhsu@centos7 /]$ man 1 -M /usr/share/man/man1/cp.1.gz


jasper@debian:~$ whereis ls
ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz

jasper@debian:~$ man -w ls
/usr/share/man/man1/ls.1.gz

jasper@debian:~$ file /usr/share/man/man1/ls.1.gz
/usr/share/man/man1/ls.1.gz: gzip compressed data, max compression, from Unix, original size modulo 2^32 8067

jasper@debian:~$ man -l /usr/share/man/man1/ls.1.gz
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f1bb2ef5-4f43-42c5-8bb3-5845ed0b495f" class="outline-3">
<h3 id="h:f1bb2ef5-4f43-42c5-8bb3-5845ed0b495f">info</h3>
<div class="outline-text-3" id="text-h:f1bb2ef5-4f43-42c5-8bb3-5845ed0b495f">
<p>
man常用于命令参考 ，GNU工具 info 适合通用文档参考
</p>

<p>
整个结构类型于一个网站，有导航，支持链接跳转。
</p>

<p>
没有参数，默认进入的是首页。
</p>

<p>
每一页分为“节点”
</p>

<p>
链接节点之前 *
</p>

<div class="org-src-container">
<pre class="src src-sh">info              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36827;&#20837;&#25972;&#20010;Info&#25991;&#26723;
</span>info ls           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;info&#20013;&#26597;&#30475;ls&#30340;&#20449;&#24687;
</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#24555;&#25463;&#38190;
</span>&#26041;&#21521;&#38190;             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#19979;&#19968;&#34892;
</span>PgUp&#65292;PgDn   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#19979;&#32763;&#23631;
</span>Tab&#38190;              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31227;&#21160;&#21040;&#19979;&#19968;&#20010;&#38142;&#25509;
</span>Enter               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36827;&#20837; &#36873;&#23450;&#38142;&#25509;
</span>s                     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25991;&#23383; &#25991;&#26412;&#25628;&#32034;
</span>n/p/u/l            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36827;&#20837;&#19979;/&#21069;/&#19978;&#19968;&#23618;/&#26368;&#21518;&#19968;&#20010;&#38142;&#25509;
</span>q                    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36864;&#20986; info
</span>d                    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#20027;&#39064;&#30446;&#24405;
</span>Home             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#20027;&#39064;&#39318;&#37096;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:df2cda81-10a0-4558-b7c2-ad878f958cfb" class="outline-3">
<h3 id="h:df2cda81-10a0-4558-b7c2-ad878f958cfb">命令自身提供的官方使用指南</h3>
<div class="outline-text-3" id="text-h:df2cda81-10a0-4558-b7c2-ad878f958cfb">
<p>
/usr/share/doc 目录
</p>

<p>
多数安装了的软件包的子目录,包括了这些软件的相关原理说明
</p>

<p>
常见文档：README INSTALL CHANGES
</p>

<p>
不适合其它地方的文档的位置
</p>

<p>
配置文件范例
</p>

<p>
HTML/PDF/PS 格式的文档
</p>

<p>
授权书详情
</p>
</div>
</div>
<div id="outline-container-h:60547678-a236-4056-84b7-8c4f04319df1" class="outline-3">
<h3 id="h:60547678-a236-4056-84b7-8c4f04319df1">系统及第三方应用官方文档</h3>
<div class="outline-text-3" id="text-h:60547678-a236-4056-84b7-8c4f04319df1">
</div>
<div id="outline-container-h:f5bfe2e0-aa09-4e08-b04f-b7c38d42dad7" class="outline-4">
<h4 id="h:f5bfe2e0-aa09-4e08-b04f-b7c38d42dad7">通过在线文档获取帮助</h4>
<div class="outline-text-4" id="text-h:f5bfe2e0-aa09-4e08-b04f-b7c38d42dad7">
<ul class="org-ul">
<li><a href="http://www.github.com">http://www.github.com</a> 大部分开源软件存放地</li>
<li><a href="https://www.kernel.org/doc/html/latest/">https://www.kernel.org/doc/html/latest/</a> 内核文档</li>
<li><a href="http://httpd.apache.org">http://httpd.apache.org</a></li>
<li><a href="http://www.nginx.org">http://www.nginx.org</a></li>
<li><a href="https://mariadb.com/kb/en">https://mariadb.com/kb/en</a></li>
<li><a href="https://dev.mysql.com/doc/">https://dev.mysql.com/doc/</a></li>
<li><a href="http://tomcat.apache.org">http://tomcat.apache.org</a></li>
<li><a href="https://jenkins.io/zh/doc/">https://jenkins.io/zh/doc/</a></li>
<li><a href="https://kubernetes.io/docs/home/">https://kubernetes.io/docs/home/</a></li>
<li><a href="https://docs.openstack.org/train/">https://docs.openstack.org/train/</a></li>
<li><a href="http://www.python.org">http://www.python.org</a></li>
<li><a href="http://php.net">http://php.net</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:a60eb643-f380-487f-aeec-00373b2390f9" class="outline-4">
<h4 id="h:a60eb643-f380-487f-aeec-00373b2390f9">Linux官方在线文档和知识库</h4>
<div class="outline-text-4" id="text-h:a60eb643-f380-487f-aeec-00373b2390f9">
<p>
通过发行版官方的文档光盘或网站可以获得安装指南、部署指南、虚拟化指南等
</p>

<ul class="org-ul">
<li><a href="http://kbase.redhat.com">http://kbase.redhat.com</a></li>
<li><a href="http://www.redhat.com/docs">http://www.redhat.com/docs</a></li>
<li><a href="http://access.redhat.com">http://access.redhat.com</a></li>
<li><a href="https://help.ubuntu.com/lts/serverguide/index.html">https://help.ubuntu.com/lts/serverguide/index.html</a></li>
<li><a href="http://tldp.org">http://tldp.org</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:bf28d357-98a3-48f3-aba7-d01e4b60875a" class="outline-4">
<h4 id="h:bf28d357-98a3-48f3-aba7-d01e4b60875a">红帽全球技术支持服务</h4>
<div class="outline-text-4" id="text-h:bf28d357-98a3-48f3-aba7-d01e4b60875a">
<p>
rhn.redhat.com或者本地卫星服务器/代理服务器
</p>

<p>
RHN账户为及其注册和基于网络管理的RHN用户
</p>

<p>
sosreport 收集所有系统上的日志信息的工具，并自动打成压缩包，方便技术支
持人员和红帽全球支持提供分析问题依据
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#dnf -y install sos
[root@centos8 ~]# sosreport
<span style="color: #0000ff;">sosreport</span> (version 3.6)
This command will collect diagnostic and configuration information from
this CentOS Linux system and installed applications.
An archive containing the collected information will be generated<span style="color: #a020f0;"> in</span>
/var/tmp/sos.8fs1kg3w and may be provided to a CentOS support
representative.
Any information provided to CentOS will be treated<span style="color: #a020f0;"> in</span> accordance with
the published support policies at:
https://wiki.centos.org/
The generated archive may contain data considered sensitive and its
content should be reviewed by the originating organization before being
passed to any third party.
No changes will be made to system configuration.
Press ENTER to continue, or CTRL-C to quit.
Please enter the case id that you are generating this report for []: 2
Setting up archive ...
Setting up plugins ...
Running plugins. Please wait ...
Finishing plugins       [Running: processor]
Finished running plugins
Creating compressed archive...
Your sosreport has been generated and saved<span style="color: #a020f0;"> in</span>:
/var/tmp/sosreport-centos8-2-2020-03-20-xllummc.tar.xz
The checksum is: ffbbe6fa9f009f4024e272fbce500bff
Please send this file to your support representative.
[root@centos8 sysconfig]#ll /var/tmp/sosreport-centos8-2-2020-03-20-
xllummc.tar.xz
-rw------- 1 root root 4409596 Mar 20 18:57 /var/tmp/sosreport-centos8-2-2020-
03-20-xllummc.tar.xz
[root@centos8 sysconfig]#cd
[root@centos8 ~]#ll /var/tmp/sosreport-centos8-2-2020-03-20-xllummc.tar.xz
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:9682505c-51d6-43a1-b576-bea95d034653" class="outline-3">
<h3 id="h:9682505c-51d6-43a1-b576-bea95d034653">TLDR命令</h3>
<div class="outline-text-3" id="text-h:9682505c-51d6-43a1-b576-bea95d034653">
<p>
当我们在使用一个不熟悉的命令时，可以使用-h或&#x2013;h选项来看帮助，或者使用man手册还有看更详细的文档，但这两种方式会列出所有选项，而有些
选项很少使用，根据二八原则，只有一小部分选项才是最常用的。基于此，有人开发了一个开源的查看命令工具，只列出命令的常用选项。
</p>

<p>
TLDR： Too Long; Didn't Read，太长不看，也可以叫作“偷懒的人”
</p>

<ul class="org-ul">
<li>github地址： <a href="https://github.com/tldr-pages/tldr">https://github.com/tldr-pages/tldr</a></li>
<li>官方网站：<a href="https://tldr.inbrowser.app/">https://tldr.inbrowser.app/</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">sudo apt install python3-pip
pip3 install tldr

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475; ls&#21629;&#20196;&#24110;&#21161;
</span>tldr ls
</pre>
</div>
</div>
</div>
<div id="outline-container-h:25d50f32-6936-4156-9049-60a778384b77" class="outline-3">
<h3 id="h:25d50f32-6936-4156-9049-60a778384b77">网站和搜索</h3>
<div class="outline-text-3" id="text-h:25d50f32-6936-4156-9049-60a778384b77">
<p>
<a href="http://www.google.com">http://www.google.com</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25628;&#32034;openstack&#30456;&#20851;&#30340;pdf&#25991;&#20214;
</span>Openstack filetype:pdf   
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#29305;&#23450;&#32593;&#31449;&#25628;&#32034;
</span>rhca site:redhat.com/docs
</pre>
</div>

<p>
<a href="http://www.slideshare.net">http://www.slideshare.net</a> 别人写上的ppt pdf
</p>
</div>
</div>
<div id="outline-container-h:21db0eae-36a1-4e5e-b22d-f940661bb9db" class="outline-3">
<h3 id="h:21db0eae-36a1-4e5e-b22d-f940661bb9db">书籍的出版社推荐：</h3>
<div class="outline-text-3" id="text-h:21db0eae-36a1-4e5e-b22d-f940661bb9db">
<p>
建议直接看外文书籍，计算机英语直接读一段时间就可以适应了
</p>

<ol class="org-ol">
<li><p>
国外出版社推荐
</p>

<p>
O'Reiley
</p>

<p>
Wrox 通常是一个项目的研发者写的。
</p></li>

<li><p>
国内出版社参考
</p>

<p>
机械工业、电子工业、人邮、清华大学、水利水电
</p></li>
</ol>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
