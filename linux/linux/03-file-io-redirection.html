<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux: Linux文件管理和IO重定向</title>
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<!--
<script id="MathJax-script" async="" src="/static/aandds.com/js/mathjax.js"></script>

<script type="text/javascript" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
-->
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Linux: Linux文件管理和IO重定向</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:505dd66a-fe45-4a71-b804-720d52ec4b05">文件管理和IO重定向</a>
<ul>
<li><a href="#h:85cc577c-4718-408a-96fd-06c877f4e6b1">文件系统目录结构</a>
<ul>
<li><a href="#h:877e46ad-140a-4749-943a-13571a18306c">文件系统相关概念：</a></li>
<li><a href="#h:e5629974-f35a-421d-8bba-0a1241bcb3c0">常见的文件系统目录功能</a></li>
<li><a href="#h:5fa96916-3dcb-4411-a718-ca6f173c15a1">应用程序的组成部分</a></li>
<li><a href="#h:52df755b-bba8-4e77-a321-fdcaf8bb0cdf">CentOS 7 以后版本目录结构变化</a></li>
<li><a href="#h:c9c3c5d2-e856-4549-8c7c-51f06c130a01">Linux下的文件类型</a>
<ul>
<li><a href="#orgaac9d9d">创建各类型文件</a></li>
<li><a href="#orgb267bbd">linux 系统中文件类型颜色标识</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:adde0f66-ecef-4af2-973a-7ace1e202d37">文件操作命令</a>
<ul>
<li><a href="#h:2fe60291-ae27-4a1b-9b4f-d21fe7d3c803">显示工作目录 PWD</a></li>
<li><a href="#h:b81d1546-9780-4db8-8ccd-1441f5c07497">绝对和相对路径</a></li>
<li><a href="#h:0e1a6ea6-77d2-4066-8e4e-e5a5b18c3970">切换目录cd</a></li>
<li><a href="#h:483ab726-dd5a-47a7-9229-18b2c388c252">列出指定目录下的内容-ls</a></li>
<li><a href="#h:11dfd3c8-619c-473b-a887-bc649875e652">查看文件状态 stat</a></li>
<li><a href="#h:d3623683-961a-4423-8701-014b12c00721">确定文件内容 file</a></li>
<li><a href="#h:a7cbf658-ddff-4343-98da-e8bbc3d2413b">bash基础特性-文件名通配glob</a></li>
<li><a href="#h:e46a6edb-79fe-4821-9bdf-4401ff2d2f56">创建空文件和刷新时间 touch</a></li>
<li><a href="#h:f74a14de-0898-4465-8ee7-4d2a5301a0f0">文件管理工具：cp,mv,rm</a>
<ul>
<li><a href="#h:0440b7a3-d0c3-44c7-8ed1-d5b08c75dc28">复制文件和目录 cp</a></li>
<li><a href="#h:34bf66c4-57e0-4876-972c-f983972e0661">移动和重命名文件 mv rename</a></li>
<li><a href="#h:90a8736f-63a4-4825-aa96-ddb206a3fc72">删除文件 rm</a></li>
</ul>
</li>
<li><a href="#h:1055a5f8-bb75-4ee3-9c93-b8369414da27">目录操作mkdir,rmdir,tree</a>
<ul>
<li><a href="#h:08345dd3-f238-44f0-8043-4996fc1d0514">显示目录树 tree</a></li>
<li><a href="#h:4453e9d1-0c26-463d-a257-9db74466f835">创建目录 mkdir</a></li>
<li><a href="#h:2652af1d-0070-46f9-a75d-69771d6b7440">删除空目录rmdir</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:40cab184-6462-409a-996b-6a0cda723bbb">文件元数据和节点表结构</a>
<ul>
<li><a href="#h:73a79875-d91d-4119-a3a5-44feceb8eab0">inode表结构</a></li>
<li><a href="#h:73039107-a013-4171-a386-e64f24cc50a4">硬（hard）链接</a></li>
<li><a href="#h:1cca5022-d234-4277-a2b6-c5ebc62dd4f1">符号 symbolic （或软 soft）链接</a></li>
<li><a href="#h:a819e1ae-88b9-40e4-aebb-7bbdd419e989">硬链接和软链接区别总结</a></li>
</ul>
</li>
<li><a href="#h:b5ef970f-ee2b-4255-90f0-3a1884710d33">标准I/O重定向和管道</a>
<ul>
<li><a href="#h:20d58ad1-8afe-4fc6-a960-b3c2b4a6dad9">标准输入和输出</a></li>
<li><a href="#h:30053fd4-6d4b-493b-934f-4183f73b38d3">I/O重定向redirect</a>
<ul>
<li><a href="#h:ecd459dd-3e85-4fa0-9fcf-b67637705a05">标准输出和错误重新定向 &gt; &gt;| &gt;&gt;</a></li>
<li><a href="#h:ac68365f-3004-43bd-afb1-2bead4928835">标准输入重定向 &lt; &lt;&lt; &lt;&lt;&lt;</a></li>
</ul>
</li>
<li><a href="#h:e7cac8ea-11c5-448b-85b9-65a372e3ea0e">管道</a>
<ul>
<li><a href="#h:54993fd8-8b7d-477b-8933-d5663a34df23">管道</a></li>
<li><a href="#h:937bee01-4db8-4527-9832-4004f861ac80">管道中的 - 符号</a></li>
<li><a href="#h:48e80f36-ebff-4f77-8575-57e8e4c90b98">tee 命令</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../index.html">Linux</a></li>
</ul>

<p>
摘要：本文介绍Linux文件管理和IO重定向
</p>
<section id="outline-container-h:505dd66a-fe45-4a71-b804-720d52ec4b05" class="outline-2">
<h2 id="h:505dd66a-fe45-4a71-b804-720d52ec4b05">文件管理和IO重定向</h2>
<div class="outline-text-2" id="text-h:505dd66a-fe45-4a71-b804-720d52ec4b05">
<p>
内容概述
</p>

<ul class="org-ul">
<li>文件系统目录结构</li>
<li>创建和查看文件</li>
<li>复制、转移和删除文件</li>
<li>软和硬链接</li>
<li>IO 重定向和管道</li>
</ul>
</div>
<div id="outline-container-h:85cc577c-4718-408a-96fd-06c877f4e6b1" class="outline-3">
<h3 id="h:85cc577c-4718-408a-96fd-06c877f4e6b1">文件系统目录结构</h3>
<div class="outline-text-3" id="text-h:85cc577c-4718-408a-96fd-06c877f4e6b1">

<figure id="orgdabdf47">
<img src="images/image-20210215211437376.png" alt="image-20210215211437376.png" width="50%">

</figure>


<p>
<b>FHS文件系统</b>
</p>

<p>
FHS(Filesystem Hierarchy Standard: 文件系统层次化标准)，是由Linux基金会维护的，帮助发行版厂商和开发者们使用
共同的标准来约定其发行的Linux系统或开发的软件遵守共同的文件和目录标准。
</p>

<p>
FHS是多数Linux版本采用的文件组织形式，采用树形结构组织文件。FHS定义了系统中每个区域的用途、所需要的最小构成的文件和目录，同时还给出了例外处理和矛盾处理。
</p>


<p>
官方网站：<a href="https://refspecs.linuxfoundation.org/fhs.shtml">https://refspecs.linuxfoundation.org/fhs.shtml</a>
</p>
</div>
<div id="outline-container-h:877e46ad-140a-4749-943a-13571a18306c" class="outline-4">
<h4 id="h:877e46ad-140a-4749-943a-13571a18306c">文件系统相关概念：</h4>
<div class="outline-text-4" id="text-h:877e46ad-140a-4749-943a-13571a18306c">
<p>
文件系统是层级结构；有索引；
</p>

<ol class="org-ol">
<li><p>
以/为原初起点 倒置树状结构
</p>

<p>
例如/dev/pts/2 &#x2014;&gt;最左侧/: 表示根目录；其它的/: 表示路径分隔符
</p>

<p>
Linux的路径分隔符是/ Windows的路径分隔符是<br>
</p></li>

<li><p>
文件的路径表示方法：
</p>

<p>
绝对路径：从根开始表示出的路径
</p>

<p>
相对路径：从当前位置开始表示出的路径
</p></li>

<li><p>
文件名使用法则：
</p>

<p>
文件名法则：
</p>
<ol class="org-ol">
<li>严格区分字符大小写：file1,File1,FILE1表示不同文件</li>
<li>目录也是文件，在同一路径下，两个文件不能同名</li>
<li>支持使用除/以后的任意字符
当然你不能用 / 和空做为文件名，如touch xx/xx 创建这样的文件名不
可以，\转义</li>
<li>最长不能超过255个字符。</li>
<li>以. 开头的文件为隐藏文件</li>
</ol></li>

<li>用户有家目录：home。用户的起始目录：普通用户管理文件的位置。</li>

<li><p>
工作目录：
</p>

<p>
/abc/aa/bb
</p>

<p>
bashname(基名):最右侧的文件或者目录名
</p>

<p>
dirname(目录名):bashname左侧的路径
</p>

<p>
获取基名和目录名的命令：basename, dirname
</p>

<pre class="example" id="orgbcc54cb">
~]# basename /PATH/TO/SOMEFILE
SOMEFILE
~]# dirname /PATH/TO/SOMEFILE
/PATH/TO
</pre></li>

<li>其它

<ol class="org-ol">
<li>包括路径在内文件名称最长4095个字节</li>
<li>蓝色&#x2013;&gt;目录 绿色&#x2013;&gt;可执行文件 红色&#x2013;&gt;压缩文件 浅蓝色&#x2013;&gt;链接文件
灰色&#x2013;&gt;其他文件 （/etc/DIR_COLORS 定义后缀颜色）</li>
<li>除了斜杠和NUL,所有字符都有效.但使用特殊字符的目录名和文件不推荐
使用，有些字符需要用引号来引用</li>
<li>每个文件都有两类相关数据：元数据：metadata，即属性，
数据：data，即文件内容 <code>stat filename</code></li>
</ol></li>
</ol>


<figure id="org1730deb">
<img src="images/fhs.png" alt="fhs.png" width="50%">

<figcaption><span class="figure-number">Figure 2: </span>fhs</figcaption>
</figure>
</div>
</div>
<div id="outline-container-h:e5629974-f35a-421d-8bba-0a1241bcb3c0" class="outline-4">
<h4 id="h:e5629974-f35a-421d-8bba-0a1241bcb3c0">常见的文件系统目录功能</h4>
<div class="outline-text-4" id="text-h:e5629974-f35a-421d-8bba-0a1241bcb3c0">
<div class="org-src-container">
<pre class="src src-sh">/boot                              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24341;&#23548;&#25991;&#20214;&#23384;&#25918;&#30446;&#24405;&#65292;&#20869;&#26680;&#25991;&#20214;(vmlinuz)&#12289;&#24341;&#23548;&#21152;&#36733;&#22120;(bootloader, grub)&#37117;&#23384;&#25918;&#20110;&#27492;&#30446;&#24405;</span>
/bin                                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25152;&#26377;&#29992;&#25143;&#20351;&#29992;&#30340;&#22522;&#26412;&#21629;&#20196;&#65307;&#19981;&#33021;&#20851;&#32852;&#33267;&#29420;&#31435;&#20998;&#21306;&#65292;OS&#21551;&#21160;&#21363;&#20250;&#29992;&#21040;&#30340;&#31243;&#24207;</span>
/sbin                              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31649;&#29702;&#31867;&#30340;&#22522;&#26412;&#21629;&#20196;&#65307;&#19981;&#33021;&#20851;&#32852;&#33267;&#29420;&#31435;&#20998;&#21306;&#65292;OS&#21551;&#21160;&#21363;&#20250;&#29992;&#21040;&#30340;&#31243;&#24207;</span>
/lib                                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#21160;&#26102;&#31243;&#24207;&#20381;&#36182;&#30340;&#22522;&#26412;&#20849;&#20139;&#24211;&#25991;&#20214;&#20197;&#21450;&#20869;&#26680;&#27169;&#22359;&#25991;&#20214;(/lib/modules)</span>
/lib64                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19987;&#29992;&#20110;x86_64&#31995;&#32479;&#19978;&#30340;&#36741;&#21161;&#20849;&#20139;&#24211;&#25991;&#20214;&#23384;&#25918;&#20301;&#32622;</span>
/etc                               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#37197;&#32622;&#25991;&#20214;&#30446;&#24405;</span>
/home/USERNAME        <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26222;&#36890;&#29992;&#25143;&#23478;&#30446;&#24405;</span>
/root                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31649;&#29702;&#21592;&#30340;&#23478;&#30446;&#24405;</span>
/media                          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20415;&#25658;&#24335;&#31227;&#21160;&#35774;&#22791;&#25346;&#36733;&#28857;</span>
/mnt                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20020;&#26102;&#25991;&#20214;&#31995;&#32479;&#25346;&#36733;&#28857;</span>
/dev                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#22791;&#25991;&#20214;&#21450;&#29305;&#27530;&#25991;&#20214;&#23384;&#20648;&#20301;&#32622;</span>
    b: block device&#65292;&#38543;&#26426;&#35775;&#38382;
    c: character device&#65292;&#32447;&#24615;&#35775;&#38382;
/opt                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31532;&#19977;&#26041;&#24212;&#29992;&#31243;&#24207;&#30340;&#23433;&#35013;&#20301;&#32622;</span>
/srv                              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31995;&#32479;&#19978;&#36816;&#34892;&#30340;&#26381;&#21153;&#29992;&#21040;&#30340;&#25968;&#25454;</span>
/tmp                            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20020;&#26102;&#25991;&#20214;&#23384;&#20648;&#20301;&#32622;</span>
/usr:                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36890;&#29992;&#20849;&#20139;&#21482;&#35835;&#25968;&#25454;</span>
    bin: &#20445;&#35777;&#31995;&#32479;&#25317;&#26377;&#23436;&#25972;&#21151;&#33021;&#32780;&#25552;&#20379;&#30340;&#24212;&#29992;&#31243;&#24207;
    sbin:
    lib&#65306;32&#20301;&#20351;&#29992;
    lib64&#65306;&#21482;&#23384;&#22312;64&#20301;&#31995;&#32479;
    include: C&#31243;&#24207;&#30340;&#22836;&#25991;&#20214;(header files)
    share&#65306;&#32467;&#26500;&#21270;&#29420;&#31435;&#30340;&#25968;&#25454;&#65292;&#20363;&#22914;doc, man&#31561;
        <span style="color: #483d8b;">local</span>&#65306;&#31532;&#19977;&#26041;&#24212;&#29992;&#31243;&#24207;&#30340;&#23433;&#35013;&#20301;&#32622;
            bin, sbin, lib, lib64, etc, share
/var                             <span style="color: #b22222;">#</span><span style="color: #b22222;">variable data files &#21487;&#21464;&#25968;&#25454;&#30446;&#24405;</span>
    cache: &#24212;&#29992;&#31243;&#24207;&#32531;&#23384;&#25968;&#25454;&#30446;&#24405;
    lib: &#24212;&#29992;&#31243;&#24207;&#29366;&#24577;&#20449;&#24687;&#25968;&#25454;
    <span style="color: #483d8b;">local</span>&#65306;&#19987;&#29992;&#20110;&#20026;/usr/local&#19979;&#30340;&#24212;&#29992;&#31243;&#24207;&#23384;&#20648;&#21487;&#21464;&#25968;&#25454;
    lock: &#38145;&#25991;&#20214;
    log: &#26085;&#24535;&#30446;&#24405;&#21450;&#25991;&#20214;
    opt: &#19987;&#29992;&#20110;&#20026;/opt&#19979;&#30340;&#24212;&#29992;&#31243;&#24207;&#23384;&#20648;&#21487;&#21464;&#25968;&#25454;
    run: &#36816;&#34892;&#20013;&#30340;&#36827;&#31243;&#30456;&#20851;&#25968;&#25454;,&#36890;&#24120;&#29992;&#20110;&#23384;&#20648;&#36827;&#31243;pid&#25991;&#20214;
    spool: &#24212;&#29992;&#31243;&#24207;&#25968;&#25454;&#27744;
    tmp: &#20445;&#23384;&#31995;&#32479;&#20004;&#27425;&#37325;&#21551;&#20043;&#38388;&#20135;&#29983;&#30340;&#20020;&#26102;&#25968;&#25454;
/proc:                           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29992;&#20110;&#36755;&#20986;&#20869;&#26680;&#19982;&#36827;&#31243;&#20449;&#24687;&#30456;&#20851;&#30340;&#34394;&#25311;&#25991;&#20214;&#31995;&#32479;</span>
/sys                              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#29992;&#20110;&#36755;&#20986;&#24403;&#21069;&#31995;&#32479;&#19978;&#30828;&#20214;&#35774;&#22791;&#30456;&#20851;&#20449;&#24687;&#34394;&#25311;&#25991;&#20214;&#31995;&#32479;</span>
/selinux                        <span style="color: #b22222;">#</span><span style="color: #b22222;">security enhanced Linux&#65292;selinux&#30456;&#20851;&#30340;&#23433;&#20840;&#31574;&#30053;&#31561;&#20449;&#24687;&#30340;&#23384;&#20648;&#20301;&#32622;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:5fa96916-3dcb-4411-a718-ca6f173c15a1" class="outline-4">
<h4 id="h:5fa96916-3dcb-4411-a718-ca6f173c15a1">应用程序的组成部分</h4>
<div class="outline-text-4" id="text-h:5fa96916-3dcb-4411-a718-ca6f173c15a1">
<pre class="example" id="org8672c29">
二进制程序：/bin, /sbin, /usr/bin, /usr/sbin, /usr/local/bin, /usr/local/sbin
库文件：/lib, /lib64, /usr/lib, /usr/lib64, /usr/local/lib, /usr/local/lib64
配置文件：/etc, /etc/DIRECTORY, /usr/local/etc
帮助文件：/usr/share/man, /usr/share/doc, /usr/local/share/man,/usr/local/share/doc
</pre>
</div>
</div>
<div id="outline-container-h:52df755b-bba8-4e77-a321-fdcaf8bb0cdf" class="outline-4">
<h4 id="h:52df755b-bba8-4e77-a321-fdcaf8bb0cdf">CentOS 7 以后版本目录结构变化</h4>
<div class="outline-text-4" id="text-h:52df755b-bba8-4e77-a321-fdcaf8bb0cdf">
<ul class="org-ul">
<li>/bin 和 /usr/bin</li>
<li>/sbin 和 /usr/sbin</li>
<li>/lib 和/usr/lib</li>
<li>/lib64 和 /usr/lib6</li>
</ul>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ls /bin /sbin /lib /lib64 -ld
lrwxrwxrwx. 1 root root 7 May 11 &#160;2019 /bin -&gt; usr/bin
lrwxrwxrwx. 1 root root 7 May 11 &#160;2019 /lib -&gt; usr/lib
lrwxrwxrwx. 1 root root 9 May 11 &#160;2019 /lib64 -&gt; usr/lib64
lrwxrwxrwx. 1 root root 8 May 11 &#160;2019 /sbin -&gt; usr/sbin

<span style="color: #b22222;">#</span><span style="color: #b22222;">centos8&#20043;&#21069;&#36825;&#20123;&#30446;&#24405;&#37117;&#29420;&#31435;&#30340;</span>
[root@centos6 ~]#ls /bin /sbin /lib /lib64 -ld
dr-xr-xr-x. &#160;2 root root &#160;4096 Mar 20 09:14 /bin
dr-xr-xr-x. 11 root root &#160;4096 Dec 12 &#160;2018 /lib
dr-xr-xr-x. &#160;9 root root 12288 Mar 20 09:13 /lib64
dr-xr-xr-x. &#160;2 root root 12288 Mar 20 09:14 /sbin

[root@ubuntu1804 ~]#ll /bin /usr/bin -d
drwxr-xr-x 2 root root &#160;4096 Jan 12 18:41 /bin/
drwxr-xr-x 2 root root 24576 Jan 12 18:42 /usr/bin/
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c9c3c5d2-e856-4549-8c7c-51f06c130a01" class="outline-4">
<h4 id="h:c9c3c5d2-e856-4549-8c7c-51f06c130a01">Linux下的文件类型</h4>
<div class="outline-text-4" id="text-h:c9c3c5d2-e856-4549-8c7c-51f06c130a01">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#21629;&#20196;ls -l&#20013;&#30340;&#31532;1&#20301;&#20013;&#34920;&#31034;&#25991;&#20214;&#31867;&#22411;&#65306;</span>
-&#65306;&#24120;&#35268;&#25991;&#20214;&#65307;&#21363;f;
d&#65306;directory,&#30446;&#24405;&#25991;&#20214;&#65307;
b&#65306;block device,&#22359;&#35774;&#22791;&#25991;&#20214;&#65292;&#25903;&#25345;&#20197;<span style="color: #8b2252;">"block"</span>&#20026;&#21333;&#20301;&#36827;&#34892;&#38543;&#26426;&#35775;&#38382;
c&#65306;character device,&#23383;&#31526;&#35774;&#22791;&#25991;&#20214;&#65292;&#25191;&#34892;&#20197;<span style="color: #8b2252;">"character"</span>&#20026;&#21333;&#20301;&#36827;&#34892;&#32447;&#24615;&#35775;&#38382;
l&#65306;symbolic link&#65292;&#31526;&#21495;&#36830;&#25509;&#25991;&#20214;&#65307;&#36719;&#36830;&#25509;&#25991;&#20214;&#65307;&#31867;&#20284;&#20110;Windows&#19979;&#30340;&#24555;&#25463;&#26041;&#24335;
p&#65306;pipe&#65292;&#21629;&#21517;&#31649;&#36947;&#65307;&#35299;&#20915;&#22810;&#20010;&#31243;&#24207;&#35775;&#38382;&#19968;&#20010;&#25991;&#20214;&#25152;&#36896;&#25104;&#30340;&#38169;&#35823;&#65292;FIFO(first-in-first-out) <span style="color: #483d8b;">.</span>  ls -l /run/
s&#65306;socket&#65292;&#22871;&#25509;&#23383;&#25991;&#20214;&#65307;&#36890;&#24120;&#34987;&#29992;&#22312;&#32593;&#32476;&#19978;&#30340;&#25968;&#25454;&#36830;&#25509;&#65292;&#20004;&#20010;&#36827;&#31243;&#36890;&#20449;&#26102;&#22871;&#25509;(&#25554;&#24231;),&#20027;&#35201;&#29992;&#20110;&#26381;&#21153;
</pre>
</div>

<p>
范例：如/dev下10，175是用来表示设备号，
</p>

<div class="org-src-container">
<pre class="src src-sh">c&#65306;character device,&#23383;&#31526;&#35774;&#22791;&#25991;&#20214;&#65292;&#25191;&#34892;&#20197;<span style="color: #8b2252;">"character"</span>&#20026;&#21333;&#20301;&#36827;&#34892;&#32447;&#24615;&#35775;&#38382;
major number&#65306;&#20027;&#35774;&#22791;&#21495;&#65292;&#29992;&#26631;&#35782;&#35774;&#22791;&#31867;&#22411;&#65292;&#36827;&#32780;&#30830;&#23450;&#35201;&#21152;&#36733;&#30340;&#39537;&#21160;&#31243;&#24207;
minor number&#65306;&#27425;&#35774;&#22791;&#21495;&#65292;&#29992;&#20110;&#26631;&#35782;&#21516;&#19968;&#31867;&#22411;&#20013;&#30340;&#19981;&#21516;&#30340;&#35774;&#22791;
8&#20301;&#20108;&#36827;&#21046;&#65306;0-255

 ~]# ls -l /dev
 crw-rw----. 1 root video 10, 175 12&#26376; 10 17:21 agpgart
</pre>
</div>

<p>
查看文件类型的命令：file FILENAM
</p>
</div>
<div id="outline-container-orgaac9d9d" class="outline-5">
<h5 id="orgaac9d9d">创建各类型文件</h5>
<div class="outline-text-5" id="text-orgaac9d9d">
<div class="org-src-container">
<pre class="src src-sh">&#26222;&#36890;&#25991;&#20214;&#65306;
touch filename

&#30446;&#24405;&#65306;
mkdir dirname

&#31526;&#21495;&#38142;&#25509;&#65306;
$ ln -s filename linkname

FIFO&#31649;&#36947;&#25991;&#20214;:
mknod fifo p

&#23383;&#31526;&#29305;&#27530;&#25991;&#20214;&#65306;
mknod /dev/ccc c 20 5

&#22359;&#29305;&#27530;&#25991;&#20214;&#65306;
mknod /dev/sdb b 16 8

socket&#25991;&#20214;&#65306;
mksock sock
&#22914;&#26524;&#27809;&#26377;mksock&#21629;&#20196;&#65292;&#20351;&#29992;nc&#21629;&#20196;&#36827;&#34892;&#21019;&#24314;&#65306;
nc -UI ./sock

NB: &#19978;&#38754;&#25152;&#26377;&#20197;#&#24320;&#22836;&#30340;&#31034;&#20363;&#65292;&#21487;&#33021;&#38656;&#35201;root&#26435;&#38480;&#12290;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb267bbd" class="outline-5">
<h5 id="orgb267bbd">linux 系统中文件类型颜色标识</h5>
<div class="outline-text-5" id="text-orgb267bbd">
<p>
linux系统中，每种颜色都有对应的含义，可以提供文件在终端中显示的颜色，来判断是什么类型的文件。
</p>

<p>
颜色与文件类型对应关系，由配置文件定义，可更改(此处的文件类型，可以理解为文件格式)
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS/Rocky</span>
vim /etc/DIR_COLORS

FIFO 40;33      <span style="color: #b22222;"># </span><span style="color: #b22222;">pipe</span>
SOCK 01;35      <span style="color: #b22222;"># </span><span style="color: #b22222;">socket</span>
DOOR 01;35      <span style="color: #b22222;"># </span><span style="color: #b22222;">door</span>
BLK 40;33;01    <span style="color: #b22222;"># </span><span style="color: #b22222;">block device driver</span>
CHR 40;33;01    <span style="color: #b22222;"># </span><span style="color: #b22222;">character device driver</span>
ORPHAN 40;31;01  <span style="color: #b22222;"># </span><span style="color: #b22222;">symlink to nonexistent file, or non-stat'able file</span>
MISSING 01;05;37;41 <span style="color: #b22222;"># </span><span style="color: #b22222;">... and the files they point to</span>
SETUID 37;41    <span style="color: #b22222;"># </span><span style="color: #b22222;">file that is setuid (u+s)</span>
SETGID 30;43    <span style="color: #b22222;"># </span><span style="color: #b22222;">file that is setgid (g+s)</span>
CAPABILITY 30;41        <span style="color: #b22222;"># </span><span style="color: #b22222;">file with capability</span>
STICKY_OTHER_WRITABLE 30;42 <span style="color: #b22222;"># </span><span style="color: #b22222;">dir that is sticky and other-writable (+t,o+w)</span>
OTHER_WRITABLE 34;42 <span style="color: #b22222;"># </span><span style="color: #b22222;">dir that is other-writable (o+w) and not sticky</span>
STICKY 37;44    <span style="color: #b22222;"># </span><span style="color: #b22222;">dir with the sticky bit set (+t) and not other-writable</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">This is for files with execute permission:</span>
EXEC 01;32

<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu &#26159;&#22312; dirclors &#21629;&#20196;&#23450;&#20041;&#30340;</span>
env |grep LS_COLORS
[ec2-user@ip-10-0-129-226 ~]$ dircolors -p
<span style="color: #b22222;"># </span><span style="color: #b22222;">Configuration file for dircolors, a utility to help you set the</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">LS_COLORS environment variable used by GNU ls with the --color option.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Copyright (C) 1996-2020 Free Software Foundation, Inc.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Copying and distribution of this file, with or without modification,</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">are permitted provided the copyright notice and this notice are preserved.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">The keywords COLOR, OPTIONS, and EIGHTBIT (honored by the</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">slackware version of dircolors) are recognized but ignored.</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Below are TERM entries, which can be a glob patterns, to match</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">against the TERM environment variable to determine if it is colorizable.</span>
TERM Eterm
TERM ansi
TERM *color*
TERM con[0-9]*x[0-9]*
TERM cons25
......
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26080;&#27861;&#30452;&#25509;&#20462;&#25913;, &#21487;&#20197;&#31867;&#20284;&#20110;&#21035;&#21517;&#65292;&#21152;&#22312;.bashrc&#20013;&#21363;&#21487;</span>

cat &lt;&lt;\EOF&gt; ~/.bash_profile
<span style="color: #ffa54f;">eval "$(</span><span style="color: #ff00ff;">dircolors</span><span style="color: #ffa54f;">)"</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>

<p>
管道文件： 所谓管道，是指用于连接一个读进程和一个写进程，以实现它们之间通信的共享文件，又称pipe文件。单向的，如a往管道中写，b往管道中读。
</p>

<p>
套接字文件：Socket本身有插座的意思，在Unix/Gnu Linux环境下，用于表示进程之间网络通信的特殊文件类型。本质为内核借助缓冲区形成的伪文件。双向的。
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-h:adde0f66-ecef-4af2-973a-7ace1e202d37" class="outline-3">
<h3 id="h:adde0f66-ecef-4af2-973a-7ace1e202d37">文件操作命令</h3>
<div class="outline-text-3" id="text-h:adde0f66-ecef-4af2-973a-7ace1e202d37">
</div>
<div id="outline-container-h:2fe60291-ae27-4a1b-9b4f-d21fe7d3c803" class="outline-4">
<h4 id="h:2fe60291-ae27-4a1b-9b4f-d21fe7d3c803">显示工作目录 PWD</h4>
<div class="outline-text-4" id="text-h:2fe60291-ae27-4a1b-9b4f-d21fe7d3c803">
<p>
pwd：printing working directory 显示工作目录
</p>

<p>
使用pwd命令可以显示当前的工作目录，该命令很简单，直接输入pwd即可，后面
不带参数。
</p>

<pre class="example" id="orgf248cf6">
-P 显示真实路径
-L 显示链接路径（默认）
</pre>
</div>
</div>
<div id="outline-container-h:b81d1546-9780-4db8-8ccd-1441f5c07497" class="outline-4">
<h4 id="h:b81d1546-9780-4db8-8ccd-1441f5c07497">绝对和相对路径</h4>
<div class="outline-text-4" id="text-h:b81d1546-9780-4db8-8ccd-1441f5c07497">
<p>
绝对路径
</p>
<ul class="org-ul">
<li>以正斜杠/ 即根目录开始</li>
<li>完整的文件的位置路径</li>
<li>可用于任何想指定一个文件名的时候</li>
</ul>

<p>
相对路径名
</p>
<ul class="org-ul">
<li>不以斜线开始</li>
<li>一般情况下，是指相对于当前工作目录的路径，特殊场景下，是相对于某目录的位置</li>
<li>可以作为一个简短的形式指定一个文件名</li>
</ul>

<p>
基名：basename，只取文件名而不要路径
</p>

<p>
目录名：dirname，只取路径，不要文件名 范例:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 bin]#basename /etc/sysconfig/network
network
[root@centos8 bin]#dirname /etc/sysconfig/network
/etc/sysconfig
[root@centos8 ~]#dirname /etc/sysconfig/network-scripts/ifcfg-eth0
/etc/sysconfig/network-scripts
[root@centos8 ~]#basename /etc/sysconfig/network-scripts/ifcfg-eth0
ifcfg-eth0
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0e1a6ea6-77d2-4066-8e4e-e5a5b18c3970" class="outline-4">
<h4 id="h:0e1a6ea6-77d2-4066-8e4e-e5a5b18c3970">切换目录cd</h4>
<div class="outline-text-4" id="text-h:0e1a6ea6-77d2-4066-8e4e-e5a5b18c3970">
<p>
change directory
</p>

<p>
所谓工作目录，就是当前操作所在的目录。
</p>

<p>
用户在使用Unix/Linux的时候，经常需要更换工作目录。cd命令可以帮助用户切
换工作目录。
</p>

<p>
后面可跟绝对路径，也可以跟相对路径。如果省略目录，则默认切换到当前用户
的主目录。
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# type cd
<span style="color: #483d8b;">cd</span> is a shell builtin
[root@node01 ~]# help cd
<span style="color: #483d8b;">cd</span>: cd [-L|[-P [-e]]] [dir]

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#36873;&#39033;</span>
-L   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20999;&#25442;&#33267;&#38142;&#25509;&#30446;&#24405;&#65292;&#40664;&#35748;&#36873;&#39033;</span>
-P   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20999;&#25442;&#33267;&#23454;&#29616;&#30446;&#24405;&#65292;&#32780;&#38750;&#38142;&#25509;&#30446;&#24405;</span>
</pre>
</div>

<p>
<b>2.3.1 cd的用法</b>
</p>

<p>
cd [/PATH/TO/SOMEDIR]
</p>

<pre class="example" id="org91db785">
cd : 切换回家目录；注意：bash中，~表示家目录
cd ~：切换回自己的家目录
cd ~USERNAME: 切换至指定的家目录
注意，只有管理员才能随便切换指定家目录

cd -: 在上一次所在目录与当前目录之间来回切换
cd . : 当前目录
cd .. : 上级目录
</pre>

<p>
<b>2.3.2 相关的环境变量：</b>
</p>

<p>
为什么cd能在当前目录和上次目录来回切换？因为shell有2个环境变量保存这个值
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">PWD</span>:&#24403;&#21069;&#24037;&#20316;&#30446;&#24405;
$<span style="color: #a0522d;">OLDPWD</span>&#65306;&#19978;&#19968;&#27425;&#30340;&#24037;&#20316;&#30446;&#24405;
</pre>
</div>

<p>
如从/root目录切换到/目录
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# echo $<span style="color: #a0522d;">PWD</span>
/root
[root@node01 ~]# cd /
[root@node01 /]# echo $<span style="color: #a0522d;">PWD</span>
/
[root@node01 /]# echo $<span style="color: #a0522d;">OLDPWD</span>
/root
[root@node01 /]#
</pre>
</div>

<p>
<b>zoxide cd 优化</b>
</p>

<p>
bash 中 cd 很不方便，没有历史，跳转模糊。zoxide 可以提高你的工作效率.
</p>

<p>
它会记住您最常使用的目录，因此您只需敲击几下键盘就可以“跳转”到这些目录。
</p>

<p>
<a href="https://github.com/ajeetdsouza/zoxide">https://github.com/ajeetdsouza/zoxide</a>
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">root@myhost:~# z /tmp/
root@myhost:~# mkdir -p foo/bar/{apple,orange/{abc-bi,xyz},food/{abc,xyz}}
root@myhost:/tmp# tree foo
foo
&#9492;&#9472;&#9472; bar
    &#9500;&#9472;&#9472; apple
    &#9500;&#9472;&#9472; food
    &#9474;   &#9500;&#9472;&#9472; abc
    &#9474;   &#9492;&#9472;&#9472; xyz
    &#9492;&#9472;&#9472; orange
        &#9500;&#9472;&#9472; abc-bi
        &#9492;&#9472;&#9472; xyz

8 directories, 0 files

root@myhost:/tmp# z foo/bar/apple/
root@myhost:/tmp/foo/bar/apple# z ../food/abc/
root@myhost:/tmp/foo/bar/food/abc# z /tmp/foo/bar/orange/abc-bi/

<span style="color: #b22222;"># </span><span style="color: #b22222;">input `abc` only would match `/tmp/foo/bar/food/abc`</span>
root@myhost:/tmp/foo/bar/orange/abc-bi# z abc

<span style="color: #b22222;"># </span><span style="color: #b22222;">more specific word, with `-` suffix, then jump to `abc-bi`</span>
root@myhost:/tmp/foo/bar/food/abc# z abc-

root@myhost:/tmp/foo/bar/orange/abc-bi# z /tmp/foo/bar/food/xyz/
root@myhost:/tmp/foo/bar/food/xyz# z /tmp/foo/bar/orange/xyz

<span style="color: #b22222;"># </span><span style="color: #b22222;">specify multiple path segments</span>
root@myhost:/tmp/foo/bar/orange/xyz# z food xyz

<span style="color: #b22222;"># </span><span style="color: #b22222;">choose alternatives for `xyz` interactively</span>
root@myhost:/tmp/foo/bar/food/xyz# zi xyz
</pre>
</div>
</div>
</div>
<div id="outline-container-h:483ab726-dd5a-47a7-9229-18b2c388c252" class="outline-4">
<h4 id="h:483ab726-dd5a-47a7-9229-18b2c388c252">列出指定目录下的内容-ls</h4>
<div class="outline-text-4" id="text-h:483ab726-dd5a-47a7-9229-18b2c388c252">
<p>
ls [OPTION]&#x2026; [FILE] &#x2026;
</p>

<p>
<b>2.4.1 常用参数</b>
</p>

<pre class="example" id="orgd27f6ed">
-a：显示所有文件，包括隐藏文件
-A：显示除.(当前目录)和..(上级目录)之外的文件
-i, –inode 印出每个文件的 inode 号
-l：--long，长格式列表，显示文件详细属性信息
-d：仅显示当前目录；通常结合-l使用,显示文件和目录本身
-1：(数值一)，以换行符分隔文件, 即一行显示一个。当然，和-m或-l(小写字母)是冲突的
-t：按修改时间排序内容。不加任何改变顺序的选项时，ls默认按照字母顺序排序
-r：reverse，逆序显示
-R：recursive,递归显示;
-F或--classify 在执行文件，目录，Socket，符号连接，管道名称后面，各自加上*, /, =, @, | 号。
-h, –human-readable 以容易理解的格式列出文件大小 (例如 1K 234M 2G)

其实选项: 
-S : 按文件大小排序，默认降序排序
-U 按目录存放顺序显示
-X 按文件后缀排序
-p或--file-type   此参数的效果和指定"-F"参数类似，但不会在执行文件名称后面加上"*"号。只是在目录后面添加/
-R, –recursive 同时列出所有子目录层
--time-style={full-iso, long-iso, iso, locale} : 以不同的时间格式输出。long-iso效果最好
--full-time : 显示完整的时间
--time={atime|mtime|ctime}  读时间 、修改时间、状态元数据更新时间
-m：使用逗号分隔各文件，当然，只适用于未使用长格式(ls -l)的情况
-大I pattern：忽略被pattern匹配到的文件

常用组合：
ls -alF
</pre>

<p>
别名：
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;\EOF&gt; /etc/profile.d/alias.sh
<span style="color: #ffa54f;">alias ll='ls -alF'</span>
<span style="color: #ffa54f;">alias ls='ls --color=auto'</span>
<span style="color: #ffa54f;">alias l.='ls -d .* --color=auto' #&#20165;&#26174;&#31034;&#38544;&#34255;&#25991;&#20214;</span>
<span style="color: #ffa54f;">alias la='ls -A'</span>
<span style="color: #ffa54f;">alias l='ls -CF'</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>

<p>
注意，ls以 <code>-h</code> 显示文件大小时，一般显示的都是不带B的单位，如K/M/G，它
们的转换比例是1024，如果显示的都是带了B的，如KB/MB/GB，则它们的转换比
例为1000而非1024，一般很少显示带B的大小。
</p>

<p>
不得不说，ls本身不能显示出文件的全路径名是一大缺陷，不过好在使用find命
令可以很简单的就获取到。
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# ls -l --time-style=long-iso
-rw-r--r--   1 root root          0 2017-12-12 06:36 123
-rw-------.  1 root root       1418 2017-03-24 18:42 anaconda-ks.cfg

[root@node01 ~]#  ll --full-time <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;&#23436;&#25972;&#30340;&#26102;&#38388;</span>
total 1451180
drwxr-xr-x   2 root root          6 2018-01-09 07:31:04.579132550 +0800 07-31-04

ll . 
ll . -a
ll ./ -a
</pre>
</div>

<p>
<b>2.4.2 文件详细属性信息</b>
</p>

<p>
<code>-l</code> ：&#x2013;long，长格式列表，显示文件详细属性信息
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# ls -l
-rw-r--r--. 1 root   root    30499 Dec  8 12:04 Xorg.0.log

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31532;1&#21015;&#20013;&#26368;&#21518;&#30340;.&#28857;&#65292;&#26159;selinux&#24320;&#21551;&#29366;&#24577;&#26174;&#31034;&#30340;&#12290; &#32534;&#36753;/etc/selinux/config&#20462;&#25913;SELINUX=disabled&#65292;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#26032;&#30331;&#24405;&#21518;&#32493;&#21019;&#24314;&#30340;&#26032;&#25991;&#20214;&#23601;&#27809;&#26377;&#28857;&#20102;&#12290;</span>
</pre>
</div>

<ol class="org-ol">
<li><p>
第1列，文件类型和文件权限信息
<code>-</code> ：文件类型，-,d,b,c,l,s,p
</p>

<p>
<code>rw-</code> ：左3位，文件属主的权限 r&#x2013;：中3位，文件属组的权限；
</p>

<p>
<code>r--</code> ：右3位，其他用户（非属主、属组）的权限
</p>

<p>
拓展第1位中表示文件类型：
</p>

<pre class="example" id="org79d1ffe">
-：常规文件；即f;
d：directory,目录文件；
b：block device,块设备文件，支持以"block"为单位进行随机访问
c：character device,字符设备文件，执行以"character"为单位进行线性访问
    major number：主设备号，用标识设备类型，进而确定要加载的驱动程序
    minor number：次设备号，用于标识同一类型中的不同的设备
        8位二进制：0-255
l：symbolic link，符号连接文件；软连接文件；类似于Windows下的快捷方式
p：pipe，管道文件；解决多个程序访问一个文件所造成的错误，FIFO(first-in-first-out)
s：socket，套接字文件；通常被用在网络上的数据连接，两个进程通信时套接(插座),主要用于服务提供的。

查看文件类型的命令：file FILENAME
</pre>

<p>
如/dev下10，175是用来表示设备号，
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# ls -l /dev
crw-rw----. 1 root video    10, 175 12&#26376; 10 17:21 agpgart
</pre>
</div></li>

<li><p>
第2列，数字表示文件被硬连接的次数
</p>

<p>
1:数字表示文件被硬连接的次数
</p></li>

<li>第3列， 文件的属主 root：文件的属主</li>

<li>第4列， 文件的属组 root：文件的属组</li>

<li><p>
第5列，数字表示文件的大小，单位是字节
</p>

<p>
30499：数字表示文件的大小，单位是字节
</p>

<p>
如/dev下10，175是用来表示设备号，
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# ls -l /dev
crw-rw----. 1 root video    10, 175 12&#26376; 10 17:21 agpgart
    major number&#65306;&#20027;&#35774;&#22791;&#21495;&#65292;&#29992;&#26631;&#35782;&#35774;&#22791;&#31867;&#22411;&#65292;&#36827;&#32780;&#30830;&#23450;&#35201;&#21152;&#36733;&#30340;&#39537;&#21160;&#31243;&#24207;
    minor number&#65306;&#27425;&#35774;&#22791;&#21495;&#65292;&#29992;&#20110;&#26631;&#35782;&#21516;&#19968;&#31867;&#22411;&#20013;&#30340;&#19981;&#21516;&#30340;&#35774;&#22791;
        8&#20301;&#20108;&#36827;&#21046;&#65306;0-255
</pre>
</div></li>

<li><p>
第6列， 文件最近一次被修改的时间
</p>

<p>
<code>Dec 8 12:04</code> ：文件最近一次被修改的时间
</p></li>

<li><p>
第7列，文件名 Xorg.0.log：文件名
</p>

<p>
如，显示inode号命令ls -li
</p></li>
</ol>


<figure id="org3c1d116">
<img src="images/image-20210215214035428.png" alt="image-20210215214035428.png" width="50%">

</figure>

<p>
<b>2.4.3 文件属性中的时间属性</b>
</p>

<p>
我们在 ls 这个命令的介绍时，有稍微提到每个文件在linux底下都会记录许多
的时间参数，其实是有三个主要的变动时间，那么三个时间的意义是什么呢？
</p>

<p>
在默认的情况下，ls 显示出来的是该文件的 mtime，也就是这个文件的内容上
次被更动的时间。
</p>

<p>
modification time
(mtime)：当该文件的『内容数据』变更时，就会升级这个时间！内容数据指的
是文件的内容，而不是文件的属性或权限喔！
</p>

<p>
status time (ctime)：当该文件的『状态(status)』改变时，就会升级这个时
间，举例来说，像是权限与属性被更改了，都会升级这个时间啊。
</p>

<p>
access time (atime)：当『该文件的内容被取用』时，就会升级这个读取时间
(access)。举例来说，我们使用 cat 去读取 /etc/man.config ，就会升级该文
件的 atime 了。
</p>

<p>
这是个挺有趣的现象，举例来说，我们来看一看你自己的 /etc/man.config
这个文件的时间吧！
</p>

<pre class="example" id="org76e4284">
[root@www ~]# ls -l /etc/man.config
-rw-r--r-- 1 root root 4617 Jan  6  2007 /etc/man.config
[root@www ~]# ls -l --time=atime /etc/man.config
-rw-r--r-- 1 root root 4617 Sep 25 17:54 /etc/man.config
[root@www ~]# ls -l --time=ctime /etc/man.config
-rw-r--r-- 1 root root 4617 Sep  4 18:03 /etc/man.config
</pre>

<p>
<b>2.4.4 常用组合</b>
</p>

<p>
ls -ltr 查看到最近更新的文件
</p>

<p>
应用 1 只显示目录
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">1. ls -d *</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">2. find . -type d -maxdepth 1</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">3. ls -F | grep '/$'</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20351;&#29992;linux&#31649;&#36947;&#21629;&#20196;&#65292;grep&#26597;&#25214; '/$' &#20197;/&#32467;&#23614;&#30340;&#65292;&#20063;&#21363;&#26159;&#30446;&#24405;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">4. ls -l | grep '^d'</span>
</pre>
</div>

<p>
生产
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">Linux Shell&#23454;&#29616;&#20165;&#20445;&#30041;&#26368;&#26032;&#30340;&#25991;&#20214;|&#21024;&#38500;&#26368;&#26087;&#30340;&#25991;&#20214;|Bash</span>
ls -t | awk &#8216;{<span style="color: #a020f0;">if</span>(NR&gt;16){print $<span style="color: #a0522d;">0</span>}}&#8217; |xargs rm -f
</pre>
</div>

<p>
说明：
</p>

<p>
ls 查看不同后缀文件时的颜色由 /etc/DIR_COLORS和@LS_COLORS变量定义
</p>
</div>
</div>
<div id="outline-container-h:11dfd3c8-619c-473b-a887-bc649875e652" class="outline-4">
<h4 id="h:11dfd3c8-619c-473b-a887-bc649875e652">查看文件状态 stat</h4>
<div class="outline-text-4" id="text-h:11dfd3c8-619c-473b-a887-bc649875e652">
<p>
文件相关信息：metadata, data
</p>

<p>
每个文件有三个时间戳：
</p>

<ul class="org-ul">
<li>access time 访问时间，atime，读取文件内容</li>
<li>modify time 修改时间，mtime，改变文件内容（数据）</li>
<li>change time 改变时间，ctime，元数据发生改变</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#stat /etc/passwd
File: /etc/passwd
Size: 1306   Blocks: 8     IO Block: 4096  regular file
Device: 802h/2050d Inode: 134792556  Links: 1
Access: (0644/-rw-r--r--) Uid: (   0/  root)  Gid: (   0/  root)
Access: 2019-12-09 20:37:12.830991350 +0800
Modify: 2019-12-09 20:37:12.826991351 +0800
Change: 2019-12-09 20:37:12.826991351 +0800
Birth: -
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d3623683-961a-4423-8701-014b12c00721" class="outline-4">
<h4 id="h:d3623683-961a-4423-8701-014b12c00721">确定文件内容 file</h4>
<div class="outline-text-4" id="text-h:d3623683-961a-4423-8701-014b12c00721">
<p>
文件可以包含多种类型的数据，使用file命令检查文件的类型，然后确定适当的
打开命令或应用程序使用
</p>

<p>
格式：
</p>

<div class="org-src-container">
<pre class="src src-sh">file [options] &lt;filename&gt;...
</pre>
</div>

<p>
常用选项:
</p>

<pre class="example" id="org227feb7">
-b 列出文件辨识结果时，不显示文件名称
-f filelist 列出文件filelist中文件名的文件类型
-F 使用指定分隔符号替换输出文件名后默认的”:”分隔符
-L 查看对应软链接对应文件的文件类型
-s 读取块文件或字符特殊文件类型
--help 显示命令在线帮助
</pre>

<p>
范例：windows的文本格式和Linux的文本格式的区别
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 data]#cat linux.txt
a
b
c
[root@centos8 data]#cat win.txt
a
b
c[root@centos8 data]#file win.txt linux.txt
win.txt:  ASCII text, with CRLF line terminators
linux.txt: ASCII text

cat -A linux.txt
cat -A win.txt

<span style="color: #b22222;"># </span><span style="color: #b22222;">man  ascii</span>
       Oct   Dec   Hex   Char                        Oct   Dec   Hex   Char
       &#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;&#9472;
       000   0     00    NUL <span style="color: #8b2252;">'\0'</span>                    100   64    40    @
       012   10    0A    LF  <span style="color: #8b2252;">'\n'</span> (new line)         112   74    4A    J
       015   13    0D    CR  <span style="color: #8b2252;">'\r'</span> (carriage ret)     115   77    4D    M
       041   33    21    !                           141   97    61    a
       042   34    22    <span style="color: #8b2252;">"                           142   98    62    b</span>
<span style="color: #8b2252;">       043   35    23    #                           143   99    63    c</span>

<span style="color: #8b2252;">#hexdump &#26597;&#30475;16&#36827;&#21046;&#20869;&#23481;</span>
<span style="color: #8b2252;">[root@centos8 data]#hexdump -C linux.txt</span>
<span style="color: #8b2252;">00000000  61 0a 62 0a 63 0a                 |a.b.c.|</span>
<span style="color: #8b2252;">00000006</span>
<span style="color: #8b2252;">[root@centos8 data]#hexdump -C win.txt</span>
<span style="color: #8b2252;">00000000  61 0d 0a 62 0d 0a 63               |a..b..c|</span>
<span style="color: #8b2252;">00000007</span>

<span style="color: #8b2252;">#&#23433;&#35013;&#36716;&#25442;&#24037;&#20855;</span>
<span style="color: #8b2252;">[root@centos8 data]#dnf -y install dos2unix</span>

<span style="color: #8b2252;">#&#23558;Windows&#30340;&#25991;&#26412;&#26684;&#24335;&#36716;&#25442;&#25104;&#30340;Linux&#25991;&#26412;&#26684;&#24335;</span>
<span style="color: #8b2252;">[root@centos8 data]#dos2unix win.txt</span>
<span style="color: #8b2252;">dos2unix: converting file win.txt to Unix format...</span>
<span style="color: #8b2252;">[root@centos8 data]#file win.txt</span>
<span style="color: #8b2252;">win.txt: ASCII text</span>

<span style="color: #8b2252;">#&#23558;Linux&#30340;&#25991;&#26412;&#26684;&#24335;&#36716;&#25442;&#25104;Windows&#30340;&#25991;&#26412;&#26684;&#24335;</span>
<span style="color: #8b2252;">[root@centos8 data]#unix2dos win.txt</span>
<span style="color: #8b2252;">unix2dos: converting file win.txt to DOS format...</span>
<span style="color: #8b2252;">[root@centos8 data]#file win.txt</span>
<span style="color: #8b2252;">win.txt: ASCII text, with CRLF line terminators</span>
</pre>
</div>

<p>
范例：转换文件字符集编码
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#25903;&#25345;&#23383;&#31526;&#38598;&#32534;&#30721;&#21015;&#34920;</span>
[root@centos8 ~]#iconv -l

<span style="color: #b22222;">#</span><span style="color: #b22222;">windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;</span>
[root@centos8 data]#file windows.txt
windows.txt: ISO-8859 text, with no line terminators

[root@centos8 data]#echo $<span style="color: #a0522d;">LANG</span>
en_US.UTF-8

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#40664;&#35748;&#22312;linux&#26080;&#27861;&#27491;&#24120;&#26174;&#31034;&#25991;&#26412;&#20869;&#23481;</span>
[root@centos8 data]#cat windows11.txt
&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;[root@centos8 data]#

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;&#36716;&#25442;&#25104;UTF-8</span>
[root@centos8 data]#iconv -f gb2312 windows.txt -o windows1.txt
[root@centos8 data]#cat windows1.txt
abc[root@centos8 data]#ll windows1.txt
-rw-r--r-- 1 root root 12 Mar 23 10:13 windows1.txt
[root@centos8 data]#file windows1.txt
windows1.txt: UTF-8 Unicode text, with no line terminators

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;UTF-8&#36716;&#25442;&#25104;windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;</span>
[root@centos8 data]#iconv -f utf8 -t gb2312 windows1.txt -o windows11.txt
[root@centos8 data]#file windows11.txt
windows11.txt: ISO-8859 text, with no line terminators
</pre>
</div>

<p>
范例:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;&#36716;&#25442;&#25104;UTF-8</span>
[15:34:50 root@centos8 ~]#iconv -f gb2312 win.txt -o win2.txt 
[15:34:50 root@centos8 ~]#file linux.txt
linux.txt: ASCII text
[15:34:31 root@centos8 ~]#file windows.txt
windows.txt: ASCII text, with CRLF line terminators
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;windows&#30340;&#25991;&#26412;&#26684;&#24335;&#36716;&#25442;&#25104;Linux&#30340;&#25991;&#26412;&#26684;&#24335;</span>
[15:35:26 root@centos8 ~]#dos2unix windows.txt
dos2unix: converting file windows.txt to Unix format...
[15:36:00 root@centos8 ~]#file windows.txt
windows.txt: ASCII text
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat list.txt
/etc/
/bin
/etc/issue
[root@centos8 ~]#file -f list.txt
/etc/:   directory
/bin:    symbolic link to usr/bin
/etc/issue: ASCII text
</pre>
</div>

<p>
范例：读取磁盘信息
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# file -sL /dev/vdb
/dev/vdb: Linux rev 1.0 ext4 filesystem data, <span style="color: #a0522d;">UUID</span>=75dece20-4563-4958-ad4e-452be4ed817c (needs journal recovery) (extents) (64bit) (large files) (huge files)

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21028;&#26029;&#30913;&#30424;&#26159;&#21542;&#23384;&#22312;&#26410;&#26684;&#24335;&#21270;&#65292;&#36755;&#20986;not exit&#34920;&#31034;&#30913;&#30424;&#34987;&#26684;&#24335;&#21270;&#20102;</span>
file -sL /dev/vdb | grep -v filesystem|grep -v partition||<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'not exist'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a7cbf658-ddff-4343-98da-e8bbc3d2413b" class="outline-4">
<h4 id="h:a7cbf658-ddff-4343-98da-e8bbc3d2413b">bash基础特性-文件名通配glob</h4>
<div class="outline-text-4" id="text-h:a7cbf658-ddff-4343-98da-e8bbc3d2413b">

<figure id="orgce5f2ba">
<img src="images/image-20210215215412054.png" alt="image-20210215215412054.png" width="50%">

</figure>

<p>
globbing：文件名通配(整体文件名匹配，而非部分)
</p>

<p>
文件的通配机制：编写一种匹配模式，能够实现对多个文件名进行通配；
</p>

<p>
匹配模式：对于文件名通配当中，如果我们要编写匹配模式就会用到元字符metacharacters。
</p>

<p>
元字符指的是一个字符出现以后，它并不表示文件本身，而是用来匹配一定范围
内的或者指定符合条件的字符；
</p>

<div class="org-src-container">
<pre class="src src-sh">* &#37197;&#32622;&#20219;&#24847;&#38271;&#24230;&#30340;&#20219;&#24847;&#23383;&#31526;&#12290;&#20294;&#21305;&#37197;&#19981;&#20102; . &#28857;&#24320;&#22836;&#30340;&#25991;&#20214;&#65292;&#21363;&#19981;&#21253;&#21547;&#38544;&#34255;&#25991;&#20214;&#12290;
? &#21305;&#37197;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;
~ &#24403;&#21069;&#29992;&#25143;&#23478;&#30446;&#24405;
~me &#29992;&#25143;me&#23478;&#30446;&#24405;
~+&#21644;. &#24403;&#21069;&#24037;&#20316;&#30446;&#24405;
~- &#21069;&#19968;&#20010;&#24037;&#20316;&#30446;&#24405;
[] &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;
[^] &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#22806;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;

** &#20219;&#24847;&#23376;&#30446;&#24405;&#12290; &#22914; ls **/*.py
</pre>
</div>


<p>
[] 有几种特殊格式：
</p>
<pre class="example" id="orgba3d91c">
[a-z] : 匹配a到z间任意一个字符，
[A-Z] : 匹配A到Z间任意一个字符，
[0-9] : 匹配0到9之间任意一个数字
[a-zA-Z0-9] : 匹配aA到zZ、0到9之间任意一个，。如[abcxyz]表示从abcxyz中匹配任意一个字符
</pre>

<p>
在Linux系统中预定义的字符类：man 7 glob
</p>

<pre class="example" id="org191fba6">
[:alpha:]：匹配字母(阿额儿发，等价于[a-zA-Z]
[:digit:]：匹配数字，等价于[0-9]
[:xdigit:]：匹配十六进制数，等价于[0-9a-fA-F]
[:upper:]：匹配大写字母(阿坡儿额)，等价于[A-Z]
[:lower:]：匹配小写字母(路我额)，等价于[a-z]
[:alnum:]：匹配数字或字母，等价于[0-9a-zA-Z]
[:blank:]：匹配空白，包括空格和制表符
[:space:]：匹配空格，包括新行、空格、制表符、换行符、回车符等各种类型的空白
[:punct:]：匹配所有标点符号(怕可特。包括：! ' " ` # $ % &amp; ( ) * + , . - _ / : ; &lt; = &gt; ? @ [ \ ] ^ { | } ~
[:graph:]：非空字符。绘图类。包括：大小写字母、数字和标点符号。等价于[:alnum:]+[:punct:]
[:print:]：非空字符（包括空格）。打印字符类。包括：大小写字母、数字、标点符号和空格。等价于[:alnum:]+[:punct:]+space
[:cntrl:]：控制字符类。在ASCII中，这些字符的八进制代码从000到037，还包括177(DEL)。代表键盘上的控制键，包括 CR, LF, TAB, Del ..等
[:blank:]: 空白字符：空格和制表符
</pre>

<p>
范例：
pa[0-9][0-9] : pa后面跟2个数字
</p>

<p>
2[0-9][0-9] : 表示200-299之间的数字
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#65297;. * </span>
pa* : &#25152;&#26377;&#20197;pa&#24320;&#22836;&#30340;&#25991;&#20214;&#12290;&#20687;pa,paa*,passwd&#37117;&#31526;&#21512;&#12290;
*pa* : &#25991;&#20214;&#21517;&#24403;&#20013;&#20219;&#24847;&#20301;&#32622;&#21253;&#21547;pa&#23383;&#31526;&#20018;&#30340;&#25991;&#20214;&#12290;
*pa : &#25991;&#20214;&#21517;&#20013;&#20197;pa&#32467;&#23614;&#30340;
*p*a* : &#25991;&#20214;&#21517;&#20013;&#20986;&#29616;&#23383;&#31526;pa&#25110;p&#21644;a&#30340;&#25991;&#20214;&#65292;&#36825;&#20010;&#25551;&#36848;&#26159;p&#22312;a&#20043;&#21069;&#30340;&#12290;

~]# ls  /var/log/*.log <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21015;&#20986;/var/log&#19979;&#25152;&#26377;&#20197; .log &#32467;&#23614;&#30340;&#25991;&#20214;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">2 ?</span>
pa? : &#25991;&#20214;&#21517;&#20013;&#26377;3&#20010;&#23383;&#31526;&#65292;&#20854;&#20013;&#26377;pa&#21644;&#19968;&#20010;&#20219;&#24847;&#23383;&#31526;&#12290;&#20687;pa&#19981;&#31526;&#21512;, paa&#31526;&#21512;, passwd&#19981;&#31526;&#21512;
??pa : &#25991;&#20214;&#21517;&#20197;pa&#32467;&#23614;&#65292;&#21069;&#38754;&#21487;&#20197;&#20986;&#29616;&#20219;&#24847;2&#20010;&#23383;&#31526;
p?a : &#25991;&#20214;&#21517;pa&#20043;&#38388;&#20986;&#29616;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;
p?a? : &#25991;&#20214;&#21517;p&#21644;a&#21518;&#37117;&#20986;&#29616;&#19968;&#20010;&#23383;&#31526;

<span style="color: #b22222;"># </span><span style="color: #b22222;">[]&#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;</span>
&#20363;&#22914;&#65292;&#25991;&#20214;&#21517;&#20013;&#20986;&#29616;&#26631;&#28857;&#31526;&#21495; , &#36887;&#21495;&#21305;&#37197;
]# touch p,a
]# ls p[[:punct:]]a
&#20363;&#22914;&#65292;&#25991;&#20214;&#21517;&#20013;&#20986;&#29616;&#31354;&#30333;&#23383;&#31526;&#21305;&#37197;
]# touch p<span style="color: #8b2252;">\ </span>a
]# ls ?[[:space:]]?

<span style="color: #b22222;">#</span><span style="color: #b22222;">4 [^]&#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#22806;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;</span>
[^[:upper:]] : &#38500;&#22823;&#20889;&#23383;&#27597;&#20197;&#22806;&#30340;&#25152;&#26377;&#23383;&#31526;
[^0-9] : &#38500;&#25968;&#23383;&#20197;&#22806;&#30340;&#25152;&#26377;&#23383;&#31526;
[^[:alnum:]]&#65306;&#25152;&#26377;&#38750;&#25968;&#23383;&#21644;&#23383;&#27597;&#30340;

[root@centos8 data]#ls file[a-c].txt  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23567;&#20889; &gt;&#22823;&#20889;&#30340;&#39034;&#24207;</span>
filea.txt fileA.txt fileb.txt fileB.txt filec.txt

[root@centos8 data]#ls file[C-E].txt
fileC.txt filed.txt fileD.txt filee.txt fileE.txt

[root@centos8 data]#ls file[wang].txt
filea.txt fileg.txt filen.txt filew.txt
[root@centos8 data]#ls file[^wang].txt
</pre>
</div>

<p>
范例：显示当前目录下隐藏文件
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ls -d /etc/*/

<span style="color: #483d8b;">alias</span> l.=<span style="color: #8b2252;">'ls -d .* --color=auto'</span>
[root@centos8 ~]#l.  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21482;&#26174;&#31034;&#38544;&#34255;&#25991;&#20214;</span>
</pre>
</div>

<p>
范例：显示当前目录下的任意次目录下的*.py文件
</p>

<div class="org-src-container">
<pre class="src src-sh">ubuntu:/usr/lib/python3/dist-packages# ls **/*.py
apport/crashdb.py                   DistUpgrade/distro.py                         pyasn1_modules/rfc1901.py        rich/_loop.py
</pre>
</div>


<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">1&#65306;&#26174;&#31034;/var&#30446;&#24405;&#25152;&#26377;&#20197;l&#24320;&#22836;&#65292;&#20197;&#19968;&#20010;&#23567;&#20889;&#23383;&#27597;&#32467;&#23614;&#65292;&#19988;&#20013;&#38388;&#20986;&#29616;&#20197;&#20026;&#20219;&#24847;&#23383;&#31526;&#30340;&#25991;&#20214;&#25110;&#30446;&#24405;</span>
ls -d /var/l?[[:lower:]]

<span style="color: #b22222;">#</span><span style="color: #b22222;">2&#65306;&#26174;&#31034;/etc&#30446;&#24405;&#19979;&#65292;&#20197;&#20219;&#24847;&#20197;&#20026;&#25968;&#23383;&#24320;&#22836;&#65292;&#19988;&#20197;&#38750;&#25968;&#23383;&#32467;&#23614;&#30340;&#25991;&#20214;&#25110;&#30446;&#24405;&#65307;</span>
ls -d /etc/[0-9]*[^0-9]
ls -d /etc/[[:digit:]]*[^[:digit:]]

<span style="color: #b22222;">#</span><span style="color: #b22222;">3&#65306;&#26174;&#31034;/etc&#30446;&#24405;&#19979;&#65292;&#20197;&#38750;&#23383;&#27597;&#24320;&#22836;&#65292;&#21518;&#38754;&#36319;&#19968;&#20010;&#23383;&#27597;&#21450;&#20854;&#20182;&#20219;&#24847;&#38271;&#24230;&#20219;&#24847;&#23383;&#31526;&#30340;&#25991;&#20214;&#25110;&#32773;&#30446;&#24405;&#65307;</span>
ls -d /etc/[^a-z][a-z]*

<span style="color: #b22222;">#</span><span style="color: #b22222;">4&#65306;&#22797;&#21046;/etc&#30446;&#24405;&#19979;&#65292;&#25152;&#26377;&#20197;m&#24320;&#22836;&#65292;&#20197;&#38750;&#25968;&#23383;&#32467;&#23614;&#30340;&#25991;&#20214;&#25110;&#30446;&#24405;&#33267;/tmp/m&#30446;&#24405;&#65307;</span>
~]# mkdir /tmp/m
~]# cp -r /etc/m*[^0-9] /tmp/m/

<span style="color: #b22222;">#</span><span style="color: #b22222;">5&#65306;&#22797;&#21046;/usr/share/man&#30446;&#24405;&#19979;&#65292;&#25152;&#26377;&#20197;man&#24320;&#22836;&#65292;&#21518;&#36319;&#19968;&#20010;&#25968;&#23383;&#32467;&#23614;&#30340;&#25991;&#20214;&#25110;&#32773;&#30446;&#24405;&#33267;/tmp/man/&#30446;&#24405;&#19979;&#65307;</span>
cp -ap /usr/share/man/man*[0-9] /tmp/man

<span style="color: #b22222;">#</span><span style="color: #b22222;">6&#65306;&#22797;&#21046;/etc&#30446;&#24405;&#19979;&#65292;&#25152;&#26377;&#20197;.conf&#32467;&#23614;&#65292;&#19988;&#20197;m,n,rp&#24320;&#22836;&#30340;&#25991;&#20214;&#25110;&#30446;&#24405;&#33267;/tmp/conf.d&#30446;&#24405;&#19979;&#65307;</span>
~]# ls -d /etc/[mnrp]*.conf /tmp/conf.d/

&#27880;&#24847;&#65306;&#25991;&#20214;&#21517;&#20013;&#21253;&#25324;&#31354;&#30333;&#23383;&#31526;&#23601;&#38656;&#35201;\&#36716;&#31227;&#26469;&#21305;&#37197;
</pre>
</div>

<p>
范例：[]和{}
</p>
<div class="org-src-container">
<pre class="src src-sh">[ec2-user@ip-10-0-129-226 .jasper]$ touch f{3..5}
[ec2-user@ip-10-0-129-226 .jasper]$ ls
f3  f4  f5
[ec2-user@ip-10-0-129-226 .jasper]$ ls f[1-5] <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25552;&#21069;&#21028;&#26029;&#26377;&#27809;&#26377;&#25991;&#20214;&#65292;&#20877;&#26174;&#31034;</span>
f3  f4  f5
[ec2-user@ip-10-0-129-226 .jasper]$ ls f{1..5} <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23454;&#38469;&#26159;&#21629;&#20196;&#23637;&#24320; ls f1 f2 f3 f4 f5</span>
ls: cannot access <span style="color: #8b2252;">'f1'</span>: No such file or directory
ls: cannot access <span style="color: #8b2252;">'f2'</span>: No such file or directory
f3  f4  f5

</pre>
</div>
</div>
</div>
<div id="outline-container-h:e46a6edb-79fe-4821-9bdf-4401ff2d2f56" class="outline-4">
<h4 id="h:e46a6edb-79fe-4821-9bdf-4401ff2d2f56">创建空文件和刷新时间 touch</h4>
<div class="outline-text-4" id="text-h:e46a6edb-79fe-4821-9bdf-4401ff2d2f56">
<p>
touch命令可以用来创建空文件或刷新文件的时间
</p>

<p>
格式： <code>touch [OPTION]... FILE...</code>
</p>

<p>
选项说明：
</p>

<div class="org-src-container">
<pre class="src src-sh">-a &#20165;&#25913;&#21464; atime&#21644;ctime
-m &#20165;&#25913;&#21464; mtime&#21644;ctime
-t [[CC]YY]MMDDhhmm[.ss] &#25351;&#23450;atime&#21644;mtime&#30340;&#26102;&#38388;&#25139; ,&#22914;&#65306;07081556&#20195;&#34920;7&#26376;8&#21495;15&#28857;56&#20998;

-c &#22914;&#26524;&#25991;&#20214;&#19981;&#23384;&#22312;&#65292;&#21017;&#19981;&#20104;&#21019;&#24314;
</pre>
</div>

<p>
文件时间更新策略
</p>
<ul class="org-ul">
<li>上一次的atime到当前超过24小时，会更新atime</li>
<li>mtime或ctime大于atime，会更新atime</li>
</ul>

<p>
因为atime, ctime, mtime更新都会消耗IO资源，而一个系统中，大多数文件都是读多写少。如果
每一次访问文件都要更新atime，则会加重系统负载。
</p>

<p>
范例:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 data]#touch f1.txt
[root@centos8 data]#ll
total 0
-rw-r--r-- 1 root root 0 Mar 23 11:30 f1.txt
[root@centos8 data]#ll /etc/issue
-rw-r--r--. 1 root root 23 Jan  2 23:21 /etc/issue
[root@centos8 data]#touch /etc/issue
[root@centos8 data]#ll /etc/issue
-rw-r--r--. 1 root root 23 Mar 23 11:31 /etc/issue
[root@centos8 data]#stat /etc/issue
File: /etc/issue
Size: 23       Blocks: 8     IO Block: 4096  regular file
Device: 802h/2050d   Inode: 134345998  Links: 1
Access: (0644/-rw-r--r--) Uid: (   0/  root)  Gid: (   0/  root)
Access: 2020-03-23 11:31:20.030291332 +0800
Modify: 2020-03-23 11:31:20.030291332 +0800
Change: 2020-03-23 11:31:20.030291332 +0800
Birth: -


[root@centos8 data]#date
Fri Dec 13 16:11:55 CST 2019
[root@centos8 data]#touch <span style="color: #ff00ff;">`date -d "-1 day" +%F_%T`</span>.log
[root@centos8 data]#ls
2019-12-12_16:11:48.log
[root@centos8 data]#touch $(<span style="color: #ff00ff;">date -d "1 year" +%F_%T</span>).log
[root@centos8 data]#ls
2019-12-12_16:11:48.log  2020-12-13_16:13:11.log
</pre>
</div>

<p>
范例：修改文件时间戳-touch
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">touch a.log</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">stat a.log</span>
Access: 2021-02-08 00:44:51.415681426 +0800
Modify: 2021-02-08 00:44:51.415681426 +0800
Change: 2021-02-08 00:44:51.415681426 +0800

<span style="color: #b22222;"># </span><span style="color: #b22222;">touch -at &#20351;&#29992;&#21442;&#25968;&#26356;&#26032;&#35775;&#38382;&#26102;&#38388;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">touch -at 02021400 a.log </span>
[root@centos7 ~/learn] eth0 = 10.0.1.86
<span style="color: #b22222;"># </span><span style="color: #b22222;">stat a.log </span>
Access: 2021-02-02 14:00:00.000000000 +0800
Modify: 2021-02-08 00:44:51.415681426 +0800
Change: 2021-02-08 01:00:13.840403406 +0800

<span style="color: #b22222;"># </span><span style="color: #b22222;">touch -m &#21482;&#26356;&#26032;&#20462;&#25913;&#26102;&#38388;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">touch -mt 02051101 a.log </span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">stat a.log </span>
Access: 2021-02-02 14:00:00.000000000 +0800
Modify: 2021-02-05 11:01:00.000000000 +0800
Change: 2021-02-08 01:02:05.930192368 +0800
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f74a14de-0898-4465-8ee7-4d2a5301a0f0" class="outline-4">
<h4 id="h:f74a14de-0898-4465-8ee7-4d2a5301a0f0">文件管理工具：cp,mv,rm</h4>
<div class="outline-text-4" id="text-h:f74a14de-0898-4465-8ee7-4d2a5301a0f0">
</div>
<div id="outline-container-h:0440b7a3-d0c3-44c7-8ed1-d5b08c75dc28" class="outline-5">
<h5 id="h:0440b7a3-d0c3-44c7-8ed1-d5b08c75dc28">复制文件和目录 cp</h5>
<div class="outline-text-5" id="text-h:0440b7a3-d0c3-44c7-8ed1-d5b08c75dc28">
<p>
源文件，目标文件
</p>

<pre class="example" id="orgcbf30da">
单源复制 :
cp [OPTION]... [-T] SOURCE DEST

多源复制 :
cp [OPTION]... SOURCE... DIRECTORY
cp [OPTION]... -t DIRECTORY SOURCE...

复制只是复制文件的数据，从源文件中抽取数据流，一行一行的填充到目标文件中去。
</pre>

<p>
<b>1.1 单源复制：</b>
</p>

<ol class="org-ol">
<li><p>
如果目标DEST不存在：则事先创建文件，并复制源文件的数据流到DEST中；
</p>

<p>
如将/etc/fstab文件内容复制到/tmp/hi.txt中，hi.txt事先不存在
</p>

<p>
[root@node01 ~]# cp /etc/fstab /tmp/hi.txt
</p></li>

<li><p>
<b>如果DEST存在:</b>
如果DEST是非目录文件：则会复制覆盖目标文件；
</p>

<p>
如果DEST是目录文件：则现在DEST目录下创建一个与源文件同名的文件，并
复制其数据流。
</p></li>
</ol>

<p>
<b>1.2 多源复制：</b>
</p>

<ol class="org-ol">
<li><p>
如果DEST不存在：错误
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# cp /etc/{fstab,issue}  /tmp/hi.txt
cp: target <span style="color: #8b2252;">'/tmp/hi.txt'</span> is not a directory
</pre>
</div></li>

<li>如果DEST是非目录文件：错误；</li>
</ol>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# cp /etc/{fstab,issue}  /tmp/hi.txt
cp: target <span style="color: #8b2252;">'/tmp/hi.txt'</span> is not a directory
</pre>
</div>

<ol class="org-ol">
<li>如果DEST是目录文件：分别复制每个文件至目标目录中，并保持原名；</li>
</ol>

<p>
<b>1.3 常用选项：</b>
</p>

<pre class="example" id="org7b9f9c6">
-i : 交互式复制，即覆盖之前提醒用户确认；
-n : 如果目标文件存在，则跳过此文件复制
-s : 对源文件建立符号连接，而非复制文件。
-f : 强制覆盖目标文件；
-r : 递归复制目录；
-d : 等同于 --no-dereference --preserve=links，复制符号连接本身，而非其指向的源文件；
-a :  -dR --preserve=all，archive，用于归档；
--preserve[=属性列表   保持指定的属性(默认：模式,所有权,时间戳)]
属性列表有：
mode : 保留权限属性
ownership : 属主和属组
timestamp : 时间戳
context : 安全标签
links : 连接属性
xattr : 扩展属性
all : 上述所有属性
-p 等同--preserv=mode,ownership,timestamp

-f --force
-u --update 只复制源比目标更新文件或目标不存在的文件
-b 目标存在，覆盖前先备份，默认形式为 filename~ ,只保留最近的一个备份
--backup=numbered 目标存在，覆盖前先备份加数字后缀，形式为 filename.~#~ ，可以保留多个版本
</pre>

<p>
<code>注意：命令可以有别名：别名可以与原名相同，此时原名就被隐藏了，如果要运行原命令，则使用\COMAND</code>
</p>

<p>
如复制/etc/fstab文件到/tmp/hi.txt文件，引用原命令则使用\cp
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# alias cp
<span style="color: #483d8b;">alias</span> <span style="color: #a0522d;">cp</span>=<span style="color: #8b2252;">'cp -i'</span>
[root@node01 ~]# \cp /etc/fstab /tmp/hi.txt
[root@node01 ~]# /usr/bin/cp /etc/fstab /tmp/hi.txt
</pre>
</div>

<p>
如果file是符号连接文件，直接用cp复制的是源文件的内容到file符号连接文件
中去。如果不想这个做则使用-d选项。
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# ll /etc/system-release
lrwxrwxrwx. 1 root root 14 Mar 24  2017 /etc/system-release -&gt; centos-release
[root@node01 ~]# cp /etc/system-release /tmp/
[root@node01 ~]# ll /tmp/system-release
-rw-r--r-- 1 root root 38 Jan 11 07:00 /tmp/system-release
[root@node01 ~]# cat /tmp/system-release
CentOS Linux release 7.3.1611 (Core)
</pre>
</div>

<p>
如，-d : 等于&#x2013;no-dereference&#x2013;preserve=links。如果源文件是软连接属性，
则复制软连接属性而文件本身
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# ln -sv /tmp/hi.txt  /tmp/hi01.txt
&#8216;/tmp/hi01.txt&#8217; -&gt; &#8216;/tmp/hi.txt&#8217;
[root@node01 ~]# cp -d /tmp/hi01.txt  /tmp/hi02.txt
[root@node01 ~]# ll /tmp/hi*
lrwxrwxrwx 1 root root  11 Jan 11 06:46 /tmp/hi01.txt -&gt; /tmp/hi.txt
lrwxrwxrwx 1 root root  11 Jan 11 06:47 /tmp/hi02.txt -&gt; /tmp/hi.txt
-rw-r--r-- 1 root root 465 Jan 11 06:40 /tmp/hi.txt
</pre>
</div>

<p>
<b>1.4 其它选项：</b>
</p>

<pre class="example" id="orgea75201">
-H : 跟随源文件中的命令行符号链接
-l : 对源文件建立硬连接，而非复制文件链接文件而不复制
-L : 总是跟随符号链接
-大P : 不跟随源文件中的符号链接
-小p : 等于--preserve=模式,所有权,时间戳一直复制过去
--reflink=auto # cp 命令可以单独为文件创建快照，如，[root@node01 logs]# cp --reflink=auto grub2.cfg grub2.cfg_snap
</pre>

<p>
复制软连接对应的实体文件
</p>

<div class="org-src-container">
<pre class="src src-sh">cp -rl a b
cp -rL a b
</pre>
</div>

<p>
复制软连接文件
</p>

<div class="org-src-container">
<pre class="src src-sh">cp -dR path1 path2

rsync -rlpgoDz
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#22797;&#21046;&#30446;&#24405;&#19979;&#30340;&#38544;&#34255;&#25991;&#20214;</span>
cp  /etc/skel/.[^.]* /home/test
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#22797;&#21046;&#30446;&#24405;&#19979;&#30340;&#25152;&#26377;&#25991;&#20214;</span>
cp -r /etc/skel/. /home/test
cp -r /etc/skel /home/test
</pre>
</div>
</div>
</div>
<div id="outline-container-h:34bf66c4-57e0-4876-972c-f983972e0661" class="outline-5">
<h5 id="h:34bf66c4-57e0-4876-972c-f983972e0661">移动和重命名文件 mv rename</h5>
<div class="outline-text-5" id="text-h:34bf66c4-57e0-4876-972c-f983972e0661">
<pre class="example" id="org951cdee">
mv [参数] 源文件或目录 目标文件或目录
mv [OPTION]... [-T] SOURCE DEST
mv [OPTION]... SOURCE... DIRECTORY
mv [OPTION]... -t DIRECTORY SOURCE...
</pre>

<p>
<b>常用选项</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">-i&#65306;&#20132;&#20114;&#24335;&#21024;&#38500;&#65292;&#21363;&#35206;&#30422;&#20043;&#21069;&#25552;&#37266;&#29992;&#25143;&#30830;&#35748;&#65307;
-f:force
-u &#65306;&#33509;&#30446;&#26631;&#25991;&#20214;&#24050;&#23384;&#22312;&#65292;&#19988; source &#27604;&#36739;&#26032;&#65292;&#25165;&#20250;&#26356;&#26032; (update)
&#27604;cp&#22810;&#20102;&#19968;&#27493;&#25226;&#21407;&#26469;&#30340;&#32473;&#21024;&#20102;
[root@node01 ~]# mv bashrc1 bashrc2 mvtest2
&#27880;&#24847;&#65292;&#22914;&#26524;&#26377;&#22810;&#20010;&#26469;&#28304;&#25991;&#20214;&#25110;&#30446;&#26631;&#65292;&#21017;&#26368;&#21518;&#19968;&#20010;&#30446;&#26631;&#25991;&#20214;&#19968;&#23450;&#26159;&#30446;&#24405;&#12290;&#24847;&#24605;&#26159;&#23558;&#25152;&#26377;&#30340;&#36164;&#26009;&#31227;&#21160;&#21040;&#35813;&#30446;&#24405;&#19979;&#12290;

--backup[=CONTROL]&#65306;&#22914;&#26524;&#30446;&#26631;&#25991;&#20214;&#24050;&#23384;&#22312;&#65292;&#21017;&#23545;&#35813;&#25991;&#20214;&#20570;&#19968;&#20010;&#22791;&#20221;&#65292;&#40664;&#35748;&#22791;&#20221;&#25991;&#20214;&#26159;&#22312;&#25991;&#20214;&#21517;&#21518;&#21152;&#19978;&#27874;&#28010;&#32447;&#65292;&#22914;/b.txt~
-b&#65306;&#31867;&#20284;&#20110;--backup&#65292;&#20294;&#19981;&#25509;&#21463;&#21442;&#25968;, &#40664;&#35748;&#22791;&#20221;&#25991;&#20214;&#26159;&#22312;&#25991;&#20214;&#21517;&#21518;&#21152;&#19978;&#27874;&#28010;&#32447;&#65292;&#22914;/b.txt~
-n&#65306;&#22914;&#26524;&#30446;&#26631;&#25991;&#20214;&#24050;&#23384;&#22312;&#65292;&#21017;&#19981;&#35206;&#30422;&#24050;&#23384;&#22312;&#30340;&#25991;&#20214;
 &#22914;&#26524;&#21516;&#26102;&#25351;&#23450;&#20102;-f/-i/-n&#65292;&#21017;&#21518;&#25351;&#23450;&#30340;&#29983;&#25928;
</pre>
</div>


<p>
利用rename 可以批量修改文件名 格式： rename [options] &#x2026;
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">centos</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20026;&#25152;&#26377;&#30340;conf&#25991;&#20214;&#21152;&#19978;.bak&#21518;&#32512;&#65306;</span>
rename  <span style="color: #8b2252;">'conf'</span>   <span style="color: #8b2252;">'conf.bak'</span>  f*
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21435;&#25481;&#25152;&#26377;&#30340;bak&#21518;&#32512;&#65306;</span>
rename  <span style="color: #8b2252;">'.bak'</span>  <span style="color: #8b2252;">''</span> *.bak

<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu  f1.conf  &#25442;&#25104; f1.conf.bak</span>
rename <span style="color: #8b2252;">'s/conf$/conf.bak/'</span> f*
</pre>
</div>
</div>
</div>
<div id="outline-container-h:90a8736f-63a4-4825-aa96-ddb206a3fc72" class="outline-5">
<h5 id="h:90a8736f-63a4-4825-aa96-ddb206a3fc72">删除文件 rm</h5>
<div class="outline-text-5" id="text-h:90a8736f-63a4-4825-aa96-ddb206a3fc72">
<p>
rm [OPTION]&#x2026; FILE&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-sh">-i : &#20132;&#20114;&#24335;&#22797;&#21046;&#65292;&#21363;&#35206;&#30422;&#20043;&#21069;&#25552;&#37266;&#29992;&#25143;&#30830;&#35748;&#65307;
-f : &#24378;&#21046;&#21024;&#38500;&#30446;&#26631;&#25991;&#20214;&#65307;
-r : recurive&#36882;&#24402;&#21024;&#38500;
--no-preserve-root &#21024;&#38500;/
</pre>
</div>

<p>
删除目录 : rm -rf /PATH/TO/DIR
</p>

<p>
危险操作rm -fr / 或rm -fr /*
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# rm -fr /
rm: &#22312;<span style="color: #8b2252;">"/"</span> &#36827;&#34892;&#36882;&#24402;&#25805;&#20316;&#21313;&#20998;&#21361;&#38505;
rm: &#20351;&#29992; --no-preserve-root &#36873;&#39033;&#36339;&#36807;&#23433;&#20840;&#27169;&#24335;
</pre>
</div>

<p>
注意：所有不用的文件建议不要直接删除，而是移动至某个专用目录；(模拟回收站)
</p>

<p>
范例：删除特殊文件
</p>

<div class="org-src-container">
<pre class="src src-sh">touch ./-f
[root@centos8 data]#rm -- -f  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;-f&#25991;&#20214;</span>
[root@centos8 data]#rm ./-f
[root@centos8 data]#rm /data/-f
[root@centos8 data]#touch <span style="color: #8b2252;">'~'</span>
[root@centos8 data]#ls
<span style="color: #8b2252;">'~'</span>
[root@centos8 data]#rm -f ~
rm: cannot remove <span style="color: #8b2252;">'/root'</span>: Is a directory
[root@centos8 data]#rm -- ~
rm: cannot remove <span style="color: #8b2252;">'/root'</span>: Is a directory
[root@centos8 data]#rm -f ./~
</pre>
</div>

<p>
删除隐藏文件 <code>rm -fr .[^.]*</code>
</p>

<p>
rm虽然删除了文件，但是被删除的文件仍然可能被恢复，在安全要求较高的场景
下，可以使用shred安全删除文件
</p>

<p>
shred格式 shred [OPTION]&#x2026; FILE&#x2026;
</p>

<p>
常见选项：
</p>
<div class="org-src-container">
<pre class="src src-sh">-z &#26368;&#21518;&#19968;&#27425;&#35206;&#30422;&#28155;&#21152;0&#65292;&#20197;&#38544;&#34255;&#35206;&#30422;&#25805;&#20316;
-v &#33021;&#22815;&#26174;&#31034;&#25805;&#20316;&#36827;&#24230;
-u &#35206;&#30422;&#21518;&#25130;&#26029;&#24182;&#21024;&#38500;&#25991;&#20214;
-n <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#23450;&#35206;&#30422;&#25991;&#20214;&#20869;&#23481;&#30340;&#27425;&#25968;&#65288;&#40664;&#35748;&#20540;&#26159;3&#27425;&#65289;</span>
</pre>
</div>

<p>
范例
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#shred -zvun 5 passwords.txt
shred: passwords.txt: pass 1/6 (random)...
shred: passwords.txt: pass 2/6 (000000)...
shred: passwords.txt: pass 3/6 (random)...
shred: passwords.txt: pass 4/6 (ffffff)...
shred: passwords.txt: pass 5/6 (random)...
shred: passwords.txt: pass 6/6 (000000)...
shred: passwords.txt: removing
shred: passwords.txt: renamed to 0000000000000
shred: 0000000000000: renamed to 000000000000
shred: 000000000000: renamed to 00000000000
shred: 00000000000: renamed to 0000000000
shred: 0000000000: renamed to 000000000
shred: 000000000: renamed to 00000000
shred: 00000000: renamed to 0000000
shred: 0000000: renamed to 000000
shred: 000000: renamed to 00000
shred: 00000: renamed to 0000
shred: 0000: renamed to 000
shred: 000: renamed to 00
shred: 00: renamed to 0
shred: passwords.txt: removed
[root@centos8 ~]#ls passwords.txt
ls: cannot access <span style="color: #8b2252;">'passwords.txt'</span>: No such file or directory
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:1055a5f8-bb75-4ee3-9c93-b8369414da27" class="outline-4">
<h4 id="h:1055a5f8-bb75-4ee3-9c93-b8369414da27">目录操作mkdir,rmdir,tree</h4>
<div class="outline-text-4" id="text-h:1055a5f8-bb75-4ee3-9c93-b8369414da27">
</div>
<div id="outline-container-h:08345dd3-f238-44f0-8043-4996fc1d0514" class="outline-5">
<h5 id="h:08345dd3-f238-44f0-8043-4996fc1d0514">显示目录树 tree</h5>
<div class="outline-text-5" id="text-h:08345dd3-f238-44f0-8043-4996fc1d0514">
<p>
有可能tree命令不存在，需要安装tree包才有(安装：yum -y install tree)。
</p>

<p>
tree命令的选项说明如下：
</p>
<div class="org-src-container">
<pre class="src src-sh">&#12304; &#21305;&#37197;&#36873;&#39033;&#65306;&#12305;
-L&#65306;&#29992;&#20110;&#25351;&#23450;&#36882;&#24402;&#26174;&#31034;&#30340;&#28145;&#24230;&#65292;&#25351;&#23450;&#30340;&#28145;&#24230;&#24517;&#39035;&#26159;&#22823;&#20110;0&#30340;&#25972;&#25968;&#12290;
-P&#65306;&#29992;&#20110;&#26174;&#31034;&#32479;&#37197;&#31526;&#21305;&#37197;&#27169;&#24335;&#30340;&#30446;&#24405;&#21644;&#25991;&#20214;&#65292;&#20294;&#26159;&#19981;&#31649;&#26159;&#21542;&#21305;&#37197;&#65292;&#30446;&#24405;&#19968;&#23450;&#26174;&#31034;&#12290;
-I&#65306;&#29992;&#20110;&#26174;&#31034;&#38500;&#34987;&#36890;&#37197;&#31526;&#21305;&#37197;&#22806;&#30340;&#25152;&#26377;&#30446;&#24405;&#21644;&#25991;&#20214;&#12290;

&#12304; &#26174;&#31034;&#36873;&#39033;&#65306;&#12305;
-a&#65306;&#29992;&#20110;&#26174;&#31034;&#38544;&#34255;&#25991;&#20214;&#65292;&#40664;&#35748;&#19981;&#26174;&#31034;&#12290;
-d&#65306;&#25351;&#23450;&#21482;&#26174;&#31034;&#30446;&#24405;&#12290;
-f&#65306;&#25351;&#23450;&#26174;&#31034;&#20840;&#36335;&#24452;&#12290;
-i&#65306;&#19981;&#32553;&#36827;&#26174;&#31034;&#12290;&#21644;-f&#19968;&#36215;&#20351;&#29992;&#24456;&#26377;&#29992;&#12290;
-p&#65306;&#29992;&#20110;&#26174;&#31034;&#26435;&#38480;&#20301;&#20449;&#24687;&#12290;
-h&#65306;&#29992;&#20110;&#26174;&#31034;&#22823;&#23567;&#12290;
-u&#65306;&#26174;&#31034;username&#25110;UID(&#24403;&#27809;&#26377;username&#26102;&#21482;&#33021;&#26174;&#31034;UID&#20102;)&#12290;
-g&#65306;&#26174;&#31034;groupname&#25110;GID&#12290;
-D&#65306;&#26174;&#31034;&#25991;&#20214;&#30340;&#26368;&#21518;&#19968;&#27425;Mtime&#12290;
--inodes&#65306;&#26174;&#31034;inode&#21495;&#12290;
--device&#65306;&#26174;&#31034;&#25991;&#20214;&#25110;&#30446;&#24405;&#25152;&#23646;&#30340;&#35774;&#22791;&#21495;&#12290;
-C&#65306;&#26174;&#31034;&#39068;&#33394;&#12290;

&#12304; &#36755;&#20986;&#36873;&#39033;&#65306;&#12305;
-o filename&#65306;&#25351;&#23450;&#23558;tree&#30340;&#32467;&#26524;&#36755;&#20986;&#21040;filename&#25991;&#20214;&#20013;&#12290;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4453e9d1-0c26-463d-a257-9db74466f835" class="outline-5">
<h5 id="h:4453e9d1-0c26-463d-a257-9db74466f835">创建目录 mkdir</h5>
<div class="outline-text-5" id="text-h:4453e9d1-0c26-463d-a257-9db74466f835">
<p>
可使用mkdir命令创建一个新的目录。
</p>

<p>
需要注意的是
</p>

<ol class="org-ol">
<li><p>
路径基名方为命令的作用对象，基名之前的路径必须存在，如在/tmp/x/y目
录下创建z目录
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# mkdir /tmp/x/y/z
mkdir: cannot create directory &#8216;/tmp/x/y/z&#8217;: No such file or directory
[root@node01 ~]# mkdir /tmp/x
[root@node01 ~]# mkdir /tmp/x/y
[root@node01 ~]# mkdir /tmp/x/y/z
</pre>
</div></li>
<li>新建目录的名称不能与当前目录中已有的目录或文件同名，并且目录创建者
必须对当前目录具有写权限。</li>
</ol>

<p>
该命令格式如下： mkdir [参数] 目录名
</p>

<p>
命令选项：
</p>
<div class="org-src-container">
<pre class="src src-text">-p&#65306;&#33258;&#21160;&#21019;&#24314;&#29238;&#23478;&#30446;&#24405;&#65307;
-v&#65306;verbose&#65292;&#26174;&#31034;&#35814;&#32454;&#36807;&#31243;&#65307;
-m MOODE&#65306;&#30452;&#25509;&#32473;&#23450;&#26435;&#38480;
</pre>
</div>


<p>
如，创建/tmp/m/n/p的层级目录
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# mkdir -pv /tmp/m/n/p
mkdir: created directory &#8216;/tmp/m&#8217;
mkdir: created directory &#8216;/tmp/m/n&#8217;
mkdir: created directory &#8216;/tmp/m/n/p&#8217;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2652af1d-0070-46f9-a75d-69771d6b7440" class="outline-5">
<h5 id="h:2652af1d-0070-46f9-a75d-69771d6b7440">删除空目录rmdir</h5>
<div class="outline-text-5" id="text-h:2652af1d-0070-46f9-a75d-69771d6b7440">
<p>
只能删除空目录
</p>

<div class="org-src-container">
<pre class="src src-sh">-p&#65306;&#21024;&#38500;&#26576;&#30446;&#24405;&#21518;&#65292;&#22914;&#26524;&#20854;&#29238;&#30446;&#24405;&#20026;&#31354;&#65292;&#21017;&#19968;&#24182;&#21024;&#38500;&#20043;&#65307;
-v&#65306;verbose&#65292;&#26174;&#31034;&#35814;&#32454;&#36807;&#31243;&#65307;
</pre>
</div>

<p>
问题1：如何创建/tmp/x/y1, /tmp/x/y2, /tmp/x/y1/a, /tmp/x/y1/b?
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# mkdir /tmp/x/{y1/{}}
</pre>
</div>

<p>
问题2:如何创建a_c, a_d, b_c, b_d;
</p>

<div class="org-src-container">
<pre class="src src-sh">~]# mkdir -v {a,b}_{c,d}
</pre>
</div>

<p>
注意：rmdir只能删除空目录，如果想删除非空目录，可以使用rm -r 命令，递
归删除目录树
</p>

<p>
范例:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">alias</span> <span style="color: #a0522d;">rm</span>=<span style="color: #8b2252;">'DIR=/data/backup`date +%F%T`;mkdir $DIR;mv -t $DIR'</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:40cab184-6462-409a-996b-6a0cda723bbb" class="outline-3">
<h3 id="h:40cab184-6462-409a-996b-6a0cda723bbb">文件元数据和节点表结构</h3>
<div class="outline-text-3" id="text-h:40cab184-6462-409a-996b-6a0cda723bbb">
</div>
<div id="outline-container-h:73a79875-d91d-4119-a3a5-44feceb8eab0" class="outline-4">
<h4 id="h:73a79875-d91d-4119-a3a5-44feceb8eab0">inode表结构</h4>
<div class="outline-text-4" id="text-h:73a79875-d91d-4119-a3a5-44feceb8eab0">
<p>
每个文件的属性信息，比如：文件的大小，时间，类型等，称为文件的元数据(m
etadata)。
</p>

<p>
这此元数据是存放在node（index node）表中。node 表中有很多条记录组成，
第一条记录对应的存放了一个文件的元数据信息
</p>

<p>
第一个node表记录对应的保存了以下信息：
</p>

<ul class="org-ul">
<li>inode number 节点号</li>
<li>文件类型</li>
<li>权限</li>
<li>UID</li>
<li>GID</li>
<li>链接数（指向这个文件名路径名称个数）</li>
<li>该文件的大小和不同的时间戳</li>
<li>指向磁盘上文件的数据块指针</li>
<li>有关文件的其他数据</li>
</ul>


<figure id="org47c60a9">
<img src="images/image-20210215220926953.png" alt="image-20210215220926953.png" width="50%">

</figure>


<figure id="orgd998b60">
<img src="images/image-20210215220907952.png" alt="image-20210215220907952.png" width="50%">

</figure>


<p>
<b>目录</b>
</p>

<p>
目录是个特殊文件，目录文件的内容保存了此目录中文件的列表及inode number
对应关系
</p>

<ul class="org-ul">
<li>文件引用一个是 inode号</li>
<li>人是通过文件名来引用一个文件</li>
<li>一个目录是目录下的文件名和文件inode号之间的映射</li>
</ul>

<p>
<b>inode表和目录</b>
</p>


<figure id="org9d750ef">
<img src="images/image-20210215220955813.png" alt="image-20210215220955813.png" width="50%">

</figure>

<p>
<b>cp和inode</b>
</p>

<p>
cp 命令：
</p>

<ul class="org-ul">
<li>分配一个空闲的inode号，在inode表中生成新条目</li>
<li>在目录中创建一个目录项，将名称与inode编号关联</li>
<li>拷贝数据生成新的文件</li>
</ul>

<p>
<b>rm和inode</b>
</p>

<p>
rm 命令：
</p>

<ul class="org-ul">
<li>链接数递减，从而释放的inode号可以被重用</li>
<li>把数据块放在空闲列表中</li>
<li>删除目录项</li>
<li>数据实际上不会马上被删除，但当另一个文件使用数据块时将被覆盖</li>
</ul>

<p>
<b>mv和inode</b>
</p>

<ul class="org-ul">
<li><p>
如果mv命令的目标和源在相同的文件系统，作为mv 命令
用新的文件名创建对应新的目录项
</p>

<p>
删除旧目录条目对应的旧的文件名
</p>

<p>
不影响inode表（除时间戳）或磁盘上的数据位置：没有数据被移动！
</p></li>

<li><p>
如果目标和源在一个不同的文件系统， mv相当于cp和rm
</p>

<p>
范例:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#df -i /boot
Filesystem   Inodes IUsed IFree IUse% Mounted on
/dev/sda1    65536  310 65226   1% /boot
[root@centos8 ~]#mkdir /boot/test
[root@centos8 ~]#touch /boot/test/file{1..65226}
[root@centos8 ~]#touch /boot/test/new.txt
touch: cannot touch <span style="color: #8b2252;">'new.txt'</span>: No space left on device
[root@centos8 ~]#df /boot
Filesystem   1K-blocks  Used Available Use% Mounted on
/dev/sda1     999320 133800   796708  15% /boot
[root@centos8 ~]#df -i /boot
Filesystem   Inodes IUsed IFree IUse% Mounted on
/dev/sda1    65536 65536   0  100% /boot
</pre>
</div></li>
</ul>

<p>
范例：删除大文件
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /dev/null &gt; /var/log/huge.log
</pre>
</div>
</div>
</div>
<div id="outline-container-h:73039107-a013-4171-a386-e64f24cc50a4" class="outline-4">
<h4 id="h:73039107-a013-4171-a386-e64f24cc50a4">硬（hard）链接</h4>
<div class="outline-text-4" id="text-h:73039107-a013-4171-a386-e64f24cc50a4">
<p>
硬链接本质上就给一个文件起一个新的名称，实质是同一个文件
</p>

<p>
硬链接特性
</p>

<ul class="org-ul">
<li>创建硬链接会在对应的目录中增加额外的记录项以引用文件</li>
<li>对应于同一文件系统上一个物理文件</li>
<li>每个目录引用相同的inode号</li>
<li>创建时链接数递增</li>
<li>删除文件时：rm命令递减计数的链接，文件要存在，至少有一个链接数，当链
接数为零时，该文件被删除</li>
<li>不能跨越驱动器或分区</li>
<li>不支持对目录创建硬链接</li>
</ul>

<p>
同一分区中不同文件的节点编号必定不同
同一个文件能否采用多个节点编号？不允许。
</p>

<p>
本质：一个文件可以有多个文件名，可以由硬连接实现。
</p>

<p>
格式: ln filename [linkname ]
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]# mkdir dir1
[root@centos8 ~]# echo 11 &gt;&gt; f1.txt 
[root@centos8 ~]# ll
drwxr-xr-x  2 root root    6 Dec 22 07:27 dir1
-rw-r--r--  1 root root    3 Dec 22 07:29 f1.txt

[root@centos8 ~]# ln f1.txt  dir1/f1.txt
[root@centos8 ~]# ll -i !*
ll -i f1.txt dir1/f2.txt
67170507 -rw-r--r-- 2 root root 3 Dec 22 07:29 dir1/f1.txt
67170507 -rw-r--r-- 2 root root 3 Dec 22 07:29 f1.txt

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21407;&#22987;&#25991;&#20214;&#21644;&#21518;&#26469;&#21019;&#24314;&#30340;&#25991;&#20214;&#27809;&#26377;&#20381;&#36182;&#20851;&#31995;</span>
[root@centos8 ~]# rm -f f1.txt 
[root@centos8 ~]# cat dir1/f2.txt 
11
</pre>
</div>


<figure id="org0c780f5">
<img src="images/image-20210215221017709.png" alt="image-20210215221017709.png" width="50%">

</figure>

<p>
删除大文件时，会将这个文件所在的每一个数据块加标识修改为可用状态，这样
会产生很高的磁盘IO，服务又来了很多个访问，最终可能导致服务不可用。
</p>

<p>
如果给这个文件创建个硬连接，那么原始文件删除也只是连接数减1，并不会有
大IO产生。等系统空闲时再删除这个大文件。
</p>
</div>
</div>
<div id="outline-container-h:1cca5022-d234-4277-a2b6-c5ebc62dd4f1" class="outline-4">
<h4 id="h:1cca5022-d234-4277-a2b6-c5ebc62dd4f1">符号 symbolic （或软 soft）链接</h4>
<div class="outline-text-4" id="text-h:1cca5022-d234-4277-a2b6-c5ebc62dd4f1">
<p>
一个符号链接指向另一个文件,就像 windows 中快捷方式，软链接文件和原文件
本质上不是同一个文件
</p>

<p>
软链接特点：
</p>

<ul class="org-ul">
<li>一个符号链接的内容是它引用文件的名称</li>
<li>可以对目录创建软链接</li>
<li>可以跨分区的文件实现</li>
<li>指向的是另一个文件的路径；其大小为指向的路径字符串的长度；不增加或减
少目标文件inode的引用计数</li>
<li>软链接如果使用相对路径，是相对于原文件的路径，而非相对于当前目录</li>
</ul>

<p>
格式：~ln -s filename [linkname]~
</p>

<div class="org-src-container">
<pre class="src src-sh">-f&#25110;--force&#65306;&#24378;&#34892;&#24314;&#31435;&#25991;&#20214;&#25110;&#30446;&#24405;&#30340;&#36830;&#25509;&#65292;&#19981;&#35770;&#25991;&#20214;&#25110;&#30446;&#24405;&#26159;&#21542;&#23384;&#22312;&#65307;
-n&#25110;--no-dereference&#65306;&#25226;&#31526;&#21495;&#36830;&#25509;&#30340;&#30446;&#30340;&#30446;&#24405;&#35270;&#20026;&#19968;&#33324;&#25991;&#20214;&#65307;
-s&#25110;--symbolic&#65306;&#23545;&#28304;&#25991;&#20214;&#24314;&#31435;&#31526;&#21495;&#36830;&#25509;&#65292;&#32780;&#38750;&#30828;&#36830;&#25509;&#65307;
-v&#25110;--verbose&#65306;&#26174;&#31034;&#25351;&#20196;&#25191;&#34892;&#36807;&#31243;&#65307;
</pre>
</div>

<p>
范例:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#32477;&#23545;&#36335;&#24452;</span>
ln -s /data/dir /data/dirlink
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#22914;&#26524;&#23384;&#22312;rummy-center&#36719;&#38142;&#65292;&#21017;&#24378;&#21046;&#26367;&#25442;</span>
ln -snf /game/rummy/rummy-center-1.28.2 /game/rummy/rummy-center
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#23545;&#36335;&#24452;</span>
<span style="color: #483d8b;">cd</span> /data
ln -s ../data/dir /root/dirlink

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#37325;&#28857;&#27880;&#24847;</span>
rm -rf /data/dirlink   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#36719;&#38142;&#25509;&#26412;&#36523;,&#19981;&#20250;&#21024;&#38500;&#28304;&#30446;&#24405;&#20869;&#23481;</span>
rm -rf /data/dirlink/  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#28304;&#30446;&#24405;&#30340;&#25991;&#20214;,&#19981;&#20250;&#21024;&#38500;&#38142;&#25509;&#25991;&#20214;&#65292;&#36825;&#31181;&#32467;&#26524;&#24456;&#35201;&#21629;&#20196;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#38142;&#25509;&#25991;&#20214;&#25351;&#21521;&#30340;&#21407;&#25991;&#20214;</span>
readlink /data/dirlink
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a819e1ae-88b9-40e4-aebb-7bbdd419e989" class="outline-4">
<h4 id="h:a819e1ae-88b9-40e4-aebb-7bbdd419e989">硬链接和软链接区别总结</h4>
<div class="outline-text-4" id="text-h:a819e1ae-88b9-40e4-aebb-7bbdd419e989">
<ol class="org-ol">
<li>本质： 硬链接：本质是同一个文件 软链接：本质不是同一个文件</li>
<li>跨设备 硬链接：不支持 软链接：支持</li>
<li>inode 硬链接：相同 软链接：不同</li>
<li>链接数 硬链接：创建新的硬链接,链接数会增加,删除硬链接,链接数减少
软链接：创建或删除,链接数不会变化</li>
<li>文件夹 硬链接：不支持 软链接：支持</li>
<li>相对路径 硬链接：原始文件相对路径是相对于当前工作目录
软链接：原始文件的相对路径是相对于链接文件的相对路径</li>
<li>删除源文件 硬链接：只是链接数减一,但链接文件的访问不受影响
软链接：链接文件将无法访问</li>
<li>文件类型 硬链接：和源文件相同 软链接：链接文件,和源文件无关</li>
</ol>

<p>
<b>连接数的变化</b>
</p>


<figure id="orgd078ee5">
<img src="images/image-20210215221039844.png" alt="image-20210215221039844.png" width="50%">

</figure>

<p>
<b>生产案例</b>
</p>

<p>
案例1：提示空间满 No space left on device，但 df 可以看到空间很多，为
什么？
</p>

<p>
inode号满了
</p>

<p>
案例2：提示空间快满，使用rm 删除了很大的无用文件后，df 仍然看到空间不
足，为什么？如何解决？*
</p>

<div class="org-src-container">
<pre class="src src-sh">lsof |grep delete <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25214;&#21040;&#34987;&#36827;&#31243;&#21344;&#29992;&#21487;&#25991;&#20214;&#34987;&#21024;&#38500;&#30340;&#22823;&#25991;&#20214;</span>
cat /dev/null &gt; /var/log/huge.log
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:b5ef970f-ee2b-4255-90f0-3a1884710d33" class="outline-3">
<h3 id="h:b5ef970f-ee2b-4255-90f0-3a1884710d33">标准I/O重定向和管道</h3>
<div class="outline-text-3" id="text-h:b5ef970f-ee2b-4255-90f0-3a1884710d33">
<p>
内容概述
</p>

<ul class="org-ul">
<li>三种I/O设备</li>

<li>把I/O重定向至文件</li>

<li>使用管道</li>
</ul>
</div>
<div id="outline-container-h:20d58ad1-8afe-4fc6-a960-b3c2b4a6dad9" class="outline-4">
<h4 id="h:20d58ad1-8afe-4fc6-a960-b3c2b4a6dad9">标准输入和输出</h4>
<div class="outline-text-4" id="text-h:20d58ad1-8afe-4fc6-a960-b3c2b4a6dad9">
<p>
程序：指令+数据
</p>

<p>
读入数据：Input 输出数据：Output
</p>

<p>
打开的文件都有一个fd: file descriptor (文件描述符)
</p>

<p>
Linux给程序提供三种 I/O 设备
</p>

<ul class="org-ul">
<li>标准输入（STDIN） : 0 默认接受来自终端窗口的输入</li>
<li>标准输出（STDOUT）: 1 默认输出到终端窗口</li>
<li>标准错误（STDERR）: 2 默认输出到终端窗口</li>
</ul>

<p>
范例：文件描述符
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ll /dev/std*
lrwxrwxrwx. 1 root root 15 Dec 16 08:56 /dev/stderr -&gt; /proc/self/fd/2
lrwxrwxrwx. 1 root root 15 Dec 16 08:56 /dev/stdin -&gt; /proc/self/fd/0
lrwxrwxrwx. 1 root root 15 Dec 16 08:56 /dev/stdout -&gt; /proc/self/fd/1

[root@centos8 ~]#ll /proc/self/fd/*
lrwx------. 1 root root 64 Dec 16 10:59 /proc/self/fd/0 -&gt; /dev/pts/0
lrwx------. 1 root root 64 Dec 16 10:59 /proc/self/fd/1 -&gt; /dev/pts/0
lrwx------. 1 root root 64 Dec 16 10:59 /proc/self/fd/2 -&gt; /dev/pts/0
lr-x------. 1 root root 64 Dec 16 10:59 /proc/self/fd/3 -&gt;/var/lib/sss/mc/passwd
lrwx------. 1 root root 64 Dec 16 10:59 /proc/self/fd/4 -&gt; <span style="color: #8b2252;">'socket:[66542]'</span>
lr-x------. 1 root root 64 Dec 16 10:59 /proc/self/fd/5 -&gt; /var/lib/sss/mc/group

[root@centos8 ~]#ll /proc/<span style="color: #ff00ff;">`pidof tail`</span>/fd
lrwx------. 1 root root 64 Dec 16 10:56 0 -&gt; /dev/pts/1
lrwx------. 1 root root 64 Dec 16 10:56 1 -&gt; /dev/pts/1
lrwx------. 1 root root 64 Dec 16 10:56 2 -&gt; /dev/pts/1
lr-x------. 1 root root 64 Dec 16 10:56 3 -&gt; /var/log/messages
lr-x------. 1 root root 64 Dec 16 10:56 4 -&gt; anon_inode:inotify
</pre>
</div>
</div>
</div>
<div id="outline-container-h:30053fd4-6d4b-493b-934f-4183f73b38d3" class="outline-4">
<h4 id="h:30053fd4-6d4b-493b-934f-4183f73b38d3">I/O重定向redirect</h4>
<div class="outline-text-4" id="text-h:30053fd4-6d4b-493b-934f-4183f73b38d3">
<p>
I/O重定向：将默认的输入，输出或错误对应的设备改变，指向新的目标
</p>


<figure id="orgb595097">
<img src="images/image-20210215221509208.png" alt="image-20210215221509208.png" width="50%">

</figure>
</div>
<div id="outline-container-h:ecd459dd-3e85-4fa0-9fcf-b67637705a05" class="outline-5">
<h5 id="h:ecd459dd-3e85-4fa0-9fcf-b67637705a05">标准输出和错误重新定向 &gt; &gt;| &gt;&gt;</h5>
<div class="outline-text-5" id="text-h:ecd459dd-3e85-4fa0-9fcf-b67637705a05">
<p>
STDOUT和STDERR可以被重定向到指定文件,而非默认的当前终端
</p>

<p>
格式：
</p>
<div class="org-src-container">
<pre class="src src-sh">&#21629;&#20196; &#25805;&#20316;&#31526;&#21495; &#25991;&#20214;&#21517;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#35206;&#30422;&#25805;&#20316;&#31526;&#65292;&#22914;&#26524;&#25991;&#20214;&#23384;&#22312;&#65292;&#25991;&#20214;&#20869;&#23481;&#20250;&#34987;&#35206;&#30422;</span>
1&gt; &#25110; &gt;  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;STDOUT&#37325;&#23450;&#21521;&#21040;&#25991;&#20214;</span>
2&gt;           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;STDERR&#37325;&#23450;&#21521;&#21040;&#25991;&#20214;</span>
&amp;&gt;          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;&#25152;&#26377;&#36755;&#20986;&#37325;&#23450;&#21521;&#21040;&#25991;&#20214;</span>
&gt;&amp;          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21644;&#19978;&#38754;&#21151;&#33021;&#19968;&#26679;&#65292;&#24314;&#35758;&#20351;&#29992;&#19978;&#38754;&#26041;&#24335;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36861;&#21152;, &#22312;&#21407;&#25991;&#20214;&#30340;&#22522;&#30784;&#19978;&#36861;&#21152;&#20869;&#23481;</span>
&gt;&gt;    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36861;&#21152;&#26631;&#20934;&#36755;&#20986;&#37325;&#23450;&#21521;&#33267;&#25991;&#20214;</span>
1&gt;&gt; <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21516;&#19978;</span>
2&gt;&gt; <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36861;&#21152;&#26631;&#20934;&#38169;&#35823;&#37325;&#23450;&#21521;&#33267;&#25991;&#20214;</span>
</pre>
</div>

<p>
范例： 标准输出到其他终端
</p>

<div class="org-src-container">
<pre class="src src-sh">]# tty
/dev/pts/1

[root@centos8 ~]#ls 1&gt; /dev/pts/1
[root@centos8 ~]#ls /data &gt; /dev/pts/1
</pre>
</div>

<p>
范例：标准错误重定向
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#rm /data/f1.log 2&gt; /data/all.log
</pre>
</div>

<p>
范例：清除大文件
</p>

<div class="org-src-container">
<pre class="src src-sh">cat /dev/null &gt; /data/file.log
&gt; /data/file.log
</pre>
</div>

<p>
<b>设置终端是否允许覆盖</b>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> -C &#31105;&#27490;&#23558;&#20869;&#23481;&#35206;&#30422;&#24050;&#26377;&#25991;&#20214;,&#20294;&#21487;&#36861;&#21152;&#65292; &#21033;&#29992; &gt;| &#20173;&#21487;&#24378;&#21046;&#35206;&#30422;
<span style="color: #483d8b;">set</span> +C &#20801;&#35768;&#35206;&#30422;&#65292;&#40664;&#35748;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# set -C
[root@node01 ~]# cat /etc/issue &gt;issue.out
-bash: issue.out: &#26080;&#27861;&#35206;&#30422;&#24050;&#23384;&#22312;&#30340;&#25991;&#20214;
[root@node01 ~]# cat /etc/issue &gt;| issue.out
</pre>
</div>


<p>
<b>标准输出和错误输出各自定向至不同位置</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">COMMAND &gt; /path/to/file.out 2&gt; /path/to/error.out
</pre>
</div>

<p>
范例：分别重定向
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ls /data/ /xxx &gt; stdout.log 2&gt; stderr.log
</pre>
</div>


<p>
<b>合并标准输出和错误输出为同一个数据流进行重定向</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&amp;&gt; &#35206;&#30422;&#37325;&#23450;&#21521;
&amp;&gt;&gt; &#36861;&#21152;&#37325;&#23450;&#21521;
COMMAND &gt; /path/to/file.out 2&gt;&amp;1 &#65288;&#39034;&#24207;&#24456;&#37325;&#35201;&#65289;
COMMAND &gt;&gt; /path/to/file.out 2&gt;&amp;1
</pre>
</div>

<p>
范例：将标准输出和错误都重定向到同一个文件
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ls /data /xxx &gt; /data/all.log 2&gt;&amp;1
[root@centos8 ~]#ls /data /xxx 2&gt; /data/all.log 1&gt;&amp;2
[root@centos8 ~]#ls /data /xxx &amp;&gt; /data/all.log
[root@centos8 ~]#ls /data /xxx 2&gt;&amp;1 &gt; /data/all.log
ls: cannot access <span style="color: #8b2252;">'/xxx'</span>: No such file or directory
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#passwd wang &amp;&gt; /dev/null
</pre>
</div>

<p>
<b>合并多个程序</b>
</p>

<p>
(CMD1;CMD2&#x2026;&#x2026;) 或者{ CMD1;CMD2;&#x2026;.;}合并多个程序的STDOUT
</p>

<p>
范例：合并多个命令的结果至一个文件中
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#( cal 2019 ; cal 2020 ) &gt; all.txt
[root@centos8 ~]#{ ls;hostname;} &gt; /data/all.log
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ac68365f-3004-43bd-afb1-2bead4928835" class="outline-5">
<h5 id="h:ac68365f-3004-43bd-afb1-2bead4928835">标准输入重定向 &lt; &lt;&lt; &lt;&lt;&lt;</h5>
<div class="outline-text-5" id="text-h:ac68365f-3004-43bd-afb1-2bead4928835">
</div>
<ul class="org-ul">
<li><a id="h:cb4c145e-1f68-4cb7-b435-616cb4df8646"></a>标准输入重定向 &lt;<br>
<div class="outline-text-6" id="text-h:cb4c145e-1f68-4cb7-b435-616cb4df8646">
<p>
标准输入重写向是使用文件来代替键盘输入，
从文件中读取数据，代替当前终端的输入设备的数据，
此处要严格区分命令是否支持标准输入，标准输入和参数是两个概念
</p>

<p>
怎么判断命令能使用标准输入重定向？
</p>

<p>
不跟任何选项参数，直接回车，看是否等待输入，如果是，则该命令可以使用标准输入重定向。如，输入 <code>cat</code> 命令进入交互模式。
</p>

<p>
格式
</p>
<div class="org-src-container">
<pre class="src src-sh">&#23558;&#25991;&#20214;&#20316;&#20026;&#21629;&#20196;&#30340;&#26631;&#20934;&#36755;&#20837;
cmd 0&lt; file
cmd &lt; file
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &lt; /etc/fstab
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo 2^3 &gt; bc.log

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26631;&#20934;&#36755;&#20837;&#37325;&#23450;&#21521;</span>
[root@centos8 ~]#bc &lt; bc.log
8

[root@centos8 ~]#cat &lt; mail.txt
hello
how old are you
[root@centos8 ~]#cat mail.txt
hello
how old are you

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26631;&#20934;&#36755;&#20837;&#36755;&#20986;&#37325;&#23450;&#21521;</span>
[root@centos8 ~]#cat &lt; mail.txt &gt; mail2.txt
[root@centos8 ~]#cat mail2.txt
hello
how old are you

[root@centos8 ~]#cat mail.txt
hello
how old are you

[root@centos8 ~]#mail -s test2 user &lt; mail.txt

[root@centos8 ~]#cat &gt; cat.log
line1
line2
line3
<span style="color: #b22222;">#</span><span style="color: #b22222;">Ctrl+d &#31163;&#24320;</span>
</pre>
</div>
</div>
</li>
<li><a id="h:5e7a7ad0-ba61-4455-810e-0d9211857a16"></a>把多行重定向 &lt;&lt;终止词<br>
<div class="outline-text-6" id="text-h:5e7a7ad0-ba61-4455-810e-0d9211857a16">
<p>
使用 "&lt;&lt;终止词"
命令从键盘把多行重导向给STDIN，直到终止词位置之前的所有文本都发送给
STDIN，有时被称为就地文本（here documents）
</p>

<p>
其中终止词可以是任何一个或多个符号，比如： <code>!，@，$，EOF(End Of  File)</code> 等，其中EOF比较常用
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">mail -s <span style="color: #8b2252;">"Please Call"</span> admin@xx.com &lt;&lt;EOF
<span style="color: #ffa54f;">&gt;Hi Wang</span>
<span style="color: #ffa54f;">&gt;</span>
<span style="color: #ffa54f;">&gt;Please give me a call</span>
<span style="color: #ffa54f;">&gt;EOF</span>
</pre>
</div>

<p>
注意：终止词要作为单独的存在，前面不能有空格
</p>


<figure id="org264c28b">
<img src="images/image-20210215221633778.png" alt="image-20210215221633778.png">

</figure>

<p>
范例：cat多行覆盖
</p>
<div class="org-src-container">
<pre class="src src-sh">cat &gt; a.sh &lt;&lt; EOF
<span style="color: #ffa54f;">123</span>
<span style="color: #ffa54f;">456</span>
<span style="color: #ffa54f;">EOF</span>

cat &lt;&lt;EOF&gt; a.sh
<span style="color: #ffa54f;">123</span>
<span style="color: #ffa54f;">456</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>

<p>
<b>EOF多行写入文件 忽略 tab 键</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">cmd &lt;&lt;- EOF  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24573;&#30053; tab &#38190;</span>
</pre>
</div>

<p>
<b>EOF多行写入文件防止变量替换</b>
</p>

<p>
问题描述：对多个变量及多行输出到文件，存在变量自动替换，当使用cat&lt;&lt;EOF
不想对内容进行变量替换、命令替换、参数展开等
</p>

<p>
问题解决：转义特殊字符，如 $ `等
</p>

<div class="org-src-container">
<pre class="src src-sh">&#19968;&#12289;&#23545; $&#183;<span style="color: #8b2252;">\ </span>&#36827;&#34892;&#36716;&#20041;
cat &gt;&gt; a.sh &lt;&lt; EOF
<span style="color: #ffa54f;">echo \`hostname\`</span>
<span style="color: #ffa54f;">echo $HOME</span>
<span style="color: #ffa54f;">EOF</span>

&#20108;&#12289;&#22312;&#20998;&#30028;&#31526;EOF&#21069;&#28155;&#21152;&#21453;&#26012;&#26464;<span style="color: #8b2252;">\&#65292;</span>&#25110;&#32773;&#29992;&#21333;&#24341;&#21495;&#12289;&#21452;&#24341;&#21495;&#25324;&#36215;&#26469;
cat &lt;&lt; \EOF &gt;&gt; a.sh 
<span style="color: #ffa54f;">echo `hostname`</span>
<span style="color: #ffa54f;">echo $HOME</span>
<span style="color: #ffa54f;">EOF</span>

cat &gt;&gt; a.sh &lt;&lt; <span style="color: #8b2252;">"EOF"</span>
<span style="color: #ffa54f;">echo `hostname`</span>
<span style="color: #ffa54f;">echo $HOME</span>
<span style="color: #ffa54f;">EOF</span>

cat &gt;&gt; a.sh &lt;&lt; <span style="color: #8b2252;">'EOF'</span>
<span style="color: #ffa54f;">echo `hostname`</span>
<span style="color: #ffa54f;">echo $HOME</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>
</div>
</li>
<li><a id="h:d179a92c-3e58-4d29-9249-5473e6496104"></a>字符串当标准输入 &lt;&lt;&lt;字符串<br>
<div class="outline-text-6" id="text-h:d179a92c-3e58-4d29-9249-5473e6496104">
<p>
<b>cmd &lt;&lt;&lt; “string”</b> 
</p>

<p>
Here Strings, here-document 的变种，形式是 &lt;&lt;&lt;"string"  string被扩展，提供给命令作为标准输入。
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@ip-10-0-129-226 ~]# cat &lt;&lt;&lt;abc
abc
[root@ip-10-0-129-226 ~]# bc &lt;&lt;&lt;<span style="color: #8b2252;">"1+2+3"</span>
6

[root@ip-10-0-129-226 ~]#  tr <span style="color: #8b2252;">'a'</span> <span style="color: #8b2252;">'A'</span> &lt;&lt;&lt;a
A
</pre>
</div>

<p>
范例：执行命令作为重定向输入
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@ip-10-0-129-226 ~]# bc &lt;&lt;&lt;<span style="color: #ff00ff;">`echo 1+2+3`</span>
6
[root@ip-10-0-129-226 ~]# bc &lt;&lt;&lt;<span style="color: #ff00ff;">`seq -s + 3`</span>
6

[root@ip-10-0-129-226 ~]# tr <span style="color: #8b2252;">'a-z'</span> <span style="color: #8b2252;">'A-Z'</span> &lt;&lt;&lt;<span style="color: #ff00ff;">`hostname`</span>
IP-10-0-129-226
</pre>
</div>

<p>
范例：利用重定向模拟浏览器访问网站
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#exec 8&lt;&gt;/dev/tcp/www.baidu.com/80  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#24320;&#26412;&#22320;&#25991;&#20214;&#25551;&#36848;&#31526; &#35775;&#38382;baidu</span>
[root@centos8 ~]#ll /proc/$<span style="color: #a0522d;">$</span>/fd
lrwx------ 1 root root 64 Apr 20 14:14 8 -&gt; <span style="color: #8b2252;">'socket:[32777]'</span>
[root@centos8 ~]# ss -nt |grep 80
ESTAB      0      0      10.0.1.86:41430              182.61.200.7:80
[root@centos8 ~]#echo -e <span style="color: #8b2252;">'GET / HTTP/1.1\n'</span> &gt;&amp; 8 <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27169;&#25311;GET&#35831;&#27714;</span>
[root@centos8 ~]#cat &lt;&amp; 8 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35835;&#21462;&#25551;&#36848;&#20869;&#23481; &#19978;&#38754;&#21160;&#20316;&#24555;&#20123;&#65292;&#19981;&#28982;&#36825;&#37324;&#27809;&#26377;&#20869;&#23481;</span>
</pre>
</div>

<p>
范例：定义变量不显示标准输出与标准错误
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">MD5_PATH</span>=<span style="color: #ff00ff;">`exec &lt;&amp;- 2&gt;&amp;-; which md5sum || command -v md5sum || type md5sum`</span>
</pre>
</div>

<p>
<b>&lt;(cmd)</b>
</p>

<p>
&lt;(cmd)  命令的结果输出到临时文件，整体当一个临时文件
</p>

<div class="org-src-container">
<pre class="src src-sh">cmd1 &lt; &lt;(cmd2)

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;cmd2&#30340;&#36755;&#20986;&#20256;&#36882;&#32473;cmd1  &#20854;&#20013;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">cmd1 &lt; &#36825;&#26159;&#26631;&#20934;&#30340;stdin&#37325;&#23450;&#21521;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&lt;(cmd2)  &#21629;&#20196;&#32467;&#26524;&#20805;&#24403;&#19968;&#20010;&#25991;&#20214;</span>
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">bc &lt;&lt;&lt; <span style="color: #ff00ff;">`seq -s +3`</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">ll &lt;(hostname)</span>
lr-x------. 1 root root 64 Sep 22 16:42 /dev/fd/63 -&gt; <span style="color: #8b2252;">'pipe:[28762099]'</span>

]# cat  &lt;(hostname)
ip-10-0-129-226.af-south-1.compute.internal
</pre>
</div>
</div>
</li>
<li><a id="h:93b7f2d5-62f4-4414-9290-5abaee7aaa2b"></a>tr 命令<br>
<div class="outline-text-6" id="text-h:93b7f2d5-62f4-4414-9290-5abaee7aaa2b">
<p>
tr 转换和删除字符
</p>


<p>
选项：
</p>

<div class="org-src-container">
<pre class="src src-sh">tr [OPTION]... SET1 [SET2]

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#36873;&#39033;</span>
-c &#8211;C --complement            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#23383;&#31526;&#38598;&#30340;&#34917;&#38598;. &#29992;SET2&#26367;&#25442;SET1&#20013;&#27809;&#26377;&#21253;&#21547;&#30340;&#23383;&#31526;</span>
-d --delete                            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;SET1&#20013;&#25152;&#26377;&#23383;&#31526;&#65292;&#19981;&#36716;&#25442;</span>
-s --squeeze-repeats&#65306;       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25226;&#36830;&#32493;&#37325;&#22797;&#30340;&#23383;&#31526;&#20197;&#21333;&#29420;&#19968;&#20010;&#23383;&#31526;&#34920;&#31034;,&#21363;&#21435;&#37325;</span>
-t --truncate-set1                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#31532;&#19968;&#20010;&#23383;&#31526;&#38598;&#23545;&#24212;&#23383;&#31526;&#36716;&#21270;&#20026;&#31532;&#20108;&#23383;&#31526;&#38598;&#23545;&#24212;&#30340;&#23383;&#31526;</span>

\NNN  character with octal value NNN (1 to 3 octal digits)
<span style="color: #8b2252;">\\</span>  backslash
\a  audible BEL
\b  backspace
\f  form feed
\n  new line
\r  return
\t  horizontal tab
\v  vertical tab

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#36890;&#37197;&#31526;</span>
[:alnum:]&#65306;&#23383;&#27597;&#21644;&#25968;&#23383;
[:alpha:]&#65306;&#23383;&#27597;
[:digit:]&#65306;&#25968;&#23383;
[:lower:]&#65306;&#23567;&#20889;&#23383;&#27597;
[:upper:]&#65306;&#22823;&#20889;&#23383;&#27597;
[:space:]&#65306;&#31354;&#30333;&#23383;&#31526;
[:print:]&#65306;&#21487;&#25171;&#21360;&#23383;&#31526;
[:punct:]&#65306;&#26631;&#28857;&#31526;&#21495;
[:graph:]&#65306;&#22270;&#24418;&#23383;&#31526;
[:cntrl:]&#65306;&#25511;&#21046;&#65288;&#38750;&#25171;&#21360;&#65289;&#23383;&#31526;
[:xdigit:]&#65306;&#21313;&#20845;&#36827;&#21046;&#23383;&#31526;
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26367;&#25442;</span>
[root@ip-10-0-129-226 ~]# tr 123 abc
123456
abc456
123456122
abc456abb

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23567;&#20889;&#36716;&#22823;&#20889;</span>
tr <span style="color: #8b2252;">'a-z'</span> <span style="color: #8b2252;">'A-Z'</span>&lt; /etc/issue
tr [:lower:]  [:upper:]

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#38750;123&#23601;&#26367;&#25442;&#25104;x</span>
[root@ip-10-0-129-226 ~]# tr -c <span style="color: #8b2252;">'123'</span> x
123456
123xxxx
Ctrl+d&#32467;&#26463;

[root@ip-10-0-129-226 ~]# tr -c <span style="color: #8b2252;">'123'</span> x &lt;&lt;&lt; <span style="color: #ff00ff;">`echo 13569`</span>
13xxxx

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#38750;2-5&#30340;&#20869;&#23481;&#26367;&#25442;&#25104;x</span>
[root@ip-10-0-129-226 ~]# echo 123456 |tr -c <span style="color: #8b2252;">'2-5'</span> x
x2345xx

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;2-5</span>
x2345xx[root@ip-10-0-129-226 ~]# echo 123456 |tr -d <span style="color: #8b2252;">'2-5'</span>
16
[root@ip-10-0-129-226 ~]# tr -d <span style="color: #8b2252;">'2-5'</span>
123456
16

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;fstab&#25991;&#20214;&#20013;&#30340;&#25152;&#26377;abc&#20013;&#20219;&#24847;&#23383;&#31526;</span>
tr &#8211;d abc &lt; /etc/fstab
</pre>
</div>

<p>
范例：随机字符
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;20&#20301;&#23383;&#31526;</span>
tr -dc <span style="color: #8b2252;">'#@%a-zA-Z0-9'</span> &lt; /dev/urandom |head -c 20
</pre>
</div>

<p>
范例：命令重向定
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#31354;&#26684;&#21435;&#37325;</span>
tr -s <span style="color: #8b2252;">' '</span> &lt;&lt;&lt;<span style="color: #ff00ff;">`df`</span>
tr -s <span style="color: #8b2252;">' '</span> &lt; &lt;(df)

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31354;&#26684;&#21435;&#37325;, &#24182;&#23558;&#31354;&#26684;&#26367;&#25442;&#20026;:&#20882;&#21495;</span>
tr -s <span style="color: #8b2252;">' '</span> : &lt; &lt;(df)
Filesystem:1K-blocks:Used:Available:Use%:Mounted:on
devtmpfs:1929756:0:1929756:0%:/dev
tmpfs:1940120:0:1940120:0%:/dev/shm
tmpfs:1940120:688:1939432:1%:/run
tmpfs:1940120:0:1940120:0%:/sys/fs/cgroup
/dev/vda1:41152812:14248900:25000204:37%:/
tmpfs:388028:0:388028:0%:/run/user/0
</pre>
</div>

<p>
范例：将 Windows 的文本转化 Linux的文本格式
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">dos2unix test.txt</span>

[root@centos8 ~]#cat windows.txt
a
b
c[root@centos8 ~]#file windows.txt
windows.txt: ASCII text, with CRLF line terminators

[root@centos8 ~]#hexdump -C windows.txt
00000000 61 0d 0a 62 0d 0a 63 |a..b..c|
00000007

[root@centos8 ~]#nano linux.txt
[root@centos8 ~]#hexdump -C linux.txt
00000000 61 0a 62 0a 63 0a |a.b.c.|
00000006

[root@centos8 ~]#tr -d <span style="color: #8b2252;">'\r'</span>  windows2.txt

[root@centos8 ~]#hexdump -C windows2.txt
00000000 61 0a 62 0a 63 |a.b.c|
00000005
[root@centos8 ~]#file windows2.txt
windows2.txt: ASCII text
</pre>
</div>

<p>
思考：将 Linux 的文本转化 Windows 的文本格式 ? <code>unix2dos</code>
</p>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:e7cac8ea-11c5-448b-85b9-65a372e3ea0e" class="outline-4">
<h4 id="h:e7cac8ea-11c5-448b-85b9-65a372e3ea0e">管道</h4>
<div class="outline-text-4" id="text-h:e7cac8ea-11c5-448b-85b9-65a372e3ea0e">
</div>
<div id="outline-container-h:54993fd8-8b7d-477b-8933-d5663a34df23" class="outline-5">
<h5 id="h:54993fd8-8b7d-477b-8933-d5663a34df23">管道</h5>
<div class="outline-text-5" id="text-h:54993fd8-8b7d-477b-8933-d5663a34df23">
<p>
管道（使用符号“|”表示）用来连接多个命令 格式
</p>

<pre class="example" id="orgce039e7">
命令1 | 命令2 | 命令3 | …
</pre>

<p>
功能说明：
</p>

<ul class="org-ul">
<li>将命令1的STDOUT发送给命令2的STDIN，命令2的STDOUT发送到命令3的STDIN</li>
<li><p>
所有命令会在当前shell进程的子shell进程中执行
</p>


<figure id="org20041eb">
<img src="images/image-20210215221656833.png" alt="image-20210215221656833.png" width="50%">

</figure></li>

<li>组合多种工具的功能</li>
</ul>

<p>
注意：STDERR默认不能通过管道转发，可利用 <code>2&gt;&amp;1</code> 或 <code>|&amp;</code> 实现，格式如下
</p>

<div class="org-src-container">
<pre class="src src-sh">&#21629;&#20196;1 2&gt;&amp;1 | &#21629;&#20196;2
&#21629;&#20196;1 |&amp; &#21629;&#20196;2
</pre>
</div>

<p>
范例： 多重管道
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#31354;&#26684;&#21435;&#37325;, &#24182;&#23558;&#31354;&#26684;&#26367;&#25442;&#20026;:&#20882;&#21495;</span>
tr -s <span style="color: #8b2252;">' '</span> : &lt; &lt;(df)

df | tr -s <span style="color: #8b2252;">' '</span> :

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31354;&#26684;&#21435;&#37325;, &#24182;&#23558;&#31354;&#26684;&#26367;&#25442;&#20026;:&#20882;&#21495;, &#24182;&#25490;&#24207;</span>
df | tr -s <span style="color: #8b2252;">' '</span> : |sort
</pre>
</div>

<p>
范例: 远程复制公钥信息
</p>

<div class="org-src-container">
<pre class="src src-sh">cat ~/.ssh/id_rsa.pub | ssh user@host <span style="color: #8b2252;">"mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys"</span>
</pre>
</div>

<p>
范例：本地打包远程传送并解压
</p>

<div class="org-src-container">
<pre class="src src-sh">tar -cf - *|ssh -t cc@172.21.39.98 <span style="color: #8b2252;">"cd /opt/project/client/cst-wallet-sdk/staging$pdate; tar -xf -"</span>
</pre>
</div>

<p>
范例：修改用户密码
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#passwd --stdin wang
Changing password for user wang.
123456
passwd: all authentication tokens updated successfully.

[root@centos8 ~]#cat pass.txt
centos
[root@centos8 ~]# passwd --stdin wang &lt; pass.txt
[root@centos8 ~]#cat pass.txt | passwd --stdin wang
[root@centos8 ~]#echo 123456 | passwd --stdin wang
Changing password for user wang.
passwd: all authentication tokens updated successfully.

[root@centos8 ~]#echo 123456 | passwd --stdin wang &amp;&gt; /dev/null <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;&#20449;&#24687;&#23548;&#20837;&#21040;&#31354;</span>
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#36716;&#25442;&#20026;&#22823;&#20889;&#23383;&#27597;</span>
ls | tr <span style="color: #8b2252;">'a-z'</span> <span style="color: #8b2252;">'A-Z'</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">less&#23454;&#29616;&#20998;&#39029;&#22320;&#26597;&#30475;&#36755;&#20837;</span>
ls -l /etc | less

<span style="color: #b22222;">#</span><span style="color: #b22222;">mail&#36890;&#36807;&#30005;&#23376;&#37038;&#20214;&#21457;&#36865;&#36755;&#20837;</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"test email"</span> | mail  -s <span style="color: #8b2252;">"test"</span> wang@example.com

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31639;&#26415;&#36816;&#31639;</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"2^3"</span> |bc

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21453;&#21521;&#26174;&#31034;</span>
[root@middle-ware ~]#  echo <span style="color: #8b2252;">'hello wold'</span> |rev 
dlow olleh
</pre>
</div>
</div>
</div>
<div id="outline-container-h:937bee01-4db8-4527-9832-4004f861ac80" class="outline-5">
<h5 id="h:937bee01-4db8-4527-9832-4004f861ac80">管道中的 - 符号</h5>
<div class="outline-text-5" id="text-h:937bee01-4db8-4527-9832-4004f861ac80">
<p>
管道中有时会使用 - 符号
</p>

<p>
范例： 将 /home
里面的文件打包，但打包的数据不是记录到文件，而是传送到
stdout，经过管道后，将 tar -cvf - /home 传送给后面的 tar -xvf - ,
后面的这个 - 则是取前一个命令的 stdout， 因此，就不需要使用临时file了
</p>

<div class="org-src-container">
<pre class="src src-sh">tar -cvf - /home | tar -xvf -
</pre>
</div>
</div>
</div>
<div id="outline-container-h:48e80f36-ebff-4f77-8575-57e8e4c90b98" class="outline-5">
<h5 id="h:48e80f36-ebff-4f77-8575-57e8e4c90b98">tee 命令</h5>
<div class="outline-text-5" id="text-h:48e80f36-ebff-4f77-8575-57e8e4c90b98">
<p>
将标准输入复制到每个指定文件，并显示到标准输出
</p>

<p>
格式
</p>
<div class="org-src-container">
<pre class="src src-sh">tee [OPTION]...   [FILE]...

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24120;&#29992;&#36873;&#39033;</span>
-a                                    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20869;&#23481;&#36861;&#21152;&#21040;&#25351;&#23450;&#25991;&#20214;&#65292;&#32780;&#38750;&#35206;&#30422;</span>
-i                                     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24573;&#30053;&#20013;&#26029;&#31526;&#21495;</span>
-p                                   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23545;&#20889;&#20837;&#38750;&#31649;&#36947;&#30340;&#34892;&#20026;&#25490;&#26597;&#38169;&#35823;&#65292;&#20854;&#20351;&#29992;&#30340;&#26159; warn-nopipe</span>
--output-error=[&#27169;&#24335;]   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#20889;&#20837;&#20986;&#38169;&#26102;&#30340;&#34892;&#20026;(warn|warn-nopipe|exit|exit-nopipe)</span>

cm1 | tee [-a] filename | cmd2
</pre>
</div>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#31649;&#36947;&#37325;&#23450;&#21521;</span>
[root@ip-10-0-129-226 ~]# echo hello | tee tee.log
hello
[root@ip-10-0-129-226 ~]# cat tee.log 
hello

<span style="color: #b22222;">#</span><span style="color: #b22222;">tee.log&#37324;&#38754;&#20869;&#23481;&#26159;hello, &#32456;&#31471;&#36755;&#20986;&#26159;HELLO</span>
[root@ip-10-0-129-226 ~]# echo hello | tee tee.log | tr <span style="color: #8b2252;">'a-z'</span> <span style="color: #8b2252;">'A-Z'</span>
HELLO
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo {1..100}|tr <span style="color: #8b2252;">' '</span> +|bc
5050
[root@centos8 ~]#echo {1..100..2} | tr <span style="color: #8b2252;">' '</span> + | bc
2500
[root@centos8 ~]#seq -s + 1 100 |bc
5050
[root@centos8 ~]#seq -s+ 1 2 100 | bc
2500
</pre>
</div>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">~]#cat &lt;&lt;EOF | tee /etc/mail.rc
<span style="color: #ffa54f;">set from=29308620@qq.com</span>
<span style="color: #ffa54f;">set smtp=smtp.qq.com</span>
<span style="color: #ffa54f;">set smtp-auth-user=29308620@qq.com</span>
<span style="color: #ffa54f;">set smtp-auth-password=esvnhbnqocirbicf</span>
<span style="color: #ffa54f;">set smtp-auth=login</span>
<span style="color: #ffa54f;">set ssl-verify=ignore</span>
<span style="color: #ffa54f;">EOF</span>
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">from</span>=29308620@qq.com
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">smtp</span>=smtp.qq.com
<span style="color: #483d8b;">set</span> smtp-auth-user=29308620@qq.com
<span style="color: #483d8b;">set</span> smtp-auth-password=esvnhbnqocirbicf
<span style="color: #483d8b;">set</span> smtp-auth=login
<span style="color: #483d8b;">set</span> ssl-verify=ignore

<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"test email"</span> | mail  -s <span style="color: #8b2252;">"test"</span> user@example.com
</pre>
</div>

<p>
动动手
</p>
<ul class="org-ul">
<li>将/etc/issue文件中的内容转换为大写后保存至/tmp/issue.out文件中</li>
<li>将当前系统登录用户的信息转换为大写后保存至/tmp/who.out文件中</li>
<li>一个linux用户给root发邮件，要求邮件标题为”help”，邮件正文如下：
Hello, I am 用户名,The system version is here,please help me to chec
k it,thanks!</li>
</ul>

<p>
操作系统版本信息
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@middle-ware ~]# mail -s help root &lt;&lt;EOF
<span style="color: #ffa54f;">I am `whoami`,The ..</span>
<span style="color: #ffa54f;">`cat /etc/redhat-release`</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>
<p>
将/root/下文件列表，显示成一行，并文件名之间用空格隔开
计算1+2+3+&#x2026;+99+100的总和
删除Windows文本文件中的回车字符，即“\r”
处理字符串“xt.,l 1 jr#!$mn 2 c*/fe 3 uz 4”，只保留其中的数字和空格
将PATH变量每个目录显示在独立的一行
将指定文件中0-9分别替代成a-j
将文件/etc/centos-release中每个单词（由字母组成）显示在独立一行，并无空行
</p>
</div>
</div>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
