<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux: Linuxæ–‡æœ¬å¤„ç†å·¥å…·å’Œæ­£åˆ™è¡¨è¾¾å¼</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>æŠ€æœ¯</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>é˜…è¯»</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/lisp/jasper-emacs.html class=nobracket data-astro-cid-pux6a34n>æˆ‘çš„Emacsé…ç½®</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>å‹é“¾</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>å…³äº</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              ğŸ† æ¬¢è¿æ¥åˆ°æœ¬ç«™ï¼š
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>ã€‚
              <strong>å¸Œæœ›è¿™é‡Œæœ‰ä½ æ„Ÿå…´è¶£çš„å†…å®¹</strong>ã€‚
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">Linux: Linuxæ–‡æœ¬å¤„ç†å·¥å…·å’Œæ­£åˆ™è¡¨è¾¾å¼</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:70d11cb8-8708-4916-b5ed-d1fa83259ef3">æ–‡æœ¬ç¼–è¾‘å·¥å…·ä¹‹ç¥VIM</a>
<ul>
<li><a href="#h:e266d9c2-3928-4b85-bd82-2e5f042a802b">viå’Œvimç®€ä»‹</a></li>
<li><a href="#h:b2988283-5564-4c5b-9646-cc451d5f1ddf">åˆè¯†vim</a>
<ul>
<li><a href="#h:28b0f046-e0a4-4b60-8850-af9b5d217322">vim å‘½ä»¤æ ¼å¼</a></li>
<li><a href="#h:c1d8506b-045f-4158-ac05-03005bfa9cb1">ä¸‰ç§ä¸»è¦æ¨¡å¼å’Œè½¬æ¢</a></li>
<li><a href="#h:32ee8900-7c03-438a-8fc2-97933000847b">æ‰©å±•å‘½ä»¤æ¨¡å¼</a>
<ul>
<li><a href="#h:3c043dde-c41c-4786-b193-9834c9cf0ce8">æ‰©å±•å‘½ä»¤æ¨¡å¼åŸºæœ¬å‘½ä»¤</a></li>
<li><a href="#h:ff7e1216-d522-4e91-987d-52f62b5792bf">åœ°å€å®šç•Œ</a></li>
<li><a href="#h:f752d388-fbaf-4172-ae82-88ac9c42e95d">æŸ¥æ‰¾å¹¶æ›¿æ¢</a></li>
<li><a href="#h:aa99e702-b0b2-43cf-bd0f-fc1cf0b6ad66">å®šåˆ¶vimçš„å·¥ä½œç‰¹æ€§</a></li>
<li><a href="#h:23f45ab2-cc24-4fe5-b9fc-287dd85fdd08">è‡ªåŠ¨å¤‡ä»½ (backup)</a></li>
</ul>
</li>
<li><a href="#h:525f272b-531b-43e3-b22e-fd41d936d98c">å‘½ä»¤æ¨¡å¼</a>
<ul>
<li><a href="#h:070657d3-ca6c-40bb-928a-94e4f63903e3">é€€å‡ºVIM</a></li>
<li><a href="#h:98d02ac1-7c8f-49e3-9e16-53aab58615e1">å…‰æ ‡è·³è½¬</a></li>
<li><a href="#h:bbc60430-cc39-4461-ac9f-17508f1083c2">åˆ é™¤ï¼šxå­—ç¬¦ç¼–è¾‘</a></li>
<li><a href="#h:c0ba8fb0-b04f-4578-843c-dddad7a4d453">åˆ é™¤ï¼šdåˆ é™¤å‘½ä»¤ï¼ˆdeleteï¼‰</a></li>
<li><a href="#h:01f41851-74c8-4d86-8114-548f30b325d9">ä¿®æ”¹ï¼šræ›¿æ¢å‘½ä»¤(replace)</a></li>
<li><a href="#h:a1936b5b-00dd-47ea-b46b-87638ea7d0b4">ä¿®æ”¹ï¼šsæ›¿æ¢å¤šä¸ªå­—ç¬¦(substitute)</a></li>
<li><a href="#h:dc3016ec-eb72-4319-861b-309e946695da">ä¿®æ”¹ï¼šcæ”¹å˜å‘½ä»¤(change)</a></li>
<li><a href="#h:ee4eecb9-1420-44ac-80a2-39a64ca3e557">æŸ¥æ‰¾</a></li>
<li><a href="#h:a0d3ca03-72e6-423e-a2e4-a317bcfdfbd5">å¤åˆ¶å‘½ä»¤(yank)</a></li>
<li><a href="#h:a0e749ec-e0b8-4f63-8742-9b780d3ff574">ç²˜è´´å‘½ä»¤(paste)</a></li>
<li><a href="#h:49844d5c-2211-4a9b-a15c-6811e6b5654f">æ’¤æ¶ˆæ›´æ”¹</a></li>
<li><a href="#h:84df33f2-7d3b-4b9d-841f-1b4de7c7d546">å…¶å®ƒçš„æ“ä½œ:</a></li>
<li><a href="#h:c1bc587a-6603-4c82-b10c-5c3fc1822f22">é«˜çº§ç”¨æ³•</a></li>
</ul>
</li>
<li><a href="#h:ed41244c-4db1-41db-9e6b-9c8fafeb3b1c">å¯è§†åŒ–æ¨¡å¼</a>
<ul>
<li><a href="#h:90239164-99c5-43d8-8651-fc6e8e31df2f">å‘½ä»¤ï¼š</a></li>
</ul>
</li>
<li><a href="#h:3ee3e15b-fc2d-4c8f-8968-42b0d95c81f1">å¤šæ–‡ä»¶æ“ä½œ</a>
<ul>
<li><a href="#h:c227c881-1fa7-49fd-99b8-bccd03a3ac51">Bufferç¼“å­˜åŒº</a></li>
<li><a href="#h:df172100-a376-4b1a-b79d-8b33fa8cc066">Window çª—å£</a></li>
<li><a href="#h:803b5530-47ae-4c6d-8e11-209384052c37">Tab(æ ‡ç­¾é¡µ)å°†çª—å£åˆ†ç»„</a></li>
</ul>
</li>
<li><a href="#h:47ecce75-54e8-4aca-a5f6-82a0565ae892">vimçš„text objectæ–‡ä»¶å¯¹è±¡</a>
<ul>
<li><a href="#h:b0c8e968-cf5c-476e-9ba5-9f1b67f6edca">æ–‡ä»¶å¯¹è±¡æ“ä½œæ ¼å¼</a></li>
<li><a href="#h:bb55ce90-7ccc-4a8a-9de2-3cda2e04cdfe">æ™®é€šæ–‡æœ¬å¯¹è±¡</a></li>
<li><a href="#h:fe894759-c299-49fa-9694-2b6baec97545">ç§»åŠ¨å‘½ä»¤ vs æ–‡æœ¬å¯¹è±¡å‘½ä»¤</a></li>
</ul>
</li>
<li><a href="#h:28c703bf-3792-4cd0-aa46-71d834a78b43">vimçš„å¯„å­˜å™¨(register)</a></li>
<li><a href="#h:16b53342-d7b0-4f0c-8c6e-c9f4afc56aac">æ ‡è®°å’Œå®(macro)</a></li>
<li><a href="#h:8f0a48cb-eeaf-4372-85b9-6b4ac153e8b0">vimè¡¥å…¨</a></li>
<li><a href="#h:3d64f22f-1fb0-497f-853f-5f3935384258">vimæ›´æ¢é…è‰²</a></li>
<li><a href="#h:cecdea16-4c76-4158-ac9a-59b313e0e788">ç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶</a></li>
<li><a href="#h:bebc6681-0317-4bee-a761-a95c432cad18">å¸®åŠ©</a></li>
<li><a href="#h:4cba438d-9d55-4ca9-9db7-eed0909468d3">vim æ€»ç»“å›¾</a></li>
<li><a href="#h:76f07648-aebe-486e-b01e-981c06294662">å¯è§†åŒ–æ¨¡å¼</a></li>
<li><a href="#h:6fca60d5-cb5e-4dc1-bc1b-d561f6f5bb9f">ä»£ç æŠ˜å </a></li>
<li><a href="#h:3a03e407-fcf1-4c5d-b909-32fbadc684be">tabçª—å£æ ‡ç­¾</a></li>
<li><a href="#h:c497a136-8cb8-4bbf-ac82-2305d0476516">swp äº¤æ¢æ–‡ä»¶</a></li>
<li><a href="#h:ee8158db-7149-4647-9f28-fea0388bfcdb">vim å…¶å®ƒæ“ä½œ</a></li>
</ul>
</li>
<li><a href="#h:134d72ac-74fd-4ba7-82da-b08157863e7c">vimé…ç½®</a>
<ul>
<li><a href="#h:6dc8c407-1b05-4d47-acba-a81fdec93e32">ç¼–å†™vimé…ç½®æ–‡ä»¶</a>
<ul>
<li><a href="#h:f8becea2-8b06-4c71-a2fc-49424a095617">å¸¸ç”¨è®¾ç½®</a></li>
<li><a href="#h:9efbda69-7faa-4988-b7af-d7067efff6e5">vimæ˜ å°„</a></li>
<li><a href="#h:7c25afda-c376-48db-8e95-4d665c408e62">vimæ’ä»¶</a></li>
<li><a href="#h:ff9cad7d-9d2a-432b-b55b-98a98ac5a636">vimè„šæœ¬</a></li>
</ul>
</li>
<li><a href="#h:8e736686-7f7f-48d6-9708-b01e667e2367">vimæ˜ å°„</a>
<ul>
<li><a href="#h:d44705e2-8694-474d-8771-ed9de9edb26d">åŸºæœ¬æ˜ å°„</a></li>
<li><a href="#h:a7034b61-49cf-417a-8da5-5c2b7e71734f">æ¨¡å¼æ˜ å°„</a></li>
<li><a href="#h:097b79a7-4580-4cb3-9bb6-3bcd0750d326">é€’å½’ä¸éé€’å½’æ˜ å°„</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:378ad5d6-5c57-402b-805d-4bbf36a97fc3">vimæ’ä»¶</a>
<ul>
<li><a href="#h:e57a32e1-2f2a-4031-99f8-e2eaa12cb517">vim-plugæ’ä»¶ç®¡ç†å™¨</a></li>
<li><a href="#h:378f0275-3891-48d3-8d29-a57169a684f1">æŸ¥æ‰¾æ’ä»¶å¹¶å®‰è£…ç¬¬ä¸€ä¸ªæ’ä»¶</a>
<ul>
<li><a href="#h:ef89194a-6e65-4437-a5b1-492afccbc760">vim-startifyæ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:a84aefe1-7628-4aa3-9be8-81ee38dcf533">ç¾åŒ–æ’ä»¶</a>
<ul>
<li><a href="#h:1e653b15-666e-46a0-8a94-4931c6a5a72d">vim-airlineçŠ¶æ€æ ç¾åŒ–æ’ä»¶</a></li>
<li><a href="#h:b5aff473-64b4-434a-b28f-f2b8b8c81072">indentlineä»£ç ç¼©è¿›çº¿æ¡æ’ä»¶</a></li>
<li><a href="#h:d50cd386-5278-4eb0-8475-b3d1d71d10a7">vimé…è‰²æ–¹æ¡ˆ</a></li>
</ul>
</li>
<li><a href="#h:d4532c9b-6eb8-44ee-9f48-d7c8b33df7f6">ç›®å½•å’Œæœç´¢æ’ä»¶</a>
<ul>
<li><a href="#h:cee22249-1778-4a63-a3ca-624f0e4c3eb5">nerdtreeæ–‡ä»¶ç®¡ç†æ’ä»¶</a></li>
<li><a href="#h:3b035f7d-9efc-4b37-b275-38b675c7eef6">ctrlp æ¨¡ç³Šæœç´¢æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:b6294b46-3bdd-4498-a8a4-f70d589657d6">å¿«é€Ÿå®šä½æ’ä»¶</a>
<ul>
<li><a href="#h:6cc7491e-f9ed-4795-8062-005d6fcb6033">easymotionä»»æ„ä½ç½®æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:4c681b14-857a-4cd6-a5a5-e9888c1f505c">æˆå¯¹ç¼–è¾‘æ’ä»¶</a>
<ul>
<li><a href="#h:82e12cc9-01d1-48b2-9f20-a793391d670c">vim-surround æˆå¯¹ç¼–è¾‘æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:2582b81a-7127-4d54-b608-c557d74b6e34">æ¨¡ç³Šæœç´¢ä¸æ›¿æ¢æ’ä»¶</a>
<ul>
<li><a href="#h:66db6542-ba4f-4b0a-aa22-95a152120c6b">fzf.vim æ¨¡ç³Šæœç´¢æ’ä»¶</a></li>
<li><a href="#h:d0b45a3c-339d-44e1-b589-698549668e37">far.vim æœç´¢æ›¿æ¢æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:99486d86-c2f9-4d8f-b573-47ac2fe9fae2">golangè¯­è¨€æ’ä»¶</a>
<ul>
<li><a href="#h:2e9e58c2-8516-48cb-94f0-1e63a27281ae">vim-go æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:261be3af-d8ca-4f81-9648-827798b2f582">pythonè¯­è¨€æ’ä»¶</a>
<ul>
<li><a href="#h:e7120170-64fa-484f-8b13-b8037808e406">python-modeæ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:31536479-ba4b-4aa0-a8ee-cb87136087a8">ä»£ç å¤§çº²æ’ä»¶</a>
<ul>
<li><a href="#h:47036d02-f30c-42fc-9c19-0ac8b30f681a">tagbar ä»£ç å¤§çº²æ’ä»¶</a></li>
<li><a href="#h:a4e56403-4fb2-49f9-8ab3-ea0e42452ccb">vim-interestingwordsé«˜äº®å•è¯æ’ä»¶</a></li>
<li><a href="#h:31ddde9c-7f6b-4d6f-91c1-c71058e188e8">vista.vim</a></li>
</ul>
</li>
<li><a href="#h:2c4b0533-ac3d-4025-91b7-212e4abc7053">vimä»£ç è¡¥å…¨æ’ä»¶</a>
<ul>
<li><a href="#h:c4d0767a-5aa6-488b-a250-f8cecfe33764">deoplete.nvim å¼‚æ­¥è¡¥å…¨æ’ä»¶</a></li>
<li><a href="#h:937dc95a-89e3-45e4-9292-b44dfd42d415">coc.vimè¡¥å…¨æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:a1a4a93d-6f63-4077-81c2-8a897f947f35">vimä»£ç æ ¼å¼åŒ–ä¸é™æ€æ£€æŸ¥æ’ä»¶</a>
<ul>
<li><a href="#h:51fbda13-58f6-4a2d-ab17-78446c232d6c">Neoformat æ ¼å¼åŒ–æ’ä»¶</a></li>
<li><a href="#h:441a3afb-2172-4ad4-8003-3a8d2545afd8">ale é™æ€æ£€æŸ¥æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:cbcd5163-7183-4844-b558-5a0cc74df8c0">å¿«é€Ÿæ³¨é‡Šä»£ç æ’ä»¶</a>
<ul>
<li><a href="#h:2621a16d-feca-4273-b864-1f854bb083df">vim-commentaryæ³¨é‡Šæ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:45dd61fd-35d8-4905-b070-e836234d4b4d">vimå’Œgitè”åˆæ’ä»¶</a>
<ul>
<li><a href="#h:2f9576d0-b344-46f5-a2b8-73997c809119">Fugitive vimå’Œgitè”åˆæ’ä»¶</a></li>
<li><a href="#h:608aa38a-b992-4e37-8bcd-acb51bce393c">vim-gitgutter vimå’Œgitè”åˆæ’ä»¶</a></li>
<li><a href="#h:02182cf8-324e-4465-98a4-489a2217d0f5">gv.vim vimå’Œgitè”åˆæ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:ae47a721-8fb3-404b-b01c-f3724abdcc87">ç¿»è¯‘</a></li>
</ul>
</li>
<li><a href="#h:fbfd7aa2-935f-4133-85be-ae20e37f55b9">æ–°vim</a>
<ul>
<li><a href="#h:a68a51ba-cd4e-4674-87b9-d4adf484680c">neovim</a></li>
<li><a href="#h:c8915587-6af8-436a-8e67-ffb16b377329">å¼€ç®±å³ç”¨</a></li>
</ul>
</li>
<li><a href="#h:809603c3-b5c1-403d-88b3-a80167d75bed">vimæ¸¸æˆ</a></li>
</ul>
</li>
<li><a href="#h:a90abb7c-9db4-4b1f-aeb1-9a7c5f215cf1">æ–‡æœ¬å¸¸è§å¤„ç†å·¥å…·</a>
<ul>
<li><a href="#h:bc51fdfd-46a7-4df6-bfd9-e99115eef887">æ–‡ä»¶å†…å®¹æŸ¥çœ‹å‘½ä»¤</a>
<ul>
<li><a href="#h:19330c6a-7039-4d2c-96f2-d7ef788f7bbb">æŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶å†…å®¹</a>
<ul>
<li><a href="#h:6f157e98-8cdc-4849-a5eb-b21a1a92f237">cat</a></li>
<li><a href="#h:4253557c-ac0b-483a-a359-44f4a784cab2">nl</a></li>
<li><a href="#h:43127cb4-c3df-4fa5-965c-91e67595de40">tac</a></li>
<li><a href="#h:98d04dce-db33-4b8c-ae26-f526133ef5e2">rev</a></li>
</ul>
</li>
<li><a href="#h:0a283806-ae71-4e2d-be35-9f6874214298">æŸ¥çœ‹éæ–‡æœ¬æ–‡ä»¶å†…å®¹</a>
<ul>
<li><a href="#h:a0bdabec-4487-4d20-b95e-6b28a385b4dc">hexdump</a></li>
<li><a href="#h:8026cdf1-7d54-427a-acbb-0393a991b03c">od</a></li>
<li><a href="#h:61f7cc8d-9125-4ebb-bbfa-cda9a675698b">xxd</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:f1656fb3-492d-42ba-928f-5708a8c3437e">åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶å†…å®¹</a>
<ul>
<li><a href="#h:3c258c6e-1493-4f10-9d87-2acd178d905c">more</a></li>
<li><a href="#h:57079271-facc-41d7-8a01-36bfa097b5fc">less</a></li>
</ul>
</li>
<li><a href="#h:f7949d1a-b7c7-47c7-8018-016d1362814e">æ˜¾ç¤ºæ–‡æœ¬å‰æˆ–åè¡Œå†…å®¹</a>
<ul>
<li><a href="#h:131dc721-0906-425f-bb79-7697116e705f">head</a></li>
<li><a href="#h:11fdd8c8-2c5f-4cd3-81c4-44731646653f">tail</a></li>
</ul>
</li>
<li><a href="#h:6632b664-a35b-4012-824a-f706f46d4908">æŒ‰åˆ—æŠ½å–æ–‡æœ¬cut</a></li>
<li><a href="#h:17f701a9-2b99-4ac8-8f8d-c126445c1f30">å­—ç¬¦è½¬æ¢å‘½ä»¤ï¼š tr, col, join, paste</a>
<ul>
<li><a href="#h:335874fc-514d-44e4-9128-74d809e3762b">è½¬æ¢å’Œåˆ é™¤å­—ç¬¦tr</a></li>
<li><a href="#h:d826b8ab-9951-41b9-b9b4-65e83a6c3cf7">col</a></li>
<li><a href="#h:52ead11e-a5eb-4400-a5d7-a71348e88e0d">å¤šæ–‡ä»¶æ•°æ®åˆå¹¶join</a></li>
<li><a href="#h:61043ddb-3564-4c4d-9d29-e808471cad66">å¤šä¸ªæ–‡ä»¶åˆå¹¶paste</a></li>
<li><a href="#h:907a7309-4f1f-4fa7-a347-41ac97134c7b">æ–‡æœ¬æµæ ¼å¼åŒ–ä¸ºå¤šåˆ—è¾“å‡ºcolumn</a></li>
<li><a href="#h:4fe9f1a8-aa47-436c-8381-76d2c451b35b">è½¬æ¢æ–‡ä»¶å­—ç¬¦é›†ç¼–ç iconv</a></li>
</ul>
</li>
<li><a href="#h:a26d70f6-56c6-4110-8762-177749dcafe9">åˆ†å‰²å‘½ä»¤ï¼š split</a></li>
<li><a href="#h:f2d11901-058a-4324-b421-4d4ca96bb2a3">åˆ†ææ–‡æœ¬çš„å·¥å…·</a>
<ul>
<li><a href="#h:3087dd42-146c-4726-8548-44e09b86d5f7">æ”¶é›†æ–‡æœ¬ç»Ÿè®¡æ•°æ®wc</a></li>
<li><a href="#h:7007405e-5772-4874-b5ef-9ed476def4a3">æ–‡æœ¬æ’åºsort</a></li>
<li><a href="#h:c93ae04a-b31a-4369-84da-61ea205da931">å»é‡uniq</a></li>
<li><a href="#h:b4f14745-7103-44e3-99a5-c23186dd324d">ç»Ÿè®¡ä»£ç è¡Œæ•°cloc</a></li>
<li><a href="#h:20091fcb-d854-472c-ab05-626013984690">æ¯”è¾ƒæ–‡ä»¶</a>
<ul>
<li><a href="#h:ec21b649-8966-45d1-8efb-659c5b8cd51f">diff</a></li>
<li><a href="#h:70cb695d-6544-460d-805b-33cecb8e4be9">patch</a></li>
<li><a href="#h:3d052250-0d79-411b-b940-3b5b5d3031a8">äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¸åŒ cmp</a></li>
</ul>
</li>
<li><a href="#h:62fc6575-046e-40ef-81c1-058a545ed427">jsonæ–‡ä»¶åˆ†æjq</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:f101eef7-f24c-405e-9cc9-4d40a61ba924">æ­£åˆ™è¡¨è¾¾å¼</a>
<ul>
<li><a href="#h:58562c6b-529e-4f2b-ac86-599d68a637f3">åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦</a>
<ul>
<li><a href="#h:081be6ea-a706-4f07-8f1e-a5a5a8c204bc">å…ƒå­—ç¬¦</a></li>
<li><a href="#h:ac084252-e922-45b5-bbae-7a372dbece05">ä¸­æ‹¬å·</a></li>
<li><a href="#h:503c912a-8466-493d-b64f-4b9f386ff9d6">å­—ç¬¦ç±»</a></li>
<li><a href="#h:7b6c68c5-a1e3-45ea-8e5e-7e8b670edf3c">åæ–œçº¿åºåˆ—</a></li>
<li><a href="#h:9589c9e7-00f7-4761-9dcf-eb1430872333">åˆ†ç»„æ•è·å’Œåå‘å¼•ç”¨</a>
<ul>
<li><a href="#h:05c0ed3a-9389-4471-811b-b30545dd97f9">åˆ†ç»„</a></li>
</ul>
</li>
<li><a href="#h:746c0951-918e-4ae2-bf0b-953b7274b767">æˆ–è€…</a></li>
</ul>
</li>
<li><a href="#h:079dc060-e0ec-45e9-9766-18ab08eee9b8">åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼ä¸æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</a>
<ul>
<li><a href="#h:01367717-c17f-4a72-99fe-8b6426d4fe2d">å­—ç¬¦åŒ¹é…å…ƒå­—ç¬¦</a></li>
<li><a href="#h:854abb7a-70e0-4f7b-8ff3-11a8d100410f">æ¬¡æ•°åŒ¹é…</a></li>
<li><a href="#h:6ec6141c-09a7-45ef-b286-8dc703db406b">ä½ç½®é”šå®š</a></li>
<li><a href="#h:ef494e68-e31c-43e3-98e7-e717d6da66bd">åˆ†ç»„å…¶å®ƒ</a></li>
</ul>
</li>
<li><a href="#h:a719b9e4-1ff3-48fe-b315-97331284c06b">Perlæ­£åˆ™è¡¨è¾¾å¼è¶…è¯¦ç»†æ•™ç¨‹</a>
<ul>
<li><a href="#h:5ad9bb01-d312-44bb-b782-d00186c02fae">å­¦perlæ­£åˆ™å¿…å¤‡çš„ä¸€ç‚¹åŸºæœ¬è¯­æ³•</a></li>
<li><a href="#h:e15f23e9-af42-4a89-9548-e65acaccd7af">perlå¦‚ä½•ä½¿ç”¨æ­£åˆ™è¿›è¡ŒåŒ¹é…</a></li>
<li><a href="#h:dd69c6c9-dc51-407c-ac10-52fe697a2aef">perlæ”¯æŒçš„æ­£åˆ™</a>
<ul>
<li><a href="#h:63ae938d-961f-4255-8f27-2d154fcd12be">æ¨¡å¼åŒ¹é…ä¿®é¥°ç¬¦</a></li>
<li><a href="#h:77f34eb0-ccdd-4427-97ab-c32e7176471c">èŒƒå›´æ¨¡å¼åŒ¹é…ä¿®é¥°ç¬¦(?imsx-imsx:pattern)</a></li>
<li><a href="#h:6b0d3137-5842-4635-8ec8-4784b2ea08ae">perlæ”¯æŒçš„åæ–œçº¿åºåˆ—</a></li>
<li><a href="#h:61376ab1-d21e-48c0-be11-1da47fca0fab">è´ªå©ªåŒ¹é…ã€éè´ªå©ªåŒ¹é…ã€å æœ‰ä¼˜å…ˆåŒ¹é…</a></li>
<li><a href="#h:2621ad54-b51c-45d4-a3d2-63232934beba">perlçš„åˆ†ç»„æ•è·å’Œåˆ†ç»„å¼•ç”¨</a></li>
<li><a href="#h:f5d908cc-7138-4a32-bde1-5fa5fe4350c2">ç¯è§†é”šå®š(æ–­è¨€)</a></li>
<li><a href="#h:e0859264-62af-4112-8e1a-7b39cabc3c5a">\Q&#x2026;\E</a></li>
</ul>
</li>
<li><a href="#h:493838d5-ac4a-4579-ac53-117d69da255b">qr//åˆ›å»ºæ­£åˆ™å¯¹è±¡</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:5c8deae3-a8b3-4a3a-9ce4-29a9d9f6bdb2">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢</a>
<ul>
<li><a href="#h:57a1c4cb-314c-4ee9-b6ae-30fe057df04a">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹ grep</a>
<ul>
<li><a href="#h:00fee694-6056-44dd-9e0e-365be6b31f8a">åŒ¹é…ä¸­æ–‡</a></li>
<li><a href="#h:1d530be4-3dcb-41ca-98ee-1e1273b34f4a">rg</a></li>
</ul>
</li>
<li><a href="#h:00eb27fd-d142-46ea-bf47-cbe2beac358b">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹ sed</a>
<ul>
<li><a href="#h:6f10afc3-f395-4f9a-9b3a-7b777d15bc3b">å·¥ä½œåŸç†</a></li>
<li><a href="#h:eb4916ae-7aad-49d0-8914-c1a90dde075b">sed åŸºæœ¬ç”¨æ³•</a></li>
<li><a href="#h:f11b26ca-74f9-43db-9e79-d398ed3fe42e">sed é«˜çº§ç”¨æ³•</a>
<ul>
<li><a href="#h:8443a947-13b9-46f7-b84d-12e82b9bd4a8">è¿è¡Œsedè„šæœ¬</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:6c78e418-2e17-4f19-9533-3a1732045d57">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹ awk</a>
<ul>
<li><a href="#h:26067d29-6c5b-4ac7-b90e-742ed5c73124">awk å·¥ä½œåŸç†å’ŒåŸºæœ¬ç”¨æ³•è¯´æ˜</a></li>
<li><a href="#h:651d5fb4-2329-4e17-b375-33cab31ad010">åŠ¨ä½œ print</a></li>
<li><a href="#h:410d13ba-f572-422d-821a-dc467b6d927c">awkå˜é‡</a></li>
<li><a href="#h:0550fd59-cb4e-4ed3-967e-3116e4b0d11b">åŠ¨ä½œ printf</a></li>
<li><a href="#h:0c9fc8eb-9b81-4ecb-95fc-ea30fcb5aa8f">æ“ä½œç¬¦</a></li>
<li><a href="#h:2ac2a1da-7c39-4d4a-801c-68c3b8401190">æ¨¡å¼PATTERN</a></li>
<li><a href="#h:46cce902-486e-4776-91d1-d18e44baa8d6">æ¡ä»¶åˆ¤æ–­ if-else</a></li>
<li><a href="#h:d3d01ea0-6fd8-4cf4-bf98-f37f5f845586">switchè¯­å¥</a></li>
<li><a href="#h:8ad055e7-0d8e-43c8-a0d6-f1e979e7067f">å¾ªç¯while</a></li>
<li><a href="#h:1e0aa331-b8fb-46dd-bd2f-9b698cdfc535">å¾ªç¯ do-while</a></li>
<li><a href="#h:78143b8d-a2c5-440d-b639-0e83e64f7124">å¾ªç¯for</a></li>
<li><a href="#h:3ec30f2d-1eda-4c48-b0c9-87be8d2cb96e">continueå’Œbreak</a></li>
<li><a href="#h:cc9a4d32-4866-436a-9b65-760d3ae77e69">next</a></li>
<li><a href="#h:eea0edc1-873e-4b01-a547-598157b9197a">æ•°ç»„</a></li>
<li><a href="#h:490ccd2b-5e02-48a0-b916-b2c93eb5a786">awkå‡½æ•°</a>
<ul>
<li><a href="#h:89b3484c-93bb-4c7e-b113-dc61406a7392">å¸¸è§å†…ç½®å‡½æ•°</a></li>
<li><a href="#h:fcc115c1-565b-45af-8359-a6080636723c">è‡ªå®šä¹‰å‡½æ•°</a></li>
</ul>
</li>
<li><a href="#h:f24d1b74-e72a-43f6-b69e-5633a0f29d87">awkè„šæœ¬</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Linux</a></li>
</ul>


<p>
æ‘˜è¦ï¼šæœ¬æ–‡ä»‹ç»Linuxæ–‡æœ¬å¤„ç†å·¥å…·å’Œæ­£åˆ™è¡¨è¾¾å¼
</p>

<p>
å†…å®¹æ¦‚è¿°
</p>

<ul class="org-ul">
<li>æ–‡æœ¬ç¼–è¾‘å·¥å…·VIM</li>
<li>å„ç§æ–‡æœ¬å·¥å…·</li>
<li>åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼å’Œæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</li>
<li>æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹grep</li>
<li>æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹sed</li>
<li>æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹awk</li>
</ul>
<section id="outline-container-h:70d11cb8-8708-4916-b5ed-d1fa83259ef3" class="outline-2">
<h2 id="h:70d11cb8-8708-4916-b5ed-d1fa83259ef3">æ–‡æœ¬ç¼–è¾‘å·¥å…·ä¹‹ç¥VIM</h2>
<div class="outline-text-2" id="text-h:70d11cb8-8708-4916-b5ed-d1fa83259ef3">
</div>
<div id="outline-container-h:e266d9c2-3928-4b85-bd82-2e5f042a802b" class="outline-3">
<h3 id="h:e266d9c2-3928-4b85-bd82-2e5f042a802b">viå’Œvimç®€ä»‹</h3>
<div class="outline-text-3" id="text-h:e266d9c2-3928-4b85-bd82-2e5f042a802b">
<p>
åœ¨Linuxä¸­æˆ‘ä»¬ç»å¸¸ç¼–è¾‘ä¿®æ”¹æ–‡æœ¬æ–‡ä»¶ï¼Œå³ç”±ASCII, Unicodeæˆ–å…¶å®ƒç¼–ç çš„çº¯æ–‡
å­—çš„æ–‡ä»¶ã€‚ä¹‹å‰ä»‹ç»è¿‡nanoï¼Œå®é™…å·¥ä½œä¸­æˆ‘ä»¬ä¼šä½¿ç”¨æ›´ä¸ºä¸“ä¸šï¼ŒåŠŸèƒ½å¼ºå¤§çš„å·¥å…·
</p>

<p>
æ–‡æœ¬ç¼–è¾‘ç§ç±»ï¼š
</p>

<ul class="org-ul">
<li>å…¨å±ç¼–è¾‘å™¨ï¼šnanoï¼ˆå­—ç¬¦å·¥å…·ï¼‰, gedit(å›¾å½¢åŒ–å·¥å…·)ï¼Œvi,vim</li>
<li>è¡Œç¼–è¾‘å™¨ï¼šsed</li>
</ul>

<p>
<b>vi</b> ï¼šVisual editorï¼Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ˜¯ Linux
å¿…å¤‡å·¥å…·ä¹‹ä¸€ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå­¦ä¹ æ›²çº¿è¾ƒé™¡å³­ï¼Œå­¦ä¹ éš¾åº¦å¤§
</p>

<p>
<b>vim</b> ï¼šVIsual editor iMproved ï¼Œå’Œ viä½¿ç”¨æ–¹æ³•ä¸€è‡´ï¼Œä½†åŠŸèƒ½æ›´ä¸ºå¼ºå¤§ï¼Œä¸
æ˜¯å¿…å¤‡è½¯ä»¶ å®˜ç½‘ï¼š<a href="www.vim.html">www.vim.html</a>
</p>

<p>
å…¶ä»–ç›¸å…³ç¼–è¾‘å™¨ï¼š
</p>
<ul class="org-ul">
<li>gvim ä¸€ä¸ªVimç¼–è¾‘å™¨çš„å›¾å½¢ç‰ˆæœ¬ vim å°æŠ„</li>
<li>neovim æ”¯æŒå¼‚æ­¥ç‰¹æ€§(vim8ä¹Ÿæ”¯æŒ)ã€‚ä¸ä¼šè®©æ’ä»¶è¿è¡Œé˜»ç¢vimä½¿ç”¨ã€‚</li>
</ul>
</div>
</div>
<div id="outline-container-h:b2988283-5564-4c5b-9646-cc451d5f1ddf" class="outline-3">
<h3 id="h:b2988283-5564-4c5b-9646-cc451d5f1ddf">åˆè¯†vim</h3>
<div class="outline-text-3" id="text-h:b2988283-5564-4c5b-9646-cc451d5f1ddf">
</div>
<div id="outline-container-h:28b0f046-e0a4-4b60-8850-af9b5d217322" class="outline-4">
<h4 id="h:28b0f046-e0a4-4b60-8850-af9b5d217322">vim å‘½ä»¤æ ¼å¼</h4>
<div class="outline-text-4" id="text-h:28b0f046-e0a4-4b60-8850-af9b5d217322">
<div class="org-src-container">
<pre class="src src-sh">vim [OPTION]... FILE...
</pre>
</div>

<p>
å¸¸ç”¨é€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">+# &#25171;&#24320;&#25991;&#20214;&#21518;&#65292;&#35753;&#20809;&#26631;&#22788;&#20110;&#31532;#&#34892;&#30340;&#34892;&#39318;&#65292;+&#40664;&#35748;&#34892;&#23614;
+/PATTERN &#35753;&#20809;&#26631;&#22788;&#20110;&#31532;&#19968;&#20010;&#34987;PATTERN&#21305;&#37197;&#21040;&#30340;&#34892;&#34892;&#39318;
-b file &#20108;&#36827;&#21046;&#26041;&#24335;&#25171;&#24320;&#25991;&#20214;
-d file1 file2&#8230; &#27604;&#36739;&#22810;&#20010;&#25991;&#20214;&#65292;&#30456;&#24403;&#20110; vimdiff
-m file  &#21482;&#35835;&#25171;&#24320;&#25991;&#20214;
-e file  &#30452;&#25509;&#36827;&#20837;ex&#27169;&#24335;&#65292;&#30456;&#24403;&#20110;&#25191;&#34892;ex file
-y file  Easy mode (like <span style="color: #8b2252;">"evim"</span>, modeless)&#65292;&#30452;&#25509;&#21487;&#20197;&#25805;&#20316;&#25991;&#20214;&#65292;ctrl+o:wq|q! &#20445;&#23384;&#21644;&#19981;&#20445;&#23384;&#36864;&#20986;
</pre>
</div>

<p>
è¯´æ˜ï¼š
</p>

<ul class="org-ul">
<li>å¦‚æœè¯¥æ–‡ä»¶å­˜åœ¨ï¼Œæ–‡ä»¶è¢«æ‰“å¼€å¹¶æ˜¾ç¤ºå†…å®¹</li>
<li>å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå½“ç¼–è¾‘åç¬¬ä¸€æ¬¡å­˜ç›˜æ—¶åˆ›å»ºå®ƒ</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">vim + /etc/init.d/functions  &#20809;&#26631;&#33258;&#21160;&#23614;&#34892;&#34892;&#39318;
vim +5 /etc/init.d/functions  &#20809;&#26631;&#22312;&#31532; 5 &#34892;&#34892;&#39318;
vim +/dev /etc/fstab &#20809;&#26631;&#22312;&#37197;&#32622;&#30340;&#31532;&#19968;&#20010; dev &#34892;&#34892;&#39318;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c1d8506b-045f-4158-ac05-03005bfa9cb1" class="outline-4">
<h4 id="h:c1d8506b-045f-4158-ac05-03005bfa9cb1">ä¸‰ç§ä¸»è¦æ¨¡å¼å’Œè½¬æ¢</h4>
<div class="outline-text-4" id="text-h:c1d8506b-045f-4158-ac05-03005bfa9cb1">
<p>
vim æ˜¯ ä¸€ä¸ªæ¨¡å¼ç¼–è¾‘å™¨ï¼Œå‡»é”®è¡Œä¸ºæ˜¯ä¾èµ–äº vimçš„ çš„â€œæ¨¡å¼â€
</p>

<p>
<b>ä¸‰ç§å¸¸è§æ¨¡å¼ï¼š</b>
</p>

<ul class="org-ul">
<li>æ™®é€š(Normal)æ¨¡å¼ï¼šé»˜è®¤æ¨¡å¼ï¼Œå¯ä»¥å®ç°ç§»åŠ¨å…‰æ ‡ï¼Œå‰ªåˆ‡/ç²˜è´´æ–‡æœ¬ã€‚å‘½ä»¤è¡Œæ¨¡å¼
éç¼–è¾‘æ“ä½œï¼Œé€€å‡º</li>
<li>æ’å…¥(Insert)æˆ–ç¼–è¾‘æ¨¡å¼ï¼šç”¨äºä¿®æ”¹æ–‡æœ¬</li>
<li>æ‰©å±•å‘½ä»¤(extended command )æˆ–å‘½ä»¤(æœ«)è¡Œæ¨¡å¼ï¼šä¿å­˜ï¼Œé€€å‡ºç­‰</li>
</ul>

<p>
<b>æ¨¡å¼è½¬æ¢</b>
</p>


<figure id="orge8fc08e">
<img src="images/image-20210215232043184.png" alt="image-20210215232043184.png" width="60%">

</figure>

<ul class="org-ul">
<li>å‘½ä»¤æ¨¡å¼ &#x2013;&gt; æ’å…¥æ¨¡å¼</li>
</ul>


<figure id="org47b09a9">
<img src="images/image-20210215232057413.png" alt="image-20210215232057413.png" width="60%">

</figure>

<div class="org-src-container">
<pre class="src src-sh">i insert, &#22312;&#20809;&#26631;&#25152;&#22312;&#22788;&#36755;&#20837;
I &#22312;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#30340;&#34892;&#39318;&#36755;&#20837;
a append, &#22312;&#20809;&#26631;&#25152;&#22312;&#22788;&#21518;&#38754;&#36755;&#20837;
A &#22312;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#30340;&#34892;&#23614;&#36755;&#20837;
o &#22312;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#30340;&#19979;&#26041;&#25171;&#24320;&#19968;&#20010;&#26032;&#34892;&#65307;&#22914;&#26524;&#27809;&#26377;&#21551;&#21160;&#32553;&#36827;&#27861;&#21017;&#65292;&#21017;&#20809;&#26631;&#22312;&#34892;&#39318;
O &#22312;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#30340;&#19978;&#26041;&#25171;&#24320;&#19968;&#20010;&#26032;&#34892;

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25554;&#20837;&#27169;&#24335;&#24555;&#25463;&#38190;</span>
ctrl+h &#21024;&#38500;&#19978;&#19968;&#20010;&#23383;&#31526;
ctrl+w &#21024;&#38500;&#21069;&#38754;&#19968;&#20010;&#21333;&#35789;
ctrl+u &#21024;&#38500;&#25972;&#34892;
</pre>
</div>

<ul class="org-ul">
<li>æ’å…¥æ¨¡å¼ &#x2014; ESC&#x2013;&#x2014;&gt; å‘½ä»¤æ¨¡å¼</li>
<li>å‘½ä»¤æ¨¡å¼ -&#x2014; : -&#x2014;&gt; æ‰©å±•å‘½ä»¤æ¨¡å¼</li>
<li>æ‰©å±•å‘½ä»¤æ¨¡å¼ -&#x2014;ESC,enter-&#x2014;&gt; å‘½ä»¤æ¨¡å¼</li>
</ul>

<p>
å¿«é€Ÿåˆ‡æ¢insertå’Œnormalæ¨¡å¼
</p>

<pre class="example" id="org35a284b">
ä½¿ç”¨ctrl+cä»£æ›¿Escï¼ˆä½†æ˜¯å¯èƒ½ä¼šä¸­æ–­æŸäº›æ’ä»¶ï¼‰æˆ–è€…ç”¨ctrl+[ä»£æ›¿Esc è¿›è¡Œnormalæ¨¡å¼
giå¿«é€Ÿè·³è½¬åˆ°æœ€åç¼–è¾‘çš„åœ°æ–¹å¹¶è¿›å…¥æ’å…¥æ¨¡å¼
</pre>

<p>
<b>ç¡¬ä»¶ï¼šé”®ç›˜</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">HHKB &#25110; Poker2&#36825;&#31181;&#36855;&#20320;&#38190;&#30424;
CapsLock&#25913;&#25104;&#24120;&#29992;&#30340;ctrl
</pre>
</div>


<figure id="orgae948e0">
<img src="images/image-20210615153035123.png" alt="image-20210615153035123.png" width="60%">

<figcaption><span class="figure-number">Figure 1: </span>image-20210615153035123</figcaption>
</figure>
</div>
</div>
<div id="outline-container-h:32ee8900-7c03-438a-8fc2-97933000847b" class="outline-4">
<h4 id="h:32ee8900-7c03-438a-8fc2-97933000847b">æ‰©å±•å‘½ä»¤æ¨¡å¼</h4>
<div class="outline-text-4" id="text-h:32ee8900-7c03-438a-8fc2-97933000847b">
<p>
æŒ‰ <code>:</code> è¿›å…¥Exæ¨¡å¼ ï¼Œåˆ›å»ºä¸€ä¸ªå‘½ä»¤æç¤ºç¬¦ <code>:</code> å¤„äºåº•éƒ¨çš„å±å¹•å·¦ä¾§
</p>
</div>
<div id="outline-container-h:3c043dde-c41c-4786-b193-9834c9cf0ce8" class="outline-5">
<h5 id="h:3c043dde-c41c-4786-b193-9834c9cf0ce8">æ‰©å±•å‘½ä»¤æ¨¡å¼åŸºæœ¬å‘½ä»¤</h5>
<div class="outline-text-5" id="text-h:3c043dde-c41c-4786-b193-9834c9cf0ce8">
<div class="org-src-container">
<pre class="src src-sh">w &#20889;&#65288;&#23384;&#65289;&#30913;&#30424;&#25991;&#20214;
wq &#20889;&#20837;&#24182;&#36864;&#20986;
x &#20889;&#20837;&#24182;&#36864;&#20986;
X  &#21152;&#23494;
q &#36864;&#20986;
q&#65281; &#19981;&#23384;&#30424;&#36864;&#20986;&#65292;&#21363;&#20351;&#26356;&#25913;&#37117;&#23558;&#20002;&#22833;
r  filename &#35835;&#25991;&#20214;&#20869;&#23481;&#21040;&#24403;&#21069;&#25991;&#20214;&#20013;
w  filename &#23558;&#24403;&#21069;&#25991;&#20214;&#20869;&#23481;&#20889;&#20837;&#21478;&#19968;&#20010;&#25991;&#20214;
!command &#25191;&#34892;&#21629;&#20196;
r!command &#35835;&#20837;&#21629;&#20196;&#30340;&#36755;&#20986;

:e filename -&gt; &#25171;&#24320;&#19968;&#20010;&#25991;&#20214;&#21517;&#20026;filename&#30340;&#25991;&#20214; (open file to edit)
:e! filename -&gt; &#24378;&#21046;&#25171;&#24320;&#19968;&#20010;&#25991;&#20214;&#65292;&#25152;&#26377;&#26410;&#20445;&#23384;&#30340;&#19996;&#35199;&#20250;&#20002;&#22833; (force open, drop dirty buffer)
:saveas filename -&gt; &#21478;&#23384;&#20026; filename (save file as filename)
</pre>
</div>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25191;&#34892;&#22806;&#37096;&#21629;&#20196;</span>
:!ls

r! echo %   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#23558;&#21629;&#20196;&#30340;&#36755;&#20986;&#20889;&#20837;&#25991;&#20214;&#20013;&#12290;%&#20195;&#34920;&#24403;&#21069;&#25991;&#20214;&#21517;</span>
r! echo %:p <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25554;&#20837;&#25991;&#20214;&#32477;&#23545;&#36335;&#24452;</span>

:help read
:help filename-modifiers
</pre>
</div>

<p>
<b>è¡¥å…¨åŠŸèƒ½</b>
</p>

<pre class="example" id="orgf59472a">
å½“è¾“å…¥ : å‘½ä»¤æ—¶ï¼ŒæŒ‰ CTRL-D å¯ä»¥æŸ¥çœ‹å¯èƒ½çš„è¡¥å…¨ç»“æœã€‚
     æŒ‰ &lt;TAB&gt; å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¡¥å…¨ã€‚
</pre>

<p>
èŒƒä¾‹ï¼šä½¿ç”¨ CTRL-D å’Œ å¯ä»¥è¿›è¡Œå‘½ä»¤è¡Œè¡¥å…¨
</p>

<pre class="example" id="orge3f42e6">
1. è¯·ç¡®ä¿ Vim ä¸æ˜¯åœ¨ä»¥å…¼å®¹æ¨¡å¼è¿è¡Œï¼š :set nocp
2. æŸ¥çœ‹ä¸€ä¸‹å½“å‰ç›®å½•ä¸‹å·²ç»å­˜åœ¨å“ªäº›æ–‡ä»¶ï¼Œè¾“å…¥ï¼š :!ls   æˆ–è€…  :!dir
3. ç°åœ¨è¾“å…¥ä¸€ä¸ªç›®å½•çš„èµ·å§‹éƒ¨åˆ†ï¼Œä¾‹å¦‚è¾“å…¥ï¼š :e
4. æ¥ç€æŒ‰ CTRL-D é”®ï¼ŒVim ä¼šæ˜¾ç¤ºä»¥ e å¼€å§‹çš„å‘½ä»¤çš„åˆ—è¡¨ã€‚
5. ç„¶åæŒ‰ &lt;TAB&gt; é”®ï¼ŒVim ä¼šè¡¥å…¨å‘½ä»¤ä¸º :edit ã€‚
6. ç°åœ¨æ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä»¥åŠä¸€ä¸ªå·²æœ‰æ–‡ä»¶çš„æ–‡ä»¶åçš„èµ·å§‹éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼š :edit FIL
7. æ¥ç€æŒ‰ &lt;TAB&gt; é”®ï¼ŒVim ä¼šè¡¥å…¨æ–‡ä»¶å(å¦‚æœå®ƒæ˜¯æƒŸä¸€åŒ¹é…çš„)ã€‚
</pre>
</div>
</div>
<div id="outline-container-h:ff7e1216-d522-4e91-987d-52f62b5792bf" class="outline-5">
<h5 id="h:ff7e1216-d522-4e91-987d-52f62b5792bf">åœ°å€å®šç•Œ</h5>
<div class="outline-text-5" id="text-h:ff7e1216-d522-4e91-987d-52f62b5792bf">
<p>
æ ¼å¼ï¼š
</p>

<pre class="example" id="org2f7b4ca">
:start_pos,end_pos CMD
</pre>

<p>
åœ¨æŒ‰ä¸‹ <code>:</code> é”®æ—¶ï¼Œvimä¼šåˆ‡æ¢åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚è¿™ä¸ªæ¨¡å¼å’Œshellä¸‹çš„å‘½ä»¤è¡Œæœ‰äº›
ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥è¾“å…¥ä¸€æ¡å‘½ä»¤ï¼Œç„¶åæŒ‰æ‰§è¡Œå®ƒã€‚åœ¨ä»»æ„æ—¶åˆ»ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŒ‰é”®ä»
å‘½ä»¤è¡Œæ¨¡å¼åˆ‡æ¢å›å˜é€šæ¨¡å¼ã€‚
</p>
</div>
<ul class="org-ul">
<li><a id="h:38c0723b-9255-4ac5-a891-ee2c2ba20cbf"></a>åœ°å€å®šç•Œæ ¼å¼<br>
<div class="outline-text-6" id="text-h:38c0723b-9255-4ac5-a891-ee2c2ba20cbf">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">#&#20855;&#20307;&#31532;#&#34892;&#65292;&#20363;&#22914;2&#34920;&#31034;&#31532;2&#34892;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">,# #&#20174;&#24038;&#20391;#&#34920;&#31034;&#36215;&#22987;&#34892;&#65292;&#21040;&#21491;&#20391;#&#34920;&#31034;&#32467;&#23614;&#34892;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">,+# #&#20174;&#24038;&#20391;#&#34920;&#31034;&#30340;&#36215;&#22987;&#34892;&#65292;&#21152;&#19978;&#21491;&#20391;#&#34920;&#31034;&#30340;&#34892;&#25968;&#65292;&#33539;&#20363;&#65306;2,+3 &#34920;&#31034;2&#21040;5&#34892;</span>
<span style="color: #483d8b;">.</span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24403;&#21069;&#34892;</span>
$ <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26368;&#21518;&#19968;&#34892;</span>
<span style="color: #483d8b;">.</span>,$<span style="color: #a0522d;">-</span>1 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24403;&#21069;&#34892;&#21040;&#20498;&#25968;&#31532;&#20108;&#34892;</span>
% <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20840;&#25991;, &#30456;&#24403;&#20110;1,$</span>

/pattern/  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#24403;&#21069;&#34892;&#21521;&#19979;&#26597;&#25214;&#65292;&#30452;&#21040;&#21305;&#37197;pattern&#30340;&#31532;&#19968;&#34892;,&#21363;:&#27491;&#21017;&#34920;&#36798;&#24335;</span>
/pat1/,/pat2/ <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#31532;&#19968;&#27425;&#34987;pat1&#27169;&#24335;&#21305;&#37197;&#21040;&#30340;&#34892;&#24320;&#22987;&#65292;&#19968;&#30452;&#21040;&#31532;&#19968;&#27425;&#34987;pat2&#21305;&#37197;&#21040;&#30340;&#34892;&#32467;&#26463;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">,/pat/   #&#20174;&#25351;&#23450;&#34892;&#24320;&#22987;&#65292;&#19968;&#30452;&#25214;&#21040;&#31532;&#19968;&#20010;&#21305;&#37197;patttern&#30340;&#34892;&#32467;&#26463;</span>
/pat/,$   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21521;&#19979;&#25214;&#21040;&#31532;&#19968;&#20010;&#21305;&#37197;patttern&#30340;&#34892;&#21040;&#25972;&#20010;&#25991;&#20214;&#30340;&#32467;&#23614;&#30340;&#25152;&#26377;&#34892;</span>
</pre>
</div>

<p>
å¦‚
</p>

<div class="org-src-container">
<pre class="src src-sh">:3&#65292;+7   : &#20174;&#31532;3 &#34892;&#24320;&#22987;&#21521;&#21518;&#21152; 7 &#34892;&#65292;&#20849; 8 &#34892;
:.,$<span style="color: #a0522d;">-</span>1  : &#24403;&#21069;&#21040;&#20498;&#25968;&#31532;&#20108;&#34892;
:1,$ &#20840;&#25991;
:/first/,$ &#20174;&#20809;&#26631;&#24320;&#22987;&#34987;&#21305;&#37197;&#30340;&#34892;&#24320;&#22987;&#65292;&#21040;&#26368;&#21518;&#19968;&#34892;&#32467;&#26463;
</pre>
</div>
</div>
</li>
<li><a id="h:1714fe88-5702-4d28-bfa3-14a021a8806f"></a>åœ°å€å®šç•Œåè·Ÿä¸€ä¸ªç¼–è¾‘å‘½ä»¤<br>
<div class="outline-text-6" id="text-h:1714fe88-5702-4d28-bfa3-14a021a8806f">
<div class="org-src-container">
<pre class="src src-sh">c &#21024;&#38500;&#25554;&#20837;
d    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;</span>
y <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22797;&#21046;</span>
w file <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#33539;&#22260;&#20869;&#30340;&#34892;&#21478;&#23384;&#33267;&#25351;&#23450;&#25991;&#20214;&#20013;</span>
r file <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#25351;&#23450;&#20301;&#32622;&#25554;&#20837;&#25351;&#23450;&#25991;&#20214;&#20013;&#30340;&#25152;&#26377;&#20869;&#23481;</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>


<figure id="orge662655">
<img src="images/image-20210215233736505.png" alt="image-20210215233736505.png" width="60%">

</figure>

<div class="org-src-container">
<pre class="src src-sh">:# r /PATH/FROM/SOMEFIL &#22312;&#31532;#&#34892;&#21518;&#25554;&#20837;&#35835;&#21462;&#21040;&#30340;&#25991;&#20214;&#20869;&#23481;
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-h:f752d388-fbaf-4172-ae82-88ac9c42e95d" class="outline-5">
<h5 id="h:f752d388-fbaf-4172-ae82-88ac9c42e95d">æŸ¥æ‰¾å¹¶æ›¿æ¢</h5>
<div class="outline-text-5" id="text-h:f752d388-fbaf-4172-ae82-88ac9c42e95d">

<figure id="org44fc992">
<img src="images/image-20210215233751150.png" alt="image-20210215233751150.png" width="60%">

<figcaption><span class="figure-number">Figure 2: </span>image-20210215233751150</figcaption>
</figure>

<p>
æ ¼å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">:[range]s[ubstitute]/&#35201;&#26597;&#25214;&#30340;&#20869;&#23481;/&#26367;&#25442;&#20026;&#30340;&#20869;&#23481;/&#20462;&#39280;&#31526;
</pre>
</div>

<p>
è¯´æ˜ï¼š
</p>

<ol class="org-ol">
<li>rangeè¡¨ç¤ºèŒƒå›´ã€‚å¦‚10,20è¡¨ç¤ºç¬¬10åˆ°20è¡Œï¼Œ%è¡¨ç¤ºå…¨éƒ¨</li>

<li>è¦æŸ¥æ‰¾çš„å†…å®¹ï¼šå¯ä½¿ç”¨åŸºæœ«æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼</li>
<li>æ›¿æ¢ä¸ºçš„å†…å®¹ï¼šä¸èƒ½ä½¿ç”¨æ¨¡å¼ï¼Œä½†å¯ä»¥ä½¿ç”¨\1, \2,&#x2026;ç­‰åå‘å¼•ç”¨ç¬¦å·ï¼›è¿˜
å¯ä»¥ä½¿ç”¨ <code>&amp;</code> å¼•ç”¨å‰é¢æŸ¥æ‰¾æ—¶æŸ¥æ‰¾åˆ°çš„æ•´ä¸ªå†…å®¹</li>
<li>ä¿®é¥°ç¬¦ï¼š</li>
</ol>

<div class="org-src-container">
<pre class="src src-sh">i          : &#24573;&#30053;&#22823;&#23567;&#20889;
<span style="color: #0000ff;">c</span>(confirm) : &#34920;&#31034;&#30830;&#35748;&#65292;&#21487;&#20197;&#30830;&#35748;&#25110;&#32773;&#25298;&#32477;&#20462;&#25913;
<span style="color: #0000ff;">g</span>(global)  : &#20840;&#23616;&#26367;&#25442;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#27599;&#19968;&#34892;&#21482;&#26367;&#25442;&#31532;&#19968;&#27425;&#20986;&#29616;
gc         : &#20840;&#23616;&#26367;&#25442;&#65292;&#27599;&#27425;&#26367;&#25442;&#21069;&#35810;&#38382;
<span style="color: #0000ff;">n</span>(number)  : &#25253;&#21578;&#21305;&#37197;&#21040;&#30340;&#27425;&#25968;&#32780;&#19981;&#26367;&#25442;&#65292;&#21487;&#20197;&#29992;&#26469;&#26597;&#35810;&#21305;&#37197;&#27425;&#25968;
</pre>
</div>

<p>
4.æŸ¥æ‰¾æ›¿æ¢ä¸­çš„åˆ†éš”ç¬¦/å¯æ›¿æ¢ä¸ºå…¶å®ƒå­—ç¬¦ï¼Œå¦‚ï¼š#,@ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">s@/etc@/var@g
s#/boot#/#i
</pre>
</div>

<p>
ç¤ºä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">1. &#26597;&#25214;&#20840;&#25991;&#25226;&#25152;&#26377; this &#30340;&#23567;&#20889; t &#26367;&#25442;&#25104; &#22823;&#20889; T
this is a new line
this is a new line . this is another new line
:%s/<span style="color: #8b2252;">\&lt;</span>this<span style="color: #8b2252;">\&gt;</span>/This/g <span style="color: #b22222;"># </span><span style="color: #b22222;">&#31934;&#30830;&#21305;&#37197;this&#36825;&#20010;&#21333;&#35789;&#36827;&#34892;&#26367;&#25442;</span>

2. &#20174;&#20498;&#25968;&#31532; 4 &#34892;&#21040;&#26368;&#21518;&#19968;&#34892;&#65292;&#19981;&#20998;&#22823;&#23567;&#20889;&#22320;&#25226;&#25152;&#26377;&#30340; this &#26367;&#25442;&#25104;&#22823;&#20889;&#30340; THIS
This is a new line
This is a new line . this is another new line
this is a new line . this is another new line
:$<span style="color: #a0522d;">-</span>4,$<span style="color: #a0522d;">s</span>/this/THIS/ig

3. &#21518;&#21521;&#24341;&#29992;&#65292;&#23558;&#20840;&#25991;&#20013;&#25152;&#26377;&#20197; t &#24320;&#22836;&#30340;&#21333;&#35789;&#26367;&#25442;&#25104;&#20197;&#22823;&#20889; T &#24320;&#22836;&#30340;&#21333;&#35789;&#12290;
:%s@<span style="color: #8b2252;">\&lt;</span>t<span style="color: #8b2252;">\(</span>[[:alpha:]]<span style="color: #8b2252;">\+\)\&gt;</span>@T\1@g

4. &#30452;&#25509;&#24341;&#29992;&#65292;&#23558;&#25152;&#26377;&#20197;&#23567;&#20889; t &#24320;&#22836;&#30340;&#21333;&#35789;&#65292;&#22312;&#35813;&#21333;&#35789;&#21518;&#32039;&#36319; er &#23383;&#31526;
:%s@<span style="color: #8b2252;">\&lt;</span>t[[:alpha:]]<span style="color: #8b2252;">\+\&gt;</span>@&amp;er@g

5. &#23558;&#25991;&#20214;&#20013;&#34892;&#39318;&#26159; <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20117;&#21495;&#30340;&#26367;&#25442;&#20026;&#26080;</span>
:%s@^#@@

6. &#22797;&#21046;/etc/grub2.cfg&#25991;&#20214;&#33267;/tmp&#30446;&#24405;&#20013;&#65292;&#29992;&#26597;&#25214;&#26367;&#25442;&#21629;&#20196;&#21024;&#38500;/tmp/grub2.cfg&#25991;&#20214;&#20013;&#20197;&#31354;&#30333;&#23383;&#31526;&#24320;&#22836;&#30340;&#34892;&#30340;&#34892;&#39318;&#30340;&#31354;&#30333;&#23383;&#31526;&#65307;
:%s@^[[:space:]]<span style="color: #8b2252;">\+</span>@@

7. &#22797;&#21046;/etc/rc.d/init.d/functions&#25991;&#20214;&#33267;/tmp&#30446;&#24405;&#20013;&#65292;&#29992;&#26597;&#25214;&#26367;&#25442;&#21629;&#20196;&#20026;/tmp/functions&#25991;&#20214;&#30340;&#27599;&#20010;&#20197;&#31354;&#30333;&#23383;&#31526;&#24320;&#22836;&#30340;&#34892;&#30340;&#34892;&#39318;&#21152;&#19978;#&#65307;
:%s@^[[:space:]]@#&amp;@g    &#19981;&#29992;&#21305;&#37197;&#22810;&#27425;&#65292;g &#21487;&#20197;&#21333;&#34892;&#21305;&#37197;&#22810;&#27425;&#12290;&#32771;&#34385;&#30340;&#19981;&#21608;&#20840;&#65292;&#36825;&#26679;&#19968;&#26469;&#26576;&#19968;&#34892;&#21482;&#26377;&#19968;&#20010;&#31354;&#30333;&#23383;&#31526;&#20063;&#20250;&#21152; <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20117;&#21495;&#20102;</span>

&#22914;&#26524;&#25105;&#20204;&#26399;&#26395;&#36825;&#19968;&#34892;&#19968;&#23450;&#26159;&#19968;&#20010;&#26377;&#29992;&#23383;&#31526;&#32780;&#19981;&#20165;&#20165;&#26159;&#31354;&#30333;&#34892;&#65292;&#21487;&#20197;&#29992;&#19979;&#38754;&#30340;&#21305;&#37197;
:%s@^[[:space:]]<span style="color: #8b2252;">\+</span>[^[:space:]]@#&amp;@g

8. &#20026;/tmp/grub2.cfg&#25991;&#20214;&#30340;&#21069;&#19977;&#34892;&#30340;&#34892;&#39318;&#21152;&#19978;#&#21495;&#65307;
:1,3s/^/#/

9. &#23558;/etc/yum.repos.d/CentOS-Base.repo<span style="color: #a0522d;">&#25991;&#20214;&#20013;&#25152;&#26377;&#30340;enabled</span>=<span style="color: #a0522d;">0&#26367;&#25442;&#20026;enabled</span>=1&#65292;<span style="color: #a0522d;">&#25152;&#26377;gpgcheck</span>=<span style="color: #a0522d;">0&#26367;&#25442;&#20026;gpgcheck</span>=1&#65307;
:%s@<span style="color: #8b2252;">\(</span>enabled<span style="color: #8b2252;">\|</span>gpgcheck<span style="color: #8b2252;">\)</span>=0@\<span style="color: #a0522d;">1</span>=1@g
</pre>
</div>


<figure id="orga724358">
<img src="images/image-20210215233810281.png" alt="image-20210215233810281.png" width="60%">

</figure>

<div class="org-src-container">
<pre class="src src-sh">:%s@.*172.17.19.161@#&amp;@g
</pre>
</div>

<p>
normalæ¨¡å¼ä¸‹æŒ‰Jåˆ é™¤æ­¤è¡Œæœ«å°¾çš„æ¢è¡Œç¬¦ï¼Œä»è€Œåˆå¹¶ä¸¤è¡Œ
</p>

<p>
:e!é‡æ–°è¯»è¿›ä¸Šæ¬¡ä¿å­˜çš„æ­¤æ–‡ä»¶å†…å®¹
</p>

<p>
:ab myname william_djj
</p>

<p>
ä»¥åå†ç¼–è¾‘æ—¶é”®å…¥mynameï¼Œç„¶åç©ºæ ¼æˆ–å›è½¦mynameä¸²å°±ä¼šè¢«william_djjä»£æ›¿
</p>

<p>
ç›¸å…³å‘½ä»¤ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">:[range]copy {address}  //&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#34892;&#25335;&#36125;&#21040;&#25351;&#23450;&#34892;&#19979;&#65292;copy&#30340;&#21629;&#20196;&#31616;&#20889;:t
:[range]move {address} //&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#34892;&#31227;&#21160;&#21040;&#25351;&#23450;&#34892;&#19979;
:[range]substitute/{pattern}/[string]/{flags}  //&#25351;&#23450;&#33539;&#22260;&#20869;&#20986;&#29616;{pattern}&#30340;&#22320;&#26041;&#26367;&#25442;&#20026;{string}
:[range]global/{pattern}/[cmd]  //&#25351;&#23450;&#33539;&#22260;&#20869;&#21305;&#37197;{pattern}&#30340;&#25152;&#26377;&#34892;&#65292;&#22312;&#20854;&#19978;&#25191;&#34892;Ex&#21629;&#20196;{cmd}
:[range]normal {commands}  //&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#27599;&#19968;&#34892;&#25191;&#34892;&#21464;&#36890;&#27169;&#24335;&#21629;&#20196;vi

[range]&#30456;&#20851;&#21629;&#20196;
1 : &#25991;&#20214;&#30340;&#31532;&#19968;&#34892;
$ : &#25991;&#20214;&#30340;&#26368;&#21518;&#19968;&#34892;
0 : &#34394;&#25311;&#34892;&#65292;&#20301;&#20110;&#25991;&#20214;&#31532;&#19968;&#34892;&#19978;&#26041;
<span style="color: #483d8b;">.</span> : &#20809;&#26631;&#25152;&#22312;&#34892;
<span style="color: #8b2252;">'m : &#21253;&#21547;&#20301;&#32622;&#26631;&#35760;m&#30340;&#34892;</span>
<span style="color: #8b2252;">'</span>&lt; : &#39640;&#20142;&#36873;&#21306;&#30340;&#36215;&#22987;&#34892;
<span style="color: #8b2252;">'&gt; : &#39640;&#20142;&#36873;&#21306;&#20869;&#30340;&#32467;&#26463;&#34892;</span>
<span style="color: #8b2252;">% : &#25972;&#20010;&#25991;&#20214; (1,$ &#30456;&#24403;&#20110;%)</span>
</pre>
</div>

<p>
ç»ƒä¹ ï¼š
</p>

<ol class="org-ol">
<li><p>
å¤åˆ¶æŸä¸€è¡Œæˆ–æŸä¸€æ®µåˆ°æŒ‡å®šè¡Œçš„ä¸‹æ–¹
</p>

<p>
:[range]copy {address}
</p>

<div class="org-src-container">
<pre class="src src-sh">:3,5copy 5 //3&#21040;5&#34892;&#30340;&#20869;&#23481;&#22797;&#21046;&#21040;&#31532;5&#34892;&#20043;&#21518;&#12290;
</pre>
</div></li>

<li>æ›¿æ¢ <code>:1,2 s/T/t/</code> å¤§å†™Tæ›¿æ¢æˆå°å†™t</li>

<li><p>
å°†é€‰å®šåŒºåŸŸï¼Œç§»åŠ¨åˆ°æœ«å°¾
</p>

<div class="org-src-container">
<pre class="src src-sh">Vjj
:<span style="color: #8b2252;">'&lt;,'</span>&gt;m$
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-h:aa99e702-b0b2-43cf-bd0f-fc1cf0b6ad66" class="outline-5">
<h5 id="h:aa99e702-b0b2-43cf-bd0f-fc1cf0b6ad66">å®šåˆ¶vimçš„å·¥ä½œç‰¹æ€§</h5>
<div class="outline-text-5" id="text-h:aa99e702-b0b2-43cf-bd0f-fc1cf0b6ad66">
<p>
æ‰©å±•å‘½ä»¤æ¨¡å¼çš„é…ç½®åªæ˜¯å¯¹å½“å‰vimè¿›ç¨‹æœ‰æ•ˆï¼Œå¯å°†é…ç½®å­˜æ”¾åœ¨æ–‡ä»¶ä¸­æŒä¹…ä¿å­˜
é…ç½®æ–‡ä»¶ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">/etc/vimrc <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20840;&#23616;</span>
~/.vimrc <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20010;&#20154;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;\EOF &gt; ~/.vimrc
<span style="color: #ffa54f;">set ts=4</span>
<span style="color: #ffa54f;">set expandtab</span>
<span style="color: #ffa54f;">set ignorecase</span>
<span style="color: #ffa54f;">set cursorline</span>
<span style="color: #ffa54f;">set autoindent</span>
<span style="color: #ffa54f;">autocmd BufNewFile *.sh exec ":call SetTitle()"</span>
<span style="color: #ffa54f;">func SetTitle()</span>
<span style="color: #ffa54f;">    if expand("%:e") == 'sh'</span>
<span style="color: #ffa54f;">    call setline(1,"#!/bin/env bash")</span>
<span style="color: #ffa54f;">    call setline(2,"#")</span>
<span style="color: #ffa54f;">    call setline(3,"#********************************************************************")</span>
<span style="color: #ffa54f;">    call setline(4,"#Author:           jasperhsu")</span>
<span style="color: #ffa54f;">    call setline(5,"#QQ:               277147964")</span>
<span style="color: #ffa54f;">    call setline(6,"#Date:             ".strftime("%Y-%m-%d"))</span>
<span style="color: #ffa54f;">    call setline(7,"#FileName:         ".expand("%"))</span>
<span style="color: #ffa54f;">    call setline(8,"#URL:              https://jaspervincent.github.io")</span>
<span style="color: #ffa54f;">    call setline(9,"#Description:      This is a script")</span>
<span style="color: #ffa54f;">    call setline(10,"#Copyright (C):    ".strftime("%Y")." CC BY-NC 4.0")</span>
<span style="color: #ffa54f;">    call setline(11,"#License:          MIT")</span>
<span style="color: #ffa54f;">    call setline(12,"#********************************************************************")</span>
<span style="color: #ffa54f;">    call setline(13,"")</span>
<span style="color: #ffa54f;">    endif</span>
<span style="color: #ffa54f;">endfunc</span>
<span style="color: #ffa54f;">autocmd BufNewFile * normal G</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="h:f3085a0e-29d7-4285-b6e3-27bcfe9a667f"></a>è¡Œå·<br>
<div class="outline-text-6" id="text-h:f3085a0e-29d7-4285-b6e3-27bcfe9a667f">
<p>
æ˜¾ç¤ºï¼šset numberï¼Œç®€å†™ set nu å–æ¶ˆæ˜¾ç¤ºï¼šset nonumber, ç®€å†™ set nonu
</p>

<p>
ç›¸å¯¹è¡Œå·ï¼šset relativenumber
</p>

<ul class="org-ul">
<li>ä½¿ç”¨ï¼šç§»åŠ¨åˆ°å½“å‰ä¸‹é¢ç¬¬2è¡Œ 2jï¼›ç§»åŠ¨åˆ°å½“å‰ä¸Šé¢ç¬¬10è¡Œ 10k</li>
</ul>
</div>
</li>
<li><a id="h:8f7d671b-135e-4740-b740-1dfaa050a613"></a>å¿½ç•¥å­—ç¬¦çš„å¤§å°å†™<br>
<div class="outline-text-6" id="text-h:8f7d671b-135e-4740-b740-1dfaa050a613">
<p>
å¯ç”¨ï¼šset ignorecaseï¼Œç®€å†™ set ic ä¸å¿½ç•¥ï¼šset noic
</p>

<pre class="example" id="org1bf94ee">
æ–¹æ³•2
å¦‚æœæ‚¨æƒ³è¦ä»…åœ¨ä¸€æ¬¡æŸ¥æ‰¾æ—¶å¿½ç•¥å­—æ¯å¤§å°å†™ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ \c
æ“ä½œï¼šæ‰©å±•å‘½ä»¤è¡Œæ¨¡å¼ï¼Œè¾“å…¥å‘½ä»¤â€œ:/string\c â€ï¼Œå°†ä¼šæŸ¥æ‰¾stringå­—ç¬¦ä¸²
</pre>
</div>
</li>
<li><a id="h:243509b0-d163-42fb-8f8d-6a8fecf18312"></a>è‡ªåŠ¨ç¼©è¿›<br>
<div class="outline-text-6" id="text-h:243509b0-d163-42fb-8f8d-6a8fecf18312">
<p>
å¯ç”¨ï¼šset autoindentï¼Œç®€å†™ set ai ç¦ç”¨ï¼šset noai "set
smartindent"æ™ºèƒ½ç¼©è¿›
</p>
</div>
</li>
<li><a id="h:37114f8e-19fa-4dc6-9bcd-1e7a559dc358"></a>å¤åˆ¶ä¿ç•™æ ¼å¼<br>
<div class="outline-text-6" id="text-h:37114f8e-19fa-4dc6-9bcd-1e7a559dc358">
<p>
å¯ç”¨ï¼šset paste ç¦ç”¨ï¼šset nopaste
</p>


<div class="org-src-container">
<pre class="src src-sh">&#22797;&#21046;&#20445;&#30041;&#26684;&#24335;
:set paste
&#36827;&#20837;paste&#27169;&#24335;&#20197;&#21518;&#65292;&#21487;&#20197;&#22312;&#25554;&#20837;&#27169;&#24335;&#19979;&#31896;&#36148;&#20869;&#23481;&#65292;&#19981;&#20250;&#26377;&#20219;&#20309;&#21464;&#24418;
&#20294;&#36825;&#26679;&#36824;&#26159;&#27604;&#36739;&#40635;&#28902;&#30340;&#65292;&#27599;&#27425;&#35201;&#31896;&#36148;&#30340;&#35805;&#65292;&#20808;set paste&#65292;&#28982;&#21518;&#31896;&#36148;&#65292;&#28982;&#21518;&#20877;set nopaste&#12290;
&#26377;&#27809;&#26377;&#26356;&#26041;&#20415;&#30340;&#21602;&#65311;&#20320;&#21487;&#33021;&#24819;&#21040;&#20102;&#65292;&#20351;&#29992;&#38190;&#30424;&#26144;&#23556;&#21568;&#65292;&#23545;&#12290;&#25105;&#20204;&#21487;&#20197;&#36825;&#26679;&#35774;&#32622;&#65306;:

:map &lt;F10&gt; :set paste&lt;CR&gt; :map &lt;F11&gt; :set nopaste&lt;CR&gt;
&#36825;&#26679;&#22312;&#31896;&#36148;&#21069;&#25353;F10&#38190;&#21551;&#21160;paste&#27169;&#24335;&#65292;&#31896;&#36148;&#21518;&#25353;F11&#21462;&#28040;paste&#27169;&#24335;&#21363;&#21487;&#12290;
&#20854;&#23454;&#65292;paste&#26377;&#19968;&#20010;&#20999;&#25442;paste&#24320;&#20851;&#30340;&#36873;&#39033;&#65292;&#36825;&#23601;&#26159;pastetoggle&#12290;&#36890;&#36807;&#23427;&#21487;&#20197;&#32465;&#23450;&#24555;&#25463;&#38190;&#26469;&#28608;&#27963;/&#21462;&#28040; paste&#27169;&#24335;&#12290;&#27604;&#22914;&#65306;:

:set <span style="color: #a0522d;">pastetoggle</span>=&lt;F11&gt;
&#36825;&#26679;&#20943;&#23569;&#20102;&#19968;&#20010;&#24555;&#25463;&#38190;&#30340;&#21344;&#29992;&#65292;&#20351;&#29992;&#36215;&#26469;&#20063;&#26356;&#26041;&#20415;&#19968;&#20123;&#12290;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#27880;&#24847;&#22797;&#21046;&#20445;&#30041;&#26684;&#24335;&#21518;&#65292;&#20877;&#20570;TAB&#21046;&#34920;&#31526;&#36716;&#31354;&#26684;&#12290;</span>
</pre>
</div>
</div>
</li>
<li><a id="h:507714f0-5e60-4872-8f3d-3f6d29b317ba"></a>æ˜¾ç¤ºTabå’Œæ¢è¡Œç¬¦ ^I å’Œ$æ˜¾ç¤º<br>
<div class="outline-text-6" id="text-h:507714f0-5e60-4872-8f3d-3f6d29b317ba">
<p>
å¯ç”¨ï¼šset list ç¦ç”¨ï¼šset nolist
</p>

<p>
æ”¹å˜å­—ç¬¦æ˜¾ç¤º
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> <span style="color: #a0522d;">listchars</span>=tab:-&gt;,eol:[ <span style="color: #8b2252;">" &#21046;&#34920;&#31526;&#25442;&#25104;-&gt; &#25442;&#34892;&#31526;&#25442;&#25104;[</span>
</pre>
</div>
</div>
</li>
<li><a id="h:2a33447d-38d8-4dc1-9d58-8469a8947b6a"></a>é«˜äº®æœç´¢<br>
<div class="outline-text-6" id="text-h:2a33447d-38d8-4dc1-9d58-8469a8947b6a">
<div class="org-src-container">
<pre class="src src-sh">&#21551;&#29992;&#65306;set hlsearch  &#25110;set hls
&#31105;&#29992;&#65306;set nohlsearch
<span style="color: #b22222;">#</span><span style="color: #b22222;">'hls' 'hlsearch'    &#39640;&#20142;&#26174;&#31034;&#25152;&#26377;&#30340;&#21305;&#37197;&#30701;&#35821;</span>
</pre>
</div>

<p>
å¢é‡æœç´¢é«˜äº®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> incsearch  <span style="color: #b22222;"># </span><span style="color: #b22222;">include search</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">'is' 'incsearch'    &#26597;&#25214;&#30701;&#35821;&#26102;&#26174;&#31034;&#37096;&#20998;&#21305;&#37197;</span>
</pre>
</div>

<p>
æ‹¬å·åŒ¹é…é«˜äº®
</p>

<pre class="example" id="org2fb3ce2">
set showmatch, set sm  æ‹¬å·åŒ¹é…é«˜äº®
set nosm å–æ¶ˆ
</pre>

<p>
è®¾ç½® hlsearchï¼Œincsearchï¼Œshowmatchï¼Œè¯·è¾“å…¥ï¼š <code>:set hls is sm</code>
</p>
</div>
</li>
<li><a id="h:820b5e5d-8617-48e9-a091-c35035005f03"></a>è¯­æ³•é«˜äº®<br>
<div class="outline-text-6" id="text-h:820b5e5d-8617-48e9-a091-c35035005f03">
<p>
å¯ç”¨ï¼šsyntax on ç¦ç”¨ï¼šsyntax off
</p>
</div>
</li>
<li><a id="h:c76b58bb-ac12-47b6-a1e6-b9bb6f030d7f"></a>æ–‡ä»¶æ ¼å¼<br>
<div class="outline-text-6" id="text-h:c76b58bb-ac12-47b6-a1e6-b9bb6f030d7f">
<p>
å¯ç”¨windowsæ ¼å¼ï¼šset fileformat=dos
</p>

<p>
å¯ç”¨unixæ ¼å¼ï¼šset fileformat=unix
</p>

<p>
ç®€å†™ set ff=dos|unix
</p>
</div>
</li>
<li><a id="h:375b8242-5e3f-449d-b4c6-1a99194660da"></a>ç”¨ç©ºæ ¼ä»£æ›¿<br>
<div class="outline-text-6" id="text-h:375b8242-5e3f-449d-b4c6-1a99194660da">
<p>
å¯ç”¨ï¼šset expandtab é»˜è®¤ä¸º8ä¸ªç©ºæ ¼ä»£æ›¿Tab ç®€å†™ï¼šset et
</p>

<p>
ç¦ç”¨ï¼šset noexpandtab 
</p>

<p>
æ³¨æ„ï¼šä¸set pasteä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå†™åœ¨å…¶åé¢ã€‚
</p>
</div>
</li>
<li><a id="h:0351b16c-b353-4945-8791-e4e0d4835939"></a>Tabç”¨æŒ‡å®šç©ºæ ¼çš„ä¸ªæ•°ä»£æ›¿<br>
<div class="outline-text-6" id="text-h:0351b16c-b353-4945-8791-e4e0d4835939">
<p>
å¯ç”¨ï¼šset tabstop=# æŒ‡å®š#ä¸ªç©ºæ ¼ä»£æ›¿Tab ç®€å†™ï¼šset ts=4
</p>

<p>
è®¾ç½®tabé”®ç¼©è¿›4ä¸ªå­—ç¬¦
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7-01 ~]# vim /etc/vimrc
<span style="color: #8b2252;">" add at 2017</span>
<span style="color: #8b2252;">set ts=4 et sw=4 "</span>set <span style="color: #a0522d;">shiftwidth</span>=4 <span style="color: #a0522d;">tabstop</span>=4 expandtab
</pre>
</div>

<p>
è¯´æ˜ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> expandtab <span style="color: #8b2252;">"&#34920;&#31034;&#31354;&#30333;&#21464;&#25104;&#31354;&#26684;&#65292;&#31616;&#20889; set et</span>
<span style="color: #8b2252;">set tabstop=4 "</span>&#25351;&#26174;&#31034;&#20986;&#26469;&#26159;&#22810;&#23569;&#20010;&#31354;&#26684;&#30340;&#38271;&#24230;&#65292;&#40664;&#35748; 8&#65292;&#31616;&#20889; set <span style="color: #a0522d;">ts</span>=4
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">softtabstop</span>=4
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">shiftwidth</span>=4 <span style="color: #8b2252;">"&#34920;&#31034;&#27599;&#19968;&#32423;&#32553;&#36827;&#30340;&#38271;&#24230;</span>
</pre>
</div>
</div>
</li>
<li><a id="h:9d0fcf43-534c-4897-9035-5778461a16c5"></a>è®¾ç½®æ–‡æœ¬å®½åº¦<br>
<div class="outline-text-6" id="text-h:9d0fcf43-534c-4897-9035-5778461a16c5">
<p>
set textwidth=65 (vim only)
</p>

<p>
set wrapmargin=15
</p>
</div>
</li>
<li><a id="h:c33a3e05-b610-4393-910e-640c69f05524"></a>è®¾ç½®å…‰æ ‡æ‰€åœ¨è¡Œçš„æ ‡è¯†çº¿<br>
<div class="outline-text-6" id="text-h:c33a3e05-b610-4393-910e-640c69f05524">
<p>
å¯ç”¨ï¼šset cursorlineï¼Œç®€å†™ set cul
</p>

<p>
ç¦ç”¨ï¼šset nocursorline
</p>
</div>
</li>
<li><a id="h:f18153fc-f509-4ae3-8305-e682cbaabe3f"></a>åŠ å¯†<br>
<div class="outline-text-6" id="text-h:f18153fc-f509-4ae3-8305-e682cbaabe3f">
<p>
å¯ç”¨ï¼š set key=password
</p>

<p>
ç¦ç”¨ï¼š set key=
</p>
</div>
</li>
<li><a id="h:7156d79b-27e4-4307-898a-7d176a9f2b1e"></a>å…¶å®ƒ<br>
<div class="outline-text-6" id="text-h:7156d79b-27e4-4307-898a-7d176a9f2b1e">
<div class="org-src-container">
<pre class="src src-sh">filetype plugin on <span style="color: #8b2252;">"&#25991;&#20214;&#31867;&#22411;</span>
<span style="color: #8b2252;">set undofile "</span> &#25152;&#26377;&#30340;&#25805;&#20316;&#20250;&#35760;&#24405;&#22312;unofile&#20013;&#65292;&#26041;&#20415;&#20351;&#29992; u &#21644; ctrl + r &#12290;&#20250;&#22312;&#24403;&#21069;&#30446;&#24405;&#21019;&#24314;&#19968;&#20010;<span style="color: #ff00ff;">`.&#21516;&#21517;&#25991;&#20214;.un~`</span>&#25991;&#20214;
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">undodir</span>=~/.vim/undodir <span style="color: #8b2252;">" &#23384;&#20648;undofile&#30340;&#30446;&#24405;&#65292;&#19981;&#20250;&#27745;&#26579;&#39033;&#30446;&#30446;&#24405;&#19979;&#25991;&#20214;&#12290;&#25552;&#21069;&#21019;&#24314;&#22909;&#30446;&#24405;</span>
<span style="color: #8b2252;">set history=500 "</span> &#35760;&#24405;&#26368;&#36817;&#25351;&#23450;&#27425;&#25968;&#30340;&#25805;&#20316;&#65292;&#22312;&#36864;&#20986;vim&#21518;&#20877;&#36827;&#26469;&#20173;&#21487;&#20197; u &#25764;&#28040;&#20043;&#21069;&#30340;&#25805;&#20316;
<span style="color: #483d8b;">set</span> ruler <span style="color: #8b2252;">" &#21491;&#19979;&#35282;&#26174;&#31034;&#20809;&#26631;&#29366;&#24577;&#34892;</span>
<span style="color: #8b2252;">set nohls "</span> &#20851;&#38381;&#21305;&#37197;&#30340;&#39640;&#20142;&#26174;&#31034;
<span style="color: #483d8b;">set</span> incsearch <span style="color: #8b2252;">" &#35774;&#32622;&#24555;&#36895;&#25628;&#32034;</span>
<span style="color: #8b2252;">set foldenable "</span> &#24320;&#21551;&#20195;&#30721;&#25240;&#21472;
<span style="color: #8b2252;">"set fdm=manual "</span> &#25163;&#21160;&#25240;&#21472;
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">foldmethod</span>=syntax <span style="color: #8b2252;">" &#33258;&#21160;&#35821;&#27861;&#25240;&#21472;</span>
<span style="color: #8b2252;">set modeline "</span> &#33258;&#21160;&#36733;&#20837;&#27169;&#24335;&#34892;
<span style="color: #483d8b;">set</span> cursorline <span style="color: #8b2252;">" &#31361;&#20986;&#26174;&#31034;&#24403;&#21069;&#34892;</span>
<span style="color: #8b2252;">set mouse= "</span>nomarl&#27169;&#24335;&#20013;&#65292;&#21487;&#20197;&#29992;&#40736;&#26631;&#25805;&#20316;&#65292;&#22914;&#22797;&#21046;&#25991;&#26412;
</pre>
</div>
</div>
</li>
<li><a id="h:671f1f34-0bc5-429f-91c3-1c3f70a88095"></a>äº†è§£æ›´å¤š<br>
<div class="outline-text-6" id="text-h:671f1f34-0bc5-429f-91c3-1c3f70a88095">
<p>
<b>set å¸®åŠ©</b>
</p>

<p>
:help option-list
</p>

<p>
:set or :set all
</p>

<p>
<b>åŠ å¯† (encryption)</b>
</p>

<p>
vimå¯ä»¥ç»™æ–‡ä»¶åŠ å¯†ç 
</p>

<p>
vim -x æ–‡ä»¶å (filename) -&gt;è¾“å…¥2æ¬¡å¯†ç ï¼Œä¿å­˜åæ–‡ä»¶æ¯æ¬¡éƒ½ä¼šè¦å¯†ç æ‰èƒ½è¿›
å…¥ (encrypt the file with password)
</p>

<p>
vimå¤„ç†åŠ å¯†æ–‡ä»¶çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šä½œå¯†ç éªŒè¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä½ æ‰“å¼€æ–‡ä»¶çš„æ—¶å€™ï¼Œ
vimä¸ç®¡ä½ è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œç›´æ¥ç”¨å¯†ç å¯¹æœ¬æ–‡è¿›è¡Œè§£å¯†ã€‚å¦‚æœå¯†ç é”™è¯¯ï¼Œ
ä½ çœ‹åˆ°çš„å°±ä¼šæ˜¯ä¹±ç ï¼Œè€Œä¸ä¼šæé†’ä½ å¯†ç é”™è¯¯ï¼ˆè¿™æ ·å¢åŠ äº†å®‰å…¨æ€§ï¼Œæ²¡æœ‰åœ°æ–¹å¯
ä»¥å¾—çŸ¥å¯†ç æ˜¯å¦æ­£ç¡®ï¼‰å½“ç„¶äº†ï¼Œå¦‚æœç”¨ä¸€ä¸ªå¤Ÿå¿«çš„æœºå™¨ä½œç©·ä¸¾ç ´è§£ï¼Œvimè¿˜æ˜¯å¯
ä»¥æ­å¼€çš„
</p>

<p>
<b>æ¢è¡Œæ–¹å¼</b>
</p>

<p>
åœ¨æ—©æœŸçš„æ‰“å°æœºæ—¶ä»£ï¼Œå¼€å§‹æ–°çš„ä¸€è¡Œè¦å ç”¨ä¸¤ä¸ªå­—ç¬¦çš„æ—¶é—´ã€‚å¦‚æœåˆ°äº†ä¸€è¡Œçš„ç»“
å°¾å¤„ï¼Œä½ è¦å¿«é€Ÿå›åˆ°æ–°çš„ä¸€è¡Œçš„å¼€å¤´ï¼Œéœ€è¦æ‰“å°é’ˆå¤´åœ¨çº¸é¢ä¸Šé£å¿«åœ°æ è¿‡ï¼Œå¸¸å¸¸
ä¼šåœ¨çº¸é¢ä¸Šç•™ä¸‹æ±¡ç‚¹ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•å°±æ˜¯ï¼Œç”¨ä¸¤ä¸ªå­—ç¬¦ï¼šä¸€ä¸ªå­—ç¬¦ &lt;Retrun&gt; æ¥ç§»åˆ°
ç¬¬ä¸€åˆ—ï¼Œå¦ä¸€ä¸ªå­—ç¬¦ &lt;Line feed&gt; æ¥æ–°å¢ä¸€è¡Œã€‚
</p>

<p>
è®¡ç®—æœºäº§ç”Ÿä»¥åï¼Œå­˜å‚¨è¾ƒä¸ºæ˜‚è´µï¼Œåœ¨å¦‚ä½•è§£å†³å›è½¦æ¢è¡Œè¿™ä¸ªè€é—®é¢˜ä¸Šï¼Œäººä»¬äº§ç”Ÿ
äº†ä¸åŒçš„æ„è§ã€‚UNIXäººè®¤ä¸ºåœ¨åˆ°è¾¾ä¸€è¡Œçš„ç»“å°¾æ—¶æ–°å¢ä¸€è¡Œ &lt;Line feed&gt;(LF)ï¼Œè€Œ
Macäººåˆ™è®¤åŒ &lt;Return&gt;(CR)çš„è§£å†³åŠæ³•ï¼ŒMSåˆ™åšæŒå¤è€çš„&lt;Return&gt;&lt;Line
feed&gt;(CRLF)çš„æ–¹æ³•ã€‚è¿™å°±æ„å‘³ç€å¦‚æœä½ å°†ä¸€ä¸ªæ–‡ä»¶ä»ä¸€ä¸ªç³»ç»Ÿè½¬ç§»åˆ°å¦ä¸€ä¸ªç³»
ç»Ÿï¼Œå°±é¢ä¸´ç€å›è½¦æ¢è¡Œçš„é—®é¢˜ã€‚è€ŒVimç¼–è¾‘å™¨åˆ™ä¼šè‡ªåŠ¨çš„è®¤å‡ºè¿™ç§æ–‡ä»¶æ ¼å¼æ–¹é¢
çš„åŒºåˆ«ï¼Œå¹¶åšå‡ºç›¸åº”å¤„ç†ã€‚
</p>

<p>
1.fileformatsé€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">:set <span style="color: #a0522d;">fileformats</span>=unix,dos &#21487;&#20197;&#25913;&#21464;&#25991;&#20214;&#30340;&#26684;&#24335; (change format)
:set <span style="color: #a0522d;">ff</span>=unix -&gt; &#35774;&#23450;&#25991;&#20214;&#25104;unix&#26684;&#24335; (<span style="color: #483d8b;">set</span> file<span style="color: #a020f0;"> in</span> unix format)
:set <span style="color: #a0522d;">ff</span>=dos -&gt; &#35774;&#23450;&#25991;&#20214;&#25104;dos&#26684;&#24335; (<span style="color: #483d8b;">set</span> file<span style="color: #a020f0;"> in</span> dos format)
:set ff? -&gt; &#26816;&#26597;&#24403;&#21069;&#25991;&#20214;&#26684;&#24335; (check the format of current file)
&#22914;&#26524;&#25913;&#21464;&#26684;&#24335;&#65292;&#30452;&#25509;:w&#23384;&#26723;&#23601;&#20250;&#23384;&#25104;&#26032;&#30340;&#26684;&#24335;&#20102;&#12290;

:set endofline &#22312;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Vim&#35748;&#20026;&#25991;&#20214;&#26159;&#30001;&#34892;&#32452;&#25104;&#30340;&#65292;&#24182;&#19988;&#25991;&#20214;&#26368;&#21518;&#19968;&#34892;&#26159;&#20197;&lt;EOL&gt;&#20026;&#32467;&#26463;&#31526;&#30340;&#12290;&#22914;&#26524;&#20320;&#24819;&#35774;&#32622;&#25991;&#20214;&#20197;&lt;EOL&gt;&#32467;&#26463;&#31526;&#32467;&#23614;
:set noendofline  &#19981;&#20197;&lt;EOL&gt;&#32467;&#26463;&#31526;&#26469;&#32467;&#23614;
</pre>
</div>

<p>
2.æ‰€ä»¥ï¼šæ¢è¡Œç¬¦é—®é¢˜\r \n
</p>

<div class="org-src-container">
<pre class="src src-sh">&#26041;&#27861;1&#65306;
:%s/^M//g &#28982;&#21518;,&#22238;&#36710;&#21363;&#21487;&#26367;&#25442;&#12290;&#27880;,&#20854;&#20013;&#8221;^M&#8221;&#30340;&#36755;&#20837;,&#20998;&#21035;&#26159;&#8220;Ctrl+v&#8221;&#12289;&#8220;Ctrl+M&#8221;&#38190;&#29983;&#25104;&#30340;

&#26041;&#27861;2:
:set <span style="color: #a0522d;">fileformat</span>=unix
:w

&#26041;&#27861;3:&#20351;&#29992;sed &#24037;&#20855;
sed &#8217;s/^M//&#8217; filename &gt; tmp_filename

&#26041;&#27861;4:
tr -d &#8216;\r&#8217;  &#26082;&#28982;window&#19979;&#30340;&#22238;&#36710;&#31526;&#22810;&#20102;&#8216;\r&#8217;&#65292;&#37027;&#20040;&#24403;&#28982;&#36890;&#36807;&#21024;&#38500;&#8216;\r&#8217; &#65292;&#20063;&#21487;&#20197;&#23454;&#29616;&#65306;

&#26041;&#27861;5:&#65288;&#26368;&#24120;&#29992;&#30340;&#26041;&#27861;&#65289; &#22312;&#32456;&#31471;&#19979;&#25970;&#21629;&#20196;&#65306;
dos2unix filename  &#30452;&#25509;&#36716;&#25442;&#25104;unix&#26684;&#24335;&#65292;&#23601;OK&#20102;
<span style="color: #b22222;">#</span><span style="color: #b22222;">unix2dos win.txt &#23558;Linux&#30340;&#25991;&#26412;&#26684;&#24335;&#36716;&#25442;&#25104;Windows&#30340;&#25991;&#26412;&#26684;&#24335;</span>
</pre>
</div>

<p>
3.æ˜¾ç¤ºæ¢è¡Œ
</p>

<p>
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›å…¥ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ä»¥â€œ$â€è¡¨ç¤ºçš„æ¢è¡Œç¬¦å’Œä»¥â€œ^Iâ€è¡¨ç¤ºçš„åˆ¶è¡¨ç¬¦ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">:set list  <span style="color: #b22222;"># </span><span style="color: #b22222;">vi&#19979;&#26174;&#31034;&#22238;&#36710;&#25442;&#34892;&#31526;&#31561;&#29305;&#27530;&#31526;&#21495;</span>
:set nolist <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20196;&#36864;&#20986;&lt;list mode&gt;&#65306;</span>
cat -E  filename
</pre>
</div>

<p>
4.åˆ é™¤æ¢è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">:%s/\n//g  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;&#25442;&#34892;&#31526;</span>
:%s/\r//g  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;DOS&#25991;&#20214;&#20013;&#30340;&#22238;&#36710;&#31526;&#8220;^M&#8221;</span>
:%s/\r/\r/g  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36716;&#25442;DOS&#22238;&#36710;&#31526;&#8220;^M&#8221;&#20026;&#30495;&#27491;&#30340;&#25442;&#34892;&#31526;</span>
</pre>
</div>

<p>
å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤è¡Œå°¾çš„ç©ºæ ¼ä»¥åŠDOSå›è½¦ç¬¦ã€‚å®ƒæ²¡æœ‰ä½¿ç”¨ <code>/</code> å­—ç¬¦ä½œä¸ºæ›¿æ¢
å‘½ä»¤å„ä¸ªå‚æ•°é—´çš„åˆ†éš”ç¬¦ï¼Œè€Œæ˜¯ä½¿ç”¨äº† <code>#</code> å­—ç¬¦ã€‚å‘½ä»¤è¿˜ä½¿ç”¨äº† <code>?</code> æ­£åˆ™è¡¨è¾¾
å¼ï¼Œç”¨æ¥åŒ¹é…å®ƒå‰é¢å‡ºç°çš„å­—ç¬¦0æ¬¡æˆ–1æ¬¡ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">:%s#\s*\r<span style="color: #8b2252;">\?</span>$<span style="color: #a0522d;">#</span>#

:%s/^\n<span style="color: #8b2252;">\{</span>3}// <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;&#19977;&#34892;&#31354;&#34892;</span>
:%s/\n\n/\r/g <span style="color: #b22222;"># </span><span style="color: #b22222;">&#23558;&#36830;&#32493;&#30340;&#20004;&#20010;&#31354;&#34892;&#26367;&#25442;&#25104;&#19968;&#20010;&#31354;&#34892;</span>
</pre>
</div>

<p>
5.è‡ªåŠ¨æ¢è¡Œ
</p>

<p>
åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒVimæ˜¯ä¸ä¼šè‡ªåŠ¨æ¢è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦è‡ªå·±å†³å®šå›è½¦çš„ä½ç½®ã€‚
ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®štextwidthé€‰é¡¹ï¼Œè®©Vimè‡ªåŠ¨åœ¨æŒ‡å®šä½ç½®æ¢è¡Œã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">:set <span style="color: #a0522d;">textwidth</span>=29 <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#23450;&#22312;30&#21015;&#26102;&#33258;&#21160;&#25442;&#34892;&#12290;&#30001;&#20110;&#22312;&#36935;&#21040;&#31354;&#26684;&#26102;&#25165;&#20250;&#33258;&#21160;&#25442;&#34892;&#65292;&#25152;&#20197;&#25442;&#34892;&#30340;&#31934;&#30830;&#20301;&#32622;&#21487;&#33021;&#20250;&#23567;&#20110;&#20320;&#25351;&#23450;&#30340;&#21015;&#23485;</span>
:set <span style="color: #a0522d;">wrapmargin</span>=10 <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20174;&#21491;&#38754;&#31639;&#36215;&#24403;&#36798;&#21040;10&#20010;&#23383;&#31526;&#30340;&#31354;&#26684;&#26102;&#35201;&#25442;&#34892;</span>
</pre>
</div>

<p>
åœ¨æŒ‡å®šäº†æ–‡æœ¬å®½åº¦çš„æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬å°†ä¸€è¡Œä¸­çš„å‰å‡ ä¸ªæ–‡å­—åˆ æ‰æ—¶ï¼ŒVimå¹¶ä¸ä¼š
å°†åé¢è¡Œä¸­çš„æ–‡æœ¬ç§»åŠ¨ä¸Šæ¥ï¼Œè€Œæ˜¯å½¢æˆäº†ä¸€äº›é•¿çŸ­ä¸ä¸€çš„æ®µè½ï¼Œè¿™æ ·çœ‹èµ·æ¥ä¸æ˜¯
å¾ˆå¥½ã€‚å¯ä»¥æœ‰å‡ ç§æ–¹æ³•å¤„ç†è¿™ä¸ªé—®é¢˜ï¼š
</p>

<p>
aæ–¹æ³•ï¼š åœ¨å¯è§†åŒ–æ¨¡å¼ä¸‹é€‰ä¸­è¿™äº›æ–‡æœ¬ï¼Œç”¨gpå‘½ä»¤æ¥æ ¼å¼åŒ–é€‰ä¸­çš„æ®µè½ã€‚
</p>

<p>
bæ–¹æ³•ï¼šä½¿ç”¨gqmotionå‘½ä»¤æ¥å®Œæˆæ ¼å¼ã€‚ä¾‹å¦‚å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œgq4jæ ¼å¼åŒ–å…‰æ ‡è‡³ä¸‹
é¢çš„4è¡Œï¼Œgq} æ ¼å¼åŒ–å…‰æ ‡ä¸‹æ•´ä¸ªæ®µè½ï¼Œgqipæ ¼å¼åŒ–å½“å‰æ®µè½ï¼Œgqgq æ ¼å¼åŒ–ä¸€è¡Œï¼Œ
ç®€è®°ä¸ºgqq
</p>

<p>
æ³¨æ„ï¼šé€‰é¡¹textwidthä¼˜å…ˆäºwrapmarginã€‚å¦‚æœè¦ä½¿wrapmarginé€‰é¡¹ç”Ÿæ•ˆï¼Œå¿…é¡»
å°†textwidthè®¾ç½®ä¸º0ï¼ˆè¿™ä¹Ÿæ˜¯é»˜è®¤å€¼ï¼‰ã€‚
</p>

<p>
6.åˆå¹¶è¡Œ
</p>

<p>
å‘½ä»¤Jä½¿ä¸¤è¡Œåˆå¹¶ä¸ºä¸€è¡Œï¼ŒåŒæ—¶ç”¨ç©ºæ ¼åˆ†éš”è¿™ä¸¤è¡Œã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">&#36890;&#36807;&#35774;&#32622;joinspace&#36873;&#39033;&#65292;&#21487;&#20197;&#25511;&#21046;&#21512;&#24182;&#20004;&#34892;&#26102;&#30340;&#20998;&#38548;&#31526;&#65288;&#22914;&#26524;&#19968;&#34892;&#26159;&#20197;&#26631;&#28857;&#31526;&#21495;&#26469;&#32467;&#23614;&#65289;&#12290;
:set nojoinspaces&#65292;&#29992;J&#21629;&#20196;&#21512;&#24182;&#20004;&#34892;&#26102;&#20250;&#29992;&#19968;&#20010;&#31354;&#26684;&#26469;&#20998;&#38548;&#65307;
:set joinspaces&#65292;&#29992;J&#21629;&#20196;&#21512;&#24182;&#20004;&#34892;&#26102;&#20250;&#29992;&#20004;&#20010;&#31354;&#26684;&#26469;&#20998;&#38548;&#12290;
gJ&#21629;&#20196; &#19981;&#24076;&#26395;&#29992;&#31354;&#26684;&#26469;&#20998;&#38548;&#21512;&#24182;&#30340;&#34892;
&#65311;&#65311;&#65311;:join&#21629;&#20196;&#65292;&#23558;&#20960;&#34892;&#21512;&#24182;&#20026;&#19968;&#34892;&#24182;&#20351;&#29992;&#31354;&#26684;&#26469;&#20998;&#38548;&#21508;&#34892;&#12290;&#22914;&#26524;&#19981;&#24076;&#26395;&#21152;&#20837;&#31354;&#26684;&#65292;&#37027;&#20040;&#21487;&#20197;&#20351;&#29992;:join!&#21629;&#20196;&#12290;
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-h:23f45ab2-cc24-4fe5-b9fc-287dd85fdd08" class="outline-5">
<h5 id="h:23f45ab2-cc24-4fe5-b9fc-287dd85fdd08">è‡ªåŠ¨å¤‡ä»½ (backup)</h5>
<div class="outline-text-5" id="text-h:23f45ab2-cc24-4fe5-b9fc-287dd85fdd08">
<p>
vimå¯ä»¥å¸®ä½ è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶ï¼ˆå‚¨å­˜çš„æ—¶å€™ï¼Œä¹‹å‰çš„æ–‡ä»¶å¤‡ä»½å‡ºæ¥ï¼‰
</p>

<div class="org-src-container">
<pre class="src src-sh">:set backup -&gt; &#24320;&#21551;&#22791;&#20221;&#65292;&#20869;&#24314;&#35774;&#23450;&#22791;&#20221;&#25991;&#20214;&#30340;&#21517;&#23383;&#26159; &#28304;&#25991;&#20214;&#21517;&#21152;&#19968;&#20010; &#8216;~&#8217; (<span style="color: #483d8b;">enable</span> backup default filename+~)
:set <span style="color: #a0522d;">backupext</span>=.bak -&gt; &#35774;&#23450;&#22791;&#20221;&#25991;&#20214;&#21517;&#20026;&#28304;&#25991;&#20214;&#21517;.bak (change backup as filename.bak)

&#33258;&#21160;&#22791;&#20221;&#26377;&#20010;&#38382;&#39064;&#23601;&#26159;&#65292;&#22914;&#26524;&#20320;&#22810;&#27425;&#20648;&#23384;&#19968;&#20010;&#25991;&#20214;&#65292;&#37027;&#20040;&#36825;&#20010;&#20320;&#30340;&#22791;&#20221;&#25991;&#20214;&#20250;&#34987;&#19981;&#26029;&#35206;&#30422;&#65292;&#20320;&#21482;&#33021;&#26377;&#26368;&#21518;&#19968;&#27425;&#23384;&#25991;&#20214;&#20043;&#21069;&#30340;&#37027;&#20010;&#22791;&#20221;&#12290;&#27809;&#20851;&#31995;&#65292;vim&#36824;&#25552; &#20379;&#20102;patchmode&#65292;&#36825;&#20010;&#20250;&#25226;&#20320;&#31532;&#19968;&#27425;&#30340;&#21407;&#22987;&#25991;&#20214;&#22791;&#20221;&#19979;&#26469;&#65292;&#19981;&#20250;&#25913;&#21160;
:set <span style="color: #a0522d;">patchmode</span>=.orig -&gt; &#20445;&#23384;&#21407;&#22987;&#25991;&#20214;&#20026; &#25991;&#20214;&#21517;.orig (keep orignal file as filename.orig)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:525f272b-531b-43e3-b22e-fd41d936d98c" class="outline-4">
<h4 id="h:525f272b-531b-43e3-b22e-fd41d936d98c">å‘½ä»¤æ¨¡å¼</h4>
<div class="outline-text-4" id="text-h:525f272b-531b-43e3-b22e-fd41d936d98c">
<p>
å‘½ä»¤æ¨¡å¼ï¼Œåˆç§°ä¸ºNormalæ¨¡å¼ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œåªæ˜¯æ­¤æ¨¡å¼è¾“å…¥æŒ‡ä»¤å¹¶åœ¨å±å¹•ä¸Šæ˜¾ç¤ºï¼Œ
æ‰€ä»¥éœ€è¦è®°å¿†å¤§é‡çš„å¿«æ·æŒ‰é”®æ‰èƒ½æ›´å¥½çš„ä½¿ç”¨
</p>


<figure id="orgcc04062">
<img src="images/image-20210215234032329.png" alt="image-20210215234032329.png" width="60%">

</figure>
</div>
<div id="outline-container-h:070657d3-ca6c-40bb-928a-94e4f63903e3" class="outline-5">
<h5 id="h:070657d3-ca6c-40bb-928a-94e4f63903e3">é€€å‡ºVIM</h5>
<div class="outline-text-5" id="text-h:070657d3-ca6c-40bb-928a-94e4f63903e3">
<p>
ZZ ä¿å­˜é€€å‡º
</p>

<p>
ZQ ä¸ä¿å­˜é€€å‡º
</p>
</div>
</div>
<div id="outline-container-h:98d02ac1-7c8f-49e3-9e16-53aab58615e1" class="outline-5">
<h5 id="h:98d02ac1-7c8f-49e3-9e16-53aab58615e1">å…‰æ ‡è·³è½¬</h5>
<div class="outline-text-5" id="text-h:98d02ac1-7c8f-49e3-9e16-53aab58615e1">
<p>
<b>å­—ç¬¦é—´è·³è½¬ï¼š</b>
</p>


<p>
å¸¸ç”¨æ“ä½œï¼š
</p>


<figure id="org59a4e71">
<img src="images/image-20210615153457126.png" alt="image-20210615153457126.png" width="30%">

<figcaption><span class="figure-number">Figure 3: </span>å…‰æ ‡ç§»åŠ¨</figcaption>
</figure>

<div class="org-src-container">
<pre class="src src-sh">h: &#24038; L: &#21491; j: &#19979; k: &#19978;
<span style="color: #b22222;">#</span><span style="color: #b22222;">COMMAND&#65306;&#36339;&#36716;&#30001;#&#25351;&#23450;&#30340;&#20010;&#25968;&#30340;&#23383;&#31526;&#12290;# &#21495;&#20195;&#34920;&#20320;&#25152;&#36755;&#20837;&#30340;&#20010;&#25968;&#65292;&#22914;&#65292;3h &#20809;&#26631;&#21521;&#24038;&#31227;&#21160; 3 &#20301;&#12289;3j &#20809;&#26631;&#21521;&#19979;&#31227;&#21160; 3 &#20301; &#12289;3k&#12289;3l&#65307;</span>
</pre>
</div>

<p>
å…¶å®ƒæ“ä½œï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">f[x] : &#31227;&#21160;&#20809;&#26631;&#33267;&#24403;&#21069;&#34892;&#19979;&#19968;&#20010;&#20986;&#29616;&#23383;&#31526;x&#30340;&#20301;&#32622;&#65292;&#22823;&#20889;&#24847;&#24605;&#30456;&#21453;&#12290;     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25512;&#33616;&#20351;&#29992; &#32467;&#21512;&#25991;&#26412;&#25805;&#20316;&#65292;&#23436;&#25104;&#22797;&#26434;&#30340;&#25805;&#20316;&#65292;df[char] &#22914;dfa dFa cfa</span>
;  : &#20998;&#21495;&#65292;&#21521;&#21518;&#37325;&#22797;&#19978;&#19968;&#27425;&#30340;f&#21629;&#20196;                            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25512;&#33616;&#20351;&#29992;</span>
,  : &#36887;&#21495;&#65292;&#21521;&#21069;&#37325;&#22797;&#19978;&#19968;&#27425;&#30340;f&#21629;&#20196;                            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25512;&#33616;&#20351;&#29992;</span>
t[x] : &#31227;&#21160;&#20809;&#26631;&#33267;&#24403;&#21069;&#34892;&#19979;&#19968;&#20010;&#20986;&#29616;&#23383;&#31526;x&#30340;&#20301;&#32622;&#21069;&#38754;&#19968;&#20010;&#23383;&#31526;&#12290;&#22823;&#20889;&#24847;&#24605;&#30456;&#21453;&#12290;
<span style="color: #ff00ff;">`  :  &#21453;&#24341;&#21495;&#65292;&#36339;&#33267;&#26368;&#21518;&#20462;&#25913;&#30340;&#34892;</span>
</pre>
</div>

<p>
å‚è€ƒï¼š<a href="https://www.bilibili.com/video/BV18F411w7CK/?spm_id_from=pageDriver&amp;vd_source=70e4e839cabca1314b02190e14da328a">https://www.bilibili.com/video/BV18F411w7CK/?spm_id_from=pageDriver&amp;vd_source=70e4e839cabca1314b02190e14da328a</a>
</p>

<p>
<b>å•è¯é—´è·³è½¬ï¼š</b>
</p>


<figure id="orgd649c58">
<img src="images/image-20210215234047236.png" alt="image-20210215234047236.png" width="60%">

</figure>

<p>
å¸¸ç”¨æ“ä½œï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">w/W : &#27491;&#21521;&#31227;&#21040;&#21040;&#19979;&#19968;&#20010;&#21333;&#35789;word/WORD&#30340;&#35789;&#39318;
b/B : &#21453;&#21521;&#31227;&#21160;&#21040;&#24403;&#21069;&#21333;&#35789;&#25110;&#19978;&#19968;&#20010;&#21333;&#35789;word/WORD&#30340;&#35789;&#39318;
e/E : &#27491;&#21521;&#31227;&#21160;&#21040;&#24403;&#21069;&#21333;&#35789;&#25110;&#19979;&#19968;&#20010;&#21333;&#35789;word/WORD&#30340;&#35789;&#23614;
<span style="color: #b22222;">#</span><span style="color: #b22222;">CMMAND : &#36339;&#36716;&#25351;&#23450;&#20010;&#25968;&#30340;&#23383;&#31526;&#65307;&#65292;#w&#12289;#e&#12289;#b&#65307;</span>
&#27880;&#24847;&#65306;&#23567;&#20889;&#30340;w b e &#25351;&#20197;&#38750;&#31354;&#30333;&#31526;&#20998;&#21106;&#30340;&#21333;&#35789;&#65292;&#22823;&#20889;&#30340;W E B &#25351;&#20197;&#31354;&#30333;&#31526;&#20998;&#21106;&#30340;&#21333;&#35789;
</pre>
</div>

<p>
å…¶å®ƒæ“ä½œï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">ge : &#21453;&#21521;&#31227;&#21160;&#21040;&#19978;&#19968;&#20010;&#21333;&#35789;&#30340;&#32467;&#23614;
% : &#22914;&#26524;&#20809;&#26631;&#24403;&#21069;&#20301;&#32622;&#26159;&#25324;&#21495;(&#12289;)&#12289;[&#12289;]&#12289;{&#12289;}&#65292;&#25353; % &#20250;&#23558;&#20809;&#26631;&#31227;&#21160;&#21040;&#37197;&#23545;&#30340;&#25324;&#21495;&#19978;&#12290; vim-matchit &#25554;&#20214;&#21487;&#20197;&#22312;&#20989;&#25968;&#12289;&#25324;&#21495;&#20043;&#38388;&#36339;&#36716;
* : &#26631;&#35760;&#24403;&#21069;&#20809;&#26631;&#21333;&#35789;&#65292;&#36339;&#33267;&#19979;&#19968;&#20010;&#20986;&#29616;&#35813;&#21333;&#35789;&#30340;&#22320;&#26041;&#12290;&#20851;&#38381;&#39640;&#20142;&#29992; :set nohls
g*&#26597;&#25214;&#21253;&#21547;&#24403;&#21069;&#21333;&#35789;&#23383;&#31526;&#20018;&#30340;&#25152;&#26377;&#21333;&#35789;(*&#21482;&#26597;&#25214;&#19982;&#24403;&#21069;&#21333;&#35789;&#31934;&#30830;&#21305;&#37197;&#30340;&#21333;&#35789;)&#65292;
<span style="color: #b22222;"># </span><span style="color: #b22222;">: &#19982;*&#31867;&#20284;&#65292;&#20294;&#26159;&#20174;&#19979;&#24448;&#19978;&#25628;&#32034;</span>
</pre>
</div>

<p>
<b>å½“å‰é¡µè·³è½¬ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">H&#65306;&#39029;&#39318; M&#65306;&#39029;&#20013;&#38388;&#34892; L&#65306;&#39029;&#24213;    <span style="color: #b22222;"># </span><span style="color: #b22222;">Head  Middle  Lower</span>
zt&#65306;&#23558;&#20809;&#26631;&#25152;&#22312;&#24403;&#21069;&#34892;&#31227;&#21040;&#23631;&#24149;&#39030;&#31471;
zz&#65306;&#23558;&#20809;&#26631;&#25152;&#22312;&#24403;&#21069;&#34892;&#31227;&#21040;&#23631;&#24149;&#20013;&#38388;
zb&#65306;&#23558;&#20809;&#26631;&#25152;&#22312;&#24403;&#21069;&#34892;&#31227;&#21040;&#23631;&#24149;&#24213;&#31471;
</pre>
</div>

<p>
<b>è¡Œé¦–è¡Œå°¾è·³è½¬ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">^ : &#36339;&#36716;&#33267;&#34892;&#39318;&#31532;&#19968;&#20010;&#38750;&#31354;&#30333;&#23383;&#31526;&#65307;
0 : &#25968;&#23383;0&#36339;&#36716;&#33267;&#32477;&#23545;&#34892;&#39318;&#65307;
$ : &#36339;&#36716;&#33267;&#32477;&#23545;&#34892;&#23614;
g_: &#31227;&#21160;&#21040;&#34892;&#23614;&#38750;&#31354;&#30333;&#23383;&#31526;
</pre>
</div>

<p>
<b>è¡Œé—´ç§»åŠ¨ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">G &#25110;&#32773;&#25193;&#23637;&#21629;&#20196;&#27169;&#24335;&#19979; :# &#36339;&#36716;&#33267;&#30001;&#31532;#&#34892;</span>
G &#26368;&#21518;&#19968;&#34892;
1G, gg &#31532;&#19968;&#34892;
4gg, :4  &#31532;4&#34892;

&#36755;&#20837; CTRL-G &#26174;&#31034;&#24403;&#21069;&#32534;&#36753;&#25991;&#20214;&#20013;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#20301;&#32622;&#20197;&#21450;&#25991;&#20214;&#29366;&#24577;&#20449;&#24687;
</pre>
</div>

<p>
<b>é…å¯¹æ‹¬å·çš„æŸ¥æ‰¾</b>
</p>

<pre class="example" id="org64270b8">
å…‰æ ‡æ”¾åœ¨å½“å‰æ ‡è®°ä¸‹(ã€)ã€[ã€]ã€{ã€}ï¼ŒæŒ‰ % æŸ¥æ‰¾é…å¯¹çš„æ ‡è®°ï¼Œå†æŒ‰å¯è·³å›é…å¯¹æ ‡è®°
</pre>

<p>
<b>è·³è½¬åˆ°æ–‡ä»¶å’Œå˜é‡å£°æ˜</b>
</p>

<pre class="example" id="org1d58087">
# :help editing.txt
gfï¼š æ‰“å¼€å½“å‰å…‰æ ‡ä¸‹çš„æ–‡ä»¶

# :help tagsrch.txt
CTRL-]ï¼šè·³åˆ°ç±»å‹å®šä¹‰
CTRL-tï¼šè·³å›

# :help pattern.txt
gd       # è·³è½¬åˆ°å‡½æ•°å£°æ˜ go to declaration

# help motion.txt
ctrl + o # å›åˆ°åŸæ¥ä½ç½®
CTRL-I åˆ™å¸¦æ‚¨åˆ°è¾ƒæ–°çš„ä½ç½®ã€‚å¯è·³åˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶æœç´¢çš„æ–°æœç´¢ä½ç½®ï¼Œå¯å¤šæ¬¡æ“ä½œ
</pre>

<p>
<b>å¥é—´ç§»åŠ¨ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">) : &#20809;&#26631;&#31227;&#33267;&#21477;&#23614;
( : &#20809;&#26631;&#31227;&#33267;&#21477;&#39318;
</pre>
</div>

<p>
<b>æ®µè½é—´ç§»åŠ¨ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">} &#19979;&#19968;&#27573; { &#19978;&#19968;&#27573;
</pre>
</div>

<p>
<b>å‘½ä»¤æ¨¡å¼ç¿»å±æ“ä½œ</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">Ctrl+f : &#21521;&#25991;&#20214;&#23614;&#37096;&#32763;&#19968;&#23631;
Ctrl+b : &#21521;&#25991;&#20214;&#39318;&#37096;&#32763;&#19968;&#23631;
Ctrl+d : &#21521;&#25991;&#20214;&#23614;&#37096;&#32763;&#21322;&#23631;
Ctrl+u : &#21521;&#25991;&#20214;&#39318;&#37096;&#32763;&#21322;&#23631;
ctrl+e : &#21521;&#19979;&#19968;&#34892;
ctrl+y : &#21521;&#19978;&#19968;&#34892;
Enter : &#25353;&#34892;&#21521;&#21518;

:set <span style="color: #a0522d;">scrolloff</span>=5 &#32763;&#39029;&#26159;&#30041;&#31354;5&#34892;&#65292;&#26041;&#20415;&#35270;&#37326;&#26597;&#30475;&#12290;&#40664;&#35748;0
</pre>
</div>

<p>
<b>ä¹¦ç­¾</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">m&lt;name&gt;: &#20026;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#20301;&#32622;&#21046;&#20316;&#19968;&#20010;&#21517;&#23383;&#20026;a&#30340;&#20070;&#31614;&#65292;ma,mb,mc...
<span style="color: #ff00ff;">`&lt;name&gt;: &#36339;&#33267;&#20070;&#31614;a&#65292; `</span>a,<span style="color: #ff00ff;">`b,`</span>c.....
<span style="color: #8b2252;">'&lt;name&gt;&#65306;&#36339;&#36716;&#21040;&#20070;&#31614;&#34892;&#30340;&#24320;&#22836;</span>
<span style="color: #8b2252;">:marks &#26597;&#30475;&#24403;&#21069;&#25991;&#20214;&#30340;&#20070;&#31614;&#65292;&#36755;&#20837; &#8220;:&lt;num&gt;&#8221; &#21487;&#36339;&#36716;.</span>

<span style="color: #8b2252;"># &#27880;&#24847;&#36864;&#20986;&#25991;&#20214;&#21518;&#21487;&#20197;&#20351;&#29992;&#65292;&#20165;&#38480;&#36825;&#20010;&#25991;&#20214;&#37197;&#32622;&#36807;&#20070;&#31614;&#12290;&#24819;&#35201;&#22312;&#19981;&#21516;&#25991;&#20214;&#20869;&#23454;&#29616;&#20070;&#31614;&#36339;&#36716;&#65292;&#38656;&#35201;&#25226;&#20070;&#31614;&#21517;&#22823;&#20889;</span>

<span style="color: #8b2252;">:delm{marks} &lt;name&gt; &#65306;&#21024;&#38500;&#22810;&#20010;&#20070;&#31614;&#29992;&#31354;&#26684;&#20998;&#24320;</span>
<span style="color: #8b2252;">:delm! -&gt; &#21024;&#38500;&#20840;&#37096;&#20070;&#31614; (delete all marks)</span>
</pre>
</div>


<figure id="orgb8e5ca6">
<img src="images/image-20210215234108385.png" alt="image-20210215234108385.png" width="60%">

<figcaption><span class="figure-number">Figure 4: </span>image-20210215234108385</figcaption>
</figure>
</div>
</div>
<div id="outline-container-h:bbc60430-cc39-4461-ac9f-17508f1083c2" class="outline-5">
<h5 id="h:bbc60430-cc39-4461-ac9f-17508f1083c2">åˆ é™¤ï¼šxå­—ç¬¦ç¼–è¾‘</h5>
<div class="outline-text-5" id="text-h:bbc60430-cc39-4461-ac9f-17508f1083c2">
<div class="org-src-container">
<pre class="src src-sh">x &#21024;&#38500;&#20809;&#26631;&#22788;&#30340;&#23383;&#31526;
<span style="color: #b22222;">#</span><span style="color: #b22222;">x &#21024;&#38500;&#20809;&#26631;&#22788;&#36215;&#22987;&#30340;#&#20010;&#23383;&#31526;</span>
xp &#20132;&#25442;&#20809;&#26631;&#25152;&#22312;&#22788;&#30340;&#23383;&#31526;&#21450;&#20854;&#21518;&#38754;&#23383;&#31526;&#30340;&#20301;&#32622;
&#22823;X : &#21024;&#38500;&#21069;&#19968;&#20010;&#23383;&#31526;
~ &#36716;&#25442;&#22823;&#23567;&#20889;
J &#21024;&#38500;&#24403;&#21069;&#34892;&#21518;&#30340;&#25442;&#34892;&#31526;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c0ba8fb0-b04f-4578-843c-dddad7a4d453" class="outline-5">
<h5 id="h:c0ba8fb0-b04f-4578-843c-dddad7a4d453">åˆ é™¤ï¼šdåˆ é™¤å‘½ä»¤ï¼ˆdeleteï¼‰</h5>
<div class="outline-text-5" id="text-h:c0ba8fb0-b04f-4578-843c-dddad7a4d453">
<div class="org-src-container">
<pre class="src src-sh">d : &#21024;&#38500;&#21629;&#20196;&#65292;&#21487;&#32467;&#21512;&#20809;&#26631;&#36339;&#36716;&#23383;&#31526;&#65292;&#23454;&#29616;&#33539;&#22260;&#21024;&#38500;
d^ : &#21024;&#38500;&#21040;&#34892;&#39318;
d$ : &#21024;&#38500;&#21040;&#34892;&#23614;
dw : &#21024;&#38500;&#21040;&#19979;#&#20010;&#21333;&#35789;&#35789;&#39318;
de : &#21024;&#38500;&#21040;&#24403;&#21069;&#25110;&#21518;&#19968;&#20010;&#21333;&#35789;&#30340;&#35789;&#23614;
db : &#21024;&#38500;&#21040;&#24403;&#21069;&#25110;&#21069;&#19968;&#20010;&#21333;&#35789;&#30340;&#35789;&#39318;&#65307;
<span style="color: #b22222;">#</span><span style="color: #b22222;">dCOMMAND : # &#21495;&#34920;&#31034;&#20010;&#25968;</span>
dd : &#21024;&#38500;&#20809;&#26631;&#25152;&#22312;&#22788;&#30340;&#34892;&#65307;
<span style="color: #b22222;">#</span><span style="color: #b22222;">dd : &#21024;&#38500;&#20809;&#26631;&#25152;&#22312;&#30340;&#34892;&#36215;&#22987;&#30340;&#20849;#&#34892;&#65307;&#65371;</span>
D : &#21024;&#38500;&#33267;&#26412;&#34892;&#26411;&#23614;&#65292;&#31561;&#21516;&#20110;d$
</pre>
</div>

<p>
æ³¨æ„ :
åˆ é™¤å†…å®¹ä¸ä¼šè¢«ç›´æ¥æ¸…ç©ºï¼Œæ”¾ç½®ç¼“å­˜åŒºåŸŸï¼Œä½†åªèƒ½æ¥ç€æ“ä½œä¸”æ“ä½œæœ€è¿‘ä¸€æ¬¡ç¼“å­˜
</p>

<p>
é«˜çº§ç”¨æ³•
</p>

<div class="org-src-container">
<pre class="src src-sh">dt) : &#20174;&#24403;&#21069;&#20809;&#26631;&#22788;&#19968;&#30452;&#21024;&#38500;&#21040;&#36825;&#34892;&#30340;&#65289;&#21069;&#12290;
dfa: &#21024;&#38500;&#24403;&#21069;&#20809;&#26631;&#21040;a&#30340;&#23383;&#31526;&#20018;&#12290;dFa &#21453;&#30456;&#21024;&#38500;
d/word: &#20174;&#20809;&#26631;&#22788;&#21024;&#38500;&#33267;&#31532;1&#20010;word&#22788;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:01f41851-74c8-4d86-8114-548f30b325d9" class="outline-5">
<h5 id="h:01f41851-74c8-4d86-8114-548f30b325d9">ä¿®æ”¹ï¼šræ›¿æ¢å‘½ä»¤(replace)</h5>
<div class="outline-text-5" id="text-h:01f41851-74c8-4d86-8114-548f30b325d9">
<div class="org-src-container">
<pre class="src src-sh">r &#21482;&#26367;&#25442;&#20809;&#26631;&#25152;&#22312;&#22788;&#30340;&#19968;&#20010;&#23383;&#31526;
R &#20999;&#25442;&#25104;REPLACE&#27169;&#24335;&#65288;&#22312;&#26411;&#34892;&#20986;&#29616;-- REPLACE -- &#25552;&#31034;&#65289;&#19981;&#26029;&#26367;&#25442;&#21518;&#38754;&#30340;&#23383;&#31526;,&#25353;ESC&#22238;&#21040;&#21629;&#20196;&#27169;&#24335;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a1936b5b-00dd-47ea-b46b-87638ea7d0b4" class="outline-5">
<h5 id="h:a1936b5b-00dd-47ea-b46b-87638ea7d0b4">ä¿®æ”¹ï¼šsæ›¿æ¢å¤šä¸ªå­—ç¬¦(substitute)</h5>
<div class="outline-text-5" id="text-h:a1936b5b-00dd-47ea-b46b-87638ea7d0b4">
<div class="org-src-container">
<pre class="src src-sh">s : &#21024;&#38500;&#24403;&#21069;&#23383;&#31526;&#65292;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;
<span style="color: #b22222;">#</span><span style="color: #b22222;">s : &#21024;&#38500;&#24403;&#21069;&#21040;&#21518;&#38754;#&#20010;&#23383;&#31526;&#65292;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;</span>
S : &#21024;&#38500;&#25972;&#34892;&#65292;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:dc3016ec-eb72-4319-861b-309e946695da" class="outline-5">
<h5 id="h:dc3016ec-eb72-4319-861b-309e946695da">ä¿®æ”¹ï¼šcæ”¹å˜å‘½ä»¤(change)</h5>
<div class="outline-text-5" id="text-h:dc3016ec-eb72-4319-861b-309e946695da">
<div class="org-src-container">
<pre class="src src-sh">c: &#21024;&#38500;&#21518;&#20999;&#25442;&#25104;&#25554;&#20837;&#27169;&#24335;
c^ : &#21024;&#38500;&#24403;&#21069;&#20809;&#26631;&#33267; &#34892;&#39318;&#65292;&#24182;&#25442;&#20026;&#36755;&#20837;&#27169;&#24335;
c0 : &#21024;&#38500;&#24403;&#21069;&#20809;&#26631;&#33267; &#34892;&#39318;&#65292;&#24182;&#25442;&#20026;&#36755;&#20837;&#27169;&#24335;
c$ : &#21024;&#38500;&#24403;&#21069;&#20809;&#26631;&#33267; &#34892;&#23614;&#65292;&#24182;&#25442;&#20026;&#36755;&#20837;&#27169;&#24335;
cw : &#21024;&#38500;&#24403;&#21069;&#20809;&#26631;&#33267; &#19979;#&#20010;&#21333;&#35789;&#35789;&#39318;&#65292;&#24182;&#25442;&#20026;&#36755;&#20837;&#27169;&#24335;
ce : &#21024;&#38500;&#21040;&#24403;&#21069;&#25110;&#21518;&#19968;&#20010;&#21333;&#35789;&#30340;&#35789;&#23614;&#65292;&#24182;&#25442;&#20026;&#36755;&#20837;&#27169;&#24335;
cb : &#21024;&#38500;&#21040;&#24403;&#21069;&#25110;&#21069;&#19968;&#20010;&#21333;&#35789;&#30340;&#35789;&#39318;&#65307;&#65292;&#24182;&#25442;&#20026;&#36755;&#20837;&#27169;&#24335;
<span style="color: #b22222;">#</span><span style="color: #b22222;">COMMAND  : # &#21495;&#34920;&#31034;&#20010;&#25968; ,COMMAND &#34920;&#31034; c^&#12289;c0&#31561;</span>
C&#65306;&#21024;&#38500;&#24403;&#21069;&#20809;&#26631;&#21040;&#34892;&#23614;&#65292;&#24182;&#20999;&#25442;&#25104;&#25554;&#20837;&#27169;&#24335;,&#30456;&#24403;&#20110;c$
c<span style="color: #8b2252;">""</span>: &#21024;&#38500;&#21452;&#24341;&#21495;&#20043;&#21069;&#30340;&#20869;&#23481;
</pre>
</div>

<p>
é«˜çº§ç”¨æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">c/word&#65306;&#20174;&#20809;&#26631;&#22788;&#20462;&#25913;&#33267;&#31532;1&#20010;word&#22788;&#65292;&#24182;&#36827;&#20837;&#32534;&#36753;&#27169;&#24335;
cc : &#21024;&#38500;&#20809;&#26631;&#25152;&#22312;&#30340;&#34892;&#65292;&#24182;&#36716;&#25442;&#20026;&#32534;&#36753;&#27169;&#24335;&#65292;&#33258;&#21160;&#36827;&#32553;&#36827; &#25512;&#33616;
<span style="color: #b22222;">#</span><span style="color: #b22222;">cc : &#21024;&#38500;&#20809;&#26631;&#25152;&#22312;&#30340;#&#34892;&#65292;&#24182;&#36716;&#25442;&#20026;&#32534;&#36753;&#27169;&#24335;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ee4eecb9-1420-44ac-80a2-39a64ca3e557" class="outline-5">
<h5 id="h:ee4eecb9-1420-44ac-80a2-39a64ca3e557">æŸ¥æ‰¾</h5>
<div class="outline-text-5" id="text-h:ee4eecb9-1420-44ac-80a2-39a64ca3e557">
<div class="org-src-container">
<pre class="src src-sh">/&#25110;&#32773;?PATTERN&#65306;&#20174;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#22788;&#21521;&#25991;&#20214;&#23614;&#37096;&#25110;&#32773;&#21069;&#37096;&#26597;&#25214;
n&#25110;&#32773;N&#65306;&#36339;&#36716;&#21040;&#19979;&#19968;&#20010;&#25110;&#19978;&#19968;&#20010;&#21305;&#37197;
*&#25110;&#32773;# : &#36827;&#34892;&#24403;&#21069;&#21333;&#35789;&#30340;&#21069;&#21521;&#21644;&#21518;&#21521;&#21305;&#37197;
CTRL-O &#24102;&#24744;&#36339;&#36716;&#22238;&#36739;&#26087;&#30340;&#20301;&#32622;&#12290;&#21487;&#36339;&#21040;&#19978;&#19968;&#20010;&#25991;&#20214;&#25628;&#32034;&#30340;&#26087;&#25628;&#32034;&#20301;&#32622;&#65292;&#21487;&#22810;&#27425;&#25805;&#20316;
CTRL-I &#21017;&#24102;&#24744;&#21040;&#36739;&#26032;&#30340;&#20301;&#32622;&#12290;&#21487;&#36339;&#21040;&#19979;&#19968;&#20010;&#25991;&#20214;&#25628;&#32034;&#30340;&#26032;&#25628;&#32034;&#20301;&#32622;&#65292;&#21487;&#22810;&#27425;&#25805;&#20316;

Ignore Case&#65292;&#24573;&#30053;&#22823;&#23567;&#20889; <span style="color: #ff00ff;">`:set ic`</span>
&#22914;&#26524;&#24744;&#24819;&#35201;&#20165;&#22312;&#19968;&#27425;&#26597;&#25214;&#26102;&#24573;&#30053;&#23383;&#27597;&#22823;&#23567;&#20889;&#65292;&#24744;&#21487;&#20197;&#20351;&#29992; \c
&#25805;&#20316;&#65306;&#25193;&#23637;&#21629;&#20196;&#34892;&#27169;&#24335;&#65292;&#36755;&#20837;&#21629;&#20196;&#8220;/string\c &#8221;&#65292;&#23558;&#20250;&#26597;&#25214;string&#23383;&#31526;&#20018;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a0d3ca03-72e6-423e-a2e4-a317bcfdfbd5" class="outline-5">
<h5 id="h:a0d3ca03-72e6-423e-a2e4-a317bcfdfbd5">å¤åˆ¶å‘½ä»¤(yank)</h5>
<div class="outline-text-5" id="text-h:a0d3ca03-72e6-423e-a2e4-a317bcfdfbd5">
<p>
cå·²ç»è¢«å ç”¨äº†ï¼Œæ‰€ä»¥å¤åˆ¶äº†äº†y(yank)
</p>

<div class="org-src-container">
<pre class="src src-sh">y : &#22797;&#21046;&#65292;&#24037;&#20316;&#34892;&#20026;&#30456;&#20284;&#20110;d&#21629;&#20196;&#65307;
y$ : &#22797;&#21046;&#21040;&#34892;&#26411;
y^ : &#22797;&#21046;&#21040;&#34892;&#39318;
y0 : &#22797;&#21046;&#21040;&#34892;&#39318;
yw : &#22797;&#21046;&#21040;&#19979;#&#20010;&#21333;&#35789;&#35789;&#39318;
ye : &#22797;&#21046;&#21040;&#24403;&#21069;&#25110;&#21518;&#19968;&#20010;&#21333;&#35789;&#30340;&#35789;&#23614;
yb : &#22797;&#21046;&#21040;&#24403;&#21069;&#25110;&#21069;&#19968;&#20010;&#21333;&#35789;&#30340;&#35789;&#39318;&#65307;
<span style="color: #b22222;">#</span><span style="color: #b22222;">COMMAND : # &#21495;&#34920;&#31034;&#20010;&#25968;</span>
yy : &#22797;&#21046;&#19968;&#34892;
<span style="color: #b22222;">#</span><span style="color: #b22222;">yy : &#22797;&#21046;#&#34892;</span>
Y&#65306;&#22797;&#21046;&#25972;&#34892;

&#21487;&#32467;&#21512; p &#31896;&#36148;&#20351;&#29992;&#65292;&#22914; y$ --&gt; p &#65292;yy --&gt; p
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a0e749ec-e0b8-4f63-8742-9b780d3ff574" class="outline-5">
<h5 id="h:a0e749ec-e0b8-4f63-8742-9b780d3ff574">ç²˜è´´å‘½ä»¤(paste)</h5>
<div class="outline-text-5" id="text-h:a0e749ec-e0b8-4f63-8742-9b780d3ff574">
<div class="org-src-container">
<pre class="src src-sh">&#23567;p : &#32531;&#20914;&#21306;&#20013;&#30340;&#20869;&#23481;&#22914;&#26524;&#20026;&#25972;&#34892;&#65292;&#21017;&#31896;&#36148;&#22312;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#30340;&#19979;&#26041;&#65307;&#21542;&#21017;&#65292;&#21017;&#31896;&#36148;&#33267;&#20809;&#26631;&#25152;&#22312;&#30340;&#21518;&#26041;
&#22823;P : &#32531;&#20914;&#21306;&#20013;&#30340;&#20869;&#23481;&#22914;&#26524;&#20026;&#25972;&#34892;&#65292;&#21017;&#31896;&#36148;&#22312;&#24403;&#21069;&#20809;&#26631;&#25152;&#22312;&#34892;&#30340;&#19978;&#26041;&#65307;&#21542;&#21017;&#65292;&#21017;&#31896;&#36148;&#33267;&#20809;&#26631;&#25152;&#22312;&#30340;&#21069;&#26041;
]&#23567;p : &#23558;&#21098;&#20999;&#26495;&#20013;&#30340;&#25991;&#26412;&#25918;&#20837;&#21512;&#36866;&#30340;&#32553;&#36827;&#22788;

&#21487;&#20197;&#19982;d&#37197;&#21512;&#36798;&#21040;&#21098;&#36148;&#12290;

insert&#27169;&#24335;&#19979;&#31896;&#36148;&#65306;ctlr+v&#25110;&#32773;cmd+v &#12290;&#27880;&#24847; &#31896;&#36148;&#20869;&#23481;autoindent&#33258;&#21160;&#32553;&#36827;&#38382;&#39064;&#65292;&#20351;&#29992;:set paste &#21644; :set nopaste&#35299;&#20915;&#65292;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:49844d5c-2211-4a9b-a15c-6811e6b5654f" class="outline-5">
<h5 id="h:49844d5c-2211-4a9b-a15c-6811e6b5654f">æ’¤æ¶ˆæ›´æ”¹</h5>
<div class="outline-text-5" id="text-h:49844d5c-2211-4a9b-a15c-6811e6b5654f">
<div class="org-src-container">
<pre class="src src-sh">u &#25764;&#38144;&#26368;&#36817;&#30340;&#26356;&#25913;&#65292;&#30456;&#24403;&#20110;windows&#20013;ctrl+z
<span style="color: #b22222;">#</span><span style="color: #b22222;">u &#25764;&#38144;&#20043;&#21069;&#22810;&#27425;&#26356;&#25913;</span>
&#22823;U &#25764;&#28040;&#20809;&#26631;&#33853;&#22312;&#36825;&#34892;&#21518;&#25152;&#26377;&#27492;&#34892;&#30340;&#26356;&#25913;

Ctrl - r &#37325;&#20570;&#26368;&#21518;&#30340;&#8220;&#25764;&#28040;&#8221;&#26356;&#25913;&#65292;&#30456;&#24403;&#20110;windows&#20013;crtl+y
<span style="color: #483d8b;">.</span> &#37325;&#22797;&#21069;&#19968;&#20010;&#25805;&#20316; dot command
<span style="color: #b22222;">#</span><span style="color: #b22222;">. &#37325;&#22797;&#21069;&#19968;&#20010;&#25805;&#20316;#&#27425;</span>

:e! &#25991;&#26723;&#36824;&#21407;&#21040;&#26368;&#21407;&#22987;&#29366;&#24577;
</pre>
</div>

<p>
~/.vimrc
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> undofile <span style="color: #8b2252;">" &#25152;&#26377;&#30340;&#25805;&#20316;&#20250;&#35760;&#24405;&#22312;unofile&#20013;&#65292;&#26041;&#20415;&#20351;&#29992; u &#21644; ctrl + r &#12290;&#20250;&#22312;&#24403;&#21069;&#30446;&#24405;&#21019;&#24314;&#19968;&#20010;`.&#21516;&#21517;&#25991;&#20214;.un~`&#25991;&#20214;</span>
<span style="color: #8b2252;">set undodir=~/.vim/undodir "</span> &#23384;&#20648;undofile&#30340;&#30446;&#24405;&#65292;&#19981;&#20250;&#27745;&#26579;&#39033;&#30446;&#30446;&#24405;&#19979;&#25991;&#20214;&#12290;&#25552;&#21069;&#21019;&#24314;&#22909;&#30446;&#24405;
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">history</span>=500 <span style="color: #8b2252;">" &#35760;&#24405;&#26368;&#36817;&#25351;&#23450;&#27425;&#25968;&#30340;&#25805;&#20316;&#65292;&#22312;&#36864;&#20986;vim&#21518;&#20877;&#36827;&#26469;&#20173;&#21487;&#20197; u &#25764;&#28040;&#20043;&#21069;&#30340;&#25805;&#20316;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:84df33f2-7d3b-4b9d-841f-1b4de7c7d546" class="outline-5">
<h5 id="h:84df33f2-7d3b-4b9d-841f-1b4de7c7d546">å…¶å®ƒçš„æ“ä½œ:</h5>
<div class="outline-text-5" id="text-h:84df33f2-7d3b-4b9d-841f-1b4de7c7d546">
<p>
<b>å­—æ¯å¤§å°å†™è½¬æ¢ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">~     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36716;&#25442;&#22823;&#23567;&#20889;</span>
g~iw  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25913;&#21464;&#24403;&#21069;&#21333;&#35789;&#30340;&#22823;&#23567;&#20889;</span>
gU    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22823;&#20889;</span>
gu    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23567;&#20889;</span>
gUiw  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#24403;&#21069;&#21333;&#35789;&#20840;&#20026;&#22823;&#20889;</span>
guiw  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#24403;&#21069;&#21333;&#35789;&#20840;&#20026;&#23567;&#20889;</span>
</pre>
</div>

<p>
ä¾‹å¦‚
</p>
<ul class="org-ul">
<li>å…‰æ ‡åœç•™åœ¨å­—æ¯çš„ä½ç½®æŒ‰~é”®ï¼Œå¯ä»¥çœ‹åˆ°å­—æ¯è‡ªåŠ¨åˆ‡æ¢å¤§å°å†™ï¼›</li>
<li>æ™®é€šæ¨¡å¼ä¸‹æŒ‰ v é€‰ä¸­æ–‡ä»¶ï¼Œå†æŒ‰gUæˆ–guåˆ‡æ¢å­—æ¯å¤§å°å†™</li>
</ul>


<p>
<b>ç¼©è¿›ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt; : &#24448;&#21069;&#32553;&#36827;&#19968;&#20010;&#21046;&#34920;&#31526;
&lt;&lt; : &#24448;&#21518;&#32553;&#36827;
</pre>
</div>

<p>
å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">4&gt;&gt;&#35753;&#20809;&#26631;&#24448;&#19979;&#30340;4&#34892;&#32553;&#36827;1&#20010;&#21046;&#34920;&#31526;

ctrl+v &#21521;&#19979;&#36873;&#20013;&#34892;&#65292;&gt; &#25152;&#22312;&#30340;&#34892;&#32553;&#36827;4&#20010;&#21046;&#34920;&#31526; 
</pre>
</div>

<p>
<b>å­—ç¬¦asciiç  16è¿›åˆ¶ 8è¿›åˆ¶</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">ga
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c1bc587a-6603-4c82-b10c-5c3fc1822f22" class="outline-5">
<h5 id="h:c1bc587a-6603-4c82-b10c-5c3fc1822f22">é«˜çº§ç”¨æ³•</h5>
<div class="outline-text-5" id="text-h:c1bc587a-6603-4c82-b10c-5c3fc1822f22">
<div class="org-src-container">
<pre class="src src-sh">&lt;start position&gt;&lt;command&gt;&lt;end position&gt;
</pre>
</div>

<p>
å¸¸è§Commandï¼šy å¤åˆ¶ã€d åˆ é™¤ã€gU å˜å¤§å†™ã€gu å˜å°å†™
</p>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">0y$ &#21629;&#20196;
0 &#8594; &#20808;&#21040;&#34892;&#22836;
y &#8594; &#20174;&#36825;&#37324;&#24320;&#22987;&#25335;&#36125;
$ &#8594; &#25335;&#36125;&#21040;&#26412;&#34892;&#26368;&#21518;&#19968;&#20010;&#23383;&#31526;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šç²˜è´´â€œwangâ€100æ¬¡
</p>

<div class="org-src-container">
<pre class="src src-sh">100iwang [ESC]
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">- di<span style="color: #8b2252;">" &#20809;&#26631;&#22312;&#8221; &#8220;&#24341;&#21495;&#20043;&#38388;&#65292;&#21017;&#21024;&#38500;&#8221; &#8220;&#24341;&#21495;&#20043;&#38388;&#30340;&#20869;&#23481;</span>
<span style="color: #8b2252;">- yi( &#20809;&#26631;&#22312;()&#20043;&#38388;&#65292;&#21017;&#22797;&#21046;()&#20043;&#38388;&#30340;&#20869;&#23481;</span>
<span style="color: #8b2252;">- vi[ &#20809;&#26631;&#22312;[]&#20043;&#38388;&#65292;&#21017;&#36873;&#20013;[]&#20043;&#38388;&#30340;&#20869;&#23481;</span>
<span style="color: #8b2252;">- dtx &#21024;&#38500;&#23383;&#31526;&#30452;&#21040;&#36935;&#35265;&#20809;&#26631;&#20043;&#21518;&#30340;&#31532;&#19968;&#20010; x &#23383;&#31526;</span>
<span style="color: #8b2252;">- ytx &#22797;&#21046;&#23383;&#31526;&#30452;&#21040;&#36935;&#35265;&#20809;&#26631;&#20043;&#21518;&#30340;&#31532;&#19968;&#20010; x &#23383;&#31526;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:ed41244c-4db1-41db-9e6b-9c8fafeb3b1c" class="outline-4">
<h4 id="h:ed41244c-4db1-41db-9e6b-9c8fafeb3b1c">å¯è§†åŒ–æ¨¡å¼</h4>
<div class="outline-text-4" id="text-h:ed41244c-4db1-41db-9e6b-9c8fafeb3b1c">
<p width="60%">
<img src="images/image-20210215234306420.png" alt="image-20210215234306420.png" width="60%">
vimå…·æœ‰3ç§ä¸åŒçš„å¯è§†æ¨¡å¼ï¼Œåˆ†åˆ«ç”¨äºæ“ä½œå­—ç¬¦æ–‡æœ¬ã€è¡Œæ–‡æœ¬æˆ–å—æ–‡æœ¬ã€‚
</p>

<p>
å¯è§†æ¨¡å¼å…è®¸æˆ‘ä»¬é€‰ä¸­ä¸€ä¸ªæ–‡æœ¬åŒºåŸŸå¹¶åœ¨å…¶ä¸Šæ“ä½œã€‚å°½ç®¡çœ‹èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Œä½†å¯¹äº
é€‰ä¸­çš„æ–‡æœ¬ï¼Œvimçš„è§†è§’å»æœ‰å¼‚äºå…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨ã€‚
</p>

<p>
åœ¨æœ«è¡Œæœ‰â€&#x2013; VISUAL &#x2013; â€œæŒ‡ç¤ºï¼Œè¡¨ç¤ºåœ¨å¯è§†åŒ–æ¨¡å¼
</p>

<p>
å…è®¸é€‰æ‹©çš„æ–‡æœ¬å—
</p>

<ul class="org-ul">
<li>v é¢å‘å­—ç¬¦ï¼Œ&#x2013; VISUAL &#x2013;</li>
<li>V é¢å‘æ•´è¡Œï¼Œ&#x2013; VISUAL LINE &#x2013;</li>
<li>ctrl-v é¢å‘å—/åˆ—ï¼Œ&#x2013; VISUAL BLOCK &#x2013;</li>
</ul>

<p>
å¯è§†åŒ–é”®å¯ç”¨äºä¸ç§»åŠ¨é”®ç»“åˆä½¿ç”¨ w ) } ç®­å¤´ç­‰
</p>

<p>
çªå‡ºæ˜¾ç¤ºçš„æ–‡å­—å¯è¢«åˆ é™¤ï¼Œå¤åˆ¶ï¼Œå˜æ›´ï¼Œè¿‡æ»¤ï¼Œæœç´¢ï¼Œæ›¿æ¢ç­‰
</p>

<p>
å…¶å®ƒæ“ä½œï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">gv : &#37325;&#36873;&#19978;&#27425;&#30340;&#39640;&#20142;&#36873;&#21306;
o : &#20999;&#25442;&#39640;&#20142;&#36873;&#21306;&#30340;&#27963;&#21160;&#31471;&#65292;&#26159;&#21069;&#31471;&#36824;&#26159;&#21518;&#31471;

&#23567;o : &#31227;&#21160;&#21040;&#21478;&#22806;&#19968;&#20010;&#26631;&#35760;&#21306;&#22359;&#30340;&#26411;&#31471;
&#22823;U : &#25152;&#36873;&#21306;&#22359;&#36716;&#25442;&#20026;&#22823;&#20889;
&#22823;O : &#31227;&#21160;&#21040;&#21306;&#22359;&#21478;&#22806;&#19968;&#20010;&#35282;&#33853;
aw : &#26631;&#35760;&#19968;&#20010;&#21333;&#35789;
ab : &#21253;&#25324;&#25324;&#21495;&#21644;()&#30340;&#21306;&#22495;
aB : &#21253;&#25324;&#33457;&#25324;&#21495;&#21644;{}&#30340;&#21306;&#22495;
ib : &#25324;&#21495;(&#65289;&#20869;&#30340;&#21306;&#22495;
iB : &#33457;&#25324;&#21495;&#65371;&#65373;&#20869;&#30340;&#21306;&#22495;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šåœ¨æ–‡ä»¶å…‰æ ‡ä½ç½®åˆ°è¡Œå°¾ï¼Œæ‰€æœ‰è¡Œé¦–æ’å…¥#
</p>

<div class="org-src-container">
<pre class="src src-sh">&#36755;&#20837;ctrl+v &#36827;&#20837;&#21487;&#35270;&#21270;&#27169;&#24335;
&#36755;&#20837; G &#36339;&#21040;&#26368;&#21518;1&#34892;&#65292;&#36873;&#20013;&#27599;&#19968;&#34892;&#30340;&#31532;&#19968;&#20010;&#23383;&#31526;
&#36755;&#20837; I &#20999;&#25442;&#33267;&#25554;&#20837;&#27169;&#24335;
&#36755;&#20837; <span style="color: #b22222;">#</span>
&#25353; ESC &#38190;
</pre>
</div>

<p>
å¤šè¡Œè¡Œé¦–åŠ #
</p>

<div class="org-src-container">
<pre class="src src-sh">ctrl+v &#20809;&#26631;&#36873;&#21306;&#22495;
&#36755;&#20837;0
&#36755;&#20837;&#22823;i
&#36755;&#20837;#
&#25353; ESC &#38190;
</pre>
</div>

<p>
æŠŠä¸¤è¡Œçš„æ‰€æœ‰å•è¯å˜æˆå°å†™ï¼ŒæŒ‰Vç„¶åæŒ‰jæˆ–ké€‰ä¸­è¿™ä¸¤è¡Œï¼ŒæŒ‰guå³å¯
</p>

<p>
å¤šè¡ŒåŠ å•è¯ 1ctrl+v å…‰æ ‡é€‰åŒºåŸŸ æŒ‰shift+i è¾“å…¥å†…å®¹ï¼Œæœ€åæŒ‰2ä¸‹ESC
</p>


<figure id="orgc939a77">
<img src="images/image-20210215234328636.png" alt="image-20210215234328636.png" width="60%">

</figure>

<p>
å¤šè¡ŒåŠ æ³¨é‡Š
</p>

<div class="org-src-container">
<pre class="src src-sh">:[range]normal {commands} //&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#27599;&#19968;&#34892;&#25191;&#34892;&#21464;&#36890;&#27169;&#24335;&#21629;&#20196;vi

[range]&#30456;&#20851;&#21629;&#20196;
1 : &#25991;&#20214;&#30340;&#31532;&#19968;&#34892;
$ : &#25991;&#20214;&#30340;&#26368;&#21518;&#19968;&#34892;
0 : &#34394;&#25311;&#34892;&#65292;&#20301;&#20110;&#25991;&#20214;&#31532;&#19968;&#34892;&#19978;&#26041;
<span style="color: #483d8b;">.</span> : &#20809;&#26631;&#25152;&#22312;&#34892;
<span style="color: #8b2252;">'m : &#21253;&#21547;&#20301;&#32622;&#26631;&#35760;m&#30340;&#34892;</span>
<span style="color: #8b2252;">'</span>&lt; : &#39640;&#20142;&#36873;&#21306;&#30340;&#36215;&#22987;&#34892;
<span style="color: #8b2252;">'&gt; : &#39640;&#20142;&#36873;&#21306;&#20869;&#30340;&#32467;&#26463;&#34892;</span>
<span style="color: #8b2252;">% : &#25972;&#20010;&#25991;&#20214; (1,$ &#30456;&#24403;&#20110;%)</span>
</pre>
</div>


<div class="org-src-container">
<pre class="src src-sh">V&#36873;&#34892;
<span style="color: #8b2252;">'&lt;,'</span>&gt;normal 0i#
</pre>
</div>
</div>
<div id="outline-container-h:90239164-99c5-43d8-8651-fc6e8e31df2f" class="outline-5">
<h5 id="h:90239164-99c5-43d8-8651-fc6e8e31df2f">å‘½ä»¤ï¼š</h5>
<div class="outline-text-5" id="text-h:90239164-99c5-43d8-8651-fc6e8e31df2f">
<div class="org-src-container">
<pre class="src src-sh">&gt; : &#21491;&#31227;
&lt; : &#24038;&#31227;
d : &#21024;&#38500;
~ : &#25913;&#21464;&#22823;&#23567;&#20889;
&#32467;&#21512;&#32534;&#36753;&#21629;&#20196;&#65306;d,c,y
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<ol class="org-ol">
<li><p>
å¯è§†æ¨¡å¼ä¸‹çš„å¤šè¡Œç¼©è¿›
</p>

<div class="org-src-container">
<pre class="src src-sh">:set <span style="color: #a0522d;">shiftwidth</span>=4 <span style="color: #a0522d;">softtabstop</span>=4 expandtab  //&#23558;&#21046;&#34920;&#31526;&#36716;&#25442;&#25104; 4 &#20010;&#31354;&#26684;
V //&#36873;&#25321;&#25972;&#34892;
j  //&#36339;&#36716;&#21040;&#19979;&#34892;
&gt; //&#32553;&#36827;

gv //&#37325;&#22797;&#19978;&#27425;&#25152;&#36873;&#20869;&#23481;
//&#32553;&#36827;
</pre>
</div></li>
</ol>



<ol class="org-ol">
<li>å¯è§†æ¨¡å¼ä¸‹ç¼–å†™è¡¨æ ¼ï¼š</li>
</ol>
<p width="60%">
<img src="./images/image-20210215234351516.png" alt="image-20210215234351516.png" width="60%">
æ­¥éª¤
</p>
<ol class="org-ol">
<li>ctrl +v å¼€å¯åˆ—å—æ¨¡å¼</li>
<li>3j å‘ä¸‹å…ˆ3è¡Œé€‰å®šï¼Œåˆ—å—</li>
<li>r| æŒ‰å°†ç©ºæ ¼æ›¿æ¢ä¸º|</li>
</ol>

<figure id="orgf851ce9">
<img src="./images/image-20210215234403335.png" alt="image-20210215234403335.png" width="60%">

</figure>
<ol class="org-ol">
<li>yy p å¤åˆ¶ä¸€è¡Œ</li>
<li>Vr-  æ•´è¡Œæ›¿æ¢ä¸º-</li>
</ol>

<figure id="org0074591">
<img src="./images/image-20210215234414457.png" alt="image-20210215234414457.png" width="60%">

</figure>

<p>
èŒƒä¾‹ï¼šå¤šè¡Œå°¾æ’å…¥
</p>
<div class="org-src-container">
<pre class="src src-sh">C-v  &#24320;&#21551;&#22359;&#27169;&#24335;
$ &#36873;&#20013;&#21040;&#27599;&#34892;&#34892;&#23614;
A &#25554;&#20837;&#20869;&#23481;
ESC 

gv // &#37325;&#22797;&#19978;&#27425;&#25152;&#36873;&#20869;&#23481;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ‰¹é‡æ›¿æ¢å†…å®¹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#############</span>
<span style="color: #b22222;">#############</span>
<span style="color: #b22222;">#############</span>
ve &#36873;&#20013;&#35201;&#20462;&#25913;&#30340;&#21306;&#22495;
r + space &#23558;#&#21495;&#25442;&#25104;&#31354;&#26684;
R &#36827;&#34892;Replace &#27169;&#24335;
&#36755;&#20837;&#20869;&#23481;
<span style="color: #b22222;">#############</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">this  test #</span>
<span style="color: #b22222;">#############</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:3ee3e15b-fc2d-4c8f-8968-42b0d95c81f1" class="outline-4">
<h4 id="h:3ee3e15b-fc2d-4c8f-8968-42b0d95c81f1">å¤šæ–‡ä»¶æ“ä½œ</h4>
<div class="outline-text-4" id="text-h:3ee3e15b-fc2d-4c8f-8968-42b0d95c81f1">

<figure id="org70d9e7d">
<img src="images/image-20210215234424576.png" alt="image-20210215234424576.png" width="60%">

<figcaption><span class="figure-number">Figure 5: </span>image-20210215234424576</figcaption>
</figure>


<figure id="org76c62ff">
<img src="images/image-20210615165855418.png" alt="image-20210615165855418.png" width="60%">

<figcaption><span class="figure-number">Figure 6: </span>image-20210615165855418</figcaption>
</figure>

<p>
æ¦‚å¿µï¼šBuffer Window Tab
</p>

<ul class="org-ul">
<li>Bufferæ˜¯æŒ‡æ‰“å¼€çš„ä¸€ä¸ªæ–‡ä»¶çš„å†…å­˜ç¼“å­˜åŒº</li>
<li>çª—å£æ˜¯Bufferå¯è§†åŒ–çš„åˆ†å‰²åŒºåŸŸ</li>
<li>Tabå¯ä»¥ç»„ç»‡çª—å£ä¸ºä¸€ä¸ªå·¥ä½œåŒº</li>
</ul>
</div>
<div id="outline-container-h:c227c881-1fa7-49fd-99b8-bccd03a3ac51" class="outline-5">
<h5 id="h:c227c881-1fa7-49fd-99b8-bccd03a3ac51">Bufferç¼“å­˜åŒº</h5>
<div class="outline-text-5" id="text-h:c227c881-1fa7-49fd-99b8-bccd03a3ac51">
<p>
vimæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åä¼šåŠ è½½æ–‡ä»¶å†…å®¹åˆ°ç¼“å†²åŒºï¼Œä¹‹åçš„ä¿®æ”¹éƒ½æ˜¯å¯¹å†…å­˜ä¸­çš„ç¼“å†²
åŒºï¼Œå¹¶ä¸ä¼šç›´æ¥ä¿å­˜æ–‡ä»¶ï¼Œç›´åˆ°æˆ‘ä»¬æ‰§è¡Œ <code>:w(write)</code> çš„æ—¶å€™éƒ½ä¼šæŠŠä¿®æ”¹å†…å®¹å†™
å…¥åˆ°æ–‡ä»¶é‡Œã€‚æ‰“å¼€å¤šä¸ªæ–‡ä»¶æ—¶æœ‰å¤šä¸ªbufferã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;</span>
:ls &#21015;&#20986;&#25152;&#26377;&#30340;&#32531;&#20914;&#21306;&#65292;&#28982;&#21518;&#21487;&#20197;&#20351;&#29992;:b N &#36339;&#36716;&#21040;&#32531;&#20914;&#21306;&#32534;&#21495;N&#30340;&#32531;&#20914;&#21306;
:n &#32534;&#36753;&#19979;&#19968;&#20010;&#25991;&#20214;

<span style="color: #b22222;"># </span><span style="color: #b22222;">Buffer&#20999;&#25442;</span>
:bN &#36339;&#36716;&#21040;&#25351;&#23450;&#32534;&#21495;&#30340;&#32531;&#20914;&#21306;:b3
:bpre &#25110;&#32773;:bp &#36339;&#36716;&#21040;&#19978;&#19968;&#20010;&#32531;&#20914;&#21306;
:bnext &#25110;&#32773;:bn &#36339;&#36716;&#21040;&#19979;&#19968;&#20010;&#32531;&#20914;&#21306;
:bfirst &#36339;&#36716;&#21040;&#31532;&#19968;&#20010;&#32531;&#20914;&#21306;
:blast &#36339;&#36716;&#21040;&#26368;&#21518;&#19968;&#20010;&#32531;&#20914;&#21306;
:b buffer_name&#21152;&#19978;tab&#34917;&#20840;&#26469;&#36339;&#36716;
<span style="color: #b22222;"># </span><span style="color: #b22222;">Buffer&#25805;&#20316;</span>
:e filename : &#22312;&#26032;&#30340;&#32531;&#20914;&#21306;&#25171;&#24320;&#19968;&#20010;&#25991;&#20214;&#65292;&#25903;&#25345;TAB&#34917;&#20840;&#12290;&#25110;&#32773;vim file1 file2 &#22810;&#20010;&#25991;&#20214;&#35843;&#20837;&#32531;&#20914;
:bd1 &#21024;&#38500;&#32534;&#21495;&#20026;1&#30340;&#32531;&#20914;&#21306;
:sp  filename : &#22312;&#26032;&#30340;&#32531;&#20914;&#21306;&#25171;&#24320;&#19968;&#20010;&#25991;&#20214;&#24182;&#21010;&#20998;
</pre>
</div>

<p>
vim FILE1 FILE2 FILE3 &#x2026;
</p>

<div class="org-src-container">
<pre class="src src-sh">:next &#19979;&#19968;&#20010;
:prev &#21069;&#19968;&#20010;
:first &#31532;&#19968;&#20010;
:last &#26368;&#21518;&#19968;&#20010;
:wall &#20445;&#23384;&#25152;&#26377;
:qall &#19981;&#20445;&#23384;&#36864;&#20986;&#25152;&#26377;
:wqall&#20445;&#23384;&#36864;&#20986;&#25152;&#26377;
:set autowrite -&gt; &#35774;&#23450;&#33258;&#21160;&#20445;&#23384;&#65292;&#24403;&#20320;&#32534;&#36753;&#19979;&#19968;&#20010;&#25991;&#20214;&#30340;&#26102;&#20505;&#65292;&#30446;&#21069;&#27491;&#22312;&#32534;&#36753;&#30340;&#25991;&#20214;&#22914;&#26524;&#25913;&#21160;&#65292;&#23558;&#20250;&#33258;&#21160;&#20445;&#23384; (automatic write the buffer when you switch to next buffer)
:set noautowrite -&gt; &#20851;&#38381;&#33258;&#21160;&#20445;&#23384; (turn autowrite off)
</pre>
</div>


<p>
æ¼”ç¤ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@node01 ~]# echo 01 &gt;file1
[root@node01 ~]# echo 02 &gt;file2
[root@node01 ~]# echo 03 &gt;file3
[root@node01 ~]# vim file1 file2 file3
01
&#22797;&#21046;&#31532;&#19968;&#34892; yy&#65292;&#24182;&#31896;&#36148;&#21040;file2&#25991;&#20214;&#20013;
:next
02
01
</pre>
</div>
</div>
</div>
<div id="outline-container-h:df172100-a376-4b1a-b79d-8b33fa8cc066" class="outline-5">
<h5 id="h:df172100-a376-4b1a-b79d-8b33fa8cc066">Window çª—å£</h5>
<div class="outline-text-5" id="text-h:df172100-a376-4b1a-b79d-8b33fa8cc066">
<p>
çª—å£æ˜¯å¯è§†åŒ–çš„åˆ†å‰²åŒºåŸŸã€‚ä¸€ä¸ªç¼“å†²åŒºå¯ä»¥åˆ†å‰²æˆå¤šä¸ªçª—å£ï¼Œæ¯ä¸ªçª—å£ä¹Ÿå¯ä»¥æ‰“
å¼€ä¸èƒ½ç¼“å†²åŒºã€‚
</p>

<p>
<b>å¤šæ–‡ä»¶åˆ†å‰²</b>
</p>

<pre class="example" id="orga4a8901">
vim -o|-O FILE1 FILE2 ...
-o: æ°´å¹³æˆ–ä¸Šä¸‹åˆ†å‰²
-O: å‚ç›´æˆ–å·¦å³åˆ†å‰²ï¼ˆvim onlyï¼‰
åœ¨çª—å£é—´åˆ‡æ¢ï¼šCtrl+w, Arrow jå‘ä¸‹åˆ‡æ¢ï¼Œ kå‘ä¸Šåˆ‡æ¢
</pre>

<p>
<b>å•æ–‡ä»¶çª—å£åˆ†å‰²</b>
</p>

<p>
çª—å£åˆ†å‰²
</p>

<div class="org-src-container">
<pre class="src src-sh">Ctrl+w,s&#65306;split, &#27700;&#24179;&#20998;&#21106;&#65292;&#19978;&#19979;&#20998;&#23631;&#12290;&#25110;&#32773;:sp&#12290;:sp(split) filename    &#19978;&#19979;&#20998;&#21106;&#65292;&#24182;&#25171;&#24320;&#19968;&#20010;&#26032;&#30340;&#25991;&#20214;&#12290;
Ctrl+w,v&#65306;vertical, &#22402;&#30452;&#20998;&#21106;&#65292;&#24038;&#21491;&#20998;&#23631;&#65292;&#25110;&#32773;:vs&#12290;:vs(vsplit) filename    &#24038;&#21491;&#20998;&#21106;&#65292;&#24182;&#25171;&#24320;&#19968;&#20010;&#26032;&#30340;&#25991;&#20214;&#12290;


:vnew &#25171;&#24320;&#19968;&#20010;&#26032;&#31383;&#21475;&#24182;&#24320;&#22987;&#32534;&#36753;&#19968;&#20010;&#26410;&#21629;&#21517;&#26032;&#25991;&#20214;(ctrl+w+v)
:close &#20851;&#38381;&#24403;&#21069;&#31383;&#21475;
:only &#20851;&#38381;&#38500;&#24403;&#21069;&#31383;&#21475;&#20197;&#22806;&#30340;&#25152;&#26377;&#31383;&#21475;

ctrl+w,q&#65306;&#21462;&#28040;&#30456;&#37051;&#31383;&#21475;
ctrl+w,o&#65306;&#21462;&#28040;&#20840;&#37096;&#31383;&#21475;
:wqall &#36864;&#20986;
Ctrl+w c   &#20851;&#38381;&#20998;&#23631;  &#20851;&#38381;&#24403;&#21069;&#31383;&#21475;
Ctrl+w&#65292;&#26041;&#21521;&#38190; : &#31383;&#21475;&#38388;&#20999;&#25442;
</pre>
</div>

<p>
åˆ‡æ¢çª—å£
</p>

<p>
åˆ‡æ¢çª—å£çš„å‘½ä»¤éƒ½æ˜¯ä½¿ç”¨ctrl +w(window)ä½œä¸ºå‰ç¼€
</p>

<div class="org-src-container">
<pre class="src src-sh">&lt;C-w&gt;w &#22312;&#31383;&#21475;&#24490;&#29615;&#20999;&#25442;&#12290;&#22914;&lt;C-w&gt;&lt;C-w&gt;&lt;C-w&gt;&lt;C-w&gt;
&lt;C-w&gt;h &#20999;&#25442;&#21040;&#24038;&#36793;&#30340;&#31383;&#21475;
&lt;C-w&gt;j &#20999;&#25442;&#21040;&#21491;&#36793;&#30340;&#31383;&#21475;
&lt;C-w&gt;k &#20999;&#25442;&#21040;&#19978;&#36793;&#30340;&#31383;&#21475;
&lt;C-w&gt;l &#20999;&#25442;&#21040;&#19979;&#36793;&#30340;&#31383;&#21475;
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31227;&#21160;</span>
&lt;C-w&gt;L &#24038;&#36793;&#31383;&#21475;&#31227;&#21160;&#21040;&#21491;&#36793;
&lt;C-w&gt;H &#21491;&#36793;&#31383;&#21475;&#31227;&#21160;&#21040;&#24038;&#36793;
</pre>
</div>

<p>
é‡æ’çª—å£
</p>

<p>
é‡æ’çª—å£å¯ä»¥æ”¹å˜çª—å£çš„å¤§å° <code>:h window-resize</code> æŸ¥çœ‹æ–‡æ¡£
</p>

<div class="org-src-container">
<pre class="src src-sh">&lt;C-w&gt;= &#20351;&#25152;&#26377;&#31383;&#21475;&#26377;&#19968;&#26679;&#30340;&#39640;&#24230;
&lt;C-w&gt;_ &#26368;&#22823;&#21270;&#27963;&#21160;&#31383;&#21475;&#30340;&#39640;&#24230;
&lt;C-w&gt;| &#26368;&#22823;&#21270;&#27963;&#21160;&#31383;&#21475;&#30340;&#23485;&#24230;
[N]&lt;C-w&gt;_ &#25226;&#27963;&#21160;&#31383;&#21475;&#30340;&#39640;&#24230;&#35774;&#20026;[N]&#34892;
[N]&lt;C-w&gt;| &#25226;&#27963;&#21160;&#31383;&#21475;&#30340;&#23485;&#24230;&#35774;&#20026;[N]&#21015;

&lt;C-w&gt;+ -/+ -&gt; &#22686;&#20943;&#20998;&#23631;&#30340;&#22823;&#23567; (change split size)
&lt;C-w&gt;&gt;    &#21521;&#21491;&#25193;&#23637;
&lt;C-w&gt;&lt;    &#21521;&#24038;&#25193;&#23637;
</pre>
</div>

<p>
å°ç»“ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">:sp &#22402;&#30452;&#26041;&#21521;&#31383;&#21475;&#20999;&#20998;
Ctrl + w w &#20809;&#26631;&#20999;&#25442;&#33267;&#20854;&#23427;&#31383;&#21475;
:q &#36864;&#20986;&#31383;&#21475;

:vsp &#27700;&#24179;&#26041;&#21521;&#31383;&#21475;&#20999;&#20998;
:vsp &#25991;&#20214;&#65292; &#22312;&#26032;&#31383;&#21475;&#25171;&#24320;&#25991;&#20214;
Ctrl + w w &#20132;&#25442;2&#20010;&#31383;&#21475;
Ctrl + w s &#22402;&#30452;&#26041;&#21521;&#31383;&#21475;&#20999;&#20998;&#30340;&#24555;&#25463;&#38190;
:e &#25991;&#20214;&#65292;&#22312;&#24403;&#21069;&#31383;&#21475;&#25171;&#24320;&#20854;&#23427;&#25991;&#20214;
:sp &#25991;&#20214;&#65292;&#26032;&#24320;&#31383;&#21475;&#25171;&#24320;&#25991;&#20214;

ctrl+w r &#26059;&#36716;&#31383;&#21475;&#20301;&#32622;
ctrl+w h/j/k/l &#19978;&#19979;&#24038;&#21491;&#31227;&#21160;&#20809;&#26631;&#33267;&#23545;&#24212;&#31383;&#21475;

:resize num &#22402;&#30452;&#26041;&#21521;&#25913;&#21464;&#22823;&#23567;&#12290;&#22914;:resize +5 :resize -5
:vertical resize &#27700;&#24179;&#26041;&#21521;&#25913;&#21464;&#22823;&#23567;&#12290;&#22914;:vertical resize +10 &#25110;&#32773; :vertical resize -10
</pre>
</div>
</div>
</div>
<div id="outline-container-h:803b5530-47ae-4c6d-8e11-209384052c37" class="outline-5">
<h5 id="h:803b5530-47ae-4c6d-8e11-209384052c37">Tab(æ ‡ç­¾é¡µ)å°†çª—å£åˆ†ç»„</h5>
<div class="outline-text-5" id="text-h:803b5530-47ae-4c6d-8e11-209384052c37">
<p>
Tabæ˜¯å¯ä»¥å®¹çº³ä¸€ç³»åˆ—çª—å£çš„å®¹å™¨(:h tabpage)ã€‚vimçš„tabå’Œå…¶å®ƒç¼–è¾‘å™¨ä¸å¤ªä¸€
æ ·ï¼Œå¯ä»¥æƒ³è±¡æˆLinuxçš„è™šæ‹Ÿæ¡Œé¢ã€‚æ¯”å¦‚ä¸€ä¸ªtabå…¨ç”¨æ¥ç¼–è¾‘pythonæ–‡ä»¶ï¼Œä¸€ä¸ª
tabå…¨æ˜¯htmlæ–‡ä»¶ã€‚ç›¸æ¯”çª—å£ï¼Œtabä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ï¼Œtabå¤ªå¤šç®¡ç†èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»
çƒ¦ã€‚
</p>

<p>
Tab(æ ‡ç­¾é¡µ)æ“ä½œ
</p>

<div class="org-src-container">
<pre class="src src-sh">:table[dit] {filename} &#22312;&#26032;&#26631;&#31614;&#39029;&#20013;&#25171;&#24320;&#25991;&#20214;
&lt;C-w&gt;T                 &#25226;&#24403;&#21069;&#31383;&#21475;&#31227;&#21160;&#21040;&#19968;&#20010;&#26032;&#26631;&#31614;&#39029;
:tabc[lose]            &#20851;&#38381;&#24403;&#21069;&#26631;&#31614;&#39029;&#21450;&#20854;&#20013;&#30340;&#25152;&#26377;&#31383;&#21475;
:tabo[nly]             &#21482;&#20445;&#30041;&#27963;&#21160;&#26631;&#31614;&#39029;&#65292;&#20851;&#38381;&#25152;&#26377;&#20854;&#23427;&#26631;&#31614;&#39029;
</pre>
</div>

<p>
Tab(æ ‡ç­¾é¡µ)åˆ‡æ¢æ“ä½œ
</p>

<div class="org-src-container">
<pre class="src src-sh">:tabn[ext] {N}         &#20999;&#25442;&#21040;&#32534;&#21495;&#20026;N&#30340;&#26631;&#31614;&#39029;&#12290;&#26222;&#36890;&#27169;&#24335;&#21629;&#20196;{N}gt
:tabn[ext]             &#20999;&#25442;&#21040;&#19979;&#19968;&#20010;&#26631;&#31614;&#39029;&#12290;&#26222;&#36890;&#27169;&#24335;&#21629;&#20196;gt
:tabp[revious]         &#20999;&#25442;&#21040;&#19978;&#19968;&#20010;&#26631;&#31614;&#39029;&#12290;&#26222;&#36890;&#27169;&#24335;&#21629;&#20196;gT
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:47ecce75-54e8-4aca-a5f6-82a0565ae892" class="outline-4">
<h4 id="h:47ecce75-54e8-4aca-a5f6-82a0565ae892">vimçš„text objectæ–‡ä»¶å¯¹è±¡</h4>
<div class="outline-text-4" id="text-h:47ecce75-54e8-4aca-a5f6-82a0565ae892">
<p>
å‰é¢æˆ‘ä»¬å·²ç»å¤šæ¬¡ä½¿ç”¨äº†æ–‡ä»¶å¯¹è±¡ï¼Œè¿™é‡Œä¸“é—¨ä»‹ç»ä¸€ä¸‹ã€‚å¯ä»¥æ“ä½œæ–‡ä»¶å¯¹è±¡æ˜¯
vimä¸­ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„ç‰¹æ€§ã€‚å¯ä»¥é€šè¿‡å®ƒæ–¹ä¾¿çš„æ“ä½œä¸€ä¸ªå•è¯ã€å¥å­ã€æ®µè½æˆ–è€…æ‹¬
å·ä¸­çš„å†…å®¹ã€‚
</p>

<p>
text objectæ–‡æœ¬å¯¹è±¡ï¼Œvimæ–‡æœ¬ä¹Ÿæœ‰å¯¹è±¡æ¦‚å¿µï¼Œæ¯”å¦‚ä¸€ä¸ªå•è¯ã€å¥å­ã€æ®µè½ã€
tagã€å—(å¦‚æ‹¬å·ã€æ–¹æ‹¬å·ã€å¼•å·)ï¼Œé€šè¿‡æ“ä½œæ–‡æœ¬å¯¹è±¡æ¥ä¿®æ”¹æ¯”åªæ“ä½œå•ä¸ªå­—ç¬¦
é«˜æ•ˆã€‚
</p>

<ul class="org-ul">
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://vimdoc.sourceforge.net/htmldoc/motion.html">http://vimdoc.sourceforge.net/htmldoc/motion.html</a></li>
<li>åšå®¢å‚è€ƒï¼š<a href="https://cloud.tencent.com/developer/article/1194173">https://cloud.tencent.com/developer/article/1194173</a></li>
<li><a href="https://blog.carbonfive.com/vim-text-objects-the-definitive-guide/">https://blog.carbonfive.com/vim-text-objects-the-definitive-guide/</a></li>
</ul>
</div>
<div id="outline-container-h:b0c8e968-cf5c-476e-9ba5-9f1b67f6edca" class="outline-5">
<h5 id="h:b0c8e968-cf5c-476e-9ba5-9f1b67f6edca">æ–‡ä»¶å¯¹è±¡æ“ä½œæ ¼å¼</h5>
<div class="outline-text-5" id="text-h:b0c8e968-cf5c-476e-9ba5-9f1b67f6edca">
<div class="org-src-container">
<pre class="src src-sh">[number]&lt;operator&gt;[text object or motion]
&lt;&#25968;&#23383;&gt; &lt;&#25805;&#20316;&#31526;&gt; &lt;&#25991;&#26412;&#23545;&#35937;&#25110;&#31227;&#21160;&#21629;&#20196;&gt;
</pre>
</div>

<ul class="org-ul">
<li><p>
number: æ•°å­—ç”¨äºåœ¨æ–‡æœ¬å¯¹è±¡æˆ–ç§»åŠ¨æ“ä½œä¸Šè¿›è¡Œå¤šæ¬¡æ‰§è¡Œã€‚
</p>

<p>
æ¯”å¦‚è¯´, å‘å 3ä¸ªå•è¯, å‘å‰ 2 ä¸ªæ®µè½. æ•°å­—æ˜¯å¯é€‰çš„, å¯ä»¥å‡ºç°å‘½ä»¤
(command)çš„å‰é¢ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨å‘½ä»¤çš„åé¢.
</p>

<p>
å¦‚æœæ˜¯ motion å’Œä¸‹é¢æ‰€æåˆ°çš„ operator éƒ½æœ‰æ•°å­—ä¿®é¥°,é‚£ä¹ˆæ•ˆæœæ˜¯ä¸¤ä¸ªæ•°
å­—ç›¸ä¹˜. æ¯”å¦‚, 2d3w æ˜¯åˆ é™¤ 6 ä¸ªå•è¯ã€‚
</p></li>

<li><p>
operator: æ“ä½œç¬¦,
</p>

<p>
æ¯”å¦‚, change, delete (åˆ é™¤), yank (å¤åˆ¶). æ“ä½œç¬¦ä¹Ÿæ˜¯å¯é€‰çš„. ä½†æ˜¯å¦‚æœ
æ²¡æœ‰æ“ä½œç¬¦çš„è¯, é‚£ä¹ˆå°±åªå‰©ä¸€ä¸ªç§»åŠ¨å‘½ä»¤,è€Œéä¸€ä¸ªç¼–è¾‘å‘½ä»¤äº†.
</p>

<p>
è§ :h operator, motion.txtã€‚
</p>

<p>
Vim é»˜è®¤æä¾›çš„ operator æœ‰:
</p>

<div class="org-src-container">
<pre class="src src-sh">d    delete      &#21024;&#38500;
y    yank        &#22797;&#21046;
c    change      &#20462;&#25913;
=    format      &#26684;&#24335;&#21270;
gU   uppercase   &#21464;&#20026;&#22823;&#20889;
gu   lowercase   &#21464;&#20026;&#23567;&#20889;
g~   toggle case &#21464;&#25442;&#22823;&#23567;&#20889;
v    visual      &#39640;&#20142;&#26174;&#31034;
gq   wrap format &#25442;&#34892;&#26684;&#24335;&#21270;
= format,&#32553;&#36827;&#23545;&#40784;
&lt; &#21521;&#24038;&#32553;&#36827;
&gt; &#21521;&#21491;&#32553;&#36827;
~, !, gq, gw, g?, zf, g@
&#26356;&#22810;:h operator
</pre>
</div></li>

<li><p>
text object æˆ–è€… motion å¯ä»¥æ˜¯ä¸€ä¸ªæ–‡æœ¬å¯¹è±¡
</p>

<p>
æ¯”å¦‚, ä¸€ä¸ªå•è¯, ä¸€ä¸ªå¥å­,ä¸€ä¸ªæ®µè½, æˆ–è€…æ˜¯ä¸€ä¸ªç§»åŠ¨, æ¯”å¦‚, å‘ä¸‹ç§»åŠ¨ä¸€
è¡Œ, å‘åç¿»ä¸€é¡µ, åˆ°ä¸€è¡Œæœ«å°¾.
</p>

<p>
<code>:h text-objects</code>: Text object selection æ–‡æœ¬å¯¹è±¡çš„é€‰æ‹©ã€‚motion.txt
æ–‡æœ¬å¯¹è±¡æ“ä½œæ¶‰åŠåˆ°èŒƒå›´å’Œæ“ä½œï¼ŒèŒƒå›´ä¸»è¦æ˜¯ä¸»è¦æ˜¯ i(inner ) å’Œa(around)ï¼Œ
æ–‡æœ¬å¯¹è±¡æœ‰ w (word), s (sentence), p (paragraph), å’Œå„ç§å¼•å·å’Œæ‹¬å·ã€‚
å½“ç„¶é€šè¿‡æ’ä»¶è¿˜èƒ½å¢å¼º text object çš„åŠŸèƒ½ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">&#31867;&#22411;        &#32553;&#20889;
1.word       w
2.WORD       W      &#21333;&#35789;
3.sencence   s      &#21477;&#23376;
4.paragraph  p      &#27573;&#33853;
5.tag        t      &#26631;&#31614;
6.block      b
7.Block      B      &#22359;
8.symbol block <span style="color: #8b2252;">"'`([{&lt;</span>
</pre>
</div></li>
</ul>

<p>
ä¸¾å‡ ä¸ªä¾‹å­:
</p>

<ul class="org-ul">
<li>iw: inner word, é”®å…¥ viw é¦–å…ˆ v é”®å…¥é€‰æ‹©æ¨¡å¼ï¼Œç„¶å iw é€‰ä¸­å½“å‰å•è¯ã€‚</li>
<li>aw: a word, å®ƒä¼šé€‰ä¸­å½“å‰å•è¯ï¼ŒåŒæ—¶åŒ…å«å½“å‰å•è¯ä¹‹åçš„ç©ºæ ¼ã€‚æ¯”å¦‚ daw
å¯ä»¥åˆ é™¤å½“å‰å•è¯å’Œç©ºæ ¼ã€‚å¦‚æœçœç•¥äº†èŒƒå›´ï¼Œæ˜¯ä»å½“å‰å…‰æ ‡åˆ é™¤åˆ°ä¸‹ä¸€ä¸ªå•è¯å¼€å¤´ã€‚</li>
</ul>

<p>
text object: æ–‡æœ¬å¯¹è±¡çš„ä½œç”¨èŒƒå›´
</p>

<div class="org-src-container">
<pre class="src src-sh">{i|a}{TEXT-OBJECT_ID}
i &#34920;&#31034; inner &#36873;&#20013;
a &#34920;&#31034; around&#65292;&#23427;&#19981;&#20294;&#20250;&#36873;&#20013;&#24403;&#21069;&#21333;&#35789;&#65292;&#36824;&#20250;&#21253;&#21547;&#24403;&#21069;&#21333;&#35789;&#20043;&#21518;&#30340;&#31354;&#26684;&#12290;&#12289;
TEXT-OBJECT_ID &#34920;&#31034;&#25991;&#26412;&#23545;&#35937;&#30340;&#32553;&#20889;
&#36873;&#25321;&#25991;&#26412;&#23545;&#35937;&#26102;&#20351;&#29992; i &#25110;&#32773; a &#21152;&#19978;&#25991;&#26412;&#23545;&#35937;&#30340;&#32553;&#20889;&#23601;&#21487;&#20197;&#36873;&#25321;&#25991;&#26412;&#23545;&#35937;


iw &#8230;inner word
aw &#8230;a word
iW &#8230;inner WORD
aW &#8230;a WORD
is &#8230;inner sentence
as &#8230;a sentence
ip &#8230;inner paragraph
ap &#8230;a paragraph
it &#8230;inner tag
at &#8230;a tag
ab &#8230;a block
ib &#8230;inner block
aB &#8230;a Block
iB &#8230;inner Block
i[ or i] &#8230;inner block
a[ or a] &#8230;a block
<span style="color: #0000ff;">i</span>( or i) &#8230;inner block
<span style="color: #0000ff;">a</span>( or a) &#8230;a block
i&lt; or i&gt; &#8230;inner block
a&lt; or a&gt; &#8230;a block
i{ or i} &#8230;inner block
a{ or a} &#8230;a block
i<span style="color: #8b2252;">" &#8230;inner block</span>
<span style="color: #8b2252;">a"</span> &#8230;a block
i<span style="color: #ff00ff;">` &#8230;inner block</span>
<span style="color: #ff00ff;">a`</span> &#8230;a block
&#26356;&#22810;:h text-objects
</pre>
</div>

<p>
<code>:h motion</code>: <code>intro.txt --&gt; 4. Notation --&gt; {motion}</code>
</p>

<div class="org-src-container">
<pre class="src src-sh">{motion}        A command that moves the cursor.  These are explained<span style="color: #a020f0;"> in</span>
                |motion.txt|<span style="color: #483d8b;">.</span>  Examples:
                        w               to start of next word
                        b               to begin of current word
                        4j              four lines down
                        /The&lt;CR&gt;        to next occurrence of <span style="color: #8b2252;">"The"</span>
</pre>
</div>

<p>
motionï¼šå…¶å®å°±æ˜¯è·³è½¬æŒ‡ä»¤ï¼Œåƒæ˜¯å¸¸ç”¨çš„ <code>G</code>, <code>gg</code> , <code>w</code>, <code>f{char}</code> &#x2026; ç­‰éƒ½
å¯ä»¥é…åˆ operatorã€‚åŸºæœ¬ä½¿ç”¨æ–¹æ³•ç‚º <code>{operator}{motion}</code> ï¼Œè¯­æ„å°±æ˜¯åšè¿™ä¸ª
operator åŠ¨ä½œåˆ° motion æ‰€åˆ°çš„åœ°æ–¹
</p>

<div class="org-src-container">
<pre class="src src-sh">&#20197; d operator &#20570;&#20030;&#20363;&#30340;&#35805; (&#20854;&#20182; operator &#20197;&#27492;&#31867;&#25512;):

dG: &#21034;&#38500; &#20174;&#28216;&#26631;&#21040;&#26723;&#26696;&#30340;&#23614;&#37096;
dgg: &#21034;&#38500;&#20174;&#28216;&#26631;&#21040;&#26723;&#26696;&#30340;&#22836;&#37096;
dw: &#21034;&#38500; &#20174;&#28216;&#26631;&#21040;&#19979;&#19968;&#20010;&#23383;
dfz: &#21024;&#38500; &#20174;&#28216;&#26631;&#24213;&#19979;&#21040;&#36798;&#27492;&#34892; z &#36825;&#20010;&#23383;&#27597; (&#22914;&#26524;&#27492;&#34892;&#26080; z &#21017;&#19981;&#21160;&#20316;)
<span style="color: #b22222;"># </span><span style="color: #b22222;">dw &#21024;&#38500;&#19968;&#20010;&#21333;&#35789;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">gf &#36827;&#20837;&#21040;&#25991;&#20214;</span>
</pre>
</div>

<p>
ä¸€ä¸ªç¼–è¾‘å‘½ä»¤(editing command) ç­‰äºä¸€ä¸ªæ“ä½œç¬¦åŠ ä¸Šä¸€ä¸ªæ–‡æœ¬å¯¹è±¡æˆ–è€…ç§»åŠ¨,
æ¯”å¦‚, åˆ é™¤ä¸€ä¸ªå•è¯, æ”¹å˜ä¸€ä¸ªå¥å­, å¤åˆ¶ä¸€ä¸ªæ®µè½.
</p>

<div class="org-src-container">
<pre class="src src-sh">an editing command = an operator + a text object/motion
</pre>
</div>
</div>
</div>
<div id="outline-container-h:bb55ce90-7ccc-4a8a-9de2-3cda2e04cdfe" class="outline-5">
<h5 id="h:bb55ce90-7ccc-4a8a-9de2-3cda2e04cdfe">æ™®é€šæ–‡æœ¬å¯¹è±¡</h5>
<div class="outline-text-5" id="text-h:bb55ce90-7ccc-4a8a-9de2-3cda2e04cdfe">
<p>
Vim ä¸ºæ™®é€šæ–‡æœ¬æ–‡ä»¶æä¾›äº†ä¸‰ç§ç±»å‹çš„æ–‡æœ¬å¯¹è±¡: è¯(word), å¥å­(sentence),
æ®µè½(paragraph).
</p>

<p>
<b>è¯</b>
</p>

<ul class="org-ul">
<li>aw - a word (åŒ…å«åœ¨å‘¨å›´çš„ç©ºæ ¼)</li>

<li>iw - inner word (ä¸åŒ…æ‹¬å‘¨å›´çš„ç©ºæ ¼)</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">Lorem ipsum dolor sit amet...

&#20809;&#26631;&#22312;ipsum&#23383;&#31526;&#20013;&#65292;&#36755;&#20837;&#25805;&#20316;&#21629;&#20196; daw

Lorem dolor sit amet...
</pre>
</div>


<p>
<code>w</code> çœ‹èµ·æ¥ä¸ <code>aw</code> æ•ˆæœå·®ä¸å¤š. åŒºåˆ«åœ¨äºå…‰æ ‡ä½ç½®. æ¯”å¦‚, å¦‚æœç”¨ <code>dw</code> æ¥åˆ 
é™¤ä¸€ä¸ªè¯, å…‰æ ‡å¿…é¡»åœ¨è¯çš„å¼€å¤´. å¦‚æœåœ¨é™¤äº†å¼€å¤´çš„å…¶ä»–ä½ç½®ä½¿ç”¨ <code>dw</code>, åªèƒ½
åˆ é™¤éƒ¨åˆ†å•è¯. ä½†æ˜¯, <code>daw</code> å…è®¸å…‰æ ‡åœ¨ä¸€ä¸ªè¯çš„ä»»ä½•ä½ç½®åˆ é™¤æ•´ä¸ªå•è¯.
</p>

<p>
<code>w &amp; aw</code>
</p>

<p>
å¦‚æœä½ å·²ç»æ‡‚å¾—äº† word çš„ w ä¸ aw çš„åŒºåˆ«, ä¸‹é¢å¥å­ä¸æ®µè½å°±å·²ç»æŒæ¡äº†,
é“ç†æ˜¯ä¸€æ ·çš„, åªæ˜¯å°† w æ¢æˆäº† s ä¸ p.
</p>

<p>
<b><b>å¥å­</b></b>
</p>
<ul class="org-ul">
<li>as &#x2013; a sentence</li>
<li>is &#x2013; inner sentence</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed<span style="color: #a020f0;"> do</span> eiusmod tempor incididunt
ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

cis  &#20809;&#26631;&#22312;&#31532; 1 &#21517;&#20219;&#24847;&#20301;&#32622;&#65292;&#36755;&#20837;cis&#65292;&#21024;&#38500;&#31532;&#19968;&#21477;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;

 Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris
nisi ut aliquip ex ea commodo consequat.
</pre>
</div>

<p>
æ³¨æ„, "inner" æ–‡æœ¬å¯¹è±¡ä¸åŒ…å«å°¾éƒ¨çš„ç©ºæ ¼.
</p>

<p>
<b>æ®µè½</b>
</p>

<ul class="org-ul">
<li>ap &#x2013; a paragraph</li>
<li>ip &#x2013; inner paragraph</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed<span style="color: #a020f0;"> do</span>
eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis 
nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

Duis aute irure dolor<span style="color: #a020f0;"> in</span> reprehenderit<span style="color: #a020f0;"> in</span> voluptate velit esse cillum dolore eu fugiat nulla
pariatur. Excepteur sint occaecat cupidatat non proident, sunt<span style="color: #a020f0;"> in</span> culpa qui officia deserunt
mollit anim id est laborum.

dap

Duis aute irure dolor<span style="color: #a020f0;"> in</span> reprehenderit<span style="color: #a020f0;"> in</span> voluptate velit esse cillum dolore eu fugiat nulla
pariatur. Excepteur sint occaecat cupidatat non proident, sunt<span style="color: #a020f0;"> in</span> culpa qui officia deserunt
mollit anim id est laborum.
</pre>
</div>
</div>
</div>
<div id="outline-container-h:fe894759-c299-49fa-9694-2b6baec97545" class="outline-5">
<h5 id="h:fe894759-c299-49fa-9694-2b6baec97545">ç§»åŠ¨å‘½ä»¤ vs æ–‡æœ¬å¯¹è±¡å‘½ä»¤</h5>
<div class="outline-text-5" id="text-h:fe894759-c299-49fa-9694-2b6baec97545">
<ul class="org-ul">
<li>ä¸€ä¸ªä½¿ç”¨ç§»åŠ¨çš„å‘½ä»¤ï¼Œæ¯”å¦‚ <code>cw</code> æ˜¯ä»å…‰æ ‡å¤„å¼€å§‹ç”Ÿæ•ˆ.</li>
<li>ä¸€ä¸ªä½¿ç”¨æ–‡æœ¬å¯¹è±¡çš„å‘½ä»¤ï¼Œæ¯”å¦‚ <code>ciw</code> æ— è®ºå…‰æ ‡åœ¨ä½•å¤„ï¼ŒViméƒ½å°†åœ¨æ•´ä¸ªæ–‡æœ¬
å¯¹è±¡ä¸Šç”Ÿæ•ˆã€‚æ˜¯ä¸€ä¸ªç§»åŠ¨å‘½ä»¤è¿˜æ˜¯ä¸€ä¸ªæ–‡æœ¬å¯¹è±¡å‘½ä»¤ï¼ŒåŒºåˆ«åœ¨äºæ˜¯å¦æœ‰ a
(around) æˆ–è€… i (inner) è¿™æ ·çš„é™åˆ¶ã€‚å¯¹äºæ¯ä¸ªç±»å‹çš„æ–‡æœ¬å¯¹è±¡éƒ½æ˜¯å¦‚æ­¤ã€‚</li>
</ul>

<p>
å°½ç®¡ä½¿ç”¨æ–‡æœ¬å¯¹è±¡çš„æ–¹å¼éœ€è¦å¤šè¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯è¿™å¯ä»¥èŠ‚çœä½ çš„æ—¶é—´å°†å…‰æ ‡
ç§»åŠ¨åˆ° "æ­£ç¡®" çš„ä½ç½®ã€‚
</p>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh">This is a [word]
This is a [&#20809;&#26631;&#20301;&#32622;word ]

viw &#36873;&#20013;&#25324;&#21495;&#20013;&#30340;&#21333;&#35789;&#12290; i&#34920;&#31034;iner
vaw &#36873;&#20013;&#25324;&#21495;&#20013;&#20869;&#23481;&#21253;&#25324;&#31354;&#26684;&#12290;a&#34920;&#31034;around&#29615;&#32469;


<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26631;&#31614;</span>
vit &#36873;&#20013;tag&#20869;&#30340; &#27880;&#24847;&#65306;&#20809;&#26631;&#22312;&#21738;&#20010;tag&#25152;&#22312;&#34892;&#20197;&#36825;&#20010;tag&#20026;&#20934;
vat &#36873;&#20013;&#21253;&#21547;tag

<span style="color: #b22222;"># </span><span style="color: #b22222;">"string" &#24341;&#21495;&#20869;</span>
vi<span style="color: #8b2252;">" &#36873;&#20013;&#24341;&#21495;&#20869;&#30340;&#20869;&#23481;&#12290;&#22914;&#26524;&#19968;&#34892;&#26377;&#22810;&#20010;&#24341;&#21495;&#65292;&#20197;&#31532;&#19968;&#20010;&#21305;&#37197;&#30340;&#24341;&#21495;&#20316;&#20026;&#26631;&#35760;&#65292;&#21040;&#19979;&#19968;&#20010;&#24341;&#21495;&#20043;&#38388;&#12290;&#22914;&#65306;aaf"</span>aaa<span style="color: #8b2252;">" xxx "</span>bbb<span style="color: #8b2252;">"</span>
<span style="color: #8b2252;">va"</span> &#21253;&#25324;&#24341;&#21495;&#30340;&#20869;&#23481;

vi{ &#36873;&#20013;&#25324;&#21495;&#20869;&#30340;
va{ &#36873;&#20013;&#25324;&#21495;&#20869;&#30340;&#65292;&#21253;&#21547;&#25324;&#21495;

&#20809;&#26631;&#20301;&#32622;This is a [word]
This is a [word ]
3daw  &#21024;&#38500;&#20809;&#26631;&#21518;3&#20010;&#21333;&#35789;This is a

This is a [&#20809;&#26631;&#20301;&#32622;word]
This is a [word ]
cw &#20462;&#25913;&#21333;&#35789;&#65292;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;

yiw&#22797;&#21046;&#19968;&#20010;&#21333;&#35789;

ciw &#21024;&#38500;&#24403;&#21069;&#21333;&#35789;&#24182;&#25554;&#20837;
<span style="color: #0000ff;">ci</span>( &#21024;&#38500;&#24403;&#21069;&#25324;&#21495;&#20869;&#30340;&#20869;&#23481;&#24182;&#25554;&#20837;
gUiw : &#20351;&#24403;&#21069;&#21333;&#35789;&#20840;&#20026;&#22823;&#20889;
guiw : &#20351;&#24403;&#21069;&#21333;&#35789;&#20840;&#20026;&#23567;&#20889;
</pre>
</div>

<p>
èŒƒä¾‹: æ“ä½œæ‹¬å·ä¸­çš„å†…å®¹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">i</span>( or i) 1 * ([2 + 3])               <span style="color: #b22222;">#</span><span style="color: #b22222;">i( &#25324;&#21495;&#20013;&#20869;&#23481;&#65292;&#19981;&#21253;&#21547;&#25324;&#21495;&#26412;&#36523;&#12290;&#22914;vi(  ci(</span>
<span style="color: #0000ff;">a</span>( or a) 1 * [(2 + 3)]               <span style="color: #b22222;">#</span><span style="color: #b22222;">a( &#21253;&#21547;&#25324;&#21495;&#26412;&#36523;&#12290;&#22914;va( ca(</span>
i&lt; or i&gt; The &lt;[tag]&gt;
a&lt; or i&gt; The [&lt;tag&gt;]
i{ or i} some {[ code block ]}       <span style="color: #b22222;">#</span><span style="color: #b22222;">i{ &#33457;&#25324;&#21495;&#20013;&#20869;&#23481;&#65292;&#19981;&#21253;&#21547;&#25324;&#21495;&#26412;&#36523;&#12290;&#22914;ci{&#21024;&#38500;&#25324;&#21495;&#20013;&#20869;&#23481;&#65292;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;</span>
a{ or a} some [{ code block }]
i{ or i} some [[ code block ]]       <span style="color: #b22222;">#</span><span style="color: #b22222;">i[ &#20013;&#25324;&#21495;&#20013;&#20869;&#23481;&#65292;&#19981;&#21253;&#21547;&#25324;&#21495;&#26412;&#36523;&#12290;&#22914;ci[&#21024;&#38500;&#25324;&#21495;&#20013;&#20869;&#23481;&#65292;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;</span>
a{ or a} some [[ code block ]]
i<span style="color: #8b2252;">"   The "</span>[best]<span style="color: #8b2252;">"                    #i"</span> &#21452;&#24341;&#21495;&#20013;&#30340;&#20869;&#23481;&#65292;&#19981;&#21253;&#21547;&#21452;&#24341;&#21495;&#26412;&#36523;&#12290;&#22914;vi<span style="color: #8b2252;">"&#36873;&#20013;&#21518;&#21487;&#20877;&#20351;&#29992;x&#21024;&#38500;&#65292;&#25110;&#32773;ci"</span>&#19968;&#27493;&#21040;&#20301;
a<span style="color: #8b2252;">"   The[ "</span>best<span style="color: #8b2252;">"]</span>
<span style="color: #8b2252;">i`   The `[best]`</span>
<span style="color: #8b2252;">a`   The[ `best`]</span>
</pre>
</div>

<p>
æœ‰äº›æ’ä»¶æ‰©å±•äº†æ–‡æœ¬å¯¹è±¡ï¼Œå¦‚vim-goå¯ä»¥ä½¿ç”¨ <code>f</code> è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ã€‚
</p>
</div>
</div>
</div>
<div id="outline-container-h:28c703bf-3792-4cd0-aa46-71d834a78b43" class="outline-4">
<h4 id="h:28c703bf-3792-4cd0-aa46-71d834a78b43">vimçš„å¯„å­˜å™¨(register)</h4>
<div class="outline-text-4" id="text-h:28c703bf-3792-4cd0-aa46-71d834a78b43">
<p>
vim é‡Œæ“ä½œçš„æ˜¯å¯„å­˜å™¨è€Œä¸æ˜¯ç³»ç»Ÿå‰ªè´´æ¿ï¼Œè¿™å’Œå…¶å®ƒç¼–è¾‘å™¨ä¸åŒã€‚
</p>

<p>
vim ä¸­çš„å¯„å­˜å™¨ï¼Œåˆ†ä¸ºæœ‰åå¯„å­˜å™¨å’Œæ— åå¯„å­˜å™¨
</p>

<p>
é»˜è®¤æƒ…å†µä¸‹æ“ä½œçš„æ•°æ®ï¼Œæ•°æ®è¢«æå–åˆ°æ— åå¯„å­˜å™¨æš‚å­˜ï¼Œä»æ— åå¯„å­˜å™¨ç²˜è´´ã€‚
</p>

<p>
æå–çš„æ“ä½œï¼š <code>y yank, yy, x, dd</code> ç²˜è´´çš„æ“ä½œï¼š <code>p, P</code>
</p>

<p>
åœ¨ <code>.vimrc</code> é‡Œé¢çš„é…ç½® set clipboard=unnamedï¼Œå…¶å®å°±æ˜¯å°†ç³»ç»Ÿå‰ªåˆ‡æ¿çš„æ•°
æ®æ”¾å…¥æ— åå¯„å­˜å™¨
</p>

<ul class="org-ul">
<li>åœ¨vimä¸­ç²˜è´´å</li>
<li>åœ¨æµè§ˆå™¨ç²˜è´´ï¼Œå¯¹æ¯”</li>
</ul>

<p>
å¯„å­˜å™¨çš„ä½¿ç”¨æ–¹å¼ï¼Œé€šè¿‡åœ¨æ“ä½œå¯„å­˜å™¨ä¹‹å‰ä½¿ç”¨è‹±æ–‡çš„å¼•å· <code>"</code> é”®æ¥è§¦å‘ï¼Œåœ¨
å¼•å·åè·Ÿä¸Šå¯„å­˜å™¨çš„åç§°ï¼Œä¸€èˆ¬å¯ä½¿ç”¨ <code>a-z</code> çš„å°å†™å®‡æ¯ã€‚
</p>

<p>
ä¸¾ä¾‹ï¼š
</p>

<p>
å¤åˆ¶è¿‡ç¨‹ï¼š
</p>

<ul class="org-ul">
<li>å…‰æ ‡ç§»åŠ¨è‡³è¡Œé¦–ï¼ŒæŒ‰é”®veï¼Œæ¥é€‰ä¸­è¦å¤åˆ¶çš„å†…å®¹</li>
<li>æŒ‰é”®ï¼šè‹±æ–‡çš„å¼•å·ï¼ˆ"ï¼‰ï¼Œè§¦å‘å¯„å­˜å™¨å£°æ˜</li>
<li>æŒ‰é”®ï¼šzï¼Œæ ‡è®°ä½¿ç”¨å¯„å­˜å™¨åç§°ä¸ºz</li>
<li>æŒ‰é”®ï¼šyï¼Œå°†é€‰ä¸­çš„å†…å®¹æå–è‡³zå¯„å­˜å™¨</li>
</ul>

<p>
ç²˜è´´è¿‡ç¨‹ï¼š
</p>

<ul class="org-ul">
<li>å…‰æ ‡ç§»åŠ¨è‡³æƒ³ç²˜è´´çš„åœ°æ–¹</li>
<li>æŒ‰é”®ï¼šè‹±æ–‡çš„å¼•å·("ï¼‰ï¼Œè§¦å‘å¯„å­˜å™¨å£°æ˜</li>
<li>æŒ‰é”®ï¼šzï¼Œæ ‡è®°ä½¿ç”¨å¯„å­˜å™¨åç§°ä¸ºz</li>
<li>æŒ‰é”®ï¼špï¼Œç²˜è´´zå¯„å­˜å™¨å†…å®¹è‡³å…‰æ ‡å¤„</li>
</ul>

<p>
æ€»ç»“ï¼šå¯„å­˜å™¨å¯ä»¥æ–¹ä¾¿æ—¥å¸¸çš„å¤åˆ¶ç²˜è´´æ“ä½œï¼Œå¤šä¸ªå¯„å­˜å™¨çš„è®¾ç½®å¯ä»¥ç®€åŒ–é‡å¤çš„
å·¥ä½œï¼Œå½“å½•åˆ¶å®çš„æ—¶å€™
</p>

<p>
æ ¼å¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"{&#23492;&#23384;&#22120;}  &#25918;&#22312;&#25968;&#23383;&#21644;&#21629;&#20196;&#20043;&#38388;  &#19981;&#25351;&#23450;&#40664;&#35748;&#29992;&#26080;&#21517;&#23492;&#23384;&#22120;</span>

<span style="color: #8b2252;">""&#34920;&#31034;&#26080;&#21517;&#23492;&#23384;&#22120;&#65292;&#32570;&#30465;&#20351;&#29992;&#12290;"" p&#20854;&#23454;&#23601;&#31561;&#21516;p</span>

<span style="color: #8b2252;"># &#26597;&#30475;&#23492;&#23384;&#22120;&#20013;&#30340;&#20869;&#23481;</span>
<span style="color: #8b2252;">:reg {&#23492;&#23384;&#22120;}</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">:reg &#26597;&#30475;&#25152;&#26377;&#23492;&#23384;&#22120;&#20869;&#23481;

<span style="color: #b22222;">#</span><span style="color: #b22222;">1</span>
x  &#21024;&#38500;&#25918;&#20837;&#26080;&#21517;&#23492;&#23384;&#22120;&#20013;
p  &#20174;&#26080;&#21517;&#23492;&#23384;&#22120;&#21462;&#20986;&#31896;&#36148;&#24403;&#21069;&#20809;&#26631;&#21518;

<span style="color: #b22222;">#</span><span style="color: #b22222;">2</span>
3<span style="color: #8b2252;">"tyy &#34920;&#31034;&#22797;&#21046;3&#34892;&#21040;t&#23492;&#23384;&#22120;&#20013; &#65292;&#26411;&#34892;&#26174;&#31034; 3 lines yanked into "</span>t
<span style="color: #8b2252;">"tp &#34920;&#31034;&#23558;t&#23492;&#23384;&#22120;&#20869;&#23481;&#31896;&#36148;</span>

<span style="color: #8b2252;">#3</span>
<span style="color: #8b2252;">"</span>ayiw &#22797;&#21046;&#19968;&#20010;&#21333;&#35789;&#21040;&#23492;&#23384;&#22120;a&#20013;&#65292;
<span style="color: #8b2252;">"bdd  &#21024;&#38500;&#24403;&#21069;&#34892;&#21040;&#23492;&#23384;&#22120;b&#20013;</span>
<span style="color: #8b2252;">:reg b &#26597;&#30475;b&#23492;&#23384;&#22120;&#20013;&#20869;&#23481;</span>
</pre>
</div>

<p>
å…¶å®ƒå¸¸è§å¯„å­˜å™¨:
</p>

<p>
é™¤äº†a-zï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒå¸¸è§å¯„å­˜å™¨
</p>

<ul class="org-ul">
<li><p>
<code>"0 ï½ "9</code> ï¼šæ•°å­—ï¼ˆnumberedï¼‰å¯„å­˜å™¨ã€‚
</p>

<p>
ç¼“å­˜æœ€è¿‘æ“ä½œå†…å®¹ï¼Œå¤åˆ¶ä¸åˆ é™¤æœ‰åˆ«ï¼Œ"0å¯„å­˜å™¨ç¼“å­˜æœ€è¿‘ä¸€æ¬¡å¤åˆ¶çš„å†…å®¹ï¼Œ
"1-"9ç¼“å­˜æœ€è¿‘9æ¬¡åˆ é™¤å†…å®¹
</p>

<p>
å¤åˆ¶ä¸“ç”¨ï¼š"0 ä½¿ç”¨yå¤åˆ¶æ–‡æœ¬åŒæ—¶ä¼šè¢«æ‹·åˆ°å¤åˆ¶å¯„å­˜å™¨0ä¸­
</p></li>

<li><p>
<code>"*, "+, "~</code> ï¼šé€‰æ‹©åŠæ‹–æ‹½ï¼ˆselection and dropï¼‰å¯„å­˜å™¨ã€‚
</p>

<p>
å­˜å–GUIé€‰æ‹©æ–‡æœ¬ï¼Œå¯ç”¨äºä¸å¤–éƒ¨åº”ç”¨äº¤äº’
</p>

<p>
<code>"*</code> æ˜¯åœ¨ç³»ç»Ÿå‰ªåˆ‡æ¿ä¸­è¡¨ç¤ºé€‰æ‹©çš„å†…å®¹ï¼› <code>"+</code> æ˜¯åœ¨ç³»ç»Ÿå‰ªåˆ‡æ¿ä¸­è¡¨ç¤ºé€‰æ‹©å
Ctrl+cå¤åˆ¶çš„å†…å®¹
</p>

<p>
ç³»ç»Ÿå‰ªè´´æ¿ï¼š <code>"+</code> å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ï¼Œè¿™æ ·å°±å¯ä»¥å¾€vimä»¥å¤–çš„åœ°å€ç²˜è´´äº†ã€‚å¯
ä»¥ä½¿ç”¨:echo has('clipboard')éªŒè¯ï¼Œè¾“å‡ºä¸º1è¡¨ç¤ºæ”¯æŒã€‚
</p>

<p>
:set clipboard=unnamedå¯ä»¥è®©ä½ ç›´æ¥å¤åˆ¶ç²˜è´´ç³»ç»Ÿå‰ªè´´æ¿å†…å®¹
</p></li>

<li><code>"%</code> å½“å‰æ–‡ä»¶å</li>
<li><code>".</code> ä¸Šæ¬¡æ’å…¥çš„æ–‡æœ¬</li>
</ul>


<p>
èŒƒä¾‹ï¼šä»vimæ‹·è´åˆ°ç³»ç»Ÿå‰ªåˆ‡æ¿
</p>

<div class="org-src-container">
<pre class="src src-sh">&#25105;&#20204;&#21482;&#38656;&#35201;&#22312;*visual&#27169;&#24335;*&#19979;&#25191;&#34892; =<span style="color: #8b2252;">"+y= &#65292;&#36890;&#36807;&#36825;&#21629;&#20196;copy&#21518;&#23601;&#21487;&#20197;&#21435;&#27983;&#35272;&#22120;</span>
<span style="color: #8b2252;">Ctrl+v&#21862;</span>

<span style="color: #8b2252;">&#22914;&#26524;&#20174;&#27983;&#35272;&#22120;Ctrl+c&#21518;&#65292;&#35201;&#31896;&#36148;&#21040;vim&#20013;&#65292;&#21017;&#38656;&#35201; ="</span>+<span style="color: #a0522d;">p</span>=
</pre>
</div>
</div>
</div>
<div id="outline-container-h:16b53342-d7b0-4f0c-8c6e-c9f4afc56aac" class="outline-4">
<h4 id="h:16b53342-d7b0-4f0c-8c6e-c9f4afc56aac">æ ‡è®°å’Œå®(macro)</h4>
<div class="outline-text-4" id="text-h:16b53342-d7b0-4f0c-8c6e-c9f4afc56aac">

<figure id="org8171864">
<img src="images/image-20210215234444671.png" alt="image-20210215234444671.png" width="60%">

<figcaption><span class="figure-number">Figure 7: </span>image-20210215234444671</figcaption>
</figure>

<ul class="org-ul">
<li>å®å¯ä»¥çœ‹æˆæ˜¯ä¸€ç³»åˆ—å‘½ä»¤çš„é›†åˆ</li>
<li>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®â€œå½•åˆ¶â€ä¸€ç³»åˆ—æ“ä½œï¼Œç„¶åç”¨äºâ€œå›æ”¾â€</li>
<li>å®å¯ä»¥éå¸¸æ–¹ä¾¿åœ°æŠŠä¸€ç³»åˆ—å‘½ä»¤ç”¨åœ¨å¤šè¡Œæ–‡æœ¬ä¸Šã€‚</li>
</ul>

<p>
vimæä¾›äº†ä¸æ­¢ä¸€ç§æ–¹å¼ç”¨äºé‡å¤ä¹‹å‰æ‰€åšçš„ä¿®æ”¹ã€‚å·²ç»å°è¿‡çš„ <code>.</code> å‘½ä»¤ï¼Œç”¨å®ƒ
æ¥é‡å¤å°çš„ä¿®æ”¹ç¡®å®æœ‰æ•ˆï¼Œä½†å½“æˆ‘ä»¬æƒ³é‡å¤æ›´å¤§è§„æ¨¡çš„å‘åŠ¨æ—¶ï¼Œvimçš„å®å°±æ´¾ä¸Š
ç”¨åœºäº†ã€‚
</p>

<p>
æˆ‘ä»¬å¯ä»¥ç”¨å®æŠŠä»»æ„æ•°ç›®çš„æŒ‰é”®æ“ä½œå½•åˆ¶åˆ°å¯„å­˜å™¨ä¸­ï¼Œç”¨äºä¹‹åçš„å›æ”¾
</p>

<p>
å®å½•åˆ¶æ­¥éª¤ï¼š
</p>

<ul class="org-ul">
<li>åœ¨normalæ¨¡å¼ä¸‹æŒ‰qè¿›å…¥å®å½•åˆ¶</li>
<li>æŒ‰ä¸‹å­—æ¯è®°å½•å®åç§°</li>
<li>æ‰§è¡Œæ“ä½œ</li>
<li>æŒ‰qé€€å‡ºå®å½•åˆ¶</li>
</ul>

<p>
é‡æ”¾å®ï¼š <code>@å®åç§°</code>
</p>

<p>
å®å…¶å®ƒæ“ä½œ
</p>

<ul class="org-ul">
<li><p>
q{A-Z} -&gt; å°†æŒ‡ä»¤æ’å…¥ä¹‹å‰çš„å¯„å­˜å™¨ (append typed char into
register{a-z})
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"&lt;reg&gt;p #&#25171;&#21360;&#24405;&#21046;&#30340;&#25805;&#20316;&#65292;&#21363;&#36755;&#20986;&#25351;&#23450;&#23492;&#23384;&#22120;&#20013;&#30340;&#20869;&#23481;</span>
<span style="color: #8b2252;">"</span>&lt;reg&gt;y <span style="color: #b22222;">#</span>
@&lt;reg&gt;  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#25918;&#23439;</span>
@@      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#22797;&#19978;&#27425;&#30340;&#25351;&#20196; (repeat previours :@{a-z})</span>
</pre>
</div></li>
</ul>

<p>
æ³¨æ„ï¼š è®¾å®šå¥½å®åï¼ŒåŒæ ·å¯åœ¨å…¶å®ƒæ–‡ä»¶ä¸­é€‚ç”¨ã€‚
</p>

<p>
æ ‡è®°ï¼š
</p>

<ul class="org-ul">
<li>m[æ ‡è®°åç§°]
<ul class="org-ul">
<li>ma å°†å½“å‰ä½ç½®æ ‡è®°ä¸ºaï¼Œ26ä¸ªå­—æ¯å‡å¯åšæ ‡è®°ï¼Œ mb ã€ mc ç­‰ç­‰</li>
</ul></li>
<li><code>'a</code>  è·³è½¬åˆ°aæ ‡è®°çš„ä½ç½®ï¼Œå®ç”¨çš„æ–‡æ¡£å†…æ ‡è®°æ–¹æ³•ï¼Œæ–‡æ¡£ä¸­è·³è·ƒç¼–è¾‘æ—¶å¾ˆæœ‰ç”¨</li>
</ul>

<p>
èŒƒä¾‹ï¼šæ‰¹é‡åœ¨å¼€å¤´æ·»åŠ å†…å®¹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25991;&#26412;&#20869;&#23481;</span>
abc
eeee
ddd
fff

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24405;&#21046;&#65306; &#27599;&#34892;&#24320;&#22836;&#21152;&#31354;&#26684;&#65292;&#32467;&#23614;&#21152; ;</span>
qa <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21487;&#20197;&#22312;&#29366;&#24577;&#26639;&#30475;&#21040; recording @q</span>
1. &#25353; 0 i &#20809;&#26631;&#31227;&#21160;&#21040;&#34892;&#39318;&#65292;&#24182;&#36827;&#20837;insert&#27169;&#24335;
2. &#25353; i &#36827;&#20837; insert &#27169;&#24335;&#65292;&#25554;&#20837;&#31354;&#26684;
3. escape insert &#36864;&#20986;insert&#27169;&#24335;
4. &#25353; A &#21040;&#34892;&#23614;&#36827;&#20837;insert&#27169;&#24335;
5. input ; &#34892;&#23614;&#36755;&#20837;;
6. ECS &#36864;&#20986;&#24403;&#21069;&#27169;&#24335;&#24182;&#36827;&#20837;&#26222;&#36890;&#27169;&#24335;
6. &#25353; j &#19979;&#19968;&#34892;
7. &#25353; 0 &#21040;&#34892;&#39318;
&#25353; q &#32467;&#26463;&#24405;&#21046;

&#65306;reg a <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;&#23492;&#23384;&#22120;&#20013;&#30340;&#20869;&#23481; </span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#37325;&#25918;&#23439;</span>
3@a  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#37325;&#25918;3&#27425;&#23439;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#32467;&#26524;</span>
 abc;
 eeee;
 ddd;
 fff;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå½•åˆ¶é€è¡Œå›æ”¾ ä¸ <code>å¯è§†åŒºå›æ”¾</code>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#24405;&#21046;&#65306;&#19982;&#19978;&#20363;&#31867;&#20284;&#65292;&#22312;&#27599;&#34892;&#39318;&#25554;&#20837; " &#24341;&#21495;&#65292;&#34892;&#23614;&#21152; " &#24341;&#21495;</span>

qa               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24405;&#21046;&#23439;&#35760;&#24405;&#21040;a&#23492;&#23384;&#22120;&#12290;&#24038;&#19979;&#29366;&#24577;&#26174;&#31034;recording @a</span>
I<span style="color: #8b2252;">"&lt;Esc&gt; A"</span>&lt;Esc&gt;  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20808;I&#22312;&#34892;&#39318;&#25554;&#20837;"&#21452;&#32496;&#21495; ,&#20877;&#25353;esc&#36820;&#22238;&#26222;&#36890;(normal)&#27169;&#24335;&#65292;&#20877;&#25353;A&#22312;&#34892;&#23614;&#25554;&#20837;"&#21452;&#32496;&#21495; ,&#20877;&#25353;esc&#36820;&#22238;&#26222;&#36890;(normal)&#27169;&#24335;</span>
q                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#32467;&#26463;&#23439;&#24405;&#21046;&#12290;&#24038;&#19979;&#29366;&#24577;recording @a&#24050;&#32463;&#28040;&#22833;&#65292;&#34920;&#26126;&#24405;&#21046;&#23436;&#20102;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#22238;&#25918;&#65306;</span>
j                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31227;&#21160;&#21040;&#19979;&#19968;&#34892;</span>
@a               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22238;&#25918;&#23439;</span>
j@@              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22238;&#25918;&#21516;&#26679;&#30340;&#23439;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#19978;&#38754;&#22238;&#25918;&#26102;&#19968;&#34892;&#34892;&#22238;&#25918;&#19981;&#26041;&#20415;&#65292;&#21487;&#20197;&#20351;&#29992;V&#21487;&#35270;&#21270;&#36827;&#34892;&#34892;&#36873;</span>
VG               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36873;&#20013;&#24403;&#21069;&#34892;&#21040;&#26368;&#21518;&#19968;&#34892;</span>
:<span style="color: #8b2252;">'&lt;,''&gt;normal @a #:&#20882;&#21495;&#36827;&#20837;&#21629;&#20196;&#34892;&#27169;&#24335;&#65292;&#22312;&#25152;&#26377;&#34892;&#25191;&#34892;normal&#21629;&#20196;&#22238;&#25918;&#23439;</span>

<span style="color: #8b2252;">#&#20063;&#21487;&#20197;&#20351;&#29992;normal&#30452;&#25509;&#22312;&#34892;&#20004;&#36793;&#21152;&#24341;&#21495;</span>
<span style="color: #8b2252;">VG               #&#36873;&#20013;&#24403;&#21069;&#34892;&#21040;&#26368;&#21518;&#19968;&#34892;</span>
<span style="color: #8b2252;">:'</span>&lt;,<span style="color: #8b2252;">''</span>&gt;normal I<span style="color: #8b2252;">" # &#34892;&#39318;&#21152;&#24341;&#21495;</span>
<span style="color: #8b2252;">:ctrl+p          # &#26174;&#31034;&#19978;&#19968;&#26465;&#25805;&#20316;&#21629;&#20196;&#65292;&#24182;&#20462;&#25913;&#20026;&#19979;&#38754;&#20869;&#23481; </span>
<span style="color: #8b2252;">:'&lt;,''&gt;normal A"</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#34892;&#23614;&#21152;&#24341;&#21495;</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ‰¹é‡æŠŠæ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å½“å‰æ–‡æ¡£ä¸­
</p>

<div class="org-src-container">
<pre class="src src-sh">qq     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24320;&#22987;&#24405;&#21046;</span>
jmm    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19979;&#19968;&#34892;&#20570;&#65292;m&#26631;&#35760;</span>
k$<span style="color: #a0522d;">bgf</span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22238;&#21040;&#19978;&#19968;&#34892;&#34892;&#23614;&#65292;b&#21435;&#21069;&#19968;&#20010;&#23383;&#31526;&#65292;gf&#36827;&#20837;&#21040;&#25991;&#20214;&#20013;</span>
ggyG   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22797;&#21046;&#20840;&#25991;</span>
ctrl+o <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22238;&#21040;&#19978;&#20010;&#20301;&#32622;</span>
Vp     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31896;&#36148;</span>
<span style="color: #ff00ff;">`mq    #&#31227;&#21160;&#21040;m&#26631;&#35760;&#20301;&#32622;&#24182;&#32467;&#26463;&#24405;&#21046;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:8f0a48cb-eeaf-4372-85b9-6b4ac153e8b0" class="outline-4">
<h4 id="h:8f0a48cb-eeaf-4372-85b9-6b4ac153e8b0">vimè¡¥å…¨</h4>
<div class="outline-text-4" id="text-h:8f0a48cb-eeaf-4372-85b9-6b4ac153e8b0">
<p>
vimä¸­æœ‰å¾ˆå¤šç§è¡¥å…¨çš„æ–¹å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">&lt;C-n&gt;       &#26222;&#36890;&#20851;&#38190;&#23383;
&lt;C-x&gt;&lt;C-n&gt;  &#24403;&#21069;&#32531;&#20914;&#21306;&#20851;&#38190;&#23383;
&lt;C-x&gt;&lt;C-i&gt;  &#21253;&#21547;&#25991;&#20214;&#20851;&#38190;&#23383;
&lt;C-x&gt;&lt;C-]&gt;  &#26631;&#31614;&#25991;&#20214;&#20851;&#38190;&#23383;
&lt;C-x&gt;&lt;C-k&gt;  &#23383;&#20856;&#26597;&#25214;
&lt;C-x&gt;&lt;C-l&gt;  &#25972;&#34892;&#34917;&#20840;
&lt;C-x&gt;&lt;C-f&gt;  &#25991;&#20214;&#21517;&#34917;&#20840;
&lt;C-x&gt;&lt;C-o&gt;  &#20840;&#33021;&#65288;Omni&#65289;&#34917;&#20840;
</pre>
</div>

<p>
å¸¸è§çš„ä¸‰ç§è¡¥å…¨ç±»å‹
</p>

<ul class="org-ul">
<li>ctrl+nå’Œctrl+pè¡¥å…¨å•è¯</li>
<li>ctrl+x ctrl+fè¡¥å…¨æ–‡ä»¶å</li>
<li>ctrl+x ctrl+o è¡¥å…¨ä»£ç ï¼Œéœ€è¦å¼€å¯æ–‡ä»¶ç±»å‹æ£€æŸ¥ï¼Œå®‰è£…æ’ä»¶</li>
</ul>

<p>
èŒƒä¾‹ï¼šè¡¥å…¨å•è¯
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Duck</span>:
    <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">__init__</span>(<span style="color: #a020f0;">self</span>, name):
        <span style="color: #a020f0;">self</span>.<span style="color: #a0522d;">name</span> = name
        <span style="color: #a020f0;">self</span>.<span style="color: #483d8b;">print</span>(<span style="color: #8b2252;">'hhe'</span>)
        <span style="color: #a020f0;">self</span>.pa(<span style="color: #8b2252;">'a'</span>)
        <span style="color: #a020f0;">self</span>.p&#36755;&#20837;ctrl+n&#34917;&#20840;&#65292;&#20351;&#29992;ctrl+n&#19979;&#19968;&#20010;&#25110;&#32773;ctrl+p&#19978;&#19968;&#20010;&#36827;&#34892;&#36873;&#25321;
<span style="color: #b22222;">#</span><span style="color: #b22222;">ctrl+n &#25628;&#32034;&#24403;&#21069;&#25991;&#20214;&#20013;&#30340;&#20851;&#38190;&#35789;&#65292;&#20197;&#21069;&#32512;&#21305;&#37197;&#30340;&#26041;&#24335;&#36827;&#34892;&#34917;&#20840;</span>
</pre>
</div>


<figure id="org1146a12">
<img src="images/image-20210616042336436.png" alt="image-20210616042336436.png" width="60%">

<figcaption><span class="figure-number">Figure 8: </span>image-20210616042336436</figcaption>
</figure>

<p>
èŒƒä¾‹ï¼šè·¯å¾„è¡¥å…¨
</p>


<figure id="orgc318935">
<img src="images/image-20210616042546887.png" alt="image-20210616042546887.png" width="60%">

<figcaption><span class="figure-number">Figure 9: </span>image-20210616042546887</figcaption>
</figure>

<p>
èŒƒä¾‹ï¼šä»£ç è¡¥å…¨
</p>

<div class="org-src-container">
<pre class="src src-sh">:filetype on <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24320;&#21551;&#25991;&#20214;&#31867;&#22411;  &#20351;&#29992;:set filetype&#23601;&#33021;&#35782;&#21035;&#25991;&#20214;&#31867;&#22411;</span>
&#23433;&#35013;&#25554;&#20214;&#21518;&#23601;&#21487;&#20197;&#20351;&#29992;&#65292;ctrl+x ctrl+o &#34917;&#20840;&#20195;&#30721;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3d64f22f-1fb0-497f-853f-5f3935384258" class="outline-4">
<h4 id="h:3d64f22f-1fb0-497f-853f-5f3935384258">vimæ›´æ¢é…è‰²</h4>
<div class="outline-text-4" id="text-h:3d64f22f-1fb0-497f-853f-5f3935384258">
<ul class="org-ul">
<li><code>:colorscheme</code> æ˜¾ç¤ºå½“å‰çš„ä¸»é¢˜é…è‰²ï¼Œé»˜è®¤æ˜¯default</li>
<li><code>:colorscheme &lt;ctrl+d&gt;</code> å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰é…è‰²</li>
<li><code>:colorscheme é…è‰²å</code> ä¿®æ”¹ vim é…è‰²</li>
</ul>

<p>
å¯ä»¥ä»ç½‘ä¸Šä¸‹è½½é…è‰²
</p>

<p>
<a href="https://github.com/flazz/vim-colorschemes">https://github.com/flazz/vim-colorschemes</a>
</p>

<p>
<a href="https://github.com/w0ng/vim-hybrid">https://github.com/w0ng/vim-hybrid</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">git clone https://github.com/w0ng/vim-hybrid.git
mkdir ~/.vim/colors
cp vim-hybrid/colors/hybrid.vim  ~/.vim/colors/

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;</span>
:colorscheme hybrid
</pre>
</div>

<p>
æƒ³è¦æŒä¹…åŒ–é…ç½®éœ€è¦å†™åˆ°vimrcä¸­
</p>
</div>
</div>
<div id="outline-container-h:cecdea16-4c76-4158-ac9a-59b313e0e788" class="outline-4">
<h4 id="h:cecdea16-4c76-4158-ac9a-59b313e0e788">ç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:cecdea16-4c76-4158-ac9a-59b313e0e788">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20197;&#20108;&#36827;&#21046;&#26041;&#24335;&#25171;&#24320;&#25991;&#20214;</span>
vim -b binaryfile
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25193;&#23637;&#21629;&#20196;&#27169;&#24335;&#19979;&#65292;&#21033;&#29992;xxd&#21629;&#20196;&#36716;&#25442;&#20026;&#21487;&#35835;&#30340;&#21313;&#20845;&#36827;&#21046;</span>
:%!xxd
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20999;&#25442;&#33267;&#25554;&#20837;&#27169;&#24335;&#19979;&#65292;&#32534;&#36753;&#20108;&#36827;&#21046;&#25991;&#20214;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20999;&#25442;&#33267;&#25193;&#23637;&#21629;&#20196;&#27169;&#24335;&#19979;&#65292;&#21033;&#29992;xxd&#21629;&#20196;&#36716;&#25442;&#22238;&#20108;&#36827;&#21046;</span>
:%!xxd  -r
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20445;&#23384;&#36864;&#20986;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">vim -b datafile
:set <span style="color: #a0522d;">display</span>=uhex -&gt; &#36825;&#26679;&#20250;&#20197;uhex&#26174;&#31034;&#12290;&#29992;&#26469;&#26174;&#31034;&#19968;&#20123;&#26080;&#27861;&#26174;&#31034;&#30340;&#23383;&#31526;&#65288;&#25511;&#21046;&#23383;&#31526;&#20043;&#31867;&#65289;(display<span style="color: #a020f0;"> in</span> uhex play non-display char)
:%!xxd -&gt; &#26356;&#25913;&#24403;&#21069;&#25991;&#20214;&#26174;&#31034;&#20026;2&#36827;&#20301; (change display to binary)
:%!xxd -r -&gt; &#26356;&#25913;&#20108;&#36827;&#20301;&#20026;text&#26684;&#24335; (convert back to text
</pre>
</div>


<figure id="org43e0074">
<img src="images/image-20210215234500848.png" alt="image-20210215234500848.png" width="60%">

<figcaption><span class="figure-number">Figure 10: </span>image-20210215234500848</figcaption>
</figure>

<p>
ç»ƒä¹ 
</p>
<ol class="org-ol">
<li>åœ¨vimä¸­è®¾ç½®tabç¼©è¿›ä¸º4ä¸ªå­—ç¬¦</li>
<li>å¤åˆ¶/etc/rc.d/init.d/functionsæ–‡ä»¶è‡³/tmpç›®å½•ï¼Œæ›¿æ¢/tmp/functionsæ–‡
ä»¶ä¸­çš„/etc/sysconfig/initä¸º/var/log</li>
<li>åˆ é™¤/tmp/functionsæ–‡ä»¶ä¸­æ‰€æœ‰ä»¥#å¼€å¤´ï¼Œä¸”#åé¢è‡³å°‘æœ‰ä¸€ä¸ªç©ºç™½å­—ç¬¦çš„è¡Œ
çš„è¡Œé¦–çš„#å·</li>
</ol>
</div>
</div>
<div id="outline-container-h:bebc6681-0317-4bee-a761-a95c432cad18" class="outline-4">
<h4 id="h:bebc6681-0317-4bee-a761-a95c432cad18">å¸®åŠ©</h4>
<div class="outline-text-4" id="text-h:bebc6681-0317-4bee-a761-a95c432cad18">
<div class="org-src-container">
<pre class="src src-sh">vimcdoc &#20013;&#25991;&#25991;&#26723;&#25554;&#20214;

<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">helplang</span>= &lt;Ctrl+d&gt; &#26597;&#30475;&#21487;&#29992;&#35821;&#35328;
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">helplang</span>=en &#35774;&#32622;&#33521;&#25991;&#25991;&#26723;
&#35201;&#21551;&#21160;&#35813;&#24110;&#21161;&#31995;&#32479;&#65292;&#35831;&#36873;&#25321;&#22914;&#19979;&#19977;&#31181;&#26041;
  &#27861;&#20043;&#19968;&#65306;
    - &#25353;&#19979; &lt;HELP&gt; &#38190; (&#22914;&#26524;&#38190;&#30424;&#19978;&#26377;&#30340;&#35805;)
    - &#25353;&#19979; &lt;F1&gt; &#38190; (&#22914;&#26524;&#38190;&#30424;&#19978;&#26377;&#30340;&#35805;)
    - &#36755;&#20837;    :help &lt;&#22238;&#36710;&gt;

  &#35831;&#38405;&#35835;&#24110;&#21161;&#31383;&#21475;&#20013;&#30340;&#25991;&#23383;&#20197;&#20102;&#35299;&#24110;&#21161;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#12290;
  &#36755;&#20837; CTRL-W CTRL-W   &#21487;&#20197;&#20351;&#24744;&#22312;&#31383;&#21475;&#20043;&#38388;&#36339;&#36716;&#12290;
  &#36755;&#20837; :q &lt;&#22238;&#36710;&gt; &#21487;&#20197;&#20851;&#38381;&#24110;&#21161;&#31383;&#21475;&#12290;


&#35201;&#21551;&#21160;&#35813;&#24110;&#21161;&#31995;&#32479;&#65292;&#35831;&#36873;&#25321;&#22914;&#19979;&#19977;&#31181;&#26041;&#27861;&#20043;&#19968;&#65306;
    - &#25353;&#19979; &lt;HELP&gt; &#38190; (&#22914;&#26524;&#38190;&#30424;&#19978;&#26377;&#30340;&#35805;)
    - &#25353;&#19979; &lt;F1&gt; &#38190; (&#22914;&#26524;&#38190;&#30424;&#19978;&#26377;&#30340;&#35805;)
    - &#36755;&#20837;    :help &lt;&#22238;&#36710;&gt;

  &#35831;&#38405;&#35835;&#24110;&#21161;&#31383;&#21475;&#20013;&#30340;&#25991;&#23383;&#20197;&#20102;&#35299;&#24110;&#21161;&#26159;&#22914;&#20309;&#24037;&#20316;&#30340;&#12290;
  &#36755;&#20837; CTRL-W CTRL-W   &#21487;&#20197;&#20351;&#24744;&#22312;&#31383;&#21475;&#20043;&#38388;&#36339;&#36716;&#12290;
  &#36755;&#20837; :q &lt;&#22238;&#36710;&gt; &#21487;&#20197;&#20851;&#38381;&#24110;&#21161;&#31383;&#21475;&#12290;

&#20363;&#22914;&#65306;
:help
:help s <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;s&#26367;&#25442;&#30340;&#29992;&#27861;</span>
:help user-manual &#29992;&#25143;&#25163;&#20876;
Use :q to exit help

vimtutor
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4cba438d-9d55-4ca9-9db7-eed0909468d3" class="outline-4">
<h4 id="h:4cba438d-9d55-4ca9-9db7-eed0909468d3">vim æ€»ç»“å›¾</h4>
<div class="outline-text-4" id="text-h:4cba438d-9d55-4ca9-9db7-eed0909468d3">

<figure id="org54f674f">
<img src="images/vim1.jpg" alt="vim1.jpg">

<figcaption><span class="figure-number">Figure 11: </span>vim1</figcaption>
</figure>


<figure id="orgdde30d9">
<img src="images/vim2.jpg" alt="vim2.jpg">

<figcaption><span class="figure-number">Figure 12: </span>vim2</figcaption>
</figure>
</div>
</div>
<div id="outline-container-h:76f07648-aebe-486e-b01e-981c06294662" class="outline-4">
<h4 id="h:76f07648-aebe-486e-b01e-981c06294662">å¯è§†åŒ–æ¨¡å¼</h4>
<div class="outline-text-4" id="text-h:76f07648-aebe-486e-b01e-981c06294662">
<div class="org-src-container">
<pre class="src src-sh">&#23383;&#31526;&#20018;&#26367;
:3,15 s#<span style="color: #8b2252;">"#'#g   #&#23558;3&#21040;15&#34892;&#30340;"</span>&#25442;&#25104;<span style="color: #8b2252;">'</span>
<span style="color: #8b2252;">:%s/\%u3000//g   &#21024;&#38500;&#20013;&#25991;&#31354;&#26684;</span>

<span style="color: #8b2252;">&#29983;&#25104;&#24110;&#21161;&#26631;&#31614;</span>
<span style="color: #8b2252;">:helptags ~/.vim/doc</span>

<span style="color: #8b2252;">:set shiftwidth=4 tabstop=4 expandtab</span>
<span style="color: #8b2252;">tabstop &#34920;&#31034;&#19968;&#20010; tab &#26174;&#31034;&#20986;&#26469;&#26159;&#22810;&#23569;&#20010;&#31354;&#26684;&#30340;&#38271;&#24230;&#65292;&#40664;&#35748; 8&#12290;</span>
<span style="color: #8b2252;">shiftwidth &#34920;&#31034;&#27599;&#19968;&#32423;&#32553;&#36827;&#30340;&#38271;&#24230;</span>
<span style="color: #8b2252;">expandtab &#34920;&#31034;&#31354;&#30333;&#21464;&#25104;&#31354;&#26684;</span>

<span style="color: #8b2252;">&#20851;&#38381;&#33258;&#21160;&#27880;&#37322;</span>
<span style="color: #8b2252;">:set fo-=r</span>
<span style="color: #8b2252;">&#24674;&#22797;</span>
<span style="color: #8b2252;">:set fo=r</span>

<span style="color: #8b2252;">&#24320;&#21551;/&#20851;&#38381;&#33258;&#21160;&#32553;&#36827;</span>
<span style="color: #8b2252;">&#35774;&#32622; set pastetoggle &#21363;&#21487;&#24320;&#21551;/&#20851;&#38381;&#33258;&#21160;&#32553;&#36827;</span>
<span style="color: #8b2252;">&#20063;&#21487;&#20197;&#35774;&#32622;&#25104;&#24555;&#25463;&#38190;&#65306;set pastetoggle=&lt;F9&gt;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6fca60d5-cb5e-4dc1-bc1b-d561f6f5bb9f" class="outline-4">
<h4 id="h:6fca60d5-cb5e-4dc1-bc1b-d561f6f5bb9f">ä»£ç æŠ˜å </h4>
<div class="outline-text-4" id="text-h:6fca60d5-cb5e-4dc1-bc1b-d561f6f5bb9f">
<p>
åŸç”Ÿæ”¯æŒ
</p>

<ul class="org-ul">
<li>V é€‰ä¸­ä»£ç å— # è¿™é‡Œä»¥javaä»£ç ä¸ºä¾‹</li>
<li>åˆ›å»ºå¹¶æŠ˜å ä»£ç ï¼šæŒ‰z f å…¶ä¸­fè¡¨ç¤ºfold åˆ›å»ºå¯æŠ˜å ä»£ç å—ã€‚å¯åµŒå¥—æŠ˜å </li>
<li>æ‰“å¼€ä»£ç éœ€æ±‚æ”¶é›†ï¼šz o å…¶ä¸­oè¡¨ç¤ºopen</li>
<li>æŠ˜å ä»£ç å—ï¼šz c(close)</li>
<li>åˆ é™¤æŠ˜å ä»£ç å—ï¼š z d(delete)</li>
</ul>

<p>
è§†å›¾ï¼šå¯ç”¨åœ¨ä»£ç æŠ˜å æ—¶è®°å½•è§†å›¾ï¼Œé€€å‡º vim
å†åŠ è½½è§†å›¾åˆèƒ½çœ‹åˆ°ä¿å­˜çš„æŠ˜å çŠ¶æ€ä»£ç 
</p>

<ul class="org-ul">
<li>åˆ›å»ºè§†å›¾ï¼š :mkview</li>
<li>åŠ è½½è§†å›¾ï¼š :loadview</li>
</ul>

<p>
è‡ªåŠ¨åŠ è½½è§†å›¾ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">autocmd BufWrite * mkview
autocmd BufWinLeave * mkview
autocmd BufRead * silent loadview
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3a03e407-fcf1-4c5d-b909-32fbadc684be" class="outline-4">
<h4 id="h:3a03e407-fcf1-4c5d-b909-32fbadc684be">tabçª—å£æ ‡ç­¾</h4>
<div class="outline-text-4" id="text-h:3a03e407-fcf1-4c5d-b909-32fbadc684be">
<div class="org-src-container">
<pre class="src src-sh">vim a.txt
:tabedit b.txt <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22312;&#19978;&#26041;&#21487;&#20197;&#30475;&#21040;2&#20010;tab&#26631;&#31614;</span>
:ls &#26597;&#30475;&#25152;&#26377;buffer
:tabprevious &#22238;&#21040;&#19978;&#19968;&#20010;buffer&#65292;&#26469;&#23454;&#29616;&#19981;&#21516;buffer&#30340;&#20999;&#25442;
:tabnext &#19979;&#19968;&#20010;buffer

:tabe c.txt <span style="color: #b22222;"># </span><span style="color: #b22222;">:tabe&#26159;tabedit&#30340;&#31616;&#20889;</span>
:tabp <span style="color: #b22222;"># </span><span style="color: #b22222;">:tabprevious &#30340;&#31616;&#20889;</span>
:tabn <span style="color: #b22222;"># </span><span style="color: #b22222;">:tabnext &#30340;&#31616;&#20889;</span>

gt <span style="color: #b22222;"># </span><span style="color: #b22222;">go to  &#24555;&#25463;&#38190;&#65292;&#21151;&#33021;&#21644;:tabnext&#19968;&#26679;</span>
gT <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21040;&#19978;&#19968;&#20010;&#26631;&#31614;</span>
&#32534;&#21495;gt <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30452;&#21040;&#25351;&#23450;&#26631;&#31614;&#65292;&#32534;&#21495;&#26159;&#20174;1&#24320;&#22987;&#12290;&#22914;&#65292;0gt</span>

:tabm &#32534;&#21495;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#24403;&#21069;&#31383;&#21475;&#31227;&#21160;&#21040;&#32534;&#21495;&#20301;&#32622;&#65292;&#32534;&#21495;&#20174;0&#24320;&#22987;</span>
:tabclose <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20851;&#38381;tab&#31383;&#21475;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c497a136-8cb8-4bbf-ac82-2305d0476516" class="outline-4">
<h4 id="h:c497a136-8cb8-4bbf-ac82-2305d0476516">swp äº¤æ¢æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:c497a136-8cb8-4bbf-ac82-2305d0476516">
<p>
æ„å¤–é€€å‡ºæˆ–æ­£åœ¨ç¼–è¾‘ï¼Œäº§ç”Ÿ <code>.æ–‡ä»¶å.swp</code> æ–‡ä»¶ã€‚
</p>

<p>
å†æ‰“å¼€æ–‡ä»¶å°±ä¼šè§¦å‘äº¤æ¢æ–‡ä»¶çš„æ¢å¤æ¨¡å¼ï¼š
</p>

<ul class="org-ul">
<li>r æ¢å¤æ–‡ä»¶</li>
</ul>

<p>
é»˜è®¤swpæ–‡ä»¶æ¯éš” 40 ç§’æˆ–æ¯ç¼–è¾‘ 200 ä¸ªå­—ç¬¦å°±è¿›è¡Œä¸€æ¬¡ swp æ–‡ä»¶çš„ä¿å­˜
</p>

<p>
è®¾ç½®äº¤æ¢æ–‡ä»¶ç­–ç•¥ vim ~/.vimrc
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">set</span> <span style="color: #a0522d;">updatetime</span>=23000 <span style="color: #8b2252;">" &#21047;&#26032;&#20132;&#25442;&#25991;&#20214;&#30340;&#26102;&#38388;&#38388;&#38548;&#65292;&#21333;&#20301;&#27627;&#31186;</span>
<span style="color: #8b2252;">set updatecount=400 "</span> &#32534;&#36753;&#28385;&#22810;&#20010;&#23383;&#31526;&#21047;&#26032;&#20132;&#25442;&#25991;&#20214;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ee8158db-7149-4647-9f28-fea0388bfcdb" class="outline-4">
<h4 id="h:ee8158db-7149-4647-9f28-fea0388bfcdb">vim å…¶å®ƒæ“ä½œ</h4>
<div class="outline-text-4" id="text-h:ee8158db-7149-4647-9f28-fea0388bfcdb">
<p>
æ•°å€¼åŠ å‡ï¼š
</p>

<ul class="org-ul">
<li>æ•°å€¼åŠ 1ï¼šæŒ‰ctrl+aï¼Œå…‰æ ‡æ‰€åœ¨åˆ—å‘å³æ‰¾åˆ°çš„æ•°å€¼ã€‚ <code>10Ctrl+a</code> æ•°å€¼åŠ 10æ¬¡</li>
<li>æ•°å€¼å‡1ï¼šæŒ‰ctrl+xï¼Œå…‰æ ‡æ‰€åœ¨åˆ—å‘å³æ‰¾åˆ°çš„æ•°å€¼ï¼Œ</li>
</ul>

<p>
è‡ªå¢åºå·ï¼š
</p>

<ul class="org-ul">
<li>ctrl+v é€‰ä¸­éœ€è¦çš„æ•°å­—ï¼ŒæŒ‰ g ctrl+a ç”Ÿæˆè‡ªå¢åºå·</li>
</ul>

<p>
vim è¡Œçš„å­—å…¸æ’åºï¼Œå³è‡ªç„¶æ’åº:
</p>

<ul class="org-ul">
<li>æŒ‡å®šè¡Œå·ä½¿ç”¨sortæ’åºã€‚å¦‚ <code>:6,19sort</code> å¯¹ç¬¬6è¡Œåˆ°19è¡Œè¿›è¡Œæ’åº</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:134d72ac-74fd-4ba7-82da-b08157863e7c" class="outline-3">
<h3 id="h:134d72ac-74fd-4ba7-82da-b08157863e7c">vimé…ç½®</h3>
<div class="outline-text-3" id="text-h:134d72ac-74fd-4ba7-82da-b08157863e7c">
<p>
vimrcæä¾›äº†ä¸€ç§æŒä¹…åŒ–é…ç½®çš„æ–¹å¼ï¼Œè®©æˆ‘ä»¬è‡ªå·±å®šä¹‰é…ç½®ã€‚
</p>
</div>
<div id="outline-container-h:6dc8c407-1b05-4d47-acba-a81fdec93e32" class="outline-4">
<h4 id="h:6dc8c407-1b05-4d47-acba-a81fdec93e32">ç¼–å†™vimé…ç½®æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:6dc8c407-1b05-4d47-acba-a81fdec93e32">
<p>
åœ¨linuxä¸‹æ–°å»ºä¸€ä¸ªéšè—æ–‡ä»¶ <code>vim ~/.vimrc</code>
</p>

<p>
windowsç³»ç»Ÿ <code>vim $MYVIMRC</code> é€šè¿‡ç¯å¢ƒå˜é‡ç¼–è¾‘é…ç½®æ–‡ä»¶
</p>

<p>
é…ç½®å†…å®¹
</p>

<ul class="org-ul">
<li>å¸¸ç”¨è®¾ç½®ã€‚å¦‚ <code>:set nu</code> è®¾ç½®è¡Œå·ï¼Œ <code>colorscheme hybrid</code> è®¾ç½®ä¸»é¢˜</li>
<li>å¸¸ç”¨çš„vimæ˜ å°„ï¼Œå¦‚ <code>noremap &lt;leader&gt;w :w&lt;cr&gt;</code> å®ç°ä¿å­˜æ–‡ä»¶æ“ä½œ</li>
<li>è‡ªå®šä¹‰çš„vimscriptå‡½æ•°(vim é«˜æ‰‹)å’Œæ’ä»¶çš„é…ç½®</li>
</ul>
</div>
<div id="outline-container-h:f8becea2-8b06-4c71-a2fc-49424a095617" class="outline-5">
<h5 id="h:f8becea2-8b06-4c71-a2fc-49424a095617">å¸¸ç”¨è®¾ç½®</h5>
<div class="outline-text-5" id="text-h:f8becea2-8b06-4c71-a2fc-49424a095617">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013; plug &#31649;&#29702;&#25554;&#20214;</span>
curl -fLo ~/.vim/autoload/plug.vim --create-dirs <span style="color: #8b2252;">\</span>
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim

cat &lt;&lt;\EOF&gt;&gt; ~/.vimrc
<span style="color: #ffa54f;">" common setting</span>
<span style="color: #ffa54f;">syntax on</span>
<span style="color: #ffa54f;">set ttimeout ttimeoutlen=10</span>
<span style="color: #ffa54f;">set clipboard=unnamebplus</span>
<span style="color: #ffa54f;">set clipboard=unnamed</span>
<span style="color: #ffa54f;">"set undofile</span>
<span style="color: #ffa54f;">"set undodir=~/.vim/undodir</span>
<span style="color: #ffa54f;">set history=1000</span>
<span style="color: #ffa54f;">set paste</span>
<span style="color: #ffa54f;">set expandtab</span>
<span style="color: #ffa54f;">set tabstop=4</span>
<span style="color: #ffa54f;">set softtabstop=4</span>
<span style="color: #ffa54f;">set shiftwidth=4</span>
<span style="color: #ffa54f;">set encoding=utf-8</span>
<span style="color: #ffa54f;">set cursorline</span>

<span style="color: #ffa54f;">set hlsearch</span>
<span style="color: #ffa54f;">set incsearch</span>
<span style="color: #ffa54f;">set noautoindent</span>
<span style="color: #ffa54f;">set nosmartindent</span>
<span style="color: #ffa54f;">"set autoindent</span>
<span style="color: #ffa54f;">"set smartindent</span>
<span style="color: #ffa54f;">set ruler</span>

<span style="color: #ffa54f;">autocmd FileType yaml setlocal ts=2 sw=2</span>
<span style="color: #ffa54f;">autocmd FileType html setlocal ts=2 sw=2</span>

<span style="color: #ffa54f;">call plug#begin('~/.vim/plugged')</span>

<span style="color: #ffa54f;">" &#23433;&#35013;&#25554;&#20214;&#21482;&#38656;&#35201;&#25226;github&#22320;&#22336;&#25918;&#21040;&#36825;&#37324;&#37325;&#21551;&#21518;&#25191;&#34892; :PlugInstall &#23601;&#22909;&#20102;</span>
<span style="color: #ffa54f;">"Plug 'Yggdroot/indentLine'</span>

<span style="color: #ffa54f;">call plug#end()</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>


<figure id="org63e6b74">
<img src="images/image-20210616051249036.png" alt="image-20210616051249036.png" width="60%">

<figcaption><span class="figure-number">Figure 13: </span>image-20210616051249036</figcaption>
</figure>

<p>
å…¶ä»–
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">" Add config </span>
<span style="color: #8b2252;">set nu</span>
<span style="color: #8b2252;">syntax on</span>
<span style="color: #8b2252;">set ruler</span>
<span style="color: #8b2252;">set foldenable</span>
<span style="color: #8b2252;">set foldmethod=manual</span>
<span style="color: #8b2252;">set background=dark</span>
<span style="color: #8b2252;">set helplang=cn</span>
<span style="color: #8b2252;">set encoding=utf8</span>
<span style="color: #8b2252;">set fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936</span>
<span style="color: #8b2252;">set termencoding=utf-8</span>
<span style="color: #8b2252;">set autoread</span>
<span style="color: #8b2252;">set completeopt=preview,menu</span>
<span style="color: #8b2252;">set nobackup</span>
<span style="color: #8b2252;">set cursorline</span>
<span style="color: #8b2252;">set magic</span>
<span style="color: #8b2252;">set nocompatible</span>
<span style="color: #8b2252;">set autoindent</span>
<span style="color: #8b2252;">set cindent</span>
<span style="color: #8b2252;">set tabstop=4</span>
<span style="color: #8b2252;">set softtabstop=4</span>
<span style="color: #8b2252;">set shiftwidth=4</span>
<span style="color: #8b2252;">set noexpandtab</span>
<span style="color: #8b2252;">set ignorecase</span>
<span style="color: #8b2252;">set langmenu=zh_CN.UTF-8</span>
<span style="color: #8b2252;">set showcmd</span>
<span style="color: #8b2252;">set incsearch</span>
<span style="color: #8b2252;">filetype off</span>
<span style="color: #8b2252;">"</span> git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">rtp</span>+=~/.vim/bundle/Vundle.vim
call vundle#begin()
Plugin <span style="color: #8b2252;">'VundleVim/Vundle.vim'</span>
Plugin <span style="color: #8b2252;">'davidhalter/jedi-vim'</span>, { <span style="color: #8b2252;">'commit'</span>: <span style="color: #8b2252;">'1773837a11f311bd04755c70de363b5000c9cd15'</span> }
Bundle <span style="color: #8b2252;">'tomasr/molokai'</span>
call vundle#end()            <span style="color: #8b2252;">" required</span>
<span style="color: #8b2252;">filetype plugin indent on    "</span> required
colorscheme molokai
<span style="color: #483d8b;">let</span> g:molokai_original = 1
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">statusline</span>=%F%m%r%h%w[%L][%{&amp;ff}]%y[%p%%][%04l,%04v]
<span style="color: #8b2252;">"              | | | | |  |   |      |  |     |    |</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | |  |   |      |  |     |    +--&#24403;&#21069;&#21015;&#25968;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | |  |   |      |  |     +-- &#24403;&#21069;&#34892;&#25968;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | |  |   |      |  +--&#24403;&#21069;&#20809;&#26631;&#20301;&#32622;&#30334;&#20998;&#27604;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | |  |   |      +-- &#20351;&#29992;&#30340;&#35821;&#27861;&#39640;&#20142;&#22120;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | |  |   +-- &#25991;&#20214;&#26684;&#24335;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | |  +-- &#25991;&#20214;&#24635;&#34892;&#25968;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | | +-- &#39044;&#35272;&#26631;&#24535;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | | +-- &#24110;&#21161;&#25991;&#20214;&#26631;&#24535;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | | +-- &#21482;&#35835;&#26631;&#24535;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              | +-- &#24050;&#20462;&#25913;&#26631;&#24535;</span>
<span style="color: #8b2252;">"</span>              <span style="color: #8b2252;">"              +-- &#24403;&#21069;&#25991;&#20214;&#32477;&#23545;&#36335;&#24452;</span>
<span style="color: #8b2252;">"</span>&#19979;&#38754;&#20004;&#34892;&#26159;&#36229;&#36807;80&#20010;&#23383;&#31526;&#24213;&#33394;&#21464;&#32418;
highlight OverLength <span style="color: #a0522d;">ctermbg</span>=red <span style="color: #a0522d;">ctermfg</span>=white <span style="color: #a0522d;">guibg</span>=#592929 
match OverLength /<span style="color: #8b2252;">\%</span>100v.<span style="color: #8b2252;">\+</span>/

au BufNewFile,BufRead /usr/local/nginx/conf setf nginx
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9efbda69-7faa-4988-b7af-d7067efff6e5" class="outline-5">
<h5 id="h:9efbda69-7faa-4988-b7af-d7067efff6e5">vimæ˜ å°„</h5>
<div class="outline-text-5" id="text-h:9efbda69-7faa-4988-b7af-d7067efff6e5">
<p>
å……åˆ†åˆ©ç”¨ leader é”®ï¼Œé¿å…è‡ªå®šä¹‰äº†å¤ªå¤šä½¿ç”¨ Ctrl é”®çš„å¿«æ·é”®å’Œå…¶å®ƒå·¥å…·å†²çªã€‚
</p>

<p>
vimæ˜ å°„æ¯”è¾ƒå¤æ‚ï¼Œæºäºvimæœ‰å¤šç§æ¨¡å¼
</p>

<ul class="org-ul">
<li>è®¾ç½®ä¸€ä¸‹ leaderé”® <code>let mapleader = ","</code> å¸¸ç”¨çš„é€—å·æˆ–ç©ºæ ¼</li>
<li>æ¯”å¦‚ç”¨ <code>inoremap &lt;leader&gt;w &lt;Esc&gt;:w&lt;cr&gt;</code> åœ¨æ’å…¥æ¨¡å¼ä¸‹ä¿å­˜</li>
</ul>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">vim ~/.vimrc</span>
<span style="color: #8b2252;">" leader &#38190;</span>
<span style="color: #8b2252;">let mapleader="</span>,<span style="color: #8b2252;">"</span>
<span style="color: #8b2252;">"</span> inoremap &#34920;&#31034;&#38750;&#36882;&#24402;&#30340;&#26144;&#23556; leader &#25353;w &#20351;&#29992;Esc&#36827;&#20837;normal&#27169;&#24335;&#25191;&#34892;:w&#36827;&#34892;&#20445;&#23384;,&lt;cr&gt;&#34920;&#31034;&#22238;&#36710;
inoremap &lt;leader&gt;w &lt;Esc&gt;:w&lt;cr&gt;
<span style="color: #8b2252;">" &#20351;&#29992;kj&#24555;&#36895;&#36827;&#20837;Normal&#27169;&#24335;</span>
<span style="color: #8b2252;">inoremap kj &lt;Esc&gt;</span>
<span style="color: #8b2252;">"</span> &#29983;&#25928;&#26041;&#24335;&#65306;&#36864;&#20986;&#20877;&#32534;&#36753;&#25991;&#20214; &#25110; &#20445;&#23384;&#21518;&#25191;&#34892;:source ~/.vimrc

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20351;&#29992;</span>
&#22312;insert&#25554;&#20837;&#27169;&#24335;&#19979;&#65292;&#20351;&#29992;,w&#23601;&#21487;&#20197;&#20445;&#23384;&#25991;&#20214;&#20102;&#12290;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">noremap &lt;C-l&gt; &lt;C-w&gt;l
<span style="color: #8b2252;">" json &#26684;&#24335;&#21270; &#22312;comand&#27169;&#24335;&#19979;&#20351;&#29992;:FormatJSON &#20351;&#29992;Python&#21629;&#20196;&#26684;&#24335;&#21270;&#25991;&#20214;&#12290;&#31105;&#29992;&#25152;&#26377;&#20462;&#25913;:e!</span>
<span style="color: #8b2252;">com! FormatJSON %!python3 -m json.tool</span>
</pre>
</div>


<figure id="orgcd3a134">
<img src="images/image-20210616054233147.png" alt="image-20210616054233147.png" width="60%">

<figcaption><span class="figure-number">Figure 14: </span>image-20210616054233147</figcaption>
</figure>
</div>
</div>
<div id="outline-container-h:7c25afda-c376-48db-8e95-4d665c408e62" class="outline-5">
<h5 id="h:7c25afda-c376-48db-8e95-4d665c408e62">vimæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:7c25afda-c376-48db-8e95-4d665c408e62">
<p>
é€šè¿‡æ’ä»¶å¯ä»¥æ— é™æ‰©å……vimçš„åŠŸèƒ½
</p>


<figure id="org1012078">
<img src="images/image-20210616055137402.png" alt="image-20210616055137402.png" width="60%">

<figcaption><span class="figure-number">Figure 15: </span>image-20210616055137402</figcaption>
</figure>
</div>
</div>
<div id="outline-container-h:ff9cad7d-9d2a-432b-b55b-98a98ac5a636" class="outline-5">
<h5 id="h:ff9cad7d-9d2a-432b-b55b-98a98ac5a636">vimè„šæœ¬</h5>
<div class="outline-text-5" id="text-h:ff9cad7d-9d2a-432b-b55b-98a98ac5a636">
<p>
vimæœ‰è‡ªå·±çš„è„šæœ¬è¯­è¨€Vimscriptã€‚vimè„šæœ¬æ˜¯ä¸€ç§ç®€å•çš„è„šæœ¬è¯­è¨€ã€‚å¯ä»¥é€šè¿‡
vimscriptå®ç°æ›´å¤švimçš„æ§åˆ¶ï¼Œå¼€å‘è‡ªå·±çš„æ’ä»¶ã€‚
</p>


<figure id="orgd2c2a50">
<img src="images/image-20210616055056749.png" alt="image-20210616055056749.png" width="60%">

<figcaption><span class="figure-number">Figure 16: </span>image-20210616055056749</figcaption>
</figure>

<p>
ç ”ç©¶ä¸€ä¸‹å…³äºå†™goè¯­è¨€çš„æœ€å°é…ç½®ï¼Œvim-goæ•™ç¨‹vim-go-tutorial
</p>

<p>
<a href="https://github.com/fatih/vim-go-tutorial">https://github.com/fatih/vim-go-tutorial</a>
</p>
</div>
</div>
</div>
<div id="outline-container-h:8e736686-7f7f-48d6-9708-b01e667e2367" class="outline-4">
<h4 id="h:8e736686-7f7f-48d6-9708-b01e667e2367">vimæ˜ å°„</h4>
<div class="outline-text-4" id="text-h:8e736686-7f7f-48d6-9708-b01e667e2367">
<p>
vimæ˜ å°„å°±æ˜¯æŠŠä¸€ä¸ªæ“ä½œæ˜ å°„åˆ°å¦ä¸€ä¸ªæ“ä½œä¸Šã€‚å¯ä»¥å°†ä¸æ»¡æ„çš„æŒ‰é”®è®¾ç½®ï¼Œæˆ–è€…
æ˜ å°„ä¸€äº›æ–¹ä¾¿çš„å¿«æ·é”®ã€‚
</p>
</div>
<div id="outline-container-h:d44705e2-8694-474d-8771-ed9de9edb26d" class="outline-5">
<h5 id="h:d44705e2-8694-474d-8771-ed9de9edb26d">åŸºæœ¬æ˜ å°„</h5>
<div class="outline-text-5" id="text-h:d44705e2-8694-474d-8771-ed9de9edb26d">
<p>
åŸºæœ¬æ˜ å°„æŒ‡çš„æ˜¯normalæ¨¡å¼ä¸‹çš„æ˜ å°„ï¼Œå½“ç„¶è¿˜æœ‰å…¶å®ƒæ¨¡å¼çš„æ˜ å°„ã€‚
</p>

<ul class="org-ul">
<li>ä½¿ç”¨mapå°±å¯ä»¥å®ç°æ˜ å°„ã€‚å¦‚ <code>:map - x</code> å‡å·æ˜ å°„æˆxï¼Œç„¶åæŒ‰ <code>-</code> å‡å·å°±
ä¼šåˆ é™¤å­—ç¬¦</li>
</ul>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh">:map &lt;space&gt; viw <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25353;&#31354;&#26684;&#30340;&#26102;&#20505;&#36873;&#20013;&#25972;&#20010;&#21333;&#35789;</span>
:map &lt;c-d&gt; dd    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20351;&#29992;ctrl+d&#25191;&#34892;dd&#21024;&#38500;&#19968;&#34892;</span>
:umap -    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;-&#21495;&#30340;&#26144;&#23556;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a7034b61-49cf-417a-8da5-5c2b7e71734f" class="outline-5">
<h5 id="h:a7034b61-49cf-417a-8da5-5c2b7e71734f">æ¨¡å¼æ˜ å°„</h5>
<div class="outline-text-5" id="text-h:a7034b61-49cf-417a-8da5-5c2b7e71734f">
<p>
vimå¸¸ç”¨æ¨¡å¼normal/visual/insertéƒ½å¯ä»¥å®šä¹‰æ˜ å°„
</p>

<ul class="org-ul">
<li>ç”¨nmap/vmap/imapå®šä¹‰æ˜ å°„åªåœ¨normal/visual/insertåˆ†åˆ«æœ‰æ•ˆ</li>
</ul>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh">:vmap <span style="color: #8b2252;">\ </span>U <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25226;&#22312;visual&#27169;&#24335;&#19979;&#36873;&#20013;&#30340;&#25991;&#26412;&#22823;&#23567;(u/U&#36716;&#25442;&#22823;&#23567;&#20889;)</span>
:imap &lt;c-d&gt; &lt;Esc&gt;ddi  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22312;insert&#27169;&#24335;&#19979;&#65292;&#29992;ctrl+d &#21024;&#38500;&#19968;&#34892;&#24182;&#36827;&#20837;&#25554;&#20837;&#27169;&#24335;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:097b79a7-4580-4cb3-9bb6-3bcd0750d326" class="outline-5">
<h5 id="h:097b79a7-4580-4cb3-9bb6-3bcd0750d326">é€’å½’ä¸éé€’å½’æ˜ å°„</h5>
<div class="outline-text-5" id="text-h:097b79a7-4580-4cb3-9bb6-3bcd0750d326">
<p>
<code>*map</code> ç³»ç»Ÿå‘½ä»¤æœ‰é€’å½’çš„é£é™©
</p>

<ul class="org-ul">
<li>å¦‚æœå®‰è£…äº†æ’ä»¶ï¼Œæ’ä»¶æ˜ å°„äº†åŒä¸€ä¸ªæŒ‰é”®çš„ä¸åŒè¡Œä¸ºï¼Œæœ‰å†²çªå°±ä¼šæœ‰ä¸€ä¸ªå¤±æ•ˆã€‚</li>
<li>è§£å†³æ–¹æ¡ˆå°±æ˜¯éé€’å½’æ˜ å°„</li>
</ul>

<p>
éé€’å½’æ˜ å°„ä¸­è¿™äº›å‘½ä»¤ä¸ä¼šé€’å½’è§£é‡Šã€‚
</p>

<ul class="org-ul">
<li>ä½¿ç”¨ <code>*map</code> å¯¹åº”çš„éé€’å½’æ˜ å°„nnoremap/vnoremap/inoremap</li>
<li>ä»»ä½•æ—¶å€™éƒ½åº”è¯¥ä½¿ç”¨éé€’å½’æ˜ å°„ï¼Œé˜²æ­¢å†²çª</li>
</ul>

<p>
å‚è€ƒï¼šç¬¨æ–¹æ³•å­¦vimscript
<a href="https://github.com/wmzy/learnvimscriptthehardway-cn">https://github.com/wmzy/learnvimscriptthehardway-cn</a>
</p>

<p>
èŒƒä¾‹ï¼šå¿«é€Ÿåˆ†å‰²çª—å£
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">vim ~/.vimrc</span>

<span style="color: #8b2252;">" window contrl prefix</span>
<span style="color: #8b2252;">nnoremap [Window] &lt;Nop&gt;</span>
<span style="color: #8b2252;">nmap     s [Window]</span>
<span style="color: #8b2252;">"</span> &#20351;&#29992; sv, sg&#24555;&#36895;&#22312;normal&#27169;&#24335;&#19979;&#20998;&#21106;&#31383;&#21475;
nnoremap &lt;silent&gt; [Window]v :&lt;C-u&gt;split&lt;CR&gt;
nnoremap &lt;silent&gt; [Window]g :&lt;C-u&gt;vsplit&lt;CR&gt;

<span style="color: #8b2252;">" leader &#38190;</span>
<span style="color: #8b2252;">let g:mapleader="</span>,<span style="color: #8b2252;">"</span>
<span style="color: #8b2252;">"</span> &#25554;&#20837;&#27169;&#24335;&#19979;&#20351;&#29992; leader-w &#24555;&#36895;&#20445;&#23384;&#25991;&#20214;
inoremap &lt;leader&gt;w &lt;Esc&gt;:w&lt;cr&gt;
<span style="color: #8b2252;">" &#20351;&#29992;kj&#24555;&#36895;&#36827;&#20837;Normal&#27169;&#24335;</span>
<span style="color: #8b2252;">inoremap kj &lt;Esc&gt;</span>
<span style="color: #8b2252;">"</span> &#22312;&#25554;&#20214;&#27169;&#24335;&#19979;&#20219;&#24847;&#30452;&#25509;&#20999;&#25442;&#21040;&#26032;&#19968;&#34892;
inoremap &lt;C-j&gt; &lt;C-o&gt;o
inoremap &lt;C-l&gt; &lt;C-o&gt;A
<span style="color: #8b2252;">" &#20351;&#29992; leader-e &#24555;&#36895;&#36864;&#20986;&#31383;&#21475;&#65288;&#20294;&#26159;&#19981;&#20250;&#20851;&#38381; buffer)</span>
<span style="color: #8b2252;">noremap &lt;leader&gt;e :q&lt;cr&gt;</span>
<span style="color: #8b2252;">"</span> &#20351;&#29992; leader-b &#24555;&#36895;&#20851;&#38381;&#24403;&#21069; buffer
noremap &lt;leader&gt;b :bd&lt;cr&gt;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šçª—å£å¿«é€Ÿè·³è½¬
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">vim ~/.vimrc</span>
<span style="color: #8b2252;">" use ctrl+h/j/k/l switch window&#24555;&#36895;&#20999;&#25442;&#31383;&#21475;</span>
<span style="color: #8b2252;">noremap &lt;C-h&gt; &lt;C-w&gt;h</span>
<span style="color: #8b2252;">noremap &lt;C-j&gt; &lt;C-w&gt;j</span>
<span style="color: #8b2252;">noremap &lt;C-k&gt; &lt;C-w&gt;k</span>

<span style="color: #8b2252;">"</span> &#20999;&#25442; buffer
nnoremap &lt;silent&gt; [b  :bprevious&lt;CR&gt;
nnoremap &lt;silent&gt; [n  :bnext&lt;CR&gt;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-h:378ad5d6-5c57-402b-805d-4bbf36a97fc3" class="outline-3">
<h3 id="h:378ad5d6-5c57-402b-805d-4bbf36a97fc3">vimæ’ä»¶</h3>
<div class="outline-text-3" id="text-h:378ad5d6-5c57-402b-805d-4bbf36a97fc3">
<p>
vimæ’ä»¶æ˜¯ä½¿ç”¨vimscriptæˆ–è€…å…¶å®ƒè¯­è¨€ç¼–å†™çš„vimåŠŸèƒ½æ‰©å±•ï¼Œæœ‰æ’ä»¶ä¹‹åå‡ ä¹å¯
ä»¥æ— é™æ‰©å……å…¶åŠŸèƒ½ã€‚
</p>

<p>
å®‰è£…æ’ä»¶åŸå§‹çš„æ–¹å¼æ˜¯ç›´æ¥cloneæ’ä»¶ä»£ç ï¼Œå¦‚ä»Švimæœ‰å¾ˆå¤šæ’ä»¶ç®¡ç†å™¨ã€‚
</p>

<ul class="org-ul">
<li>å¸¸è§çš„æ’ä»¶ç®¡ç†å™¨æœ‰vim-plug, vundle, pathogen, dein.vim, voltç­‰</li>
<li>ç»¼åˆæ€§èƒ½ã€æ˜“ç”¨æ€§ã€æ–‡æ¡£ç­‰æ–¹é¢ï¼Œè¿™é‡Œæ¨èä½¿ç”¨vim-plug</li>
</ul>
</div>
<div id="outline-container-h:e57a32e1-2f2a-4031-99f8-e2eaa12cb517" class="outline-4">
<h4 id="h:e57a32e1-2f2a-4031-99f8-e2eaa12cb517">vim-plugæ’ä»¶ç®¡ç†å™¨</h4>
<div class="outline-text-4" id="text-h:e57a32e1-2f2a-4031-99f8-e2eaa12cb517">
<p>
å®˜æ–¹åœ°å€ï¼š<a href="https://github.com/junegunn/vim-plug">https://github.com/junegunn/vim-plug</a>
</p>

<p>
å­¦ä¹ ä¸€ä¸ªæ–°ä¸œè¥¿æœ€å¥½çš„æ–¹å¼æ˜¯çœ‹å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹ï¼ŒæŒ‰ç…§å®˜æ–¹æ•™ç¨‹æˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“
åœ°äº†è§£ä½¿ç”¨äº†ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;</span>
curl -fLo ~/.vim/autoload/plug.vim --create-dirs <span style="color: #8b2252;">\</span>
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
</pre>
</div>

<p>
åœ¨=~/.vimrc=æ·»åŠ é…ç½®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">vim ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#35774;&#32622;&#65292;&#36825;&#37324;&#20351;&#29992;&#20102;vim-plug</span>
<span style="color: #8b2252;">call plug#begin('~/.vim/plugged')</span>

<span style="color: #8b2252;">"</span> &#23433;&#35013;&#25554;&#20214;&#21482;&#38656;&#35201;&#25226;github&#22320;&#22336;&#25918;&#21040;&#36825;&#37324;&#37325;&#21551;&#21518;&#25191;&#34892; :PlugInstall &#23601;&#22909;&#20102;

call plug#end()
</pre>
</div>
</div>
</div>
<div id="outline-container-h:378f0275-3891-48d3-8d29-a57169a684f1" class="outline-4">
<h4 id="h:378f0275-3891-48d3-8d29-a57169a684f1">æŸ¥æ‰¾æ’ä»¶å¹¶å®‰è£…ç¬¬ä¸€ä¸ªæ’ä»¶</h4>
<div class="outline-text-4" id="text-h:378f0275-3891-48d3-8d29-a57169a684f1">
<p>
æŸ¥æ‰¾æ’ä»¶æ–¹å¼ï¼šä½¿ç”¨googleæœç´¢æƒ³è¦çš„æ’ä»¶ï¼Œæˆ–è€…<a href="https://vimawesome.com">https://vimawesome.com</a>ç½‘
ç«™ä¸Šæ‰¾
</p>


<figure id="orgf07e93a">
<img src="images/image-20210616125208511.png" alt="image-20210616125208511.png" width="60%">

<figcaption><span class="figure-number">Figure 17: </span>image-20210616125208511</figcaption>
</figure>

<p>
ä¸€äº›å¸¸ç”¨çš„æ’ä»¶
</p>

<ul class="org-ul">
<li>vim-startify å¼€å±æ’ä»¶ <a href="https://github.com/mhinz/vim-startify">https://github.com/mhinz/vim-startify</a></li>
<li>nerdtree æ–‡ä»¶ç®¡ç†æ’ä»¶ <a href="https://github.com/preservim/nerdtree">https://github.com/preservim/nerdtree</a></li>
</ul>
</div>
<div id="outline-container-h:ef89194a-6e65-4437-a5b1-492afccbc760" class="outline-5">
<h5 id="h:ef89194a-6e65-4437-a5b1-492afccbc760">vim-startifyæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:ef89194a-6e65-4437-a5b1-492afccbc760">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">1.&#20462;&#25913;.vimrc&#25991;&#20214;&#65292;&#22686;&#21152;&#25554;&#20214;&#21517;&#31216;</span>
vim ~/.vimrc
<span style="color: #8b2252;">" &#25554;&#20214;&#35774;&#32622;&#65292;&#36825;&#37324;&#20351;&#29992;&#20102;vim-plug</span>
<span style="color: #8b2252;">call plug#begin('~/.vim/plugged')</span>

<span style="color: #8b2252;">"</span> &#23433;&#35013;&#25554;&#20214;&#21482;&#38656;&#35201;&#25226;github&#22320;&#22336;&#25918;&#21040;&#36825;&#37324;&#37325;&#21551;&#21518;&#25191;&#34892; :PlugInstall &#23601;&#22909;&#20102;
Plug <span style="color: #8b2252;">'mhinz/vim-startify'</span>

call plug#end()

<span style="color: #b22222;"># </span><span style="color: #b22222;">2.&#37325;&#26032;&#21551;&#21160;vim&#25110;&#32773;source ~/.vimrc&#65292;&#25191;&#34892; :PlugInstall</span>
</pre>
</div>


<figure id="org280e61d">
<img src="images/image-20210616124138866.png" alt="image-20210616124138866.png" width="60%">

<figcaption><span class="figure-number">Figure 18: </span>image-20210616124138866</figcaption>
</figure>

<p>
ä½¿ç”¨æ’ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh">vim  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#24320;&#21518;&#21487;&#20197;&#30475;&#21040;&#25554;&#20214;&#25928;&#26524;&#12290;&#25353;&#24207;&#21495;&#21487;&#20197;&#25171;&#24320;&#23545;&#24212;&#25991;&#20214;&#65292;&#25110;&#32773;&#20809;&#26631;&#20301;&#32622;&#22238;&#36710;&#20063;&#21487;&#20197;&#25171;&#24320;&#25991;&#20214;</span>
</pre>
</div>


<figure id="orgdb4c30f">
<img src="images/image-20210616124313450.png" alt="image-20210616124313450.png" width="60%">

</figure>
</div>
</div>
</div>
<div id="outline-container-h:a84aefe1-7628-4aa3-9be8-81ee38dcf533" class="outline-4">
<h4 id="h:a84aefe1-7628-4aa3-9be8-81ee38dcf533">ç¾åŒ–æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:a84aefe1-7628-4aa3-9be8-81ee38dcf533">
<p>
<b>æ›´æ”¹vimå¤–è§‚</b>
</p>

<ul class="org-ul">
<li>ä¿®æ”¹å¯åŠ¨ç•Œé¢ <a href="https://github.com/mhinz/vim-startify">https://github.com/mhinz/vim-startify</a></li>
<li>çŠ¶æ€æ ç¾åŒ– <a href="https://github.com/vim-airline/vim-airline">https://github.com/vim-airline/vim-airline</a></li>
<li>å¢åŠ ä»£ç ç¼©è¿›çº¿æ¡ <a href="https://github.com/yggdroot/indentline">https://github.com/yggdroot/indentline</a></li>
</ul>
</div>
<div id="outline-container-h:1e653b15-666e-46a0-8a94-4931c6a5a72d" class="outline-5">
<h5 id="h:1e653b15-666e-46a0-8a94-4931c6a5a72d">vim-airlineçŠ¶æ€æ ç¾åŒ–æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:1e653b15-666e-46a0-8a94-4931c6a5a72d">

<figure id="org0db0a39">
<img src="images/demo-1623819659508.gif" alt="demo-1623819659508.gif">

<figcaption><span class="figure-number">Figure 19: </span>demo</figcaption>
</figure>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'vim-airline/vim-airline'</span>
Plug <span style="color: #8b2252;">'vim-airline/vim-airline-themes'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b5aff473-64b4-434a-b28f-f2b8b8c81072" class="outline-5">
<h5 id="h:b5aff473-64b4-434a-b28f-f2b8b8c81072">indentlineä»£ç ç¼©è¿›çº¿æ¡æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:b5aff473-64b4-434a-b28f-f2b8b8c81072">

<figure id="org41dff2e">
<img src="images/image-20210616131051955.png" alt="image-20210616131051955.png" width="60%">

<figcaption><span class="figure-number">Figure 20: </span>image-20210616131051955</figcaption>
</figure>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'Yggdroot/indentLine'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d50cd386-5278-4eb0-8475-b3d1d71d10a7" class="outline-5">
<h5 id="h:d50cd386-5278-4eb0-8475-b3d1d71d10a7">vimé…è‰²æ–¹æ¡ˆ</h5>
<div class="outline-text-5" id="text-h:d50cd386-5278-4eb0-8475-b3d1d71d10a7">
<ul class="org-ul">
<li>vim-hybirdé…è‰² <a href="https://github.com/w0ng/vim-hybrid">https://github.com/w0ng/vim-hybrid</a></li>
<li>solarized é…è‰² <a href="https://github.com/altercation/vim-colors-solarized">https://github.com/altercation/vim-colors-solarized</a></li>
<li>gruvbox é…è‰² <a href="https://github.com/morhetz/gruvbox">https://github.com/morhetz/gruvbox</a></li>
</ul>

<p>
vim-hybrid
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'w0ng/vim-hybrid'</span>
Plug <span style="color: #8b2252;">'altercation/vim-colors-solarized'</span>
Plug <span style="color: #8b2252;">'morhetz/gruvbox'</span>
</pre>
</div>

<ul class="org-ul">
<li>ä½¿ç”¨=:colorscheme &lt;ctrl+d&gt;= å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰é…è‰²</li>
<li>ä½¿ç”¨=:colorscheme é…è‰²å= å°±å¯ä»¥ ä¿®æ”¹é…è‰²</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #483d8b;">set</span> <span style="color: #a0522d;">background</span>=dark  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#32972;&#26223;&#33394;</span>
colorscheme hybrid
</pre>
</div>

<p>
solarized é…è‰²
</p>


<figure id="org9b6cbf0">
<img src="images/image-20210616131445627.png" alt="image-20210616131445627.png" width="60%">

<figcaption><span class="figure-number">Figure 21: </span>image-20210616131445627</figcaption>
</figure>

<p>
gruvbox é…è‰²
</p>


<figure id="org7809ef3">
<img src="images/image-20210616131517266.png" alt="image-20210616131517266.png" width="60%">

<figcaption><span class="figure-number">Figure 22: </span>image-20210616131517266</figcaption>
</figure>
</div>
</div>
</div>
<div id="outline-container-h:d4532c9b-6eb8-44ee-9f48-d7c8b33df7f6" class="outline-4">
<h4 id="h:d4532c9b-6eb8-44ee-9f48-d7c8b33df7f6">ç›®å½•å’Œæœç´¢æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:d4532c9b-6eb8-44ee-9f48-d7c8b33df7f6">
<ul class="org-ul">
<li>æ–‡ä»¶ç›®å½•æ ‘ nerdtree <a href="https://github.com/preservim/nerdtree">https://github.com/preservim/nerdtree</a></li>
<li>æ¨¡ç³Šæœç´¢æ’ä»¶ ctrlp <a href="https://github.com/ctrlpvim/ctrlp.vim">https://github.com/ctrlpvim/ctrlp.vim</a></li>
</ul>
</div>
<div id="outline-container-h:cee22249-1778-4a63-a3ca-624f0e4c3eb5" class="outline-5">
<h5 id="h:cee22249-1778-4a63-a3ca-624f0e4c3eb5">nerdtreeæ–‡ä»¶ç®¡ç†æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:cee22249-1778-4a63-a3ca-624f0e4c3eb5">

<figure id="orgd677712">
<img src="images/image-20210616143143170.png" alt="image-20210616143143170.png" width="60%">

<figcaption><span class="figure-number">Figure 23: </span>image-20210616143143170</figcaption>
</figure>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'preservim/nerdtree'</span>
</pre>
</div>

<p>
ä½¿ç”¨=:NERDTree=
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #483d8b;">let</span> <span style="color: #a0522d;">mapleader</span>=<span style="color: #8b2252;">','</span>

<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> ,v &#25214;&#21040;&#25991;&#20214;&#20301;&#32622;&#65292;&#20809;&#26631;&#25351;&#21040;NERDTree&#30446;&#24405;&#26639;&#25991;&#20214;&#20301;&#32622;
nnoremap &lt;leader&gt;v :NERDTreeFind&lt;CR&gt;
<span style="color: #8b2252;">" ,g &#20999;&#25442;&#21040;NERDTree</span>
<span style="color: #8b2252;">nnoremap &lt;leader&gt;g :NERDTreeToggle&lt;CR&gt;</span>
<span style="color: #8b2252;">"</span> &#26174;&#31034;&#38544;&#34255;&#25991;&#20214;
<span style="color: #483d8b;">let</span> <span style="color: #a0522d;">NERDTreeShowHidden</span>=1
<span style="color: #8b2252;">" &#24573;&#30053;&#25991;&#20214;</span>
<span style="color: #8b2252;">let NERDTreeIgnore = [</span>
<span style="color: #8b2252;">        \'\.git$','\.hg$','\.pyc$','\.pyo$','\.swp$',</span>
<span style="color: #8b2252;">        \ '\.DS_Store$', '.\sass-cache$', '__pycache__$', '\.egg-info$', '\.ropeproject$',</span>
<span style="color: #8b2252;">        \ ]</span>
</pre>
</div>

<p>
å¦‚æœæƒ³æ‰“å¼€vimè‡ªåŠ¨å¯åŠ¨NERDTreeå¯ä»¥åœ¨ <code>~/.vimrc=</code> ä¸­æ·»åŠ  <code>autocmd
vimenter * NERDTree</code> ï¼Œè¿™é‡Œä¸æ¨èï¼Œå ç”¨ç©ºé—´ã€‚
</p>
</div>
</div>
<div id="outline-container-h:3b035f7d-9efc-4b37-b275-38b675c7eef6" class="outline-5">
<h5 id="h:3b035f7d-9efc-4b37-b275-38b675c7eef6">ctrlp æ¨¡ç³Šæœç´¢æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:3b035f7d-9efc-4b37-b275-38b675c7eef6">
<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'ctrlpvim/ctrlp.vim'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" ctrl+p &#25628;&#32034;&#24403;&#21069;&#30446;&#24405;&#19979;&#30340;&#25991;&#20214;&#12290; &#21487;&#20197;&#21644;NERDTree ,v&#19968;&#36215;&#20351;&#29992;&#25214;&#21040;&#25991;&#20214;&#20301;&#32622;</span>
<span style="color: #8b2252;">let g:ctrlp_map = '&lt;c-p&gt;'</span>

<span style="color: #8b2252;">"</span> &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;
<span style="color: #8b2252;">" ctrlp &#22312;~/.agigonre&#28155;&#21152;&#19968;&#34892;node_modules</span>
<span style="color: #8b2252;">set wildignore+=*/tmp/*,*.so,*.swp,*.zip</span>
<span style="color: #8b2252;">let g:ctrlp_custom_ignore = {</span>
<span style="color: #8b2252;">        \ 'dir': '\v[\/]\.(git|hg|svn)$',</span>
<span style="color: #8b2252;">        \ 'file': '\v\.(exe|soldll|swp|pyc|pyo)$',</span>
<span style="color: #8b2252;">        \ }</span>
<span style="color: #8b2252;">let g:ctrlp_user_command = 'ag %s -l --nocolor --hidden -g ""'</span>
<span style="color: #8b2252;">if executable('ag')</span>
<span style="color: #8b2252;">        set grepprg=ag\ --nogroup\ --nocolor</span>
<span style="color: #8b2252;">        let g:ctrlp_user_command = 'ag %s -l --nocolor -f-g ""'</span>
<span style="color: #8b2252;">else</span>
<span style="color: #8b2252;">        let g:ctrlp_user_command = ['.git', 'cd %s &amp;&amp; git ls-files . -co --exclude-standard', 'find %s -type f']</span>
<span style="color: #8b2252;">endif</span>
</pre>
</div>

<p>
è¯·åœ¨=é¡¹ç›®/=æ ¹ç›®å½•ä¸‹æ‰“å¼€vimï¼Œå¯ä»¥æ¨¡ç³Šæœç´¢
</p>


<figure id="org79dc508">
<img src="images/image-20210616152300177.png" alt="image-20210616152300177.png" width="60%">

<figcaption><span class="figure-number">Figure 24: </span>image-20210616152300177</figcaption>
</figure>
</div>
</div>
</div>
<div id="outline-container-h:b6294b46-3bdd-4498-a8a4-f70d589657d6" class="outline-4">
<h4 id="h:b6294b46-3bdd-4498-a8a4-f70d589657d6">å¿«é€Ÿå®šä½æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:b6294b46-3bdd-4498-a8a4-f70d589657d6">
<p>
åŸºç¡€çš„ç§»åŠ¨å‘½ä»¤
</p>

<ul class="org-ul">
<li>å¦‚w/eåŸºäºå•è¯ç§»åŠ¨ï¼Œgg/Gæ–‡ä»¶é¦–å°¾ï¼Œ0/$è¡Œé¦–ï¼Œf{char}æŸ¥å¯»å­—ç¬¦</li>
<li>ctrl+f ctrl+uå‰åç¿»å±</li>
<li>å¿«é€Ÿè·³åˆ°ä»»æ„ä½ç½®å°±éœ€è¦æ’ä»¶å®ç°</li>
</ul>

<p>
ä»»æ„ä½ç½®æ’ä»¶
</p>

<ul class="org-ul">
<li>easymotionä»»æ„ä½ç½®æ’ä»¶ <a href="https://github.com/easymotion/vim-easymotion">https://github.com/easymotion/vim-easymotion</a></li>
</ul>
</div>
<div id="outline-container-h:6cc7491e-f9ed-4795-8062-005d6fcb6033" class="outline-5">
<h5 id="h:6cc7491e-f9ed-4795-8062-005d6fcb6033">easymotionä»»æ„ä½ç½®æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:6cc7491e-f9ed-4795-8062-005d6fcb6033">

<figure id="org14cfbd4">
<img src="images/easymotion.gif" alt="easymotion.gif">

<figcaption><span class="figure-number">Figure 25: </span>easymotion</figcaption>
</figure>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ <code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'easymotion/vim-easymotion'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> &#25171;&#24320;s2&#24555;&#36895;&#23450;&#20301;&#21151;&#33021;&#12290;nmap&#36882;&#24402;&#26144;&#23556;
nmap ss &lt;Plug&gt;(easymotion-s2)
</pre>
</div>

<p>
åœ¨æ–‡ä»¶é‡ŒæŒ‰=ss=æ‰“å¼€å¿«é€Ÿå®šä½ï¼Œè¾“å…¥æœç´¢çš„2ä¸ªå­—ç¬¦ï¼Œå†æ ¹æ®è¾“å‡ºæ ‡çº¢çš„å­—ç¬¦è·³åˆ°æƒ³åˆ°çš„ä½ç½®ã€‚
</p>
</div>
</div>
</div>
<div id="outline-container-h:4c681b14-857a-4cd6-a5a5-e9888c1f505c" class="outline-4">
<h4 id="h:4c681b14-857a-4cd6-a5a5-e9888c1f505c">æˆå¯¹ç¼–è¾‘æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:4c681b14-857a-4cd6-a5a5-e9888c1f505c">
<ul class="org-ul">
<li>vim-surround æˆå¯¹ç¼–è¾‘æ’ä»¶ <a href="https://github.com/tpope/vim-surround">https://github.com/tpope/vim-surround</a></li>
</ul>
</div>
<div id="outline-container-h:82e12cc9-01d1-48b2-9f20-a793391d670c" class="outline-5">
<h5 id="h:82e12cc9-01d1-48b2-9f20-a793391d670c">vim-surround æˆå¯¹ç¼–è¾‘æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:82e12cc9-01d1-48b2-9f20-a793391d670c">
<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'tpope/vim-surround'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">normal&#27169;&#24335;&#19979;&#22686;&#21152;&#12289;&#21024;&#38500;&#12289;&#20462;&#25913;&#25104;&#23545;&#20869;&#23481;</span>
<span style="color: #0000ff;">ds</span> (delete a surrounding)
<span style="color: #0000ff;">cs</span> (change a surrounding)
<span style="color: #0000ff;">ys</span> (you add a surrounding)
</pre>
</div>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">1.&#28155;&#21152;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">name&#21333;&#35789;&#20004;&#36793;"name"&#65292;&#20809;&#26631;&#22312;name&#21333;&#35789;&#19978;</span>
ys+iw<span style="color: #8b2252;">"</span>
<span style="color: #8b2252;"># name&#20013;"</span>nam<span style="color: #8b2252;">"e&#65292;&#20809;&#26631;&#20572;&#22312;n&#23383;&#31526;&#19978;</span>
<span style="color: #8b2252;">ys+fm"</span>
ysw<span style="color: #8b2252;">"  &#21333;&#35789;&#21152;&#32496;&#21495;&#12290;</span>

<span style="color: #8b2252;">#2.&#20462;&#25913;</span>
<span style="color: #8b2252;"># "</span>name<span style="color: #8b2252;">"&#21464;'name'</span>
<span style="color: #8b2252;">cs+"'</span>
<span style="color: #8b2252;"># (name)&#21464;[name]</span>
<span style="color: #8b2252;">cs+(]</span>
<span style="color: #8b2252;">cs`" &#26367;&#25442;`&#20026;&#8220;</span>

<span style="color: #8b2252;">#3.&#21024;&#38500;</span>
<span style="color: #8b2252;"># '</span>name<span style="color: #8b2252;">'&#21464;name</span>
<span style="color: #8b2252;">ds+'</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:2582b81a-7127-4d54-b608-c557d74b6e34" class="outline-4">
<h4 id="h:2582b81a-7127-4d54-b608-c557d74b6e34">æ¨¡ç³Šæœç´¢ä¸æ›¿æ¢æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:2582b81a-7127-4d54-b608-c557d74b6e34">
<p>
æ¨¡ç³Šæœç´¢
</p>

<ul class="org-ul">
<li>Ag.vim</li>
<li>fzf.vim <a href="https://github.com/junegunn/fzf.vim">https://github.com/junegunn/fzf.vim</a></li>
</ul>
</div>
<div id="outline-container-h:66db6542-ba4f-4b0a-aa22-95a152120c6b" class="outline-5">
<h5 id="h:66db6542-ba4f-4b0a-aa22-95a152120c6b">fzf.vim æ¨¡ç³Šæœç´¢æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:66db6542-ba4f-4b0a-aa22-95a152120c6b">

<figure id="orgd8dc71f">
<img src="images/image-20210616175159096.png" alt="image-20210616175159096.png" width="60%">

<figcaption><span class="figure-number">Figure 26: </span>image-20210616175159096</figcaption>
</figure>

<p>
fzfæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å‘½ä»¤è¡Œæ¨¡ç³Šæœç´¢å·¥å…·ï¼Œfzf.vimé›†æˆåˆ°äº†vimé‡Œ
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">" &#23433;&#35013;fzf&#21518;&#25191;&#34892; ln -s /root/.fzf/bin/* /usr/bin/</span>
<span style="color: #8b2252;">Plug 'junegunn/fzf', { 'do': { -&gt; fzf#install() } }</span>
<span style="color: #8b2252;">Plug 'junegunn/fzf.vim'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">:Files [PATH] &#27169;&#31946;&#25628;&#32034;&#30446;&#24405;
:Ag [PATTERN] &#27169;&#31946;&#25628;&#32034;&#23383;&#31526;&#20018;
</pre>
</div>

<p>
ä½¿ç”¨ <code>:Files /root</code> æœç´¢ç›®å½•ä¸‹æ–‡ä»¶ï¼Œå†è¾“å…¥æ–‡ä»¶å
</p>

<p>
ä½¿ç”¨ <code>:Ag duck</code> æ¨¡ç³Šæœç´¢æ–‡ä»¶ä¸­å­—ç¬¦ä¸²ï¼Œctrl+k ä¸Šç§» ctrl+jä¸‹ç§»
</p>
</div>
</div>
<div id="outline-container-h:d0b45a3c-339d-44e1-b589-698549668e37" class="outline-5">
<h5 id="h:d0b45a3c-339d-44e1-b589-698549668e37">far.vim æœç´¢æ›¿æ¢æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:d0b45a3c-339d-44e1-b589-698549668e37">

<figure id="org5e38228">
<img src="images/farvim.gif" alt="farvim.gif" width="60%">

<figcaption><span class="figure-number">Figure 27: </span>farvim</figcaption>
</figure>

<ul class="org-ul">
<li>far.vim æœç´¢æ›¿æ¢æ’ä»¶ <a href="https://github.com/brooth/far.vim">https://github.com/brooth/far.vim</a></li>
</ul>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'brooth/far.vim'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">:Far foo bar **/*.py  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36827;&#20837;&#39044;&#35272;&#65292;&#23558;foo &#26367;&#25442;&#25104;bar&#12290;  **&#34920;&#31034;&#19978;&#32423;&#30446;&#24405; *.py&#34920;&#31034;&#25152;&#26377;.py&#21518;&#32512;&#25991;&#20214;</span>
:Fardo                <span style="color: #b22222;"># </span><span style="color: #b22222;">&#30830;&#35748;&#20462;&#25913; :q&#36864;&#20986;&#39044;&#35272;&#31383;&#21475;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:99486d86-c2f9-4d8f-b573-47ac2fe9fae2" class="outline-4">
<h4 id="h:99486d86-c2f9-4d8f-b573-47ac2fe9fae2">golangè¯­è¨€æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:99486d86-c2f9-4d8f-b573-47ac2fe9fae2">
<p>
IDEä¸€ä»£åˆä¸€ä»£ï¼Œç»å…¸çš„ç¼–è¾‘å™¨å´é•¿ä¹…ä¸è¡°ã€‚
</p>

<ul class="org-ul">
<li>é™¤äº†javaï¼Œå¾ˆå¤šäººç”¨vimç¼–å†™shell/php/golang/python/ruby</li>
<li>å‰ç«¯å¾ˆå¤šäººç”¨vscodeï¼Œsublime/Atomæœ‰æœ«è½ä¹‹åŠ¿</li>
<li>å¾ˆå¤šåå°å’Œè¿ç»´å·¥ç¨‹å¸ˆä½¿å¾—vimï¼Œå¾®ä¿¡åå°å’Œé˜¿é‡Œé£å¤©ç³»ç»Ÿå¾ˆå¤šä»£ç å‡ºè‡ªåœ¨æœ
åŠ¡å™¨ä¸Šä½¿ç”¨vimçš„å·¥ç¨‹å¸ˆ</li>
</ul>
</div>
<div id="outline-container-h:2e9e58c2-8516-48cb-94f0-1e63a27281ae" class="outline-5">
<h5 id="h:2e9e58c2-8516-48cb-94f0-1e63a27281ae">vim-go æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:2e9e58c2-8516-48cb-94f0-1e63a27281ae">
<ul class="org-ul">
<li>vim-go golangè¯­è¨€æ’ä»¶ <a href="https://github.com/fatih/vim-go">https://github.com/fatih/vim-go</a></li>
</ul>

<p>
ä»£ç è¡¥å…¨ã€é‡æ„ã€è·³è½¬ã€è‡ªåŠ¨æ ¼å¼åŒ–ã€è‡ªåŠ¨å¯¼å…¥ç­‰åŠŸèƒ½ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³golangæ—¥
å¸¸å¼€å‘ã€‚
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'fatih/vim-go'</span>, { <span style="color: #8b2252;">'do'</span>: <span style="color: #8b2252;">':GoUpdateBinaries'</span> }
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<p>
å®˜æ–¹æ•™ç¨‹ï¼š<a href="https://github.com/fatih/vim-go/wiki">https://github.com/fatih/vim-go/wiki</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">ctrl+xo &#34917;&#20840;  ctrl+n ctrl+p &#19978;&#19979;&#36873;&#25321;
ctrl+]  &#36339;&#36716;
ctrl+o  &#36339;&#22238;
ctrl+i  &#21521;&#21069;&#36339;
:GoFmt  &#20195;&#30721;&#26684;&#24335;&#21270;
:GoRename &#20195;&#30721;&#37325;&#26500;&#12290; &#22914;&#20809;&#26631;&#20572;&#22312;url&#23383;&#31526;&#65292;:GoRename&#22238;&#36710;&#25552;&#31034;&#36755;&#20986;&#26032;&#21517;&#31216;&#65292;&#20851;&#32852;&#20195;&#30721;&#37325;&#26500;&#23436;&#25104;
:GoImports &#33258;&#21160;&#23548;&#20837;&#21253;
:GoRun   &#33258;&#21160;&#36816;&#34892;go&#20195;&#30721;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:261be3af-d8ca-4f81-9648-827798b2f582" class="outline-4">
<h4 id="h:261be3af-d8ca-4f81-9648-827798b2f582">pythonè¯­è¨€æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:261be3af-d8ca-4f81-9648-827798b2f582">
<p>
pythonæ’ä»¶ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯jedi-vimå’Œpython-mode
</p>
</div>
<div id="outline-container-h:e7120170-64fa-484f-8b13-b8037808e406" class="outline-5">
<h5 id="h:e7120170-64fa-484f-8b13-b8037808e406">python-modeæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:e7120170-64fa-484f-8b13-b8037808e406">
<ul class="org-ul">
<li>python-mode <a href="https://github.com/python-mode/python-mode">https://github.com/python-mode/python-mode</a></li>
</ul>

<p>
æ”¯æŒä»£ç è¡¥å…¨ã€é‡æ„ã€è·³è½¬ã€è‡ªåŠ¨æ ¼å¼åŒ–ç­‰åŠŸèƒ½ã€‚
</p>

<p>
ä½¿ç”¨=vim &#x2013;version|grep python=æŸ¥çœ‹å¯¹pythonæ”¯æŒ
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">" &#23433;&#35013;&#36807;&#31243;&#20250;&#23433;&#35013;&#23376;&#27169;&#22359;</span>
<span style="color: #8b2252;">Plug 'python-mode/python-mode', { 'for': 'python', 'branch': 'develop' }</span>
</pre>
</div>

<p>
é…ç½®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> python-mode
<span style="color: #483d8b;">let</span> g:pymode_python = <span style="color: #8b2252;">'python3'</span>
<span style="color: #483d8b;">let</span> g:pymode_trim_whitespaces = 1  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#26080;&#29992;&#31354;&#30333;&#31526;</span>
<span style="color: #483d8b;">let</span> g:pymode_doc = 1
<span style="color: #483d8b;">let</span> g:pymode_doc_bind = <span style="color: #8b2252;">'K'</span>
<span style="color: #483d8b;">let</span> g:pymode_rope_goto_definition_bind = <span style="color: #8b2252;">'&lt;C-]&gt;'</span> <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36339;&#36716;&#23450;&#20041;&#30340;&#25353;&#38190;&#32465;&#23450;&#21464;&#25104;ctrl+]</span>
<span style="color: #483d8b;">let</span> g:pymode_lint = 1                            <span style="color: #b22222;"># </span><span style="color: #b22222;">&#24320;&#21551;&#26816;&#26597;</span>
<span style="color: #483d8b;">let</span> g:pymode_lint_checks = [<span style="color: #8b2252;">'pyflakes'</span>, <span style="color: #8b2252;">'pep8'</span>, <span style="color: #8b2252;">'mccabe'</span>, <span style="color: #8b2252;">'pylint'</span>]
<span style="color: #483d8b;">let</span> g:pymode_options_max_line_length = 120       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26368;&#25214;&#34892;&#38271;&#24230;120</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">ctrl+]  &#36339;&#36716;&#21040;&#23450;&#20041;
ctrl+xo &#34917;&#20840;  ctrl+n ctrl+p &#19978;&#19979;&#36873;&#25321;
ctrl+cro &#25972;&#29702;&#21253;&#23548;&#20837;&#39034;&#24207;
:PymodeLintAuto
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:31536479-ba4b-4aa0-a8ee-cb87136087a8" class="outline-4">
<h4 id="h:31536479-ba4b-4aa0-a8ee-cb87136087a8">ä»£ç å¤§çº²æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:31536479-ba4b-4aa0-a8ee-cb87136087a8">
</div>
<div id="outline-container-h:47036d02-f30c-42fc-9c19-0ac8b30f681a" class="outline-5">
<h5 id="h:47036d02-f30c-42fc-9c19-0ac8b30f681a">tagbar ä»£ç å¤§çº²æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:47036d02-f30c-42fc-9c19-0ac8b30f681a">

<figure id="org9a66c5f">
<img src="images/tagbar.png" alt="tagbar.png" width="60%">

<figcaption><span class="figure-number">Figure 28: </span>tagbar</figcaption>
</figure>

<ul class="org-ul">
<li>tagbar ä»£ç å¤§çº²æ’ä»¶ <a href="https://github.com/majutsushi/tagbar">https://github.com/majutsushi/tagbar</a></li>
</ul>

<p>
å®‰è£…ctagsï¼Œç”Ÿæˆtagæ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">1. &#23433;&#35013;ctags</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#23433;&#35013;&#20381;&#36182;</span>
yum install <span style="color: #8b2252;">\</span>
    gcc make <span style="color: #8b2252;">\</span>
    pkgconfig autoconf automake <span style="color: #8b2252;">\</span>
    python3-docutils <span style="color: #8b2252;">\</span>
    libseccomp-devel <span style="color: #8b2252;">\</span>
    jansson-devel <span style="color: #8b2252;">\</span>
    libyaml-devel <span style="color: #8b2252;">\</span>
    libxml2-devel

git clone https://github.com/universal-ctags/ctags.git
<span style="color: #483d8b;">cd</span> ctags
./autogen.sh
./configure --prefix=/usr/local <span style="color: #b22222;"># </span><span style="color: #b22222;">defaults to /usr/local</span>
make
make install <span style="color: #b22222;"># </span><span style="color: #b22222;">may require extra privileges depending on where to install</span>
</pre>
</div>


<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'preservim/tagbar'</span>
</pre>
</div>

<p>
é…ç½®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> tagbar
<span style="color: #483d8b;">let</span> <span style="color: #a0522d;">mapleader</span>=<span style="color: #8b2252;">","</span>
<span style="color: #8b2252;">" &lt;leader&gt;t &#24320;&#21551;/&#20851;&#38381;tagbar</span>
<span style="color: #8b2252;">nnoremap &lt;leader&gt;t ::TagbarToggle&lt;CR&gt;</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">:TagbarToggle   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21491;&#20391;&#26174;&#31034;&#24403;&#21069;&#32534;&#31243;&#35821;&#35328;&#30340;&#31867;&#21517;&#21644;&#20989;&#25968;&#21517;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">vim &#32531;&#20914;&#21306;buffer</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#30475;</span>
:ls &#21015;&#20986;&#25152;&#26377;&#30340;&#32531;&#20914;&#21306;&#65292;&#28982;&#21518;&#21487;&#20197;&#20351;&#29992;:b N &#36339;&#36716;&#21040;&#32531;&#20914;&#21306;&#32534;&#21495;N&#30340;&#32531;&#20914;&#21306;
<span style="color: #b22222;"># </span><span style="color: #b22222;">Buffer&#20999;&#25442;</span>
:b buffer_name&#21152;&#19978;tab&#34917;&#20840;&#26469;&#36339;&#36716;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šç¼–ç¨‹å¿«é€ŸæŸ¥çœ‹ä»£ç å¸¸ç”¨æ“ä½œ
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#32534;&#31243;&#24555;&#36895;&#26597;&#30475;&#20195;&#30721;&#24120;&#29992;&#25805;&#20316;</span>
:sp  &#20998;&#23631;
ctrl+p &#20351;&#29992;ctrlp&#27169;&#31946;&#25628;&#32034;&#25554;&#20214;&#25628;&#32034;&#25991;&#20214;
&lt;leader&gt;v &#20999;&#25442;&#21040;NERDTree&#25991;&#20214;&#30446;&#24405;&#20013;&#26597;&#30475;&#25991;&#20214;&#20301;&#32622;
ctrl+wp &#31383;&#21475;&#21521;&#21069;&#20999;&#25442;
&lt;leader&gt;t &#24320;&#21551;tagbar
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a4e56403-4fb2-49f9-8ab3-ea0e42452ccb" class="outline-5">
<h5 id="h:a4e56403-4fb2-49f9-8ab3-ea0e42452ccb">vim-interestingwordsé«˜äº®å•è¯æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:a4e56403-4fb2-49f9-8ab3-ea0e42452ccb">

<figure id="orgf35d09d">
<img src="images/vim-interestingwords.png" alt="vim-interestingwords.png" width="60%">

<figcaption><span class="figure-number">Figure 29: </span>vim-interestingwords</figcaption>
</figure>

<ul class="org-ul">
<li>vim-interestingwordsé«˜äº®å•è¯æ’ä»¶
<a href="https://github.com/lfv89/vim-interestingwords">https://github.com/lfv89/vim-interestingwords</a></li>
</ul>

<p>
é«˜äº®æ„Ÿå…´è¶£çš„å•è¯ï¼Œæµè§ˆä»£ç å¾ˆæœ‰ç”¨ã€‚å¦‚å˜é‡åœ¨å“ªä¸ªåœ°æ–¹è¢«ä½¿ç”¨åˆ°ã€‚
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'lfv89/vim-interestingwords'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">&lt;Leader&gt;k/K  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#39640;&#20142;/&#21462;&#28040;&#39640;&#20142;&#21333;&#35789; n/N &#19978;&#19979;&#20999;&#25442;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:31ddde9c-7f6b-4d6f-91c1-c71058e188e8" class="outline-5">
<h5 id="h:31ddde9c-7f6b-4d6f-91c1-c71058e188e8">vista.vim</h5>
<div class="outline-text-5" id="text-h:31ddde9c-7f6b-4d6f-91c1-c71058e188e8">
</div>
</div>
</div>
<div id="outline-container-h:2c4b0533-ac3d-4025-91b7-212e4abc7053" class="outline-4">
<h4 id="h:2c4b0533-ac3d-4025-91b7-212e4abc7053">vimä»£ç è¡¥å…¨æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:2c4b0533-ac3d-4025-91b7-212e4abc7053">
</div>
<div id="outline-container-h:c4d0767a-5aa6-488b-a250-f8cecfe33764" class="outline-5">
<h5 id="h:c4d0767a-5aa6-488b-a250-f8cecfe33764">deoplete.nvim å¼‚æ­¥è¡¥å…¨æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:c4d0767a-5aa6-488b-a250-f8cecfe33764">

<figure id="orgd6e64a2">
<img src="images/a99cac54-9f73-11e5-91ce-bce9274692e4.png" alt="a99cac54-9f73-11e5-91ce-bce9274692e4.png" width="60%">

<figcaption><span class="figure-number">Figure 30: </span>File Name Completion</figcaption>
</figure>

<ul class="org-ul">
<li>deoplete.nvim å¼‚æ­¥è¡¥å…¨æ’ä»¶ <a href="https://github.com/shougo/deoplete.nvim">https://github.com/shougo/deoplete.nvim</a></li>
</ul>

<p>
ä¸€ä¸ªå¼ºå¤§çš„neovim/vim8å¼‚æ­¥è¡¥å…¨æ’ä»¶ã€‚æ”¯æŒå¤šç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼Œä½†éœ€
è¦å®‰è£…å¯¹åº”ç¼–ç¨‹è¯­è¨€çš„æ‰©å±•ã€‚
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">if</span> has(<span style="color: #8b2252;">'nvim'</span>)
  Plug <span style="color: #8b2252;">'Shougo/deoplete.nvim'</span>, { <span style="color: #8b2252;">'do'</span>: <span style="color: #8b2252;">':UpdateRemotePlugins'</span> }
<span style="color: #a020f0;">else</span>
  Plug <span style="color: #8b2252;">'Shougo/deoplete.nvim'</span>
  Plug <span style="color: #8b2252;">'roxma/nvim-yarp'</span>
  Plug <span style="color: #8b2252;">'roxma/vim-hug-neovim-rpc'</span>
endif
</pre>
</div>

<p>
æŠ¥é”™è§£å†³
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">`:pythonx import [pynvim|neovim]` command to work</span>
pip3 install --user pynvim
</pre>
</div>

<p>
é…ç½®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> deoplete.nvim
<span style="color: #483d8b;">let</span> g:deoplete#enable_at_startup = 1
<span style="color: #8b2252;">" &#20851;&#38381;&#39044;&#35272;</span>
<span style="color: #8b2252;">set completeopt-=preview</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">ctrl+xo  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#34917;&#20840;</span>
</pre>
</div>

<p>
pythonè¡¥å…¨æ”¯æŒ deoplete-jedi
</p>

<p>
golangè¡¥å…¨æ”¯æŒ deoplete-go
</p>
</div>
</div>
<div id="outline-container-h:937dc95a-89e3-45e4-9292-b44dfd42d415" class="outline-5">
<h5 id="h:937dc95a-89e3-45e4-9292-b44dfd42d415">coc.vimè¡¥å…¨æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:937dc95a-89e3-45e4-9292-b44dfd42d415">
<p>
ä¸€ä¸ªå¼ºå¤§çš„neovim/vim8è¡¥å…¨æ’ä»¶ã€‚LSPåè®®æ”¯æŒã€‚
</p>

<ul class="org-ul">
<li>coc.vimè¡¥å…¨æ’ä»¶ <a href="https://github.com/neoclide/coc.vim">https://github.com/neoclide/coc.vim</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:a1a4a93d-6f63-4077-81c2-8a897f947f35" class="outline-4">
<h4 id="h:a1a4a93d-6f63-4077-81c2-8a897f947f35">vimä»£ç æ ¼å¼åŒ–ä¸é™æ€æ£€æŸ¥æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:a1a4a93d-6f63-4077-81c2-8a897f947f35">
<p>
èƒ½è®©å·¥å…·åšçš„å°±ä¸ç”¨è®©äººè´¹å¿ƒã€‚é™æ€æ£€æŸ¥æ˜¯ä¸ºäº†è®©ç¼–å†™çš„ä»£ç æ›´åŠ è§„èŒƒã€‚
golint/pylint/eslintç­‰ã€‚
</p>

<ul class="org-ul">
<li>Neoformat æ ¼å¼åŒ–æ’ä»¶ <a href="https://github.com/sbdchd/neoformat">https://github.com/sbdchd/neoformat</a></li>
<li>vim-autoformat æ ¼å¼åŒ–æ’ä»¶</li>
</ul>
</div>
<div id="outline-container-h:51fbda13-58f6-4a2d-ab17-78446c232d6c" class="outline-5">
<h5 id="h:51fbda13-58f6-4a2d-ab17-78446c232d6c">Neoformat æ ¼å¼åŒ–æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:51fbda13-58f6-4a2d-ab17-78446c232d6c">
<p>
éœ€è¦å®‰è£…å¯¹åº”è¯­è¨€çš„æ ¼å¼åŒ–çš„åº“ã€‚å¦‚ python
autopep8ï¼Œjsçš„prettierï¼Œgoçš„gofmtç­‰
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'sbdchd/neoformat'</span>
</pre>
</div>

<p>
ç¼–ç¨‹è¯­è¨€å¯¹åº”åº“å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">python</span>
pip3 install autopep8
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">:Neoformat <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20195;&#30721;&#26684;&#24335;&#21270;</span>
</pre>
</div>

<p>
é™æ€æ£€æŸ¥lint
</p>

<ul class="org-ul">
<li>neomake é™æ€æ£€æŸ¥æ’ä»¶</li>
<li>ale é™æ€æ£€æŸ¥æ’ä»¶ <a href="https://github.com/w0rp/ale">https://github.com/w0rp/ale</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:441a3afb-2172-4ad4-8003-3a8d2545afd8" class="outline-5">
<h5 id="h:441a3afb-2172-4ad4-8003-3a8d2545afd8">ale é™æ€æ£€æŸ¥æ’ä»¶</h5>
<div class="outline-text-5" id="text-h:441a3afb-2172-4ad4-8003-3a8d2545afd8">
<p>
éœ€è¦å®‰è£…å¯¹åº”è¯­è¨€çš„æ ¼å¼åŒ–çš„åº“ã€‚å¦‚ eslint/pylint/golintç­‰ã€‚
</p>

<p>
vim8/neovim æ”¯æŒå¼‚æ­¥æ£€æŸ¥ï¼Œä¸ä¼šå½±å“vimç¼–è¾‘ï¼Œæ¨èä½¿ç”¨ã€‚
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'w0rp/ale'</span>
</pre>
</div>

<p>
ç¼–ç¨‹è¯­è¨€å¯¹åº”åº“å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">python</span>
pip3 install pylint
</pre>
</div>

<p>
é…ç½®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> &#33258;&#23450;&#20041;&#26816;&#26597;&#21151;&#33021;&#65292;&#24573;&#30053;&#26576;&#20123;&#26816;&#26597;&#38169;&#35823;&#65292;&#35831;&#21442;&#32771;&#23448;&#26041;&#25991;&#26723;
</pre>
</div>

<p>
ä½¿ç”¨ï¼šä¼šè‡ªåŠ¨æ£€æŸ¥
</p>
</div>
</div>
</div>
<div id="outline-container-h:cbcd5163-7183-4844-b558-5a0cc74df8c0" class="outline-4">
<h4 id="h:cbcd5163-7183-4844-b558-5a0cc74df8c0">å¿«é€Ÿæ³¨é‡Šä»£ç æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:cbcd5163-7183-4844-b558-5a0cc74df8c0">
</div>
<div id="outline-container-h:2621a16d-feca-4273-b864-1f854bb083df" class="outline-5">
<h5 id="h:2621a16d-feca-4273-b864-1f854bb083df">vim-commentaryæ³¨é‡Šæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:2621a16d-feca-4273-b864-1f854bb083df">
<ul class="org-ul">
<li>vim-commentaryæ³¨é‡Šæ’ä»¶ <a href="https://github.com/tpope/vim-commentary">https://github.com/tpope/vim-commentary</a></li>
</ul>

<p>
æ¯”è¾ƒè½»é‡ã€‚è®°ä½å¸¸ç”¨çš„å‘½ä»¤=gc=æ³¨é‡Šå’Œå–æ¶ˆæ³¨é‡Šã€‚æ’ä»¶ä¼šæ ¹æ®ä¸åŒçš„æ–‡ä»¶ç±»å‹ä½¿
ç”¨ä¸åŒçš„æ³¨é‡Šï¼Œ <code>python(#) golang(//)</code>
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'tpope/vim-commentary'</span>
</pre>
</div>

<p>
ä½¿ç”¨ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">gc  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27880;&#37322;&#21644;&#21462;&#28040;&#27880;&#37322;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:45dd61fd-35d8-4905-b070-e836234d4b4d" class="outline-4">
<h4 id="h:45dd61fd-35d8-4905-b070-e836234d4b4d">vimå’Œgitè”åˆæ’ä»¶</h4>
<div class="outline-text-4" id="text-h:45dd61fd-35d8-4905-b070-e836234d4b4d">
</div>
<div id="outline-container-h:2f9576d0-b344-46f5-a2b8-73997c809119" class="outline-5">
<h5 id="h:2f9576d0-b344-46f5-a2b8-73997c809119">Fugitive vimå’Œgitè”åˆæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:2f9576d0-b344-46f5-a2b8-73997c809119">
<ul class="org-ul">
<li>Fugitive vimå’Œgitè”åˆæ’ä»¶ <a href="https://github.com/tpope/vim-fugitive">https://github.com/tpope/vim-fugitive</a></li>
</ul>

<p>
åœ¨vimä¸­ä½¿ç”¨gitã€‚å¯ä»¥ä½¿ç”¨ <code>Gedit, Gdiif, Gblame, Gcommit</code> ç­‰ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿
ç”¨tmuxæ–°å¼€ä¸€ä¸ªçª—å£æ¥ä½¿ç”¨gitå‘½ä»¤ã€‚
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'tpope/vim-fugitive'</span>
</pre>
</div>

<p>
ä½¿ç”¨ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">:Gedit
:Gdiif   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#20195;&#30721;&#21457;&#21160;</span>
:Gblame  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#27599;&#19968;&#34892;&#20195;&#30721;&#30340;&#25552;&#20132;&#32773;</span>
:Gcommit
</pre>
</div>
</div>
</div>
<div id="outline-container-h:608aa38a-b992-4e37-8bcd-acb51bce393c" class="outline-5">
<h5 id="h:608aa38a-b992-4e37-8bcd-acb51bce393c">vim-gitgutter vimå’Œgitè”åˆæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:608aa38a-b992-4e37-8bcd-acb51bce393c">
<ul class="org-ul">
<li>vim-gitgutter vimå’Œgitè”åˆæ’ä»¶
<a href="https://github.com/airblade/vim-gitgutter">https://github.com/airblade/vim-gitgutter</a></li>
</ul>

<p>
åœ¨vimä¸­æ˜¾ç¤ºæ–‡ä»¶å˜åŠ¨ã€‚æ˜¾ç¤ºå“ªäº›è¡Œæ˜¯æ–°å¢ä¿®æ”¹åˆ é™¤çš„ã€‚
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ°=~/.vimrc=ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€…=source ~/.vimrc=ï¼Œæ‰§è¡Œ=:PlugInstall=å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'airblade/vim-gitgutter'</span>
</pre>
</div>

<p>
é…ç½®
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25345;&#20037;&#21270; ~/.vimrc</span>
<span style="color: #8b2252;">" &#25554;&#20214;&#30456;&#20851;&#37197;&#32622;</span>
<span style="color: #8b2252;">"</span> vim-gitgutter
<span style="color: #483d8b;">set</span> updatetime = 100 <span style="color: #8b2252;">"&#26356;&#26032;&#38388;&#38548; 100ms</span>
</pre>
</div>

<p>
ä½¿ç”¨ï¼šå·¦è¾¹æœ‰=+å¢åŠ  ~ä¿®æ”¹=æç¤º
</p>
</div>
</div>
<div id="outline-container-h:02182cf8-324e-4465-98a4-489a2217d0f5" class="outline-5">
<h5 id="h:02182cf8-324e-4465-98a4-489a2217d0f5">gv.vim vimå’Œgitè”åˆæ’ä»¶</h5>
<div class="outline-text-5" id="text-h:02182cf8-324e-4465-98a4-489a2217d0f5">
<ul class="org-ul">
<li>gv.vim vimå’Œgitè”åˆæ’ä»¶ <a href="https://github.com/junegunn/gv.vim">https://github.com/junegunn/gv.vim</a></li>
</ul>

<p>
åœ¨vimä¸­æŸ¥çœ‹æäº¤è®°å½•ï¼Œåº•å±‚è°ƒç”¨tigå‘½ä»¤ã€‚ä½¿ç”¨ <code>:GV</code> è°ƒç”¨å¯ä»¥æµè§ˆä»£ç æäº¤
å˜æ›´
</p>

<p>
å°†ä¸‹é¢å¢åŠ åˆ° <code>~/.vimrc</code> ä¸­ï¼Œé‡æ–°å¯åŠ¨vimæˆ–è€… <code>source ~/.vimrc</code> ï¼Œæ‰§è¡Œ
<code>:PlugInstall</code> å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">Plug <span style="color: #8b2252;">'tpope/vim-fugitive'</span>
Plug <span style="color: #8b2252;">'junegunn/gv.vim'</span>
</pre>
</div>

<p>
ä½¿ç”¨ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">:GV  <span style="color: #b22222;"># </span><span style="color: #b22222;">git&#25552;&#20132;&#27983;&#35272; &#12290;&#36873;&#25321;&#21487;&#30475;&#27599;&#20010;&#25552;&#20132;&#35814;&#24773;&#12290;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:ae47a721-8fb3-404b-b01c-f3724abdcc87" class="outline-4">
<h4 id="h:ae47a721-8fb3-404b-b01c-f3724abdcc87">ç¿»è¯‘</h4>
<div class="outline-text-4" id="text-h:ae47a721-8fb3-404b-b01c-f3724abdcc87">
<p>
<a href="https://github.com/voldikss/vim-translator">https://github.com/voldikss/vim-translator</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">if</span> dein#tap(<span style="color: #8b2252;">'vim-translator'</span>)
  <span style="color: #8b2252;">" Disploy transitation in a window</span>
<span style="color: #8b2252;">  nmap &lt;silent&gt; &lt;Leader&gt;t &lt;Plug&gt;TranslateW</span>
<span style="color: #8b2252;">  vmap &lt;silent&gt; &lt;Leader&gt;t &lt;Plug&gt;TranslateWV</span>
<span style="color: #8b2252;">endif</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:fbfd7aa2-935f-4133-85be-ae20e37f55b9" class="outline-3">
<h3 id="h:fbfd7aa2-935f-4133-85be-ae20e37f55b9">æ–°vim</h3>
<div class="outline-text-3" id="text-h:fbfd7aa2-935f-4133-85be-ae20e37f55b9">
</div>
<div id="outline-container-h:a68a51ba-cd4e-4674-87b9-d4adf484680c" class="outline-4">
<h4 id="h:a68a51ba-cd4e-4674-87b9-d4adf484680c">neovim</h4>
<div class="outline-text-4" id="text-h:a68a51ba-cd4e-4674-87b9-d4adf484680c">
<p>
ä¸€ä¸ªæ–°çš„vimç‰ˆæœ¬ï¼Œæ”¯æŒå¼‚æ­¥ç‰¹æ€§(vim8ä¹Ÿæ”¯æŒ)ã€‚ä¸ä¼šè®©æ’ä»¶è¿è¡Œé˜»ç¢vimä½¿ç”¨ã€‚
</p>

<p>
å®˜æ–¹ï¼š<a href="https://neovim.io">https://neovim.io</a>
</p>

<p>
neovimçš„è®¾è®¡å¯ä»¥åµŒå…¥åˆ°å¾ˆGUIé‡Œï¼ŒåŠ ä¸Šå¥½çœ‹çš„å¤–å£³ã€‚
</p>

<p>
å¯ä»¥åœ¨æœ¬åœ°ä½¿ç”¨neovimï¼ŒæœåŠ¡å™¨ä¸Šè¿˜æ˜¯ä½¿ç”¨åŸå§‹vimã€‚
</p>

<p>
å®‰è£…
</p>

<div class="org-src-container">
<pre class="src src-sh">curl -LO https://github.com/neovim/neovim/releases/latest/download/nvim.appimage
chmod u+x nvim.appimage
./nvim.appimage

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#37197;&#32622;&#29615;&#22659;</span>
./nvim.appimage --appimage-extract
./squashfs-root/AppRun --version

<span style="color: #b22222;"># </span><span style="color: #b22222;">Optional: exposing nvim globally</span>
mv squashfs-root / &amp;&amp; ln -s /squashfs-root/AppRun /usr/bin/nvim
nvim
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c8915587-6af8-436a-8e67-ffb16b377329" class="outline-4">
<h4 id="h:c8915587-6af8-436a-8e67-ffb16b377329">å¼€ç®±å³ç”¨</h4>
<div class="outline-text-4" id="text-h:c8915587-6af8-436a-8e67-ffb16b377329">
<p>
å¦‚æœå·²ç»ç†Ÿæ‚‰äº†vimé…ç½®ï¼Œå¯ä»¥ä»ç½‘ä¸Šç›´æ¥ä½¿ç”¨ä¸€äº›å¼€æºé…ç½®
</p>

<ul class="org-ul">
<li><a href="https://github.com/Spacevim/Spacevim">https://github.com/Spacevim/Spacevim</a></li>
<li><a href="https://github.com/PegasusWang/vim-config">https://github.com/PegasusWang/vim-config</a></li>
<li>å…¶ä»–å¼€æºé…ç½®ã€‚ä¸æ¨èæ–°æ‰‹ç›´æ¥ä½¿ç”¨ï¼Œè¶Šå¤æ‚çš„é…ç½®ä¸Šæ‰‹æˆæœ¬è¶Šé«˜</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:809603c3-b5c1-403d-88b3-a80167d75bed" class="outline-3">
<h3 id="h:809603c3-b5c1-403d-88b3-a80167d75bed">vimæ¸¸æˆ</h3>
<div class="outline-text-3" id="text-h:809603c3-b5c1-403d-88b3-a80167d75bed">
<p>
vimgolfï¼šå¤©æ¢¯æ¸¸æˆ <a href="https://www.vimgolf.com">https://www.vimgolf.com</a>
</p>
</div>
</div>
</section>
<section id="outline-container-h:a90abb7c-9db4-4b1f-aeb1-9a7c5f215cf1" class="outline-2">
<h2 id="h:a90abb7c-9db4-4b1f-aeb1-9a7c5f215cf1">æ–‡æœ¬å¸¸è§å¤„ç†å·¥å…·</h2>
<div class="outline-text-2" id="text-h:a90abb7c-9db4-4b1f-aeb1-9a7c5f215cf1">
</div>
<div id="outline-container-h:bc51fdfd-46a7-4df6-bfd9-e99115eef887" class="outline-3">
<h3 id="h:bc51fdfd-46a7-4df6-bfd9-e99115eef887">æ–‡ä»¶å†…å®¹æŸ¥çœ‹å‘½ä»¤</h3>
<div class="outline-text-3" id="text-h:bc51fdfd-46a7-4df6-bfd9-e99115eef887">
</div>
<div id="outline-container-h:19330c6a-7039-4d2c-96f2-d7ef788f7bbb" class="outline-4">
<h4 id="h:19330c6a-7039-4d2c-96f2-d7ef788f7bbb">æŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶å†…å®¹</h4>
<div class="outline-text-4" id="text-h:19330c6a-7039-4d2c-96f2-d7ef788f7bbb">
</div>
<div id="outline-container-h:6f157e98-8cdc-4849-a5eb-b21a1a92f237" class="outline-5">
<h5 id="h:6f157e98-8cdc-4849-a5eb-b21a1a92f237">cat</h5>
<div class="outline-text-5" id="text-h:6f157e98-8cdc-4849-a5eb-b21a1a92f237">
<p>
cat å¯ä»¥æŸ¥çœ‹æ–‡æœ¬å†…å®¹ æ ¼å¼ï¼š cat [OPTION]&#x2026; [FILE]&#x2026;
</p>

<p>
å¸¸è§é€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">-E&#65306;&#26174;&#31034;&#34892;&#32467;&#26463;&#31526;$
-A&#65306;&#26174;&#31034;&#25152;&#26377;&#25511;&#21046;&#31526;
-n&#65306;&#23545;&#26174;&#31034;&#20986;&#30340;&#27599;&#19968;&#34892;&#36827;&#34892;&#32534;&#21495;
-b&#65306;&#38750;&#31354;&#34892;&#32534;&#21495;
-s&#65306;&#21387;&#32553;&#36830;&#32493;&#30340;&#31354;&#34892;&#25104;&#19968;&#34892;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat -A /data/fa.txt
a  b$
c $
d^Ib^Ic$
[root@centos8 ~]#cat /data/fa.txt
a  b
c
d    b    c
[root@centos8 ~]#cat /data/fb.txt
a
b
c
[root@centos8 ~]#hexdump -C /data/fb.txt
00000000 61 0d 0a 62 0d 0a 63 0d 0a            |a..b..c..|
00000009
[root@centos8 ~]#cat -A /data/fb.txt
a^M$
b^M$
c^M$
[root@centos8 ~]#file /data/fb.txt
/data/fb.txt: ASCII text, with CRLF line terminators
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4253557c-ac0b-483a-a359-44f4a784cab2" class="outline-5">
<h5 id="h:4253557c-ac0b-483a-a359-44f4a784cab2">nl</h5>
<div class="outline-text-5" id="text-h:4253557c-ac0b-483a-a359-44f4a784cab2">
<p>
æ˜¾ç¤ºè¡Œå·ï¼Œç›¸å½“äºcat -b é€‰é¡¹ä¸å‚æ•°ï¼š
</p>

<pre class="example" id="orgcb624c2">
-b  ï¼šæŒ‡å®šè¡Œå·æŒ‡å®šçš„æ–¹å¼ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š
      -b a ï¼šè¡¨ç¤ºä¸è®ºæ˜¯å¦ä¸ºç©ºè¡Œï¼Œä¹ŸåŒæ ·åˆ—å‡ºè¡Œå·(ç±»ä¼¼ cat -n)ï¼›
      -b t ï¼šå¦‚æœæœ‰ç©ºè¡Œï¼Œç©ºçš„é‚£ä¸€è¡Œä¸è¦åˆ—å‡ºè¡Œå·(é»˜è®¤å€¼)ï¼›
-n  ï¼šåˆ—å‡ºè¡Œå·è¡¨ç¤ºçš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä¸‰ç§ï¼š
      -n ln ï¼šè¡Œå·åœ¨è¤å¹•çš„æœ€å·¦æ–¹æ˜¾ç¤ºï¼›
      -n rn ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”ä¸åŠ  0 ï¼›
      -n rz ï¼šè¡Œå·åœ¨è‡ªå·±æ ä½çš„æœ€å³æ–¹æ˜¾ç¤ºï¼Œä¸”åŠ  0 ï¼›
-w  ï¼šè¡Œå·æ ä½çš„å ç”¨çš„ä½æ•°ã€‚
</pre>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /data/f1.txt
a
b
c
d
e
f
g
h
[root@centos8 ~]#nl /data/f1.txt
  1 a
  2 b
  3 c
  4 d
  5 e
  6 f
  7 g
  8 h
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">[root@www ~]# nl -b a -n rz -w 3 /etc/issue
001     CentOS release 5.3 (Final)
002     Kernel \r on an \m
003
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21464;&#25104;&#20165;&#26377; 3 &#20301;&#25968;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:43127cb4-c3df-4fa5-965c-91e67595de40" class="outline-5">
<h5 id="h:43127cb4-c3df-4fa5-965c-91e67595de40">tac</h5>
<div class="outline-text-5" id="text-h:43127cb4-c3df-4fa5-965c-91e67595de40">
<p>
é€†å‘æ˜¾ç¤ºæ–‡æœ¬å†…å®¹
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /data/fa.txt
1
2
3
4
5
[root@centos8 ~]#tac /data/fa.txt
5
4
3
2
1
[root@centos8 ~]#tac
a
bb
ccc &#25353;ctrl+d
ccc
bb
a
[root@centos8 ~]#seq 10 |tac
10
9
8
7
6
5
4
3
2
1
</pre>
</div>
</div>
</div>
<div id="outline-container-h:98d04dce-db33-4b8c-ae26-f526133ef5e2" class="outline-5">
<h5 id="h:98d04dce-db33-4b8c-ae26-f526133ef5e2">rev</h5>
<div class="outline-text-5" id="text-h:98d04dce-db33-4b8c-ae26-f526133ef5e2">
<p>
å°†åŒä¸€è¡Œçš„å†…å®¹é€†å‘æ˜¾ç¤º
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /data/fa.txt
1 2 3 4 5
a b c
[root@centos8 ~]#tac /data/fa.txt
a b c
1 2 3 4 5
[root@centos8 ~]#rev /data/fa.txt
5 4 3 2 1
c b a
[root@centos8 ~]#rev
abcdef
fedcba
[root@centos8 ~]#echo {1..10} |rev
01 9 8 7 6 5 4 3 2 1
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:0a283806-ae71-4e2d-be35-9f6874214298" class="outline-4">
<h4 id="h:0a283806-ae71-4e2d-be35-9f6874214298">æŸ¥çœ‹éæ–‡æœ¬æ–‡ä»¶å†…å®¹</h4>
<div class="outline-text-4" id="text-h:0a283806-ae71-4e2d-be35-9f6874214298">
</div>
<div id="outline-container-h:a0bdabec-4487-4d20-b95e-6b28a385b4dc" class="outline-5">
<h5 id="h:a0bdabec-4487-4d20-b95e-6b28a385b4dc">hexdump</h5>
<div class="outline-text-5" id="text-h:a0bdabec-4487-4d20-b95e-6b28a385b4dc">
<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">hexdump -C -n 512 /dev/sda
00000000 eb 63 90 10 8e d0 bc 00 b0 b8 00 00 8e d8 8e c0 |.c..............|

<span style="color: #483d8b;">echo</span> {a..z} | tr -d <span style="color: #8b2252;">' '</span>|hexdump -C
00000000 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 |abcdefghijklmnop|
00000010 71 72 73 74 75 76 77 78 79 7a 0a         |qrstuvwxyz.|
0000001b
</pre>
</div>

<p>
hexdump:æŸ¥çœ‹ä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶çš„å†…å®¹ï¼Œæ¯”å¦‚äºŒè¿›åˆ¶æ–‡ä»¶ä¸­åŒ…å«çš„æŸäº›å­—ç¬¦ä¸²ã€‚å¯
ä»¥å°†äºŒè¿›åˆ¶æ–‡ä»¶è½¬æ¢ä¸ºASCIIã€10è¿›åˆ¶ã€16è¿›åˆ¶æˆ–8è¿›åˆ¶è¿›è¡ŒæŸ¥çœ‹ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">-b &#27599;&#19968;&#23383;&#33410;&#20197;&#20843;&#36827;&#21046;&#26174;&#31034;&#65292;&#19968;&#34892;&#20849;16&#20010;&#23383;&#33410;&#65292;&#19968;&#34892;&#24320;&#22987;&#20197;&#21313;&#20845;&#36827;&#21046;&#26174;&#31034;&#20559;&#31227;&#20540;&#65307;
        0000000 177 105 114 106 002 001 001 000 000 000 000 000 000 000 000 000
-c &#27599;&#19968;&#23383;&#33410;&#20197;ASCII&#23383;&#31526;&#26174;&#31034;&#65292;&#20854;&#20313;&#21516;&#19978;&#65307;
        0000000 177  E  L  F 002 001 001  \0  \0  \0  \0  \0  \0  \0  \0  \0
-C &#27599;&#19968;&#23383;&#33410;&#20197;16&#36827;&#21046;&#26174;&#31034;&#65292;&#19968;&#34892;&#20849;16&#20010;&#23383;&#33410;&#65292;&#23614;&#37096;&#38468;&#21152;16&#20010;&#30456;&#24212;&#30340;ASCII&#23383;&#31526;&#65307;
          00000000  7f 45 4c 46 02 01 01 00  00 00 00 00 00 00 00 00  |.ELF............|
-n &#21482;&#35299;&#37322;&#25351;&#23450;&#38271;&#24230;&#23383;&#33410;
        &#21333;&#20301;&#65306;&#40664;&#35748;&#21313;&#36827;&#21046;&#65292;0x&#25110;0X&#24320;&#22836;&#21017;&#20026;16&#36827;&#21046;&#65292;0&#24320;&#22836;&#21017;&#20026;8&#36827;&#21046;&#12290;&#40664;&#35748;&#20026;&#23383;&#33410;&#65292;b&#21017;&#20026;512&#23383;&#33410;&#65292;k&#21017;&#20026;1024&#23383;&#33410;&#65292;m&#21017;&#20026;1048576&#23383;&#33410;
-d &#21452;&#23383;&#33410;&#21313;&#36827;&#21046;&#26174;&#31034;
-o &#21452;&#23383;&#33410;&#20843;&#36827;&#21046;&#26174;&#31034;
-v &#21435;&#38500;&#20013;&#38388;&#26174;&#31034;&#30340;&#8220;*&#8221;&#23383;&#31526;
-x &#21452;&#23383;&#33410;&#21313;&#20845;&#36827;&#21046;&#26174;&#31034;
-e &#26684;&#24335;&#21270;&#21442;&#25968;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:8026cdf1-7d54-427a-acbb-0393a991b03c" class="outline-5">
<h5 id="h:8026cdf1-7d54-427a-acbb-0393a991b03c">od</h5>
<div class="outline-text-5" id="text-h:8026cdf1-7d54-427a-acbb-0393a991b03c">
<p>
od å³ dump files in octal and other formats
</p>

<ul class="org-ul">
<li>-Aï¼šæŒ‡å®šåœ°å€åŸºæ•°ï¼Œodå‘½ä»¤çš„è¾“å‡ºæœ€å·¦ä¾§çš„1åˆ—ä¸ºåç§»é‡ã€‚é»˜è®¤çš„åç§»é‡ä½¿ç”¨8
è¿›åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨-Aè¿›è¡Œä¿®æ”¹ã€‚

<ul class="org-ul">
<li>-Aå‚æ•°ï¼ŒæŒ‡å®šåç§»é‡æ˜¾ç¤ºæ–¹å¼ã€‚å‚æ•°æœ‰ï¼šd:åè¿›åˆ¶ï¼›oï¼šå…«è¿›åˆ¶ï¼›xï¼šåå…­è¿›
åˆ¶ï¼›nä¸æ˜¾ç¤ºåç§»é‡è¿™ä¸€åˆ—ã€‚</li>
</ul></li>

<li><p>
-tï¼šé€‰æ‹©è¾“å‡ºæ ¼å¼ã€‚æ ¼å¼ä¸ºï¼š-t [acdfoux][size].
</p>

<p>
acdfoux:
</p>
<div class="org-src-container">
<pre class="src src-sh">a&#65306;&#27599;&#20010;ASCII&#30721;&#23545;&#24212;&#30340;&#21517;&#23383;&#12290;
b&#65306;&#29992;&#20843;&#36827;&#21046;&#23383;&#33410;&#34920;&#31034;&#30340;&#23383;&#31526;&#23545;&#24212;&#30340;ASCII&#30721;&#20540;
d&#65306;&#26377;&#31526;&#21495;&#25968;&#20540;&#65292;SIZE&#20010;&#23383;&#33410;
f&#65306;&#28014;&#28857;&#25968;&#65292;SIZE&#20010;&#23383;&#33410;
o&#65306;&#20843;&#36827;&#21046;&#25968;&#65292;SIZE&#20010;&#23383;&#33410;
u&#65306;&#26080;&#31526;&#21495;&#25968;&#20540;&#65292;SIZE&#20010;&#23383;&#33410;
x&#65306;&#21313;&#20845;&#36827;&#21046;&#25968;&#65292;size&#20010;&#23383;&#33410;
</pre>
</div>

<p>
size:
</p>
<div class="org-src-container">
<pre class="src src-sh">&#27880;&#24847;&#65306;&#36825;&#37324;&#30340;SIZE&#26159;&#19968;&#20010;&#25968;&#20540;&#25110;&#32773;&#26159;&#19968;&#20010;&#23383;&#27597;&#12290;&#23383;&#27597;&#30340;&#33539;&#22260;&#20026;&#65306;[CSILFD]&#12290;&#23545;
&#20110; &#38750;f&#31867;&#22411;&#30340;&#65292;&#19968;&#33324;&#36873;&#25321;CSIL&#12290;&#20854;&#20013;

<span style="color: #0000ff;">C&#34920;&#31034;sizeof</span>(char)
<span style="color: #0000ff;">S&#34920;&#31034;sizeof</span>(short)
<span style="color: #0000ff;">I&#34920;&#31034;sizeof</span>(int)
<span style="color: #0000ff;">L&#34920;&#31034;sizeof</span>(long)

&#22914;&#26524;&#31867;&#22411;&#20026;f&#65292;sizeof&#21487;&#20197;&#26159;F&#25110;&#32773;&#26159;D&#65292;&#20998;&#21035;&#34920;&#31034;sizeof(float)&#25110;&#32773;sizeof(double)<span style="color: #483d8b;">.</span>
</pre>
</div></li>
</ul>

<p>
å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„æ ¼å¼ï¼šåˆ†åˆ«ä¸ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">-a:&#31561;&#20215;&#20110; -t a.&#34920;&#31034;ASCII&#30721;&#30340;&#21517;&#23383;
-b&#65306;&#31561;&#20215;&#20110;-t o1,&#36873;&#25321;&#21333;&#23383;&#33410;&#65292;&#24182;&#19988;&#25353;&#29031;3&#20010;&#25968;&#20540;&#20301;&#30340;&#20843;&#36827;&#21046;&#25968;&#36827;&#34892;&#35299;&#37322;
-c&#65306;&#31561;&#20215;&#20110;-t c&#65292;&#36873;&#25321;ASCII&#30721;&#23383;&#31526;&#25110;&#32773;&#26159;&#36716;&#20041;&#23383;&#31526;
-d&#65306;&#31561;&#20215;&#20110;-t u2&#65306;&#36873;&#25321;&#26080;&#31526;&#21495;2&#23383;&#33410;&#21333;&#20301;
-f&#65306;&#31561;&#20215;&#20110;-t fF&#65292;&#36873;&#25321;&#21333;&#31934;&#24230;&#28014;&#28857;&#25968;
-i&#65306;&#31561;&#20215;&#20110;-t dI&#65292;&#36873;&#25321;&#21313;&#36827;&#21046;&#25972;&#22411;
-l&#65306;&#31561;&#20215;&#20110;-t dL&#65292;&#36873;&#25321;&#21313;&#36827;&#21046;&#38271;&#25972;&#22411;
-o:&#31561;&#20215;&#20110;-t o2&#65292;&#36873;&#25321;&#20004;&#20010;&#23383;&#33410;&#30340;&#21333;&#20803;&#24182;&#25353;&#29031;&#20843;&#36827;&#21046;&#36827;&#34892;&#35299;&#37322;
-s:&#31561;&#20215;&#20110;-t d2,&#36873;&#25321;&#20004;&#23383;&#33410;&#21333;&#20803;&#24182;&#25353;&#29031;&#21313;&#36827;&#21046;&#35299;&#37322;
-x&#65306;&#31561;&#20215;&#20110;-t x2&#65292;&#36873;&#25321;&#20004;&#20010;&#23383;&#33410;&#21333;&#20803;&#65292;&#24182;&#20316;&#21313;&#20845;&#36827;&#21046;&#35299;&#37322;
</pre>
</div>


<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo {a..z} | tr -d <span style="color: #8b2252;">' '</span>|od -t x  <span style="color: #b22222;"># </span><span style="color: #b22222;">16&#36827;&#21046;&#26174;&#31034;</span>
0000000 64636261 68676665 6c6b6a69 706f6e6d
0000020 74737271 78777675 000a7a79
0000033
[root@centos8 ~]#echo {a..z} | tr -d <span style="color: #8b2252;">' '</span>|od -t x1  <span style="color: #b22222;"># </span><span style="color: #b22222;">16&#36827;&#21046;&#26174;&#31034;&#20013;&#38388;&#38548;&#24320;</span>
0000000 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70
0000020 71 72 73 74 75 76 77 78 79 7a 0a
0000033
[root@centos8 ~]#echo {a..z} | tr -d <span style="color: #8b2252;">' '</span>|od -t x1z  <span style="color: #b22222;"># </span><span style="color: #b22222;">16&#36827;&#21046;&#26174;&#31034;&#20013;&#38388;&#38548;&#24320;&#65292;&#23383;&#27597;&#26174;&#31034;&#22312;&#21491;&#20391;</span>
0000000 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f 70 &gt;abcdefghijklmnop&lt;
0000020 71 72 73 74 75 76 77 78 79 7a 0a         &gt;qrstuvwxyz.&lt;
0000033
</pre>
</div>
</div>
</div>
<div id="outline-container-h:61f7cc8d-9125-4ebb-bbfa-cda9a675698b" class="outline-5">
<h5 id="h:61f7cc8d-9125-4ebb-bbfa-cda9a675698b">xxd</h5>
<div class="outline-text-5" id="text-h:61f7cc8d-9125-4ebb-bbfa-cda9a675698b">
<p>
ç”¨äºä½¿ç”¨äºŒè¿›åˆ¶æˆ–åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œå¯ä»¥å°†æŒ‡å®šæ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥ä»¥å
å…­è¿›åˆ¶è½¬å‚¨,ä¹Ÿå¯ä»¥æŠŠåå…­è¿›åˆ¶è½¬å‚¨è½¬æ¢æˆåŸæ¥çš„äºŒè¿›åˆ¶å½¢å¼ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> {a..z} | tr -d <span style="color: #8b2252;">' '</span>|xxd
0000000: 6162 6364 6566 6768 696a 6b6c 6d6e 6f70 abcdefghijklmnop
0000010: 7172 7374 7576 7778 797a 0a       qrstuvwxyz.
</pre>
</div>

<p>
xxd çš„è¾“å‡ºä¸»è¦æ˜¯ä¸‰ä¸ªéƒ¨åˆ†ï¼šå·¦è¾¹çš„åœ°å€åŒºåŸŸï¼Œä¸­é—´çš„ hex dump
ï¼Œå’Œå³è¾¹çš„åŸå§‹å†…å®¹
</p>

<ul class="org-ul">
<li>å·¦è¾¹æ˜¾ç¤ºçš„åœ°å€ï¼Œå½“ç„¶ä¹Ÿæ˜¯åå…­è¿›åˆ¶çš„ã€‚é»˜è®¤çš„è¯ä¸€è¡Œ dump
16ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åœ°å€æ­£å¥½åŠ  0x10</li>
<li>ä¸­é—´æ˜¯ç»è¿‡ hex dump åä»¥åå…­è¿›åˆ¶æ˜¾ç¤ºçš„æ–‡ä»¶å†…å®¹ã€‚æ³¨æ„åˆ°è¿™ä¸ªæ–‡ä»¶æ˜¯ ascii
ç¼–ç çš„ï¼Œæ‰€ä»¥æ‰€æœ‰çš„å­—èŠ‚çš„å€¼éƒ½ä¸å¤§äº 0xff</li>
<li>å³è¾¹åˆ™æ˜¯åŸæ–‡å†…å®¹ï¼Œå¦‚æœæ˜¯ä¸€äº›éæ–‡æœ¬æ–‡ä»¶ï¼Œé‡åˆ°ä¸å¯æ‰“å°çš„å­—ç¬¦æ—¶å€™xxd
ä¼šè¾“å‡º . ä½œä¸ºä»£æ›¿</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">-ps &#21442;&#25968;&#65306;&#20197; postscript&#30340;&#36830;&#32493;16&#36827;&#21046;&#36716;&#20648;&#36755;&#20986;&#65292;&#20063;&#21483;&#20570;&#32431;16&#36827;&#21046;&#36716;&#20648;&#12290;
-b&#21442;&#25968;&#65306;&#20197;2&#36827;&#21046;&#23383;&#31526;&#20018;&#24418;&#24335;&#36755;&#20986;&#12290;
-r&#21442;&#25968;&#65306;&#36870;&#21521;&#36716;&#25442;&#12290;&#23558;16&#36827;&#21046;&#23383;&#31526;&#20018;&#34920;&#31034;&#36716;&#20026;&#23454;&#38469;&#30340;&#25968;&#65306;

-g: &#20960;&#20010;&#23383;&#33410;&#32452;&#25104;&#19968;&#32452;
-c: &#27599;&#34892;&#36755;&#20986;&#22810;&#23569;&#20010;&#23383;&#33410;
-i&#65306;&#23558;&#25991;&#20214;&#20869;&#23481;&#36755;&#20986;&#25104; c&#30340;&#19968;&#20010;&#25968;&#32452;&#26684;&#24335;
-l : &#36755;&#20986;&#20960;&#20010;&#23383;&#33410;&#21518;&#32467;&#26463;
-p -plain&#65306;&#20197;&#19968;&#20010;&#25972;&#22359;&#36755;&#20986;&#25152;&#26377;&#30340;hex&#65292; &#19981;&#20351;&#29992;&#31354;&#26684;&#36827;&#34892;&#20998;&#21106;
-s [+][-]seek &#65306; &#20174;&#31532;&#20960;&#20010;&#23383;&#31526;&#24320;&#22987;
-u : &#36755;&#20986;&#37319;&#29992;&#22823;&#20889;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">xxd -a -c 12 -g 1 -l 512 -s +0x200 [inputfile]
&#12304;&#33258;&#21160;&#36339;&#36807;&#31354;&#30333;&#12305;&#12304;&#27599;&#34892;&#26174;&#31034;12&#23383;&#33410;&#12305;&#12304;&#19968;&#20010;&#23383;&#33410;&#19968;&#22359;&#12305;&#12304;&#26174;&#31034;512&#23383;&#33410;&#20869;&#23481;&#12305;&#12304;&#20174;0x200&#24320;&#22987;&#12305;&#12304;&#36755;&#20837;&#25991;&#20214;&#12305;
</pre>
</div>

<p>
èŒƒä¾‹16è¿›åˆ¶å­—ç¬¦è½¬æ¢
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#23558;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026; 16 &#36827;&#21046;&#26684;&#24335;&#65306;</span>
<span style="color: #483d8b;">echo</span> -n <span style="color: #8b2252;">"string"</span> | xxd -p

<span style="color: #b22222;"># </span><span style="color: #b22222;">echo -n "~" | xxd -p</span>
7e


<span style="color: #b22222;"># </span><span style="color: #b22222;">&#23558; 16 &#36827;&#21046;&#26684;&#24335;&#30340;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;&#23383;&#31526;&#20018;&#65306;</span>
<span style="color: #483d8b;">echo</span> -n <span style="color: #8b2252;">"48656c6c6f20576f726c64"</span> | xxd -r -p

mysql&gt; select 0x7e;
+------+
| 0x7e |
+------+
| ~    |
</pre>
</div>

<p>
urlç¼–ç æ˜¯åå…­è¿›åˆ¶çš„å½¢å¦‚%E6%9C%8D%E5%8A%A1%E5çš„å­—ç¬¦ä¸² ç¼–ç çš„ä¸¤ç§æ–¹å¼
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'&#25163;&#26426;'</span> | tr -d <span style="color: #8b2252;">'\n'</span> | xxd -plain | sed <span style="color: #8b2252;">'s/\(..\)/%\1/g'</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'&#25163;&#26426;'</span> |tr -d <span style="color: #8b2252;">'\n'</span> |od -An -tx1|tr <span style="color: #8b2252;">' '</span> %

&#20854;&#23454;&#25105;&#20204;&#32463;&#24120;&#29992;&#30340; curl &#30340; --data-urlencode &#36873;&#39033;&#21363;&#21487;&#23454;&#29616; urlencode &#32534;&#30721;&#65306;
june@~ 23:58:38&gt;
curl -v -L -G --data-urlencode <span style="color: #8b2252;">'wd=&#25163;&#26426;'</span> <span style="color: #8b2252;">"http://www.baidu.com/s"</span>

&#35299;&#30721;
<span style="color: #a0522d;">url</span>=<span style="color: #8b2252;">"&#35201;&#35299;&#30721;&#30340;URL&#22320;&#22336;"</span>
<span style="color: #483d8b;">printf</span> $(<span style="color: #ff00ff;">echo -n $url | sed 's/\\/\\\\/g;s/\(%\</span><span style="color: #8b2252;">)\([0-9a-fA-F][0-9a-fA-F]\)/\\x\2/g'</span>)<span style="color: #8b2252;">"\n"</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[admin@middle-ware ~]$ echo <span style="color: #8b2252;">'&#25163;&#26426;'</span> | tr -d <span style="color: #8b2252;">'\n'</span> | xxd -plain | sed <span style="color: #8b2252;">'s/\(..\)/%\1/g'</span>
%e6%89%8b%e6%9c%ba
[admin@middle-ware ~]$ echo <span style="color: #8b2252;">'&#25163;&#26426;'</span> |tr -d <span style="color: #8b2252;">'\n'</span> |od -An -tx1|tr <span style="color: #8b2252;">' '</span> %
%e6%89%8b%e6%9c%ba
[admin@middle-ware ~]$ <span style="color: #a0522d;">url</span>=<span style="color: #8b2252;">'%e6%89%8b%e6%9c%ba'</span>
[admin@middle-ware ~]$ printf $(<span style="color: #ff00ff;">echo -n $url | sed 's/\\/\\\\/g;s/\(%\</span><span style="color: #8b2252;">)\([0-9a-fA-F][0-9a-fA-F]\)/\\x\2/g'</span>)<span style="color: #8b2252;">"\n"</span>
&#25163;&#26426;
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:f1656fb3-492d-42ba-928f-5708a8c3437e" class="outline-3">
<h3 id="h:f1656fb3-492d-42ba-928f-5708a8c3437e">åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶å†…å®¹</h3>
<div class="outline-text-3" id="text-h:f1656fb3-492d-42ba-928f-5708a8c3437e">
</div>
<div id="outline-container-h:3c258c6e-1493-4f10-9d87-2acd178d905c" class="outline-4">
<h4 id="h:3c258c6e-1493-4f10-9d87-2acd178d905c">more</h4>
<div class="outline-text-4" id="text-h:3c258c6e-1493-4f10-9d87-2acd178d905c">
<p>
å¯ä»¥å®ç°åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶ï¼Œå¯ä»¥é…åˆç®¡é“å®ç°è¾“å‡ºä¿¡æ¯çš„åˆ†é¡µ æ ¼å¼ more
[OPTIONS&#x2026;] FILE&#x2026;
</p>

<p>
é€‰é¡¹ï¼š -d: æ˜¾ç¤ºç¿»é¡µåŠé€€å‡ºæç¤º
</p>

<p>
less ä¹Ÿå¯ä»¥å®ç°åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶æˆ–STDINè¾“å‡º
</p>

<p>
æŸ¥çœ‹æ—¶æœ‰ç”¨çš„å‘½ä»¤åŒ…æ‹¬ï¼š
</p>
<ul class="org-ul">
<li><code>/æ–‡æœ¬</code> æœç´¢æ–‡æœ¬ã€‚n/N è·³åˆ°ä¸‹ä¸€ä¸ª æˆ– ä¸Šä¸€ä¸ªåŒ¹é…</li>
</ul>
</div>
</div>
<div id="outline-container-h:57079271-facc-41d7-8a01-36bfa097b5fc" class="outline-4">
<h4 id="h:57079271-facc-41d7-8a01-36bfa097b5fc">less</h4>
<div class="outline-text-4" id="text-h:57079271-facc-41d7-8a01-36bfa097b5fc">
<p>
less å‘½ä»¤æ˜¯manå‘½ä»¤ä½¿ç”¨çš„åˆ†é¡µå™¨ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /etc/init.d/functions |less
<span style="color: #b22222;"># </span><span style="color: #b22222;">-*-Shell-script-*-</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">functions This file contains functions to be used by most or all</span>
<span style="color: #b22222;">#    </span><span style="color: #b22222;">shell scripts in the /etc/init.d directory.</span>
<span style="color: #b22222;">#</span>
<span style="color: #a0522d;">TEXTDOMAIN</span>=initscripts
<span style="color: #b22222;"># </span><span style="color: #b22222;">Make sure umask is sane</span>
<span style="color: #483d8b;">umask</span> 022
<span style="color: #b22222;"># </span><span style="color: #b22222;">Set up a default search path.</span>
<span style="color: #a0522d;">PATH</span>=<span style="color: #8b2252;">"/sbin:/usr/sbin:/bin:/usr/bin"</span>
<span style="color: #483d8b;">export</span> PATH
...&#30465;&#30053;...
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:f7949d1a-b7c7-47c7-8018-016d1362814e" class="outline-3">
<h3 id="h:f7949d1a-b7c7-47c7-8018-016d1362814e">æ˜¾ç¤ºæ–‡æœ¬å‰æˆ–åè¡Œå†…å®¹</h3>
<div class="outline-text-3" id="text-h:f7949d1a-b7c7-47c7-8018-016d1362814e">
</div>
<div id="outline-container-h:131dc721-0906-425f-bb79-7697116e705f" class="outline-4">
<h4 id="h:131dc721-0906-425f-bb79-7697116e705f">head</h4>
<div class="outline-text-4" id="text-h:131dc721-0906-425f-bb79-7697116e705f">
<p>
å¯ä»¥æ˜¾ç¤ºæ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥çš„å‰é¢è¡Œ
</p>

<p>
æ ¼å¼ï¼š head [OPTION]&#x2026; [FILE]&#x2026;
</p>

<p>
é€‰é¡¹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-sh">-c <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#23450;&#33719;&#21462;&#21069;#&#23383;&#33410;</span>
-n <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#23450;&#33719;&#21462;&#21069;#&#34892;</span>
-# &#21516;&#19978;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#head -n 3 /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin

[root@centos8 ~]#head -3 /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin

[root@centos8 ~]#echo a&#25105;b | head -c4
a&#25105;[root@centos8 ~]#

[root@centos8 ~]#cat /dev/urandom | tr -dc <span style="color: #8b2252;">'[:alnum:]'</span>| head -c10
G755MlZatW[root@centos8 ~]#cat /dev/urandom | tr -dc <span style="color: #8b2252;">'[:alnum:]'</span>| head -c10
ASsax6DeBz[root@centos8 ~]#cat /dev/urandom | tr -dc <span style="color: #8b2252;">'[:alnum:]'</span>| head -c10 |tee pass.txt | passwd --stdin me
Changing password for user me.
passwd: all authentication tokens updated successfully.
[root@centos8 ~]#cat pass.txt
AGT952Essg[root@centos8 ~]#su - wang
[wang@centos8 ~]$<span style="color: #a0522d;">su</span> - me
Password:

[root@centos8 ~]#cat /data/f1.txt
1
2
3
4
5
6
7
8
9
10
[root@centos8 ~]#head -n -3 /data/f1.txt
1
2
3
4
5
6
7
[root@centos8 ~]#
</pre>
</div>
</div>
</div>
<div id="outline-container-h:11fdd8c8-2c5f-4cd3-81c4-44731646653f" class="outline-4">
<h4 id="h:11fdd8c8-2c5f-4cd3-81c4-44731646653f">tail</h4>
<div class="outline-text-4" id="text-h:11fdd8c8-2c5f-4cd3-81c4-44731646653f">
<p>
tail å’Œhead ç›¸åï¼ŒæŸ¥çœ‹æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥çš„å€’æ•°è¡Œ
</p>

<p>
æ ¼å¼ï¼š tail [OPTION]&#x2026; [FILE]&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-sh">-c <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#23450;&#33719;&#21462;&#21518;#&#23383;&#33410;</span>
-n <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#23450;&#33719;&#21462;&#21518;#&#34892;</span>
-# &#21516;&#19978;
-f &#36319;&#36394;&#26174;&#31034;&#25991;&#20214;fd&#26032;&#36861;&#21152;&#30340;&#20869;&#23481;,&#24120;&#29992;&#26085;&#24535;&#30417;&#25511;&#65292;&#30456;&#24403;&#20110; --follow=descriptor,&#24403;&#25991;&#20214;&#21024;&#38500;&#20877;&#26032;&#24314;&#21516;&#21517;&#25991;&#20214;,&#23558;&#26080;&#27861;&#32487;&#32493;&#36319;&#36394;&#25991;&#20214;
-F &#36319;&#36394;&#25991;&#20214;&#21517;&#65292;&#30456;&#24403;&#20110;--follow=name --retry&#65292;&#24403;&#25991;&#20214;&#21024;&#38500;&#20877;&#26032;&#24314;&#21516;&#21517;&#25991;&#20214;,&#23558;&#21487;&#20197;&#32487;&#32493;&#36319;&#36394;&#25991;&#20214;
tailf &#31867;&#20284; tail &#8211;f&#65292;&#24403;&#25991;&#20214;&#19981;&#22686;&#38271;&#26102;&#24182;&#19981;&#35775;&#38382;&#25991;&#20214;

&#27880;&#24847;&#65306;#&#21495;&#21069;&#38754;&#21487;&#20351;&#29992;&#27491;&#36127;&#21495;&#65292;&#34920;&#31034;&#35813;&#20559;&#31227;&#20174;&#39030;&#37096;&#36824;&#26159;&#20174;&#23614;&#37096;&#24320;&#22987;&#35745;&#31639;&#12290;&#22914;+2&#34920;&#31034;&#20174;&#31532;2&#34892;&#21040;&#23614;&#34892;&#65292;-2&#34920;&#31034;&#20174;&#20498;&#25968;&#31532;2&#34892;&#21040;&#23614;&#34892;&#12290;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat  /data/f1.txt
1
2
3
4
5
6
7
8
9
10
[root@centos8 ~]#tail -n 3 /data/f1.txt
8
9
10
[root@centos8 ~]#tail -n +3 /data/f1.txt
3
4
5
6
7
8
9
10
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#tail -3 /var/log/messages
Dec 20 09:49:01 centos8 dbus-daemon[952]: [system] Successfully activated
service <span style="color: #8b2252;">'net.reactivated.Fprint'</span>
Dec 20 09:49:01 centos8 systemd[1]: Started Fingerprint Authentication Daemon.
Dec 20 09:49:13 centos8 su[6887]: (to cici) root on pts/0
[root@centos8 ~]#tail -f /var/log/messages
&#12290;&#12290;&#12290;
  727 B/s | 1.5 kB   00:02
Dec 20 08:47:12 centos8 dnf[1465]: Metadata cache created.
Dec 20 08:47:12 centos8 systemd[1]: Started dnf makecache.

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21482;&#26597;&#30475;&#26368;&#26032;&#21457;&#29983;&#30340;&#26085;&#24535;</span>
[root@centos8 ~]#tail -fn0 /var/log/messages
[root@centos8 ~]#tail -0f /var/log/messages
[root@centos8 data]#ifconfig | head -2 | tail -1
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255
</pre>
</div>

<p>
tailæ‹“å±•ï¼š
</p>

<p>
é€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">--retry : &#21363;&#20351;tail&#24320;&#22987;&#26102;&#23601;&#19981;&#33021;&#35775;&#38382;&#25110;&#32773;&#22312;tail&#36816;&#34892;&#21518;&#19981;&#33021;&#35775;&#38382;,&#20063;&#20173;&#28982;&#19981;&#20572;&#22320;&#23581;&#35797;&#25171;&#24320;&#25991;&#20214;. -- &#21482;&#19982;-f&#21512;&#29992;&#26102;&#26377;&#29992;
-F : same as --follow=name --retry&#65292;&#21363;-f --retry
--max-unchanged-stats=N
-q : &#19981;&#26174;&#31034;&#22788;&#29702;&#20449;&#24687;
-v : &#26174;&#31034;&#35814;&#32454;&#30340;&#22788;&#29702;&#20449;&#24687;
-c&lt;&#25968;&#30446;&gt; : &#26174;&#31034;&#30340;&#23383;&#33410;&#25968;
-n&lt;&#34892;&#25968;&gt; : &#26174;&#31034;&#34892;&#25968;&#160;&#160;***
--pid=PID : &#19982;-f&#21512;&#29992;,&#34920;&#31034;&#22312;&#36827;&#31243;ID,PID&#27515;&#25481;&#20043;&#21518;&#32467;&#26463;.
-q, --quiet, --silent : &#20174;&#19981;&#36755;&#20986;&#32473;&#20986;&#25991;&#20214;&#21517;&#30340;&#39318;&#37096;
-s, --sleep-interval=S : &#19982;-f&#21512;&#29992;,&#34920;&#31034;&#22312;&#27599;&#27425;&#21453;&#22797;&#30340;&#38388;&#38548;&#20241;&#30496;S&#31186;
</pre>
</div>

<p>
<b>tail æ–­ç‚¹ç»­ä¼ </b>
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@nginx01 ~]# tail -n +$(<span style="color: #ff00ff;">tail -n1 /root/n</span>) -F /root/ip.txt 2&gt;&amp;1 | awk <span style="color: #8b2252;">'ARGIND==1{i=$0;next}{i++;if($0~/^tail/){i=0};print $0;print i &gt; "/root/n";fflush("")}'</span> /root/n -
</pre>
</div>

<p>
å¦‚ï¼Œflumeæ—¥å¿—æ”¶é›†ä¸­è®¾ç½®æ–­ç‚¹æ”¶é›†
</p>

<div class="org-src-container">
<pre class="src src-sh">a1.sources.r1.type = exec
a1.sources.r1.shell = /bin/bash -c
a1.sources.r1.command = tail -n +$(<span style="color: #ff00ff;">tail -n1 /home/hadoop/flume_read/m</span>) -F /home/hadoop/student.txt | awk <span style="color: #8b2252;">'ARGIND==1{i=$0;next}{i++;if($0~/^tail/){i=0};print</span>
<span style="color: #8b2252;">$0;print i &gt;&gt; "/home/hadoop/flume_read/m";fflush("")}'</span> /home/hadoop/flume_read/m -

&#35299;&#37322;&#65306;
ARGC        The number of command line arguments (does not include
                   options to gawk, or the program source)<span style="color: #483d8b;">.</span>   &#21629;&#20196;&#34892;&#21442;&#25968;&#30340;&#20010;&#25968;
ARGIND      The index<span style="color: #a020f0;"> in</span> ARGV of the current file being processed. &#21629;&#20196;&#34892;&#20013;&#25991;&#20214;&#24207;&#21495;
ARGV        Array of command line arguments. The array is indexed
                   from 0 to ARGC - 1. Dynamically changing the contents
                   of ARGV can control the files used for data. &#21629;&#20196;&#34892;&#21442;&#25968;&#25968;&#32452;
&#22823;&#20307;&#31867;&#20284;&#20110;C&#35821;&#35328; int main(int argc,char *argv[])
</pre>
</div>

<p>
æˆ‘è¦æ¯”è¾ƒaå’Œbä¸¤ä¸ªæ–‡ä»¶ï¼› 
</p>

<div class="org-src-container">
<pre class="src src-sh">a b
1 1
qw 2
qq d
123 cd
</pre>
</div>

<p>
æˆ‘æ€ä¹ˆæ‰èƒ½åˆ—å‡ºbæ–‡ä»¶ä¸­å®Œå…¨ä¸åŒ…å«aæ–‡ä»¶çš„è¡Œï¼Ÿï¼Ÿ
</p>

<div class="org-src-container">
<pre class="src src-sh">&#35299;&#31572;&#65306; awk <span style="color: #8b2252;">'ARGIND==1 {a[$0]} ARGIND&gt;1&amp;&amp;!($0 in a) {print $0}'</span> a b
&#25110;&#32773;&#65306; awk <span style="color: #8b2252;">'NR==FNR {a[$0]} NR&gt;FNR&amp;&amp;!($0 in a) {print $0}'</span> a b
&#20195;&#30721;&#35299;&#37322;&#65306;
<span style="color: #a0522d;">ARGIND</span>==1{a[$<span style="color: #a0522d;">0</span>]}
<span style="color: #b22222;">#</span><span style="color: #b22222;">ARGIND==1 &#21028;&#26029;&#26159;&#21542;&#27491;&#22312;&#22788;&#29702;&#31532;&#19968;&#20010;&#25991;&#20214;&#65292;&#26412;&#20363;&#20026;&#25991;&#20214;a</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">{a[$0]} &#21021;&#22987;&#21270;&#65288;&#25110;&#21483;&#20570;&#23450;&#20041;&#65289;a[$0]</span>
ARGIND&gt;1&amp;&amp;!($<span style="color: #a0522d;">0</span><span style="color: #a020f0;"> in</span> a){print $<span style="color: #a0522d;">0</span>}
<span style="color: #b22222;">#</span><span style="color: #b22222;">ARGIND&gt;1 &#21028;&#26029;&#26159;&#21542;&#22312;&#22788;&#29702;&#31532;&#20108;&#20010;&#25110;&#31532;n&#20010;&#25991;&#20214;&#65292;&#26412;&#20363;&#21482;&#26377;&#19968;&#20010;&#25991;&#20214;b</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24182;&#19988;&#21028;&#26029;a[$0]&#26159;&#21542;&#26410;&#23450;&#20041;&#65292;&#28982;&#21518;&#25171;&#21360;$0</span>


fflush&#20989;&#25968;&#29992;&#20197;&#21047;&#26032;&#36755;&#20986;&#32531;&#20914;&#21306;&#65292;&#22914;&#26524;&#27809;&#26377;&#21442;&#25968;&#65292;&#23601;&#21047;&#26032;&#26631;&#20934;&#36755;&#20986;&#30340;&#32531;&#20914;&#21306;&#65292;&#22914;&#26524;&#20197;&#31354;&#23383;&#31526;&#20018;&#20026;&#21442;&#25968;&#65292;&#22914;fflush(<span style="color: #8b2252;">""</span>),&#21017;&#21047;&#26032;&#25152;&#26377;&#25991;&#20214;&#21644;&#31649;&#36947;&#30340;&#36755;&#20986;&#32531;&#20914;&#21306;&#12290;
&#36825;&#37324;&#30340;fflush&#26159;&#21521;n&#25991;&#20214;&#20013;&#20889;&#20837;
</pre>
</div>

<p>
å‚è€ƒï¼šflumeä¸­çš„æ–­ç‚¹ç»­ä¼  <a href="http://blog.csdn.net/smallboy2011/article/details/73163664">http://blog.csdn.net/smallboy2011/article/details/73163664</a>
</p>


<figure id="orgbbda757">
<img src="images/image-20210216002359744.png" alt="image-20210216002359744.png" width="60%">

<figcaption><span class="figure-number">Figure 31: </span>image-20210216002359744</figcaption>
</figure>
</div>
</div>
</div>
<div id="outline-container-h:6632b664-a35b-4012-824a-f706f46d4908" class="outline-3">
<h3 id="h:6632b664-a35b-4012-824a-f706f46d4908">æŒ‰åˆ—æŠ½å–æ–‡æœ¬cut</h3>
<div class="outline-text-3" id="text-h:6632b664-a35b-4012-824a-f706f46d4908">
<p>
cut å‘½ä»¤å¯ä»¥æå–æ–‡æœ¬æ–‡ä»¶æˆ–STDINæ•°æ®çš„æŒ‡å®šåˆ—
</p>

<p>
æ ¼å¼ cut [OPTION]&#x2026; [FILE]&#x2026;
</p>

<p>
é€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">-d DELIMITER: &#25351;&#26126;&#20998;&#38548;&#31526;&#65292;&#40664;&#35748;tab
-f FILEDS:
   <span style="color: #b22222;">#</span><span style="color: #b22222;">: &#31532;#&#20010;&#23383;&#27573;,&#20363;&#22914;:3</span>
   <span style="color: #b22222;">#</span><span style="color: #b22222;">,#[,#]&#65306;&#31163;&#25955;&#30340;&#22810;&#20010;&#23383;&#27573;&#65292;&#20363;&#22914;:1,3,6</span>
   <span style="color: #b22222;">#</span><span style="color: #b22222;">-#&#65306;&#36830;&#32493;&#30340;&#22810;&#20010;&#23383;&#27573;, &#20363;&#22914;:1-6</span>
   &#28151;&#21512;&#20351;&#29992;&#65306;1-3,7
-c &#25353;&#23383;&#31526;&#20999;&#21106;
--output-delimiter=STRING&#25351;&#23450;&#36755;&#20986;&#20998;&#38548;&#31526;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cut -d: -f1,3-4,7 /etc/passwd
[root@centos8 ~]#ifconfig |head -n2 |tail -n1|cut -d<span style="color: #8b2252;">" "</span> -f10
10.0.0.8
[root@centos8 ~]#ifconfig |head -n2 |tail -n1|tr -s <span style="color: #8b2252;">" "</span> |cut -d <span style="color: #8b2252;">" "</span> -f3
10.0.0.8
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">' '</span>|cut -d<span style="color: #8b2252;">' '</span> -f5 |tr -dc <span style="color: #8b2252;">"[0-9\n]"</span>
0
0
1
0
5
1
15
1
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">' '</span> % |cut -d% -f5 |tr -d <span style="color: #8b2252;">'[:alpha:]'</span>
0
0
1
0
5
1
15
1
[root@centos8 ~]#df | cut -c44-46 |tr -d <span style="color: #8b2252;">'[:alpha:]'</span>
 0
 0
 1
 0
 5
 1
15
 1
[root@centos8 ~]#cut -d: -f1,3,7 --output-delimiter=<span style="color: #8b2252;">"---"</span> /etc/passwd
root---0---/bin/bash
bin---1---/sbin/nologin
daemon---2---/sbin/nologin

cat /etc/passwd | cut -d: -f7
cut -c2-5 /usr/share/dict/words

[root@centos8 ~]#df|tr -s <span style="color: #8b2252;">' '</span> |cut -d<span style="color: #8b2252;">' '</span> -f5 |tr -d %
[root@centos8 ~]#df|tr -s <span style="color: #8b2252;">' '</span> <span style="color: #8b2252;">'%'</span>|cut -d% -f5
Use
0
0
2
0
3
1
15
0
100
</pre>
</div>
</div>
</div>
<div id="outline-container-h:17f701a9-2b99-4ac8-8f8d-c126445c1f30" class="outline-3">
<h3 id="h:17f701a9-2b99-4ac8-8f8d-c126445c1f30">å­—ç¬¦è½¬æ¢å‘½ä»¤ï¼š tr, col, join, paste</h3>
<div class="outline-text-3" id="text-h:17f701a9-2b99-4ac8-8f8d-c126445c1f30">
</div>
<div id="outline-container-h:335874fc-514d-44e4-9128-74d809e3762b" class="outline-4">
<h4 id="h:335874fc-514d-44e4-9128-74d809e3762b">è½¬æ¢å’Œåˆ é™¤å­—ç¬¦tr</h4>
<div class="outline-text-4" id="text-h:335874fc-514d-44e4-9128-74d809e3762b">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#35813;&#21629;&#20196;&#20250;&#25226;/etc/issue&#20013;&#30340;&#23567;&#20889;&#23383;&#31526;&#37117;&#36716;&#25442;&#25104;&#22823;&#20889;&#23383;&#31526;</span>
tr <span style="color: #8b2252;">'a-z'</span> <span style="color: #8b2252;">'A-Z'</span>&lt; /etc/issue

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;fstab&#25991;&#20214;&#20013;&#30340;&#25152;&#26377;abc&#20013;&#20219;&#24847;&#23383;&#31526;</span>
tr &#8211;d abc &lt; /etc/fstab

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21462;&#25351;&#23450;&#23383;&#31526;&#65292;&#21482;&#26174;&#31034;20&#20010;</span>
tr -dc <span style="color: #8b2252;">'#@%a-z0-9'</span> &lt; /dev/urandom |head -c 20
</pre>
</div>

<p>
IOé‡å®šå‘ç»†è®²
</p>
</div>
</div>
<div id="outline-container-h:d826b8ab-9951-41b9-b9b4-65e83a6c3cf7" class="outline-4">
<h4 id="h:d826b8ab-9951-41b9-b9b4-65e83a6c3cf7">col</h4>
<div class="outline-text-4" id="text-h:d826b8ab-9951-41b9-b9b4-65e83a6c3cf7">
<p>
æ ¼å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">col [-xb]
</pre>
</div>

<p>
é€‰é¡¹ä¸å‚æ•°ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">-x  &#65306;&#23558; tab &#38190;&#36716;&#25442;&#25104;&#23545;&#31561;&#30340;&#31354;&#26684;&#38190;
-b  &#65306;&#22312;&#25991;&#23383;&#20869;&#26377;&#21453;&#26012;&#26464; (/) &#26102;&#65292;&#20165;&#20445;&#30041;&#21453;&#26012;&#26464;&#26368;&#21518;&#25509;&#30340;&#37027;&#20010;&#23383;&#31526;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šåˆ©ç”¨ cat -A æ˜¾ç¤ºå‡ºæ‰€æœ‰ç‰¹æ®ŠæŒ‰é”®ï¼Œæœ€åä»¥ col å°† [tab] è½¬æˆç©ºç™½
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@www ~]# cat -A /etc/man.config  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27492;&#26102;&#20250;&#30475;&#21040;&#24456;&#22810; ^I &#30340;&#31526;&#21495;&#65292;&#37027;&#23601;&#26159; tab</span>
[root@www ~]# cat /etc/man.config | col -x | cat -A | more
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå°† col çš„ man page è½¬å­˜æˆä¸º /root/col.man çš„çº¯æ–‡æœ¬æ¡£
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@www ~]# man col &gt; /root/col.man
[root@www ~]# vi /root/col.man
<span style="color: #0000ff;">COL</span>(1)          BSD General Commands Manual               COL(1)

N^HNA^HAM^HME^HE
     c^Hco^Hol^Hl - filter reverse line feeds from input

S^HSY^HYN^HNO^HOP^HPS^HSI^HIS^HS
     c^Hco^Hol^Hl [-^H-b^Hbf^Hfp^Hpx^Hx] [-^H-l^Hl _^Hn_^Hu_^Hm]
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#30001;&#20110; man page &#20869;&#26377;&#20123;&#29305;&#27530;&#25353;&#38062;&#20250;&#29992;&#26469;&#20316;&#20026;&#31867;&#20284;&#29305;&#27530;&#25353;&#38190;&#19982;&#39068;&#33394;&#26174;&#31034;&#65292;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25152;&#20197;&#36825;&#20010;&#25991;&#20214;&#20869;&#23601;&#20250;&#20986;&#29616;&#22914;&#19978;&#25152;&#31034;&#30340;&#19968;&#22534;&#24618;&#24322;&#23383;&#31526;(&#26377; ^ &#30340;)</span>

[root@www ~]# man col | col -b &gt; /root/col.man
</pre>
</div>
</div>
</div>
<div id="outline-container-h:52ead11e-a5eb-4400-a5d7-a71348e88e0d" class="outline-4">
<h4 id="h:52ead11e-a5eb-4400-a5d7-a71348e88e0d">å¤šæ–‡ä»¶æ•°æ®åˆå¹¶join</h4>
<div class="outline-text-4" id="text-h:52ead11e-a5eb-4400-a5d7-a71348e88e0d">
<p>
ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ•°æ® æ ¼å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">join [-ti12] file1 file2
</pre>
</div>

<p>
é€‰é¡¹ä¸å‚æ•°ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">-t  &#65306;join &#40664;&#35748;&#20197;&#31354;&#26684;&#31526;&#20998;&#38548;&#25968;&#25454;&#65292;&#24182;&#19988;&#27604;&#23545;&#12302;&#31532;&#19968;&#20010;&#23383;&#27573;&#12303;&#30340;&#25968;&#25454;&#65292;&#22914;&#26524;&#20004;&#20010;&#25991;&#20214;&#30456;&#21516;&#65292;&#21017;&#23558;&#20004;&#31508;&#25968;&#25454;&#32852;&#25104;&#19968;&#34892;&#65292;&#19988;&#31532;&#19968;&#20010;&#23383;&#27573;&#25918;&#22312;&#31532;&#19968;&#20010;&#65281;
-i  &#65306;&#24573;&#30053;&#22823;&#23567;&#20889;&#30340;&#24046;&#24322;&#65307;
-1  &#65306;&#36825;&#20010;&#26159;&#25968;&#23383;&#30340; 1 &#65292;&#20195;&#34920;&#12302;&#31532;&#19968;&#20010;&#25991;&#20214;&#35201;&#29992;&#37027;&#20010;&#23383;&#27573;&#26469;&#20998;&#26512;&#12303;&#30340;&#24847;&#24605;&#65307;
-2  &#65306;&#20195;&#34920;&#12302;&#31532;&#20108;&#20010;&#25991;&#20214;&#35201;&#29992;&#37027;&#20010;&#23383;&#27573;&#26469;&#20998;&#26512;&#12303;&#30340;&#24847;&#24605;&#12290;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šç”¨ root çš„èº«ä»½ï¼Œå°† /etc/passwd ä¸ /etc/shadow ç›¸å…³æ•°æ®æ•´åˆæˆä¸€æ 
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@www ~]# head -n 3 /etc/passwd /etc/shadow
==&gt; /etc/passwd &lt;==
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin

==&gt; /etc/shadow &lt;==
root:$<span style="color: #a0522d;">1</span>$/3AQpE5e$<span style="color: #a0522d;">y9A</span>/D0bh6rElAs:14120:0:99999:7:::
bin:*:14126:0:99999:7:::
daemon:*:14126:0:99999:7:::
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#30001;&#36755;&#20986;&#30340;&#25968;&#25454;&#21487;&#20197;&#21457;&#29616;&#36825;&#20004;&#20010;&#25991;&#20214;&#30340;&#26368;&#24038;&#36793;&#23383;&#27573;&#37117;&#26159;&#36134;&#21495;&#65281;&#19988;&#20197; : &#20998;&#38548;</span>

[root@www ~]# join -t <span style="color: #8b2252;">':'</span> /etc/passwd /etc/shadow
root:x:0:0:root:/root:/bin/bash:$<span style="color: #a0522d;">1</span>$/3AQpE5e$<span style="color: #a0522d;">y9A</span>/D0bh6rElAs:14120:0:99999:7:::
bin:x:1:1:bin:/bin:/sbin/nologin:*:14126:0:99999:7:::
daemon:x:2:2:daemon:/sbin:/sbin/nologin:*:14126:0:99999:7:::
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#36879;&#36807;&#19978;&#38754;&#36825;&#20010;&#21160;&#20316;&#65292;&#25105;&#20204;&#21487;&#20197;&#23558;&#20004;&#20010;&#25991;&#20214;&#31532;&#19968;&#23383;&#27573;&#30456;&#21516;&#32773;&#25972;&#21512;&#25104;&#19968;&#34892;&#65281;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#31532;&#20108;&#20010;&#25991;&#20214;&#30340;&#30456;&#21516;&#23383;&#27573;&#24182;&#19981;&#20250;&#26174;&#31034;(&#22240;&#20026;&#24050;&#32463;&#22312;&#31532;&#19968;&#34892;&#20102;&#65281;)</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå°†/etc/passwd ç¬¬å››ä¸ªå­—æ®µ GID ï¼Œé‚£ä¸ª GID è®°å½•åœ¨/etc/group
å½“ä¸­çš„ç¬¬ä¸‰ä¸ªå­—æ®µï¼Œå°†ä¸¤ä¸ªæ–‡ä»¶æ•´åˆ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@www ~]# head -n 3 /etc/passwd /etc/group
==&gt; /etc/passwd &lt;==
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin

==&gt; /etc/group &lt;==
root:x:0:root
bin:x:1:root,bin,daemon
daemon:x:2:root,bin,daemon
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20174;&#19978;&#38754;&#21487;&#20197;&#30475;&#21040;&#65292;&#30830;&#23454;&#26377;&#30456;&#21516;&#30340;&#37096;&#20998;&#21908;&#65281;&#36214;&#32039;&#26469;&#25972;&#21512;&#19968;&#19979;&#65281;</span>

[root@www ~]# join -t <span style="color: #8b2252;">':'</span> -1 4 /etc/passwd -2 3 /etc/group
0:root:x:0:root:/root:/bin/bash:root:x:root
1:bin:x:1:bin:/bin:/sbin/nologin:bin:x:root,bin,daemon
2:daemon:x:2:daemon:/sbin:/sbin/nologin:daemon:x:root,bin,daemon
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21516;&#26679;&#30340;&#65292;&#30456;&#21516;&#30340;&#23383;&#27573;&#37096;&#20998;&#34987;&#31227;&#21160;&#21040;&#26368;&#21069;&#38754;&#20102;&#65281;&#25152;&#20197;&#31532;&#20108;&#20010;&#25991;&#20214;&#30340;&#20869;&#23481;&#23601;&#27809;&#20877;&#26174;&#31034;&#12290;</span>
</pre>
</div>

<p>
æ­¤å¤–ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ joinä¹‹å‰ï¼Œä½ æ‰€éœ€è¦å¤„ç†çš„æ–‡ä»¶åº”è¯¥è¦äº‹å…ˆ
ç»è¿‡æ’åº (sort) å¤„ç†ï¼å¦åˆ™æœ‰äº›æ¯”å¯¹çš„é¡¹ç›®ä¼šè¢«ç•¥è¿‡å‘¢ï¼ç‰¹åˆ«æ³¨æ„äº†ï¼
</p>
</div>
</div>
<div id="outline-container-h:61043ddb-3564-4c4d-9d29-e808471cad66" class="outline-4">
<h4 id="h:61043ddb-3564-4c4d-9d29-e808471cad66">å¤šä¸ªæ–‡ä»¶åˆå¹¶paste</h4>
<div class="outline-text-4" id="text-h:61043ddb-3564-4c4d-9d29-e808471cad66">
<p>
paste åˆå¹¶å¤šä¸ªæ–‡ä»¶åŒè¡Œå·çš„åˆ—åˆ°ä¸€è¡Œ
</p>

<p>
è¿™ä¸ª paste å°±è¦æ¯” joinç®€å•å¤šäº†ï¼ç›¸å¯¹äº join å¿…é¡»è¦æ¯”å¯¹ä¸¤ä¸ªæ–‡ä»¶çš„æ•°æ®ç›¸
å…³æ€§ï¼Œ pasteå°±ç›´æ¥ã€å°†ä¸¤è¡Œè´´åœ¨ä¸€èµ·ï¼Œä¸”ä¸­é—´ä»¥ [tab] é”®éš”å¼€ã€è€Œå·²
</p>

<p>
æ ¼å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">paste [OPTION]... [FILE]...
</pre>
</div>

<p>
é€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">-d &#20998;&#38548;&#31526;&#65306;&#25351;&#23450;&#20998;&#38548;&#31526;&#65292;&#40664;&#35748;&#29992;TAB
-s : &#25152;&#26377;&#34892;&#21512;&#25104;&#19968;&#34892;&#26174;&#31034;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">&#22914;&#26524;&#20998;&#38548;&#31526;&#20889;&#22810;&#20010;&#65292;&#21017;&#20250;&#20998;&#20808;&#21518;&#39034;&#24207;&#20381;&#27425;&#25918;&#20986;&#20998;&#38548;&#31526;
[root@ct8-ts1 master]# paste -s  num2.txt
1    1    2    2    3    3
[root@ct8-ts1 master]# paste -s -d <span style="color: #8b2252;">'=\n'</span> num2.txt
<span style="color: #a0522d;">1</span>=1
<span style="color: #a0522d;">2</span>=2
<span style="color: #a0522d;">3</span>=3
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat alpha.log
a
b
c
d
e
f
g
h
[root@centos8 ~]#cat seq.log
1
2
3
4
5
[root@centos8 ~]#cat alpha.log seq.log
a
b
c
d
e
f
g
h
1
2
3
4
5
[root@centos8 ~]#paste alpha.log seq.log
a 1
b 2
c 3
d 4
e 5
f
g
h

[root@centos8 ~]#paste -d<span style="color: #8b2252;">":"</span> alpha.log seq.log
a:1
b:2
c:3
d:4
e:5
f:
g:
h:
[root@centos8 ~]#paste -s seq.log
1 2 3 4 5
[root@centos8 ~]#paste -s alpha.log
a b c d e f g h
[root@centos8 ~]#paste -s alpha.log seq.log
a b c d e f g h
1 2 3 4 5
[root@centos8 ~]#cat title.txt
ceo
coo
cto
[root@centos8 ~]#cat emp.txt
me
zhang
wang
xu
[root@centos8 ~]#paste title.txt emp.txt
ceo me
coo zhang
cto wang
    xu
[root@centos8 ~]#paste -s title.txt emp.txt
ceo coo cto
me zhang wang xu

sed -ri <span style="color: #8b2252;">'$r '</span>&lt;( paste -d <span style="color: #8b2252;">''</span> &lt;(seq -f <span style="color: #8b2252;">'IP.%g = '</span> 2 $[${#<span style="color: #a0522d;">MasterArray</span>[@]}+1]) &lt;(xargs -n1&lt;&lt;&lt;${<span style="color: #a0522d;">MasterArray</span>[@]} | sort) ) ~/k8s-manual-files/04-tls/openssl.cnf
</pre>
</div>
</div>
</div>
<div id="outline-container-h:907a7309-4f1f-4fa7-a347-41ac97134c7b" class="outline-4">
<h4 id="h:907a7309-4f1f-4fa7-a347-41ac97134c7b">æ–‡æœ¬æµæ ¼å¼åŒ–ä¸ºå¤šåˆ—è¾“å‡ºcolumn</h4>
<div class="outline-text-4" id="text-h:907a7309-4f1f-4fa7-a347-41ac97134c7b">
<p>
å®ƒç‰¹åˆ«é€‚ç”¨äºå°†æ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ä»¥æ•´é½çš„åˆ—æ ¼å¼æ˜¾ç¤ºï¼Œä½¿å¾—æ•°æ®æ›´åŠ æ˜“äºé˜…è¯»
</p>

<p>
å¸¸ç”¨é€‰é¡¹
</p>
<pre class="example" id="org8166c1b">
-tï¼šè¾“å‡ºè¡¨æ ¼æ ¼å¼ï¼Œè‡ªåŠ¨å¯¹é½åˆ—ã€‚
-cï¼šè¿ç»­è¾“å‡ºï¼Œä¸è·³åˆ°ä¸‹ä¸€é¡µã€‚
-sï¼šæŒ‡å®šåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯åˆ¶è¡¨ç¬¦ï¼ˆtabï¼‰ï¼Œå¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ã€‚
-xï¼šä½¿ç”¨ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ã€‚
-pï¼šä½¿ç”¨è¡Œé¦–å’Œè¡Œå°¾çš„åˆ†éš”ç¬¦ã€‚
-o : åˆ—ä¸åˆ—ä¹‹é—´çš„åˆ†éš”ç¬¦
</pre>

<p>
èŒƒä¾‹ï¼šè¾“å‡ºä¸€ä¸ªç±»ä¼¼è¡¨æ ¼çš„è¾“å‡ºæ ¼å¼
</p>
<div class="org-src-container">
<pre class="src src-sh">cat&lt;&lt;EOF&gt; a.log 
<span style="color: #ffa54f;">name age city</span>
<span style="color: #ffa54f;">Alice 30 New York</span>
<span style="color: #ffa54f;">Bob 25 Los Angeles</span>
<span style="color: #ffa54f;">Carol 35 Chicago</span>
<span style="color: #ffa54f;">EOF</span>

bin]# column -t -o <span style="color: #8b2252;">'| '</span> a.log 
name | age| city   | 
Alice| 30 | New    | York
Bob  | 25 | Los    | Angeles
Carol| 35 | Chicago| 
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4fe9f1a8-aa47-436c-8381-76d2c451b35b" class="outline-4">
<h4 id="h:4fe9f1a8-aa47-436c-8381-76d2c451b35b">è½¬æ¢æ–‡ä»¶å­—ç¬¦é›†ç¼–ç iconv</h4>
<div class="outline-text-4" id="text-h:4fe9f1a8-aa47-436c-8381-76d2c451b35b">
<p>
iconv [é€‰é¡¹&#x2026;] [æ–‡ä»¶&#x2026;]
</p>

<p>
é€‰é¡¹å¯:
</p>

<div class="org-src-container">
<pre class="src src-sh">&#36755;&#20837;/&#36755;&#20986;&#26684;&#24335;&#35268;&#33539;&#65306;
-f, --from-code=&#21517;&#31216; &#21407;&#22987;&#25991;&#26412;&#32534;&#30721;
-t, --to-code=&#21517;&#31216; &#36755;&#20986;&#32534;&#30721;

&#20449;&#24687;&#65306;
-l, --list &#21015;&#20030;&#25152;&#26377;&#24050;&#30693;&#30340;&#23383;&#31526;&#38598;

&#36755;&#20986;&#25511;&#21046;&#65306;
-c &#20174;&#36755;&#20986;&#20013;&#24573;&#30053;&#26080;&#25928;&#30340;&#23383;&#31526;
-o, --output=FILE &#36755;&#20986;&#25991;&#20214;
-s, --silent &#20851;&#38381;&#35686;&#21578;
--verbose &#25171;&#21360;&#36827;&#24230;&#20449;&#24687;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šè½¬æ¢æ–‡ä»¶å­—ç¬¦é›†ç¼–ç 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26174;&#31034;&#25903;&#25345;&#23383;&#31526;&#38598;&#32534;&#30721;&#21015;&#34920;</span>
[root@centos8 ~]#iconv -l

<span style="color: #b22222;">#</span><span style="color: #b22222;">windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;</span>
[root@centos8 data]#file windows.txt
windows.txt: ISO-8859 text, with no line terminators

[root@centos8 data]#echo $<span style="color: #a0522d;">LANG</span>
en_US.UTF-8

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#40664;&#35748;&#22312;linux&#26080;&#27861;&#27491;&#24120;&#26174;&#31034;&#25991;&#26412;&#20869;&#23481;</span>
[root@centos8 data]#cat windows11.txt
&#9618;&#9618;&#9618;&#9618;&#9618;&#9618;[root@centos8 data]#

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;&#36716;&#25442;&#25104;UTF-8</span>
[root@centos8 data]#iconv -f gb2312 windows.txt -o windows1.txt
[root@centos8 data]#cat windows1.txt
abc[root@centos8 data]#ll windows1.txt
-rw-r--r-- 1 root root 12 Mar 23 10:13 windows1.txt
[root@centos8 data]#file windows1.txt
windows1.txt: UTF-8 Unicode text, with no line terminators

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;UTF-8&#36716;&#25442;&#25104;windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;</span>
[root@centos8 data]#iconv -f utf8 -t gb2312 windows1.txt -o windows11.txt
[root@centos8 data]#file windows11.txt
windows11.txt: ISO-8859 text, with no line terminators
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;windows10&#19978;&#25991;&#26412;&#40664;&#35748;&#30340;&#32534;&#30721;ANSI&#65288;GB2312&#65289;&#36716;&#25442;&#25104;UTF-8</span>
[15:34:50 root@centos8 ~]#iconv -f gb2312 win.txt -o win2.txt
[15:34:50 root@centos8 ~]#file linux.txt
linux.txt: ASCII text
[15:34:31 root@centos8 ~]#file windows.txt
windows.txt: ASCII text, with CRLF line terminators
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;windows&#30340;&#25991;&#26412;&#26684;&#24335;&#36716;&#25442;&#25104;Linux&#30340;&#25991;&#26412;&#26684;&#24335;</span>
[15:35:26 root@centos8 ~]#dos2unix windows.txt
dos2unix: converting file windows.txt to Unix format...
[15:36:00 root@centos8 ~]#file windows.txt
windows.txt: ASCII text
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:a26d70f6-56c6-4110-8762-177749dcafe9" class="outline-3">
<h3 id="h:a26d70f6-56c6-4110-8762-177749dcafe9">åˆ†å‰²å‘½ä»¤ï¼š split</h3>
<div class="outline-text-3" id="text-h:a26d70f6-56c6-4110-8762-177749dcafe9">
<p>
å¸¸ç”¨é€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">-a : &#25351;&#23450;&#21518;&#32512;&#38271;&#24230;
-b : &#27599;&#20010;&#25991;&#20214;&#22810;&#23569;&#23383;&#33410;
-d : &#20351;&#29992;&#25968;&#23383;&#21518;&#32512;&#32780;&#19981;&#26159;&#23383;&#27597;
-l : &#25351;&#23450;&#27599;&#20010;&#25991;&#20214;&#30340;&#34892;&#25968;
--verbose
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">split -l 138000 -d  archive.txt  tmp/archive- --verbose
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f2d11901-058a-4324-b421-4d4ca96bb2a3" class="outline-3">
<h3 id="h:f2d11901-058a-4324-b421-4d4ca96bb2a3">åˆ†ææ–‡æœ¬çš„å·¥å…·</h3>
<div class="outline-text-3" id="text-h:f2d11901-058a-4324-b421-4d4ca96bb2a3">
<p>
æ–‡æœ¬æ•°æ®ç»Ÿè®¡ï¼šwc æ•´ç†æ–‡æœ¬ï¼šsort æ¯”è¾ƒæ–‡ä»¶ï¼šdiffå’Œpatch
</p>
</div>
<div id="outline-container-h:3087dd42-146c-4726-8548-44e09b86d5f7" class="outline-4">
<h4 id="h:3087dd42-146c-4726-8548-44e09b86d5f7">æ”¶é›†æ–‡æœ¬ç»Ÿè®¡æ•°æ®wc</h4>
<div class="outline-text-4" id="text-h:3087dd42-146c-4726-8548-44e09b86d5f7">
<p>
wc å‘½ä»¤å¯ç”¨äºç»Ÿè®¡æ–‡ä»¶çš„è¡Œæ€»æ•°ã€å•è¯æ€»æ•°ã€å­—èŠ‚æ€»æ•°å’Œå­—ç¬¦æ€»æ•°
</p>

<p>
å¯ä»¥å¯¹æ–‡ä»¶æˆ–STDINä¸­çš„æ•°æ®ç»Ÿè®¡
</p>

<p>
å¸¸ç”¨é€‰é¡¹
</p>
<div class="org-src-container">
<pre class="src src-sh">-l &#21482;&#35745;&#25968;&#34892;&#25968;
-w &#21482;&#35745;&#25968;&#21333;&#35789;&#24635;&#25968;
-c &#21482;&#35745;&#25968;&#23383;&#33410;&#24635;&#25968;
-m &#21482;&#35745;&#25968;&#23383;&#31526;&#24635;&#25968;
-L &#26174;&#31034;&#25991;&#20214;&#20013;&#26368;&#38271;&#34892;&#30340;&#38271;&#24230;
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">wc story.txt
39   237   1901 story.txt
&#34892;&#25968;  &#21333;&#35789;&#25968;  &#23383;&#33410;&#25968;

[root@centos8 ~]#ll title.txt
-rw-r--r-- 1 root root 30 Dec 20 11:05 title.txt
[root@centos8 ~]#ll title1.txt
-rw-r--r-- 1 root root 28 Dec 20 11:06 title1.txt
[root@centos8 ~]#cat title.txt
ceo cici
coo zhang
cto &#32769;&#29579;
[root@centos8 ~]#cat title1.txt
ceo zzzz
coo zhang
cto wang
[root@centos8 ~]#wc title.txt
3  6 30 title.txt
[root@centos8 ~]#wc title1.txt
3  6 28 title1.txt

[root@centos8 ~]#wc -l title.txt
3 title.txt
[root@centos8 ~]#cat title.txt | wc -l
3

[root@centos8 ~]#df | tail -n $(<span style="color: #ff00ff;">echo `df | wc -l`-1|bc</span>)
devtmpfs      910220    0   910220  0% /dev
tmpfs       924728    0   924728  0% /dev/shm
tmpfs       924728   9224   915504  1% /run
tmpfs       924728    0   924728  0% /sys/fs/cgroup
/dev/sda2    104806400 4836160  99970240  5% /
/dev/sda3    52403200  398580  52004620  1% /data
/dev/sda1     999320  131764   798744  15% /boot
tmpfs       184944    4   184940  1% /run/user/0
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7007405e-5772-4874-b5ef-9ed476def4a3" class="outline-4">
<h4 id="h:7007405e-5772-4874-b5ef-9ed476def4a3">æ–‡æœ¬æ’åºsort</h4>
<div class="outline-text-4" id="text-h:7007405e-5772-4874-b5ef-9ed476def4a3">
<p>
æŠŠæ•´ç†è¿‡çš„æ–‡æœ¬æ˜¾ç¤ºåœ¨STDOUTï¼Œä¸æ”¹å˜åŸå§‹æ–‡ä»¶ æ ¼å¼ï¼š sort [options] file(s)
</p>

<p>
å¸¸ç”¨é€‰é¡¹
</p>
<div class="org-src-container">
<pre class="src src-sh">-r &#25191;&#34892;&#21453;&#26041;&#21521;&#65288;&#30001;&#19978;&#33267;&#19979;&#65289;&#25972;&#29702;
-R &#38543;&#26426;&#25490;&#24207;
-n &#25191;&#34892;&#25353;&#25968;&#23383;&#22823;&#23567;&#25972;&#29702;
-f &#36873;&#39033;&#24573;&#30053;&#65288;fold&#65289;&#23383;&#31526;&#20018;&#20013;&#30340;&#23383;&#31526;&#22823;&#23567;&#20889;
-u &#36873;&#39033;&#65288;&#29420;&#29305;&#65292;unique&#65289;&#65292;&#21512;&#24182;&#37325;&#22797;&#39033;&#65292;&#21363;&#21435;&#37325;
-t c &#36873;&#39033;&#20351;&#29992;c&#20570;&#20026;&#23383;&#27573;&#30028;&#23450;&#31526;
-k <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36873;&#39033;&#25353;&#29031;&#20351;&#29992;c&#23383;&#31526;&#20998;&#38548;&#30340; # &#21015;&#26469;&#25972;&#29702;&#33021;&#22815;&#20351;&#29992;&#22810;&#27425;</span>
</pre>
</div>

<p>
å…¶å®ƒé€‰é¡¹
</p>
<div class="org-src-container">
<pre class="src src-sh">-b &#65306;&#24573;&#30053;&#26368;&#21069;&#38754;&#30340;&#31354;&#26684;&#31526;&#37096;&#20998;&#65307;
-M &#65306;&#20197;&#26376;&#20221;&#30340;&#21517;&#23383;&#26469;&#25490;&#24207;&#65292;&#20363;&#22914; JAN, DEC &#31561;&#31561;&#30340;&#25490;&#24207;&#26041;&#27861;&#65307;
-m &#21512;&#24182;&#20004;&#20010;&#20998;&#31867;&#25991;&#20214;&#12290; -m &#21512;&#24182;&#20004;&#20010;&#20998;&#31867;&#25991;&#20214;&#12290;
-o &#23384;&#20648;s o r t&#32467;&#26524;&#30340;&#36755;&#20986;&#25991;&#20214;&#21517;&#12290;
-T DIRECTORY &#20351;&#29992;DIRECTORY&#20316;&#20026;&#20020;&#26102;&#25991;&#20214;,&#32780;&#19981;&#26159;$<span style="color: #a0522d;">TMPDIR&#25110;&#32773;</span>/tmp
-c &#27979;&#35797;&#25991;&#20214;&#26159;&#21542;&#24050;&#32463;&#20998;&#31867;&#12290;
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 data]#cut -d: -f1,3 /etc/passwd|sort -t: -k2 -nr |head -n3
nobody:65534
xiaoming:1002
me:1001
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#32479;&#35745;&#26085;&#24535;&#35775;&#38382;&#37327;</span>
[root@centos8 data]#cut -d<span style="color: #8b2252;">" "</span> -f1 /var/log/nginx/access_log |sort -u|wc -l
201
</pre>
</div>

<p>
æ³¨æ„ï¼š
</p>
<ol class="org-ol">
<li>ASCIIç è¡¨ä¸­çš„å‡åºæ’åº</li>
<li>é»˜è®¤ä¸æ˜¯æ¯”è¾ƒæ•°å­—å¤§å°</li>
<li>é€ä¸ªå­—ç¬¦çš„ASCIIç å¤§å°æ¯”è¾ƒæ’åº</li>
</ol>

<p>
å¦‚ï¼šåˆå¹¶
</p>

<div class="org-src-container">
<pre class="src src-sh">sort  -m -k 1 -T /ops/swap -o ${<span style="color: #a0522d;">local_path</span>}/${<span style="color: #a0522d;">log</span>}  ${<span style="color: #a0522d;">local_path</span>}/${<span style="color: #a0522d;">log</span>}_*
</pre>
</div>

<p>
èŒƒä¾‹ï¼šç»Ÿè®¡åˆ†åŒºåˆ©ç”¨ç‡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#df
Filesystem   1K-blocks  Used Available Use% Mounted on
devtmpfs     391676    0  391676  0% /dev
tmpfs       408092    0  408092  0% /dev/shm
tmpfs       408092  5816  402276  2% /run
tmpfs       408092    0  408092  0% /sys/fs/cgroup
/dev/sda2   104806400 2259416 102546984  3% /
/dev/sda3    52403200 398608 52004592  1% /data
/dev/sda1     999320 130848  799660 15% /boot
tmpfs       81616    0   81616  0% /run/user/0
/dev/sr0     7377866 7377866     0 100% /misc/cd

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#20998;&#21306;&#21033;&#29992;&#29575;&#26368;&#39640;&#20540;</span>
[root@centos8 ~]#df| tr -s <span style="color: #8b2252;">' '</span> <span style="color: #8b2252;">'%'</span>|cut -d% -f5|sort -nr|head -1
100
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">" "</span> %|cut -d% -f5|tr -d <span style="color: #8b2252;">'[:alpha:]'</span> | sort
0
0
0
1
1
1
15
5
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">" "</span> %|cut -d% -f5|tr -d <span style="color: #8b2252;">'[:alpha:]'</span> | sort -n
0
0
0
1
1
1
5
15
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">" "</span> %|cut -d% -f5|tr -d <span style="color: #8b2252;">'[:alpha:]'</span> | sort -n |tail -n1
15
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">" "</span> %|cut -d% -f5|tr -d <span style="color: #8b2252;">'[:alpha:]'</span> | sort -nr
15
5
1
1
1
0
0
0
[root@centos8 ~]#df | tr -s <span style="color: #8b2252;">" "</span> %|cut -d% -f5|tr -d <span style="color: #8b2252;">'[:alpha:]'</span> | sort -nr|head -n1
15
</pre>
</div>

<p>
é¢è¯•é¢˜ï¼šæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œa.txtä¸b.txtï¼Œåˆå¹¶ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¹¶è¾“å‡ºæ—¶ç¡®ä¿æ¯ä¸ªæ•°å­—ä¹Ÿ
å”¯ä¸€
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">a.txt&#20013;&#30340;&#27599;&#19968;&#20010;&#25968;&#23383;&#22312;&#26412;&#25991;&#20214;&#21807;&#19968;</span>
200
100
34556
23
...

<span style="color: #b22222;">#</span><span style="color: #b22222;">b.txt&#20013;&#30340;&#27599;&#19968;&#20010;&#25968;&#23383;&#22312;&#26412;&#25991;&#20214;&#21807;&#19968;</span>
123
43
200
3321
...

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23601;&#26159;&#23558;&#20004;&#20010;&#25991;&#20214;&#21512;&#24182;&#21518;&#37325;&#22797;&#30340;&#34892;&#21435;&#38500;&#65292;&#19981;&#20445;&#30041;</span>
100
345563
123
43
3321
...
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c93ae04a-b31a-4369-84da-61ea205da931" class="outline-4">
<h4 id="h:c93ae04a-b31a-4369-84da-61ea205da931">å»é‡uniq</h4>
<div class="outline-text-4" id="text-h:c93ae04a-b31a-4369-84da-61ea205da931">
<p>
uniqå‘½ä»¤ä»è¾“å…¥ä¸­åˆ é™¤å‰åç›¸æ¥çš„é‡å¤çš„è¡Œ
</p>

<p>
æ ¼å¼ï¼š uniq [OPTION]&#x2026; [FILE]&#x2026;
</p>

<p>
å¸¸è§é€‰é¡¹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">-c: &#26174;&#31034;&#27599;&#34892;&#37325;&#22797;&#20986;&#29616;&#30340;&#27425;&#25968;
-d: &#20165;&#26174;&#31034;&#37325;&#22797;&#36807;&#30340;&#34892;
-u: &#20165;&#26174;&#31034;&#19981;&#26366;&#37325;&#22797;&#30340;&#34892;
</pre>
</div>

<p>
uniqå¸¸å’Œsort å‘½ä»¤ä¸€èµ·é…åˆä½¿ç”¨ï¼š
</p>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">sort userlist.txt | uniq -c
</pre>
</div>

<p>
èŒƒä¾‹ï¼šç»Ÿè®¡æ—¥å¿—è®¿é—®é‡æœ€å¤šçš„è¯·æ±‚
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 data]#cut -d<span style="color: #8b2252;">" "</span> -f1 access_log |sort |uniq -c|sort -nr |head -3
 4870 172.20.116.228
 3429 172.20.116.208
 2834 172.20.0.222
[root@centos8 data]#lastb -f btmp-34 | tr -s <span style="color: #8b2252;">' '</span> |cut -d <span style="color: #8b2252;">' '</span> -f3|sort |uniq -c
|sort -nr | head -3
 86294 58.218.92.37
 43148 58.218.92.26
 18036 112.85.42.201
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå¹¶å‘è¿æ¥æœ€å¤šçš„è¿œç¨‹ä¸»æœºIP
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ss -nt|tail -n+2 |tr -s <span style="color: #8b2252;">' '</span> : |cut -d: -f6|sort|uniq -c|sort -nr |head -n2
  7 10.0.0.1
  2 10.0.0.7
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå–ä¸¤ä¸ªæ–‡ä»¶çš„ç›¸åŒå’Œä¸åŒçš„è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 data]#cat test1.txt
a
b
1
c
[root@centos8 data]#cat test2.txt
b
e
f
c
1
2
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#25991;&#20214;&#30340;&#20849;&#21516;&#34892;</span>
[root@centos8 data]#cat test1.txt test2.txt | sort |uniq -d
1
b
c
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#25991;&#20214;&#30340;&#19981;&#21516;&#34892;</span>
[root@centos8 data]#cat test1.txt test2.txt | sort |uniq -u
2
a
e
f
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b4f14745-7103-44e3-99a5-c23186dd324d" class="outline-4">
<h4 id="h:b4f14745-7103-44e3-99a5-c23186dd324d">ç»Ÿè®¡ä»£ç è¡Œæ•°cloc</h4>
<div class="outline-text-4" id="text-h:b4f14745-7103-44e3-99a5-c23186dd324d">
<p>
Cloc (opens new window)æ˜¯ä¸€æ¬¾ä½¿ç”¨ Perlè¯­è¨€å¼€å‘çš„å¼€æºä»£ç ç»Ÿè®¡å·¥å…·ï¼Œæ”¯æŒ
å¤šå¹³å°ä½¿ç”¨ã€å¤šè¯­è¨€è¯†åˆ«ï¼Œèƒ½å¤Ÿè®¡ç®—æŒ‡å®šç›®æ ‡æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶æ•°ï¼ˆfilesï¼‰ã€
ç©ºç™½è¡Œæ•°ï¼ˆblankï¼‰ã€æ³¨é‡Šè¡Œæ•°ï¼ˆcommentï¼‰å’Œä»£ç è¡Œæ•°ï¼ˆcodeï¼‰ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">Mac &#31995;&#32479;&#23433;&#35013;</span>
$ brew install cloc

<span style="color: #b22222;"># </span><span style="color: #b22222;">Vue &#24037;&#31243;&#20195;&#30721;&#32479;&#35745;</span>
$ cloc ./ --exclude-dir=node_modules
</pre>
</div>

<p>
å¸¸ç”¨å‘½ä»¤:
</p>

<ul class="org-ul">
<li>cloc ./ ç»Ÿè®¡å½“å‰æ–‡ä»¶å¤¹ä»£ç é‡</li>
<li>cloc ./ &#x2013;exclude-dir=ç›®å½•å
ç»Ÿè®¡æ’é™¤å½“å‰ç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶å¤¹çš„ä»£ç é‡ï¼Œå¤šä¸ªæ–‡ä»¶ä½¿ç”¨,åˆ†éš”</li>
<li>cloc -by-file æ–‡ä»¶åç¼€å ç»Ÿè®¡ç‰¹å®šæ–‡ä»¶çš„ä»£ç é‡</li>
</ul>
</div>
</div>
<div id="outline-container-h:20091fcb-d854-472c-ab05-626013984690" class="outline-4">
<h4 id="h:20091fcb-d854-472c-ab05-626013984690">æ¯”è¾ƒæ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:20091fcb-d854-472c-ab05-626013984690">
</div>
<div id="outline-container-h:ec21b649-8966-45d1-8efb-659c5b8cd51f" class="outline-5">
<h5 id="h:ec21b649-8966-45d1-8efb-659c5b8cd51f">diff</h5>
<div class="outline-text-5" id="text-h:ec21b649-8966-45d1-8efb-659c5b8cd51f">
<p>
diffæ˜¯Unixç³»ç»Ÿçš„ä¸€ä¸ªå¾ˆé‡è¦çš„å·¥å…·ç¨‹åºã€‚å®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å·®å¼‚ï¼Œæ˜¯
ä»£ç ç‰ˆæœ¬ç®¡ç†çš„æ ¸å¿ƒå·¥å…·ä¹‹ä¸€ã€‚å…¶ç”¨æ³•éå¸¸ç®€å•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">diff &lt;&#21464;&#21160;&#21069;&#30340;&#25991;&#20214;&gt; &lt;&#21464;&#21160;&#21518;&#30340;&#25991;&#20214;&gt;
</pre>
</div>

<p>
ç”±äºå†å²åŸå› ï¼Œdiffæœ‰ä¸‰ç§æ ¼å¼ï¼š
</p>

<ul class="org-ul">
<li>æ­£å¸¸æ ¼å¼ï¼ˆnormal diffï¼‰</li>
<li>ä¸Šä¸‹æ–‡æ ¼å¼ï¼ˆcontext diffï¼‰=-c=</li>
<li>åˆå¹¶æ ¼å¼ï¼ˆunified diffï¼‰=-u=</li>
</ul>

<p>
<b>1ã€æ­£å¸¸æ ¼å¼çš„diff</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">diff file1 file2</span>

[root@centos8 ~]#cat f1.txt <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21464;&#21160;&#21069;&#30340;&#25991;&#20214;</span>
me
zhang
wang
xu
[root@centos8 ~]#cat f2.txt <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21464;&#21160;&#21518;&#30340;&#25991;&#20214;</span>
mu
zir
wang
xu
shi

[root@centos8 ~]#diff f1.txt f2.txt
1,2c1,2
&lt; me
&lt; zhang
---
&gt; me
&gt; zir
4a5
&gt; shi
</pre>
</div>

<p>
æ˜¾ç¤ºç»“æœä¸­: ç¬¬ä¸€è¡Œ: ä¸€ä¸ªæç¤ºï¼Œç”¨æ¥è¯´æ˜å˜åŠ¨ä½ç½®ã€‚
</p>

<p>
å®ƒåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼š
</p>

<ul class="org-ul">
<li>å‰é¢çš„æ•°å­—ï¼šè¡¨ç¤ºfile1çš„ç¬¬nè¡Œæœ‰å˜åŒ–ï¼›</li>
<li>ä¸­é—´çš„å˜åŠ¨çš„æ¨¡å¼ï¼š c: (change)å†…å®¹æ”¹å˜ï¼Œa: (addition)"å¢åŠ ", d:
(deletion)åˆ é™¤ï¼›</li>
</ul>

<p>
ç¼ºç‚¹ï¼šæ˜¾ç¤ºç»“æœå¤ªç®€å•
</p>

<p>
<b>2ã€ä¸Šä¸‹æ–‡æ ¼å¼çš„diff</b>
</p>

<p>
ä¸Šä¸ªä¸–çºª80å¹´ä»£åˆï¼ŒåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡æ¨å‡ºBSDç‰ˆæœ¬çš„Unixæ—¶ï¼Œè§‰å¾—diffçš„æ˜¾
ç¤ºç»“æœå¤ªç®€å•ï¼Œæœ€å¥½åŠ å…¥ä¸Šä¸‹æ–‡ï¼Œä¾¿äºäº†è§£å‘ç”Ÿçš„å˜åŠ¨ã€‚å› æ­¤ï¼Œæ¨å‡ºäº†ä¸Šä¸‹æ–‡æ ¼
å¼çš„diffã€‚å®ƒçš„ä½¿ç”¨æ–¹æ³•æ˜¯åŠ å…¥-cé€‰é¡¹ï¼ˆå³contextï¼‰ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">diff -c f1 f2</span>

[root@centos8 ~]# diff -c f1.txt  f2.txt
** f1.txt  2021-04-21 17:11:13.651012923 +0800
--- f2.txt  2021-04-21 17:11:22.927070433 +0800
***************
** 1,4 ****
! me
! zhang
  wang
  xu
--- 1,5 ----
! mu
! zir
  wang
  xu
+ shi
</pre>
</div>

<p>
ç»“æœåˆ†æˆå››ä¸ªéƒ¨åˆ†ã€‚
</p>

<ul class="org-ul">
<li>ç¬¬ä¸€éƒ¨åˆ†ï¼šä¸¤è¡Œï¼Œæ˜¾ç¤ºä¸¤ä¸ªæ–‡ä»¶çš„åŸºæœ¬æƒ…å†µï¼šæ–‡ä»¶åå’Œæ—¶é—´ä¿¡æ¯ï¼Œâ€œ***"è¡¨ç¤º
å˜åŠ¨å‰çš„æ–‡ä»¶ï¼Œ"&#x2014;â€œè¡¨ç¤ºå˜åŠ¨åçš„æ–‡ä»¶ã€‚</li>
<li>ç¬¬äºŒéƒ¨åˆ†ï¼š15ä¸ªæ˜Ÿå·ï¼Œå°†æ–‡ä»¶çš„åŸºæœ¬æƒ…å†µä¸å˜åŠ¨å†…å®¹åˆ†å‰²å¼€ã€‚</li>
<li>ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ˜¾ç¤ºå˜åŠ¨å‰çš„æ–‡ä»¶ï¼Œå³file1ã€‚å¦å¤–ï¼Œæ–‡ä»¶å†…å®¹çš„æ¯ä¸€è¡Œæœ€å‰é¢ï¼Œ
è¿˜æœ‰ä¸€ä¸ªæ ‡è®°ä½ã€‚å¦‚æœä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥è¡Œæ— å˜åŒ–ï¼›å¦‚æœæ˜¯æ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºè¯¥
è¡Œæœ‰æ”¹åŠ¨ï¼›å¦‚æœæ˜¯å‡å·ï¼ˆ-ï¼‰ï¼Œè¡¨ç¤ºè¯¥è¡Œè¢«åˆ é™¤ï¼›å¦‚æœæ˜¯åŠ å·ï¼ˆ+ï¼‰ï¼Œè¡¨ç¤ºè¯¥è¡Œ
ä¸ºæ–°å¢ã€‚</li>
<li>ç¬¬å››éƒ¨åˆ†ï¼šæ˜¾ç¤ºå˜åŠ¨åçš„æ–‡ä»¶ï¼Œå³file2ã€‚</li>
</ul>

<p>
ç¼ºç‚¹ï¼šå°†æ˜¾ç¤ºå¤§é‡é‡å¤çš„å†…å®¹ï¼Œå¾ˆæµªè´¹ç©ºé—´
</p>

<p>
<b>3ã€åˆå¹¶æ ¼å¼çš„diff</b>
</p>

<p>
å¦‚æœä¸¤ä¸ªæ–‡ä»¶ç›¸ä¼¼åº¦å¾ˆé«˜ï¼Œé‚£ä¹ˆä¸Šä¸‹æ–‡æ ¼å¼çš„diffï¼Œå°†æ˜¾ç¤ºå¤§é‡é‡å¤çš„å†…å®¹ï¼Œå¾ˆæµªè´¹ç©ºé—´ã€‚1990å¹´ï¼ŒGNU
diffç‡å…ˆæ¨å‡ºäº†â€åˆå¹¶æ ¼å¼â€çš„diffï¼Œå°†f1å’Œf2çš„ä¸Šä¸‹æ–‡åˆå¹¶åœ¨ä¸€èµ·æ˜¾ç¤ºã€‚
å®ƒçš„ä½¿ç”¨æ–¹æ³•æ˜¯åŠ å…¥uå‚æ•°ï¼ˆä»£è¡¨unifiedï¼‰ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#diff -u f1.txt f2.txt
--- f1.txt 2019-12-13 21:31:30.892775671 +0800
+++ f2.txt 2019-12-13 22:00:14.373677728 +0800
@@ -1,4 +1,5 @@
-me
-zhang
+mu
+zir
wang
xu
+shi
</pre>
</div>

<p>
å…¶ç»“æœ
</p>

<ul class="org-ul">
<li>ç¬¬ä¸€éƒ¨åˆ†ï¼šæ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ã€‚"&#x2014;"è¡¨ç¤ºå˜åŠ¨å‰çš„æ–‡ä»¶ï¼Œ"<del>+</del>"è¡¨ç¤ºå˜åŠ¨åçš„æ–‡ä»¶ã€‚</li>
<li>ç¬¬äºŒéƒ¨åˆ†ï¼šå˜åŠ¨çš„ä½ç½®ç”¨ä¸¤ä¸ª@ä½œä¸ºèµ·é¦–å’Œç»“æŸã€‚</li>
<li>ç¬¬ä¸‰éƒ¨åˆ†æ˜¯å˜åŠ¨çš„å…·ä½“å†…å®¹ã€‚é™¤äº†æœ‰å˜åŠ¨çš„é‚£äº›è¡Œä»¥å¤–ï¼Œä¹Ÿæ˜¯ä¸Šä¸‹æ–‡å„æ˜¾ç¤º3
è¡Œã€‚å®ƒå°†ä¸¤ä¸ªæ–‡ä»¶çš„ä¸Šä¸‹æ–‡ï¼Œåˆå¹¶æ˜¾ç¤ºåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥å«åšâ€åˆå¹¶æ ¼å¼â€ã€‚æ¯ä¸€
è¡Œæœ€å‰é¢çš„æ ‡å¿—ä½ï¼Œç©ºè¡¨ç¤ºæ— å˜åŠ¨ï¼Œå‡å·è¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶åˆ é™¤çš„è¡Œï¼ŒåŠ å·è¡¨ç¤º
ç¬¬äºŒä¸ªæ–‡ä»¶æ–°å¢çš„è¡Œã€‚</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#34917;&#19969;</span>
[root@centos8 ~]#diff -u f1.txt f2.txt &gt; f.patch
[root@centos8 ~]#rm -f f2.txt
[root@centos8 ~]#patch -b f1.txt f.patch
patching file f1.txt
[root@centos8 ~]#cat f1.txt
mu
zir
wang
xu
shi
[root@centos8 ~]#cat f1.txt.orig
me
zhang
wang
xu
</pre>
</div>

<p>
æ³¨æ˜ç¬¬5è¡Œæœ‰åŒºåˆ«ï¼ˆæ”¹å˜ï¼‰
</p>

<p>
å¤åˆ¶å¯¹æ–‡ä»¶æ”¹å˜patch diff
</p>

<p>
å‘½ä»¤çš„è¾“å‡ºè¢«ä¿å­˜åœ¨ä¸€ç§å«åšâ€œè¡¥ä¸â€çš„æ–‡ä»¶ä¸­
</p>

<p>
ä½¿ç”¨ -ué€‰é¡¹æ¥è¾“å‡ºâ€œç»Ÿä¸€çš„ï¼ˆunifiedï¼‰â€diffæ ¼å¼æ–‡ä»¶ï¼Œæœ€é€‚ç”¨äºè¡¥ä¸æ–‡ä»¶
</p>

<p>
èŒƒä¾‹ï¼šè¿›ç¨‹æ›¿æ¢æ¯”è¾ƒä¸¤ä¸ª curl å“åº”
</p>

<div class="org-src-container">
<pre class="src src-sh">diff -aNur &lt;(curl -s httpbin.org/get) &lt;(curl -s httpbin.org/get)
--- /dev/fd/63  2022-10-18 16:02:18.633005560 +0800
+++ /dev/fd/62  2022-10-18 16:02:18.633005560 +0800
@@ -4,7 +4,7 @@
     <span style="color: #8b2252;">"Accept"</span>: <span style="color: #8b2252;">"*/*"</span>,
     <span style="color: #8b2252;">"Host"</span>: <span style="color: #8b2252;">"httpbin.org"</span>,
     <span style="color: #8b2252;">"User-Agent"</span>: <span style="color: #8b2252;">"curl/7.68.0"</span>,
-    <span style="color: #8b2252;">"X-Amzn-Trace-Id"</span>: <span style="color: #8b2252;">"Root=1-634e5d8b-1eb31b42468a62f11ca13683"</span>
+    <span style="color: #8b2252;">"X-Amzn-Trace-Id"</span>: <span style="color: #8b2252;">"Root=1-634e5d8b-3d27e89e310ea9fb56e8c0a8"</span>
   },
</pre>
</div>
</div>
</div>
<div id="outline-container-h:70cb695d-6544-460d-805b-33cecb8e4be9" class="outline-5">
<h5 id="h:70cb695d-6544-460d-805b-33cecb8e4be9">patch</h5>
<div class="outline-text-5" id="text-h:70cb695d-6544-460d-805b-33cecb8e4be9">
<p>
patch å¤åˆ¶åœ¨å…¶å®ƒæ–‡ä»¶ä¸­è¿›è¡Œçš„æ”¹å˜ï¼ˆè¦è°¨æ…ä½¿ç”¨ï¼‰
</p>

<p>
é€‚ç”¨ -b é€‰é¡¹æ¥è‡ªåŠ¨å¤‡ä»½æ”¹å˜äº†çš„æ–‡ä»¶
</p>

<p>
å¸¸ç”¨é€‰é¡¹ï¼š
</p>

<ul class="org-ul">
<li>-i : æ‰“è¡¥ä¸</li>
<li>-R : è¿˜åŸè¡¥ä¸</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">diff -u foo.conf foo2.conf &gt; foo.patch
patch -b foo.conf foo.patch
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3d052250-0d79-411b-b940-3b5b5d3031a8" class="outline-5">
<h5 id="h:3d052250-0d79-411b-b940-3b5b5d3031a8">äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¸åŒ cmp</h5>
<div class="outline-text-5" id="text-h:3d052250-0d79-411b-b940-3b5b5d3031a8">
<p>
èŒƒä¾‹ï¼šæŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¸åŒ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 data]#ll /usr/bin/dir /usr/bin/ls
-rwxr-xr-x. 1 root root 166448 May 12  2019 /usr/bin/dir
-rwxr-xr-x. 1 root root 166448 May 12  2019 /usr/bin/ls
[root@centos8 data]#ll /usr/bin/dir /usr/bin/ls -i
201839444 -rwxr-xr-x. 1 root root 166448 May 12  2019 /usr/bin/dir
201839465 -rwxr-xr-x. 1 root root 166448 May 12  2019 /usr/bin/ls
[root@centos8 data]#diff /usr/bin/dir /usr/bin/ls
Binary files /usr/bin/dir and /usr/bin/ls differ

[root@centos8 ~]#cmp /bin/dir /bin/ls
/bin/dir /bin/ls differ: byte 737, line 2
[root@centos8 ~]#hexdump -s 730 -Cn 7 /bin/dir
000002da  00 00 47 4e 55 00 b0               |..GNU..|
000002e1
[root@centos8 ~]#hexdump -s 730 -Cn 7 /bin/ls
000002da  00 00 47 4e 55 00 93               |..GNU..|
000002e1
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:62fc6575-046e-40ef-81c1-058a545ed427" class="outline-4">
<h4 id="h:62fc6575-046e-40ef-81c1-058a545ed427">jsonæ–‡ä»¶åˆ†æjq</h4>
<div class="outline-text-4" id="text-h:62fc6575-046e-40ef-81c1-058a545ed427">
<p>
jqä½¿ç”¨ jqæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå¤„ç†jsonçš„å·¥å…·ã€‚
</p>

<p>
ç°åœ¨å¤§éƒ¨åˆ†äº¤äº’çš„æ•°æ®æ ¼å¼éƒ½æ˜¯ä»¥jsonçš„å½¢å¼ï¼Œä¸ç®¡æ˜¯å†™ä¸€äº›ç›‘æ§è„šæœ¬æˆ–è€…å¹³æ—¶
ä½¿ç”¨ï¼Œéƒ½æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„å·¥å…·ï¼Œæœ¬æ–‡æ€»ç»“ä¸‹ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬æ ¼å¼åŒ–æ•°æ®ï¼Œ
è¿‡æ»¤ï¼Œæ’åºç­‰å¸¸ç”¨åŠŸèƒ½ã€‚
</p>

<p>
1.å®‰è£…ä½¿ç”¨
</p>

<div class="org-src-container">
<pre class="src src-sh">yum install -y epel-release
yum install -y jq
</pre>
</div>

<p>
2.æ ¼å¼åŒ–è¾“å‡º
</p>

<p>
é»˜è®¤prettyè¾“å‡ºï¼Œå¦‚æœéœ€è¦å‹ç¼©ï¼Œä½¿ç”¨-cé€‰é¡¹
</p>

<div class="org-src-container">
<pre class="src src-sh">cat &gt;me.json &lt;&lt;\EOF
<span style="color: #ffa54f;">{"username":"henry","age":25,"email":"xxx@gmail.com","blog":"http://thoreauz.com","hobby":["music","writing","photography"],"education":{"school":"MIT","degree":"Master"}}</span>
<span style="color: #ffa54f;">EOF</span>

[root@agent01 learn]# cat me.json |jq .
{
  <span style="color: #8b2252;">"username"</span>: <span style="color: #8b2252;">"henry"</span>,
  <span style="color: #8b2252;">"age"</span>: 25,
  <span style="color: #8b2252;">"email"</span>: <span style="color: #8b2252;">"xxx@gmail.com"</span>,
  <span style="color: #8b2252;">"blog"</span>: <span style="color: #8b2252;">"http://thoreauz.com"</span>,
  <span style="color: #8b2252;">"hobby"</span>: [
    <span style="color: #8b2252;">"music"</span>,
    <span style="color: #8b2252;">"writing"</span>,
    <span style="color: #8b2252;">"photography"</span>
  ],
  <span style="color: #8b2252;">"education"</span>: {
    <span style="color: #8b2252;">"school"</span>: <span style="color: #8b2252;">"MIT"</span>,
    <span style="color: #8b2252;">"degree"</span>: <span style="color: #8b2252;">"Master"</span>
  }
}
</pre>
</div>

<p>
3.è¿‡æ»¤
</p>

<p>
ä½¿ç”¨.foo,é€‰æ‹©å¯¹è±¡çš„fooå­—æ®µï¼Œ.foo?å’Œå‰è€…ä¸€æ ·ï¼Œä½†å‡ºé”™æ—¶ä¸è¾“å‡ºå‡ºé”™ä¿¡æ¯ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">cat jqtest.json |jq .email

&#36807;&#28388;&#23383;&#27573;
$ echo <span style="color: #8b2252;">'{"name":"wxnacy", "id": 1, "age": 23}'</span> | jq <span style="color: #8b2252;">'{"name", "id"}'</span>
{
  <span style="color: #8b2252;">"name"</span>: <span style="color: #8b2252;">"wxnacy"</span>,
  <span style="color: #8b2252;">"id"</span>: 1
}
</pre>
</div>

<p>
3.1 ä½¿ç”¨é€—å·è·å–å¤šä¸ªå€¼
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# jq <span style="color: #8b2252;">'.email, .age'</span> me.json
<span style="color: #8b2252;">"xxx@gmail.com"</span>
25
</pre>
</div>

<p>
3.2 æ•°ç»„
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# cat me.json | jq .hobby[1]
<span style="color: #8b2252;">"writing"</span>
</pre>
</div>

<p>
3.3 æ•°æ®åˆ†ç‰‡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# cat me.json | jq .hobby[:2]
[
  <span style="color: #8b2252;">"music"</span>,
  <span style="color: #8b2252;">"writing"</span>
]
</pre>
</div>

<p>
3.4 æ•°ç»„éå†
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# echo <span style="color: #8b2252;">"{\"a\": 1, \"b\": 2}"</span>|jq <span style="color: #8b2252;">'.[]'</span>
1
2

[root@agent01 learn]# echo <span style="color: #8b2252;">'[{"name":"JSON", "good":true}, {"name":"XML", "good":false}]'</span> | jq <span style="color: #8b2252;">'.[] | .name'</span>
<span style="color: #8b2252;">"JSON"</span>
<span style="color: #8b2252;">"XML"</span>
</pre>
</div>

<p>
å‰é¢çš„ç¤ºä¾‹ä¸¥æ ¼è¯´æ˜¯è·å–ç‰¹å®šå­—æ®µï¼Œå¦‚æœæƒ³åšæ›´ç»†è‡´çš„è¿‡æ»¤å¯ä»¥ä½¿ç”¨selectå‡½æ•°ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# cat me.json | jq -r <span style="color: #8b2252;">'.education | select(.school == "MIT")'</span>
{
  <span style="color: #8b2252;">"school"</span>: <span style="color: #8b2252;">"MIT"</span>,
  <span style="color: #8b2252;">"degree"</span>: <span style="color: #8b2252;">"Master"</span>
}
</pre>
</div>

<p>
4.æ„é€ æ–°å¯¹è±¡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# cat me.json | jq <span style="color: #8b2252;">'.|{"name": .username, "like": .hobby[1]}'</span>
{
  <span style="color: #8b2252;">"name"</span>: <span style="color: #8b2252;">"henry"</span>,
  <span style="color: #8b2252;">"like"</span>: <span style="color: #8b2252;">"writing"</span>
}
</pre>
</div>

<p>
5.é«˜çº§ç”¨æ³• 5.1 mapå‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# echo <span style="color: #8b2252;">"[1,2,3,4]"</span>| jq  <span style="color: #8b2252;">'map(select(.&gt;2))'</span> -c
[3,4]
</pre>
</div>

<p>
5.2 Reduceå‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@agent01 learn]# echo <span style="color: #8b2252;">'[0,1,2,3,4,5,6,7,8,9]'</span> | jq <span style="color: #8b2252;">'reduce .[] as $n ([]; if ($n%2==0) then . else . + [$n] end)'</span> -c
[1,3,5,7,9]
</pre>
</div>

<p>
ä»ç¤ºä¾‹ä¸­çœ‹åˆ°äº†å¾ˆå¤šç”¨æ³•ï¼Œreduceéå†ï¼Œå®šä¹‰å˜é‡$nï¼Œå¯ä»¥ä½¿ç”¨
if-elif-else-endï¼Œæ·»åŠ æ•°æ®+[]ã€‚
</p>

<p>
æ€»ä¹‹ï¼Œä»–å°±åƒawkä¸€æ ·æ˜¯ä¸ªå°å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯ä»¥è‡ªå®šä¹‰å‡½æ•°ï¼Œå…·æœ‰I/Oå’ŒStreamï¼Œ
å‡ ä¹èƒ½å®ç°è‡ªå·±æƒ³è¦çš„ä»»ä½•jsonå¤„ç†ã€‚
</p>

<p>
å‚è€ƒæ–‡æ¡£ï¼š
</p>
<ul class="org-ul">
<li><a href="https://stedolan.github.io/jq/manual/">https://stedolan.github.io/jq/manual/</a></li>
<li><a href="https://jqplay.org/">https://jqplay.org/</a></li>
</ul>

<p>
èŒƒä¾‹ï¼šk8s podç»Ÿè®¡
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#21015;&#20986;&#23646;&#20110;&#29305;&#23450;RC&#30340;Pod&#21517;&#31216;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">jq&#21629;&#20196;&#23545;&#20110;&#22797;&#26434;&#30340;json&#36335;&#24452;&#36716;&#25442;&#24456;&#26377;&#29992;, &#26356;&#22810;&#35814;&#24773;https://stedolan.github.io/jq/</span>
<span style="color: #a0522d;">sel</span>=${<span style="color: #a0522d;">$</span>(<span style="color: #ff00ff;">kubectl get rc my-rc --output=json | jq -j '.spec.selector | to_entries | .[] | "\(.key</span><span style="color: #8b2252;">)=\(.value),"'</span>)%?}
<span style="color: #483d8b;">echo</span> $(<span style="color: #ff00ff;">kubectl get pods --selector=$sel --output=jsonpath={.items..metadata.name}</span>)

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;&#25152;&#26377;pod&#65288;&#25110;&#20219;&#20309;&#20854;&#20182;&#25903;&#25345;&#26631;&#31614;&#30340;Kubernetes&#23545;&#35937;&#65289;&#30340;&#26631;&#31614;</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Also uses "jq"</span>
<span style="color: #a020f0;">for</span> item<span style="color: #a020f0;"> in</span> $(<span style="color: #ff00ff;"> kubectl get pod --output=name</span>); <span style="color: #a020f0;">do </span><span style="color: #483d8b;">printf</span> <span style="color: #8b2252;">"Labels for %s\n"</span> <span style="color: #8b2252;">"$item"</span> | grep --color -E <span style="color: #8b2252;">'[^/]+$'</span> &amp;&amp; kubectl get <span style="color: #8b2252;">"$item"</span> --output=json | jq -r -S <span style="color: #8b2252;">'.metadata.labels | to_entries | .[] | " \(.key)=\(.value)"'</span> 2&gt;/dev/null; <span style="color: #483d8b;">printf</span> <span style="color: #8b2252;">"\n"</span>; <span style="color: #a020f0;">done</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21015;&#20986;&#24403;&#21069;pod&#27491;&#22312;&#20351;&#29992;&#30340;&#25152;&#26377;secert</span>
kubectl get pods -o json | jq <span style="color: #8b2252;">'.items[].spec.containers[].env[]?.valueFrom.secretKeyRef.name'</span> | grep -v null | sort | uniq


<span style="color: #b22222;"># </span><span style="color: #b22222;">&#21015;&#20986;pod&#36164;&#28304;&#37197;&#32622;</span>
kubectl get deploy -n general-components -o <span style="color: #a0522d;">jsonpath</span>=<span style="color: #8b2252;">'{range .items[*]}{@.spec.replicas},{range @.spec.template.spec.containers[*]}{@.name},{@.resources.requests.cpu}C/{@.resources.requests.memory},{@.readinessProbe.httpGet.path},{@.readinessProbe.httpGet.port}{"\n"}{end}{end}'</span>|sort -t <span style="color: #8b2252;">','</span>  -k 2 |sed <span style="color: #8b2252;">'1i&#21103;&#26412;&#25968;,&#39033;&#30446;,&#21333;&#33410;&#28857;&#36164;&#28304;,&#20581;&#24247;&#22320;&#22336;,&#31471;&#21475;'</span> &gt;general-components.csv

kubectl get deploy -n english-prod -o <span style="color: #a0522d;">jsonpath</span>=<span style="color: #8b2252;">'{range .items[*]}{@.spec.replicas},{range @.spec.template.spec.containers[*]}{@.name},{@.resources.requests.cpu}C/{@.resources.requests.memory},{@.readinessProbe.httpGet.path},{@.readinessProbe.httpGet.port}{"\n"}{end}{end}'</span>|sort -t <span style="color: #8b2252;">','</span>  -k 2 |sed <span style="color: #8b2252;">'1i&#21103;&#26412;&#25968;,&#39033;&#30446;,&#21333;&#33410;&#28857;&#36164;&#28304;,&#20581;&#24247;&#22320;&#22336;,&#31471;&#21475;'</span> |awk -F<span style="color: #8b2252;">','</span> <span style="color: #8b2252;">'{printf"%s %40-s %20-s %10-s\n",$1,$2,$3,$4}'</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼škafka topicå®¹é‡
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">topic&#27599;&#20010;&#20998;&#21306;&#30340;&#23481;&#37327;</span>
/usr/hdp/3.1.0.0-78/kafka/bin/kafka-log-dirs.sh --describe --bootstrap-server 172.18.41.174:9092|grep <span style="color: #8b2252;">'^{'</span> |jq <span style="color: #8b2252;">'{a:.brokers[]|.logDirs[]|.partitions[]|{"partition","size"}}|.a'</span>
/usr/hdp/3.1.0.0-78/kafka/bin/kafka-log-dirs.sh --describe --bootstrap-server 172.18.41.174:9092|grep <span style="color: #8b2252;">'^{'</span>   | jq <span style="color: #8b2252;">'[ ..|.partition?,.size?]'</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">topic&#27599;&#20010;&#20998;&#21306;&#30340;&#23481;&#37327;&#25490;&#24207;</span>
/usr/hdp/3.1.0.0-78/kafka/bin/kafka-log-dirs.sh --describe --bootstrap-server 172.18.41.174:9092|grep <span style="color: #8b2252;">'^{'</span>   | jq <span style="color: #8b2252;">'[ ..|.partition?,.size?]'</span> |tr <span style="color: #8b2252;">','</span> <span style="color: #8b2252;">' '</span>|grep -vE <span style="color: #8b2252;">'\[|\]|null'</span>|awk <span style="color: #8b2252;">'BEGIN{t=0}{if ($1 ~ "[a-zA-Z]") {t =$1}else{print t":"$1} }'</span> |awk -F: <span style="color: #8b2252;">'{num[$1]=$2}END{for(n in num)print n":"num[n]}'</span>|sort -t: -nr -k1

/usr/hdp/3.1.0.0-78/kafka/bin/kafka-log-dirs.sh --describe --bootstrap-server 172.18.41.174:9092|grep <span style="color: #8b2252;">'^{'</span>   | jq <span style="color: #8b2252;">'[ ..|.partition?,.size?]'</span> |tr <span style="color: #8b2252;">','</span> <span style="color: #8b2252;">' '</span>|grep -vE <span style="color: #8b2252;">'\[|\]|null'</span>|awk <span style="color: #8b2252;">'BEGIN{t=0}{if ($1 ~ "[a-zA-Z]") {t =$1}else{print t":"$1} }'</span> |awk -F: <span style="color: #8b2252;">'{num[$1]=$2}END{for(n in num)print n":"num[n]/1024/1024/1024"g"}'</span>|sort -t: -nr -k2|grep -E <span style="color: #8b2252;">'xymember|yzuser|box|rainbowbridge|yzcrm'</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">echo '&#26597;&#35810;&#29992;&#30340;github,GFW&#21407;&#22240;&#21487;&#33021;&#20250;&#27604;&#36739;&#20037;,&#35831;&#30830;&#20445;&#33021;&#35775;&#38382;&#21040;github'</span>
curl -sX GET https://api.github.com/repos/zhangguanzhang/${<span style="color: #a0522d;">repository</span>}/contents/$<span style="color: #a0522d;">img_name</span>?<span style="color: #a0522d;">ref</span>=develop | <span style="color: #8b2252;">\</span>
    jq -r <span style="color: #8b2252;">'length as $len | if $len ==2 then .message elif $len ==12 then .name else .[].name  end'</span>
</pre>
</div>

<p>
ç»ƒä¹ 
</p>
<ul class="org-ul">
<li>æ‰¾å‡ºifconfig "ç½‘å¡å" å‘½ä»¤ç»“æœä¸­æœ¬æœºçš„IPv4åœ°å€</li>
<li>æŸ¥å‡ºåˆ†åŒºç©ºé—´ä½¿ç”¨ç‡çš„æœ€å¤§ç™¾åˆ†æ¯”å€¼</li>
<li>æŸ¥å‡ºç”¨æˆ·UIDæœ€å¤§å€¼çš„ç”¨æˆ·åã€UIDåŠshellç±»å‹</li>
<li>æŸ¥å‡º/tmpçš„æƒé™ï¼Œä»¥æ•°å­—æ–¹å¼æ˜¾ç¤º</li>
<li>ç»Ÿè®¡å½“å‰è¿æ¥æœ¬æœºçš„æ¯ä¸ªè¿œç¨‹ä¸»æœºIPçš„è¿æ¥æ•°ï¼Œå¹¶æŒ‰ä»å¤§åˆ°å°æ’åº</li>
</ul>
</div>
</div>
</div>
</section>
<section id="outline-container-h:f101eef7-f24c-405e-9cc9-4d40a61ba924" class="outline-2">
<h2 id="h:f101eef7-f24c-405e-9cc9-4d40a61ba924">æ­£åˆ™è¡¨è¾¾å¼</h2>
<div class="outline-text-2" id="text-h:f101eef7-f24c-405e-9cc9-4d40a61ba924">
<p>
REGEXPï¼š Regular Expressionsï¼Œç”±ä¸€ç±»ç‰¹æ®Šå­—ç¬¦åŠæ–‡æœ¬å­—ç¬¦æ‰€ç¼–å†™çš„æ¨¡å¼ï¼Œå…¶
ä¸­æœ‰äº›å­—ç¬¦ï¼ˆå…ƒå­—ç¬¦ï¼‰ä¸è¡¨ç¤ºå­—ç¬¦å­—é¢æ„ä¹‰ï¼Œè€Œè¡¨ç¤ºæ§åˆ¶æˆ–é€šé…çš„åŠŸèƒ½ï¼Œç±»ä¼¼äº
å¢å¼ºç‰ˆçš„é€šé…ç¬¦åŠŸèƒ½ï¼Œä½†ä¸é€šé…ç¬¦ä¸åŒï¼Œé€šé…ç¬¦åŠŸèƒ½æ˜¯ç”¨æ¥å¤„ç†æ–‡ä»¶åï¼Œè€Œæ­£åˆ™
è¡¨è¾¾å¼æ˜¯å¤„ç†æ–‡æœ¬å†…å®¹ä¸­å­—ç¬¦
</p>

<p>
æ­£åˆ™è¡¨è¾¾å¼è¢«å¾ˆå¤šç¨‹åºå’Œå¼€å‘è¯­è¨€æ‰€å¹¿æ³›æ”¯æŒï¼švim, less,grep,sed,awk,
nginx,mysql ç­‰
</p>

<p>
æ­£åˆ™è¡¨è¾¾å¼åˆ†ä¸¤ç±»ï¼š
</p>

<ul class="org-ul">
<li>åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼ï¼šBRE</li>
<li>æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼šERE</li>
</ul>

<p>
æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ï¼š
</p>

<p>
é‡‡ç”¨ä¸åŒç®—æ³•ï¼Œæ£€æŸ¥å¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„è½¯ä»¶æ¨¡å—ï¼Œå¦‚ï¼šPCREï¼ˆPerl Compatible
RegularExpressionsï¼‰
</p>

<p>
æ­£åˆ™è¡¨è¾¾å¼çš„å…ƒå­—ç¬¦åˆ†ç±»ï¼šå­—ç¬¦åŒ¹é…ã€åŒ¹é…æ¬¡æ•°ã€ä½ç½®é”šå®šã€åˆ†ç»„
</p>

<p>
å¸®åŠ©ï¼šman 7 regex
å‚è€ƒ
</p>
<ul class="org-ul">
<li>æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ <a href="https://www.w3cschool.cn/regex_rmjc/">https://www.w3cschool.cn/regex_rmjc/</a></li>
<li>perlæ–‡å®˜æ­£åˆ™: <a href="https://perldoc.perl.org/perlre">https://perldoc.perl.org/perlre</a></li>
<li>grep ä¸­æ­£åˆ™: <a href="https://www.gnu.org/software/grep/manual/grep.html#Regular-Expressions">https://www.gnu.org/software/grep/manual/grep.html#Regular-Expressions</a></li>
<li>python reæ­£åˆ™è¡¨è¾¾å¼: <a href="https://docs.python.org/zh-cn/3/library/re.html">https://docs.python.org/zh-cn/3/library/re.html</a></li>
<li>Microsoft
<ul class="org-ul">
<li>.NETæ­£åˆ™: <a href="https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expressions">https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expressions</a></li>
<li>visual studio ide æ­£åˆ™: <a href="https://learn.microsoft.com/en-us/visualstudio/ide/using-regular-expressions-in-visual-studio?view=vs-2022">https://learn.microsoft.com/en-us/visualstudio/ide/using-regular-expressions-in-visual-studio?view=vs-2022</a></li>
</ul></li>
<li>åŸºç¡€æ­£åˆ™è¡¨è¾¾å¼: <a href="https://www.cnblogs.com/f-ck-need-u/p/9621130.html">https://www.cnblogs.com/f-ck-need-u/p/9621130.html</a></li>
<li>Perlæ­£åˆ™è¡¨è¾¾å¼è¶…è¯¦ç»†æ•™ç¨‹: <a href="https://www.cnblogs.com/f-ck-need-u/p/9648439.html">https://www.cnblogs.com/f-ck-need-u/p/9648439.html</a></li>
</ul>

<p>
æµ‹è¯•ï¼š
</p>
<ul class="org-ul">
<li>æ­£åˆ™æµ‹è¯•å·¥å…·RegEx Tester: <a href="https://sourceforge.net/projects/regextester/">https://sourceforge.net/projects/regextester/</a></li>
<li>åœ¨çº¿æµ‹è¯•ï¼š<a href="https://regextester.github.io/">https://regextester.github.io/</a></li>
</ul>
</div>
<div id="outline-container-h:58562c6b-529e-4f2b-ac86-599d68a637f3" class="outline-3">
<h3 id="h:58562c6b-529e-4f2b-ac86-599d68a637f3">åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦</h3>
<div class="outline-text-3" id="text-h:58562c6b-529e-4f2b-ac86-599d68a637f3">
</div>
<div id="outline-container-h:081be6ea-a706-4f07-8f1e-a5a5a8c204bc" class="outline-4">
<h4 id="h:081be6ea-a706-4f07-8f1e-a5a5a8c204bc">å…ƒå­—ç¬¦</h4>
<div class="outline-text-4" id="text-h:081be6ea-a706-4f07-8f1e-a5a5a8c204bc">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">.</span>&#65306;&#21305;&#37197;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;&#65292;&#21487;&#20197;&#26159;&#19968;&#20010;&#27721;&#23383;&#12290;&#20294;&#19981;&#33021;&#21305;&#37197;&#25442;&#34892;&#31526; \n&#12290;&#20013;&#25324;&#21495;[]&#20013;&#30340;.&#28857;&#34920;&#31034;&#28857;&#23383;&#31526; 
*&#65306;&#21305;&#37197;&#21069;&#38754;&#37027;&#20010;&#23383;&#31526;0&#25110;&#22810;&#27425;
?&#65306;&#21305;&#37197;&#21069;&#38754;&#37027;&#20010;&#23383;&#31526;0&#25110;&#19968;&#27425;&#65292;&#21363;:&#21487;&#26377;&#21487;&#26080;
+&#65306;&#21305;&#37197;&#21069;&#38754;&#37027;&#20010;&#23383;&#31526;1&#27425;&#20197;&#19978;&#65292;&#21363;:&#32943;&#23450;&#26377;&#65292;&gt;=1
{n}: &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;n&#27425;
{n,}: &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#23569;n&#27425;
{,n}: &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#22810;n&#27425;,&lt;=n
{n,m}: &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#23569;m&#27425;&#65292;&#33267;&#22810;n&#27425;

&#38170;&#23450;&#65306;&#38170;&#23450;&#30340;&#24847;&#24605;&#26159;&#21305;&#37197;&#20301;&#32622;&#65292;&#32780;&#38750;&#21305;&#37197;&#23383;&#31526;&#23454;&#20307;
  ^&#65306;&#21305;&#37197;&#34892;&#39318;&#20301;&#32622;&#65292;&#27880;&#24847;&#21305;&#37197;&#30340;&#26159;&#20301;&#32622;&#65292;&#19981;&#26159;&#23383;&#31526;
  $&#65306;&#21305;&#37197;&#34892;&#23614;&#20301;&#32622;&#65292;&#27880;&#24847;&#21305;&#37197;&#30340;&#26159;&#20301;&#32622;&#65292;&#19981;&#26159;&#23383;&#31526;

&#29305;&#27530;&#19988;&#24120;&#29992;&#30340;&#30340;&#32452;&#21512;&#27491;&#21017;&#34920;&#36798;&#24335;&#65306;
^$&#65306;&#23427;&#34920;&#31034;&#21305;&#37197;&#31354;&#34892;
<span style="color: #483d8b;">.</span>*&#65306;&#21305;&#37197;&#20219;&#24847;&#38271;&#24230;&#30340;&#20219;&#24847;&#23383;&#31526;&#65292;&#20294;&#19981;&#33021;&#21305;&#37197;&#25442;&#34892;&#31526;&#12290;&#30495;&#27491;&#30340;&#21305;&#37197;&#20219;&#24847;&#38271;&#24230;&#30340;&#20219;&#24847;&#23383;&#31526;&#65292;&#35265;&#19979;&#38754;


[]  &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;&#65292;&#31034;&#20363;&#65306;[wang]  [0-9]  [a-z]  [a-zA-Z]  [.]&#28857;&#25918;&#22312;&#20013;&#25324;&#21495;&#20869;&#34920;&#31034;.&#28857;&#65292;&#22806;&#38754;&#21017;&#26159;&#20195;&#34920;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
[^] &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#22806;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;,&#31034;&#20363;&#65306;[^wang]
</pre>
</div>

<p>
éœ€è¦è§£é‡Šæ¸…æ¥šçš„æ˜¯è¿™äº›é‡è¯(ä¹Ÿå°±æ˜¯ä¸Šé¢åŒ¹é…çš„æ¬¡æ•°å…ƒå­—ç¬¦)çš„ç‰¹æ®Šæ€§ï¼šå½“ä½¿ç”¨äº†
åŒ¹é…å¤šæ¬¡çš„é‡è¯æ—¶(å¦‚åŒ¹é…3-5æ¬¡çš„ <code>{3,5}</code> )ï¼Œä¸”é‡è¯å‰é¢çš„å­—ç¬¦æœ‰å¤šç§å¯èƒ½æ€§
(å¦‚ä¸­æ‹¬å·åºåˆ— <code>[abc]</code> )ï¼Œé‚£ä¹ˆé‡è¯çš„æ¬¡æ•°å¯ä»¥ä½œç”¨äºä»»ä¸€å­—ç¬¦ã€‚æœ‰äº›ä¸å¥½ç†è§£ï¼Œ
ä½†çœ‹ç¤ºä¾‹å°±çŸ¥é“äº†ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[abc]{3,5}     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#34920;&#31034;abc&#20219;&#24847;&#23383;&#31526;&#37117;&#21487;&#20197;&#20986;&#29616;&#65292;&#27604;&#22914;&#20840;&#26159;a&#65292;&#25110;&#32773;ab&#21516;&#26102;&#20986;&#29616;&#65292;&#20294;&#24635;&#30340;&#20986;&#29616;&#27425;&#25968;&#20026;3-5&#27425;</span>
<span style="color: #483d8b;">.</span>*          <span style="color: #b22222;"># </span><span style="color: #b22222;">&#34920;&#31034;&#20219;&#19968;&#23383;&#31526;(&#38500;&#25442;&#34892;&#31526;)&#65292;&#21487;&#20197;&#20219;&#24847;&#20986;&#29616;&#20219;&#24847;&#27425;&#25968;&#65292;&#23427;&#19981;&#34920;&#31034;a&#20043;&#21518;&#23601;&#24517;&#39035;&#20840;&#26159;a</span>
<span style="color: #483d8b;">.</span>+          <span style="color: #b22222;"># </span><span style="color: #b22222;">&#34920;&#31034;&#20219;&#19968;&#23383;&#31526;(&#38500;&#25442;&#34892;&#31526;)&#65292;&#21487;&#20197;&#20219;&#24847;&#20986;&#29616;&#33267;&#23569;&#19968;&#27425;&#65292;&#23427;&#19981;&#34920;&#31034;a&#20043;&#21518;&#23601;&#24517;&#39035;&#20840;&#26159;a</span>
</pre>
</div>

<p>
å¦å¤–ï¼Œ <code>.</code> æ— æ³•åŒ¹é…æ¢è¡Œç¬¦ã€‚å¯èƒ½ä½ ä¸å¤ªç†è§£ä¸ºä»€ä¹ˆéœ€è¦åŒ¹é…æ¢è¡Œç¬¦ï¼Œå®ƒä¸»è¦ç”¨åœ¨ï¼š
</p>

<ol class="org-ol">
<li>å¤šè¡Œæ¨¡å¼ã€‚ä¾‹å¦‚sedçš„å¤šè¡Œæ¨¡å¼ä¸‹ï¼Œè¦è·¨è¡ŒåŒ¹é…éœ€è¦æ‰‹åŠ¨æŒ‡å®šâ€\nâ€œï¼Œå¦‚
<code>/^a.*\nb.*/</code></li>
<li>æ˜ç¡®æŒ‡å®šäº†è¡Œåˆ†éš”ç¬¦ä¸ºéâ€\nâ€œçš„æƒ…å†µã€‚ä¾‹å¦‚awkå¯ä»¥ä½¿ç”¨RSå˜é‡æŒ‡å®šè¾“å…¥è¡Œåˆ†éš”ç¬¦</li>
</ol>

<p>
èŒƒä¾‹ï¼šç‚¹
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ls /etc/ | grep <span style="color: #8b2252;">'rc[.0-6]'</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#28857;&#25918;&#22312;&#20013;&#25324;&#21495;&#20869;&#34920;&#31034;.&#28857;&#65292;&#22806;&#38754;&#21017;&#26159;&#20195;&#34920;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;</span>
rc0.d
rc1.d
rc2.d
rc3.d
rc4.d
rc5.d
rc6.d
rc.d
rc.local
[root@centos8 ~]#ls /etc/ | grep <span style="color: #8b2252;">'rc[.0-6].'</span>
rc0.d
rc1.d
rc2.d
rc3.d
rc4.d
rc5.d
rc6.d
rc.d
rc.local
[root@centos8 ~]#ls /etc/ | grep <span style="color: #8b2252;">'rc[.0-6]\.'</span>
rc0.d
rc1.d
rc2.d
rc3.d
rc4.d
rc5.d
rc6.d
</pre>
</div>

<p>
èŒƒä¾‹: åŒ¹é…æ¬¡æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@middle-ware ~]# echo google |grep <span style="color: #8b2252;">'go*gle'</span>
google
[root@middle-ware ~]# echo ggle |grep <span style="color: #8b2252;">'go*gle'</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">*&#21069;&#38754;&#30340;&#23383;&#31526;&#20219;&#24847;&#27425;&#65292;&#21253;&#21547;0&#27425;&#65292;&#25152;&#20197;&#28385;&#36275;</span>
ggle
[root@middle-ware ~]# echo goooogle |grep <span style="color: #8b2252;">'go*gle'</span>
goooogle
[root@middle-ware ~]# echo ggle |grep <span style="color: #8b2252;">'g.*gle'</span>
ggle
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo /etc/ |grep <span style="color: #8b2252;">"/etc/\?"</span>
/etc/
[root@centos8 ~]#echo /etc |grep <span style="color: #8b2252;">"/etc/\?"</span>
/etc
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ac084252-e922-45b5-bbae-7a372dbece05" class="outline-4">
<h4 id="h:ac084252-e922-45b5-bbae-7a372dbece05">ä¸­æ‹¬å·</h4>
<div class="outline-text-4" id="text-h:ac084252-e922-45b5-bbae-7a372dbece05">
<p>
ä¸­æ‹¬å·è¡¨ç¤ºçš„æ˜¯åŒ¹é…ä»»æ„ä¸€ä¸ªï¼Œä¸€èˆ¬å®ƒå’Œå­—ç¬¦é›†çš„æ’åºè§„åˆ™æœ‰å…³ï¼Œä¸åŒå·¥å…·é‡‡å–çš„æ’åºè§„åˆ™å¯èƒ½ä¹Ÿä¸ä¸€æ ·ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">[]  &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;&#65292;&#31034;&#20363;&#65306;[wang]  [0-9]  [a-z]  [a-zA-Z]  [.]&#28857;&#25918;&#22312;&#20013;&#25324;&#21495;&#20869;&#34920;&#31034;.&#28857;&#65292;&#22806;&#38754;&#21017;&#26159;&#20195;&#34920;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
[^] &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#22806;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;,&#31034;&#20363;&#65306;[^wang]
[abcd...]&#65306;&#21305;&#37197;&#20013;&#25324;&#21495;&#20869;&#30340;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
[^abcd...]&#65306;&#25298;&#32477;&#21305;&#37197;&#20013;&#25324;&#21495;&#20869;&#30340;&#20219;&#24847;&#23383;&#31526;
[a-z]&#65306;&#21305;&#37197;a&#21040;z&#38388;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;&#65292;
[A-Z]&#65306;&#21305;&#37197;A&#21040;Z&#38388;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
[0-9]&#65306;&#21305;&#37197;0&#21040;9&#20043;&#38388;&#20219;&#24847;&#19968;&#20010;&#25968;&#23383;

&#24120;&#29992;&#32452;&#21512;&#65306;
[a-zA-Z0-9] : &#21305;&#37197;aA&#21040;zZ&#12289;0&#21040;9&#20043;&#38388;&#20219;&#24847;&#19968;&#20010;&#12290;&#22914;[abcxyz]&#34920;&#31034;&#20174;abcxyz&#20013;&#21305;&#37197;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
</pre>
</div>

<p>
å…³äºå­—æ¯çš„æ’åºï¼š
</p>

<ul class="org-ul">
<li>perlä¸­ï¼ŒA-Zæ’åœ¨açš„å‰é¢ï¼Œæ‰€ä»¥[A-z]è¡¨ç¤ºæ‰€æœ‰å¤§å°å†™å­—æ¯</li>
<li>grepä¸­ï¼ŒA-Zæ’åœ¨zçš„åé¢ï¼Œæ‰€ä»¥[a-Z]è¡¨ç¤ºæ‰€æœ‰å¤§å°å†™å­—æ¯</li>
<li>è¿˜æœ‰äº›å·¥å…·ä¸­ï¼Œå¤§å°å†™çš„æ’åºè§„åˆ™æ˜¯aAbBcC&#x2026;zZï¼Œæ‰€ä»¥[a-C]è¡¨ç¤ºaAbBcCå…±6ä¸ªå­—æ¯</li>
</ul>
</div>
</div>
<div id="outline-container-h:503c912a-8466-493d-b64f-4b9f386ff9d6" class="outline-4">
<h4 id="h:503c912a-8466-493d-b64f-4b9f386ff9d6">å­—ç¬¦ç±»</h4>
<div class="outline-text-4" id="text-h:503c912a-8466-493d-b64f-4b9f386ff9d6">
<p>
æ˜¯ä¸“é—¨å‘½åçš„ä¸­æ‹¬å·åºåˆ—ï¼›é™¤äº†å­—ç¬¦ç±»ï¼Œè¿˜æœ‰ç­‰ä»·ç±»ã€æ’åºç±»ï¼Œä½†åŸºæœ¬ç”¨ä¸ä¸Šï¼Œåªç”¨å­—ç¬¦ç±»ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">[:alpha:]&#65306;&#21305;&#37197;&#23383;&#27597;(&#38463;&#39069;&#20799;&#21457;&#65292;&#31561;&#20215;&#20110;[a-zA-Z]
[:digit:]&#65306;&#21305;&#37197;&#25968;&#23383;&#65292;&#31561;&#20215;&#20110;[0-9]
[:xdigit:]&#65306;&#21305;&#37197;&#21313;&#20845;&#36827;&#21046;&#25968;&#65292;&#31561;&#20215;&#20110;[0-9a-fA-F]
[:upper:]&#65306;&#21305;&#37197;&#22823;&#20889;&#23383;&#27597;(&#38463;&#22369;&#20799;&#39069;)&#65292;&#31561;&#20215;&#20110;[A-Z]
[:lower:]&#65306;&#21305;&#37197;&#23567;&#20889;&#23383;&#27597;(&#36335;&#25105;&#39069;)&#65292;&#31561;&#20215;&#20110;[a-z]
[:alnum:]&#65306;&#21305;&#37197;&#25968;&#23383;&#25110;&#23383;&#27597;&#65292;&#31561;&#20215;&#20110;[0-9a-zA-Z]
[:blank:]&#65306;&#21305;&#37197;&#31354;&#30333;&#65292;&#21253;&#25324;&#31354;&#26684;&#21644;&#21046;&#34920;&#31526;
[:space:]&#65306;&#21305;&#37197;&#31354;&#26684;&#65292;&#21253;&#25324;&#26032;&#34892;&#12289;&#31354;&#26684;&#12289;&#21046;&#34920;&#31526;&#12289;&#25442;&#34892;&#31526;&#12289;&#22238;&#36710;&#31526;&#31561;&#21508;&#31181;&#31867;&#22411;&#30340;&#31354;&#30333;
[:punct:]&#65306;&#21305;&#37197;&#25152;&#26377;&#26631;&#28857;&#31526;&#21495;(&#24597;&#21487;&#29305;&#12290;&#21253;&#25324;&#65306;! <span style="color: #8b2252;">' " ` # $ % &amp; ( ) * + , . - _ / : ; &lt; = &gt; ? @ [ \ ] ^ { | } ~</span>
<span style="color: #8b2252;">[:graph:]&#65306;&#38750;&#31354;&#23383;&#31526;&#12290;&#32472;&#22270;&#31867;&#12290;&#21253;&#25324;&#65306;&#22823;&#23567;&#20889;&#23383;&#27597;&#12289;&#25968;&#23383;&#21644;&#26631;&#28857;&#31526;&#21495;&#12290;&#31561;&#20215;&#20110;[:alnum:]+[:punct:]</span>
<span style="color: #8b2252;">[:print:]&#65306;&#38750;&#31354;&#23383;&#31526;&#65288;&#21253;&#25324;&#31354;&#26684;&#65289;&#12290;&#25171;&#21360;&#23383;&#31526;&#31867;&#12290;&#21253;&#25324;&#65306;&#22823;&#23567;&#20889;&#23383;&#27597;&#12289;&#25968;&#23383;&#12289;&#26631;&#28857;&#31526;&#21495;&#21644;&#31354;&#26684;&#12290;&#31561;&#20215;&#20110;[:alnum:]+[:punct:]+space</span>
<span style="color: #8b2252;">[:cntrl:]&#65306;&#25511;&#21046;&#23383;&#31526;&#31867;&#12290;&#22312;ASCII&#20013;&#65292;&#36825;&#20123;&#23383;&#31526;&#30340;&#20843;&#36827;&#21046;&#20195;&#30721;&#20174;000&#21040;037&#65292;&#36824;&#21253;&#25324;177(DEL)&#12290;&#20195;&#34920;&#38190;&#30424;&#19978;&#30340;&#25511;&#21046;&#38190;&#65292;&#21253;&#25324; CR, LF, TAB, Del ..&#31561;</span>
<span style="color: #8b2252;">[:blank:]: &#31354;&#30333;&#23383;&#31526;&#65306;&#31354;&#26684;&#21644;&#21046;&#34920;&#31526;</span>
</pre>
</div>

<pre class="example" id="org89de96c">
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šå¸¸å­—ç¬¦ç±»åœ¨çœŸæ­£ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¼šå†åŠ ä¸Šä¸€ä¸ªä¸­æ‹¬å·ï¼Œä¾‹å¦‚ [[:alpha:]] ã€‚

ä¹‹æ‰€ä»¥å¦‚æ­¤ï¼Œæ˜¯å› ä¸ºè¿™äº›å­—ç¬¦ç±»åªæ˜¯ä¸€ç§å‘½åå¥½çš„å­—ç¬¦é›†åˆã€‚

ä¾‹å¦‚ [:lower:] å¯¹åº”çš„å­—ç¬¦é›†åˆæ˜¯a-zï¼Œè€Œä¸æ˜¯ [a-z] ï¼Œæ‰€ä»¥è¦æƒ³è®©å…¶è¡¨ç¤ºè¿™äº›å‘½åå­—ç¬¦ç±»ä¸­çš„ä»»ä¸€å­—ç¬¦ï¼Œéœ€è¦å†åŠ ä¸Šä¸€å±‚æ‹¬å· [[:lower:]]ï¼Œå®ƒæ‰ç­‰ä»·äº[a-z]ã€‚

å¯èƒ½ä¼šæ›´æœ‰åŠ©äºç†è§£ä½¿ç”¨å­—ç¬¦ç±»çš„æ—¶å€™ä¸ºä»€ä¹ˆè¦åŠ ä¸¤ä¸ªä¸­æ‹¬å·çš„ä¾‹å­æ˜¯[^[:lower:]]ï¼Œå®ƒè¡¨ç¤ºä¸åŒ…å«ä»»ä½•å°å†™å­—æ¯ã€‚
</pre>
</div>
</div>
<div id="outline-container-h:7b6c68c5-a1e3-45ea-8e5e-7e8b670edf3c" class="outline-4">
<h4 id="h:7b6c68c5-a1e3-45ea-8e5e-7e8b670edf3c">åæ–œçº¿åºåˆ—</h4>
<div class="outline-text-4" id="text-h:7b6c68c5-a1e3-45ea-8e5e-7e8b670edf3c">
<p>
ä¸åŒçš„å·¥å…·ï¼ŒåŒä¸€å·¥å…·ä¸åŒçš„ç‰ˆæœ¬ï¼Œæ”¯æŒçš„åæ–œçº¿åºåˆ—èƒ½åŠ›ä¸åŒã€‚ä»¥ä¸‹åˆ—å‡ºäº†éƒ¨
åˆ†å¸¸è§åºåˆ—ã€‚
</p>

<p>
ä»¥ä¸‹æ‰€è¯´çš„å•è¯ï¼Œä¸€èˆ¬æ¥è¯´åªåŒ…å«æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿ï¼Œå³ <code>[_0-9a-zA-Z]</code> ã€‚
</p>

<p>
ä»¥ä¸‹å‡ ç§åæ–œçº¿åºåˆ—ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰å·¥å…·éƒ½æ”¯æŒï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">\b&#65306;&#21305;&#37197;&#21333;&#35789;&#36793;&#30028;&#22788;&#30340;&#31354;&#23383;&#31526;
\B&#65306;&#21305;&#37197;&#38750;&#21333;&#35789;&#36793;&#30028;&#22788;&#30340;&#31354;&#23383;&#31526;
<span style="color: #8b2252;">\&lt;</span>&#65306;&#21305;&#37197;&#21333;&#35789;&#24320;&#22836;&#22788;&#30340;&#31354;&#23383;&#31526;
<span style="color: #8b2252;">\&gt;</span>&#65306;&#21305;&#37197;&#21333;&#35789;&#32467;&#23614;&#22788;&#30340;&#31354;&#23383;&#31526;
\w&#65306;&#21305;&#37197;&#21333;&#35789;&#26500;&#25104;&#37096;&#20998;&#65292;&#31561;&#20215;&#20110;[_[:alnum:]]
\W&#65306;&#21305;&#37197;&#38750;&#21333;&#35789;&#26500;&#25104;&#37096;&#20998;&#65292;&#31561;&#20215;&#20110;[^_[:alnum:]]
</pre>
</div>

<p>
ä»¥ä¸‹å‡ ç§ï¼Œæœ‰äº›å·¥å…·ä¸æ”¯æŒï¼Œä½†perléƒ½æ”¯æŒï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">\s&#65306;&#21305;&#37197;&#31354;&#30333;&#23383;&#31526;&#65292;&#31561;&#20215;&#20110;[[:space:]]
\S&#65306;&#21305;&#37197;&#38750;&#31354;&#30333;&#23383;&#31526;&#65292;&#31561;&#20215;&#20110;[^[:space:]]
\d&#65306;&#21305;&#37197;&#25968;&#23383;&#65292;&#31561;&#20215;&#20110;[0-9]
\D&#65306;&#21305;&#37197;&#38750;&#25968;&#23383;&#65292;&#31561;&#20215;&#20110;[^0-9]
</pre>
</div>

<p>
ç”±äºå…ƒå­—ç¬¦=.=é»˜è®¤æ— æ³•åŒ¹é…æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥éœ€è¦åŒ¹é…æ¢è¡Œç¬¦çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹
æ®Šç»„åˆ <code>[\d\D]</code> æ¥æ›¿æ¢ <code>.</code> ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚æœæƒ³åŒ¹é…ä»»æ„é•¿åº¦çš„ä»»æ„å­—ç¬¦ï¼Œ
å¯ä»¥æ¢æˆ <code>[\d\D]*</code> ï¼Œå½“ç„¶ï¼Œå‰ææ˜¯å¿…é¡»æ”¯æŒ <code>\d</code> å’Œ <code>\D</code> ä¸¤ä¸ªåæ–œçº¿åºåˆ—ã€‚
</p>

<p>
èŒƒä¾‹ï¼šä½¿ç”¨æ­£åˆ™å·¥å…·æˆ–è€…åœ¨çº¿æ­£åˆ™ç½‘ç«™æµ‹è¯•
</p>
<pre class="example" id="orgc4d84b7">
abc xyz
123
ä¸­æ–‡
</pre>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">.</span> <span style="color: #b22222;">#</span><span style="color: #b22222;">&#38750;&#22810;&#34892;&#21644;&#21333;&#34892;&#19979;&#65292;&#40664;&#35748;&#21305;&#37197;&#38500;&#25442;&#34892;&#31526;&#20043;&#22806;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;</span>
\w\w <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21305;&#37197;2&#20010;&#23383;&#31526;</span>
\d <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21305;&#37197;1&#20010;&#25968;&#23383;</span>
[abc ] <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21305;&#37197;abc&#21644;&#31354;&#26684;&#20013;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;</span>
[abc\s] <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21305;&#37197;abc&#21644;&#31354;&#26684;&#23383;&#31526;&#20013;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;</span>
\w\s\w <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21305;&#37197;c x&#21644;z&#25442;&#34892;1&#21644;3&#25442;&#34892;&#20013;</span>
[\d\s\d] <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#24403;&#20110;[\d\s] &#21305;&#37197;&#25968;&#23383;&#21644;&#31354;&#30333;&#23383;&#31526;&#20013;&#20219;&#24847;&#23383;&#31526;</span>
\b\w\w\b <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21363;&#20316;&#35789;&#39318;&#21448;&#20316;&#35789;&#23614;&#65292;&#21305;&#37197;&#20013;&#25991;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9589c9e7-00f7-4761-9dcf-eb1430872333" class="outline-4">
<h4 id="h:9589c9e7-00f7-4761-9dcf-eb1430872333">åˆ†ç»„æ•è·å’Œåå‘å¼•ç”¨</h4>
<div class="outline-text-4" id="text-h:9589c9e7-00f7-4761-9dcf-eb1430872333">
</div>
<div id="outline-container-h:05c0ed3a-9389-4471-811b-b30545dd97f9" class="outline-5">
<h5 id="h:05c0ed3a-9389-4471-811b-b30545dd97f9">åˆ†ç»„</h5>
<div class="outline-text-5" id="text-h:05c0ed3a-9389-4471-811b-b30545dd97f9">
<p>
åˆ†ç»„ï¼š <code>()</code> å°†å¤šä¸ªå­—ç¬¦æ†ç»‘åœ¨ä¸€èµ·ï¼Œå½“ä½œä¸€ä¸ªæ•´ä½“å¤„ç†ï¼Œå¦‚ï¼š <code>(root)+</code>
</p>

<p>
åå‘å¼•ç”¨ï¼šåˆ†ç»„æ‹¬å·ä¸­çš„æ¨¡å¼åŒ¹é…åˆ°çš„å†…å®¹ä¼šè¢«æ­£åˆ™è¡¨è¾¾å¼å¼•æ“è®°å½•äºå†…éƒ¨çš„å˜
é‡ä¸­ï¼Œè¿™äº›å˜é‡çš„å‘½åæ–¹å¼ä¸º: <code>\1, \2, \3, ...</code>
</p>

<p>
\1 è¡¨ç¤ºä»å·¦ä¾§èµ·ç¬¬ä¸€ä¸ªå·¦æ‹¬å·ä»¥åŠä¸ä¹‹åŒ¹é…å³æ‹¬å·ä¹‹é—´çš„æ¨¡å¼æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦
</p>

<p>
åŸºç¡€æ­£åˆ™ä¸­ï¼Œä½¿ç”¨æ‹¬å·å¯ä»¥å¯¹åŒ¹é…å†…å®¹è¿›è¡Œåˆ†ç»„å¹¶æš‚æ—¶ä¿å­˜ï¼Œåˆ†ç»„åä¼šæœ‰åˆ†ç»„ç¼–
å·ï¼Œå¯ä»¥ä½¿ç”¨åæ–œçº¿åŠ ç¼–å· <code>\N</code> çš„æ–¹å¼åå‘å¼•ç”¨è¿™äº›åˆ†ç»„ã€‚
</p>

<p>
åˆ†ç»„ç¼–å·çš„æ–¹å¼æ˜¯ä»å·¦å‘å³è®¡ç®—æ‹¬å·æ•°ï¼Œæ— è®ºå¦‚ä½•åµŒå¥—ï¼Œç¬¬ä¸€ä¸ªå·¦æ‹¬å·å¯¹åº”çš„åˆ†
ç»„ä¸€å®šæ˜¯ç¼–å·1ï¼Œç”¨ <code>\1</code> æ¥å¼•ç”¨ï¼Œç¬¬äºŒä¸ªå·¦æ‹¬å·å¯¹åº”çš„åˆ†ç»„ä¸€å®šæ˜¯ç¼–å·2ï¼Œç”¨
<code>\2</code> æ¥å¼•ç”¨ï¼Œä¾æ­¤ç±»æ¨ã€‚
</p>

<p>
ç¤ºä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">\(</span>string1<span style="color: #8b2252;">\(</span>string2<span style="color: #8b2252;">\)\)</span>
\1 &#65306;string1<span style="color: #8b2252;">\(</span>string2<span style="color: #8b2252;">\)</span>
\2 &#65306;string2
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"abcddefg"</span> | grep -E <span style="color: #8b2252;">"(.)\1"</span>
</pre>
</div>

<p>
å¯¹äºåªä½¿ç”¨åŸºç¡€æ­£åˆ™çš„å·¥å…·æ¥è¯´ï¼Œä¸€èˆ¬éƒ½åªèƒ½å¼•ç”¨ <code>\1</code> åˆ° <code>\9</code> å…±9ä¸ªåå‘å¼•
ç”¨ï¼Œæœ€å¤šè‡ªå·±é¢å¤–æä¾›ä¸€ä¸ªæ‰€æœ‰è¡¨ç¤ºåŒ¹é…å†…å®¹çš„åå‘å¼•ç”¨(ä¾‹å¦‚sedæä¾›çš„ <code>&amp;</code> )ã€‚
å¯¹äºè¶…å‡º10ä¸ªçš„åˆ†ç»„ï¼Œä½¿ç”¨åŸºç¡€æ­£åˆ™çš„å·¥å…·ä¸€èˆ¬æ¥è¯´æ˜¯æ— èƒ½ä¸ºåŠ›çš„ã€‚
</p>

<p>
å†è€…ï¼ŒåŸºç¡€æ­£åˆ™ä»…ä»…åªæ˜¯å°†åˆ†ç»„åŒ¹é…åˆ°çš„å†…å®¹æ•è·ï¼Œåœ¨æ­£åˆ™æ“ä½œç»“æŸåå°±ä¸¢å¤±ã€‚
ä½†å¯¹äºä¸€é—¨å®Œæ•´ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œè¿™è¿œè¿œä¸å¤Ÿï¼Œå‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€(å¦‚
perl/java/pythonç­‰)éƒ½ä¼šå°†æ­£åˆ™çš„åˆ†ç»„åŒ¹é…å†…å®¹ä¿å­˜ä¸ºå˜é‡ï¼Œä½¿å¾—å¯ä»¥åœ¨æ­£åˆ™
ç»“æŸä¹‹åå†æ¬¡å¼•ç”¨ç”šè‡³ä¿®æ”¹å®ƒä»¬ã€‚ä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­åˆ†ç»„æ•è·çš„å­—æ¯dï¼Œå¦‚æœæ¢æˆ
perlï¼Œå³ä½¿åœ¨è¿™ä¸ªåŒ¹é…è¿‡ç¨‹ç»“æŸåï¼Œè¿˜æ˜¯å¯ä»¥å»å¼•ç”¨è¿™æ®µåˆ†ç»„ã€‚
</p>
</div>
</div>
</div>
<div id="outline-container-h:746c0951-918e-4ae2-bf0b-953b7274b767" class="outline-4">
<h4 id="h:746c0951-918e-4ae2-bf0b-953b7274b767">æˆ–è€…</h4>
<div class="outline-text-4" id="text-h:746c0951-918e-4ae2-bf0b-953b7274b767">
<div class="org-src-container">
<pre class="src src-sh">pattern1 | pattern2&#65306;&#21305;&#37197;&#31446;&#32447;&#24038;&#36793;&#65292;&#25110;&#32773;&#21305;&#37197;&#31446;&#32447;&#21491;&#36793;&#37117;&#31639;&#21305;&#37197;&#25104;&#21151;
</pre>
</div>

<p>
å‡ ç‚¹éœ€è¦è¯´æ˜ï¼š
</p>

<ol class="org-ol">
<li>å› ä¸ºç«–çº¿å…ƒå­—ç¬¦çš„ä¼˜å…ˆçº§å¾ˆä½ï¼Œæ‰€ä»¥ <code>ab|cd</code> åŒ¹é…çš„æ˜¯â€abâ€æˆ–â€cdâ€ï¼Œè€Œ
ä¸æ˜¯abdæˆ–acdã€‚</li>
<li>æˆåŠŸåŒ¹é…äº†å·¦è¾¹ï¼Œå°±ä¸ä¼šå†å»å¯¹å³è¾¹è¿›è¡ŒåŒ¹é…ã€‚</li>
<li>åå‘å¼•ç”¨å¤±è´¥é—®é¢˜ï¼šç«–çº¿å°†ä¸¤è¾¹çš„åˆ†ç»„éš”å¼€ï¼Œå³è¾¹çš„æ°¸è¿œæ— æ³•åå‘å¼•ç”¨å·¦è¾¹
çš„åˆ†ç»„</li>
</ol>

<p>
ç¤ºä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">a<span style="color: #8b2252;">\|</span>b <span style="color: #b22222;">#</span><span style="color: #b22222;">a&#25110;b</span>
C<span style="color: #8b2252;">\|</span>cat <span style="color: #b22222;">#</span><span style="color: #b22222;">C&#25110;cat</span>
<span style="color: #8b2252;">\(</span>C<span style="color: #8b2252;">\|</span>c<span style="color: #8b2252;">\)</span>at <span style="color: #b22222;">#</span><span style="color: #b22222;">Cat&#25110;cat</span>

&#20004;&#20010;&#21453;&#21521;&#24341;&#29992;&#38382;&#39064;&#30340;&#20856;&#22411;&#20363;&#23376;&#65306;
<span style="color: #0000ff;">&#20363;&#22914;a</span>(<span style="color: #483d8b;">.</span>)|b\1&#23558;&#26080;&#27861;&#21305;&#37197;<span style="color: #8b2252;">"ba"</span>&#65292;&#22240;&#20026;&#35780;&#20272;&#20102;&#24038;&#36793;&#23601;&#19981;&#20250;&#35780;&#20272;&#21491;&#36793;&#12290;
<span style="color: #0000ff;">&#20363;&#22914;</span>([ac])e\1|b([xyz])\2t&#30340;&#24038;&#36793;&#33021;&#21305;&#37197;aea&#25110;cec&#65292;&#20294;&#19981;&#33021;&#21305;&#37197;cea&#25110;aec&#65292;&#21491;&#36793;&#33021;&#21305;&#37197;bxxt&#25110;byyt&#25110;bzzt&#12290;&#20294;&#22914;&#26524;&#23558;\2&#25442;&#25104;\1&#65292;&#21363;([ac])e\1|b([xyz])\1t&#65292;&#23558;&#26080;&#27861;&#21305;&#37197;b[xyz]at&#25110;b[xyz]ct&#65292;&#22240;&#20026;&#31532;&#19968;&#20010;&#20998;&#32452;&#25324;&#21495;&#22312;&#24038;&#36793;&#65292;&#26080;&#27861;&#21442;&#19982;&#21491;&#36793;&#30340;&#27491;&#21017;&#35780;&#20272;&#12290;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ’é™¤ç©ºè¡Œå’Œ#å¼€å¤´çš„è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#grep -v <span style="color: #8b2252;">'^#'</span> /etc/httpd/conf/httpd.conf |grep -v ^$
[root@centos6 ~]#grep -v <span style="color: #8b2252;">'^#\|^$'</span> /etc/httpd/conf/httpd.conf
[root@centos6 ~]#grep -v <span style="color: #8b2252;">'^\(#\|$\)'</span> /etc/httpd/conf/httpd.conf
[root@centos6 ~]#grep <span style="color: #8b2252;">"^[^#]"</span> /etc/httpd/conf/httpd.conf
</pre>
</div>

<p>
æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ 
</p>
<ul class="org-ul">
<li>æ˜¾ç¤º/proc/meminfoæ–‡ä»¶ä¸­ä»¥å¤§å°så¼€å¤´çš„è¡Œ(è¦æ±‚ï¼šä½¿ç”¨ä¸¤ç§æ–¹æ³•)</li>
<li>æ˜¾ç¤º/etc/passwdæ–‡ä»¶ä¸­ä¸ä»¥/bin/bashç»“å°¾çš„è¡Œ</li>
<li>æ˜¾ç¤ºç”¨æˆ·rpcé»˜è®¤çš„shellç¨‹åº 4ã€æ‰¾å‡º/etc/passwdä¸­çš„ä¸¤ä½æˆ–ä¸‰ä½æ•°</li>
<li>æ˜¾ç¤ºCentOS7çš„/etc/grub2.cfgæ–‡ä»¶ä¸­ï¼Œè‡³å°‘ä»¥ä¸€ä¸ªç©ºç™½å­—ç¬¦å¼€å¤´çš„ä¸”åé¢æœ‰éç©ºç™½å­—ç¬¦çš„è¡Œ</li>
<li>æ‰¾å‡ºâ€œnetstat -tanâ€å‘½ä»¤ç»“æœä¸­ä»¥LISTENåè·Ÿä»»æ„å¤šä¸ªç©ºç™½å­—ç¬¦ç»“å°¾çš„è¡Œ</li>
<li>æ˜¾ç¤ºCentOS7ä¸Šæ‰€æœ‰UIDå°äº1000ä»¥å†…çš„ç”¨æˆ·åå’ŒUID</li>
<li>æ·»åŠ ç”¨æˆ·bashã€testbashã€basherã€shã€nologin(å…¶shellä¸º/sbin/nologin),æ‰¾å‡º/etc/passwdç”¨æˆ·åå’ŒshellåŒåçš„è¡Œ</li>
<li>åˆ©ç”¨dfå’Œgrepï¼Œå–å‡ºç£ç›˜å„åˆ†åŒºåˆ©ç”¨ç‡ï¼Œå¹¶ä»å¤§åˆ°å°æ’åº</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#26174;&#31034;/etc/passwd&#25991;&#20214;&#20013;&#19981;&#20197;/bin/bash&#32467;&#23614;&#30340;&#34892;&#65307; ~]# grep -v <span style="color: #8b2252;">"/bin/bash$"</span>
/etc/passwd

2&#12289;&#25214;&#20986;/etc/passwd&#25991;&#20214;&#20013;&#30340;&#20004;&#20301;&#25968;&#25110;&#19977;&#20301;&#25968;&#65307; ~]# grep <span style="color: #8b2252;">"&lt;[[:digit:]]{2,3}&gt;"</span>
/etc/passwd &#25110; grep <span style="color: #8b2252;">'^&lt;[0-9]{2,3}&gt;'</span> /etc/passwd

3&#12289;&#25214;&#20986;/etc/rc.d/rc.sysinit&#25110;/etc/grub2.cfg&#25991;&#20214;&#20013;&#65292;&#20197;&#33267;&#23569;&#19968;&#20010;&#31354;&#30333;&#23383;&#31526;&#24320;&#22836;&#65292;&#19988;&#21518;&#38754;&#38750;&#31354;&#30333;&#23383;&#31526;&#30340;&#34892;&#65307;
~]# grep <span style="color: #8b2252;">"[fn:1]+[[fn:2]]"</span> /etc/grub2.cfg

4&#12289;&#25214;&#20986;&#8221;netstat
-tan&#8221;&#21629;&#20196;&#30340;&#32467;&#26524;&#20013;&#20197;&#8221;LISTEN&#8221;&#21518;&#36319;0&#12289;1&#25110;&#22810;&#20010;&#31354;&#30333;&#23383;&#31526;&#32467;&#23614;&#30340;&#34892;&#65307; ~]# netstat
-tan | grep &#8220;LISTEN[[:space:]]*$&#8221;

&#36807;&#28388;&#31354;&#34892;&#21644;&#24320;&#22987;&#20026;#&#24320;&#22987;&#30340;&#34892; grep -Ev <span style="color: #8b2252;">'^{#|}$'</span> /etc/fstab

&#21482;&#22312;&#30446;&#24405;&#20013;&#25152;&#26377;&#30340;.php&#21644;.html&#25991;&#20214;&#20013;&#36882;&#24402;&#25628;&#32034;&#23383;&#31526;&#8221;main()&#8221;

- grep <span style="color: #8b2252;">"main()"</span> . -r --include *.{php,html}

&#21482;&#22312;&#30446;&#24405;&#20013;&#25152;&#26377;&#30340;.php&#21644;.html&#25991;&#20214;&#20013;&#36882;&#24402;&#25628;&#32034;&#23383;&#31526;&#8221;main()&#8221;

- grep <span style="color: #8b2252;">"main()"</span> . -r --include *.{php,html}

&#22312;&#25628;&#32034;&#32467;&#26524;&#20013;&#25490;&#38500;filelist&#25991;&#20214;&#21015;&#34920;&#37324;&#30340;&#25991;&#20214;

- grep <span style="color: #8b2252;">"main()"</span> . -r --exclude-from filelist

&#25628;&#32034;&#22810;&#20010;&#25991;&#20214;&#24182;&#26597;&#25214;&#21305;&#37197;&#25991;&#26412;&#22312;&#21738;&#20123;&#25991;&#20214;&#20013;

- grep -l <span style="color: #8b2252;">"root"</span> /etc/fstab /etc/passwd

&#25628;&#32034;&#24320;&#22836;&#19981;&#26159;&#33521;&#25991;&#23383;&#27597;&#30340;&#34892;,&#24182;&#26174;&#31034;&#34892;&#21495;

- grep -n <span style="color: #8b2252;">'[fn:3]'</span> /etc/fstab

&#26597;&#25214;default&#21644;dev&#20004;&#20010;&#20851;&#38190;&#23383;

- grep -e <span style="color: #8b2252;">"defaulkt"</span> -e <span style="color: #8b2252;">"dev"</span> /etc/fstab

&#26597;&#25214;/etc&#30446;&#24405;&#19979;&#65292;&#25152;&#26377;&#21253;&#21547;root&#20851;&#38190;&#23383;&#30340;&#25991;&#20214;&#24182;&#26174;&#31034;&#25991;&#20214;&#36335;&#24452;&#21450;&#25991;&#20214;&#21517;

- grep -lr <span style="color: #8b2252;">"root"</span> /etc/ | xargs ls -l

&#30417;&#25511;&#26085;&#24535;&#25991;&#26723;&#20013;&#20135;&#29983;Error&#30340;&#34892;&#65292;&#24182;&#21482;&#25171;&#21360;&#21253;&#21547;Error&#30340;&#34892;

- tail -f /var/www/logs/error.log | grep --line-buffered <span style="color: #8b2252;">"Error"</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:079dc060-e0ec-45e9-9766-18ab08eee9b8" class="outline-3">
<h3 id="h:079dc060-e0ec-45e9-9766-18ab08eee9b8">åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼ä¸æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</h3>
<div class="outline-text-3" id="text-h:079dc060-e0ec-45e9-9766-18ab08eee9b8">
<p>
åœ¨GNUÂ <code>grep</code>Â ä¸­ï¼ŒåŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼å’Œæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼åªæ˜¯åŒä¸€æ¨¡å¼åŒ¹é…åŠŸèƒ½çš„
ä¸åŒç¬¦å·ã€‚åœ¨å…¶ä»–å®ç°ä¸­ï¼ŒåŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸ä¸å¦‚æ‰©å±•çš„å¼ºå¤§ï¼Œä½†æœ‰æ—¶æƒ…å†µæ­£
åˆ™ç›¸åã€‚ä»¥ä¸‹è¯´æ˜é€‚ç”¨äºæ‰©å±•æ­£åˆ™è¡¨è¾¾å¼;ä¸‹é¢æ€»ç»“äº†åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼çš„å·®å¼‚ã€‚
</p>

<p>
<a href="https://www.gnu.org/software/grep/manual/grep.html#Basic-vs-Extended-Regular-Expressions">https://www.gnu.org/software/grep/manual/grep.html#Basic-vs-Extended-Regular-Expressions</a>
</p>

<ul class="org-ul">
<li><code>'?', '+', '{', '|', '(', and ')</code> åŸºæœ¬æ­£åˆ™å‰é¢è¦åŠ  <code>\</code></li>
</ul>
</div>
<div id="outline-container-h:01367717-c17f-4a72-99fe-8b6426d4fe2d" class="outline-4">
<h4 id="h:01367717-c17f-4a72-99fe-8b6426d4fe2d">å­—ç¬¦åŒ¹é…å…ƒå­—ç¬¦</h4>
<div class="outline-text-4" id="text-h:01367717-c17f-4a72-99fe-8b6426d4fe2d">
<p>
åŸºæœ¬æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh">[]  &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#20869;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;&#65292;&#31034;&#20363;&#65306;[wang]  [0-9]  [a-z]  [a-zA-Z]  [.]&#28857;&#25918;&#22312;&#20013;&#25324;&#21495;&#20869;&#34920;&#31034;.&#28857;&#65292;&#22806;&#38754;&#21017;&#26159;&#20195;&#34920;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
[^] &#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#22806;&#30340;&#20219;&#24847;&#21333;&#20010;&#23383;&#31526;,&#31034;&#20363;&#65306;[^wang]

&#21305;&#37197;&#25351;&#23450;&#33539;&#22260;&#26377;&#20197;&#19979;&#20960;&#31181;&#65306;
[a-z] : &#21305;&#37197;a&#21040;z&#38388;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;&#65292;
[A-Z] : &#21305;&#37197;A&#21040;Z&#38388;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;&#65292;
[0-9] : &#21305;&#37197;0&#21040;9&#20043;&#38388;&#20219;&#24847;&#19968;&#20010;&#25968;&#23383;
[a-zA-Z0-9] : &#21305;&#37197;aA&#21040;zZ&#12289;0&#21040;9&#20043;&#38388;&#20219;&#24847;&#19968;&#20010;&#65292;&#12290;&#22914;[abcxyz]&#34920;&#31034;&#20174;abcxyz&#20013;&#21305;&#37197;&#20219;&#24847;&#19968;&#20010;&#23383;&#31526;
[[:upper:]] :&#25152;&#26377;&#22823;&#20889;&#23383;&#27597;(&#38463;&#22369;&#20799;&#39069;) [A-Z]
[[:lower:]] : &#25152;&#26377;&#23567;&#20889;&#23383;&#27597;(&#36335;&#25105;&#39069;) [a-z]
[[:alpha:]] : &#25152;&#26377;&#23383;&#27597;(&#38463;&#39069;&#20799;&#21457;)  [a-zA-Z]
[[:digit:]] : &#21313;&#36827;&#21046;&#25968;&#23383; [0-9]
[[:alnum:]] : &#25152;&#26377;&#23383;&#27597;&#21644;&#25968;&#23383;(&#22467;&#22885;number)  [0-9a-zA-Z]
[[:space:]] : &#25152;&#26377;&#31354;&#30333;&#23383;&#31526;(&#26032;&#34892;&#65292;&#31354;&#26684;&#65292;&#21046;&#34920;&#31526; )
[[:punct:]] : &#25152;&#26377;&#26631;&#28857;&#31526;&#21495;(&#24597;&#21487;&#29305;)&#65292;<span style="color: #8b2252;">'! " # $ % &amp; '</span> ( ) * + , - . / : ; &lt; = &gt; ? @ [ <span style="color: #8b2252;">\ </span>] ^ _ <span style="color: #8b2252;">' { | } ~'</span>
[[:xdigit:]] :  &#20219;&#20309;16&#36827;&#21046;&#30340;&#25968;&#23383;&#65292;&#30456;&#24403;&#20110;[0-9a-fA-F]

[[:cntrl:]] :  &#20195;&#34920;&#38190;&#30424;&#19978;&#30340;&#25511;&#21046;&#38190;&#65292;&#21253;&#25324; CR, LF, TAB, Del ..&#31561;
[[:graph:]] : &#38750;&#31354;&#23383;&#31526;&#12290;&#38500;&#20102;&#31354;&#30333;&#38190;&#21644; Tab&#38190;&#22806;&#30340;&#20854;&#20182;&#25152;&#26377;&#25353;&#38190;&#65292;&#30456;&#24403;&#20110;<span style="color: #8b2252;">'[:alnum:]'</span> +<span style="color: #8b2252;">'[:punct:]'</span>.
[[:print:]] : &#38750;&#31354;&#23383;&#31526;&#65288;&#21253;&#25324;&#31354;&#26684;&#65289;&#12290;&#20195;&#34920;&#20219;&#20309;&#21487;&#34987;&#25171;&#21360;&#23383;&#31526;&#65292;&#30456;&#24403;&#20110;  <span style="color: #8b2252;">'[:alnum:]'</span>, <span style="color: #8b2252;">'[:punct:]'</span>, &#21644;space.
[[:ascii:]] :
[[:blank:]] :   &#20195;&#34920;&#31354;&#30333;&#38190;&#19982;TAB&#38190;&#20004;&#32773;
[[:word:]] :

[_[:alnum:]] : &#34920;&#31034;&#38500;&#20102; alnum &#36824;&#22810;&#20102;&#19968;&#20010;&#23383;&#31526; _ &#19979;&#21010;&#32447;
</pre>
</div>

<p>
æ‰©å±•æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">.</span> &#20219;&#24847;&#21333;&#20010;&#23383;&#31526;
[wang] &#25351;&#23450;&#33539;&#22260;&#30340;&#23383;&#31526;
[^wang] &#19981;&#22312;&#25351;&#23450;&#33539;&#22260;&#30340;&#23383;&#31526;
[:alnum:] &#23383;&#27597;&#21644;&#25968;&#23383;
[:alpha:] &#20195;&#34920;&#20219;&#20309;&#33521;&#25991;&#22823;&#23567;&#20889;&#23383;&#31526;&#65292;&#20134;&#21363; A-Z, a-z
[:lower:] &#23567;&#20889;&#23383;&#27597;,&#31034;&#20363;:[[:lower:]],&#30456;&#24403;&#20110;[a-z]
[:upper:] &#22823;&#20889;&#23383;&#27597;
[:blank:] &#31354;&#30333;&#23383;&#31526;&#65288;&#31354;&#26684;&#21644;&#21046;&#34920;&#31526;&#65289;
[:space:] &#27700;&#24179;&#21644;&#22402;&#30452;&#30340;&#31354;&#30333;&#23383;&#31526;&#65288;&#27604;[:blank:]&#21253;&#21547;&#30340;&#33539;&#22260;&#24191;&#65289;
[:cntrl:] &#19981;&#21487;&#25171;&#21360;&#30340;&#25511;&#21046;&#23383;&#31526;&#65288;&#36864;&#26684;&#12289;&#21024;&#38500;&#12289;&#35686;&#38083;...&#65289;
[:digit:] &#21313;&#36827;&#21046;&#25968;&#23383;
[:xdigit:]&#21313;&#20845;&#36827;&#21046;&#25968;&#23383;
[:graph:] &#21487;&#25171;&#21360;&#30340;&#38750;&#31354;&#30333;&#23383;&#31526;
[:print:] &#21487;&#25171;&#21360;&#23383;&#31526;
[:punct:] &#26631;&#28857;&#31526;&#21495;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:854abb7a-70e0-4f7b-8ff3-11a8d100410f" class="outline-4">
<h4 id="h:854abb7a-70e0-4f7b-8ff3-11a8d100410f">æ¬¡æ•°åŒ¹é…</h4>
<div class="outline-text-4" id="text-h:854abb7a-70e0-4f7b-8ff3-11a8d100410f">
<p>
ç”¨åœ¨è¦æŒ‡å®šæ¬¡æ•°çš„å­—ç¬¦åé¢ï¼Œç”¨äºæŒ‡å®šå‰é¢çš„å­—ç¬¦è¦å‡ºç°çš„æ¬¡æ•°
</p>

<p>
åŸºæœ¬æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh">* &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#20219;&#24847;&#27425;&#65292;&#21253;&#25324;0&#27425;&#65292;&#36138;&#23146;&#27169;&#24335;&#65306;&#23613;&#21487;&#33021;&#38271;&#30340;&#21305;&#37197;
<span style="color: #483d8b;">.</span>* &#20219;&#24847;&#38271;&#24230;&#30340;&#20219;&#24847;&#23383;&#31526;
<span style="color: #8b2252;">\?</span> &#21305;&#37197;&#20854;&#21069;&#38754;&#30340;&#23383;&#31526;0&#25110;1&#27425;,&#21363;:&#21487;&#26377;&#21487;&#26080;
<span style="color: #8b2252;">\+</span> &#21305;&#37197;&#20854;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#23569;1&#27425;,&#21363;:&#32943;&#23450;&#26377;&#65292;&gt;=1
<span style="color: #8b2252;">\{</span>n<span style="color: #8b2252;">\}</span> &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;n&#27425;
<span style="color: #8b2252;">\{</span>m,n<span style="color: #8b2252;">\}</span> &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#23569;m&#27425;&#65292;&#33267;&#22810;n&#27425;
<span style="color: #8b2252;">\{</span>,n<span style="color: #8b2252;">\}</span> &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#22810;n&#27425;,&lt;=n
<span style="color: #8b2252;">\{</span>n,<span style="color: #8b2252;">\}</span> &#21305;&#37197;&#21069;&#38754;&#30340;&#23383;&#31526;&#33267;&#23569;n&#27425;
</pre>
</div>

<p>
æ‰©å±•æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh">*  &#21305;&#37197;&#21069;&#38754;&#23383;&#31526;&#20219;&#24847;&#27425;
? 0&#25110;1&#27425;
+ 1&#27425;&#25110;&#22810;&#27425;
{n} &#21305;&#37197;n&#27425;
{m,n} &#33267;&#23569;m&#65292;&#33267;&#22810;n&#27425;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6ec6141c-09a7-45ef-b286-8dc703db406b" class="outline-4">
<h4 id="h:6ec6141c-09a7-45ef-b286-8dc703db406b">ä½ç½®é”šå®š</h4>
<div class="outline-text-4" id="text-h:6ec6141c-09a7-45ef-b286-8dc703db406b">
<p>
ä½ç½®é”šå®šå¯ä»¥ç”¨äºå®šä½å‡ºç°çš„ä½ç½®
</p>

<p>
åŸºæœ¬æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh">a) &#22312;&#34892;&#30340;&#20301;&#32622;&#38170;&#23450;
^ : &#33073;&#23383;&#31526;&#65292;&#34892;&#39318;&#38170;&#23450;&#65307;&#29992;&#20110;&#27169;&#24335;&#30340;&#26368;&#24038;&#20391;&#65307;&#22914;&#65292;&#21305;&#37197;&#34892;&#39318;&#20986;&#29616;root&#65292;grep <span style="color: #8b2252;">'^root'</span>
$ : &#34892;&#23614;&#38170;&#23450;&#65307;&#29992;&#20110;&#27169;&#24335;&#30340;&#26368;&#21491;&#20391;&#65307;&#22914;&#65292;&#21305;&#37197;&#34892;&#23614;&#20986;&#29616;root&#65292;grep <span style="color: #8b2252;">'$root'</span>
^PATTERN$&#65306;&#29992;&#27169;&#24335;PATTERN&#26469;&#21305;&#37197;&#25972;&#34892;&#65307;&#22914;&#65292;&#21305;&#37197;&#25972;&#34892;&#21482;&#26377;root&#65292;grep <span style="color: #8b2252;">'^root$'</span>
    ^$ : &#31354;&#30333;&#34892;&#65307;
    ^[[:space:]]*$ : &#31354;&#34892;&#25110;&#21253;&#21547;&#31354;&#30333;&#23383;&#31526;&#30340;&#34892;&#65307;


b) &#22312;&#21333;&#35789;&#30340;&#20301;&#32622;&#38170;&#23450;
<span style="color: #8b2252;">\&lt;</span> &#25110; \b : &#35789;&#39318;&#38170;&#23450;&#65292;&#29992;&#20110;&#21333;&#35789;&#27169;&#24335;&#30340;&#24038;&#20391;&#65307;&#22914;&#65292;grep <span style="color: #8b2252;">"\&lt;word"</span>
<span style="color: #8b2252;">\&gt;</span> &#25110; \b : &#35789;&#23614;&#38170;&#23450;&#65292;&#29992;&#20110;&#21333;&#35789;&#27169;&#24335;&#30340;&#21491;&#20391;&#65307;&#22914;&#65292;grep <span style="color: #8b2252;">"word\&gt;"</span>
<span style="color: #8b2252;">\&lt;</span>PATTERN<span style="color: #8b2252;">\&gt;</span> : &#21305;&#37197;&#23436;&#25972;&#21333;&#35789;&#65307;&#31934;&#30830;&#38170;&#23450;&#21333;&#35789;&#65307;&#22914;&#65292;grep <span style="color: #8b2252;">"\&lt;word\&gt;</span>
</pre>
</div>

<p>
æ‰©å±•æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh">^ &#34892;&#39318;
$ &#34892;&#23614;
<span style="color: #8b2252;">\&lt;</span>, \b &#35821;&#39318;
<span style="color: #8b2252;">\&gt;</span>, \b &#35821;&#23614;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ’é™¤æ‰ç©ºè¡Œå’Œ#å¼€å¤´çš„è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep -v <span style="color: #8b2252;">'^$'</span> /etc/profile|grep -v <span style="color: #8b2252;">'^#'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ef494e68-e31c-43e3-98e7-e717d6da66bd" class="outline-4">
<h4 id="h:ef494e68-e31c-43e3-98e7-e717d6da66bd">åˆ†ç»„å…¶å®ƒ</h4>
<div class="outline-text-4" id="text-h:ef494e68-e31c-43e3-98e7-e717d6da66bd">
<p>
åˆ†ç»„ï¼š <code>()</code> å°†å¤šä¸ªå­—ç¬¦æ†ç»‘åœ¨ä¸€èµ·ï¼Œå½“ä½œä¸€ä¸ªæ•´ä½“å¤„ç†ï¼Œå¦‚ï¼š <code>(root)+</code>
</p>


<p>
åå‘å¼•ç”¨ï¼šåˆ†ç»„æ‹¬å·ä¸­çš„æ¨¡å¼åŒ¹é…åˆ°çš„å†…å®¹ä¼šè¢«æ­£åˆ™è¡¨è¾¾å¼å¼•æ“è®°å½•äºå†…éƒ¨çš„å˜
é‡ä¸­ï¼Œè¿™äº›å˜é‡çš„å‘½åæ–¹å¼ä¸º: <code>\1, \2, \3, ...</code>
</p>

<p>
\1 è¡¨ç¤ºä»å·¦ä¾§èµ·ç¬¬ä¸€ä¸ªå·¦æ‹¬å·ä»¥åŠä¸ä¹‹åŒ¹é…å³æ‹¬å·ä¹‹é—´çš„æ¨¡å¼æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦
</p>

<p>
æ³¨æ„ï¼š åå‘å¼•ç”¨å¼•ç”¨å‰é¢çš„åˆ†ç»„æ‹¬å·ä¸­çš„æ¨¡å¼æ‰€åŒ¹é…å­—ç¬¦ï¼Œè€Œéæ¨¡å¼æœ¬èº«
</p>

<p>
åŸºæœ¬æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">\(</span>string1<span style="color: #8b2252;">\(</span>string2<span style="color: #8b2252;">\)\)</span>
\1 &#65306;string1<span style="color: #8b2252;">\(</span>string2<span style="color: #8b2252;">\)</span>
\2 &#65306;string2


a<span style="color: #8b2252;">\|</span>b <span style="color: #b22222;">#</span><span style="color: #b22222;">a&#25110;b</span>
C<span style="color: #8b2252;">\|</span>cat <span style="color: #b22222;">#</span><span style="color: #b22222;">C&#25110;cat</span>
<span style="color: #8b2252;">\(</span>C<span style="color: #8b2252;">\|</span>c<span style="color: #8b2252;">\)</span>at <span style="color: #b22222;">#</span><span style="color: #b22222;">Cat&#25110;cat</span>
</pre>
</div>

<p>
æ‰©å±•æ­£åˆ™
</p>

<div class="org-src-container">
<pre class="src src-sh">() &#20998;&#32452;
&#21518;&#21521;&#24341;&#29992;&#65306;\1, \2, ...
| &#25110;&#32773;
a|b <span style="color: #b22222;">#</span><span style="color: #b22222;">a&#25110;b</span>
C|cat <span style="color: #b22222;">#</span><span style="color: #b22222;">C&#25110;cat</span>
(C|c)at <span style="color: #b22222;">#</span><span style="color: #b22222;">Cat&#25110;cat</span>
</pre>
</div>

<p>
vim æ‰©å±•æ¨¡å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">&#23558;rxxt&#21518;&#21152;&#19978;er  :%s#<span style="color: #8b2252;">\(</span>r..t<span style="color: #8b2252;">\)</span>#\1er#g
&#20445;&#30041;&#25991;&#20214;&#38750;#&#21495;&#24320;&#22836;&#30340;&#20854;&#23427;&#23383;&#31526;&#65306;
:%s/^#<span style="color: #8b2252;">\(</span><span style="color: #483d8b;">.</span>*<span style="color: #8b2252;">\)</span>/\1/g
&#25110;
:%s/^#//g
</pre>
</div>

<p>
æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹ 
</p>
<ul class="org-ul">
<li>æ˜¾ç¤ºä¸‰ä¸ªç”¨æˆ·root,cici,wangçš„UIDå’Œé»˜è®¤shell</li>
<li>æ‰¾å‡º/etc/rc.d/init.d/functionsæ–‡ä»¶ä¸­è¡Œé¦–ä¸ºæŸå•è¯(åŒ…æ‹¬ä¸‹åˆ’çº¿)åé¢è·Ÿä¸€ä¸ªå°æ‹¬å·çš„è¡Œ</li>
<li>ä½¿ç”¨egrepå–å‡º/etc/rc.d/init.d/functionsä¸­å…¶åŸºå</li>
<li>ä½¿ç”¨egrepå–å‡ºä¸Šé¢è·¯å¾„çš„ç›®å½•å</li>
<li>ç»Ÿè®¡lastå‘½ä»¤ä¸­ä»¥rootç™»å½•çš„æ¯ä¸ªä¸»æœºIPåœ°å€ç™»å½•æ¬¡æ•°</li>
<li>åˆ©ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼åˆ†åˆ«è¡¨ç¤º0-9ã€10-99ã€100-199ã€200-249ã€250-255</li>
<li>æ˜¾ç¤ºifconfigå‘½ä»¤ç»“æœä¸­æ‰€æœ‰IPv4åœ°å€</li>
<li>å°†æ­¤å­—ç¬¦ä¸²ï¼šwelcome to me linux ä¸­çš„æ¯ä¸ªå­—ç¬¦å»é‡å¹¶æ’åºï¼Œé‡å¤æ¬¡æ•°å¤šçš„
æ’åˆ°å‰é¢</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#25214;&#20986;/proc/meminfo&#25991;&#20214;&#20013;&#65292;&#25152;&#26377;&#20197;&#22823;&#20889;&#25110;&#23567;&#20889;S&#24320;&#22836;&#30340;&#34892;&#65307;&#33267;&#23569;&#26377;&#19977;&#31181;&#23454;&#29616;&#26041;&#24335;&#65307;
grep <span style="color: #8b2252;">"^[sS]"</span> /proc/meminfo
grep -i <span style="color: #8b2252;">"^s"</span> /proc/meminfo
grep -E <span style="color: #8b2252;">"^(s|S)"</span> /proc/meminfo
grep -E <span style="color: #8b2252;">"^s|^S"</span> /proc/meminfo

2&#12289;&#26174;&#31034;&#24403;&#21069;&#31995;&#32479;&#19978;root&#12289;centos&#25110;&#32773;user1&#29992;&#25143;&#30340;&#30456;&#20851;&#20449;&#24687;&#65307;
~]# grep -E <span style="color: #8b2252;">"^(root|centos|user1\&gt;)"</span> /etc/passwd

3&#12289;&#25214;&#20986;/etc/rc.d/init.d/functions&#25991;&#20214;&#20013;&#26576;&#21333;&#35789;&#21518;&#36319;&#19968;&#20010;&#23567;&#25324;&#21495;&#30340;&#34892;&#65307;
~]# grep -Eo <span style="color: #8b2252;">'[_[:alnum:]]+\(\)'</span> /etc/rc.d/init.d/functions
[_[:alnum:]] : &#34920;&#31034;&#38500;&#20102; alnum &#36824;&#22810;&#20102;&#19968;&#20010;&#23383;&#31526; _ &#19979;&#21010;&#32447;

[root@node01 ~]# grep -Eo  <span style="color: #8b2252;">"[_[:alnum:]]+\(\)"</span> /etc/init.d/functions
<span style="color: #0000ff;">checkpid</span>()
<span style="color: #0000ff;">__pids_pidof</span>()
<span style="color: #0000ff;">is_false</span>()
<span style="color: #0000ff;">apply_sysctl</span>()
... ...


4&#12289;&#20351;&#29992;echo&#21629;&#20196;&#36755;&#20986;&#19968;&#32477;&#23545;&#36335;&#24452;&#65292;&#20351;&#29992;egrep&#21462;&#20986;&#22522;&#21517;&#65307;
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"/root/ssf/erou/dfjl"</span> | egrep -o <span style="color: #8b2252;">"\&lt;[[:alpha:]]*\&gt;$"</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"/root/ssf/erou/dfjl"</span> | grep -Eo <span style="color: #8b2252;">"[^/]+/?$"</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#38170;&#23450;&#34892;&#23614;&#30340;&#38750;&#26012;&#32447;&#23383;&#31526;&#65292;&#34892;&#23614; / &#21487;&#26377;&#21487;&#26080;</span>

5&#12289;&#25214;&#20986;ifconfig&#21629;&#20196;&#32467;&#26524;&#20013;&#30340;1-255&#20043;&#38388;&#30340;&#25968;&#20540;&#65307;
ifconfig | grep -oE <span style="color: #8b2252;">"\&lt;([1-9] | [1-9][0-9] | 1[0-9]{2} | 2[0-4][0-9] | 25[0-5])\&gt;"</span>

6&#12289;&#35838;&#22806;&#20316;&#19994;&#65306;&#25214;&#20986;ifconfig&#21629;&#20196;&#32467;&#26524;&#20013;&#30340;IP&#22320;&#22336;&#65307;
[root@node01 ~]# ip -o -4 addr list ens33 | perl -n -e <span style="color: #8b2252;">'if (m{inet\s([\d\.]+)\/\d+\s}xms) { print $1 }'</span>
172.16.100.6


[root@node01 ~]# ifconfig  | grep -o <span style="color: #8b2252;">'\([0-9]\{1,3\}\.\)\{3\}[0-9]\{1,3\}'</span>
172.17.0.1
255.255.0.0
0.0.0.0
172.16.100.6
255.255.0.0
172.16.255.255
127.0.0.1
255.0.0.0
[root@node01 ~]# ifconfig | grep -o <span style="color: #8b2252;">'\b[0-9]\{1,3\}\b\.\b[0-9]\{1,3\}\b\.\b[0-9]\{1,3\}\b\.\b[0-9]\{1,3\}\b'</span>
172.17.0.1
255.255.0.0
0.0.0.0
172.16.100.6
255.255.0.0
172.16.255.255
127.0.0.1
255.0.0.0
[root@node01 ~]# ifconfig  | grep -Po <span style="color: #8b2252;">'(?&lt;=inet)(.*)(?=net)'</span>
172.17.0.1
172.16.100.6
127.0.0.1

7&#12289;&#28155;&#21152;&#29992;&#25143;bash, testbash, basher&#20197;&#21450;nologin(&#20854;shell&#20026;/sbin/nologin)&#65307;&#32780;&#21518;&#25214;&#20986;/etc/passwd&#25991;&#20214;&#20013;&#29992;&#25143;&#21517;&#21516;shell&#21517;&#30340;&#34892;&#65307;
~]# grep  -E  <span style="color: #8b2252;">"^([^:]+\&gt;).*\1$"</span>  /etc/passwd
</pre>
</div>

<p>
<b>20ä¸ªæ­£åˆ™è¡¨è¾¾å¼</b>
</p>

<p>
æ­£åˆ™è¡¨è¾¾å¼ç»å¸¸è¢«ç”¨äºå­—æ®µæˆ–ä»»æ„å­—ç¬¦ä¸²çš„æ ¡éªŒï¼Œå¦‚ä¸‹é¢è¿™æ®µæ ¡éªŒåŸºæœ¬æ—¥æœŸæ ¼å¼
çš„JavaScriptä»£ç ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">var reg = /^(<span style="color: #8b2252;">\\</span>d{1,4})(-|<span style="color: #8b2252;">\\</span>/)(<span style="color: #8b2252;">\\</span>d{1,2})<span style="color: #8b2252;">\\</span>2(<span style="color: #8b2252;">\\</span>d{1,2})$/;
var r = fieldValue.match(reg);
<span style="color: #a020f0;">if</span>(<span style="color: #a0522d;">r</span>==null)alert(<span style="color: #8b2252;">'Date format error!'</span>);
</pre>
</div>

<p>
ä¸‹é¢æ˜¯æŠ€åŒ æ•´ç†çš„ï¼Œåœ¨å‰ç«¯å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„20ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">1 . &#26657;&#39564;&#23494;&#30721;&#24378;&#24230;
&#23494;&#30721;&#30340;&#24378;&#24230;&#24517;&#39035;&#26159;&#21253;&#21547;&#22823;&#23567;&#20889;&#23383;&#27597;&#21644;&#25968;&#23383;&#30340;&#32452;&#21512;&#65292;&#19981;&#33021;&#20351;&#29992;&#29305;&#27530;&#23383;&#31526;&#65292;&#38271;&#24230;&#22312;8-10&#20043;&#38388;&#12290;
^(?=.*<span style="color: #8b2252;">\\</span>d)(?=.*[a-z])(?=.*[A-Z])<span style="color: #483d8b;">.</span>{8,10}$

2. &#26657;&#39564;&#20013;&#25991;
&#23383;&#31526;&#20018;&#20165;&#33021;&#26159;&#20013;&#25991;&#12290;
^[<span style="color: #8b2252;">\\</span>u4e00-<span style="color: #8b2252;">\\</span>u9fa5]{0,}$

3. &#30001;&#25968;&#23383;&#12289;26&#20010;&#33521;&#25991;&#23383;&#27597;&#25110;&#19979;&#21010;&#32447;&#32452;&#25104;&#30340;&#23383;&#31526;&#20018;
^<span style="color: #8b2252;">\\</span>w+$
4. &#26657;&#39564;E-Mail &#22320;&#22336;
&#21516;&#23494;&#30721;&#19968;&#26679;&#65292;&#19979;&#38754;&#26159;E-mail&#22320;&#22336;&#21512;&#35268;&#24615;&#30340;&#27491;&#21017;&#26816;&#26597;&#35821;&#21477;&#12290;
[<span style="color: #8b2252;">\\</span>w!#$%&amp;<span style="color: #8b2252;">'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;'</span>*+/=?^_<span style="color: #ff00ff;">`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?</span>

<span style="color: #ff00ff;">5. &#26657;&#39564;&#36523;&#20221;&#35777;&#21495;&#30721;</span>
<span style="color: #ff00ff;">&#19979;&#38754;&#26159;&#36523;&#20221;&#35777;&#21495;&#30721;&#30340;&#27491;&#21017;&#26657;&#39564;&#12290;15 &#25110; 18&#20301;&#12290;</span>
<span style="color: #ff00ff;">15&#20301;&#65306;</span>
<span style="color: #ff00ff;">^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$</span>
<span style="color: #ff00ff;">18&#20301;&#65306;</span>
<span style="color: #ff00ff;">^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$</span>

<span style="color: #ff00ff;">6. &#26657;&#39564;&#26085;&#26399;</span>
<span style="color: #ff00ff;">&#8220;yyyy-mm-dd&#8220; &#26684;&#24335;&#30340;&#26085;&#26399;&#26657;&#39564;&#65292;&#24050;&#32771;&#34385;&#24179;&#38384;&#24180;&#12290;</span>
<span style="color: #ff00ff;">^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$</span>

<span style="color: #ff00ff;">7. &#26657;&#39564;&#37329;&#39069;</span>
<span style="color: #ff00ff;">&#37329;&#39069;&#26657;&#39564;&#65292;&#31934;&#30830;&#21040;2&#20301;&#23567;&#25968;&#12290;</span>
<span style="color: #ff00ff;">^[0-9]+(.[0-9]{2})?$</span>

<span style="color: #ff00ff;">8. &#26657;&#39564;&#25163;&#26426;&#21495;</span>
<span style="color: #ff00ff;">&#19979;&#38754;&#26159;&#22269;&#20869; 13&#12289;15&#12289;18&#24320;&#22836;&#30340;&#25163;&#26426;&#21495;&#27491;&#21017;&#34920;&#36798;&#24335;&#12290;&#65288;&#21487;&#26681;&#25454;&#30446;&#21069;&#22269;&#20869;&#25910;&#38598;&#21495;&#25193;&#23637;&#21069;&#20004;&#20301;&#24320;&#22836;&#21495;&#30721;&#65289;</span>
<span style="color: #ff00ff;">^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$</span>

<span style="color: #ff00ff;">9. &#21028;&#26029;IE&#30340;&#29256;&#26412;</span>
<span style="color: #ff00ff;">IE&#30446;&#21069;&#36824;&#27809;&#34987;&#23436;&#20840;&#21462;&#20195;&#65292;&#24456;&#22810;&#39029;&#38754;&#36824;&#26159;&#38656;&#35201;&#20570;&#29256;&#26412;&#20860;&#23481;&#65292;&#19979;&#38754;&#26159;IE&#29256;&#26412;&#26816;&#26597;&#30340;&#34920;&#36798;&#24335;&#12290;</span>
<span style="color: #ff00ff;">^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$</span>

<span style="color: #ff00ff;">10. &#26657;&#39564;IP-v4&#22320;&#22336;</span>
<span style="color: #ff00ff;">IP4 &#27491;&#21017;&#35821;&#21477;&#12290;</span>
<span style="color: #ff00ff;">\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b</span>

<span style="color: #ff00ff;">11. &#26657;&#39564;IP-v6&#22320;&#22336;</span>
<span style="color: #ff00ff;">IP6 &#27491;&#21017;&#35821;&#21477;&#12290;</span>
<span style="color: #ff00ff;">(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))</span>

<span style="color: #ff00ff;">12. &#26816;&#26597;URL&#30340;&#21069;&#32512;</span>
<span style="color: #ff00ff;">&#24212;&#29992;&#24320;&#21457;&#20013;&#24456;&#22810;&#26102;&#20505;&#38656;&#35201;&#21306;&#20998;&#35831;&#27714;&#26159;HTTPS&#36824;&#26159;HTTP&#65292;&#36890;&#36807;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#21487;&#20197;&#21462;&#20986;&#19968;&#20010;url&#30340;&#21069;&#32512;&#28982;&#21518;&#20877;&#36923;&#36753;&#21028;&#26029;&#12290;</span>
<span style="color: #ff00ff;">if (!s.match(/^[a-zA-Z]+:\\/\\//))</span>
<span style="color: #ff00ff;">{</span>
<span style="color: #ff00ff;">    s = 'http://' + s;</span>
<span style="color: #ff00ff;">}</span>

<span style="color: #ff00ff;">13. &#25552;&#21462;URL&#38142;&#25509;</span>
<span style="color: #ff00ff;">&#19979;&#38754;&#30340;&#36825;&#20010;&#34920;&#36798;&#24335;&#21487;&#20197;&#31579;&#36873;&#20986;&#19968;&#27573;&#25991;&#26412;&#20013;&#30340;URL&#12290;</span>
<span style="color: #ff00ff;">^(f|ht){1}(tp|tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?</span>

<span style="color: #ff00ff;">14. &#25991;&#20214;&#36335;&#24452;&#21450;&#25193;&#23637;&#21517;&#26657;&#39564;</span>
<span style="color: #ff00ff;">&#39564;&#35777;windows&#19979;&#25991;&#20214;&#36335;&#24452;&#21644;&#25193;&#23637;&#21517;&#65288;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#20026;.txt&#25991;&#20214;&#65289;</span>
<span style="color: #ff00ff;">^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?"&lt;&gt;|]+\\.txt(l)?$</span>

<span style="color: #ff00ff;">15. &#25552;&#21462;Color Hex Codes</span>
<span style="color: #ff00ff;">&#26377;&#26102;&#38656;&#35201;&#25277;&#21462;&#32593;&#39029;&#20013;&#30340;&#39068;&#33394;&#20195;&#30721;&#65292;&#21487;&#20197;&#20351;&#29992;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#12290;</span>
<span style="color: #ff00ff;">^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$</span>

<span style="color: #ff00ff;">16. &#25552;&#21462;&#32593;&#39029;&#22270;&#29255;</span>
<span style="color: #ff00ff;">&#20551;&#33509;&#20320;&#24819;&#25552;&#21462;&#32593;&#39029;&#20013;&#25152;&#26377;&#22270;&#29255;&#20449;&#24687;&#65292;&#21487;&#20197;&#21033;&#29992;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#12290;</span>
<span style="color: #ff00ff;">\\&lt; *[img][^\\\\&gt;]*[src] *= *[\\"\\']{0,1}([^\\"\\'\\ &gt;]*)</span>

<span style="color: #ff00ff;">17. &#25552;&#21462;&#39029;&#38754;&#36229;&#38142;&#25509;</span>
<span style="color: #ff00ff;">&#25552;&#21462;html&#20013;&#30340;&#36229;&#38142;&#25509;&#12290;</span>
<span style="color: #ff00ff;">(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href="https?:\\/\\/)((?!(?:(?:www\\.)?'.implode('|(?:www\\.)?', $follow_list).'))[^"]+)"((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;</span>

<span style="color: #ff00ff;">18. &#26597;&#25214;CSS&#23646;&#24615;</span>
<span style="color: #ff00ff;">&#36890;&#36807;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#65292;&#21487;&#20197;&#25628;&#32034;&#21040;&#30456;&#21305;&#37197;&#30340;CSS&#23646;&#24615;&#12290;</span>
<span style="color: #ff00ff;">^\\s*[a-zA-Z\\-]+\\s*[:]{1}\\s[a-zA-Z0-9\\s.#]+[;]{1}</span>

<span style="color: #ff00ff;">19. &#25277;&#21462;&#27880;&#37322;</span>
<span style="color: #ff00ff;">&#22914;&#26524;&#20320;&#38656;&#35201;&#31227;&#38500;HMTL&#20013;&#30340;&#27880;&#37322;&#65292;&#21487;&#20197;&#20351;&#29992;&#22914;&#19979;&#30340;&#34920;&#36798;&#24335;&#12290;</span>
<span style="color: #ff00ff;">&lt;!--(.*?)--&gt;</span>

<span style="color: #ff00ff;">20. &#21305;&#37197;HTML&#26631;&#31614;</span>
<span style="color: #ff00ff;">&#36890;&#36807;&#19979;&#38754;&#30340;&#34920;&#36798;&#24335;&#21487;&#20197;&#21305;&#37197;&#20986;HTML&#20013;&#30340;&#26631;&#31614;&#23646;&#24615;&#12290;</span>
<span style="color: #ff00ff;">&lt;\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:".*?"|'.*?'|[\\^'"&gt;\\s]+))?)+\\s*|\\s*)\\/?&gt;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:a719b9e4-1ff3-48fe-b315-97331284c06b" class="outline-3">
<h3 id="h:a719b9e4-1ff3-48fe-b315-97331284c06b">Perlæ­£åˆ™è¡¨è¾¾å¼è¶…è¯¦ç»†æ•™ç¨‹</h3>
<div class="outline-text-3" id="text-h:a719b9e4-1ff3-48fe-b315-97331284c06b">
<p>
å…³äºåŸºç¡€æ­£åˆ™è¡¨è¾¾å¼çš„å†…å®¹è¯·çœ‹ä¸Šç¯‡ã€‚
</p>

<p>
åªä»‹ç»åŒ¹é…æ“ä½œï¼Œå…³äºå†…å®¹æ›¿æ¢ï¼Œå› ä¸ºå’Œå­¦ä¹ ä½¿ç”¨perlæ­£åˆ™å¹¶æ— å¤šå¤§å…³ç³»ã€‚
</p>

<p>
ä»¥ä¸‹æ˜¯perlæ­£åˆ™çš„manæ–‡æ¡£ï¼š
</p>

<ul class="org-ul">
<li>perlæ­£åˆ™å¿«é€Ÿå…¥é—¨ï¼šman perlrequick</li>
<li>perlæ­£åˆ™æ•™ç¨‹ï¼šman perlretut</li>
<li>perlæ­£åˆ™å®Œæ•´æ–‡æ¡£ï¼šman perlre</li>
</ul>
</div>
<div id="outline-container-h:5ad9bb01-d312-44bb-b782-d00186c02fae" class="outline-4">
<h4 id="h:5ad9bb01-d312-44bb-b782-d00186c02fae">å­¦perlæ­£åˆ™å¿…å¤‡çš„ä¸€ç‚¹åŸºæœ¬è¯­æ³•</h4>
<div class="outline-text-4" id="text-h:5ad9bb01-d312-44bb-b782-d00186c02fae">
<p>
æ–°å»ºä¸€ä¸ªæ–‡ä»¶ä½œä¸ºperlè„šæœ¬æ–‡ä»¶ï¼Œåœ¨å…¶é¦–è¡Œå†™ä¸Š <code>#!/usr/bin/perl</code> ï¼Œå®ƒè¡¨ç¤ºç”¨
perlä½œä¸ºæœ¬æ–‡ä»¶çš„è§£é‡Šå™¨ã€‚å†™å…¥ä¸€äº›perlç¨‹åºåï¼Œå†èµ‹äºˆæ‰§è¡Œæƒé™å°±å¯ä»¥æ‰§è¡Œäº†ï¼Œ
æˆ–è€…ç›´æ¥ä½¿ç”¨perlå‘½ä»¤å»è°ƒç”¨è¿™ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œå‰é¢çš„ä¸¤ä¸ªè¿‡ç¨‹éƒ½å¯ä»¥çœç•¥ï¼Œè¿™å’Œ
shellè„šæœ¬çš„æ–¹å¼æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ— éæ˜¯å°†bashæ›¿æ¢ä¸ºäº†perlï¼Œæƒ³å¿…å„ä½éƒ½ç†è§£ã€‚
</p>

<p>
<b>1.printç”¨æ¥è¾“å‡ºä¿¡æ¯</b> ï¼Œç›¸å½“äºshellä¸­çš„echoå‘½ä»¤ï¼Œä½†éœ€è¦æ‰‹åŠ¨è¾“å…¥æ¢è¡Œ
ç¬¦â€\nâ€œè¿›è¡Œæ¢è¡Œã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">!/usr/bin/</span><span style="color: #a020f0;">perl</span>

print <span style="color: #8b2252;">"hello world\n"</span>;      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27880;&#24847;&#27599;&#19968;&#21477;&#21518;&#38754;&#37117;&#20351;&#29992;&#20998;&#21495;&#32467;&#23614;</span>
</pre>
</div>

<p>
ä¿å­˜åï¼Œæ‰§è¡Œå®ƒ(å‡è®¾è„šæœ¬æ–‡ä»¶åä¸ºtest.pl)ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$ chmod +x test.pl
$ perl test.pl
</pre>
</div>

<p>
<b>2.å˜é‡èµ‹å€¼</b>
</p>

<p>
perlä¸­çš„å˜é‡å¯ä»¥ä¸ç”¨äº‹å…ˆå£°æ˜ï¼Œå¯ä»¥ç›´æ¥èµ‹å€¼ç”šè‡³ç›´æ¥å¼•ç”¨ã€‚æ³¨æ„å˜é‡åå‰é¢
æ€»æ˜¯éœ€è¦åŠ ä¸Š$ç¬¦å·ï¼Œæ— è®ºæ˜¯èµ‹å€¼çš„æ—¶å€™è¿˜æ˜¯å¼•ç”¨çš„æ—¶å€™ï¼Œè¿™å’Œå…¶å®ƒè¯­è¨€ä¸å¤ªä¸€
æ ·ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">!/usr/bin/</span><span style="color: #a020f0;">perl</span>

$<span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"xiaoming"</span>;
$<span style="color: #a0522d;">age</span>=18;
print <span style="color: #8b2252;">"$name $age \n"</span>;
</pre>
</div>

<p>
<b>3.ifè¯­å¥ç”¨æ¥åˆ¤æ–­</b> ï¼Œè¯­æ³•æ ¼å¼ä¸ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">if</span>(condition){
    body
}<span style="color: #a020f0;">else</span>{
    body
}
</pre>
</div>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">age</span> = 18;
<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">age</span> &lt;= 20){
    print <span style="color: #8b2252;">"age less than 20\n"</span>;
} <span style="color: #a020f0;">else</span> {
    print <span style="color: #8b2252;">"age greate than 20\n"</span>;
}
</pre>
</div>

<p>
<b>4.é»˜è®¤å‚æ•°å˜é‡</b>
</p>

<p>
åœ¨perlä¸­ï¼Œå¯¹äºéœ€è¦å‚æ•°çš„å‡½æ•°æˆ–è¡¨è¾¾å¼ï¼Œä½†å´æ²¡æœ‰ç»™å‚æ•°ï¼Œè¿™æ˜¯å°†ä¼šä½¿ç”¨perl
çš„é»˜è®¤å‚æ•°å˜é‡ <code>$_</code> ã€‚
</p>

<p>
ä¾‹å¦‚ï¼Œä¸‹é¢çš„printæœ¬æ¥æ˜¯éœ€è¦å‚æ•°çš„ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰ç»™å‚æ•°ï¼Œprintå°†è¾“å‡ºé»˜è®¤
çš„å‚æ•°å˜é‡ <code>$_</code> ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºâ€abcdeâ€ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">_</span>=<span style="color: #8b2252;">"abcde"</span>;
print ;
</pre>
</div>

<p>
perlä¸­ä½¿ç”¨ <code>$_</code> çš„åœ°æ–¹éå¸¸å¤šï¼Œåæ–‡è¿˜ä¼šå‡ºç°ï¼Œä¸è¿‡ç”¨åˆ°çš„æ—¶å€™æˆ‘ä¼šè§£é‡Šã€‚
</p>

<p>
<b>5.è¯»å–æ ‡å‡†è¾“å…¥</b>
</p>

<p>
perlä¸­ä½¿ç”¨ä¸€å¯¹å°–æ‹¬å·æ ¼å¼çš„ <code>&lt;STDIN&gt;</code> æ¥è¯»å–æ¥è‡ªéæ–‡ä»¶çš„æ ‡å‡†è¾“å…¥ï¼Œä¾‹å¦‚
æ¥è‡ªç®¡é“çš„æ•°æ®ï¼Œæ¥è‡ªè¾“å…¥é‡å®šå‘çš„æ•°æ®æˆ–è€…æ¥è‡ªé”®ç›˜çš„è¾“å…¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ
<code>&lt;STDIN&gt;</code> è¯»å–çš„è¾“å…¥ä¼šè‡ªå¸¦æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥printè¾“å‡ºçš„æ—¶å€™ä¸è¦åŠ ä¸Šé¢å¤–çš„æ¢
è¡Œç¬¦ã€‚
</p>

<p>
ä¾‹å¦‚ï¼Œåœ¨test.plæ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">!/usr/bin/</span><span style="color: #a020f0;">perl</span>

$<span style="color: #a0522d;">data</span>=&lt;STDIN&gt;;
print <span style="color: #8b2252;">"$data"</span>;
</pre>
</div>

<p>
ç„¶åç”¨ç®¡é“ä¼ é€’ä¸€è¡Œæ•°æ®ç»™perlç¨‹åºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"abcdefg"</span> | perl test.pl
</pre>
</div>

<p>
åªæ˜¯éœ€è¦æ³¨æ„ï¼Œå°† <code>&lt;STDIN&gt;</code> èµ‹å€¼ç»™å˜é‡æ—¶ï¼Œå°†åªèƒ½è¯»å–ä¸€è¡Œ(é‡åˆ°æ¢è¡Œç¬¦å°±ç»“
æŸè¯»å–)ã€‚ä¾‹å¦‚ä¸‹é¢çš„perlå°†è¯»å–ä¸äº†â€hijklmnâ€ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> -e <span style="color: #8b2252;">"abcdefg\nhijklmn"</span> | perl test.pl
</pre>
</div>

<p>
å¦‚æœæƒ³è¦è¯»å–å¤šè¡Œæ ‡å‡†è¾“å…¥ï¼Œå°±ä¸èƒ½å°†å…¶èµ‹å€¼ç»™å˜é‡ï¼Œè€Œæ˜¯ä½¿ç”¨foreachæ¥éå†
å„è¡Œ(æ­¤å¤„ä¸ä»‹ç»å…¶å®ƒæ–¹å¼)ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">foreach $<span style="color: #a0522d;">line</span> (&lt;STDIN&gt;){
    print <span style="color: #8b2252;">"$line"</span>;
}
</pre>
</div>

<p>
ä»¥ä¸Šå°±æ˜¯foreachçš„è¯­æ³•ï¼š
</p>

<ul class="org-ul">
<li>åœ†æ‹¬å·ä¸­çš„å†…å®¹æ˜¯å¾…éå†å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯”å¦‚ä¸Šé¢ç”¨ <code>&lt;STDIN&gt;</code> è¯»
å–çš„å¤šè¡Œæ•°æ®å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼›</li>
<li><code>$line</code> ç§°ä¸ºæ§åˆ¶å˜é‡ï¼Œforeachåœ¨æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­éƒ½ä¼šé€‰ä¸­ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å…ƒ
ç´ èµ‹å€¼ç»™ <code>$line</code> ï¼Œä¾‹å¦‚å°†è¯»å–çš„æ¯ä¸€è¡Œéƒ½èµ‹å€¼ç»™ <code>$line</code> ã€‚</li>
</ul>

<p>
å¯ä»¥çœç•¥ <code>$line</code> ï¼Œè¿™æ—¶å°±é‡‡ç”¨é»˜è®¤çš„å‚æ•°å˜é‡ <code>$_</code> ï¼Œæ‰€ä»¥ä»¥ä¸‹ä¸¤ä¸ªè¡¨è¾¾å¼
æ˜¯ç­‰ä»·çš„ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">foreach</span> (&lt;STDIN&gt;){
    print <span style="color: #8b2252;">"$_"</span>;
}

foreach $<span style="color: #a0522d;">_</span> (&lt;STDIN&gt;){
    print <span style="color: #8b2252;">"$_"</span>;
}
</pre>
</div>

<p>
<b>6.è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®</b>
</p>

<p>
æ­£åˆ™å¼ºå¤§çš„ç”¨å¤„å°±æ˜¯å¤„ç†æ–‡æœ¬æ•°æ®ï¼Œæ‰€ä»¥å¿…é¡»è¦è¯´æ˜perlå¦‚ä½•è¯»å–æ–‡ä»¶æ•°æ®æ¥åš
æ­£åˆ™åŒ¹é…ã€‚
</p>

<p>
æˆ‘ä»¬å¯ä»¥å°†æ–‡ä»¶ä½œä¸ºperlå‘½ä»¤è¡Œçš„å‚æ•°ï¼Œperlä¼šä½¿ç”¨ <code>&lt;&gt;</code> å»è¯»å–è¿™äº›æ–‡ä»¶ä¸­çš„å†…
å®¹ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">foreach</span> (&lt;&gt;){
    print <span style="color: #8b2252;">"$_"</span>;
}
</pre>
</div>

<p>
æ‰§è¡Œçš„æ—¶å€™ï¼Œåªè¦æŠŠæ–‡ä»¶ä½œä¸ºperlå‘½ä»¤æˆ–è„šæœ¬æ–‡ä»¶çš„å‚æ•°å³å¯ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">perl test.pl /etc/passwd
</pre>
</div>

<p>
<b>7.å»æ‰è¡Œå°¾åˆ†éš”ç¬¦</b>
</p>

<p>
ç”±äº <code>&lt;&gt;</code> å’Œ <code>&lt;STDIN&gt;</code> è¯»å–æ–‡ä»¶ã€è¯»å–æ ‡å‡†è¾“å…¥çš„æ—¶å€™æ€»æ˜¯è‡ªå¸¦æ¢è¡Œç¬¦ï¼Œå¾ˆ
å¤šæ—¶å€™è¿™ä¸ªè‡ªå¸¦çš„æ¢è¡Œç¬¦éƒ½ä¼šå¸¦æ¥æ ¼å¼é—®é¢˜ã€‚æ‰€ä»¥ï¼Œæœ‰å¿…è¦åœ¨æ¯æ¬¡è¯»å–æ•°æ®æ—¶å°†
è¡Œå°¾çš„æ¢è¡Œç¬¦å»æ‰ï¼Œä½¿ç”¨chompå³å¯ã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">foreach $<span style="color: #a0522d;">line</span> (&lt;STDIN&gt;) {
    chomp $<span style="color: #a0522d;">line</span>;
    print <span style="color: #8b2252;">"$line read\n"</span>;
}
</pre>
</div>

<p>
ä»¥ä¸‹æ˜¯æ‰§è¡Œç»“æœï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "xiaoming xiaohong" | perl 26.plx</span>
xiaoming xiaohong read
</pre>
</div>

<p>
å¦‚æœä¸Šé¢çš„ä¾‹å­ä¸­ä¸åŠ ä¸Šchompï¼Œé‚£ä¹ˆæ‰§è¡Œç»“æœå°†åƒä¸‹é¢ä¸€æ ·ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "xiaoming xiaohong" | perl 26.plx</span>
xiaoming xiaohong
 <span style="color: #483d8b;">read</span>
</pre>
</div>

<p>
æ˜¾ç„¶ï¼Œè¾“å‡ºæ ¼å¼å’Œprintè¯­å¥ä¸­æœŸå¾…çš„è¾“å‡ºæ ¼å¼ä¸ä¸€æ ·ã€‚
</p>

<p>
å‰é¢è¯´è¿‡ï¼Œå¯ä»¥çœç•¥ <code>$line</code> ï¼Œè®©å…¶ä½¿ç”¨é»˜è®¤çš„å‚æ•°å˜é‡ <code>$_</code> ï¼Œæ‰€ä»¥å¯ä»¥è¿™
æ ·è¯»å–æ¥è‡ªperlå‘½ä»¤è¡Œå‚æ•°æ–‡ä»¶çš„æ•°æ®ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">foreach</span> (&lt;&gt;) {
    chomp;
    print <span style="color: #8b2252;">"$_ read\n"</span>;
}
</pre>
</div>

<p>
<b>8.å‘½ä»¤è¡Œçš„æ“ä½œæ¨¡å¼</b>
</p>

<p>
å…¶å®å°±æ˜¯ä¸€è¡Œå¼ã€‚perlå‘½ä»¤è¡ŒåŠ ä¸Šâ€-eâ€é€‰é¡¹ï¼Œå°±èƒ½åœ¨perlå‘½ä»¤è¡Œä¸­ç›´æ¥å†™perl
è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-dart">echo "xiaohong" | perl -e '$name=&lt;STDIN&gt;;print $name;'
</pre>
</div>

<p>
å› ä¸ºperlæœ€ä¸ºäººæ‰€çŸ¥çš„å°±æ˜¯å®ƒåº”ç”¨äº†å„ç§ç¬¦å·çš„ç»„åˆï¼Œè®©äººçœ‹ç€æ€ªå¼‚æ— æ¯”ï¼Œè€Œè¿™
äº›ç¬¦å·æ”¾åœ¨å‘½ä»¤è¡Œä¸­å¾ˆå¯èƒ½ä¼šè¢«shellå…ˆè§£æï¼Œæ‰€ä»¥å¼ºçƒˆå»ºè®®â€-eâ€åè¡¨è¾¾å¼ä½¿
ç”¨å•å¼•å·åŒ…å›´ï¼Œè€Œä¸æ˜¯åŒå¼•å·ã€‚
</p>

<p>
æ›´å»ºè®®ï¼Œå¦‚æœå¯ä»¥ï¼Œä¸è¦ä½¿ç”¨perlå‘½ä»¤è¡Œçš„æ–¹å¼ï¼Œè°ƒè¯•èµ·æ¥å®¹æ˜“æ··ä¹±ã€‚
</p>
</div>
</div>
<div id="outline-container-h:e15f23e9-af42-4a89-9548-e65acaccd7af" class="outline-4">
<h4 id="h:e15f23e9-af42-4a89-9548-e65acaccd7af">perlå¦‚ä½•ä½¿ç”¨æ­£åˆ™è¿›è¡ŒåŒ¹é…</h4>
<div class="outline-text-4" id="text-h:e15f23e9-af42-4a89-9548-e65acaccd7af">
<p>
ä½¿ç”¨ <code>=~</code> ç¬¦å·è¡¨ç¤ºè¦ç”¨å³è¾¹çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹å·¦è¾¹çš„æ•°æ®è¿›è¡ŒåŒ¹é…ã€‚æ­£åˆ™è¡¨è¾¾å¼
çš„ä¹¦å†™æ–¹å¼ä¸º <code>m//</code> ã€‚å…³äº <code>m//</code> ï¼Œå…¶ä¸­æ–œçº¿å¯ä»¥æ›¿æ¢ä¸ºå…¶å®ƒç¬¦å·ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š
</p>

<ul class="org-ul">
<li>åŒæ–œçº¿å¯ä»¥æ›¿æ¢ä¸ºä»»æ„å…¶å®ƒå¯¹åº”ç¬¦å·ï¼Œä¾‹å¦‚å¯¹ç§°çš„æ‹¬å·ç±»ï¼Œ <code>m()</code> ï¼Œ <code>m{}</code>
ï¼Œç›¸åŒçš„æ ‡ç‚¹ç±»ï¼Œ <code>m!!</code> ï¼Œ <code>m%%</code> ç­‰ç­‰</li>
<li>åªæœ‰å½“mæ¨¡å¼é‡‡ç”¨åŒæ–œçº¿çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥må­—æ¯ï¼Œå³ <code>//</code> ç­‰ä»·äº <code>m//</code></li>
<li>å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸­å‡ºç°äº†å’Œåˆ†éš”ç¬¦ç›¸åŒçš„å­—ç¬¦ï¼Œå¯ä»¥è½¬ä¹‰è¡¨è¾¾å¼ä¸­çš„ç¬¦å·ï¼Œä½†
æ›´å»ºè®®æ¢åˆ†éš”ç¬¦ï¼Œä¾‹å¦‚ <code>/http:\/\//</code> è½¬æ¢æˆ <code>m%http://%</code></li>
</ul>

<p>
æ‰€ä»¥è¦åŒ¹é…å†…å®¹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š
</p>

<ul class="org-ul">
<li>æ–¹å¼ä¸€ï¼šä½¿ç”¨ <code>data =~ m/reg/</code> ï¼Œå¯ä»¥æ˜ç¡®æŒ‡å®šè¦å¯¹dataå¯¹åº”çš„å†…å®¹è¿›è¡Œæ­£
åˆ™åŒ¹é…</li>
<li>æ–¹å¼äºŒï¼šç›´æ¥ <code>/reg/</code> ï¼Œå› ä¸ºçœç•¥äº†å‚æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°å˜é‡ï¼Œå®ƒç­‰ä»·
äº <code>$_ =~ m/reg/</code> ï¼Œä¹Ÿå°±æ˜¯å¯¹ <code>$_</code> ä¿å­˜çš„å†…å®¹è¿›è¡Œæ­£åˆ™åŒ¹é…</li>
</ul>

<p>
perlä¸­åŒ¹é…æ“ä½œé»˜è®¤è¿”å›çš„æ˜¯åŒ¹é…æˆåŠŸä¸å¦ï¼ŒæˆåŠŸåˆ™è¿”å›çœŸï¼ŒåŒ¹é…ä¸æˆåŠŸåˆ™è¿”å›
å‡ã€‚ä½†æ˜¯å½“ä½¿ç”¨äº†å…¨å±€åŒ¹é…ä¿®é¥°ç¬¦ <code>g</code> ï¼Œåˆ™è¿”å›æœ¬æ¬¡åŒ¹é…æˆåŠŸçš„å†…å®¹ã€‚æ­¤å¤–ï¼Œ
perlæä¾›äº†ç‰¹æ®Šå˜é‡å…è®¸è®¿é—®åŒ¹é…åˆ°çš„å†…å®¹ï¼Œç”šè‡³åŒ¹é…å†…å®¹ä¹‹å‰çš„æ•°æ®ã€åŒ¹é…å†…
å®¹ä¹‹åçš„æ•°æ®éƒ½æä¾›äº†ç›¸å…³å˜é‡ä»¥ä¾¿è®¿é—®ã€‚è§ä¸‹é¢çš„ç¤ºä¾‹ã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<p>
<b>1.åŒ¹é…ç»™å®šå­—ç¬¦ä¸²å†…å®¹</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">name</span> = <span style="color: #8b2252;">"hello gaoxiaofang"</span>;
<span style="color: #a020f0;">if</span> ($<span style="color: #a0522d;">name</span> =~ m/gao/){
    print <span style="color: #8b2252;">"matched\n"</span>;
}
</pre>
</div>

<p>
æˆ–è€…ï¼Œç›´æ¥å°†å­—ç¬¦ä¸²æ‹¿æ¥åŒ¹é…ï¼š
</p>

<div class="org-src-container">
<pre class="src src-ini">"hello gaoxiaofang" =~ m/gao/;
</pre>
</div>

<p>
<b>2.åŒ¹é…æ¥è‡ªç®¡é“çš„æ¯ä¸€è¡Œå†…å®¹ï¼ŒåŒ¹é…æˆåŠŸçš„è¡Œåˆ™è¾“å‡º</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">foreach</span> (&lt;STDIN&gt;){
    chomp;
    <span style="color: #a020f0;">if</span> (/gao/){
        print <span style="color: #8b2252;">"$_ was matched 'gao'\n"</span>;
    }
}
</pre>
</div>

<p>
ä¸Šé¢ä½¿ç”¨äº†é»˜è®¤çš„å‚æ•°å˜é‡ <code>$_</code> ï¼Œå®ƒè¡¨ç¤ºforeachè¿­ä»£çš„æ¯ä¸€è¡Œæ•°æ®ï¼›ä¸Šé¢è¿˜
ç®€å†™çš„æ­£åˆ™åŒ¹é…æ–¹å¼ <code>/gao/</code> ï¼Œå®ƒç­‰ä»·äº <code>$_ =~ m/gao/</code> ã€‚
</p>

<p>
ä»¥ä¸‹æ˜¯æ‰§è¡Œç»“æœï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e "xiaoming gaoxiaofang" | perl 26.plx  </span>
xiaoming gaoxiaofang was matched <span style="color: #8b2252;">'gao'</span>
</pre>
</div>

<p>
<b>3.åŒ¹é…æ–‡ä»¶ä¸­æ¯è¡Œæ•°æ®</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">foreach</span> (&lt;&gt;){
    chomp;
    <span style="color: #a020f0;">if</span>(/gao/){
        print <span style="color: #8b2252;">"$_ was matched 'gao'\n"</span>;
    }
}
</pre>
</div>

<p>
<b>4.å¦‚æœæƒ³è¦è¾“å‡ºåŒ¹é…åˆ°çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹æ®Šå˜é‡ <code>$&amp;</code> æ¥å¼•ç”¨åŒ¹é…åˆ°çš„å†…å®¹ï¼Œ
è¿˜å¯ä»¥ä½¿ç”¨ <code>$`</code> å¼•ç”¨åŒ¹é…å‰é¢éƒ¨åˆ†çš„å†…å®¹ï¼Œ <code>$'</code> å¼•ç”¨åŒ¹é…åé¢éƒ¨åˆ†çš„å†…å®¹</b>
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-ini">aAbBcC =~ /bB/
</pre>
</div>

<p>
ç”±äºåŒ¹é…çš„å†…å®¹æ˜¯bBï¼ŒåŒ¹é…å†…å®¹ä¹‹å‰çš„éƒ¨åˆ†æ˜¯aAï¼ŒåŒ¹é…ä¹‹åçš„éƒ¨åˆ†æ˜¯cCï¼Œäºæ˜¯å¯
ä»¥çœ‹ä½œä¸‹é¢å¯¹åº”å…³ç³»ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">(aA)(bB)(cC)
 |    |   |
 $<span style="color: #ff00ff;">`   $&amp;  $'</span>
</pre>
</div>

<p>
ä»¥ä¸‹æ˜¯ä½¿ç”¨è¿™ä¸‰ä¸ªç‰¹æ®Šå˜é‡çš„ç¤ºä¾‹ï¼š
</p>

<pre class="example" id="org9895077">
$name="aAbBcC";
if($name =~ /bB/){
    print "pre match: $` \n";
    print "match: $&amp; \n";
    print "post match: $' \n";
}
</pre>

<p>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­£åˆ™ä¸­ä¸€èˆ¬éƒ½æä¾›å…¨å±€åŒ¹é…çš„åŠŸèƒ½ï¼Œperlä¸­ä½¿ç”¨ä¿®é¥°ç¬¦ <code>/g</code> å¼€å¯ã€‚
å½“å¼€å¯äº†å…¨å±€åŒ¹é…åŠŸèƒ½ï¼Œè¿™3ä¸ªå˜é‡ä¿å­˜çš„å€¼éœ€è¦ä½¿ç”¨å¾ªç¯è¯­å¥å»éå†ï¼Œå¦åˆ™å°†
åªä¿å­˜ç¬¬ä¸€æ¬¡åŒ¹é…çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"aAbBcCbB"</span>;
<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">name</span> =~ /bB/g){        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#23436;&#31532;&#19968;&#20010;bB&#23601;&#32467;&#26463;</span>
    print <span style="color: #8b2252;">"pre match: $` \n";</span>
<span style="color: #8b2252;">    print "match: $&amp; \n";</span>
<span style="color: #8b2252;">    print "post match: $' \n";</span>
<span style="color: #8b2252;">}</span>

<span style="color: #8b2252;">while($name =~ /bB/g){   # &#23558;&#36845;&#20195;&#20004;&#27425;</span>
<span style="color: #8b2252;">    print "pre match: $` \n";</span>
<span style="color: #8b2252;">    print "match: $&amp; \n";</span>
<span style="color: #8b2252;">    print "post match: $' \n";</span>
<span style="color: #8b2252;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:dd69c6c9-dc51-407c-ac10-52fe697a2aef" class="outline-4">
<h4 id="h:dd69c6c9-dc51-407c-ac10-52fe697a2aef">perlæ”¯æŒçš„æ­£åˆ™</h4>
<div class="outline-text-4" id="text-h:dd69c6c9-dc51-407c-ac10-52fe697a2aef">
<p>
ä»è¿™é‡Œå¼€å§‹ï¼Œæ­£å¼ä»‹ç»perlæ”¯æŒçš„æ­£åˆ™ã€‚
</p>

<p>
å‡ºäºæ–¹ä¾¿ï¼Œæˆ‘å…¨éƒ¨éƒ½ç›´æ¥åœ¨perlç¨‹åºå†…éƒ¨å®šä¹‰å¾…åŒ¹é…çš„å†…å®¹ï¼Œå¦‚æœæƒ³è¦åŒ¹é…ç®¡é“
ä¼ é€’çš„è¾“å…¥ï¼Œæˆ–è€…åŒ¹é…æ–‡ä»¶æ•°æ®ï¼Œè¯·çœ‹ä¸Šæ–‡è·å–æ“ä½œæ–¹æ³•ã€‚
</p>

<p>
ä¸ºäº†å®Œæ•´æ€§ï¼Œæ¯ä¸€èŠ‚ä¸­æˆ‘éƒ½æ˜¯å…ˆæŠŠä¸€å¤§å †çš„å†…å®¹åˆ—å‡ºæ¥åšä¸ªç®€å•ä»‹ç»ï¼Œç„¶åå†ç”¨
ç¤ºä¾‹è§£é‡Šæ¯ä¸ª(æˆ–æŸå‡ ä¸ª)ã€‚ä½†perlæ­£åˆ™çš„å†…å®¹å¤ªå¤šï¼Œè€Œä¸”å¾ˆå¤šåŠŸèƒ½å‰åå…³è”ï¼Œæ‰€
ä»¥å¦‚æœåˆ—å‡ºæ¥çš„å†…å®¹æ²¡æœ‰åœ¨åŒä¸€å°èŠ‚å†…ä»‹ç»ï¼Œé‚£ä¹ˆå°±æ˜¯åœ¨åé¢éœ€è¦çš„åœ°æ–¹ä»‹ç»ã€‚
å½“ç„¶ï¼Œä¹Ÿæœ‰äº›æ²¡ä»€ä¹ˆç”¨æˆ–è€…ç”¨çš„å¾ˆå°‘çš„åŠŸèƒ½(æ¯”å¦‚unicodeç›¸å…³çš„)ï¼Œé€šç¯‡éƒ½ä¸ä¼š
ä»‹ç»ã€‚
</p>
</div>
<div id="outline-container-h:63ae938d-961f-4255-8f27-2d154fcd12be" class="outline-5">
<h5 id="h:63ae938d-961f-4255-8f27-2d154fcd12be">æ¨¡å¼åŒ¹é…ä¿®é¥°ç¬¦</h5>
<div class="outline-text-5" id="text-h:63ae938d-961f-4255-8f27-2d154fcd12be">
<p>
æŒ‡å®šæ¨¡å¼åŒ¹é…çš„ä¿®é¥°ç¬¦ï¼Œå¯ä»¥æ”¹å˜æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„iå°±æ˜¯
ä¸€ç§ä¿®é¥°ç¬¦ï¼Œå®ƒè®©å‰é¢çš„æ­£åˆ™REGåŒ¹é…æ—¶å¿½ç•¥å¤§å°å†™ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">m/REG/i
</pre>
</div>

<p>
perlæ€»å…±æ”¯æŒä»¥ä¸‹å‡ ç§ä¿®é¥°ç¬¦ï¼šmsixpodualngc
</p>

<div class="org-src-container">
<pre class="src src-sh">i&#65306;&#21305;&#37197;&#26102;&#24573;&#30053;&#22823;&#23567;&#20889;
g&#65306;&#20840;&#23616;&#21305;&#37197;&#65292;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#27491;&#21017;&#34920;&#36798;&#24335;<span style="color: #8b2252;">"abc"</span>&#21305;&#37197;<span style="color: #8b2252;">"abcdabc"</span>&#23383;&#31526;&#20018;&#30340;&#26102;&#20505;&#65292;&#23558;&#20043;&#21305;&#37197;&#24038;&#36793;&#30340;abc&#65292;&#20351;&#29992;g&#23558;&#21305;&#37197;&#20004;&#20010;<span style="color: #8b2252;">"abc"</span>
c&#65306;&#22312;&#24320;&#21551;g&#30340;&#24773;&#20917;&#19979;&#65292;&#22914;&#26524;&#21305;&#37197;&#22833;&#36133;&#65292;&#23558;&#19981;&#37325;&#32622;&#25628;&#32034;&#20301;&#32622;
m&#65306;&#22810;&#34892;&#21305;&#37197;&#27169;&#24335;
s&#65306;&#35753;.&#21487;&#20197;&#21305;&#37197;&#25442;&#34892;&#31526;<span style="color: #8b2252;">"\n"</span>&#65292;&#20063;&#23601;&#26159;&#35828;&#35813;&#20462;&#39280;&#31526;&#35753;.&#30495;&#30340;&#21487;&#20197;&#21305;&#37197;&#20219;&#24847;&#23383;&#31526;
x&#65306;&#20801;&#35768;&#27491;&#21017;&#34920;&#36798;&#24335;&#20351;&#29992;&#31354;&#30333;&#31526;&#21495;&#65292;&#20813;&#24471;&#35753;&#25972;&#20010;&#34920;&#36798;&#24335;&#38590;&#35835;&#38590;&#25026;&#65292;&#20294;&#36825;&#26679;&#20250;&#35753;&#21407;&#26412;&#30340;&#31354;&#30333;&#31526;&#21495;&#22833;&#21435;&#24847;&#20041;&#65292;&#36825;&#26159;&#21487;&#20197;&#20351;&#29992;\s&#26469;&#34920;&#31034;&#31354;&#30333;
o&#65306;&#21482;&#32534;&#35793;&#19968;&#27425;&#27491;&#21017;&#34920;&#36798;&#24335;
n&#65306;&#38750;&#25429;&#33719;&#27169;&#24335;
p&#65306;&#20445;&#23384;&#21305;&#37197;&#30340;&#23383;&#31526;&#20018;&#21040;${^PREMATCH}&#12289;${^MATCH}&#12289;${^POSTMATCH}&#20013;&#65292;&#23427;&#20204;&#22312;&#32467;&#26524;&#19978;&#23545;&#24212;$<span style="color: #ff00ff;">`&#12289;$&amp;&#21644;$'&#65292;&#20294;&#24615;&#33021;&#19978;&#35201;&#26356;&#22909;</span>
<span style="color: #ff00ff;">a&#21644;u&#21644;l&#65306;&#20998;&#21035;&#34920;&#31034;&#29992;ASCII&#12289;Unicode&#21644;Locale&#30340;&#26041;&#24335;&#26469;&#35299;&#37322;&#27491;&#21017;&#34920;&#36798;&#24335;&#65292;&#19968;&#33324;&#19981;&#29992;&#32771;&#34385;&#36825;&#20960;&#20010;&#20462;&#39280;&#31526;</span>
<span style="color: #ff00ff;">d&#65306;&#20351;&#29992;unicode&#25110;&#21407;&#29983;&#23383;&#31526;&#38598;&#65292;&#23601;&#20687;5.12&#21644;&#20043;&#21069;&#37027;&#26679;&#65292;&#20063;&#19981;&#29992;&#32771;&#34385;&#36825;&#20010;&#20462;&#39280;&#31526;</span>
</pre>
</div>

<p>
è¿™äº›ä¿®é¥°ç¬¦å¯ä»¥è¿ç”¨ï¼Œè¿ç”¨æ—¶é¡ºåºå¯éšæ„ã€‚ä¾‹å¦‚ä¸‹é¢ä¸¤è¡Œæ˜¯ç­‰ä»·çš„è¡Œä¸ºï¼šå…¨å±€å¿½
ç•¥å¤§å°å†™çš„åŒ¹é…è¡Œä¸ºã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">m/REG/ig
m/REG/gi
</pre>
</div>

<p>
ä¸Šé¢çš„ä¿®é¥°ç¬¦ï¼Œæœ¬èŠ‚ä»‹ç»igcmsxpoè¿™å‡ ä¸ªä¿®é¥°ç¬¦ï¼Œnä¿®é¥°ç¬¦åœ¨åé¢åˆ†ç»„æ•è·çš„åœ°
æ–¹è§£é‡Šï¼Œauldä¿®é¥°ç¬¦å’Œå­—ç¬¦é›†ç›¸å…³ï¼Œä¸æ‰“ç®—è§£é‡Šã€‚
</p>

<p>
<b>iä¿®é¥°ç¬¦ï¼šå¿½ç•¥å¤§å°å†™</b>
</p>

<p>
è¯¥ä¿®é¥°ç¬¦ä½¿å¾—æ­£åˆ™åŒ¹é…çš„æ—¶å€™ï¼Œå¿½ç•¥å¤§å°å†™ã€‚
</p>

<pre class="example" id="org47445bb">
$name="aAbBcC";
if($name =~ m/ab/i){
    print "pre match: $` \n";     # è¾“å‡ºa
    print "match: $&amp; \n";         # è¾“å‡ºAb
    print "post match: $' \n";    # è¾“å‡ºBcC
}
</pre>

<p>
â€‹<b>gå’Œcä¿®é¥°ç¬¦ä»¥åŠ\G</b>
</p>

<p>
gä¿®é¥°ç¬¦(global)ä½¿å¾—æ­£åˆ™åŒ¹é…çš„æ—¶å€™ï¼Œå¯¹å­—ç¬¦ä¸²åšå…¨å±€åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿
å‰é¢åŒ¹é…æˆåŠŸäº†ï¼Œè¿˜ä¼šç»§ç»­å‘ååŒ¹é…ï¼Œçœ‹æ˜¯å¦è¿˜èƒ½åŒ¹é…æˆåŠŸã€‚
</p>

<p>
ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²â€abcabcâ€ï¼Œæ­£åˆ™è¡¨è¾¾å¼â€abâ€ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹(ä¸æ˜¯å…¨å±€åŒ¹é…)è¯¥
æ­£åˆ™åœ¨åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªabåå°±ç»“æŸäº†ï¼Œå¦‚æœä½¿ç”¨äº†gä¿®é¥°ç¬¦ï¼ŒåŒ¹é…å®Œç¬¬ä¸€ä¸ªabï¼Œè¿˜
ä¼šç»§ç»­å‘ååŒ¹é…ï¼Œè€Œä¸”æ­£å¥½è¿˜èƒ½åŒ¹é…åˆ°ç¬¬äºŒä¸ªabï¼Œæ‰€ä»¥æœ€ç»ˆæœ‰ä¸¤ä¸ªabè¢«åŒ¹é…æˆåŠŸã€‚
</p>

<p>
è¦éªŒè¯å¤šæ¬¡åŒ¹é…ï¼Œéœ€è¦ä½¿ç”¨å¾ªç¯éå†çš„æ–¹å¼ï¼Œè€Œä¸èƒ½ç”¨ifè¯­å¥ï¼š
</p>

<pre class="example" id="org5529625">
$name="aAbBcCaBc";
while($name =~ m/ab/gi){
    print "pre match: $` \n";
    print "match: $&amp; \n";
    print "post match: $' \n";
}
</pre>


<p>
æ‰§è¡Œå®ƒï¼Œå°†è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">pre match: a 
match: Ab 
post match: BcCaBc 
pre match: aAbBcC 
match: aB 
post match: c 
</pre>
</div>

<p>
ä»¥ä¸‹å†…å®¹ï¼Œå¦‚æœä»…ä»…åªæ˜¯ä¸ºäº†å­¦perlæ­£åˆ™ï¼Œé‚£ä¹ˆå¯ä»¥è·³è¿‡ï¼Œå› ä¸ºå¾ˆéš¾ï¼Œå¦‚æœæ˜¯å­¦
perlè¯­è¨€ï¼Œé‚£ä¹ˆå¯ä»¥ç»§ç»­çœ‹ä¸‹å»ã€‚
</p>

<p>
å®é™…ä¸Šï¼Œ <b>åœ¨å¼€å¯äº†gå…¨å±€åŒ¹é…å</b> ï¼Œperlæ¯æ¬¡åœ¨ <b>æˆåŠŸåŒ¹é…</b> çš„æ—¶å€™éƒ½ä¼šè®°ä¸‹
åŒ¹é…çš„å­—ç¬¦ä½ç§»ï¼Œä»¥ä¾¿åœ¨ä¸‹æ¬¡åŒ¹é…è¯¥å†…å®¹æ—¶å€™ï¼Œå¯ä»¥ä»æŒ‡å®šä½ç§»å¤„ç»§ç»­å‘ååŒ¹é…ã€‚
æ¯æ¬¡ <b>åŒ¹é…æˆåŠŸå</b> çš„ä½ç§»å€¼(posçš„ä½ç§»ä»0å¼€å§‹ç®—ï¼Œ0ä½ç§»ä»£è¡¨çš„æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦
å·¦è¾¹çš„ä½ç½®)ï¼Œéƒ½å¯ä»¥é€šè¿‡pos()å‡½æ•°è·å–ã€‚å¦‚æœæœ¬æ¬¡åŒ¹é…å¯¼è‡´ä½ç§»æŒ‡é’ˆé‡ç½®ï¼Œ
poså°†è¿”å›undefã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"123ab456"</span>;
$<span style="color: #a0522d;">name</span> =~ m/\d\d/g;     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#31532;&#19968;&#27425;&#21305;&#37197;&#65292;&#21305;&#37197;&#25104;&#21151;&#21518;&#35760;&#19979;&#20301;&#31227;</span>
print <span style="color: #8b2252;">"matched string: $&amp;, position: "</span>,pos $<span style="color: #a0522d;">name</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">name</span> =~ m/\d\d/g;     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#31532;&#20108;&#27425;&#21305;&#37197;&#65292;&#21305;&#37197;&#25104;&#21151;&#21518;&#35760;&#19979;&#20301;&#31227;</span>
print <span style="color: #8b2252;">"matched string: $&amp;, position: "</span>,pos $<span style="color: #a0522d;">name</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
æ‰§è¡Œå®ƒï¼Œå°†è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched string: 12, position: 2
matched string: 45, position: 7
</pre>
</div>

<p>
ç”±äºåŒ¹é…å¤±è´¥çš„æ—¶å€™ï¼Œæ­£åˆ™åŒ¹é…æ“ä½œä¼šè¿”å›å‡ï¼Œæ‰€ä»¥å¯ä»¥ä½œä¸ºifæˆ–whileç­‰çš„æ¡
ä»¶è¯­å¥ã€‚ä¾‹å¦‚ï¼Œæ”¹ä¸ºwhileå¾ªç¯å¤šæ¬¡åŒ¹é…ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"123ab456"</span>;
<span style="color: #a020f0;">while</span>($<span style="color: #a0522d;">name</span> =~ m/\d\d/g){
    print <span style="color: #8b2252;">"matched string: $&amp;, position: "</span>,pos $<span style="color: #a0522d;">name</span>,<span style="color: #8b2252;">"\n"</span>;
}
</pre>
</div>

<p>
é»˜è®¤å…¨å±€åŒ¹é…æƒ…å†µä¸‹ï¼Œå½“æœ¬æ¬¡åŒ¹é…å¤±è´¥ï¼Œä½ç§»æŒ‡é’ˆå°†é‡ç½®åˆ°èµ·å§‹ä½ç½®0å¤„ï¼Œä¹Ÿå°±
æ˜¯è¯´ï¼Œä¸‹æ¬¡åŒ¹é…å°†ä»å¤´å¼€å§‹åŒ¹é…ã€‚ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234a56"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65306;12&#65292;&#20301;&#31227;&#21521;&#21518;&#31227;&#20004;&#20301;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65306;34&#65292;&#20301;&#31227;&#21521;&#21518;&#31227;&#20004;&#20301;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d\d/g;      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;&#65292;&#20301;&#31227;&#25351;&#38024;&#22238;&#21040;0&#22788;&#65292;pos()&#36820;&#22238;undef</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d/g;          <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65306;1&#65292;&#20301;&#31227;&#21521;&#21518;&#31227;1&#20301;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
æ‰§è¡Œä¸Šè¿°ç¨‹åºï¼Œå°†è¾“å‡ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched 12: 2
matched 34: 4
matched 34: 
matched 1: 1
</pre>
</div>

<p>
å¦‚æœâ€gâ€ä¿®é¥°ç¬¦ä¸‹åŒæ—¶ä½¿ç”¨â€câ€ä¿®é¥°ç¬¦ï¼Œä¹Ÿå°±æ˜¯â€gcâ€ï¼Œå®ƒè¡¨ç¤ºå…¨å±€åŒ¹é…å¤±è´¥
çš„æ—¶å€™ä¸é‡ç½®ä½ç§»æŒ‡é’ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬æ¬¡åŒ¹é…å¤±è´¥åï¼Œä½ç§»æŒ‡é’ˆä¼šå¡åœ¨åŸå¤„ä¸åŠ¨ï¼Œ
ä¸‹æ¬¡åŒ¹é…å°†ä»è¿™ä¸ªä½ç½®å¤„å¼€å§‹åŒ¹é…ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234a56"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d\d/gc;   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;&#65292;$&amp;&#21644;pos()&#20445;&#30041;&#19978;&#19968;&#27425;&#21305;&#37197;&#25104;&#21151;&#30340;&#20869;&#23481;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d/g;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65306;5</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d/g;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65306;6</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d/gc;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
æ‰§è¡Œä¸Šè¿°ç¨‹åºï¼Œå°†è¾“å‡ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched 12: 2
matched 34: 4
matched 34: 4
matched 5: 6
matched 6: 7
matched 6: 7
</pre>
</div>

<p>
ç»§ç»­ä¸Šé¢çš„é—®é¢˜ï¼Œå¦‚æœç¬¬ä¸‰ä¸ªåŒ¹é…è¯­å¥ä¸æ˜¯ <code>\d\d\d</code> ï¼Œè€Œæ˜¯â€\d"ï¼Œå®ƒåŒ¹é…å­—æ¯a
çš„æ—¶å€™ä¹Ÿå¤±è´¥ï¼Œä¸ç”¨cä¿®é¥°ç¬¦çš„æ—¶å€™ä¼šé‡ç½®ä½ç§»å—ï¼Ÿæ˜¾ç„¶æ˜¯ä¸ä¼šã€‚å› ä¸ºå®ƒä¼šç»§ç»­
å‘ååŒ¹é…ã€‚æ‰€ä»¥è¯¥ <code>\G</code> ç™»åœºäº†ã€‚
</p>

<p>
é»˜è®¤å…¨å±€åŒ¹é…æƒ…å†µä¸‹ï¼ŒåŒ¹é…æ—¶æ˜¯å¯ä»¥è·³è¿‡åŒ¹é…å¤±è´¥çš„å­—ç¬¦ç»§ç»­åŒ¹é…çš„ï¼šå½“æŸä¸ªå­—
ç¬¦åŒ¹é…å¤±è´¥ï¼Œå®ƒä¼šåç§»ä¸€ä½ç»§ç»­å»åŒ¹é…ï¼Œç›´åˆ°åŒ¹é…æˆåŠŸæˆ–åŒ¹é…ç»“æŸã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234ab56"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d/g;       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#23383;&#27597;a&#21305;&#37197;&#22833;&#36133;&#65292;&#21518;&#31227;&#19968;&#20301;&#65292;&#23383;&#27597;b&#21305;&#37197;&#22833;&#36133;&#65292;&#21518;&#31227;&#19968;&#20301;&#65292;&#25968;&#20540;5&#21305;&#37197;&#25104;&#21151;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d/g;       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25968;&#20540;6&#21305;&#37197;&#25104;&#21151;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
æ‰§è¡Œä¸Šè¿°ç¨‹åºï¼Œå°†è¾“å‡ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched 12: 2
matched 34: 4
matched 5: 7
matched 6: 8
</pre>
</div>

<p>
å¯ä»¥æŒ‡å®š <code>\G</code> ï¼Œä½¿å¾—æœ¬æ¬¡åŒ¹é…å¼ºåˆ¶ä»ä½ç§»å¤„è¿›è¡ŒåŒ¹é…ï¼Œä¸å…è®¸è·³è¿‡ä»»ä½•åŒ¹é…å¤±è´¥çš„å­—ç¬¦ã€‚
</p>

<ul class="org-ul">
<li>å¦‚æœæœ¬æ¬¡ <code>\G</code> å…¨å±€åŒ¹é…æˆåŠŸï¼Œä½ç§»æŒ‡é’ˆè‡ªç„¶ä¼šåç§»</li>
<li>å¦‚æœæœ¬æ¬¡ <code>\G</code> å…¨å±€åŒ¹é…å¤±è´¥ï¼Œä¸”æ²¡æœ‰åŠ ä¸Šcä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆä½ç§»æŒ‡é’ˆå°†é‡ç½®</li>
<li>å¦‚æœæœ¬æ¬¡ <code>\G</code> å…¨å±€åŒ¹é…å¤±è´¥ï¼Œä¸”åŠ ä¸Šäº†cä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆä½ç§»æŒ‡é’ˆå°†å¡åœ¨é‚£ä¸åŠ¨</li>
</ul>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234ab56"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\G\d/g;     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#24378;&#21046;&#20174;&#20301;&#31227;4&#24320;&#22987;&#21305;&#37197;&#65292;&#26080;&#27861;&#21305;&#37197;&#23383;&#27597;a&#65292;&#20294;&#21448;&#19981;&#20801;&#35768;&#36339;&#36807;</span>
                     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25152;&#20197;&#26412;&#27425;\G&#20840;&#23616;&#21305;&#37197;&#22833;&#36133;&#65292;&#30001;&#20110;&#27809;&#26377;&#20462;&#39280;&#31526;c&#65292;&#25351;&#38024;&#37325;&#32622;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\G\d/g;     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25351;&#38024;&#22238;&#21040;0&#65292;&#24378;&#21046;&#20174;0&#22788;&#24320;&#22987;&#21305;&#37197;&#65292;&#25968;&#20540;1&#33021;&#21305;&#37197;&#25104;&#21151;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
ä»¥ä¸‹æ˜¯è¾“å‡ºå†…å®¹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched 12: 2
matched 34: 4
matched 34: 
matched 1: 1
</pre>
</div>

<p>
å¦‚æœå°†ä¸Šé¢ç¬¬ä¸‰ä¸ªåŒ¹é…è¯­å¥åŠ ä¸Šä¿®é¥°ç¬¦cï¼Œç”šè‡³åé¢çš„è¯­å¥ä¹Ÿéƒ½åŠ ä¸Š <code>\G</code> å’Œcä¿®é¥°
ç¬¦ï¼Œé‚£ä¹ˆä½ç§»æŒ‡é’ˆå°†å¡åœ¨é‚£ä¸ªä½ç½®ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234ab56"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\d\d/g;
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\G\d/gc;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;&#65292;&#25351;&#38024;&#21345;&#22312;&#21407;&#22320;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\G\d/gc;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;&#65292;&#25351;&#38024;&#32487;&#32493;&#21345;&#22312;&#21407;&#22320;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
$<span style="color: #a0522d;">txt</span> =~ /\G\d/gc;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;&#65292;&#25351;&#38024;&#32487;&#32493;&#21345;&#22312;&#21407;&#22320;</span>
print <span style="color: #8b2252;">"matched $&amp;: "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
ä»¥ä¸‹æ˜¯è¾“å‡ºç»“æœï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched 12: 2
matched 34: 4
matched 34: 4
matched 34: 4
matched 34: 4
</pre>
</div>

<p>
ä¸€èˆ¬æ¥è¯´ï¼Œå…¨å±€åŒ¹é…éƒ½ä¼šç”¨å¾ªç¯å»å¤šæ¬¡è¿­ä»£ï¼Œå’Œä¸Šé¢ä¸€æ¬¡ä¸€æ¬¡åˆ—å‡ºåŒ¹é…è¡¨è¾¾å¼ä¸
ä¸€æ ·ã€‚æ‰€ä»¥ï¼Œä¸‹é¢ä½¿ç”¨whileå¾ªç¯çš„ä¾‹å­æ¥å¯¹ <code>\G</code> å’Œcä¿®é¥°ç¬¦ç¨ä½œè§£é‡Šï¼Œå…¶å®ç†
è§£äº†ä¸Šé¢çš„å†…å®¹ï¼Œåœ¨å¾ªç¯ä¸­ä½¿ç”¨ <code>\G</code> å’Œcä¿®é¥°ç¬¦ä¹Ÿä¸€æ ·å¾ˆå®¹æ˜“ç†è§£ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234ab56"</span>;
<span style="color: #a020f0;">while</span>($<span style="color: #a0522d;">txt</span> =~ m/\G\d\d/gc){
    print <span style="color: #8b2252;">"matched: $&amp;, "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
}
</pre>
</div>

<p>
æ‰§è¡Œç»“æœï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">matched: 12, 2
matched: 34, 4
</pre>
</div>

<p>
å½“ç¬¬ä¸‰è½®å¾ªç¯åŒ¹é…åˆ°aå­—æ¯çš„æ—¶å€™ï¼Œç”±äºä½¿ç”¨äº† <code>\G</code> ï¼Œå¯¼è‡´åŒ¹é…å¤±è´¥ï¼Œç»“æŸå¾ª
ç¯ã€‚
</p>

<p>
ä¸Šé¢ä½¿ç”¨cä¸å¦æ˜¯æ— å…³ç´§è¦çš„ï¼Œä½†å¦‚æœè¿™ä¸ªwhileå¾ªç¯çš„åé¢åè¿˜æœ‰å¯¹ <code>$txt</code> çš„
åŒ¹é…ï¼Œé‚£ä¹ˆä½¿ç”¨cä¿®é¥°ç¬¦ä¸å¦å°±æœ‰å…³ç³»äº†ã€‚ä¾‹å¦‚ä¸‹é¢ä¸¤æ®µç¨‹åºï¼Œè¿”å›ç»“æœä¸ä¸€æ ·ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234ab56"</span>;
<span style="color: #a020f0;">while</span>($<span style="color: #a0522d;">txt</span> =~ m/\G\d\d/gc){   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20351;&#29992;c&#20462;&#39280;&#31526;</span>
    print <span style="color: #8b2252;">"matched: $&amp;, "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
}

$<span style="color: #a0522d;">txt</span> =~ m/\G\d\d/gc;
print <span style="color: #8b2252;">"matched: $&amp;, "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
å’Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"1234ab56"</span>;
<span style="color: #a020f0;">while</span>($<span style="color: #a0522d;">txt</span> =~ m/\G\d\d/g){   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#19981;&#20351;&#29992;c&#20462;&#39280;&#31526;</span>
    print <span style="color: #8b2252;">"matched: $&amp;, "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
}

$<span style="color: #a0522d;">txt</span> =~ m/\G\d\d/gc;
print <span style="color: #8b2252;">"matched: $&amp;, "</span>,pos $<span style="color: #a0522d;">txt</span>,<span style="color: #8b2252;">"\n"</span>;
</pre>
</div>

<p>
<b>mä¿®é¥°ç¬¦ï¼šå¤šè¡ŒåŒ¹é…æ¨¡å¼</b>
</p>

<p>
æ­£åˆ™è¡¨è¾¾å¼ä¸€èˆ¬éƒ½åªç”¨æ¥åŒ¹é…å•è¡Œæ•°æ®ï¼Œä½†æœ‰æ—¶å€™å´éœ€è¦ä¸€æ¬¡æ€§åŒ¹é…å¤šè¡Œã€‚æ¯”å¦‚
åŒ¹é…è·¨è¡Œå•è¯ã€åŒ¹é…è·¨è¡Œè¯ç»„ï¼ŒåŒ¹é…è·¨è¡Œçš„å¯¹ç§°åˆ†éš”ç¬¦(å¦‚ä¸€å¯¹æ‹¬å·)ã€‚
</p>

<p>
ä½¿ç”¨mä¿®é¥°ç¬¦å¯ä»¥å¼€å¯å¤šè¡ŒåŒ¹é…æ¨¡å¼ã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"ab\ncd"</span>;
$<span style="color: #a0522d;">txt</span> =~ /a.*\nc/m;
print <span style="color: #8b2252;">"===match start===\n$&amp;\n===match end===\n"</span>;
</pre>
</div>

<p>
æ‰§è¡Œï¼Œå°†è¾“å‡ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">===match <span style="color: #a0522d;">start</span>===
ab
c
===match <span style="color: #a0522d;">end</span>===
</pre>
</div>

<p>
å…³äºå¤šè¡ŒåŒ¹é…ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å…ƒå­—ç¬¦=.=é»˜è®¤æƒ…å†µä¸‹æ— æ³•åŒ¹é…æ¢è¡Œç¬¦ã€‚å¯ä»¥ä½¿ç”¨
 <code>[\d\D]</code> ä»£æ›¿ç‚¹ï¼Œä¹Ÿå¯ä»¥å¼€å¯sä¿®é¥°ç¬¦ä½¿å¾— <code>.</code> èƒ½åŒ¹é…æ¢è¡Œç¬¦ã€‚
</p>

<p>
ä¾‹å¦‚ï¼Œä¸‹é¢ä¸¤ä¸ªåŒ¹é…è¾“å‡ºçš„ç»“æœå’Œä¸Šé¢æ˜¯ä¸€è‡´çš„ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"ab\ncd"</span>;
$<span style="color: #a0522d;">txt</span> =~ /a.*c/ms;
print <span style="color: #8b2252;">"===match start===\n$&amp;\n===match end===\n"</span>;

$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"ab\ncd"</span>;
$<span style="color: #a0522d;">txt</span> =~ /a[\d\D]*c/m;
print <span style="color: #8b2252;">"===match start===\n$&amp;\n===match end===\n"</span>;
</pre>
</div>

<p>
<b>sä¿®é¥°ç¬¦</b>
</p>

<p>
é»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>.</code> å…ƒå­—ç¬¦æ˜¯ä¸èƒ½åŒ¹é…æ¢è¡Œç¬¦ <code>\n</code> çš„ï¼Œå¼€å¯äº†sä¿®é¥°ç¬¦åŠŸèƒ½åï¼Œ
å¯ä»¥è®© <code>.</code> åŒ¹é…æ¢è¡Œç¬¦ã€‚æ­£å¦‚åˆšæ‰çš„é‚£ä¸ªä¾‹å­ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"ab\ncd"</span>;
$<span style="color: #a0522d;">txt</span> =~ /a.*c/m;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;</span>
print <span style="color: #8b2252;">"===match start===\n$&amp;\n===match end===\n"</span>;

$<span style="color: #a0522d;">txt</span>=<span style="color: #8b2252;">"ab\ncd"</span>;
$<span style="color: #a0522d;">txt</span> =~ /a.*c/ms;       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;</span>
print <span style="color: #8b2252;">"===match start===\n$&amp;\n===match end===\n"</span>;
</pre>
</div>

<p>
<b>xä¿®é¥°ç¬¦</b>
</p>

<p>
æ­£åˆ™è¡¨è¾¾å¼æœ€ä¸ºäººæ‰€æŠ±æ€¨çš„å°±æ˜¯å®ƒçš„å¯è¯»æ€§æå·®ï¼Œæ— è®ºä½ çš„æ­£åˆ™èƒ½åŠ›æœ‰å¤šå¼ºï¼Œçœ‹
ç€ä¸€å¤§å †ä¹±ä¸ƒå…«ç³Ÿçš„ç¬¦å·ç»„åˆåœ¨ä¸€èµ·ï¼Œéƒ½å¾—ä¸€ä¸ªç¬¦å·ä¸€ä¸ªç¬¦å·åœ°ä»å·¦å‘å³è¯»ã€‚
</p>

<p>
ä¸‡å¹¸ï¼Œperlæ­£åˆ™æ”¯æŒè¡¨è¾¾å¼çš„åˆ†éš”ï¼Œç”šè‡³æ”¯æŒæ³¨é‡Šï¼Œåªéœ€åŠ ä¸Šxä¿®é¥°ç¬¦å³å¯ã€‚è¿™
æ—¶å€™æ­£åˆ™è¡¨è¾¾å¼ä¸­å‡ºç°çš„æ‰€æœ‰ç©ºç™½ç¬¦å·éƒ½ä¸ä¼šå½“ä½œæ­£åˆ™çš„åŒ¹é…å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥è¢«
å¿½ç•¥ã€‚å¦‚æœæƒ³è¦åŒ¹é…ç©ºç™½ç¬¦å·ï¼Œå¯ä»¥ä½¿ç”¨ <code>\s</code> è¡¨ç¤ºï¼Œæˆ–è€…å°†ç©ºæ ¼ä½¿ç”¨
<code>\Q...\E</code> åŒ…å›´ã€‚
</p>

<p>
ä¾‹å¦‚ï¼Œä»¥ä¸‹4ä¸ªåŒ¹é…æ“ä½œæ˜¯å®Œå…¨ç­‰ä»·çš„ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">ans</span>=<span style="color: #8b2252;">"cat sheep tiger"</span>;
$<span style="color: #a0522d;">ans</span> =~ /(\w) *(\w) *(\w)/;       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27491;&#24120;&#24773;&#20917;&#19979;&#30340;&#21305;&#37197;&#34920;&#36798;&#24335;</span>
$<span style="color: #a0522d;">ans</span> =~ /(\w)\s*   (\w)\s*   (\w)/x;
$<span style="color: #a0522d;">ans</span> = ~ /
        (\w)\s*      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21487;&#20197;&#21152;&#19978;&#26412;&#34892;&#27880;&#37322;&#65306;&#21305;&#37197;&#31532;&#19968;&#20010;&#21333;&#35789;</span>
        (\w)\s*      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21487;&#20197;&#21152;&#19978;&#26412;&#34892;&#27880;&#37322;&#65306;&#21305;&#37197;&#31532;&#20108;&#20010;&#21333;&#35789;</span>
        (\w)         <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21487;&#20197;&#21152;&#19978;&#26412;&#34892;&#27880;&#37322;&#65306;&#21305;&#37197;&#31532;&#19977;&#20010;&#21333;&#35789;</span>
        /x;
$<span style="color: #a0522d;">ans</span> =~ /
         (\w)\Q \E   <span style="color: #b22222;"># </span><span style="color: #b22222;">\Q \E&#24378;&#21046;&#23558;&#20013;&#38388;&#30340;&#31354;&#26684;&#24403;&#20316;&#23383;&#38754;&#31526;&#21495;&#34987;&#21305;&#37197;</span>
         (\w)\Q \E
         (\w)
        /x;
</pre>
</div>

<p>
å¯¹äºç¨å¾®å¤æ‚ä¸€äº›çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¸¸å¸¸éƒ½ä¼šä½¿ç”¨xä¿®é¥°ç¬¦æ¥å¢å¼ºå…¶å¯è¯»æ€§ï¼Œæœ€é‡
è¦çš„æ˜¯åŠ ä¸Šæ³¨é‡Šã€‚è¿™ä¸€ç‚¹çœŸçš„éå¸¸äººæ€§åŒ–ã€‚
</p>

<p>
<b>pä¿®é¥°ç¬¦</b>
</p>

<p>
å‰é¢è¯´è¿‡ï¼Œé€šè¿‡3ä¸ªç‰¹æ®Šå˜é‡ <code>$`</code> ã€ <code>$&amp;</code> å’Œ <code>$'</code> å¯ä»¥ä¿å­˜åŒ¹é…å†…å®¹ä¹‹å‰çš„
å†…å®¹ï¼ŒåŒ¹é…å†…å®¹ä»¥åŠåŒ¹é…å†…å®¹ä¹‹åçš„å†…å®¹ã€‚ä½†æ˜¯ï¼Œåªè¦ä½¿ç”¨äº†è¿™3ä¸ªå˜é‡ä¸­çš„ä»»
ä½•ä¸€ä¸ªï¼Œåé¢çš„æ‰€æœ‰åˆ†ç»„æ•ˆç‡éƒ½ä¼šé™ä½ã€‚perlæä¾›äº†ä¸€ä¸ªpä¿®é¥°ç¬¦ï¼Œèƒ½å®ç°å®Œå…¨
ç›¸åŒçš„åŠŸèƒ½ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">${^PREMATCH}    &lt;=&gt;   $<span style="color: #ff00ff;">`</span>
<span style="color: #ff00ff;">${^MATCH}       &lt;=&gt;   $&amp;</span>
<span style="color: #ff00ff;">${^POSTMATCH}   &lt;=&gt;   $'</span>
</pre>
</div>

<p>
ä¸€ä¸ªä¾‹å­å³å¯æè¿°ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">ans</span>=<span style="color: #8b2252;">"cat sheep tiger"</span>;
$<span style="color: #a0522d;">ans</span> =~ /sheep/p;
print <span style="color: #8b2252;">"${^PREMATCH}\n"</span>;     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36755;&#20986;"cat "</span>
print <span style="color: #8b2252;">"${^MATCH}\n"</span>;        <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36755;&#20986;"sheep"</span>
print <span style="color: #8b2252;">"${^POSTMATCH}\n"</span>;    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36755;&#20986;" tiger"</span>
</pre>
</div>

<p>
<b>oä¿®é¥°ç¬¦</b>
</p>

<p>
åœ¨è¾ƒè€çš„perlç‰ˆæœ¬ä¸­ï¼Œå¦‚æœä½¿ç”¨åŒä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åšå¤šæ¬¡åŒ¹é…ï¼Œæ­£åˆ™å¼•æ“å°†åªå¤š
æ¬¡ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ã€‚å¾ˆå¤šæ—¶å€™æ­£åˆ™è¡¨è¾¾å¼å¹¶ä¸ä¼šæ”¹å˜ï¼Œæ¯”å¦‚å¾ªç¯åŒ¹é…æ–‡ä»¶ä¸­çš„è¡Œï¼Œ
è¿™æ ·çš„å¤šæ¬¡ç¼–è¯‘å¯¼è‡´æ€§èƒ½ä¸‹é™å¾ˆæ˜æ˜¾ï¼Œäºæ˜¯å¯ä»¥ä½¿ç”¨oä¿®é¥°ç¬¦è®©æ­£åˆ™å¼•æ“å¯¹åŒä¸€
ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸é‡å¤ç¼–è¯‘ã€‚
</p>

<p>
åœ¨perl5.6ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯¹åŒä¸€æ­£åˆ™è¡¨è¾¾å¼åªç¼–è¯‘ä¸€æ¬¡ï¼Œä½†åŒæ ·å¯ä»¥æŒ‡å®šoä¿®é¥°
ç¬¦ï¼Œä½¿å¾—å³ä½¿æ­£åˆ™è¡¨è¾¾å¼å˜åŒ–äº†ä¹Ÿä¸è¦é‡æ–°ç¼–è¯‘ã€‚
</p>

<p>
ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥æ— è§†è¿™ä¸ªä¿®é¥°ç¬¦ã€‚
</p>
</div>
</div>
<div id="outline-container-h:77f34eb0-ccdd-4427-97ab-c32e7176471c" class="outline-5">
<h5 id="h:77f34eb0-ccdd-4427-97ab-c32e7176471c">èŒƒå›´æ¨¡å¼åŒ¹é…ä¿®é¥°ç¬¦(?imsx-imsx:pattern)</h5>
<div class="outline-text-5" id="text-h:77f34eb0-ccdd-4427-97ab-c32e7176471c">
<p>
å‰æ–‡ä»‹ç»çš„ä¿®é¥°ç¬¦ <code>adluoimsxpngc</code> éƒ½æ˜¯æ”¾åœ¨ <code>m//{FLAG}</code> çš„flagå¤„çš„ï¼Œæ”¾åœ¨
è¿™ä¸ªä½ç½®ä¼šå¯¹æ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼äº§ç”Ÿå½±å“ï¼Œæ‰€ä»¥å®ƒçš„ä½œç”¨èŒƒå›´æœ‰ç‚¹å¹¿ã€‚
</p>

<p>
ä¾‹å¦‚ <code>m/pattern1 pattern2/i</code> çš„iä¿®é¥°ç¬¦ä¼šå½±å“pattern1å’Œpattern2ã€‚
</p>

<p>
perlå…è®¸æˆ‘ä»¬å®šä¹‰åªåœ¨ä¸€å®šèŒƒå›´å†…ç”Ÿæ•ˆçš„ä¿®é¥°ç¬¦ï¼Œæ–¹å¼æ˜¯ <code>(?imsx:pattern)</code>
æˆ– <code>(?-imsx:pattern)</code> æˆ– <code>(?imsx-imsx:pattern)</code> ï¼Œå…¶ä¸­åŠ ä¸Š <code>-</code> è¡¨ç¤ºå»
é™¤è¿™ä¸ªä¿®é¥°ç¬¦çš„å½±å“ã€‚è¿™é‡Œåªåˆ—å‡ºäº†imsxï¼Œå› ä¸ºè¿™å‡ ä¸ªæœ€å¸¸ç”¨ï¼Œå…¶ä»–çš„ä¿®é¥°ç¬¦ä¹Ÿ
ä¸€æ ·æœ‰æ•ˆã€‚
</p>

<p>
ä¾‹å¦‚ï¼Œå¯¹äºå¾…åŒ¹é…å­—ç¬¦ä¸²â€Hello world gaoxiaofangâ€ï¼Œä½¿ç”¨ä»¥ä¸‹å‡ ç§æ¨¡å¼å»
åŒ¹é…çš„è¯ï¼š
</p>

<p>
<code>/(?i:hello) world/</code>
</p>

<p>
è¡¨ç¤ºåŒ¹é…helloæ—¶ï¼Œå¯å¿½ç•¥å¤§å°å†™ï¼Œä½†åŒ¹é…worldæ—¶ä»ç„¶åŒºåˆ†å¤§å°å†™ã€‚æ‰€ä»¥åŒ¹é…æˆåŠŸ
</p>

<p>
<code>/(?ims:hello.)world/</code>
</p>

<p>
è¡¨ç¤ºå¯ä»¥è·¨è¡ŒåŒ¹é…helloworldï¼Œä¹Ÿå¯ä»¥åŒ¹é…å•è¡Œçš„hellosworldï¼Œä¸”helloéƒ¨åˆ†å¿½
ç•¥å¤§å°å†™ã€‚æ‰€ä»¥åŒ¹é…æˆåŠŸ
</p>

<p>
<code>/(?i:hello (?-i:world) gaoxiaoFANG)/</code>
</p>

<p>
è¡¨ç¤ºåœ¨ç¬¬äºŒä¸ªæ‹¬å·ä¹‹å‰ï¼Œå¯ç”¨å¿½ç•¥å¤§å°å†™è¿›è¡ŒåŒ¹é…ï¼Œä½†å› ä¸ºç¬¬äºŒä¸ªæ‹¬å·é‡ŒæŒ‡æ˜äº†
å»é™¤içš„å½±å“ï¼Œæ‰€ä»¥å¯¹worldçš„åŒ¹é…ä¼šåŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯å¯¹gaoxiaofangéƒ¨åˆ†çš„åŒ¹
é…åˆä¸åŒºåˆ†å¤§å°å†™ã€‚æ‰€ä»¥åŒ¹é…æˆåŠŸ
</p>

<p>
<code>/(?i:hello (?-i:world) gaoxiao)FANG/</code>
</p>

<p>
å’Œå‰é¢çš„ç±»ä¼¼ï¼Œä½†æ˜¯å°†â€FANGâ€æ”¾åˆ°äº†æ‹¬å·å¤–ï¼Œæ„å‘³ç€è¿™éƒ¨åˆ†è¦åŒºåˆ†å¤§å°å†™ã€‚æ‰€
ä»¥åŒ¹é…å¤±è´¥
</p>
</div>
</div>
<div id="outline-container-h:6b0d3137-5842-4635-8ec8-4784b2ea08ae" class="outline-5">
<h5 id="h:6b0d3137-5842-4635-8ec8-4784b2ea08ae">perlæ”¯æŒçš„åæ–œçº¿åºåˆ—</h5>
<div class="outline-text-5" id="text-h:6b0d3137-5842-4635-8ec8-4784b2ea08ae">
<p>
<b>1.é”šå®šç±»çš„åæ–œçº¿åºåˆ—</b>
</p>

<p>
æ‰€è°“é”šå®šï¼Œæ˜¯æŒ‡å®ƒåŒ¹é…çš„æ˜¯ä½ç½®ï¼Œè€Œéå­—ç¬¦ï¼Œæ¯”å¦‚é”šå®šè¡Œé¦–çš„æ„æ€æ˜¯åŒ¹é…ç¬¬ä¸€ä¸ª
å­—æ¯å‰çš„ç©ºå­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯å¾ˆå¤šäººè¯´çš„â€é›¶å®½æ–­è¨€(zero-width assertions)â€œã€‚
</p>

<ul class="org-ul">
<li><code>\b</code> ï¼šåŒ¹é…å•è¯è¾¹ç•Œå¤„çš„ç©ºå­—ç¬¦</li>
<li><code>\B</code> ï¼šåŒ¹é…éå•è¯è¾¹ç•Œå¤„çš„ç©ºå­—ç¬¦</li>
<li><code>\&lt;</code> ï¼šåŒ¹é…å•è¯å¼€å¤´å¤„çš„ç©ºå­—ç¬¦</li>
<li><code>\&gt;</code> ï¼šåŒ¹é…å•è¯ç»“å°¾å¤„çš„ç©ºå­—</li>
<li><code>\A</code> ï¼šåŒ¹é…ç»å¯¹è¡Œé¦–ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¾“å…¥å†…å®¹çš„å¼€å¤´</li>
<li><code>\z</code> ï¼šåŒ¹é…ç»å¯¹è¡Œå°¾ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¾“å…¥å†…å®¹çš„ç»å¯¹å°¾éƒ¨</li>
<li><code>\Z</code> ï¼šåŒ¹é…ç»å¯¹è¡Œå°¾æˆ–ç»å¯¹è¡Œå°¾æ¢è¡Œç¬¦å‰çš„ä½ç½®ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯è¾“å…¥å†…å®¹çš„å°¾éƒ¨</li>
<li><code>\G</code> ï¼šå¼ºåˆ¶ä»ä½ç§»æŒ‡é’ˆå¤„è¿›è¡ŒåŒ¹é…ï¼Œè¯¦ç»†å†…å®¹è§ "gå’Œcä¿®é¥°ç¬¦ä»¥åŠ\G"</li>
</ul>

<p>
ä¸»è¦è§£é‡Šä¸‹ <code>\A \z \Z</code> ï¼Œå…¶å®ƒçš„å±äºåŸºç¡€æ­£åˆ™çš„å†…å®¹ï¼Œä¸å¤šåšè§£é‡Šäº†ã€‚
</p>

<p>
<code>\A \z \Z</code> å’Œ <code>^ $</code> çš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨å¤šè¡Œæ¨¡å¼ä¸‹ã€‚åœ¨å¤šè¡Œæ¨¡å¼ä¸‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">First Line\nSecond line\n

(^&#21305;&#37197;&#20219;&#24847;&#34892;&#39318;)First Line($<span style="color: #a0522d;">&#21305;&#37197;&#20219;&#24847;&#34892;&#23614;</span>)\n(^&#21305;&#37197;&#20219;&#24847;&#34892;&#39318;)Second line($<span style="color: #a0522d;">&#21305;&#37197;&#20219;&#24847;&#34892;&#23614;</span>)\n


(\A&#21305;&#37197;&#25972;&#20010;&#36755;&#20837;&#30340;&#32477;&#23545;&#24320;&#22836;)First Line\nSecond line(\Z&#21305;&#37197;&#25972;&#20010;&#36755;&#20837;&#30340;&#23614;&#37096;&#65292;&#25110;&#32477;&#23545;&#23614;&#37096;&#25442;&#34892;&#31526;&#30340;&#21069;&#38754;)\n(\z&#21305;&#37197;&#25972;&#20010;&#36755;&#20837;&#30340;&#32477;&#23545;&#23614;&#37096;)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">txt</span> = <span style="color: #8b2252;">"abcd\nABCD\n"</span>;
$<span style="color: #a0522d;">txt1</span> = <span style="color: #8b2252;">"abcd\nABCD"</span>;

$<span style="color: #a0522d;">txt</span> =~ /^ABC*/;   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26080;&#27861;&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /^ABC*/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>

$<span style="color: #a0522d;">txt</span> =~ /\Aabc/;   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /\Aabc/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /\AABC/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26080;&#27861;&#21305;&#37197;</span>

$<span style="color: #a0522d;">txt</span> =~ /cd\n$/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#19981;&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /cd$\n/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#19981;&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /cd$/m;    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>

$<span style="color: #a0522d;">txt</span> =~ /CD\Z\n/m  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /CD\Z\n\Z/m; <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt</span> =~ /CD\n\z/m; <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>

$<span style="color: #a0522d;">txt1</span> =~ /CD\Z/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>
$<span style="color: #a0522d;">txt1</span> =~ /CD\z/m;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">perl -e '$txt = "abcd\nABCD\n"; $txt =~ /CD\Z/m; print "$&amp;"  # &#21305;&#37197;' </span>
CD
</pre>
</div>

<p>
ä»ä¸Šé¢çš„ <code>$</code> åŒ¹é…ç¤ºä¾‹å¯çŸ¥ï¼Œ <code>$</code> ä»£è¡¨çš„è¡Œå°¾ï¼Œå…¶å®å®ƒåœ¨æœ‰æ¢è¡Œç¬¦çš„æ—¶å€™åŒ¹
é…â€\n"ï¼Œè€Œä¸æ˜¯"\nâ€œçš„å‰ã€åï¼Œåœ¨æ²¡æœ‰æ¢è¡Œç¬¦çš„æ—¶å€™ï¼ŒåŒ¹é…è¡Œå°¾ã€‚
</p>

<p>
<b>2.å­—ç¬¦åŒ¹é…åæ–œçº¿åºåˆ—</b>
</p>

<p>
å½“ç„¶ï¼Œé™¤äº†ä»¥ä¸‹è¿™å‡ ç§ï¼Œè¿˜æœ‰ <code>\v \V \h \H \R \p \c \X</code> ï¼Œè¿™äº›åŸºæœ¬ä¸ä¼šç”¨ä¸Šï¼Œæ‰€ä»¥éƒ½ä¸ä¼šåœ¨æœ¬æ–‡è§£é‡Šã€‚
</p>

<pre class="example" id="org5dce900">
- \wï¼šåŒ¹é…å•è¯æ„æˆéƒ¨åˆ†ï¼Œç­‰ä»·äº [_[:alnum:]]
- \Wï¼šåŒ¹é…éå•è¯æ„æˆéƒ¨åˆ†ï¼Œç­‰ä»·äº [^_[:alnum:]]
- \sï¼šåŒ¹é…ç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº [[:space:]]
- \Sï¼šåŒ¹é…éç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº [^[:space:]]
- \dï¼šåŒ¹é…æ•°å­—ï¼Œç­‰ä»·äº [0-9]
- \Dï¼šåŒ¹é…éæ•°å­—ï¼Œç­‰ä»·äº[^0-9]
- \Nï¼šä¸åŒ¹é…æ¢è¡Œç¬¦ï¼Œç­‰ä»·äº[^\n]ã€‚ä½† \N{NAME}æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œè¡¨ç¤ºåŒ¹é…å·²å‘½å(åä¸ºNAME)çš„unicodeå­—ç¬¦åºåˆ—ï¼Œæœ¬æ–‡ä¸ä»‹ç»è¯¥ç‰¹æ®Šç”¨æ³•
</pre>

<p>
ç”±äºå…ƒå­—ç¬¦=.=é»˜è®¤æ— æ³•åŒ¹é…æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥éœ€è¦åŒ¹é…æ¢è¡Œç¬¦çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ç‰¹
æ®Šç»„åˆ <code>[\d\D]</code> æˆ–è€… <code>(\n|\N)</code> æ¥æ›¿æ¢ <code>.</code> ï¼Œæ¢å¥è¯è¯´ï¼Œå¦‚æœæƒ³åŒ¹é…ä»»æ„é•¿
åº¦çš„ä»»æ„å­—ç¬¦ï¼Œå¯ä»¥æ¢æˆ <code>[\d\D]*</code> æˆ–è€… <code>(\n|\N)*</code> ï¼Œå½“ç„¶ï¼Œå‰ææ˜¯å¿…é¡»æ”¯
æŒè¿™3ä¸ªåæ–œçº¿åºåˆ—ã€‚
</p>

<p>
ä¹‹æ‰€ä»¥ä¸ç”¨ <code>[\n\N]</code> æ›¿ä»£å…ƒå­—ç¬¦ <code>.</code> ï¼Œæ˜¯å› ä¸º <code>\N</code> æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œä¸èƒ½éšæ„æ¥ç¬¦å·å’Œå­—æ¯ã€‚
</p>

<p>
<b>3.åˆ†ç»„å¼•ç”¨çš„åæ–œçº¿åºåˆ—</b>
</p>

<ul class="org-ul">
<li><code>\1</code> ï¼šåå‘å¼•ç”¨ï¼Œå…¶ä¸­1å¯ä»¥æ›¿æ¢ä¸ºä»»æ„ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå³ä½¿è¶…å‡º9ï¼Œä¾‹å¦‚
<code>\111</code> è¡¨ç¤ºåŒ¹é…ç¬¬111ä¸ªåˆ†ç»„</li>
<li><code>\g1</code> æˆ– <code>\g{1}</code> ï¼šä¹Ÿæ˜¯åå‘å¼•ç”¨ï¼Œåªä¸è¿‡è¿™ç§å†™æ³•å¯ä»¥é¿å…æ­§ä¹‰ï¼Œä¾‹å¦‚
<code>\g{1}11</code> è¡¨ç¤ºåŒ¹é…ç¬¬ä¸€ä¸ªåˆ†ç»„å†…å®¹åä¸¤ä¸ªæ•°å­—1</li>
<li><code>\g{-1}</code> ï¼šè¿˜å¯ä»¥ä½¿ç”¨è´Ÿæ•°ï¼Œè¡¨ç¤ºè·ç¦» <code>\g</code> å·¦è¾¹çš„åˆ†ç»„å·ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹è·
ç¦»ã€‚ä¾‹å¦‚ <code>(abc)([a-z])\g{-1}</code> ä¸­çš„ <code>\g</code> å¼•ç”¨çš„æ˜¯ <code>[a-z]</code> ï¼Œå¦‚æœ-1æ¢
æˆ-2ï¼Œåˆ™å¼•ç”¨çš„ <code>abc</code></li>
<li><code>\g{name}</code> ï¼šå¼•ç”¨å·²å‘½åçš„åˆ†ç»„(å‘½åæ•è·)ï¼Œå…¶ä¸­nameä¸ºåˆ†ç»„çš„åç§°</li>
<li><code>\k&lt;name&gt;</code> ï¼šåŒä¸Šï¼Œå¼•ç”¨å·²å‘½åçš„åˆ†ç»„(å‘½åæ•è·)ï¼Œå…¶ä¸­nameä¸ºåˆ†ç»„çš„åç§°</li>
<li><code>\K</code> ï¼šä¸è¦å°† <code>\K</code> å·¦è¾¹çš„å†…å®¹æ”¾è¿› <code>$&amp;</code> ã€‚æ¢å¥è¯è¯´ï¼Œ <code>\K</code> å·¦è¾¹çš„å†…å®¹
å³ä½¿åŒ¹é…æˆåŠŸäº†ï¼Œä¹Ÿä¼šé‡ç½®åŒ¹é…çš„ä½ç½®</li>
</ul>

<p>
<code>\1</code> è¡¨ç¤ºå¼•ç”¨ç¬¬ä¸€ä¸ªåˆ†ç»„ï¼Œ <code>\11</code> è¡¨ç¤ºå¼•ç”¨ç¬¬11ä¸ªåˆ†ç»„ï¼Œåœ¨åŸºç¡€æ­£åˆ™ä¸­ï¼Œæ˜¯ä¸
æ”¯æŒå¼•ç”¨è¶…å‡º9ä¸ªåˆ†ç»„çš„ï¼Œä½†æ˜¾ç„¶perlä¼šå°† <code>\11</code> çš„ç¬¬äºŒä¸ª1è§£æä¸ºå¼•ç”¨ï¼Œä»¥ä¾¿
èƒ½å¼•ç”¨æ›´å¤šåˆ†ç»„ã€‚
</p>

<p>
åŒç† <code>\g1</code> å’Œ <code>\g11</code> ï¼Œåªæ˜¯ä½¿ç”¨ <code>\g</code> å¼•ç”¨çš„æ–¹å¼å¯ä»¥åŠ ä¸Šå¤§æ‹¬å·ä½¿å¼•ç”¨å˜
å¾—æ›´å®‰å…¨ï¼Œæ›´æ˜“è¯»ï¼Œä¸” <code>\g</code> å¯ä»¥ä½¿ç”¨è´Ÿæ•°æ¥è¡¨ç¤ºä»å³å‘å·¦ç›¸å¯¹å¼•ç”¨ã€‚è¿™æ ·åœ¨
<code>\g{-2}</code> çš„å·¦è¾¹æ·»åŠ æ–°çš„åˆ†ç»„æ‹¬å·æ—¶ï¼Œæ— é¡»ä¿®æ”¹å¼•ç”¨è¡¨è¾¾å¼ã€‚
</p>

<p>
æ­¤å¤„æš‚æ—¶è¿˜æ²¡ä»‹ç»åˆ°å‘½ååˆ†ç»„ï¼Œæ‰€ä»¥ <code>\g{name}</code> å’Œ <code>\k&lt;name&gt;</code> ç•™åœ¨åé¢å†ä»‹ç»ã€‚
</p>

<p>
<code>\K</code> è¡¨ç¤ºå¼ºåˆ¶ä¸­æ–­å‰é¢å·²å®Œæˆçš„åŒ¹é…ã€‚ä¾‹å¦‚ <code>"abc22ABC" =~ /abc\K2.*/;</code> ï¼Œ
è™½ç„¶abcä¸‰ä¸ªå­—æ¯ä¹Ÿè¢«åŒ¹é…ï¼Œå¦‚æœæ²¡æœ‰ <code>\K</code> ï¼Œè¿™3ä¸ªå­—æ¯å°†æ”¾è¿› <code>$&amp;</code> ä¸­ï¼Œä½†æ˜¯
<code>\K</code> ä½¿å¾—åŒ¹é…å®Œabcåç«‹å³åˆ‡æ–­å‰é¢çš„åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯ä»cå­—æ¯åé¢å¼€å§‹é‡æ–°åŒ¹é…ï¼Œ
æ‰€ä»¥è¿™é‡ŒåŒ¹é…çš„ç»“æœæ˜¯22ABCã€‚
</p>

<p>
å†ä¾‹å¦‚ï¼Œ <code>"abc123abcfoo"=~ /(abc)123\K\g1foo/;</code> ï¼Œå®ƒåŒ¹é…åˆ°123åè¢«åˆ‡æ–­ï¼Œ
ä½†æ˜¯åˆ†ç»„å¼•ç”¨è¿˜å¯ä»¥ç»§ç»­å¼•ç”¨ï¼Œæ‰€ä»¥åŒ¹é…çš„ç»“æœæ˜¯â€abcfooâ€ã€‚
</p>
</div>
</div>
<div id="outline-container-h:61376ab1-d21e-48c0-be11-1da47fca0fab" class="outline-5">
<h5 id="h:61376ab1-d21e-48c0-be11-1da47fca0fab">è´ªå©ªåŒ¹é…ã€éè´ªå©ªåŒ¹é…ã€å æœ‰ä¼˜å…ˆåŒ¹é…</h5>
<div class="outline-text-5" id="text-h:61376ab1-d21e-48c0-be11-1da47fca0fab">
<p>
åœ¨åŸºç¡€æ­£åˆ™ä¸­ï¼Œé‚£äº›èƒ½åŒ¹é…å¤šæ¬¡çš„é‡è¯éƒ½ä¼šåŒ¹é…æœ€é•¿å†…å®¹ã€‚è¿™ç§å°½é‡å¤šåŒ¹é…çš„è¡Œ
ä¸ºç§°ä¸ºâ€è´ªå©ªåŒ¹é…â€(greedy match)ã€‚
</p>

<p>
ä¾‹å¦‚å­—ç¬¦ä¸²â€aa1122ccbbâ€ï¼Œç”¨æ­£åˆ™è¡¨è¾¾å¼ <code>a.*c</code> å»åŒ¹é…è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­çš„
 <code>.*</code> å°†ç›´æ¥ä»ç¬¬äºŒä¸ªå­—æ¯aå¼€å§‹åŒ¹é…åˆ°æœ€ç»“å°¾çš„bï¼Œå› ä¸ºä»ç¬¬äºŒä¸ªå­—æ¯aå¼€å§‹åˆ°
 æœ€åä¸€ä¸ªå­—æ¯béƒ½ç¬¦åˆ <code>.*</code> çš„åŒ¹é…æ¨¡å¼ã€‚å†ç„¶åï¼Œå»åŒ¹é…å­—æ¯cï¼Œä½†å› ä¸ºå·²ç»
 æŠŠæ‰€æœ‰å­—æ¯åŒ¹é…å®Œäº†ï¼Œåªèƒ½å›é€€ä¸€ä¸ªå­—æ¯ä¸€ä¸ªå­—æ¯åœ°é‡Šæ”¾ï¼Œæ¯é‡Šæ”¾ä¸€ä¸ªå°±åŒ¹é…
 ä¸€æ¬¡å­—æ¯cï¼Œå‘ç°å›é€€é‡Šæ”¾åˆ°å€’æ•°ç¬¬ä¸‰ä¸ªå­—æ¯å°±èƒ½æ»¡è¶³åŒ¹é…è¦æ±‚ï¼Œäºæ˜¯è¿™é‡Œçš„
 <code>.*</code> æœ€ç»ˆåŒ¹é…çš„å†…å®¹æ˜¯â€a1122ccâ€ã€‚
</p>

<p>
ä¸Šé¢æ¶‰åŠåˆ°å›æº¯çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯å°†é‚£äº›å·²ç»è¢«é‡è¯åŒ¹é…çš„å†…å®¹å›é€€é‡Šæ”¾ã€‚
</p>

<p>
ä¸Šé¢æè¿°çš„æ˜¯è´ªå©ªåŒ¹é…è¡Œä¸ºï¼Œè¿˜æœ‰éè´ªå©ªåŒ¹é…ã€å æœ‰ä¼˜å…ˆåŒ¹é…ï¼Œä»¥ä¸‹ç®€å•æè¿°ä¸‹
ä»–ä»¬çš„æ„ä¹‰ï¼š
</p>

<ul class="org-ul">
<li>éè´ªå©ªåŒ¹é…ï¼š(lazy match,reluctant)å°½å¯èƒ½å°‘åœ°åŒ¹é…ï¼Œä¹Ÿå«åšæ‡’æƒ°åŒ¹é…</li>
<li>å æœ‰ä¼˜å…ˆåŒ¹é…ï¼š(possessive)å æœ‰ä¼˜å…ˆå’Œå›ºåŒ–åˆ†ç»„æ˜¯ç›¸åŒçš„ï¼Œåªè¦å æœ‰äº†å°±ä¸
å†äº¤æ¢ï¼Œä¸å…è®¸è¿›è¡Œå›æº¯ã€‚ç›¸å…³å†…å®¹è§åæ–‡â€å›ºåŒ–åˆ†ç»„â€</li>
</ul>

<p>
æœ‰å¿…è¦ææ¸…æ¥šè¿™å‡ ç§åŒ¹é…æ¨¡å¼åœ¨åŒ¹é…æœºåˆ¶ä¸Šçš„åŒºåˆ«ï¼š
</p>

<ul class="org-ul">
<li>è´ªå©ªåŒ¹é…ï¼šå¯¹äºé‚£äº›é‡è¯ï¼Œå°†ä¸€æ¬¡æ€§ä»å·¦åˆ°å³åŒ¹é…åˆ°æœ€å¤§é•¿åº¦ï¼Œç„¶åå†å¾€å›å›æº¯é‡Šæ”¾</li>
<li>éè´ªå©ªåŒ¹é…ï¼šå¯¹äºé‚£äº›é‡è¯ï¼Œå°†ä»å·¦å‘å³é€å­—ç¬¦åŒ¹é…æœ€çŸ­é•¿åº¦ï¼Œç„¶åç›´æ¥ç»“æŸ
è¿™æ¬¡çš„é‡è¯åŒ¹é…è¡Œä¸º</li>
<li>å æœ‰ä¼˜å…ˆåŒ¹é…ï¼šæŒ‰ç…§è´ªå©ªæ¨¡å¼åŒ¹é…ï¼ŒåŒ¹é…åå†…å®¹å°±é”ä½ï¼Œä¸è¿›è¡Œå›æº¯(åæ–‡å›º
åŒ–åˆ†ç»„æœ‰å…·ä½“ç¤ºä¾‹)</li>
</ul>

<p>
é™¤äº†ä¸Šé¢æè¿°çš„ <code>*</code> é‡è¯ä¼šè¿›è¡Œè´ªå©ªåŒ¹é…ï¼Œå…¶ä»–æ‰€æœ‰èƒ½è¿›è¡Œå¤šæ¬¡åŒ¹é…çš„é‡è¯å¯
ä»¥é€‰æ‹©è´ªå©ªåŒ¹é…æ¨¡å¼ã€éè´ªå©ªåŒ¹é…æ¨¡å¼å’Œå æœ‰ä¼˜å…ˆåŒ¹é…æ¨¡å¼ï¼Œåªéœ€é€‰æ‹©å¯¹åº”çš„é‡
è¯å…ƒå­—ç¬¦å³å¯ã€‚å¦‚ä¸‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">                        (&#37327;&#35789;&#21518;&#21152;&#19978;?)             (&#37327;&#35789;&#21518;&#21152;&#19978;+)
  &#36138;&#23146;&#21305;&#37197;&#37327;&#35789;           &#38750;&#36138;&#23146;&#21305;&#37197;&#37327;&#35789;           &#21344;&#26377;&#20248;&#20808;&#21305;&#37197;&#37327;&#35789;
-----------------------------------------------------------------
      *                    *?                         *+
      ?                    ??                         ?+
      +                    +?                         ++
      {M,}                 {M,}?                      {M,}+
      {M,N}                {M,N}?                     {M,N}+
      {N}                  {N}?                       {N}+
</pre>
</div>

<p>
å‡ ç‚¹éœ€è¦è¯´æ˜ï¼š
</p>

<ul class="org-ul">
<li>éè´ªå©ªåŒ¹é…æ—¶çš„ <code>{M,}?</code> å’Œ <code>{M,N}?</code> ï¼Œå®ƒä»¬æ˜¯ç­‰ä»·çš„ï¼Œå› ä¸ºæœ€å¤šåªåŒ¹é…Mæ¬¡</li>
<li>åœ¨perlä¸­ä¸æ”¯æŒ <code>{,N}</code> çš„æ¨¡å¼ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰å¯¹åº”çš„éè´ªå©ªå’Œå æœ‰ä¼˜å…ˆåŒ¹é…æ¨¡å¼</li>
<li>å…³äº <code>{N}</code> è¿™ä¸ªé‡è¯ï¼Œç”±äºæ˜¯ç²¾ç¡®åŒ¹é…Næ¬¡ï¼Œæ‰€ä»¥è´ªå©ªä¸å¦å¯¹æœ€ç»ˆç»“æœæ— å…³ç´§
è¦ï¼Œä½†æ˜¯å´å½±å“åŒ¹é…æ—¶çš„è¡Œä¸ºï¼šè´ªå©ªåŒ¹é…æœ€é•¿ï¼Œéœ€è¦å›æº¯ï¼Œéè´ªå©ªåŒ¹é…æœ€çŸ­ï¼Œ
ä¸å›æº¯ï¼Œå æœ‰ä¼˜å…ˆåŒ¹é…æœ€é•¿ä¸å›æº¯ã€‚</li>
</ul>

<p>
çœ‹ä»¥ä¸‹ç¤ºä¾‹å³å¯ç†è§£è´ªå©ªå’Œéè´ªå©ªåŒ¹é…çš„è¡Œä¸ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"abc123abc1234"</span>;

<span style="color: #b22222;"># </span><span style="color: #b22222;">greedy match</span>
<span style="color: #a020f0;">if</span>( $<span style="color: #a0522d;">str</span> =~ /(a\w*3)/){
    print <span style="color: #8b2252;">"$&amp;\n"</span>;       <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123abc123</span>
}

<span style="color: #b22222;"># </span><span style="color: #b22222;">lazy match</span>
<span style="color: #a020f0;">if</span>( $<span style="color: #a0522d;">str</span> =~ /(a\w*?3)/){
    print <span style="color: #8b2252;">"$&amp;\n"</span>;      <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123</span>
}
</pre>
</div>

<p>
ä»¥ä¸‹æ˜¯å æœ‰ä¼˜å…ˆåŒ¹é…æ¨¡å¼çš„ç¤ºä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"abc123abc1234"</span>;

<span style="color: #a020f0;">if</span>( $<span style="color: #a0522d;">str</span> =~ /a\w*+/){     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25104;&#21151;</span>
        print <span style="color: #8b2252;">"possessive1: $&amp;\n"</span>; <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123abc1234</span>
}
<span style="color: #a020f0;">if</span>( $<span style="color: #a0522d;">str</span> =~ /a\w*+3/){    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22833;&#36133;</span>
        print <span style="color: #8b2252;">"possesive2: $&amp;\n"</span>;
}
</pre>
</div>

<p>
æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨å æœ‰ä¼˜å…ˆåŒ¹é…æ¨¡å¼æ—¶ï¼Œå®ƒåé¢ä¸åº”è¯¥è·Ÿå…¶ä»–è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ <code>a*+x</code> æ°¸
è¿œåŒ¹é…ä¸äº†ä¸œè¥¿ã€‚ç»å¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯ä¸ä¼šå›æº¯çš„ã€‚ä½†æ˜¯å°‘æ•°æƒ…å†µä¸‹ï¼Œå®ƒå¹¶éå¼ºåˆ¶
é”ä½å›æº¯ï¼Œè¿™ä¸ªå’Œæ­£åˆ™å¼•æ“åŒ¹é…åŸç†æœ‰å…³ï¼Œæœ¬æ–‡ä¸å¤šåšè§£é‡Šã€‚
</p>

<p>
å¦å¤–ï¼Œå›ºåŒ–åˆ†ç»„å’Œå æœ‰ä¼˜å…ˆå¹¶ä¸å®Œå…¨ç­‰ä»·ï¼Œå®ƒä»¬åªæ˜¯åŒ¹é…è¡Œä¸ºç›¸åŒï¼šåŒ¹é…åä¸å›
æº¯ã€‚å…·ä½“å¯å¯¹æ¯”åæ–‡å¯¹åº”å†…å®¹ã€‚
</p>
</div>
</div>
<div id="outline-container-h:2621ad54-b51c-45d4-a3d2-63232934beba" class="outline-5">
<h5 id="h:2621ad54-b51c-45d4-a3d2-63232934beba">perlçš„åˆ†ç»„æ•è·å’Œåˆ†ç»„å¼•ç”¨</h5>
<div class="outline-text-5" id="text-h:2621ad54-b51c-45d4-a3d2-63232934beba">
</div>
<ul class="org-ul">
<li><a id="h:300ec17a-4852-44d3-bfa2-f7a948fe3b5a"></a>åˆ†ç»„çš„åŸºæœ¬åº”ç”¨<br>
<div class="outline-text-6" id="text-h:300ec17a-4852-44d3-bfa2-f7a948fe3b5a">
<p>
åœ¨åŸºç¡€æ­£åˆ™ä¸­ï¼Œä½¿ç”¨æ‹¬å·å¯ä»¥å¯¹åŒ¹é…çš„å†…å®¹è¿›è¡Œåˆ†ç»„ï¼Œè¿™ç§è¡Œä¸ºç§°ä¸ºåˆ†ç»„æ•è·ã€‚
æ•è·åå¯ä»¥é€šè¿‡ <code>\1</code> è¿™ç§åå‘å¼•ç”¨æ–¹å¼å»å¼•ç”¨(è®¿é—®)ä¿å­˜åœ¨åˆ†ç»„ä¸­çš„åŒ¹é…ç»“æœã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-ini">"abc11ddabc11" =~ /([a-z]*)([0-9]*)dd\1\2/;
</pre>
</div>

<p>
åœ¨perlä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨=\gN=çš„æ–¹å¼æ¥åå‘å¼•ç”¨åˆ†ç»„ï¼Œè¿™ä¸ªåœ¨ä¸Šä¸€èŠ‚â€åæ–œçº¿åº
åˆ—â€ä¸­å·²ç»è§£é‡Šè¿‡äº†ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯å’Œä¸Šé¢ç­‰ä»·çš„å‡ ç§å†™æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"abc11ddabc11"</span> =~ /([a-z]*)([0-9]*)dd\g1\g2/;
<span style="color: #8b2252;">"abc11ddabc11"</span> =~ /([a-z]*)([0-9]*)dd\g{1}\g{2}/;
<span style="color: #8b2252;">"abc11ddabc11"</span> =~ /([a-z]*)([0-9]*)dd\g{-2}\g{-1}/;
</pre>
</div>

<p>
perlè¿˜ä¼šæŠŠåˆ†ç»„çš„å†…å®¹æ”¾è¿›perlè‡ªå¸¦çš„ç‰¹æ®Šå˜é‡ <code>$1,$2,...,$N</code> ä¸­ï¼Œå®ƒä»¬å’Œ
<code>\1,\2,...\N</code> åœ¨*åŒ¹é…æˆåŠŸæ—¶*çš„ç»“æœä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯ <code>\N</code> è¿™ç§ç±»å‹çš„åå‘
å¼•ç”¨åªåœ¨æ­£åˆ™åŒ¹é…ä¸­æœ‰æ•ˆï¼Œæ­£åˆ™åŒ¹é…ç»“æŸåå°±æ¶ˆäº¡äº†ï¼Œè€Œ <code>$N</code> å› ä¸ºæ˜¯perlçš„å˜
é‡ï¼Œå³ä½¿æ­£åˆ™å·²ç»é€€å‡ºåŒ¹é…ï¼Œä¹Ÿä¾ç„¶å¯ä»¥å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>$N</code> çš„æ–¹
å¼æ¥è¾“å‡ºåˆ†ç»„åŒ¹é…çš„ç»“æœï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"abc11ddabc11"</span> =~ /([a-z]*)([0-9]*)dd\1\2/;
print <span style="color: #8b2252;">"first group \\1: $1\n"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">abc</span>
print <span style="color: #8b2252;">"second group \\2: $2\n"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">11</span>
</pre>
</div>

<p>
æœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š
</p>

<ul class="org-ul">
<li>è¿™äº›åˆ†ç»„å¯èƒ½æ•è·åˆ°çš„æ˜¯ç©ºå€¼(æ¯”å¦‚é‚£äº›å…è®¸åŒ¹é…0æ¬¡çš„é‡è¯)ï¼Œä½†æ˜¯æ•´ä¸ªåŒ¹é…
æ˜¯æˆåŠŸçš„ã€‚è¿™æ—¶å€™å¼•ç”¨åˆ†ç»„æ—¶ï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿå°†æ˜¯ç©ºå€¼</li>
<li>å½“åˆ†ç»„åŒ¹é…å¤±è´¥çš„æ—¶å€™ï¼Œ <code>\1</code> ä¼šåœ¨è¯†åˆ«æ‹¬å·çš„æ—¶å€™é‡ç½®ï¼Œè€Œ$1ä»ä¿å­˜ä¸Šä¸€æ¬¡åˆ†
ç»„æˆåŠŸçš„å€¼</li>
</ul>

<p>
ç¬¬ä¸€ç‚¹ï¼Œç¤ºä¾‹å¯çŸ¥ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"abcde"</span> =~ /([0-9]*)de/;
print <span style="color: #8b2252;">"null group: $1\n"</span>;
</pre>
</div>

<p>
ç¬¬äºŒç‚¹ï¼Œä»æœºåˆ¶ä¸Šå»åˆ†æã€‚ <code>\1</code> æ˜¯æ¯ä¸ªæ­£åˆ™åŒ¹é…éƒ½ç›¸äº’ç‹¬ç«‹çš„ï¼Œè€Œ <code>$1</code> åˆ™ä¿
å­˜åˆ†ç»„æ•è·æˆåŠŸçš„å€¼ï¼Œå³ä½¿è¿™æ¬¡å€¼æ˜¯ä¸Šæ¬¡æ•è·çš„ã€‚
</p>

<p>
æ­£åˆ™åŒ¹é…çš„æ“ä½œå¦‚æœåœ¨åˆ—è¡¨ä¸Šä¸‹æ–‡ï¼Œåˆ™ä¿å­˜å„ä¸ªåˆ†ç»„æ•è·çš„å†…å®¹ã€‚æ‰€ä»¥ï¼Œå‡ºäºæ–¹
ä¾¿ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼ç›´æ¥å°†åˆ†ç»„æ•è·çš„ç»“æœèµ‹å€¼ç»™æŒ‡å®šå˜é‡ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">date</span> = <span style="color: #8b2252;">"2018-11-22"</span>;

($<span style="color: #a0522d;">year</span>,$<span style="color: #a0522d;">mon</span>,$<span style="color: #a0522d;">day</span>) = ($<span style="color: #a0522d;">date</span> =~ /(\d{4})-(\d{2})-(\d{2})/);
</pre>
</div>

<p>
è¿™é‡Œç¨å¾®è§£é‡Šä¸‹æ­£åˆ™åŒ¹é…å…³äºåˆ†ç»„æ•è·çš„åŒ¹é…è¿‡ç¨‹ï¼š
</p>

<p>
ä¾‹å¦‚ï¼ŒåŒ¹é…è¡¨è¾¾å¼ <code>"12abc22abc" =~ /\d(abc)\d\d\1/;</code> ï¼Œå½“æ­£åˆ™å¼•æ“å»åŒ¹é…
æ•°æ®æ—¶ï¼š
</p>

<ol class="org-ol">
<li>é¦–å…ˆåŒ¹é…ç¬¬ä¸€ä¸ªæ•°å­—1ï¼Œå‘ç°ç¬¦åˆ <code>\d</code> ï¼Œäºæ˜¯ç»§ç»­ç”¨ <code>(abc)</code> å»åŒ¹é…å­—ç¬¦ä¸²ï¼Œ
å› ä¸ºå‘ç°äº†æ˜¯åˆ†ç»„æ‹¬å·ï¼Œäºæ˜¯ä¼šå°†ç¬¬äºŒä¸ªå­—ç¬¦2æ”¾è¿›åˆ†ç»„ï¼Œå‘ç°ä¸åŒ¹é…å­—æ¯aï¼Œ
äºæ˜¯åŒ¹é…å¤±è´¥ï¼Œä¸¢å¼ƒè¿™ä¸ªåˆ†ç»„ä¸­çš„å†…å®¹ã€‚</li>
<li>æ­£åˆ™å¼•æ“ç»§ç»­å‘ååŒ¹é…æ•°å€¼2ï¼Œå‘ç°ç¬¦åˆ <code>\d</code> ï¼Œäºæ˜¯ç”¨ <code>(abc)</code> å»åŒ¹é…å­—
ç¬¦ä¸²ï¼Œæ¥ç€ä¼šå°†ç¬¬ä¸‰ä¸ªå­—ç¬¦aæ”¾è¿›åˆ†ç»„ï¼Œå‘ç°èƒ½åŒ¹é…ï¼Œç»§ç»­åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„bã€
cå‘ç°éƒ½èƒ½åŒ¹é…ï¼Œäºæ˜¯åˆ†ç»„æ•è·å®Œæˆï¼Œå°†å…¶èµ‹å€¼ç»™ <code>$1</code> ï¼Œä¹‹åå°±èƒ½ç”¨ <code>\1</code>
å’Œ <code>$1</code> å»å¼•ç”¨è¿™ä¸ªåˆ†ç»„çš„å†…å®¹ã€‚</li>
<li>åé¢ç»§ç»­å»åŒ¹é… <code>\d\d\1</code> ï¼Œç›´åˆ°åŒ¹é…ç»“æŸã€‚</li>
</ol>

<p>
å½“ç„¶ï¼Œå…·ä½“åŒ¹é…çš„è¿‡ç¨‹ä¸ä¼šçœŸçš„è¿™ä¹ˆç®€å•ï¼Œå®ƒä¼šæœ‰ä¸€äº›ä¼˜åŒ–åŒ¹é…æ–¹å¼ï¼Œä»¥ä¸Šåªæ˜¯
ç”¨é€»è¾‘å»æè¿°åŒ¹é…çš„è¿‡ç¨‹ã€‚
</p>
</div>
</li>
<li><a id="h:2f132e98-512c-4405-b2e8-a05c67aa825d"></a>perlä¸­æ›´å¼ºå¤§çš„åˆ†ç»„æ•è·<br>
<div class="outline-text-6" id="text-h:2f132e98-512c-4405-b2e8-a05c67aa825d">
<p>
åœ¨perlä¸­ï¼Œæ”¯æŒçš„åˆ†ç»„æ•è·æ›´å¼ºå¤§ã€æ›´å®Œæ•´ï¼Œå®ƒé™¤äº†æ”¯æŒæ™®é€šåˆ†ç»„(ä¹Ÿå°±æ˜¯ç›´æ¥
ç”¨æ‹¬å·çš„åˆ†ç»„)ï¼Œè¿˜æ”¯æŒï¼š
</p>

<ul class="org-ul">
<li>å‘½åæ•è· <code>(?&lt;NAME&gt;...)</code> ï¼šæ•è·åæ”¾è¿›ä¸€ä¸ªå·²åˆ†é…å¥½åç§°(å³NAME)çš„åˆ†ç»„ä¸­ï¼Œ
ä»¥åå¯ä»¥ä½¿ç”¨è¿™ä¸ªåç§°æ¥å¼•ç”¨è¿™ä¸ªåˆ†ç»„ï¼Œå¦‚ <code>\g{NAME}</code> å¼•ç”¨</li>
<li>åŒ¿åæ•è· <code>(?:...)</code> ï¼šä»…åˆ†ç»„ï¼Œä¸æ•è·ï¼Œæ‰€ä»¥åé¢æ— æ³•å†å¼•ç”¨è¿™ä¸ªæ•è·</li>
<li>å›ºåŒ–åˆ†ç»„ <code>(?&gt;...)</code> ï¼šä¸€åŒ¹é…æˆåŠŸå°±æ°¸ä¸äº¤å›å†…å®¹(ç”¨å›æº¯çš„æƒ³æ³•ç†è§£å¾ˆå®¹æ˜“)</li>
</ul>

<p>
<b>åŒ¿åæ•è·</b>
</p>

<p>
åŒ¿åæ•è·æ˜¯æŒ‡ä»…åˆ†ç»„ï¼Œä¸æ•è·ã€‚å› ä¸ºä¸æ•è·ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨åå‘å¼•ç”¨ï¼Œä¹Ÿä¸ä¼šå°†
åˆ†ç»„ç»“æœèµ‹å€¼ç»™ <code>$1</code> è¿™ç§ç‰¹æ®Šå˜é‡ã€‚
</p>

<p>
è™½ç„¶æœ‰äº†åˆ†ç»„æ•è·åŠŸèƒ½ï¼Œå°±å¯ä»¥å®ç°ä»»ä½•éœ€æ±‚ï¼Œä½†æœ‰æ—¶å€™å¯ä»¥è®©è¿™ç§è¡Œä¸ºå˜å¾—æ›´
äººæ€§åŒ–ï¼Œå‡å°‘ç»´æŠ¤åŠ›åº¦ã€‚
</p>

<p>
ä¾‹å¦‚å­—ç¬¦ä¸²â€xiaofang or xiaomingâ€ï¼Œä½¿ç”¨æ¨¡å¼ <code>/(\w+) or (\w+)/</code> å»æ•è·ï¼Œ
ç”¨ <code>$1</code> å’Œ <code>$2</code> åˆ†åˆ«å¼•ç”¨orå·¦å³ä¸¤ä¸ªå•è¯ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span> = <span style="color: #8b2252;">"xiaofang or xiaoming"</span>;
<span style="color: #a020f0;">if</span> ($<span style="color: #a0522d;">str</span> =~ /(\w+) or (\w+)/){
    print <span style="color: #8b2252;">"name1: $1, name2: $2\n"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">name1: xiaofang, name2: xiaoming</span>
}
</pre>
</div>

<p>
ä½†å¦‚æœéœ€æ±‚æ˜¯ä¸­é—´çš„å…³ç³»orä¹Ÿå¯ä»¥æ¢æˆandï¼Œä¸ºäº†åŒæ—¶æ»¡è¶³andå’Œorä¸¤ç§éœ€æ±‚ï¼Œä½¿
ç”¨æ¨¡å¼ <code>/(\w+) (and|or) (\w+)/</code> å»åŒ¹é…ï¼Œä½†æ˜¯è¿™æ—¶å¼•ç”¨çš„åºå·å°±å¾—ç”± <code>$2</code>
å˜ä¸º <code>$3</code> ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span> = <span style="color: #8b2252;">"xiaofang or xiaoming"</span>;
<span style="color: #a020f0;">if</span> ($<span style="color: #a0522d;">str</span> =~ /(\w+) (or|and) (\w+)/){
    print <span style="color: #8b2252;">"name1: $1, name2: $3\n"</span>;
}
</pre>
</div>

<p>
å¦‚æœä½¿ç”¨åŒ¿åæ•è·ï¼Œå¯¹andå’Œorè¿™æ ·æ— å…³ç´§è¦ï¼Œå´æœ‰å¯èƒ½æ”¹å˜åŒ¹é…è¡Œä¸ºçš„å†…å®¹ï¼Œ
å¯ä»¥å°†å…¶æ”¾è¿›ä¸€ä¸ªæ— å…³çš„åˆ†ç»„ä¸­ã€‚è¿™æ ·ä¸ä¼šå¯¹åŸæœ‰çš„å…¶ä½™æ­£åˆ™è¡¨è¾¾å¼äº§ç”Ÿä»»ä½•å½±
å“ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span> = <span style="color: #8b2252;">"xiaofang or xiaoming"</span>;
<span style="color: #a020f0;">if</span> ($<span style="color: #a0522d;">str</span> =~ /(\w+) (?:or|and) (\w+)/){
    print <span style="color: #8b2252;">"name1: $1, name2: $2\n"</span>;
}
</pre>
</div>

<p>
æ³¨æ„ä¸Šé¢ä»ç„¶ä½¿ç”¨ <code>$2</code> å¼•ç”¨ç¬¬ä¸‰ä¸ªæ‹¬å·ã€‚
</p>

<p>
åŒæ ·ï¼Œå¦‚æœè¦åœ¨æ­£åˆ™å†…éƒ¨ä½¿ç”¨åå‘å¼•ç”¨ï¼Œä¹Ÿä¸€æ ·ä½¿ç”¨ <code>\2</code> æ¥å¼•ç”¨ç¬¬ä¸‰ä¸ªæ‹¬å·ã€‚
</p>

<p>
å¦å¤–ï¼Œåœ¨å‰æ–‡è¿˜ä»‹ç»è¿‡ä¸€ä¸ª <code>n</code> ä¿®é¥°ç¬¦ï¼Œå®ƒä¹Ÿè¡¨ç¤ºéæ•è·ä»…åˆ†ç»„è¡Œä¸ºã€‚ä½†å®ƒåª
å¯¹æ™®é€šåˆ†ç»„æœ‰æ•ˆï¼Œå¯¹å‘½ååˆ†ç»„æ— æ•ˆã€‚ä¸”å› ä¸ºå®ƒæ˜¯ä¿®é¥°ç¬¦ï¼Œå®ƒä¼šä½¿æ‰€æœ‰çš„æ™®é€šåˆ†ç»„
éƒ½å˜æˆéæ•è·æ¨¡å¼ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span> = <span style="color: #8b2252;">"xiaofang or xiaoming"</span>;
<span style="color: #a020f0;">if</span> ($<span style="color: #a0522d;">str</span> =~ /(\w+) (or|and) (\w+)/n){
    print <span style="color: #8b2252;">"name1: $1, name2: $2\n"</span>;
}
</pre>
</div>

<p>
ç”±äºä¸Šé¢å¼€å¯äº†nä¿®é¥°ç¬¦ï¼Œä½¿å¾—3ä¸ªæ™®é€šåˆ†ç»„æ‹¬å·éƒ½å˜æˆéæ•è·ä»…åˆ†ç»„è¡Œä¸ºï¼Œæ‰€ä»¥
<code>\1</code> å’Œ <code>$1</code> éƒ½æ— æ³•ä½¿ç”¨ã€‚é™¤éæ­£åˆ™ä¸­ä½¿ç”¨äº†å‘½ååˆ†ç»„ã€‚
</p>

<p>
<b>å‘½åæ•è·</b>
</p>

<p>
å‘½åæ•è·æ˜¯æŒ‡å°†æ•è·åˆ°çš„å†…å®¹æ”¾è¿›åˆ†ç»„ï¼Œè¿™ä¸ªåˆ†ç»„æ˜¯æœ‰åç§°çš„åˆ†ç»„ï¼Œæ‰€ä»¥åé¢å¯
ä»¥ä½¿ç”¨åˆ†ç»„åå»å¼•ç”¨å·²æ•è·è¿›è¿™ä¸ªåˆ†ç»„çš„å†…å®¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå’Œæ™®é€šåˆ†ç»„å¹¶æ— åŒºåˆ«ã€‚
</p>

<p>
å½“è¦è¿›è¡Œå‘½åæ•è·æ—¶ï¼Œä½¿ç”¨ <code>(?&lt;NAME&gt;)</code> çš„æ–¹å¼æ›¿ä»£ä»¥å‰çš„åˆ†ç»„æ‹¬å· <code>()</code> å³
å¯ã€‚ä¾‹å¦‚ï¼Œè¦åŒ¹é…abcå¹¶å°†å…¶åˆ†ç»„ï¼Œä»¥å‰æ™®é€šåˆ†ç»„çš„æ–¹å¼æ˜¯ <code>(abc)</code> ï¼Œå¦‚æœå°†å…¶
æ”¾è¿›å‘½åä¸ºname1çš„åˆ†ç»„ä¸­ï¼š <code>(?&lt;name1&gt;abc)</code> ã€‚
</p>

<p>
å½“ä½¿ç”¨å‘½åæ•è·çš„æ—¶å€™ï¼Œè¦åœ¨æ­£åˆ™å†…éƒ¨å¼•ç”¨è¿™ä¸ªå‘½åæ•è·ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨åºå·ç±»
çš„ç»å¯¹å¼•ç”¨(å¦‚ <code>\1</code> æˆ– <code>\g1</code> æˆ– <code>\g{1}</code> )ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»æ„ä¸€ç§æŒ‰åç§°
å¼•ç”¨æ–¹å¼ï¼š
</p>

<ul class="org-ul">
<li><code>\g{NAME}</code></li>
<li><code>\k{NAME}</code></li>
<li><code>\k&lt;NAME&gt;</code></li>
<li><code>\k'NAME'</code></li>
</ul>

<p>
å¦‚æœè¦åœ¨æ­£åˆ™å¤–éƒ¨å¼•ç”¨è¿™ä¸ªå‘½åæ•è·ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨åºå·ç±»çš„ç»å¯¹åº”ç”¨(å¦‚ <code>$1</code>
)ï¼Œè¿˜å¯ä»¥ä½¿ç”¨=$+{NAME}=çš„æ–¹å¼ã€‚
</p>

<p>
å®é™…ä¸Šï¼Œåä¸€ç§å¼•ç”¨æ–¹å¼çš„æœ¬è´¨æ˜¯perlå°†å‘½åæ•è·çš„å†…å®¹æ”¾è¿›äº†ä¸€ä¸ªåä¸º <code>%+</code>
çš„ç‰¹æ®Šhashç±»å‹ä¸­ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ <code>$+{NAME}</code> çš„æ–¹å¼å¼•ç”¨ï¼Œå¦‚æœä½ ä¸çŸ¥é“è¿™ä¸€
ç‚¹ï¼Œé‚£å°±æ— è§†ä¸æ­¤ç›¸å…³çš„å†…å®¹å³å¯ï¼Œä¸è¿‡éƒ½å¾ˆç®€å•ï¼Œä¸€çœ‹å°±æ‡‚ã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span> = <span style="color: #8b2252;">"ma xiaofang or ma xiaoming"</span>;
<span style="color: #a020f0;">if</span> ($<span style="color: #a0522d;">str</span> =~ /
            (?&lt;firstname&gt;\w+)\s  <span style="color: #b22222;"># </span><span style="color: #b22222;">firstname -&gt; ma</span>
            (?&lt;name1&gt;\w+)\s      <span style="color: #b22222;"># </span><span style="color: #b22222;">name1 -&gt; xiaofang</span>
            (?:or|and)\s      <span style="color: #b22222;"># </span><span style="color: #b22222;">group only, no capture</span>
            \g1\s                <span style="color: #b22222;"># </span><span style="color: #b22222;">\g1 -&gt; ma</span>
            (?&lt;name2&gt;\w+)        <span style="color: #b22222;"># </span><span style="color: #b22222;">name2 -&gt; xiaoming</span>
            /x){
    print <span style="color: #8b2252;">"$1\n"</span>;
    print <span style="color: #8b2252;">"$2\n"</span>;
    print <span style="color: #8b2252;">"$3\n"</span>;
    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25110;&#32773;&#25351;&#23450;&#21517;&#31216;&#26469;&#24341;&#29992;</span>
    print <span style="color: #8b2252;">"$+{firstname}\n$+{name1}\n$+{name2}\n"</span>;
}
</pre>
</div>

<p>
å…¶ä¸­ä¸Šè¿°ä»£ç ä¸­çš„ <code>\g1</code> è¿˜å¯ä»¥æ›¿æ¢ä¸º <code>\1</code> ã€ <code>\g{firstname}</code> ã€
<code>\k{firstname}</code> æˆ– <code>\k&lt;firstname&gt;</code> ã€‚
</p>

<p>
é€šè¿‡ä½¿ç”¨å‘½åæ•è·ï¼Œå¯ä»¥æ— è§†åºå·ï¼Œç›´æ¥ä½¿ç”¨åç§°å³å¯å‡†ç¡®å¼•ç”¨ã€‚
</p>

<p>
<b>å›ºåŒ–åˆ†ç»„</b>
</p>

<p>
é¦–å…ˆ <b>å›ºåŒ–åˆ†ç»„ä¸æ˜¯ä¸€ç§åˆ†ç»„ï¼Œæ‰€ä»¥æ— æ³•å»å¼•ç”¨å®ƒ</b> ã€‚å®ƒå’Œâ€å æœ‰ä¼˜å…ˆâ€åŒ¹é…æ¨¡
å¼(è´ªå©ªåŒ¹é…ã€æƒ°æ€§åŒ¹é…ã€å æœ‰ä¼˜å…ˆåŒ¹é…ä¸‰ç§åŒ¹é…æ¨¡å¼ï¼Œè§åæ–‡)æ˜¯ç­‰ä»·çš„é™¤äº†è¿™
ä¸¤ç§ç§°å‘¼ï¼Œåœ¨ä¸åŒçš„ä¹¦ã€ä¸åŒçš„è¯­è¨€é‡Œè¿˜æœ‰ä¸€ç§ç§°å‘¼ï¼šåŸå­åŒ¹é…ã€‚
</p>

<p>
å®ƒçš„è¡¨ç¤ºå½¢å¼ç±»ä¼¼äºåˆ†ç»„ <code>(?&gt;)</code> ï¼Œæ‰€ä»¥æœ‰äº›åœ°æ–¹å°†å…¶ç§°å‘¼ä¸ºâ€å›ºåŒ–åˆ†ç»„â€ã€‚å†
æ¬¡è¯´æ˜ï¼Œå›ºåŒ–åˆ†ç»„ä¸æ˜¯åˆ†ç»„ï¼Œæ— æ³•è¿›è¡Œå¼•ç”¨ã€‚å¦‚æœéè¦å°†å…¶çœ‹ä½œæ˜¯åˆ†ç»„ï¼Œå¯ä»¥å°†
å…¶ç†è§£ä¸ºè¢«é™å®šçš„åŒ¿ååˆ†ç»„ï¼šä¸æ•è·ï¼Œåªåˆ†ç»„ã€‚
</p>

<ol class="org-ol">
<li>æŒ‰ç…§â€å æœ‰ä¼˜å…ˆâ€çš„å­—é¢æ„ä¹‰æ¥ç†è§£æ¯”è¾ƒå®¹æ˜“ï¼šåªè¦åŒ¹é…æˆåŠŸäº†ï¼Œå°±ç»ä¸å›
æº¯ã€‚</li>
<li>å¦‚æœæŒ‰ç…§å›ºåŒ–åˆ†ç»„çš„æ¦‚å¿µæ¥ç†è§£ï¼Œå°±æ˜¯å°†åŒ¹é…æˆåŠŸçš„å†…å®¹æ”¾è¿›åˆ†ç»„åï¼Œå°†å…¶
å›ºå®šï¼Œä¸å…è®¸è¿›è¡Œå›æº¯ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œ*è¿™é‡Œçš„ä¸å›æº¯æ˜¯æ”¾è¿›åˆ†ç»„ä¸­çš„å†…å®¹
ä¸ä¼šå›æº¯ç»™åˆ†ç»„å¤–é¢ï¼Œè€Œåˆ†ç»„å†…éƒ¨çš„å†…å®¹æ˜¯å¯ä»¥å›æº¯çš„*ã€‚</li>
</ol>

<p>
å¦‚æœä¸çŸ¥é“ä»€ä¹ˆæ˜¯å›æº¯ï¼Œçœ‹å®Œä¸‹é¢çš„ä¾‹å­å°±æ˜ç™½ã€‚
</p>

<p>
ä¾‹å¦‚â€hello worldâ€å¯ä»¥è¢« <code>hel.* world</code> æˆåŠŸåŒ¹é…ï¼Œä½†ä¸èƒ½è¢« <code>hel(?&gt;.*)
world</code> åŒ¹é…ã€‚å› ä¸ºæ­£å¸¸æƒ…å†µä¸‹ï¼Œ <code>.*</code> åŒ¹é…åˆ°æ‰€æœ‰å†…å®¹ï¼Œç„¶åå¾€å›é‡Šæ”¾å·²åŒ¹é…
çš„å†…å®¹ç›´åˆ°é‡Šæ”¾å®Œç©ºæ ¼ä¸ºæ­¢ï¼Œè¿™ç§å¾€å›é‡Šæ”¾å­—ç¬¦çš„è¡Œä¸ºåœ¨æ­£åˆ™æœ¯è¯­ä¸­ç§°ä¸ºâ€å›
æº¯â€ã€‚è€Œå›ºåŒ–åˆ†ç»„åï¼Œ <code>.*</code> å·²åŒ¹é…åé¢æ‰€æœ‰å†…å®¹ï¼Œè¿™äº›å†…å®¹ä¸€ç»åŒ¹é…ç»ä¸äº¤å›ï¼Œ
å³æ— æ³•å›æº¯ã€‚
</p>

<p>
ä½†æ˜¯ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼æ˜¯ <code>hel(?&gt;.* world)</code> ï¼Œå³å°†åŸæ¥åˆ†ç»„å¤–é¢çš„å†…å®¹æ”¾è¿›
äº†åˆ†ç»„å†…éƒ¨ï¼Œè¿™æ—¶åœ¨åˆ†ç»„å†…éƒ¨æ˜¯ä¼šå›æº¯çš„ï¼Œä¹Ÿå°±æ˜¯è¯´èƒ½åŒ¹é…â€hello worldâ€ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"ma long.xi gao xiaofang"</span>;
<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">str</span> =~ /ma (?&gt;long.*)/){     <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25104;&#21151;</span>
    print <span style="color: #8b2252;">"matched\n"</span>;
}

<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">str</span> =~ /ma (?&gt;long.*)gao/){   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22833;&#36133;</span>
    print <span style="color: #8b2252;">"matched\n"</span>;
}

<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">str</span> =~ /ma (?&gt;long.*gao)/){   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25104;&#21151;</span>
    print <span style="color: #8b2252;">"matched\n"</span>;
}

<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">str</span> =~ /ma (?&gt;long.*g)ao/){   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25104;&#21151;</span>
    print <span style="color: #8b2252;">"matched\n"</span>;
}
</pre>
</div>

<p>
å›ºåŒ–åˆ†ç»„çœ‹ä¸Šå»æŒºç®€å•çš„ï¼Œæ­¤å¤„ä¹Ÿä»…ä»‹ç»äº†å®ƒæœ€ç®€å•çš„å½¢å¼ã€‚ä½†å®é™…ä¸Šå›ºåŒ–åˆ†ç»„
å¾ˆå¤æ‚ï¼Œå®ƒæ¶‰åŠäº†éå¸¸å¤æ‚çš„æ­£åˆ™å¼•æ“åŒ¹é…åŸç†å’Œå›æº¯æœºåˆ¶ã€‚å¦‚æœæœ‰å…´è¶£ï¼Œå¯ä»¥
é˜…è¯»ã€Šç²¾é€šæ­£åˆ™è¡¨è¾¾å¼ã€‹ä¸€ä¹¦çš„ç¬¬å››ç« ã€‚
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-h:f5d908cc-7138-4a32-bde1-5fa5fe4350c2" class="outline-5">
<h5 id="h:f5d908cc-7138-4a32-bde1-5fa5fe4350c2">ç¯è§†é”šå®š(æ–­è¨€)</h5>
<div class="outline-text-5" id="text-h:f5d908cc-7138-4a32-bde1-5fa5fe4350c2">
<p>
"ç¯è§†"é”šå®šï¼Œå³lookaround anchorï¼Œä¹Ÿç§°ä¸ºâ€é›¶å®½æ–­è¨€â€ï¼Œå®ƒè¡¨ç¤ºåŒ¹é…çš„æ˜¯ä½
ç½®ï¼Œä¸æ˜¯å­—ç¬¦ã€‚
</p>

<pre class="example" id="org4630f41">
- (?=...) è¡¨ç¤ºä»å·¦å‘å³çš„é¡ºåºç¯è§†ã€‚ä¾‹å¦‚ (?=\d) è¡¨ç¤ºå½“å‰å­—ç¬¦çš„å³è¾¹æ˜¯ä¸€ä¸ªæ•°å­—æ—¶å°±æ»¡è¶³æ¡ä»¶
- (?!...) è¡¨ç¤ºé¡ºåºç¯è§†çš„å–åã€‚å¦‚ (?!\d) è¡¨ç¤ºå½“å‰å­—ç¬¦çš„å³è¾¹ä¸æ˜¯ä¸€ä¸ªæ•°å­—æ—¶å°±æ»¡è¶³æ¡ä»¶
- (?&lt;=...) è¡¨ç¤ºä»å³å‘å·¦çš„é€†åºç¯è§†ã€‚ä¾‹å¦‚ (?&lt;=\d) è¡¨ç¤ºå½“å‰å­—ç¬¦çš„å·¦è¾¹æ˜¯ä¸€ä¸ªæ•°å­—æ—¶å°±æ»¡è¶³æ¡ä»¶
- (?&lt;!)...  è¡¨ç¤ºé€†åºç¯è§†çš„å–åã€‚å¦‚ (?&lt;!\d) è¡¨ç¤ºå½“å‰å­—ç¬¦çš„å·¦è¾¹ä¸æ˜¯ä¸€ä¸ªæ•°å­—æ—¶å°±æ»¡è¶³æ¡ä»¶
</pre>

<p>
å…³äºâ€ç¯è§†â€é”šå®šï¼Œæœ€éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯åŒ¹é…çš„ç»“æœä¸å ç”¨ä»»ä½•å­—ç¬¦ï¼Œå®ƒä»…ä»…åªæ˜¯é”šå®šä½ç½®ã€‚æ‰€ä»¥æ–­è¨€åªæ˜¯ä¸ªæ¡ä»¶ã€‚
</p>

<p>
ä¾‹å¦‚â€your name is xiaoming MAâ€å’Œâ€your name is longfei MAâ€ã€‚ä½¿ç”¨
<code>(?=xiaoming)</code> å°†èƒ½é”šå®šç¬¬ä¸€ä¸ªå¥å­ä¸­å•è¯â€xiaomingâ€å‰é¢çš„ç©ºå­—ç¬¦ï¼Œä½†å®ƒ
çš„åŒ¹é…ç»“æœæ˜¯â€xiaomingâ€å‰çš„ç©ºç™½å­—ç¬¦ï¼Œæ‰€ä»¥ <code>(?=xiaoming)xiao</code> æ‰èƒ½ä»£
è¡¨â€xiaoâ€è¿™å‡ ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä»…å¯¹äºæ­¤å¤„çš„ä¸¤ä¸ªå¥å­ï¼Œ <code>xiao(?=ming)</code> å’Œ
<code>(?=xiaoming)xiao</code> æ˜¯ç­‰ä»·çš„ã€‚
</p>

<p>
ä¸€èˆ¬ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œåœ¨é¡ºåºç¯è§†çš„æ—¶å€™ä¼šå°†åŒ¹é…å†…å®¹æ”¾åœ¨é”šå®šæ‹¬å·çš„å·¦è¾¹(å¦‚
<code>xiao(?=xiaoming)</code> )ï¼Œåœ¨é€†åºç¯è§†çš„æ—¶å€™ä¼šå°†åŒ¹é…çš„å†…å®¹æ”¾åœ¨é”šå®šæ‹¬å·çš„å³è¾¹
(å¦‚ <code>(?&lt;=xiao)ming</code> )ã€‚
</p>

<p>
å¦å¤–ï¼Œæ— è®ºæ˜¯å“ªç§é”šå®šï¼Œéƒ½æ˜¯ä»å·¦å‘å³åŒ¹é…å†åšå›æº¯çš„(å‡è®¾å…è®¸å›æº¯)ï¼Œå³ä½¿æ˜¯
é€†åºç¯è§†ã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"abc123abcc12c34"</span>;

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#39034;&#24207;&#29615;&#35270;</span>
$<span style="color: #a0522d;">str</span> =~ /a.*c(?=\d)/;     <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123abcc12c</span>
print <span style="color: #8b2252;">"$&amp;\n"</span>;

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#39034;&#24207;&#21542;&#23450;&#29615;&#35270;</span>
$<span style="color: #a0522d;">str</span> =~ /a.*c(?!\d)/;     <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123abc</span>
print <span style="color: #8b2252;">"$&amp;\n"</span>;

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#36870;&#24207;&#29615;&#35270;&#65292;&#36825;&#37324;&#33021;&#36870;&#24207;&#21305;&#37197;&#25104;&#21151;&#65292;&#38752;&#30340;&#26159;&#38170;&#23450;&#25324;&#21495;&#21518;&#38754;&#30340;c</span>
$<span style="color: #a0522d;">str</span> =~ /a.*(?&lt;=\d)c/;    <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123abcc12c</span>
print <span style="color: #8b2252;">"$&amp;\n"</span>;

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#36870;&#24207;&#21542;&#23450;&#29615;&#35270;</span>
$<span style="color: #a0522d;">str</span> =~ /a.*(?&lt;!\d)c/;    <span style="color: #b22222;"># </span><span style="color: #b22222;">abc123abcc</span>
print <span style="color: #8b2252;">"$&amp;\n"</span>;
</pre>
</div>

<p>
é€†åºç¯è§†çš„è¡¨è¾¾å¼å¿…é¡»åªèƒ½è¡¨ç¤ºå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ <code>(?&lt;=word)</code> æˆ–
<code>(?&lt;=word|word)</code> å¯ä»¥ï¼Œä½† <code>(?&lt;=word?)</code> ä¸å¯ä»¥ï¼Œå› ä¸º <code>?</code> åŒ¹é…0æˆ–1é•¿åº¦ï¼Œ
é•¿åº¦ä¸å®šï¼Œå®ƒæ— æ³•å¯¹å·¦è¾¹æ˜¯wordè¿˜æ˜¯wordxåšæ­£ç¡®åˆ¤æ–­ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"hello worlds Gaoxiaofang"</span>;
$<span style="color: #a0522d;">str</span> =~ /he.*(?&lt;=worlds?) Gao/;         <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25253;&#38169;</span>
$<span style="color: #a0522d;">str</span> =~ /he.*(?&lt;=worlds|world) Gao/;    <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25253;&#38169;</span>
</pre>
</div>

<p>
åœ¨PCREä¸­ï¼Œè¿™ç§å˜é•¿çš„é€†åºç¯è§†é”šå®šå¯é‡å†™ä¸º <code>(?&lt;=word|words)</code> ï¼Œä½†perlä¸­
ä¸å…è®¸ï¼Œå› ä¸ºperlä¸¥æ ¼è¦æ±‚é•¿åº¦å¿…é¡»å›ºå®šã€‚
</p>
</div>
</div>
<div id="outline-container-h:e0859264-62af-4112-8e1a-7b39cabc3c5a" class="outline-5">
<h5 id="h:e0859264-62af-4112-8e1a-7b39cabc3c5a">\Q&#x2026;\E</h5>
<div class="outline-text-5" id="text-h:e0859264-62af-4112-8e1a-7b39cabc3c5a">
<p>
perlä¸­çš„ <code>\Q...\E</code> ç”¨æ¥å¼ºåˆ¶åŒ…å›´ä¸€æ®µå­—ç¬¦ï¼Œä½¿å¾—é‡Œé¢çš„æ­£åˆ™ç¬¦å·éƒ½å½“åšæ™®é€š
å­—ç¬¦ï¼Œä¸ä¼šæœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œå®ƒæ˜¯ä¸€ç§éå¸¸å¼ºçš„å¼•ç”¨ã€‚ä½†æ³¨æ„ï¼Œå®ƒæ— æ³•å¼ºåˆ¶å˜é‡çš„æ›¿
æ¢ã€‚
</p>

<p>
ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">sub</span>=<span style="color: #8b2252;">"world"</span>;
$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"hello worlds gaoxiaofang"</span>;
$<span style="color: #a0522d;">str</span> =~ /\Q$<span style="color: #a0522d;">sub</span>\E/;  <span style="color: #b22222;"># </span><span style="color: #b22222;">$sub&#20250;&#26367;&#25442;&#65292;&#25152;&#20197;&#21305;&#37197;&#25104;&#21151;world</span>
$<span style="color: #a0522d;">str</span> =~ /\Q$<span style="color: #a0522d;">sub</span>.\E/; <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20803;&#23383;&#31526;"."&#34987;&#24403;&#20570;&#26222;&#36890;&#30340;&#23383;&#31526;&#65292;&#25152;&#20197;&#26080;&#27861;&#21305;&#37197;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:493838d5-ac4a-4579-ac53-117d69da255b" class="outline-4">
<h4 id="h:493838d5-ac4a-4579-ac53-117d69da255b">qr//åˆ›å»ºæ­£åˆ™å¯¹è±¡</h4>
<div class="outline-text-4" id="text-h:493838d5-ac4a-4579-ac53-117d69da255b">
<p>
å› ä¸ºå¯ä»¥åœ¨æ­£åˆ™æ¨¡å¼ä¸­ä½¿ç”¨å˜é‡æ›¿æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æ­£åˆ™ä¸­çš„ä¸€éƒ¨åˆ†è¡¨è¾¾å¼äº‹
å…ˆä¿å­˜åœ¨å˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"hello worlds gaoxiaofang"</span>;
$<span style="color: #a0522d;">pattern</span>=<span style="color: #8b2252;">"w.*d"</span>;
$<span style="color: #a0522d;">str</span> =~ /$<span style="color: #a0522d;">pattern</span>/;
print <span style="color: #8b2252;">"$&amp;\n"</span>;
</pre>
</div>

<p>
ä½†æ˜¯ï¼Œè¿™æ ·ç¼ºé™·å¾ˆå¤§ï¼Œåœ¨ä¿å­˜æ­£åˆ™è¡¨è¾¾å¼çš„å˜é‡ä¸­å­˜æ”¾çš„ç‰¹æ®Šå­—ç¬¦è¦é˜²æ­¢æœ‰ç‰¹æ®Š
æ„ä¹‰ã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ <code>m//</code> çš„æ–¹å¼åšåŒ¹é…åˆ†éš”ç¬¦æ—¶ï¼Œä¸èƒ½åœ¨å˜é‡ä¸­ä¿å­˜ <code>/</code> ï¼Œ
é™¤éè½¬ä¹‰ã€‚
</p>

<p>
perlæä¾›äº† <code>qr/pattern/</code> çš„åŠŸèƒ½ï¼Œå®ƒæŠŠpatternéƒ¨åˆ†æ„å»ºæˆä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹
è±¡ï¼Œç„¶åå°±å¯ä»¥åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ç›´æ¥å¼•ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæ›´æ–¹ä¾¿çš„æ˜¯å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡
ä¿å­˜åˆ°å˜é‡ä¸­ï¼Œé€šè¿‡å¼•ç”¨å˜é‡çš„æ–¹å¼æ¥å¼•ç”¨è¿™ä¸ªå·²ä¿å­˜å¥½çš„æ­£åˆ™å¯¹è±¡ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"hello worlds gaoxiaofang"</span>;

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#30452;&#25509;&#20316;&#20026;&#27491;&#21017;&#34920;&#36798;&#24335;</span>
$<span style="color: #a0522d;">str</span> =~ qr/w.*d/;
print <span style="color: #8b2252;">"$&amp;\n"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">world</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20445;&#23384;&#20026;&#21464;&#37327;&#65292;&#20877;&#20316;&#20026;&#27491;&#21017;&#34920;&#36798;&#24335;</span>
$<span style="color: #a0522d;">pattern</span>=qr/w.*d/;
$<span style="color: #a0522d;">str</span> =~ $<span style="color: #a0522d;">pattern</span>;    <span style="color: #b22222;"># </span><span style="color: #b22222;">(1)</span>
$<span style="color: #a0522d;">str</span> =~ /$<span style="color: #a0522d;">pattern</span>/;  <span style="color: #b22222;"># </span><span style="color: #b22222;">(2)</span>
print <span style="color: #8b2252;">"$&amp;\n"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">world</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#20445;&#23384;&#20026;&#21464;&#37327;&#65292;&#20316;&#20026;&#27491;&#21017;&#34920;&#36798;&#24335;&#30340;&#19968;&#37096;&#20998;</span>
$<span style="color: #a0522d;">pattern</span>=qr/w.*d/;
$<span style="color: #a0522d;">str</span> =~ /hel.* $<span style="color: #a0522d;">pattern</span>/;
print <span style="color: #8b2252;">"$&amp;\n"</span>; <span style="color: #b22222;">#</span><span style="color: #b22222;">hello world</span>
</pre>
</div>

<p>
è¿˜å…è®¸ä¸ºè¿™ä¸ªæ­£åˆ™å¯¹è±¡è®¾ç½®ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¿½ç•¥å¤§å°å†™çš„åŒ¹é…ä¿®é¥°ç¬¦ä¸ºiï¼Œè¿™æ ·åœ¨
çœŸæ­£åŒ¹é…çš„æ—¶å€™ï¼Œå°±åªæœ‰è¿™ä¸€éƒ¨åˆ†æ­£åˆ™å¯¹è±¡ä¼šå¿½ç•¥å¤§å°å†™ï¼Œå…¶ä½™éƒ¨åˆ†ä»ç„¶åŒºåˆ†å¤§
å°å†™ã€‚
</p>

<div class="org-src-container">
<pre class="src src-sh">$<span style="color: #a0522d;">str</span>=<span style="color: #8b2252;">"HELLO wORLDs gaoxiaofang"</span>;

$<span style="color: #a0522d;">pattern</span>=qr/w.*d/i;         <span style="color: #b22222;"># </span><span style="color: #b22222;">&#24573;&#30053;&#22823;&#23567;&#20889;</span>

$<span style="color: #a0522d;">str</span> =~ /HEL.* $<span style="color: #a0522d;">pattern</span>/;   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65292;$pattern&#37096;&#20998;&#24573;&#30053;&#22823;&#23567;&#20889;</span>
$<span style="color: #a0522d;">str</span> =~ /hel.* $<span style="color: #a0522d;">pattern</span>/;   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#22833;&#36133;</span>
$<span style="color: #a0522d;">str</span> =~ /hel.* $<span style="color: #a0522d;">pattern</span>/i;  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;&#25104;&#21151;&#65292;&#25152;&#26377;&#37117;&#24573;&#30053;&#22823;&#23567;&#20889;</span>
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:5c8deae3-a8b3-4a3a-9ce4-29a9d9f6bdb2" class="outline-2">
<h2 id="h:5c8deae3-a8b3-4a3a-9ce4-29a9d9f6bdb2">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢</h2>
<div class="outline-text-2" id="text-h:5c8deae3-a8b3-4a3a-9ce4-29a9d9f6bdb2">
<ul class="org-ul">
<li>grep å‘½ä»¤ä¸»è¦å¯¹æ–‡æœ¬çš„ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰è¡ŒåŸºäºæ¨¡å¼è¿›è¡Œè¿‡æ»¤</li>
<li>sedï¼šstream editorï¼Œæ–‡æœ¬ç¼–è¾‘å·¥å…·</li>
<li>awkï¼šLinuxä¸Šçš„å®ç°gawkï¼Œæ–‡æœ¬æŠ¥å‘Šç”Ÿæˆå™¨</li>
</ul>
</div>
<div id="outline-container-h:57a1c4cb-314c-4ee9-b6ae-30fe057df04a" class="outline-3">
<h3 id="h:57a1c4cb-314c-4ee9-b6ae-30fe057df04a">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹ grep</h3>
<div class="outline-text-3" id="text-h:57a1c4cb-314c-4ee9-b6ae-30fe057df04a">
<p>
grep: Global search REgular expression and Print out the line
</p>

<p>
ä½œç”¨ï¼šæ–‡æœ¬æœç´¢å·¥å…·ï¼Œæ ¹æ®ç”¨æˆ·æŒ‡å®šçš„â€œæ¨¡å¼â€å¯¹ç›®æ ‡æ–‡æœ¬é€è¡Œè¿›è¡ŒåŒ¹é…æ£€æŸ¥ï¼›
æ‰“å°åŒ¹é…åˆ°çš„è¡Œ
</p>

<p>
æ¨¡å¼ï¼šç”±æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦åŠæ–‡æœ¬å­—ç¬¦æ‰€ç¼–å†™çš„è¿‡æ»¤æ¡ä»¶
</p>

<p>
æ ¼å¼ï¼š grep [OPTIONS] PATTERN [FILE&#x2026;]
</p>

<p>
å¸¸è§é€‰é¡¹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">--color=auto &#23545;&#21305;&#37197;&#21040;&#30340;&#25991;&#26412;&#30528;&#33394;&#26174;&#31034;
-m <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21305;&#37197;#&#27425;&#21518;&#20572;&#27490;</span>
-v &#26174;&#31034;&#19981;&#34987;pattern&#21305;&#37197;&#21040;&#30340;&#34892;
-i &#24573;&#30053;&#23383;&#31526;&#22823;&#23567;&#20889;
-n &#26174;&#31034;&#21305;&#37197;&#30340;&#34892;&#21495;
-c &#32479;&#35745;&#21305;&#37197;&#30340;&#34892;&#25968;
-l : &#21482;&#26174;&#31034;&#21305;&#37197;&#21040;&#30340;&#25991;&#20214;&#21517;
-o &#20165;&#26174;&#31034;&#21305;&#37197;&#21040;&#30340;&#23383;&#31526;&#20018;
-o -b : &#26174;&#31034;&#21305;&#37197;&#30340;&#20301;&#32622;
-q &#38745;&#40664;&#27169;&#24335;&#65292;&#19981;&#36755;&#20986;&#20219;&#20309;&#20449;&#24687;
-A <span style="color: #b22222;"># </span><span style="color: #b22222;">after, &#21518;#&#34892;</span>
-B <span style="color: #b22222;"># </span><span style="color: #b22222;">before, &#21069;#&#34892;</span>
-C <span style="color: #b22222;"># </span><span style="color: #b22222;">context, &#21069;&#21518;&#21508;#&#34892;</span>
-e &#23454;&#29616;&#22810;&#20010;&#36873;&#39033;&#38388;&#30340;&#36923;&#36753;or&#20851;&#31995;,&#22914;&#65306;grep &#8211;e &#8216;cat &#8217; -e &#8216;dog&#8217; file
-w &#21305;&#37197;&#25972;&#20010;&#21333;&#35789;
-E &#20351;&#29992;ERE&#65292;&#30456;&#24403;&#20110;egrep
-F &#19981;&#25903;&#25345;&#27491;&#21017;&#34920;&#36798;&#24335;&#65292;&#30456;&#24403;&#20110;fgrep
-f file &#26681;&#25454;&#27169;&#24335;&#25991;&#20214;&#22788;&#29702;
-r &#36882;&#24402;&#30446;&#24405;&#65292;&#20294;&#19981;&#22788;&#29702;&#36719;&#38142;&#25509;
-R &#36882;&#24402;&#30446;&#24405;&#65292;&#20294;&#22788;&#29702;&#36719;&#38142;&#25509;
-s &#22914;&#26524;&#36807;&#28388;&#21040;&#19981;&#26159;&#25991;&#26412;&#25991;&#20214;&#20250;&#25253;&#38169;&#65292;&#21152;&#27492;&#36873;&#39033;&#19981;&#26174;&#31034;&#38169;&#35823;&#20449;&#24687;

--line-buffered  &#27599;&#36755;&#20986;&#19968;&#34892;,&#23601;&#21047;&#26032;&#19968;&#27425;
-P : &#21487;&#20197;&#35753;grep&#20351;&#29992;perl&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#35821;&#27861;. &#21305;&#37197;&#20013;&#25991; grep -P <span style="color: #8b2252;">'[\x{4e00}-\x{9f5a}]'</span> xx.log
</pre>
</div>

<p>
èŒƒä¾‹ï¼šè¿‡æ»¤ç›®å½•ï¼ŒæŸ¥æ‰¾éšè—ç›®å½•ç”¨ . ç‚¹å·ï¼Œ* æ˜Ÿå·æ— æ³•æ‰¾åˆ°éšè—æ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh">grep --exclude-dir=<span style="color: #8b2252;">".git"</span> --exclude-dir=<span style="color: #8b2252;">".svn"</span> -rns test .
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">grep root /etc/passwd
grep <span style="color: #8b2252;">"USER"</span> /etc/passwd
grep <span style="color: #8b2252;">'USER'</span> /etc/passwd
grep whoami /etc/passwd
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå–ä¸¤ä¸ªæ–‡ä»¶çš„ç›¸åŒè¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /data/f1.txt
a
b
1
c
[root@centos8 ~]#cat /data/f2.txt
b
e
f
c
1
2
[root@centos8 ~]#grep -f /data/f1.txt /data/f2.txt
b
c
1
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#25991;&#20214;&#30340;&#20849;&#21516;&#34892;</span>
[root@centos8 data]#cat test1.txt test2.txt | sort |uniq -d
1
b
c
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">df | grep <span style="color: #8b2252;">'^/dev/sd'</span> |tr -s <span style="color: #8b2252;">' '</span> %|cut -d% -f5|sort -n|tail -1
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ss -nt | grep <span style="color: #8b2252;">"^ESTAB"</span> |tr -s <span style="color: #8b2252;">' '</span> : |cut -d: -f6|sort |uniq -
c|sort -nr|head -n3
   3 10.0.0.1
   1 172.16.4.100
   1 172.16.31.188
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep -v <span style="color: #8b2252;">"^#"</span> /etc/profile | grep -v <span style="color: #8b2252;">'^$'</span>
[root@centos8 ~]#grep -v <span style="color: #8b2252;">"^#\|^$"</span> /etc/profile
[root@centos8 ~]#grep -v <span style="color: #8b2252;">"^\(#\|$\)"</span> /etc/profile
[root@centos8 ~]#grep -Ev <span style="color: #8b2252;">"^(#|$)"</span> /etc/profile
[root@centos8 ~]#egrep -v <span style="color: #8b2252;">"^(#|$)"</span> /etc/profile
[root@centos6 ~]#egrep -v <span style="color: #8b2252;">'^(#|$)'</span> /etc/httpd/conf/httpd.conf
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep -o <span style="color: #8b2252;">'r..t'</span> /etc/passwd
root
root
root
root
r/ft
rypt
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ifconfig | grep -E <span style="color: #8b2252;">'[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}'</span>
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255
   inet 172.16.0.123 netmask 255.255.0.0 broadcast 172.16.255.255
   inet6 fe80::c11e:4792:7e77:12a4 prefixlen 64 scopeid 0x20&lt;link&gt;
   inet 127.0.0.1 netmask 255.0.0.0
[root@centos8 ~]#ifconfig | grep -E <span style="color: #8b2252;">'([0-9]{1,3}.){3}[0-9]{1,3}'</span>
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255
   inet 172.16.0.123 netmask 255.255.0.0 broadcast 172.16.255.255
   inet6 fe80::c11e:4792:7e77:12a4 prefixlen 64 scopeid 0x20&lt;link&gt;
   inet 127.0.0.1 netmask 255.0.0.0

[root@centos8 ~]#ifconfig eth0 | grep -Eo <span style="color: #8b2252;">'([0-9]{1,3}\.){3}[0-9]{1,3}'</span>|head -1
10.0.0.8

[root@centos8 ~]#cat regex.txt
([0-9]{1,3}<span style="color: #8b2252;">\.</span>){3}[0-9]{1,3}
[root@centos8 ~]#ifconfig | grep -oEf regex.txt
10.0.0.8
255.255.255.0
10.0.0.255
127.0.0.1
255.0.0.0
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep -E <span style="color: #8b2252;">'root|bash'</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
wang:x:1000:1000:wang:/home/wang:/bin/bash
cici:x:1001:1001::/home/cici:/bin/bash
xiaoming:x:1002:1002::/home/xiaoming:/bin/bash
roob:x:1003:1003::/home/roob:/bin/bash

[root@centos8 ~]#grep -e <span style="color: #8b2252;">'root'</span> -e <span style="color: #8b2252;">'bash'</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
wang:x:1000:1000:wang:/home/wang:/bin/bash
cici:x:1001:1001::/home/cici:/bin/bash
xiaoming:x:1002:1002::/home/xiaoming:/b
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep -w root /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
[root@centos8 ~]#grep <span style="color: #8b2252;">'\&lt;root\&gt;'</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#grep <span style="color: #8b2252;">"^\(.*\)\&gt;.*\&lt;\1$"</span> /etc/passwd
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
bash:x:1008:1008::/home/bash:/bin/bash
nologin:x:1011:1011::/home/nologin:/sbin/nologin

[root@centos8 ~]#grep -E <span style="color: #8b2252;">"^(.*)\&gt;.*\&lt;\1$"</span> /etc/passwd
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
bash:x:1008:1008::/home/bash:/bin/bash
nologin:x:1011:1011::/home/nologin:/sbin/nologin

[root@centos8 ~]#egrep <span style="color: #8b2252;">"^(.*)\&gt;.*\&lt;\1$"</span> /etc/passwd
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
bash:x:1008:1008::/home/bash:/bin/bash
nologin:x:1011:1011::/home/nologin:/sbin/nologin
</pre>
</div>

<p>
èŒƒä¾‹ï¼šé¢è¯•é¢˜ï¼Œç®—å‡ºæ‰€æœ‰äººçš„å¹´é¾„æ€»å’Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat /data/nianling.txt
<span style="color: #a0522d;">xiaoming</span>=20
<span style="color: #a0522d;">xiaohong</span>=18
<span style="color: #a0522d;">xiaoqiang</span>=22
[root@centos8 ~]#cut -d<span style="color: #8b2252;">"="</span> -f2 /data/nianling.txt|tr <span style="color: #8b2252;">'\n'</span> + | grep -Eo <span style="color: #8b2252;">".*[0-9]"</span>|bc
60
[root@centos8 ~]#grep -Eo <span style="color: #8b2252;">"[0-9]+"</span> /data/nianling.txt | tr <span style="color: #8b2252;">'\n'</span> + | grep -Eo <span style="color: #8b2252;">".*[0-9]"</span>|bc
60
</pre>
</div>

<p>
fgrep å‘½ä»¤
</p>

<p>
ä¸æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦ï¼›éƒ½å½“ä½œå­—ç¬¦æœ¬èº«çš„æ„ä¹‰
</p>

<p>
å½“æ— éœ€ç”¨åˆ°å…ƒå­—ç¬¦å»ç¼–å†™æ¨¡å¼æ—¶ï¼Œä½¿ç”¨ fgrepæ€§èƒ½æ›´å¥½ï¼›æœç´¢å‡ åä¸‡è¡Œã€ç™¾ä¸‡è¡Œ
æ€§èƒ½å°±å‘æŒ¥å‡ºæ¥äº†
</p>

<ul class="org-ul">
<li>-E : æ”¯æŒä½¿ç”¨æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦</li>
<li>-Gï¼šæ”¯æŒåŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼</li>
</ul>
</div>
<div id="outline-container-h:00fee694-6056-44dd-9e0e-365be6b31f8a" class="outline-4">
<h4 id="h:00fee694-6056-44dd-9e0e-365be6b31f8a">åŒ¹é…ä¸­æ–‡</h4>
<div class="outline-text-4" id="text-h:00fee694-6056-44dd-9e0e-365be6b31f8a">
<p>
åŒ¹é…ï¼š grep
</p>

<div class="org-src-container">
<pre class="src src-sh">grep -P <span style="color: #8b2252;">'[\x{4e00}-\x{9f5a}]'</span> xx.log
rg <span style="color: #8b2252;">'[\x{4e00}-\x{9f5a}]'</span>  xx.log <span style="color: #b22222;"># </span><span style="color: #b22222;">rigrep -l &#26174;&#31034;&#25991;&#20214;</span>
perl -CSD -ne  <span style="color: #8b2252;">'print if /[\x{4e00}-\x{9fa5}]/'</span> xx.log
</pre>
</div>

<p>
åŒ¹é…å¹¶åˆ é™¤ sed å‘½ä»¤ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">LANG</span>=C sed -i -e <span style="color: #8b2252;">'s/[\x80-\xFF]//g'</span> -i filename.txt
</pre>
</div>

<p>
è¯¥å‘½ä»¤ä¸­ï¼ŒLANG=C è¡¨ç¤ºè®¾ç½®å­—ç¬¦é›†ä¸º C è¯­è¨€æ ‡å‡†å­—ç¬¦é›†ï¼Œå¯ä»¥åŒ¹é… ASCII å’Œ
éASCII å­—ç¬¦ã€‚-i é€‰é¡¹è¡¨ç¤ºç›´æ¥ä¿®æ”¹æºæ–‡ä»¶ï¼Œs å‘½ä»¤è¡¨ç¤ºæ›¿æ¢æ“ä½œï¼Œ
[\x80-\xFF]è¡¨ç¤ºåŒ¹é…æ‰€æœ‰é ASCII å­—ç¬¦ï¼Œ//g è¡¨ç¤ºåˆ é™¤æ‰€æœ‰åŒ¹é…åˆ°çš„å­—ç¬¦ã€‚
</p>

<p>
perl å‘½ä»¤ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">perl -CSD -pe <span style="color: #8b2252;">'s/[\x{4e00}-\x{9fa5}]//g'</span> -i AppConfig.java
</pre>
</div>

<p>
è¿™é‡Œçš„ -CSD å‚æ•°å‘Šè¯‰ Perl æ”¯æŒ Unicode ç¼–ç ï¼Œ-i å‚æ•°è¡¨ç¤ºç›´æ¥ä¿®æ”¹åŸå§‹æ–‡ä»¶
</p>
</div>
</div>
<div id="outline-container-h:1d530be4-3dcb-41ca-98ee-1e1273b34f4a" class="outline-4">
<h4 id="h:1d530be4-3dcb-41ca-98ee-1e1273b34f4a">rg</h4>
<div class="outline-text-4" id="text-h:1d530be4-3dcb-41ca-98ee-1e1273b34f4a">
<p>
<a href="https://github.com/BurntSushi/ripgrep">https://github.com/BurntSushi/ripgrep</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo yum-config-manager --add-repo=https://copr.fedorainfracloud.org/coprs/carlwgeorge/ripgrep/repo/epel-7/carlwgeorge-ripgrep-epel-7.repo
sudo yum install ripgrep
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:00eb27fd-d142-46ea-bf47-cbe2beac358b" class="outline-3">
<h3 id="h:00eb27fd-d142-46ea-bf47-cbe2beac358b">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹ sed</h3>
<div class="outline-text-3" id="text-h:00eb27fd-d142-46ea-bf47-cbe2beac358b">
</div>
<div id="outline-container-h:6f10afc3-f395-4f9a-9b3a-7b777d15bc3b" class="outline-4">
<h4 id="h:6f10afc3-f395-4f9a-9b3a-7b777d15bc3b">å·¥ä½œåŸç†</h4>
<div class="outline-text-4" id="text-h:6f10afc3-f395-4f9a-9b3a-7b777d15bc3b">
<p>
sed å³ Stream EDitorï¼Œå’Œ vi ä¸åŒï¼Œsedæ˜¯è¡Œç¼–è¾‘å™¨
</p>


<figure id="orgbb1919e">
<img src="images/image-20210216003203295.png" alt="image-20210216003203295.png" width="60%">

</figure>


<figure id="org454fe86">
<img src="images/image-20210216003237510.png" alt="image-20210216003237510.png" width="60%">

</figure>

<p>
Sedæ˜¯ä»æ–‡ä»¶æˆ–ç®¡é“ä¸­è¯»å–ä¸€è¡Œï¼Œå¤„ç†ä¸€è¡Œï¼Œè¾“å‡ºä¸€è¡Œï¼›å†è¯»å–ä¸€è¡Œï¼Œå†å¤„ç†ä¸€
è¡Œï¼Œå†è¾“å‡ºä¸€è¡Œï¼Œç›´åˆ°æœ€åä¸€è¡Œã€‚
</p>

<ul class="org-ul">
<li>æ¯å½“å¤„ç†ä¸€è¡Œæ—¶ï¼ŒæŠŠå½“å‰å¤„ç†çš„è¡Œå­˜å‚¨åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸º <code>æ¨¡å¼ç©ºé—´
  ï¼ˆPatternSpaceï¼‰</code> ï¼Œæ¥ç€ç”¨sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåï¼ŒæŠŠ
ç¼“å†²åŒºçš„å†…å®¹é€å¾€å±å¹•ã€‚</li>
<li>æ¥ç€å¤„ç†ä¸‹ä¸€è¡Œï¼Œè¿™æ ·ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ–‡ä»¶æœ«å°¾ã€‚ä¸€æ¬¡å¤„ç†ä¸€è¡Œçš„è®¾è®¡æ¨¡å¼ä½¿
å¾—sedæ€§èƒ½å¾ˆé«˜ï¼Œsedåœ¨è¯»å–å¤§æ–‡ä»¶æ—¶ä¸ä¼šå‡ºç°å¡é¡¿çš„ç°è±¡ã€‚</li>
</ul>

<p>
å¦‚æœä½¿ç”¨viå‘½ä»¤æ‰“å¼€å‡ åMä¸Šç™¾Mçš„æ–‡ä»¶ï¼Œæ˜æ˜¾ä¼šå‡ºç°æœ‰å¡é¡¿çš„ç°è±¡ï¼Œè¿™æ˜¯å› ä¸ºvi
å‘½ä»¤æ‰“å¼€æ–‡ä»¶æ˜¯ä¸€æ¬¡æ€§å°†æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œç„¶åå†æ‰“å¼€ã€‚Sedå°±é¿å…äº†è¿™ç§æƒ…å†µï¼Œ
ä¸€è¡Œä¸€è¡Œçš„å¤„ç†ï¼Œæ‰“å¼€é€Ÿåº¦éå¸¸å¿«ï¼Œæ‰§è¡Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«
</p>

<p>
å‚è€ƒç½‘ç«™ï¼š&lt;<a href="http://www.gnu.org/software/sed/manual/sed.html">http://www.gnu.org/software/sed/manual/sed.html</a>&gt;
</p>
</div>
</div>
<div id="outline-container-h:eb4916ae-7aad-49d0-8914-c1a90dde075b" class="outline-4">
<h4 id="h:eb4916ae-7aad-49d0-8914-c1a90dde075b">sed åŸºæœ¬ç”¨æ³•</h4>
<div class="outline-text-4" id="text-h:eb4916ae-7aad-49d0-8914-c1a90dde075b">
<p>
æ ¼å¼ï¼š 
</p>
<div class="org-src-container">
<pre class="src src-sh">sed [option]... <span style="color: #8b2252;">'script;script;...'</span> inputfile...

&#24120;&#29992;&#36873;&#39033;&#65306;
-n                                   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#19981;&#36755;&#20986;&#27169;&#24335;&#31354;&#38388;&#20869;&#23481;&#21040;&#23631;&#24149;&#65292;&#21363;&#19981;&#33258;&#21160;&#25171;&#21360;</span>
-e                                   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22810;&#28857;&#32534;&#36753;&#65292;&#34920;&#31034;&#25110;&#32773;</span>
-f /PATH/SCRIPT_FILE <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#25351;&#23450;&#25991;&#20214;&#20013;&#35835;&#21462;&#32534;&#36753;&#33050;&#26412;</span>
-r, -E                              <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#25193;&#23637;&#27491;&#21017;&#34920;&#36798;&#24335;</span>
-i.bak                             <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22791;&#20221;&#25991;&#20214;&#24182;&#21407;&#22788;&#32534;&#36753;</span>
-s                                   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#22810;&#20010;&#25991;&#20214;&#35270;&#20026;&#29420;&#31435;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#21333;&#20010;&#36830;&#32493;&#30340;&#38271;&#25991;&#20214;&#27969;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#35828;&#26126;</span>
-ir  &#19981;&#25903;&#25345;
-i -r  &#25903;&#25345;
-ri    &#25903;&#25345;
-ni   &#21361;&#38505;&#36873;&#39033;&#65292;&#20250;&#28165;&#31354;&#25991;&#20214;
</pre>
</div>

<p>
<b>scriptæ ¼å¼ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">'&#22320;&#22336;&#21629;&#20196;'</span>
</pre>
</div>

<p>
<b>åœ°å€æ ¼å¼ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">1. &#19981;&#32473;&#22320;&#22336;&#65306;&#23545;&#20840;&#25991;&#36827;&#34892;&#22788;&#29702;
2. &#21333;&#22320;&#22336;&#65306;
    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#65306;&#25351;&#23450;&#30340;&#34892;&#65292;$&#65306;&#26368;&#21518;&#19968;&#34892;</span>
    /pattern/&#65306;&#34987;&#27492;&#22788;&#27169;&#24335;&#25152;&#33021;&#22815;&#21305;&#37197;&#21040;&#30340;&#27599;&#19968;&#34892;
3. &#22320;&#22336;&#33539;&#22260;&#65306;
    <span style="color: #b22222;">#</span><span style="color: #b22222;">,#   #&#20174;#&#34892;&#21040;&#31532;#&#34892;&#65292;3&#65292;6 &#20174;&#31532;3&#34892;&#21040;&#31532;6&#34892;</span>
    <span style="color: #b22222;">#</span><span style="color: #b22222;">,+#  #&#20174;#&#34892;&#21040;+#&#34892;&#65292;3,+4 &#34920;&#31034;&#20174;3&#34892;&#21040;&#31532;7&#34892;</span>
    /pat1/,/pat2/ &#20174;&#31532;&#19968;&#27425;&#21305;&#37197;&#21040;&#30340;&#27169;&#24335;1&#21040;&#31532;&#20108;&#27425;&#21305;&#37197;&#21040;&#27169;&#24335;2
    <span style="color: #b22222;">#</span><span style="color: #b22222;">,/pat/ &#20174;&#26576;&#34892;&#24320;&#22987;&#21040;&#31532;&#19968;&#27425;&#37197;&#21040;&#27169;&#24335;&#30340;&#34892;</span>
4. &#27493;&#36827;&#65306;~
   1~2 &#22855;&#25968;&#34892;&#65307;&#20174;&#31532;&#19968;&#34892;&#24320;&#22987;&#65292;&#27599;&#27425;&#21152;&#20004;&#34892;&#35835;&#21462;
   2~2 &#20598;&#25968;&#34892;&#12290;&#20174;&#31532;&#20108;&#34892;&#24320;&#22987;&#65292;&#27599;&#27425;&#21152;&#20004;&#34892;&#35835;&#21462;
</pre>
</div>

<p>
<b>å‘½ä»¤ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">p                       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#21360;&#24403;&#21069;&#27169;&#24335;&#31354;&#38388;&#20869;&#23481;&#65292;&#36861;&#21152;&#21040;&#40664;&#35748;&#36755;&#20986;&#20043;&#21518;</span>
Ip                      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#24573;&#30053;&#22823;&#23567;&#20889;&#36755;&#20986;</span>
d                       <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#27169;&#24335;&#31354;&#38388;&#21305;&#37197;&#30340;&#34892;&#65292;&#24182;&#31435;&#21363;&#21551;&#29992;&#19979;&#19968;&#36718;&#24490;&#29615;</span>
a [<span style="color: #8b2252;">\]</span>text           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#25351;&#23450;&#34892;&#21518;&#38754;&#36861;&#21152;&#25991;&#26412;&#65292;&#25903;&#25345;&#20351;&#29992;\n&#23454;&#29616;&#22810;&#34892;&#36861;&#21152;</span>
i [<span style="color: #8b2252;">\]</span>text            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#34892;&#21069;&#38754;&#25554;&#20837;&#25991;&#26412;</span>
c [<span style="color: #8b2252;">\]</span>text           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26367;&#25442;&#34892;&#20026;&#21333;&#34892;&#25110;&#22810;&#34892;&#25991;&#26412;</span>
w /path/file    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20445;&#23384;&#27169;&#24335;&#21305;&#37197;&#30340;&#34892;&#33267;&#25351;&#23450;&#25991;&#20214;</span>
r /path/file     <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35835;&#21462;&#25351;&#23450;&#25991;&#20214;&#30340;&#25991;&#26412;&#33267;&#27169;&#24335;&#31354;&#38388;&#20013;&#21305;&#37197;&#21040;&#30340;&#34892;&#21518;</span>
=                    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20026;&#27169;&#24335;&#31354;&#38388;&#20013;&#30340;&#34892;&#25171;&#21360;&#34892;&#21495;</span>
!                    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27169;&#24335;&#31354;&#38388;&#20013;&#21305;&#37197;&#34892;&#21462;&#21453;&#22788;&#29702;</span>

s/pattern/string/&#20462;&#39280;&#31526; &#26597;&#25214;&#26367;&#25442;,&#25903;&#25345;&#20351;&#29992;&#20854;&#23427;&#20998;&#38548;&#31526;&#65292;&#21487;&#20197;&#26159;&#20854;&#23427;&#24418;&#24335;&#65306;s@@@&#65292;s###&#26367;&#25442;&#20462;&#39280;&#31526;&#65306;
    &#26367;&#25442;&#20462;&#39280;&#31526;&#65306;
        g&#65306;&#20840;&#23616;&#26367;&#25442;&#65307;
        w /PATH/TO/SOMEFILE&#65306;&#23558;&#26367;&#25442;&#25104;&#21151;&#30340;&#32467;&#26524;&#20445;&#23384;&#33267;&#25351;&#23450;&#25991;&#20214;&#20013;&#65307;
        p&#65306;&#26174;&#31034;&#26367;&#25442;&#25104;&#21151;&#30340;&#34892;&#65307;
        I,i &#24573;&#30053;&#22823;&#23567;&#20889;
    string:
       &amp;&#26159;&#25226;&#21069;&#38754;&#27599;&#19968;&#20010;&#23383;&#31526;&#36827;&#34892;&#26631;&#35760;&#24182;&#36755;&#20986;
       \1 \2 ... &#20998;&#32452;&#21453;&#24341;

{COMMANDS}&#65306;&#21487;&#20197;&#25226;&#22810;&#20010;&#21629;&#20196;&#25324;&#36215;&#26469;&#65292;&#29992;&#26469;&#22788;&#29702;&#21333;&#20010;&#22320;&#22336;&#25110;&#32773;&#22320;&#22336;&#33539;&#22260;&#12290;
      sed -n <span style="color: #8b2252;">'5,9p;='</span>
      sed -n <span style="color: #8b2252;">'5,9{p;=}'</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">&#24863;&#21497;&#21495;&#22312;&#23450;&#22336;&#34920;&#36798;&#24335;&#21518;&#65292;&#34920;&#31034;&#23545;&#34892;&#36827;&#34892;&#31579;&#36873;&#12290;&#34920;&#31034;&#28385;&#36275;&#26465;&#20214;&#30340;&#34892;&#19981;&#25191;&#34892;&#21629;&#20196;&#65292;&#20294;&#19981;&#28385;&#36275;&#30340;&#34892;&#20250;&#25191;&#34892;&#12290;
&#24863;&#21497;&#21495;&#22312;&#21629;&#20196;&#30340;&#21069;&#38754;&#65292;&#34920;&#31034;&#28385;&#36275;&#26465;&#20214;&#30340;&#34892;&#19981;&#25191;&#34892;&#35813;&#21629;&#20196;&#65292;&#19988;&#19981;&#28385;&#36275;&#30340;&#34892;&#20063;&#19981;&#25191;&#34892;(&#19981;&#25191;&#34892;&#26159;&#22240;&#20026;&#27809;&#26377;&#34987;&#23450;&#22336;&#34920;&#36798;&#24335;&#21305;&#37197;&#21040;)&#12290;&#36825;&#26159;&#23545;&#27169;&#24335;&#31354;&#38388;&#20013;&#30340;&#34892;&#31579;&#36873;&#35201;&#25191;&#34892;&#30340;&#21629;&#20196;&#12290;
</pre>
</div>

<p>
<b>sedçš„é»˜è®¤è¡Œä¸ºï¼š</b>
</p>

<p>
sedæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹ï¼Œé»˜è®¤æŠŠä¸€è¡Œè¯»è¿›æ¨¡å¼ç©ºé—´ï¼Œå¦‚æœçœ‹åˆ°på°±æ‰“å°å‡ºæ¥ã€‚ä½†
sedæœ‰ä¸ªé»˜è®¤è¡Œä¸ºï¼Œæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹å³ä½¿ä¸ä½œä»»ä½•æ“ä½œä¹Ÿä¼šæ‰“å°å‡ºæ¥ï¼Œå†åŠ på°±
ä¼šåˆæ‰“å°ä¸€æ¬¡
</p>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#sed <span style="color: #8b2252;">''</span>   <span style="color: #b22222;"># </span><span style="color: #b22222;">&#40664;&#35748;&#33258;&#21160;&#25171;&#21360;&#65292;&#30456;&#24403;&#20110;cat&#35835;&#20837;&#40664;&#35748;&#26631;&#20934;&#36755;&#20837;</span>
welcome
welcome
to
to

[root@centos8 ~]#sed <span style="color: #8b2252;">''</span> /etc/issue <span style="color: #b22222;"># </span><span style="color: #b22222;">&#40664;&#35748;&#33258;&#21160;&#25171;&#21360;&#65292;&#30456;&#24403;&#20110;cat</span>
\S
Kernel \r on an \m
[root@centos8 ~]#sed <span style="color: #8b2252;">'p'</span> /etc/issue
\S
\S
Kernel \r on an \m
Kernel \r on an \m

[root@centos8 ~]#sed -n <span style="color: #8b2252;">''</span> /etc/issue  <span style="color: #b22222;"># </span><span style="color: #b22222;">-n &#20851;&#38381;&#33258;&#21160;&#25171;&#21360;</span>
[root@centos8 ~]#sed -n <span style="color: #8b2252;">'p'</span> /etc/issue
\S
Kernel \r on an \m

[root@centos8 ~]#sed -n <span style="color: #8b2252;">'1p'</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash

[root@centos8 ~]#ifconfig eth0 | sed <span style="color: #8b2252;">'2p'</span>
eth0: <span style="color: #a0522d;">flags</span>=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255
   inet6 fe80::20c:29ff:fe45:a8a1 prefixlen 64 scopeid 0x20&lt;link&gt;
   ether 00:0c:29:45:a8:a1 txqueuelen 1000 (Ethernet)
   RX packets 89815 bytes 69267453 (66.0 MiB)
   RX errors 0 dropped 0 overruns 0 frame 0
   TX packets 115634 bytes 79827662 (76.1 MiB)
   TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0

[root@centos8 ~]#ifconfig eth0 | sed -n <span style="color: #8b2252;">'2p'</span>
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255

[root@centos8 ~]#sed -n <span style="color: #8b2252;">'$p'</span> /etc/passwd <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#26368;&#21518;&#19968;&#34892;</span>
postfix:x:89:89::/var/spool/postfix:/sbin/nologin

[root@centos8 ~]#ifconfig eth0 |sed -n <span style="color: #8b2252;">'/netmask/p'</span>
   inet 10.0.0.8 netmask 255.255.255.0 broadcast 10.0.0.255

[root@centos8 ~]#df | sed -n <span style="color: #8b2252;">'/^\/dev\/sd/p'</span>
/dev/sda2    104806400 4872956  99933444  5% /
/dev/sda3    52403200  398860  52004340  1% /data
/dev/sda1     999320  848568   81940  92% /boot

[root@centos8 ~]#seq 10 | sed -n <span style="color: #8b2252;">'3,6p'</span>
3
4
5
6

seq 10 | sed -n <span style="color: #8b2252;">'3,+4p'</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#31532;3&#34892;&#21040;&#31532;7&#34892;</span>
seq 10 | sed -n <span style="color: #8b2252;">'3,$p'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#31532;3&#34892;&#21040;&#26368;&#21518;&#34892;</span>
seq 10 |sed -n <span style="color: #8b2252;">'1~2p'</span>  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#22855;&#25968;&#34892;&#12290;&#20174;&#31532;1&#34892;&#38548;2&#34892;&#25171;&#21360;</span>
seq 10 |sed -n <span style="color: #8b2252;">'2~2p'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#20598;&#25968;&#34892;&#12290;&#20174;&#31532;2&#34892;&#38548;2&#34892;&#25171;&#21360;</span>
seq 10 |sed  <span style="color: #8b2252;">'1~2d'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#38500;&#22855;&#25968;&#34892;&#12290;</span>
seq 10 |sed  <span style="color: #8b2252;">'2~2d'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#38500;&#20598;&#25968;&#34892;&#12290;</span>

<span style="color: #b22222;"># </span><span style="color: #b22222;">-e &#26469;&#34920;&#31034;&#25110;&#32773;</span>
sed -e <span style="color: #8b2252;">'2d'</span> -e <span style="color: #8b2252;">'4d'</span> seq.log <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#38500;&#31532;2 &#31532;4&#34892;</span>
sed <span style="color: #8b2252;">'2d;4d'</span> seq.log <span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;&#38500;&#31532;2 &#31532;4&#34892;</span>

sed -i.orig <span style="color: #8b2252;">'2d;4d'</span> seq.log <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;&#25991;&#20214;&#31532;2 &#31532;4&#34892;&#65292;&#24182;&#20445;&#23384;&#21407;&#25991;&#20214;&#20026;seq.log.orig</span>

sed -i  <span style="color: #8b2252;">'/^listen 9527/a listen 80 \nlisten 8080'</span>  /etc/httpd/conf/httpd.conf
sed -i <span style="color: #8b2252;">'/^#/d'</span> fstab <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#25152;&#26377;&#20197;#&#24320;&#22836;&#30340;&#34892;</span>
sed -n <span style="color: #8b2252;">'/^#/!p'</span> fstab <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21482;&#26174;&#31034;&#38750;#&#24320;&#22836;&#30340;&#34892;</span>

sed  -n <span style="color: #8b2252;">'/^[[:digit:]]/p'</span> relax_read_count.log.2017-01-17  |less <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21482;&#25171;&#21360;&#20197;&#25968;&#23383;&#24320;&#22836;&#30340;&#34892;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;&#32593;&#21345;&#37197;&#32622;</span>
sed -Ei.bak <span style="color: #8b2252;">'/^GRUB_CMDLINE_LINUX/s/(.*)(")$/\1 net.ifnames=0\2/'</span> /etc/default/grub
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">sed <span style="color: #8b2252;">'2p'</span> /etc/passwd
sed  -n <span style="color: #8b2252;">'2p'</span> /etc/passwd
sed  -n <span style="color: #8b2252;">'1,4p'</span> /etc/passwd
sed  -n <span style="color: #8b2252;">'/root/p'</span> /etc/passwd
sed  -n <span style="color: #8b2252;">'2,/root/p'</span> /etc/passwd &#20174;2&#34892;&#24320;&#22987;
sed  -n <span style="color: #8b2252;">'/^$/='</span> file &#26174;&#31034;&#31354;&#34892;&#34892;&#21495;
sed -n <span style="color: #8b2252;">'/./p'</span> a.sh : &#26174;&#31034;&#38750;&#31354;&#34892;&#65292;&#20294;&#23545;&#21046;&#34920;&#31526;&#26080;&#25928;
sed  -n  -e <span style="color: #8b2252;">'/^$/p'</span> -e <span style="color: #8b2252;">'/^$/='</span> file
Sed<span style="color: #8b2252;">'/root/a\superman'</span> /etc/passwd&#34892;&#21518;
sed <span style="color: #8b2252;">'/root/i\superman'</span> /etc/passwd &#34892;&#21069;
sed <span style="color: #8b2252;">'/root/c\superman'</span> /etc/passwd &#20195;&#26367;&#34892;
sed <span style="color: #8b2252;">'/^$/d'</span> file
sed <span style="color: #8b2252;">'1,10d'</span>  file
nl  /etc/passwd | sed <span style="color: #8b2252;">'2,5d'</span>
nl  /etc/passwd | sed <span style="color: #8b2252;">'2a tea'</span>
sed <span style="color: #8b2252;">'s/test/mytest/g'</span> example
sed -n <span style="color: #8b2252;">'s/root/&amp;superman/p'</span> /etc/passwd &#21333;&#35789;&#21518;   <span style="color: #b22222;"># </span><span style="color: #b22222;">&amp;&#26159;&#25226;&#21069;&#38754;&#27599;&#19968;&#20010;&#23383;&#31526;&#36827;&#34892;&#26631;&#35760;&#24182;&#36755;&#20986;</span>
sed -n <span style="color: #8b2252;">'s/root/superman&amp;/p'</span> /etc/passwd &#21333;&#35789;&#21069;
sed -e <span style="color: #8b2252;">'s/dog/cat/'</span> -e <span style="color: #8b2252;">'s/hi/lo/'</span> pets
sed -n <span style="color: #8b2252;">'s/^.//gp'</span> /etc/fstab <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;&#25991;&#20214;&#27599;&#34892;&#20013;&#30340;&#31532;&#19968;&#20010;&#23383;&#31526;</span>
sed -nr <span style="color: #8b2252;">'s/.$//p'</span> /etc/passwd <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21024;&#38500;&#25991;&#20214;&#27599;&#34892;&#30340;&#26368;&#21518;&#19968;&#20010;&#23383;&#31526;</span>
sed -i.bak  <span style="color: #8b2252;">'s/dog/cat/g'</span> pets
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå–IP åœ°å€
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ifconfig eth0 |sed -nr <span style="color: #8b2252;">"2s/[^0-9]+([0-9.]+).*/\1/p"</span>
10.0.0.8
[root@centos8 ~]#ifconfig eth0 | sed -rn <span style="color: #8b2252;">'2s/^[^0-9]+([0-9.]+) .*$/\1/p'</span>
10.0.0.8
[root@centos8 ~]#ifconfig eth0 | sed -n <span style="color: #8b2252;">'2s/^.*inet //p'</span> | sed -n <span style="color: #8b2252;">'s/</span>
<span style="color: #8b2252;">netmask.*//p'</span>
10.0.0.8
[root@centos8 ~]#ifconfig eth0 | sed -n <span style="color: #8b2252;">'2s/^.*inet //;s/ netmask.*//p'</span>
10.0.0.8
[root@centos8 ~]#ifconfig eth0 | sed -rn <span style="color: #8b2252;">'2s/(.*inet )([0-9].*)(</span>
<span style="color: #8b2252;">netmask.*)/\2/p'</span>
10.0.0.8
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå–åŸºåå’Œç›®å½•å
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"/etc/sysconfig/network-scripts/"</span> |sed -r <span style="color: #8b2252;">'s#(^/.*/)([^/]+/?)#\2#'</span> &#21462;&#22522;&#21517;
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"/etc/sysconfig/network-scripts/"</span> |sed -r <span style="color: #8b2252;">'s#(^/.*/)([^/]+/?)#\1#'</span> &#21462;&#30446;&#24405;
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#30446;&#24405;&#21517;</span>
[root@centos8 ~]#echo /etc/sysconfig/ | sed -rn <span style="color: #8b2252;">'s#(.*)/([^/]+)/?#\1#p'</span>
/etc
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21462;&#22522;&#21517;</span>
[root@centos8 ~]#echo /etc/sysconfig/ | sed -rn <span style="color: #8b2252;">'s#(.*)/([^/]+)/?#\2#p'</span>
sysconfig
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå°†#å¼€å¤´çš„è¡Œåˆ é™¤#
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#sed -ri.bak <span style="color: #8b2252;">'/^#/s/^#//'</span> /etc/fstab
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå–åˆ†åŒºåˆ©ç”¨ç‡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#df | sed -nr <span style="color: #8b2252;">'/^\/dev\/sd/s# .* ([0-9]+)%.*# \1#p'</span>
/dev/sda2 3
/dev/sda5 1
/dev/sda1 14
</pre>
</div>

<p>
èŒƒä¾‹ï¼šä¿®æ”¹å†…æ ¸å‚æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#sed -nr <span style="color: #8b2252;">'/^GRUB_CMDLINE_LINUX/s/"$/ net.ifnames=0"/p'</span>
/etc/default/grub
<span style="color: #a0522d;">GRUB_CMDLINE_LINUX</span>=<span style="color: #8b2252;">"crashkernel=auto resume=UUID=8363289d-138e-4e4a-abaf-</span>
<span style="color: #8b2252;">6e028babc924 rhgb quiet net.ifnames=0"</span>

[root@centos8 ~]#sed -rn <span style="color: #8b2252;">'/^GRUB_CMDLINE_LINUX=/s@(.*)"$@\1 net.ifnames=0"@p'</span>
/etc/default/grub
<span style="color: #a0522d;">GRUB_CMDLINE_LINUX</span>=<span style="color: #8b2252;">"crashkernel=auto resume=UUID=a0efb2bb-8227-4317-a79d-</span>
<span style="color: #8b2252;">0a70d515046c rhgb quiet net.ifnames=0"</span>
[root@centos8 ~]#sed -rn <span style="color: #8b2252;">'/^GRUB_CMDLINE_LINUX=/s@"$@ net.ifnames=0"@p'</span>
/etc/default/grub
<span style="color: #a0522d;">GRUB_CMDLINE_LINUX</span>=<span style="color: #8b2252;">"crashkernel=auto resume=UUID=a0efb2bb-8227-4317-a79d-</span>
<span style="color: #8b2252;">0a70d515046c rhgb quiet net.ifnames=0 net.ifnames=0"</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼šä¿®æ”¹ç½‘å¡åç§°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#sed -ri <span style="color: #8b2252;">'/^GRUB_CMDLINE_LINUX=/s@"$@ net.ifnames=0"@'</span> /etc/default/grub

<span style="color: #b22222;">#</span><span style="color: #b22222;">centos7,8</span>
[root@centos8 ~]#grub2-mkconfig -o /boot/grub2/grub.cfg
<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu</span>
[root@ubuntu ~]#grub-mkconfig -o /boot/grub/grub.cfg
</pre>
</div>

<p>
èŒƒä¾‹ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos6 ~]#sed  -e <span style="color: #8b2252;">'/^#&lt;VirtualHost/,/^#&lt;\/VirtualHost&gt;/s@#@@'</span> -e <span style="color: #8b2252;">'/^#NameVirtualHost/s@#@@'</span> /etc/httpd/conf/httpd.conf
</pre>
</div>

<p>
"|" "(" ")" ç­‰å±äºæ­£åˆ™è¡¨è¾¾å¼çš„POSIXæ‰©å±•ï¼Œ åœ¨sedé‡Œä¸ç›´æ¥æ”¯æŒéœ€è¦åŠ è½¬ä¹‰
å­—ç¬¦â€" ã€‚ ä¹Ÿå°±æ˜¯è¯´å¾—è¿™æ ·ä½¿ç”¨ï¼š | ( ) ï¼Œæ”¯æŒæ‰©å±•-r æˆ– -E
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> Welcome to Me | sed <span style="color: #8b2252;">'s/\w\+/[&amp;]/g'</span>  <span style="color: #b22222;">#</span><span style="color: #b22222;">&amp;&#26159;&#25226;&#21069;&#38754;&#27599;&#19968;&#20010;&#23383;&#31526;&#36827;&#34892;&#26631;&#35760;&#24182;&#36755;&#20986;</span>

[root@localhost ~]# echo Welcome to M | sed <span style="color: #8b2252;">'s/\w\+/[&amp;]/g'</span>
[Welcome] [to] [M]
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå°†é#å¼€å¤´çš„è¡ŒåŠ #
</p>

<div class="org-src-container">
<pre class="src src-sh">sed -rn <span style="color: #8b2252;">"s/^[^#]/#&amp;/p"</span>  /etc/fstab  <span style="color: #b22222;"># </span><span style="color: #b22222;">&amp;&#26159;&#25226;&#21069;&#38754;&#27599;&#19968;&#20010;&#23383;&#31526;&#36827;&#34892;&#26631;&#35760;&#24182;&#36755;&#20986;</span>
sed -rn <span style="color: #8b2252;">'s/^[^#](.*)/#\1/p'</span> /etc/fstab
sed -rn <span style="color: #8b2252;">'/^#/!s@^@#@p'</span> /etc/fstab
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæŸ¥çœ‹é…ç½®æ–‡ä»¶ï¼Œåˆ é™¤#å·å¤´è¡Œç©ºç™½è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">sed  -r  <span style="color: #8b2252;">'/^(#|$)/d'</span> /etc/httpd/conf/httpd.conf
sed  -r  <span style="color: #8b2252;">'/^#|^$/d'</span> /etc/httpd/conf/httpd.conf
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå¼•ç”¨å˜é‡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo|sed <span style="color: #8b2252;">"s/^/$RANDOM.rmvb/"</span>
5242.rmvb
[root@centos8 ~]#echo|sed <span style="color: #8b2252;">'s/^/$RANDOM.rmvb/'</span>
$<span style="color: #a0522d;">RANDOM</span>.rmvb
[root@centos8 ~]#echo|sed <span style="color: #8b2252;">'s/^/'''</span>$<span style="color: #a0522d;">RANDOM</span><span style="color: #8b2252;">'''.rmvb/'</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š/ å˜ä¸º.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">/ &#21464;&#20026;.</span>
<span style="color: #a0522d;">REPOSITORY</span>=gcr.io/google_containers
<span style="color: #a0522d;">interval</span>=.
[root@stor01 ~]# sed <span style="color: #8b2252;">'s#/#'"$interval"'#g'</span>&lt;&lt;&lt;${<span style="color: #a0522d;">REPOSITORY</span>%/}/
gcr.io.google_containers.
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">&#32451;&#20064;1&#65306;&#21024;&#38500;/boot/grub/grub2.cfg&#25991;&#20214;&#20013;&#25152;&#26377;&#20197;&#31354;&#30333;&#23383;&#31526;&#24320;&#22836;&#30340;&#34892;&#30340;&#34892;&#39318;&#30340;&#25152;&#26377;&#31354;&#30333;&#23383;&#31526;&#65307;
sed  <span style="color: #8b2252;">'s@^[[:space:]]\+@@'</span> /etc/grub2.cfg
&#32451;&#20064;2&#65306;&#21024;&#38500;/etc/fstab&#25991;&#20214;&#20013;&#25152;&#26377;&#20197;#&#24320;&#22836;&#30340;&#34892;&#30340;&#34892;&#39318;&#30340;#&#21495;&#21450;#&#21518;&#38754;&#30340;&#25152;&#26377;&#31354;&#30333;&#23383;&#31526;&#65307;
sed  <span style="color: #8b2252;">'s@^#[[:space:]]*@@'</span>  /etc/fstab
&#32451;&#20064;3&#65306;&#36755;&#20986;&#19968;&#20010;&#32477;&#23545;&#36335;&#24452;&#32473;sed&#21629;&#20196;&#65292;&#21462;&#20986;&#20854;&#30446;&#24405;&#65292;&#20854;&#34892;&#20026;&#31867;&#20284;&#20110;dirname&#65307;
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"/var/log/messages/"</span> | sed <span style="color: #8b2252;">'s@[^/]\+/\?$@@'</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"/var/log/messages"</span> | sed -r <span style="color: #8b2252;">'s@[^/]+/?$@@'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f11b26ca-74f9-43db-9e79-d398ed3fe42e" class="outline-4">
<h4 id="h:f11b26ca-74f9-43db-9e79-d398ed3fe42e">sed é«˜çº§ç”¨æ³•</h4>
<div class="outline-text-4" id="text-h:f11b26ca-74f9-43db-9e79-d398ed3fe42e">
<p>
sedä¸­é™¤äº†æ¨¡å¼ç©ºé—´ï¼Œè¿˜å¦å¤–è¿˜æ”¯æŒ <code>ä¿æŒç©ºé—´ï¼ˆHold Spaceï¼‰</code> ,åˆ©ç”¨æ­¤ç©ºé—´ï¼Œ
å¯ä»¥å°†æ¨¡å¼ç©ºé—´ï¼ˆPatternSpaceï¼‰ä¸­çš„æ•°æ®ï¼Œä¸´æ—¶ä¿å­˜è‡³ä¿æŒç©ºé—´ï¼Œä»è€Œåç»­æ¥
ç€å¤„ç†ï¼Œå®ç°æ›´ä¸ºå¼ºå¤§çš„åŠŸèƒ½ã€‚
</p>

<p>
å¸¸è§çš„é«˜çº§å‘½ä»¤
</p>

<ul class="org-ul">
<li>P æ‰“å°æ¨¡å¼ç©ºé—´å¼€ç«¯è‡³\nå†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°é»˜è®¤è¾“å‡ºä¹‹å‰</li>
<li>h æŠŠæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹è¦†ç›–è‡³ä¿æŒç©ºé—´ä¸­</li>
<li>H æŠŠæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹è¿½åŠ è‡³ä¿æŒç©ºé—´ä¸­</li>
<li>g ä»ä¿æŒç©ºé—´å–å‡ºæ•°æ®è¦†ç›–è‡³æ¨¡å¼ç©ºé—´</li>
<li>G ä»ä¿æŒç©ºé—´å–å‡ºå†…å®¹è¿½åŠ è‡³æ¨¡å¼ç©ºé—´</li>
<li>x æŠŠæ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹ä¸ä¿æŒç©ºé—´ä¸­çš„å†…å®¹è¿›è¡Œäº’æ¢</li>
<li>n è¯»å–åŒ¹é…åˆ°çš„è¡Œçš„ä¸‹ä¸€è¡Œè¦†ç›–è‡³æ¨¡å¼ç©ºé—´</li>
<li>N è¯»å–åŒ¹é…åˆ°çš„è¡Œçš„ä¸‹ä¸€è¡Œè¿½åŠ è‡³æ¨¡å¼ç©ºé—´</li>
<li>d åˆ é™¤æ¨¡å¼ç©ºé—´ä¸­çš„è¡Œ</li>
<li>D å¦‚æœæ¨¡å¼ç©ºé—´åŒ…å«æ¢è¡Œç¬¦ï¼Œåˆ™åˆ é™¤ç›´åˆ°ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦çš„æ¨¡å¼ç©ºé—´ä¸­çš„æ–‡æœ¬ï¼Œ
å¹¶ä¸ä¼šè¯»å–æ–°çš„è¾“å…¥è¡Œï¼Œè€Œä½¿ç”¨åˆæˆçš„æ¨¡å¼ç©ºé—´é‡æ–°å¯åŠ¨å¾ªç¯ã€‚å¦‚æœæ¨¡å¼ç©ºé—´
ä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œåˆ™ä¼šåƒå‘å‡ºdå‘½ä»¤é‚£æ ·å¯åŠ¨æ­£å¸¸çš„æ–°å¾ªç¯</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">sed -n <span style="color: #8b2252;">'n;p'</span> FILE
sed <span style="color: #8b2252;">'1!G;h;$!d'</span> FILE
sed &#8216;N;D&#8217;FILE  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26174;&#31034;&#26368;&#21518;&#19968;&#34892;</span>
seq 10 |sed  <span style="color: #8b2252;">'3h;9G;9!d'</span>
sed <span style="color: #8b2252;">'$!N;$!D'</span> FILE
sed <span style="color: #8b2252;">'$!d'</span> FILE
sed &#8216;G&#8217; FILE
sed &#8216;g&#8217; FILE
sed &#8216;/^$/d;G&#8217; FILE
sed <span style="color: #8b2252;">'n;d'</span> FILE
sed -n <span style="color: #8b2252;">'1!G;h;$p'</span> FILE

sed  -n  <span style="color: #8b2252;">'n;p'</span>  FILE&#65306;# &#26174;&#31034;&#20598;&#25968;&#34892;&#65307;
sed  <span style="color: #8b2252;">'1!G;h;$!d'</span>  FILE&#65306;# &#36870;&#24207;&#26174;&#31034;&#25991;&#20214;&#30340;&#20869;&#23481;&#65307;1!G&#65306;&#31532;1&#34892;&#20445;&#25345;&#31354;&#38388;&#20869;&#23481;&#19981;&#36861;&#21152;&#21040;&#27169;&#24335;&#31354;&#38388;&#65292;h&#65306;&#25226;&#27169;&#24335;&#31354;&#38388;&#20013;&#30340;&#20869;&#23481;&#35206;&#30422;&#33267;&#20445;&#25345;&#31354;&#38388;&#20013;&#65292;$<span style="color: #a0522d;">!</span>d&#65306;&#38500;&#26368;&#21518;&#19968;&#34892;&#22806;&#30340;&#34892;&#20174;&#27169;&#24335;&#31354;&#38388;&#20013;&#21024;&#38500;
sed  &#8217;$<span style="color: #a0522d;">!</span>d<span style="color: #8b2252;">'  FILE&#65306;&#21462;&#20986;&#26368;&#21518;&#19968;&#34892;&#65307;</span>
<span style="color: #8b2252;">sed  '</span>$<span style="color: #a0522d;">!</span>N;$<span style="color: #a0522d;">!</span>D<span style="color: #8b2252;">' FILE&#65306;&#21462;&#20986;&#25991;&#20214;&#21518;&#20004;&#34892;&#65307;</span>
<span style="color: #8b2252;">sed '</span>/^$/d;G<span style="color: #8b2252;">' FILE&#65306;&#21024;&#38500;&#21407;&#26377;&#30340;&#25152;&#26377;&#31354;&#30333;&#34892;&#65292;&#32780;&#21518;&#20026;&#25152;&#26377;&#30340;&#38750;&#31354;&#30333;&#34892;&#21518;&#28155;&#21152;&#19968;&#20010;&#31354;&#30333;&#34892;&#65307;</span>
<span style="color: #8b2252;">sed  '</span>n;d<span style="color: #8b2252;">'  FILE&#65306;&#26174;&#31034;&#22855;&#25968;&#34892;&#65307; sed  '</span>N;p<span style="color: #8b2252;">'</span>
<span style="color: #8b2252;">sed '</span>G<span style="color: #8b2252;">' FILE&#65306;&#22312;&#21407;&#26377;&#30340;&#27599;&#34892;&#21518;&#26041;&#28155;&#21152;&#19968;&#20010;&#31354;&#30333;&#34892;&#65307;</span>
</pre>
</div>


<figure id="org5a55c1d">
<img src="images/image-20210216003322379.png" alt="image-20210216003322379.png" width="60%">

<figcaption><span class="figure-number">Figure 32: </span>image-20210216003322379</figcaption>
</figure>

<p>
èŒƒä¾‹ï¼šä¸Šä¸‹è¡Œåˆå¹¶
</p>

<div class="org-src-container">
<pre class="src src-sh">&#26041;&#27861;&#19968;
sed -n <span style="color: #8b2252;">'{N;s/\n/\t/p}'</span> test.txt
&#26041;&#27861;&#20108;&#65306;
awk <span style="color: #8b2252;">'{tmp=$0;getline;print tmp"\t"$0}'</span> test.txt

[root@nginx001 ~]# curl -s -u wowotuan:wowotuan 172.16.0.22:8080/v2/apps?<span style="color: #a0522d;">embed</span>=apps.count|jq  <span style="color: #8b2252;">'.apps[]|.id ,.instances'</span> |sed -n <span style="color: #8b2252;">'{N;s/\n/  /p}'</span> |sort -nr -k2
<span style="color: #8b2252;">"/yuncapital-yzprod"</span>  2
<span style="color: #8b2252;">"/xyscm-foodsafetyweb-yzprod"</span>  2
<span style="color: #8b2252;">"/xyscm-cost-reduction-web-yzprod"</span>  2
<span style="color: #8b2252;">"/jobcenter-yzprod"</span>  2
<span style="color: #8b2252;">"/dbos-web-yzprod"</span>  2
<span style="color: #8b2252;">"/xyscm-warehousecenter-yzprod"</span>  1
<span style="color: #8b2252;">"/xyscm-ub-web-yzprod"</span>  1
<span style="color: #8b2252;">"/xyscm-taskcenter-yzprod"</span>  1
<span style="color: #8b2252;">"/xyscm-me-warehousecenter-yzprod"</span>  1
<span style="color: #8b2252;">"/xyscm-me-erpcenter-yzprod"</span>  1
</pre>
</div>
</div>
<div id="outline-container-h:8443a947-13b9-46f7-b84d-12e82b9bd4a8" class="outline-5">
<h5 id="h:8443a947-13b9-46f7-b84d-12e82b9bd4a8">è¿è¡Œsedè„šæœ¬</h5>
<div class="outline-text-5" id="text-h:8443a947-13b9-46f7-b84d-12e82b9bd4a8">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">Time: 2018-12-09T10:42:25.350158+08:00</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">User@Host: miying[miying] @  [10.1.1.9]  Id: 930992</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Query_time: 0.357271  Lock_time: 0.000021 Rows_sent: 1  Rows_examined: 21045</span>
SET <span style="color: #a0522d;">timestamp</span>=1544323345;
SELECT SUM(duration) FROM <span style="color: #ff00ff;">`user_listening_log`</span> WHERE (<span style="color: #ff00ff;">`user_account_id`</span>=<span style="color: #8b2252;">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>) AND (<span style="color: #ff00ff;">`record_date`</span>=<span style="color: #8b2252;">'2018-12-09'</span>) AND (<span style="color: #ff00ff;">`product_id`</span>=<span style="color: #8b2252;">'yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy'</span>);
<span style="color: #b22222;"># </span><span style="color: #b22222;">Time: 2018-12-09T10:42:25.353119+08:00</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">User@Host: miying[miying] @  [10.1.1.9]  Id: 930993</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Query_time: 0.345233  Lock_time: 0.000025 Rows_sent: 1  Rows_examined: 21045</span>
SET <span style="color: #a0522d;">timestamp</span>=1544323345;
SELECT SUM(duration) FROM <span style="color: #ff00ff;">`user_listening_log`</span> WHERE (<span style="color: #ff00ff;">`user_account_id`</span>=<span style="color: #8b2252;">'e359112a3f2c4d968e710e003f7b0a4c'</span>) AND (<span style="color: #ff00ff;">`record_date`</span>=<span style="color: #8b2252;">'2018-12-09'</span>) AND (<span style="color: #ff00ff;">`product_id`</span>=<span style="color: #8b2252;">'yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy'</span>);


&#21462;&#20986;&#26597;&#35810;&#26085;&#24535;&#37324;&#30340;&#26597;&#35810;&#26102;&#38388;&#21644;&#34920;&#12290;&#20063;&#23601;&#26159;&#19978;&#38754;&#26694;&#36215;&#26469;&#30340;&#32418;&#33394;&#26102;&#38388;&#12289;&#40644;&#33394;&#30340;&#34920;&#12290;&#36755;&#20986;&#26684;&#24335;&#20026;<span style="color: #8b2252;">"0.12121 user_account"</span>&#12290;&#25991;&#20214;&#37324;&#23601;&#19978;&#38754;&#20004;&#31181;&#26684;&#24335;&#12290;
<span style="color: #b22222;">#</span><span style="color: #b22222;">!/usr/bin/sed -nf</span>

/Query_time: /{
    :a
    /FROM/I{
        s|^# Query_time: ([0-9]+<span style="color: #8b2252;">\.</span>[0-9]+)<span style="color: #483d8b;">.</span>*FROM \W?([a-zA-Z_]+)\W?.*$|\1 \2|Ip
        d
    }
    N
    ba
}
</pre>
</div>


<figure id="orgd97cc1f">
<img src="images/image-20210216003344938.png" alt="image-20210216003344938.png" width="60%">

</figure>


<figure id="orgeab3677">
<img src="images/image-20210216003400609.png" alt="image-20210216003400609.png" width="60%">

</figure>


<figure id="orgc85739e">
<img src="images/sed.png" alt="sed.png" width="60%">

</figure>
</div>
</div>
</div>
</div>
<div id="outline-container-h:6c78e418-2e17-4f19-9533-3a1732045d57" class="outline-3">
<h3 id="h:6c78e418-2e17-4f19-9533-3a1732045d57">æ–‡æœ¬å¤„ç†ä¸‰å‰‘å®¢ä¹‹ awk</h3>
<div class="outline-text-3" id="text-h:6c78e418-2e17-4f19-9533-3a1732045d57">
</div>
<div id="outline-container-h:26067d29-6c5b-4ac7-b90e-742ed5c73124" class="outline-4">
<h4 id="h:26067d29-6c5b-4ac7-b90e-742ed5c73124">awk å·¥ä½œåŸç†å’ŒåŸºæœ¬ç”¨æ³•è¯´æ˜</h4>
<div class="outline-text-4" id="text-h:26067d29-6c5b-4ac7-b90e-742ed5c73124">
<p>
awkï¼šAho, Weinberger, Kernighané‡‡ç”¨ä¸‰ä¸ªä½œè€…çš„åç§°é¦–å­—æ¯ç®€å†™ï¼ŒæŠ¥å‘Šç”Ÿæˆ
å™¨ï¼Œæ ¼å¼åŒ–æ–‡æœ¬è¾“å‡ºï¼ŒGNU/Linuxå‘å¸ƒçš„AWKç›®å‰ç”±è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFSFï¼‰è¿›è¡Œ
å¼€å‘å’Œç»´æŠ¤ï¼Œé€šå¸¸ä¹Ÿç§°å®ƒä¸º
</p>

<p>
GNU AWK æœ‰å¤šç§ç‰ˆæœ¬ï¼š
</p>

<ul class="org-ul">
<li>AWKï¼šåŸå…ˆæ¥æºäº AT &amp; T å®éªŒå®¤çš„çš„AWK</li>

<li>NAWKï¼šNew awkï¼ŒAT &amp; T å®éªŒå®¤çš„AWKçš„å‡çº§ç‰ˆ</li>

<li><p>
GAWKï¼šå³GNU
AWKã€‚æ‰€æœ‰çš„GNU/Linuxå‘å¸ƒç‰ˆéƒ½è‡ªå¸¦GAWKï¼Œå®ƒä¸AWKå’ŒNAWKå®Œå…¨å…¼å®¹
</p>

<div class="org-src-container">
<pre class="src src-sh">Linux&#19978;awk&#26159;gawk&#30340;&#36830;&#25509;&#25991;&#20214;
[root@centos7 scripts]# which awk
/usr/bin/awk
[root@centos7 scripts]# ls -l /usr/bin/awk
lrwxrwxrwx. 1 root root 4 12&#26376; 10 16:47 /usr/bin/awk -&gt; gawk
[root@centos7 scripts]# man gawk
</pre>
</div></li>
</ul>

<p>
gawkï¼šæ¨¡å¼æ‰«æå’Œå¤„ç†è¯­è¨€ï¼Œå¯ä»¥å®ç°ä¸‹é¢åŠŸèƒ½
</p>

<ul class="org-ul">
<li>æ–‡æœ¬å¤„ç†</li>
<li>è¾“å‡ºæ ¼å¼åŒ–çš„æ–‡æœ¬æŠ¥è¡¨</li>
<li>æ‰§è¡Œç®—æ•°è¿ç®—</li>
<li>æ‰§è¡Œå­—ç¬¦ä¸²æ“ä½œ</li>
</ul>

<p>
æ ¼å¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk [options]  <span style="color: #8b2252;">'program'</span> <span style="color: #a0522d;">var</span>=value  file&#8230;
awk [options]  -f programfile  <span style="color: #a0522d;">var</span>=value file&#8230;
</pre>
</div>

<p>
è¯´æ˜ï¼š
</p>

<p>
programé€šå¸¸æ˜¯è¢«æ”¾åœ¨å•å¼•å·ä¸­ï¼Œå¹¶å¯ä»¥ç”±ä¸‰ç§éƒ¨åˆ†ç»„æˆ
</p>

<ul class="org-ul">
<li>BEGINè¯­å¥å—</li>
<li>æ¨¡å¼åŒ¹é…çš„é€šç”¨è¯­å¥å—</li>
<li>ENDè¯­å¥å—</li>
</ul>

<p>
å¸¸è§é€‰é¡¹ï¼š
</p>

<ul class="org-ul">
<li>-F "åˆ†éš”ç¬¦" æŒ‡æ˜è¾“å…¥æ—¶ç”¨åˆ°çš„å­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤çš„åˆ†éš”ç¬¦æ˜¯è‹¥å¹²ä¸ªè¿ç»­ç©ºç™½ç¬¦</li>
<li>-v var=value å˜é‡èµ‹å€¼</li>
</ul>

<p>
<b>Programæ ¼å¼ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">pattern{action statements;..}
</pre>
</div>

<p>
patternï¼šå†³å®šåŠ¨ä½œè¯­å¥ä½•æ—¶è§¦å‘åŠè§¦å‘äº‹ä»¶ï¼Œæ¯”å¦‚ï¼šBEGIN,END,æ­£åˆ™è¡¨è¾¾å¼ç­‰
</p>

<p>
action statementsï¼šå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ”¾åœ¨{}å†…æŒ‡æ˜ï¼Œå¸¸è§ï¼šprint, printf
</p>

<p>
<b>awk å·¥ä½œè¿‡ç¨‹</b>
</p>


<figure id="orgb48b50f">
<img src="images/image-20210228023558900.png" alt="image-20210228023558900.png" width="60%">

<figcaption><span class="figure-number">Figure 33: </span>image-20210228023558900</figcaption>
</figure>

<ul class="org-ul">
<li>ç¬¬ä¸€æ­¥ï¼šæ‰§è¡ŒBEGIN{action;&#x2026; }è¯­å¥å—ä¸­çš„è¯­å¥</li>
<li>ç¬¬äºŒæ­¥ï¼šä»æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥(stdin)è¯»å–ä¸€è¡Œï¼Œç„¶åæ‰§è¡Œpattern{ action;&#x2026;
}è¯­å¥å—ï¼Œå®ƒé€è¡Œæ‰«ææ–‡ä»¶ï¼Œä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ–‡ä»¶å…¨
éƒ¨è¢«è¯»å–å®Œæ¯•ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šå½“è¯»è‡³è¾“å…¥æµæœ«å°¾æ—¶ï¼Œæ‰§è¡ŒEND{action;&#x2026;}è¯­å¥å—</li>
</ul>

<p>
BEGINè¯­å¥å—åœ¨awkå¼€å§‹ä»è¾“å…¥æµä¸­è¯»å–è¡Œä¹‹å‰è¢«æ‰§è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„è¯­å¥å—ï¼Œ
æ¯”å¦‚å˜é‡åˆå§‹åŒ–ã€æ‰“å°è¾“å‡ºè¡¨æ ¼çš„è¡¨å¤´ç­‰è¯­å¥é€šå¸¸å¯ä»¥å†™åœ¨BEGINè¯­å¥å—ä¸­
</p>

<p>
ENDè¯­å¥å—åœ¨awkä»è¾“å…¥æµä¸­è¯»å–å®Œæ‰€æœ‰çš„è¡Œä¹‹åå³è¢«æ‰§è¡Œï¼Œæ¯”å¦‚æ‰“å°æ‰€æœ‰è¡Œçš„åˆ†
æç»“æœè¿™ç±»ä¿¡æ¯æ±‡æ€»éƒ½æ˜¯åœ¨ENDè¯­å¥å—ä¸­å®Œæˆï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰è¯­å¥å—
</p>

<p>
patternè¯­å¥å—ä¸­çš„é€šç”¨å‘½ä»¤æ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯å¯é€‰çš„ã€‚å¦‚æœæ²¡æœ‰æä¾›
patternè¯­å¥å—ï¼Œåˆ™é»˜è®¤æ‰§è¡Œ{print }ï¼Œå³æ‰“å°æ¯ä¸€ä¸ªè¯»å–åˆ°çš„è¡Œï¼Œawkè¯»å–çš„æ¯
ä¸€è¡Œéƒ½ä¼šæ‰§è¡Œè¯¥è¯­å¥å—
</p>

<p>
<b>åˆ†å‰²ç¬¦ã€åŸŸå’Œè®°å½•</b>
</p>

<ul class="org-ul">
<li>ç”±åˆ†éš”ç¬¦åˆ†éš”çš„å­—æ®µï¼ˆåˆ—column,åŸŸfieldï¼‰æ ‡è®°$1,$2&#x2026;$nç§°ä¸ºåŸŸæ ‡è¯†ï¼Œ$0ä¸º
æ‰€æœ‰åŸŸï¼Œæ³¨æ„ï¼šå’Œshellä¸­å˜é‡â€‹$ç¬¦å«ä¹‰ä¸åŒ</li>
<li>æ–‡ä»¶çš„æ¯ä¸€è¡Œç§°ä¸ºè®°å½•record</li>
<li>å¦‚æœçœç•¥actionï¼Œåˆ™é»˜è®¤æ‰§è¡Œ print $0 çš„æ“ä½œ</li>
</ul>

<p>
<b>å¸¸ç”¨çš„actionåˆ†ç±»</b>
</p>

<ul class="org-ul">
<li>output statementsï¼šè¾“å‡ºè¯­å¥print,printf</li>
<li>Expressionsï¼šç®—æœ¯ï¼Œæ¯”è¾ƒè¡¨è¾¾å¼ç­‰</li>
<li>Compound statementsï¼šç»„åˆè¯­å¥</li>
<li>Control statementsï¼šæ§åˆ¶è¯­å¥if, whileç­‰</li>
<li>input statementsæ§åˆ¶è¯­å¥</li>
</ul>

<p>
<b>awkæ§åˆ¶è¯­å¥</b>
</p>

<ul class="org-ul">
<li>{ statements;&#x2026; } ç»„åˆè¯­å¥</li>
<li>if(condition) {statements;&#x2026;}</li>
<li>if(condition) {statements;&#x2026;} else {statements;&#x2026;}</li>
<li>while(conditon) {statments;&#x2026;}</li>
<li>do {statements;&#x2026;} while(condition)</li>
<li>for(expr1;expr2;expr3) {statements;&#x2026;}</li>
<li>break</li>
<li>continue</li>
<li>exit</li>
</ul>
</div>
</div>
<div id="outline-container-h:651d5fb4-2329-4e17-b375-33cab31ad010" class="outline-4">
<h4 id="h:651d5fb4-2329-4e17-b375-33cab31ad010">åŠ¨ä½œ print</h4>
<div class="outline-text-4" id="text-h:651d5fb4-2329-4e17-b375-33cab31ad010">
<p>
æ ¼å¼ï¼š print item1, item2, &#x2026;
</p>

<p>
è¯´æ˜ï¼š
</p>

<ul class="org-ul">
<li>é€—å·åˆ†éš”ç¬¦</li>
<li>è¾“å‡ºitemå¯ä»¥å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯æ˜¯æ•°å€¼ï¼›å½“å‰è®°å½•çš„å­—æ®µã€å˜é‡æˆ–awkçš„è¡¨è¾¾å¼</li>
<li>å¦‚çœç•¥itemï¼Œç›¸å½“äºprint $0æ‰“å°æ•´è¡Œ</li>
<li>å›ºå®šå­—ç¬¦ç¬¦éœ€è¦ç”¨â€œ â€ å¼•èµ·æ¥ï¼Œè€Œå˜é‡å’Œæ•°å­—ä¸éœ€è¦</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'{print "hello,awk"}'</span>
[root@centos8 ~]#seq 10 | awk <span style="color: #8b2252;">'{print "hello,awk"}'</span>
hello,awk
hello,awk
hello,awk
hello,awk
hello,awk
hello,awk
hello,awk
hello,awk
hello,awk
hello,awk
[root@centos8 ~]#seq 3 | awk <span style="color: #8b2252;">'{print 2*3}'</span>
6
6
6
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print "wang"}'</span> /etc/passwd
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print}'</span> /etc/passwd
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print $0}'</span> /etc/passwd
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print $1,$3}'</span> /etc/passwd
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print $1"\t"$3}'</span> /etc/passwd

[root@centos8 ~]#grep <span style="color: #8b2252;">"^UUID"</span> /etc/fstab |awk {<span style="color: #8b2252;">'print $2,$3'</span>}
/ xfs
/boot ext4
/data xfs
swap swap
</pre>
</div>

<p>
é¢é¢˜ï¼šå–å‡ºç½‘ç«™è®¿é—®é‡æœ€å¤§çš„å‰3ä¸ªIP
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@VM_0_10_centos logs]# awk <span style="color: #8b2252;">'{print $1}'</span> nginx.access.log-20200428|sort |
uniq -c |sort -nr|head -3
 5498 122.51.38.20
 2161 117.157.173.214
 953 211.159.177.120
[root@centos8 ~]#awk <span style="color: #8b2252;">'{print $1}'</span> access_log |sort |uniq -c|sort -nr|head
 4870 172.20.116.228
 3429 172.20.116.208
 2834 172.20.0.222
 2613 172.20.112.14
 2267 172.20.0.227
 2262 172.20.116.179
 2259 172.20.65.65
 1565 172.20.0.76
 1482 172.20.0.200
 1110 172.20.28.145
</pre>
</div>

<p>
é¢è¯•é¢˜ï¼šå–å‡ºåˆ†åŒºåˆ©ç”¨ç‡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#df | awk <span style="color: #8b2252;">'{print $1,$5}'</span>
Filesystem Use%
devtmpfs 0%
tmpfs 0%
tmpfs 2%
tmpfs 0%
/dev/sda2 3%
/dev/sda3 1%
/dev/sda1 15%
tmpfs 0%

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#25193;&#23637;&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;</span>
[root@centos8 ~]#df | awk -F<span style="color: #8b2252;">"[[:space:]]+|%"</span> <span style="color: #8b2252;">'{print $5}'</span>
Use
0
0
1
0
5
1
92
1
[root@centos8 ~]#df | awk -F<span style="color: #8b2252;">'[[:space:]]+|%'</span> <span style="color: #8b2252;">'{print $1,$5}'</span>
Filesystem Use
devtmpfs 0
tmpfs 0
tmpfs 2
tmpfs 0
/dev/sda2 3
/dev/sda3 1
/dev/sda1 15
tmpfs 0

[root@centos8 ~]#df | grep <span style="color: #8b2252;">"^/dev/sd"</span> | awk -F<span style="color: #8b2252;">"[[:space:]]+|%"</span> <span style="color: #8b2252;">'{print $5}'</span>
5
1
92

[root@centos8 ~]#df | grep <span style="color: #8b2252;">'^/dev/sd'</span>| awk -F<span style="color: #8b2252;">'[[:space:]]+|%'</span> <span style="color: #8b2252;">'{print $1,$5}'</span>
/dev/sda2 3
/dev/sda3 1
/dev/sda1 15

[root@centos8 ~]#df | awk -F<span style="color: #8b2252;">"[[:space:]]+|%"</span> <span style="color: #8b2252;">'/^\/dev\/sd/{print $5}'</span>
5
1
92
[root@centos8 ~]#df | awk -F<span style="color: #8b2252;">'[[:space:]]+|%'</span> <span style="color: #8b2252;">'/^\/dev\/sd/{print $1,$5}'</span>
/dev/sda2 3
/dev/sda3 1
/dev/sda1 15
</pre>
</div>

<p>
é¢è¯•é¢˜ï¼šå– ifconfig è¾“å‡ºç»“æœä¸­çš„IPåœ°å€
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ifconfig eth0 | awk <span style="color: #8b2252;">'/netmask/{print $2}'</span>
10.0.0.8
[root@centos6 ~]#ifconfig eth0 |awk -F <span style="color: #8b2252;">" +|:"</span> <span style="color: #8b2252;">'/Mask/{print $4}'</span>
10.0.0.6
[root@centos8 ~]#ifconfig eth0| sed -rn <span style="color: #8b2252;">'2s/^[^0-9]+([0-9.]+) .*$/\1/p'</span>
10.0.0.8
[root@centos6 ~]#ifconfig eth0| sed -rn <span style="color: #8b2252;">'2s/^[^0-9]+([0-9.]+) .*$/\1/p'</span>
10.0.0.6
</pre>
</div>

<p>
é¢è¯•é¢˜ï¼šæ–‡ä»¶host_list.logå¦‚ä¸‹æ ¼å¼ï¼Œè¯·æå–â€.me.comâ€å‰é¢çš„ä¸»æœºåéƒ¨åˆ†å¹¶
å†™å…¥åˆ°å›åˆ°è¯¥æ–‡ä»¶ä¸­
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat host_list.log
1 www.me.com
2 blog.me.com
3 study.me.com
4 linux.me.com
5 python.me.com

[root@centos8 ~]#awk -F<span style="color: #8b2252;">"[ .]"</span> <span style="color: #8b2252;">'{print $2}'</span> host_list.log
www
blog
study
linux
python
[root@centos8 ~]#awk -F<span style="color: #8b2252;">"[ .]"</span> <span style="color: #8b2252;">'{print $2}'</span> host_list.log &gt;&gt; host_list.log
[root@centos8 ~]#cat host_list.log
1 www.me.com
2 blog.me.com
3 study.me.com
4 linux.me.com
5 python.me.com
www
blog
study
linux
python
</pre>
</div>
</div>
</div>
<div id="outline-container-h:410d13ba-f572-422d-821a-dc467b6d927c" class="outline-4">
<h4 id="h:410d13ba-f572-422d-821a-dc467b6d927c">awkå˜é‡</h4>
<div class="outline-text-4" id="text-h:410d13ba-f572-422d-821a-dc467b6d927c">
<p>
awkä¸­çš„å˜é‡åˆ†ä¸ºï¼šå†…ç½®å’Œè‡ªå®šä¹‰å˜é‡
</p>

<p>
<b>å¸¸è§çš„å†…ç½®å˜é‡</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">FS&#65306;input field seperator&#36755;&#20837;&#23383;&#27573;&#20998;&#38548;&#31526;&#65292;&#40664;&#35748;&#20026;&#31354;&#30333;&#23383;&#31526;&#65307;
OFS&#65306;output field seperator&#65292;&#36755;&#20986;&#23383;&#27573;&#20998;&#38548;&#31526;&#65292;&#40664;&#35748;&#20026;&#31354;&#30333;&#23383;&#31526;&#65307;
RS&#65306;input record seperator&#65292;&#36755;&#20837;&#26102;&#30340;&#25442;&#34892;&#31526;&#65307;
ORS&#65306;output record seperator&#65292;&#36755;&#20986;&#26102;&#30340;&#25442;&#34892;&#31526;&#65307;
NF: number of field,&#23383;&#27573;&#25968;&#37327;
NR: number of record&#65292;&#34892;&#25968;
FNR: &#27599;&#19968;&#20010;&#25991;&#20214;&#21333;&#29420;&#35745;&#24405;&#34892;&#25968;
FILENAME: &#24403;&#21069;&#25991;&#20214;&#21517;
ARGC: &#21629;&#20196;&#34892;&#21442;&#25968;&#30340;&#20010;&#25968;
ARGV: &#25968;&#32452;&#65292;&#20445;&#23384;&#20102;&#21629;&#20196;&#34892;&#20013;&#30340;&#21508;&#21442;&#25968;
ARGIND &#21629;&#20196;&#34892;&#20013;&#25991;&#20214;&#24207;&#21495;
</pre>
</div>

<ul class="org-ul">
<li>FSï¼šè¾“å…¥å­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºç™½å­—ç¬¦,åŠŸèƒ½ç›¸å½“äº -F</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">':'</span> <span style="color: #8b2252;">'{print $1,FS,$3}'</span> /etc/passwd
awk -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">":"</span> <span style="color: #8b2252;">'{print $1FS$3}'</span> /etc/passwd
awk &#8211;F:  <span style="color: #8b2252;">'{print $1,$3,$7}'</span>  /etc/passwd
<span style="color: #a0522d;">S</span>=:;awk -v <span style="color: #a0522d;">FS</span>=$<span style="color: #a0522d;">S</span> <span style="color: #8b2252;">'{print $1FS$3}'</span> /etc/passwd

[root@centos8 ~]#awk -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">":"</span> <span style="color: #8b2252;">'{print $1FS$3}'</span> /etc/passwd |head -n3
root:0
bin:1
daemon:2
[root@centos8 ~]#<span style="color: #a0522d;">S</span>=:;awk -F$<span style="color: #a0522d;">S</span>  <span style="color: #8b2252;">'{print $1,$3}'</span> /etc/passwd|head -n3
root 0
bin 1
daemon 2
[root@centos8 ~]#

<span style="color: #b22222;">#</span><span style="color: #b22222;">-F &#21644; FS&#21464;&#37327;&#21151;&#33021;&#19968;&#26679;&#65292;&#21516;&#26102;&#20351;&#29992;&#20250;&#20914;&#31361;</span>
[root@centos8 ~]#awk -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">":"</span> -F<span style="color: #8b2252;">";"</span> <span style="color: #8b2252;">'{print $1FS$3}'</span> /etc/passwd |head -n3
root:x:0:0:root:/root:/bin/bash;
bin:x:1:1:bin:/bin:/sbin/nologin;
daemon:x:2:2:daemon:/sbin:/sbin/nologin;
[root@centos8 ~]#awk -F<span style="color: #8b2252;">";"</span> -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">":"</span> <span style="color: #8b2252;">'{print $1FS$3}'</span> /etc/passwd |head -n3
root:0
bin:1
daemon:2
[root@centos8 ~]#
</pre>
</div>

<ul class="org-ul">
<li><p>
OFSï¼šè¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºç™½å­—ç¬¦ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">':'</span>  <span style="color: #8b2252;">'{print $1,$3,$7}'</span>  /etc/passwd|head -n1
root 0 /bin/bash
[root@centos8 ~]#awk -v <span style="color: #a0522d;">FS</span>=<span style="color: #8b2252;">':'</span> -v <span style="color: #a0522d;">OFS</span>=<span style="color: #8b2252;">':'</span> <span style="color: #8b2252;">'{print $1,$3,$7}'</span> /etc/passwd|head -n1
root:0:/bin/bash
</pre>
</div></li>

<li><p>
RSï¼šè¾“å…¥è®°å½•recordåˆ†éš”ç¬¦ï¼ŒæŒ‡å®šè¾“å…¥æ—¶çš„æ¢è¡Œç¬¦ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -v <span style="color: #a0522d;">RS</span>=<span style="color: #8b2252;">' '</span> &#8216;{print }&#8217; /etc/passwd
</pre>
</div></li>

<li><p>
ORSï¼šè¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼Œè¾“å‡ºæ—¶ç”¨æŒ‡å®šç¬¦å·ä»£æ›¿æ¢è¡Œç¬¦ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -v <span style="color: #a0522d;">RS</span>=<span style="color: #8b2252;">' '</span> -v <span style="color: #a0522d;">ORS</span>=<span style="color: #8b2252;">'###'</span> <span style="color: #8b2252;">'{print $0}'</span> /etc/passwd
</pre>
</div></li>

<li><p>
NFï¼šå­—æ®µæ•°é‡ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#24341;&#29992;&#21464;&#37327;&#26102;&#65292;&#21464;&#37327;&#21069;&#19981;&#38656;&#21152;$</span>
[root@centos8 ~]#awk -F&#65306;<span style="color: #8b2252;">'{print NF}'</span> /etc/fstab
[root@centos8 ~]#awk -F&#65306;<span style="color: #8b2252;">'{print $(</span><span style="color: #ff00ff;">NF-1</span><span style="color: #8b2252;">)}'</span> /etc/passwd <span style="color: #b22222;">#</span><span style="color: #b22222;">$(</span><span style="color: #ff00ff;">NF-1</span><span style="color: #b22222;">) &#26368;&#21518;&#19968;&#21015;&#20943;1</span>
[root@centos8 ~]#ls /misc/cd/BaseOS/Packages/*.rpm |awk -F<span style="color: #8b2252;">"."</span> <span style="color: #8b2252;">'{print $(</span><span style="color: #ff00ff;">NF-1</span><span style="color: #8b2252;">)}'</span>|sort |uniq -c
389 i686
208 noarch
1060 x86_64
</pre>
</div></li>
</ul>

<p>
é¢è¯•é¢˜ï¼šæ¥æ•°æœ€å¤šçš„å‰3ä¸ªIP
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -F<span style="color: #8b2252;">" +|:"</span> <span style="color: #8b2252;">'{print $(</span><span style="color: #ff00ff;">NF-2</span><span style="color: #8b2252;">)}'</span> ss.log |sort |uniq -c|sort -nr|head -n3
  12 223.88.255.148
  11 119.250.197.118
  10 183.202.63.36
[root@centos8 ~]#awk -F<span style="color: #8b2252;">" +|:"</span> <span style="color: #8b2252;">'/^ESTAB/{print $(</span><span style="color: #ff00ff;">NF-2</span><span style="color: #8b2252;">)}'</span> ss.log |sort |uniq -c|sort -nr|head -n3
  12 223.88.255.148
  10 183.202.63.36
  9 117.152.155.119
[root@centos8 ~]#ss -nt |grep <span style="color: #8b2252;">"^ESTAB"</span> | awk -F<span style="color: #8b2252;">"[[:space:]]+|:"</span> <span style="color: #8b2252;">'{print $(</span><span style="color: #ff00ff;">NF-2</span><span style="color: #8b2252;">)}'</span>
10.0.0.1
10.0.0.7
10.0.0.1

[root@centos8 ~]#ss -nt |awk -F<span style="color: #8b2252;">"[[:space:]]+|:"</span> <span style="color: #8b2252;">'/^ESTAB/{print $(</span><span style="color: #ff00ff;">NF-2</span><span style="color: #8b2252;">)}'</span>

[root@centos8 ~]#ss -nt|awk -F: <span style="color: #8b2252;">'{print $(</span><span style="color: #ff00ff;">NF-1</span><span style="color: #8b2252;">)}'</span> |awk <span style="color: #8b2252;">'/^[0-9]/{print $NF}'</span>|sort |uniq -c |head -n 3
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ¯ååˆ†é’Ÿæ£€æŸ¥å°†è¿æ¥æ•°è¶…è¿‡100ä¸ªä»¥ä¸Šçš„IPæ”¾å…¥é»‘åå•æ‹’ç»è®¿é—®
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat deny_dos.sh
<span style="color: #a0522d;">LINK</span>=100
<span style="color: #a020f0;">while</span> true;<span style="color: #a020f0;">do</span>
    ss -nt | awk -F<span style="color: #8b2252;">"[[:space:]]+|:"</span> <span style="color: #8b2252;">'/^ESTAB/{print $(</span><span style="color: #ff00ff;">NF-2</span><span style="color: #8b2252;">)}'</span>|sort |uniq -c|<span style="color: #a020f0;">while </span><span style="color: #483d8b;">read</span> count ip;<span style="color: #a020f0;">do</span>
        <span style="color: #a020f0;">if</span> [ $<span style="color: #a0522d;">count</span> -gt $<span style="color: #a0522d;">LINK</span> ];<span style="color: #a020f0;">then</span>
            iptables -A INPUT -s $<span style="color: #a0522d;">ip</span> -j REJECT
        <span style="color: #a020f0;">fi</span>
    <span style="color: #a020f0;">done</span>
<span style="color: #a020f0;">done</span>

[root@centos8 ~]#chmod +x /root/deny_dos.sh
[root@centos8 ~]#crontab -e
[root@centos8 ~]#crontab -l
*/10 * * * *  /root/deny_dos.sh
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat deny_dos.sh
<span style="color: #a0522d;">IPLIST</span>=<span style="color: #ff00ff;">`awk -F" +|:" '/^ESTAB/{print $(NF-2)}' ss.log |sort |uniq -c|sort -nr|head -3|awk '{print $2}'`</span>
<span style="color: #a020f0;">for</span> ip<span style="color: #a020f0;"> in</span> $<span style="color: #a0522d;">IPLIST</span>;<span style="color: #a020f0;">do</span>
    iptables -A INPUT -s $<span style="color: #a0522d;">ip</span> -j REJECT
<span style="color: #a020f0;">done</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
NRï¼šè®°å½•çš„ç¼–å·ï¼Œè¡Œçš„æ•°é‡ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'{print NR,$0}'</span> /etc/issue /etc/centos-release
1 \S
2 Kernel \r on an \m
3
4 CentOS Linux release 8.1.1911 (Core)
</pre>
</div></li>
</ul>

<p>
èŒƒä¾‹ï¼šå–ifconfigè¾“å‡ºç»“æœä¸­çš„IPåœ°å€
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#ifconfig eth0 | awk <span style="color: #8b2252;">'/netmask/{print $2}'</span>
10.0.0.8
[root@centos8 ~]#ifconfig eth0 | awk <span style="color: #8b2252;">'NR==2{print $2}'</span>
10.0.0.8
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print NR}'</span> /etc/passwd
1
2
3
.......
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'END{print NR}'</span> /etc/passwd
57
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'BEGIN{print NR}'</span> /etc/passwd
0
</pre>
</div>

<ul class="org-ul">
<li><p>
FNRï¼šå„æ–‡ä»¶åˆ†åˆ«è®¡æ•°ï¼Œè®°å½•çš„ç¼–å· èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk <span style="color: #8b2252;">'{print FNR}'</span> /etc/fstab /etc/inittab
[root@centos8 ~]#awk <span style="color: #8b2252;">'{print NR,$0}'</span> /etc/issue /etc/redhat-release
1 \S
2 Kernel \r on an \m
3
4 CentOS Linux release 8.0.1905 (Core)

[root@centos8 script40]#awk <span style="color: #8b2252;">'{print FNR,$0}'</span> /etc/issue /etc/redhat-release
1 \S
2 Kernel \r on an \m
3
1 CentOS Linux release 8.0.1905 (Core)
</pre>
</div></li>

<li>FILENAMEï¼šå½“å‰æ–‡ä»¶å</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'{print FILENAME}'</span> /etc/fstab
[root@centos8 ~]#awk <span style="color: #8b2252;">'{print FNR,FILENAME,$0}'</span> /etc/issue /etc/redhat-release
1 /etc/issue \S
2 /etc/issue Kernel \r on an \m
3 /etc/issue
1 /etc/redhat-release CentOS Linux release 8.0.1905 (Core)
</pre>
</div>

<ul class="org-ul">
<li><p>
ARGCï¼šå‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•° èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'{print ARGC}'</span> /etc/issue /etc/redhat-release
3
3
3
3
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print ARGC}'</span> /etc/issue /etc/redhat-release
3
</pre>
</div></li>

<li><p>
ARGVï¼šæ•°ç»„ï¼Œä¿å­˜çš„æ˜¯å‘½ä»¤è¡Œæ‰€ç»™å®šçš„å„å‚æ•°ï¼Œæ¯ä¸€ä¸ªå‚æ•°ï¼šARGV[0]ï¼Œ&#x2026;&#x2026;
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print ARGV[0]}'</span> /etc/issue /etc/redhat-release
awk
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print ARGV[1]}'</span> /etc/issue /etc/redhat-release
/etc/issue
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print ARGV[2]}'</span> /etc/issue /etc/redhat-release
/etc/redhat-release
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print ARGV[3]}'</span> /etc/issue /etc/redhat-release
[root@centos8 ~]#
</pre>
</div></li>

<li><p>
ARGIND å‘½ä»¤è¡Œä¸­æ–‡ä»¶åºå·
</p>

<p>
èŒƒä¾‹ï¼š2ä¸ªæ–‡ä»¶æ¯”è¾ƒ
</p></li>
</ul>

<pre class="example" id="orgf376bc3">
æˆ‘è¦æ¯”è¾ƒaå’Œbä¸¤ä¸ªæ–‡ä»¶ï¼›
a              b
1              1
qw            2
qq            d
123          cd
æˆ‘æ€ä¹ˆæ‰èƒ½åˆ—å‡ºbæ–‡ä»¶ä¸­å®Œå…¨ä¸åŒ…å«aæ–‡ä»¶çš„è¡Œï¼Ÿï¼Ÿ

è§£ç­”ï¼š awk 'ARGIND==1 {a[$0]} ARGIND&gt;1&amp;&amp;!($0 in a) {print $0}' a b
æˆ–è€…ï¼š awk 'NR==FNR {a[$0]} NR&gt;FNR&amp;&amp;!($0 in a) {print $0}' a b
ä»£ç è§£é‡Šï¼š
ARGIND==1{a[$0]}
#ARGIND==1 åˆ¤æ–­æ˜¯å¦æ­£åœ¨å¤„ç†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œæœ¬ä¾‹ä¸ºæ–‡ä»¶a
# {a[$0]} åˆå§‹åŒ–ï¼ˆæˆ–å«åšå®šä¹‰ï¼‰a[$0]
ARGIND&gt;1&amp;&amp;!($0 in a){print $0}
#ARGIND&gt;1 åˆ¤æ–­æ˜¯å¦åœ¨å¤„ç†ç¬¬äºŒä¸ªæˆ–ç¬¬nä¸ªæ–‡ä»¶ï¼Œæœ¬ä¾‹åªæœ‰ä¸€ä¸ªæ–‡ä»¶b
#å¹¶ä¸”åˆ¤æ–­a[$0]æ˜¯å¦æœªå®šä¹‰ï¼Œç„¶åæ‰“å°$0
</pre>

<p>
èŒƒä¾‹ï¼šå¤„ç† 2 ä¸ªæ–‡ä»¶
</p>

<p>
å½“awkè¯»å–çš„æ–‡ä»¶åªæœ‰ä¸¤ä¸ªçš„æ—¶å€™ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æœ‰ä¸¤ç§æ–¹æ³•ï¼š
</p>

<pre class="example" id="org7160181">
(1) ä¸€ç§æ˜¯ awk 'NR==FNR{...}NR&gt;FNR{...}'  file1 file2   æˆ–    awk 'NR==FNR{...}NR!=FNR{...}' file1 file2
(2) å¦ä¸€ç§æ˜¯ awk 'NR==FNR{...;next}{...}' file1 file2

awk 'NR==FNR{...}NR&gt;FNR{...}' file1 file2
# è¯»å…¥file1çš„æ—¶å€™ï¼Œå·²è¯»å…¥file1çš„è®°å½•æ•°FNRä¸€å®šç­‰äºawkå·²è¯»å…¥çš„æ€»è®°å½•æ•°NRï¼Œå› ä¸ºfile1æ˜¯awkè¯»å…¥çš„é¦–ä¸ªæ–‡ä»¶ï¼Œæ•…è¯»å…¥file1æ—¶æ‰§è¡Œå‰ä¸€ä¸ªå‘½ä»¤å—{...}
# è¯»å…¥file2çš„æ—¶å€™ï¼Œå·²è¯»å…¥çš„æ€»è®°å½•æ•°NRä¸€å®š&gt;è¯»å…¥file2çš„è®°å½•æ•°FNRï¼Œæ•…è¯»å…¥file2æ—¶æ‰§è¡Œåä¸€ä¸ªå‘½ä»¤å—{...}


awk 'NR==FNR{...;next}{...}' file1 file2
# è¯»å…¥file1æ—¶ï¼Œæ»¡è¶³NR==FNRï¼Œå…ˆæ‰§è¡Œå‰ä¸€ä¸ªå‘½ä»¤å—ï¼Œä½†å› ä¸ºå…¶ä¸­æœ‰nextå‘½ä»¤ï¼Œæ•…åä¸€ä¸ªå‘½ä»¤å—{...}æ˜¯ä¸ä¼šæ‰§è¡Œçš„
# è¯»å…¥file2æ—¶ï¼Œä¸æ»¡è¶³NR==FNRï¼Œå‰ä¸€ä¸ªå‘½ä»¤å—{..}ä¸ä¼šæ‰§è¡Œï¼Œåªæ‰§è¡Œåä¸€ä¸ªå‘½ä»¤å—{...}
</pre>

<p>
å½“awkå¤„ç†çš„æ–‡ä»¶è¶…è¿‡ä¸¤ä¸ªæ—¶ï¼Œæ˜¾ç„¶ä¸Šé¢é‚£ç§æ–¹æ³•å°±ä¸é€‚ç”¨äº†ã€‚å› ä¸ºè¯»ç¬¬3ä¸ªæ–‡ä»¶
æˆ–ä»¥ä¸Šæ—¶ï¼Œä¹Ÿæ»¡è¶³NR&gt;FNR (NR!=FNR)ï¼Œæ˜¾ç„¶æ— æ³•åŒºåˆ†å¼€æ¥ï¼Œæ‰€ä»¥å°±è¦ç”¨åˆ°æ›´é€šç”¨
çš„æ–¹æ³•äº†ï¼š
</p>

<pre class="example" id="org38007e8">
1. ARGIND        # å½“å‰è¢«å¤„ç†å‚æ•°æ ‡å¿—
awk 'ARGIND==1{...}ARGIND==2{...}ARGIND==3{...}... ' file1 file2 file3 ...

2. ARGV            # å‘½ä»¤è¡Œå‚æ•°æ•°ç»„
awk 'FILENAME==ARGV[1]{...}FILENAME==ARGV[2]{...}FILENAME==ARGV[3]{...}...' file1 file2 file3 ...

3. æŠŠæ–‡ä»¶åç›´æ¥åŠ å…¥åˆ¤æ–­
awk 'FILENAME=="file1"{...}FILENAME=="file2"{...}FILENAME=="file3"{...}...' file1 file2 file3 ...
</pre>

<pre class="example" id="org6bc71e2">
[root@app-nginx03 logs]# cat Top_app-nginx03_adverttisement_access_2017-09-12.log.csv
1,-
1,/hdzuoye_advertise/advertise/hadvertiseErrorGetter.do?positionId=2
7,/hdzuoye_advertise/advertise/getCurrentADByPosition.do
38,/hdzuoye_advertise/advertise/getCurrentADByPosition.do?positionId=2&amp;adCount=1
20092415,/hdzuoye_advertise/advertise/addAdvertiseAmountLog.do
[root@app-nginx03 logs]# cat Top_app-nginx02_adverttisement_access_2017-09-12.log.csv
4,-
5,/hdzuoye_advertise/advertise/getCurrentADByPosition.do?positionId=2&amp;adCount=1
1153013,/hdzuoye_advertise/advertise/addAdvertiseAmountLog.do


[root@app-nginx03 logs]# awk  -F\, 'NR==FNR{n[$2]=$1;next} {print n[$2]+$1","$2}' Top_app-nginx02_adverttisement_access_2017-09-12.log.csv Top_app-nginx03_adverttisement_access_2017-09-12.log.csv
5,-
1,/hdzuoye_advertise/advertise/hadvertiseErrorGetter.do?positionId=2
7,/hdzuoye_advertise/advertise/getCurrentADByPosition.do
43,/hdzuoye_advertise/advertise/getCurrentADByPosition.do?positionId=2&amp;adCount=1
21245428,/hdzuoye_advertise/advertise/addAdvertiseAmountLog.do


[root@app-nginx03 logs]# awk  -F\, 'ARGIND==1{n[$2]=$1} ARGIND==2 {print n[$2]+$1","$2}' Top_app-nginx02_adverttisement_access_2017-09-12.log.csv Top_app-nginx03_adverttisement_access_2017-09-12.log.csv
5,-
1,/hdzuoye_advertise/advertise/hadvertiseErrorGetter.do?positionId=2
7,/hdzuoye_advertise/advertise/getCurrentADByPosition.do
43,/hdzuoye_advertise/advertise/getCurrentADByPosition.do?positionId=2&amp;adCount=1
21245428,/hdzuoye_advertise/advertise/addAdvertiseAmountLog.do
</pre>

<p>
<b>è‡ªå®šä¹‰å˜é‡(åŒºåˆ†å­—ç¬¦å¤§å°å†™)</b>
</p>

<ul class="org-ul">
<li>-v var=value</li>
<li>åœ¨programä¸­ç›´æ¥å®šä¹‰</li>
</ul>

<p>
æ³¨æ„ï¼š
</p>

<ul class="org-ul">
<li>å¼•ç”¨å­—æ®µå˜é‡æ˜¯ä¸éœ€è¦åŠ \(ç¬¦çš„ï¼Œå¼•ç”¨å­—æ®µå¯ä»¥åŠ \)</li>
<li>å¤–éƒ¨å˜é‡éœ€è¦ç”¨å¼•å·åˆ†ç¦»å‡ºï¼Œä½¿shellèƒ½è§£æ</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk  -v <span style="color: #a0522d;">test</span>=<span style="color: #8b2252;">'hello gawk'</span> <span style="color: #8b2252;">'{print test}'</span> /etc/fstab
awk  -v <span style="color: #a0522d;">test</span>=<span style="color: #8b2252;">'hello gawk'</span> <span style="color: #8b2252;">'BEGIN{print test}'</span>
awk  <span style="color: #8b2252;">'BEGIN{test="hello,gawk";print test}'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20869;&#37096;&#21464;&#37327;&#36171;&#20540;</span>
awk  -F: <span style="color: #8b2252;">'{sex="male";print $1,sex,age;age=18}'</span> /etc/passwd  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36825;&#37324;&#21464;&#37327;&#26159;&#20808;&#36171;&#20540;&#20877;&#20351;&#29992;&#65292;&#20174;&#31532;&#20108;&#34892;&#25165;&#26377;age&#30340;&#20540;</span>

cat awkscript
{print script,$<span style="color: #a0522d;">1</span>,$<span style="color: #a0522d;">2</span>}
awk  -F: -f awkscript <span style="color: #a0522d;">script</span>=<span style="color: #8b2252;">"awk"</span> /etc/passwd
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå¼•ç”¨å¤–éƒ¨å˜é‡
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@ali-bj-prod-web001 conf.d]# <span style="color: #a0522d;">a</span>=123
[root@ali-bj-prod-web001 conf.d]# awk <span style="color: #8b2252;">'BEGIN{print a}'</span>

[root@ali-bj-prod-web001 conf.d]# awk <span style="color: #8b2252;">'BEGIN{print '"$a"'}'</span>
123
[root@ali-bj-prod-web001 conf.d]# awk <span style="color: #8b2252;">"BEGIN{print "</span>$<span style="color: #a0522d;">a</span><span style="color: #8b2252;">"}"</span>
123
[root@ali-bj-prod-web001 conf.d]# awk BEGIN<span style="color: #8b2252;">\{</span>print<span style="color: #8b2252;">\""$a"\"\}</span>
123

<span style="color: #a0522d;">user_bili</span>=$(<span style="color: #ff00ff;">awk 'BEGIN{printf "%.2f\n", '$user_pv'/'$totoal_pv'*100}' </span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0550fd59-cb4e-4ed3-967e-3116e4b0d11b" class="outline-4">
<h4 id="h:0550fd59-cb4e-4ed3-967e-3116e4b0d11b">åŠ¨ä½œ printf</h4>
<div class="outline-text-4" id="text-h:0550fd59-cb4e-4ed3-967e-3116e4b0d11b">
<p>
printf å¯ä»¥å®ç°æ ¼å¼åŒ–è¾“å‡º
</p>

<p>
æ ¼å¼ï¼š printf "FORMAT", item1, item2, &#x2026;
</p>

<p>
è¯´æ˜ï¼š
</p>

<ul class="org-ul">
<li>å¿…é¡»æŒ‡å®šFORMAT</li>
<li>ä¸ä¼šè‡ªåŠ¨æ¢è¡Œï¼Œéœ€è¦æ˜¾å¼ç»™å‡ºæ¢è¡Œæ§åˆ¶ç¬¦ \n</li>
<li>FORMATä¸­éœ€è¦åˆ†åˆ«ä¸ºåé¢æ¯ä¸ªitemæŒ‡å®šæ ¼å¼ç¬¦</li>
</ul>

<p>
æ ¼å¼ç¬¦ï¼šä¸itemä¸€ä¸€å¯¹åº”
</p>

<ul class="org-ul">
<li>%cï¼šæ˜¾ç¤ºå­—ç¬¦çš„ASCIIç </li>
<li>%d, %iï¼šæ˜¾ç¤ºåè¿›åˆ¶æ•´æ•°</li>
<li>%x %X æ— ç¬¦å·ä»¥åå…­è¿›åˆ¶è¡¨ç¤ºçš„æ•´æ•°</li>
<li>%o æ— ç¬¦å·ä»¥å…«è¿›åˆ¶è¡¨ç¤ºçš„æ•´æ•°</li>
<li>%e, %Eï¼šæ˜¾ç¤ºç§‘å­¦è®¡æ•°æ³•æ•°å€¼</li>
<li>%p æŒ‡é’ˆçš„å€¼</li>
<li>%fï¼šæ˜¾ç¤ºä¸ºæµ®ç‚¹æ•°</li>
<li>%g, %Gï¼šä»¥ç§‘å­¦è®¡æ•°æ³•æˆ–æµ®ç‚¹å½¢å¼æ˜¾ç¤ºæ•°å€¼</li>
<li>%sï¼šæ˜¾ç¤ºå­—ç¬¦ä¸²</li>
<li>%uï¼šæ— ç¬¦å·æ•´æ•°</li>
<li>%%ï¼šæ˜¾ç¤º%è‡ªèº«</li>
</ul>

<p>
ä¿®é¥°ç¬¦
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">[.#] &#31532;&#19968;&#20010;&#25968;&#23383;&#25511;&#21046;&#26174;&#31034;&#30340;&#23485;&#24230;&#65307;&#31532;&#20108;&#20010;#&#34920;&#31034;&#23567;&#25968;&#28857;&#21518;&#31934;&#24230;&#65292;&#22914;&#65306;%3.1f</span>
- &#24038;&#23545;&#40784;&#65288;&#40664;&#35748;&#21491;&#23545;&#40784;&#65289; &#22914;&#65306;%-15s
+  &#26174;&#31034;&#25968;&#20540;&#30340;&#27491;&#36127;&#31526;&#21495;  &#22914;&#65306;%+d
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -F:  <span style="color: #8b2252;">'{printf "%s",$1}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "%s\n",$1}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "%20s\n",$1}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "%-20s\n",$1}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "%-20s %10d\n",$1,$3}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "Username: %s\n",$1}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf &#8220;Username: %sUID:%d\n",$1,$3}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "Username: %25sUID:%d\n",$1,$3}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'{printf "Username: %-25sUID:%d\n",$1,$3}'</span> /etc/passwd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0c9fc8eb-9b81-4ecb-95fc-ea30fcb5aa8f" class="outline-4">
<h4 id="h:0c9fc8eb-9b81-4ecb-95fc-ea30fcb5aa8f">æ“ä½œç¬¦</h4>
<div class="outline-text-4" id="text-h:0c9fc8eb-9b81-4ecb-95fc-ea30fcb5aa8f">
<p>
1)ç®—æœ¯æ“ä½œç¬¦ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">x+y, x-y, x*y, x/y, x^y, x%y
-x&#65306;&#36716;&#25442;&#20026;&#36127;&#25968;
+x&#65306;&#23558;&#23383;&#31526;&#20018;&#36716;&#25442;&#20026;&#25968;&#20540;
</pre>
</div>

<p>
2)å­—ç¬¦ä¸²æ“ä½œç¬¦ï¼šæ²¡æœ‰ç¬¦å·çš„æ“ä½œç¬¦ï¼Œå­—ç¬¦ä¸²è¿æ¥ 3)èµ‹å€¼æ“ä½œç¬¦ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">=, +=, -=, *=, /=, %=, ^=&#65292;++, --
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{i=0;print i++,i}'</span>
0 1
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{i=0;print ++i,i}'</span>
1 1
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -v <span style="color: #a0522d;">n</span>=0 <span style="color: #8b2252;">'!n++'</span> /etc/passwd <span style="color: #b22222;"># </span><span style="color: #b22222;">&#30495;&#65306;&#32467;&#26524;&#20026;&#38750;0&#20540;&#65292;&#38750;&#31354;&#23383;&#31526;&#20018;&#12290;&#31532;&#19968;&#34892;!n&#20026;!0&#20026;1&#26159;&#30495;&#21017;&#25171;&#21360;&#65292;&#31532;&#20108;&#34892;!n&#20026;!2&#20026;0&#26159;&#20551;&#19981;&#25171;&#21360;&#65292;&#20197;&#27492;&#31867;&#25512;</span>
root:x:0:0:root:/root:/bin/bash

[root@centos8 ~]#awk -v <span style="color: #a0522d;">n</span>=0 <span style="color: #8b2252;">'!n++{print n}'</span> /etc/passwd
1
[root@centos8 ~]#awk -v <span style="color: #a0522d;">n</span>=1 <span style="color: #8b2252;">'!n++{print n}'</span> /etc/passwd <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27704;&#36828;&#20026;&#20551;&#21017;&#19981;&#25171;&#21360;</span>
[root@centos8 ~]#awk -v <span style="color: #a0522d;">n</span>=0 <span style="color: #8b2252;">'!++n{print n}'</span> /etc/passwd

[root@centos8 ~]#awk -v <span style="color: #a0522d;">n</span>=0 <span style="color: #8b2252;">'!++n'</span> /etc/passwd
[root@centos8 ~]#awk -v <span style="color: #a0522d;">n</span>=-1 <span style="color: #8b2252;">'!++n'</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
</pre>
</div>

<p>
4)æ¯”è¾ƒæ“ä½œç¬¦ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">==, !=, &gt;, &gt;=, &lt;, &lt;=
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'NR==2'</span> /etc/issue <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36825;&#26159;&#38544;&#34255;&#20102;{print $0}</span>
Kernel \r on an \m
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'$3&gt;=1000'</span> /etc/passwd
nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin
wang:x:1000:1000:wang:/home/wang:/bin/bash
cici:x:1001:1001::/home/cici:/bin/bash
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå–å¥‡ï¼Œå¶æ•°è¡Œ
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#seq 10 | awk <span style="color: #8b2252;">'NR%2==0'</span>
2
4
6
8
10
[root@centos8 ~]#seq 10 | awk <span style="color: #8b2252;">'NR%2==1'</span>
1
3
5
7
9
[root@centos8 ~]#seq 10 | awk <span style="color: #8b2252;">'NR%2!=0'</span>
1
3
5
7
9
</pre>
</div>

<p>
5)æ¨¡å¼åŒ¹é…ç¬¦ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">~ &#24038;&#36793;&#26159;&#21542;&#21644;&#21491;&#36793;&#21305;&#37197;&#65292;&#21253;&#21547;&#20851;&#31995;
!~ &#26159;&#21542;&#19981;&#21305;&#37197;
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'$0 ~ /root/{print $1}'</span> /etc/passwd
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'$0 ~ "^root"{print $1}'</span> /etc/passwd
[root@centos8 ~]#awk <span style="color: #8b2252;">'$0 !~ /root/'</span>  /etc/passwd
[root@centos8 ~]#awk <span style="color: #8b2252;">'/root/'</span>  /etc/passwd
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'$3==0'</span>   /etc/passwd
[root@centos8 ~]#df | awk -F<span style="color: #8b2252;">"[[:space:]]+|%"</span> <span style="color: #8b2252;">'$0 ~ /^\/dev\/sd/{print $5}'</span>
5
1
92

[root@centos8 ~]#ifconfig eth0 | awk <span style="color: #8b2252;">'NR==2{print $2}'</span>
10.0.0.8

$<span style="color: #a0522d;">kube_CMD</span> -n $<span style="color: #a0522d;">namespace</span> get pod |sed <span style="color: #8b2252;">'1d'</span>|awk <span style="color: #8b2252;">'$(</span><span style="color: #ff00ff;">NF-3</span><span style="color: #8b2252;">)~"0/" &amp;&amp; $NF!~"(^[1-6]m|^[1-60]s)"{print $1}'</span>
</pre>
</div>

<p>
6)é€»è¾‘æ“ä½œç¬¦ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">&#19982;&#65306;&amp;&amp;&#65292;&#24182;&#19988;&#20851;&#31995;
&#25110;&#65306;||&#65292;&#25110;&#32773;&#20851;&#31995;
&#38750;&#65306;!&#65292;&#21462;&#21453;
</pre>
</div>

<p>
èŒƒä¾‹ï¼šï¼å–å
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print i}'</span>
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print !i}'</span>
1
[root@centos8 ~]#awk -v <span style="color: #a0522d;">i</span>=10 <span style="color: #8b2252;">'BEGIN{print !i}'</span>
0
[root@centos8 ~]#awk -v <span style="color: #a0522d;">i</span>=-3 <span style="color: #8b2252;">'BEGIN{print !i}'</span>
0
[root@centos8 ~]#awk -v <span style="color: #a0522d;">i</span>=0 <span style="color: #8b2252;">'BEGIN{print !i}'</span>
1
[root@centos8 ~]#awk -v <span style="color: #a0522d;">i</span>=abc <span style="color: #8b2252;">'BEGIN{print !i}'</span>
0
[root@centos8 ~]#awk -v <span style="color: #a0522d;">i</span>=<span style="color: #8b2252;">''</span> <span style="color: #8b2252;">'BEGIN{print !i}'</span>
1
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -F:  <span style="color: #8b2252;">'$3&gt;=0 &amp;&amp; $3&lt;=1000 {print $1,$3}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'$3==0 || $3&gt;=1000 {print $1,$3}'</span> /etc/passwd
awk -F:  <span style="color: #8b2252;">'!($3==0) {print $1,$3}'</span>   /etc/passwd
awk -F:  <span style="color: #8b2252;">'!($3&gt;=500) {print $1,$3}'</span> /etc/passwd
</pre>
</div>

<p>
7)æ¡ä»¶è¡¨è¾¾å¼ï¼ˆä¸‰ç›®è¡¨è¾¾å¼ï¼‰
</p>

<div class="org-src-container">
<pre class="src src-sh">selector?if-true-expression:if-false-expression <span style="color: #b22222;"># </span><span style="color: #b22222;">selector&#20026;&#30495;&#25191;&#34892;&#31532;&#19968;&#20010;:&#21542;&#21017;&#31532;&#20108;&#20010;</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -F: <span style="color: #8b2252;">'{$3&gt;=1000?usertype="Common User":usertype="SysUser";printf "%-20s:%12s\n",$1,usertype}'</span>  /etc/passwd
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2ac2a1da-7c39-4d4a-801c-68c3b8401190" class="outline-4">
<h4 id="h:2ac2a1da-7c39-4d4a-801c-68c3b8401190">æ¨¡å¼PATTERN</h4>
<div class="outline-text-4" id="text-h:2ac2a1da-7c39-4d4a-801c-68c3b8401190">
<p>
PATTERN:æ ¹æ®patternæ¡ä»¶ï¼Œè¿‡æ»¤åŒ¹é…çš„è¡Œï¼Œå†åšå¤„ç†
</p>

<ol class="org-ol">
<li>å¦‚æœæœªæŒ‡å®šï¼šç©ºæ¨¡å¼ï¼ŒåŒ¹é…æ¯ä¸€è¡Œ</li>
</ol>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{print $1,$3}'</span> /etc/passwd
</pre>
</div>

<ol class="org-ol">
<li><code>/regular expression/</code> ï¼šä»…å¤„ç†èƒ½å¤Ÿæ¨¡å¼åŒ¹é…åˆ°çš„è¡Œï¼Œéœ€è¦ç”¨ <code>/ /</code> æ‹¬èµ·æ¥</li>
</ol>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk  <span style="color: #8b2252;">'/^UUID/{print $1}'</span>   /etc/fstab
[root@centos8 ~]#awk  <span style="color: #8b2252;">'!/^UUID/{print $1}'</span>  /etc/fstab
[root@centos8 ~]#df | awk <span style="color: #8b2252;">'/^\/dev\/sd/'</span>
/dev/sda2    104806400 4935924  99870476  5% /
/dev/sda3    52403200  398876  52004324  1% /data
/dev/sda1     999320  848572   81936  92% /boot

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#22810;&#26465;&#20214;:</span>
awk <span style="color: #8b2252;">'/^(Sep 9|Sep 10).*(error|fail)/'</span> testfile
</pre>
</div>

<ol class="org-ol">
<li>relational expression: å…³ç³»è¡¨è¾¾å¼ï¼Œç»“æœä¸ºâ€œçœŸâ€æ‰ä¼šè¢«å¤„ç†çœŸï¼šç»“æœä¸º
é0å€¼ï¼Œéç©ºå­—ç¬¦ä¸² å‡ï¼šç»“æœä¸ºç©ºå­—ç¬¦ä¸²æˆ–0å€¼</li>
</ol>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'!1'</span> /etc/passwd <span style="color: #b22222;"># </span><span style="color: #b22222;">!1&#21518;&#38754;&#38544;&#34255;&#20102;{print $0}</span>
[root@centos8 ~]#awk <span style="color: #8b2252;">'!0'</span> /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
.......

[root@centos8 ~]#awk <span style="color: #8b2252;">'1'</span> /etc/issue
\S
Kernel \r on an \m

[root@centos8 ~]#awk <span style="color: #8b2252;">'0'</span> /etc/issue
[root@centos8 ~]#awk <span style="color: #8b2252;">'"me"'</span> /etc/issue
\S
Kernel \r on an \m

[root@centos8 ~]#awk <span style="color: #8b2252;">'""'</span> /etc/issue
[root@centos8 ~]#awk <span style="color: #8b2252;">'me'</span> /etc/issue
[root@centos8 ~]#awk <span style="color: #8b2252;">'me'</span> /etc/issue
[root@centos8 ~]#awk -v <span style="color: #a0522d;">me</span>=wang <span style="color: #8b2252;">'me'</span> /etc/issue
\S
Kernel \r on an \m

[root@centos8 ~]#awk -v <span style="color: #a0522d;">me</span>=<span style="color: #8b2252;">""</span> <span style="color: #8b2252;">'me'</span> /etc/issue
[root@centos8 ~]#awk -v <span style="color: #a0522d;">me</span>=<span style="color: #8b2252;">"0"</span> <span style="color: #8b2252;">'me'</span> /etc/issue
[root@centos8 ~]#awk -v <span style="color: #a0522d;">me</span>=0 <span style="color: #8b2252;">'me'</span> /etc/issue
[root@centos8 ~]#awk <span style="color: #8b2252;">'"0"'</span> /etc/issue
\S
Kernel \r on an \m

[root@centos8 ~]#awk <span style="color: #8b2252;">'0'</span> /etc/issue
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk  -F:  <span style="color: #8b2252;">'i=1;j=1{print i,j}'</span> /etc/passwd  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36825;&#37324;i=1&#38544;&#34255;&#20102;{print $0}</span>

Awk  -F: <span style="color: #8b2252;">'$3&gt;=1000{print $1,$3}'</span> /etc/passwd
awk  -F: <span style="color: #8b2252;">'$3&lt;1000{print $1,$3}'</span> /etc/passwd
awk  -F: <span style="color: #8b2252;">'$NF=="/bin/bash"{print $1,$NF}'</span> /etc/passwd

[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'$NF=="/bin/bash"{print $1,$NF}'</span> /etc/passwd
root /bin/bash
wang /bin/bash
cici /bin/bash

[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'$NF ~ /bash$/{print $1,$NF}'</span> /etc/passwd
root /bin/bash
wang /bin/bash
cici /bin/bash
</pre>
</div>

<ol class="org-ol">
<li><p>
oline rangesï¼šè¡ŒèŒƒå›´
</p>

<p>
ä¸æ”¯æŒç›´æ¥ç”¨è¡Œå·ï¼Œä½†å¯ä»¥ä½¿ç”¨å˜é‡NRé—´æ¥æŒ‡å®šè¡Œå· <code>/pat1/,/pat2/</code>
</p>

<p>
ä¸æ”¯æŒç›´æ¥ç»™å‡ºæ•°å­—æ ¼å¼
</p></li>
</ol>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#seq 10 | awk <span style="color: #8b2252;">'NR&gt;=3 &amp;&amp; NR&lt;=6'</span>
3
4
5
6

[root@centos8 ~]#awk <span style="color: #8b2252;">'NR&gt;=3 &amp;&amp; NR&lt;=6{print NR,$0}'</span> /etc/passwd
3 daemon:x:2:2:daemon:/sbin:/sbin/nologin
4 adm:x:3:4:adm:/var/adm:/sbin/nologin
5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
6 sync:x:5:0:sync:/sbin:/bin/sync

[root@centos8 ~]#sed -n <span style="color: #8b2252;">'3,6p'</span> /etc/passwd
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync

[root@centos8 ~]#awk <span style="color: #8b2252;">'/^bin/,/^adm/'</span> /etc/passwd
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
[root@centos8 ~]#sed -n <span style="color: #8b2252;">'/^bin/,/^adm/p'</span> /etc/passwd
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
</pre>
</div>

<ol class="org-ol">
<li><p>
BEGIN/ENDæ¨¡å¼
</p>

<p>
BEGIN{}ï¼šä»…åœ¨å¼€å§‹å¤„ç†æ–‡ä»¶ä¸­çš„æ–‡æœ¬ä¹‹å‰æ‰§è¡Œä¸€æ¬¡
</p>

<p>
END{}ï¼šä»…åœ¨æ–‡æœ¬å¤„ç†å®Œæˆä¹‹åæ‰§è¡Œä¸€æ¬¡
</p></li>
</ol>

<p>
èŒƒä¾‹
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -F : <span style="color: #8b2252;">'BEGIN {print "USER USERID"} {print $1":"$3} END{print "END FILE"}'</span> /etc/passwd
[root@ali-bj-prod-web001 ~]# awk -F : <span style="color: #8b2252;">'BEGIN {print "USER USERID"} {print $1":"$3} END{print "END FILE"}'</span> /etc/passwd
USER USERID
root:0
... ...
rpc:32
END FILE

awk -F: <span style="color: #8b2252;">'{print "USER USERID";print $1":"$3} END{print "END FILE"}'</span> /etc/passwd
awk -F: <span style="color: #8b2252;">'BEGIN{print "USER UID \n--------------- "}{print $1,$3}'</span> /etc/passwd
awk -F: <span style="color: #8b2252;">'BEGIN{print "USER UID \n--------"}{print $1,$3}END{print "=========="}'</span> /etc/passwd
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">seq 10 | awk  <span style="color: #8b2252;">'i=0'</span>
seq 10 | awk  <span style="color: #8b2252;">'i=1'</span>
seq 10 | awk  <span style="color: #8b2252;">'i=!i'</span>
seq 10 | awk  <span style="color: #8b2252;">'{i=!i;print i}'</span>
seq 10 | awk  <span style="color: #8b2252;">'!(i=!i)'</span>
seq 10 | awk -v <span style="color: #a0522d;">i</span>=1 <span style="color: #8b2252;">'i=!i'</span>
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'i=0'</span>
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'i=1'</span>
1
2
3
4
5
6
7
8
9
10
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'i=1'</span>
1
2
3
4
5
6
7
8
9
10
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'i=0'</span>
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'i=!i'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22855;&#25968;&#34892;</span>
1
3
5
7
9
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'!(i=!i)'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20598;&#25968;&#34892;</span>
2
4
6
8
10
[root@centos8 ~]#seq 10 | awk -v <span style="color: #a0522d;">i</span>=1 <span style="color: #8b2252;">'i=!i'</span>
2
4
6
8
10
[root@centos8 ~]#seq 10 | awk -v <span style="color: #a0522d;">i</span>=0 <span style="color: #8b2252;">'i=!i'</span>
1
3
5
7
9
[root@centos8 ~]#seq 10 | awk  <span style="color: #8b2252;">'{i=!i;print i}'</span>
1
0
1
0
1
0
1
0
1
0
[root@centos8 ~]#
</pre>
</div>
</div>
</div>
<div id="outline-container-h:46cce902-486e-4776-91d1-d18e44baa8d6" class="outline-4">
<h4 id="h:46cce902-486e-4776-91d1-d18e44baa8d6">æ¡ä»¶åˆ¤æ–­ if-else</h4>
<div class="outline-text-4" id="text-h:46cce902-486e-4776-91d1-d18e44baa8d6">
<p>
è¯­æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">if</span>(condition)statement <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21333;&#20998;&#25903;</span>
<span style="color: #a020f0;">if</span>(condition){statement;&#8230;}[else statement] <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21452;&#20998;&#25903;</span>
<span style="color: #a020f0;">if</span>(condition1){statement1}<span style="color: #a020f0;">else if</span>(condition2){statement2}<span style="color: #a020f0;">else if</span>(condition3){statement3}......else{statementN}  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22810;&#20998;&#25903;</span>
</pre>
</div>

<p>
ä½¿ç”¨åœºæ™¯ï¼šå¯¹awkå–å¾—çš„æ•´è¡Œæˆ–æŸä¸ªå­—æ®µåšæ¡ä»¶åˆ¤æ–­ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awk -F: <span style="color: #8b2252;">'{if($3&gt;=1000)print $1,$3}'</span> /etc/passwd
awk -F: <span style="color: #8b2252;">'{if($NF=="/bin/bash") print $1}'</span> /etc/passwd
awk <span style="color: #8b2252;">'{if(NF&gt;5) print $0}'</span> /etc/fstab
awk -F: <span style="color: #8b2252;">'{if($3&gt;=1000) {printf "Common user: %s\n",$1} else {printf "root or Sysuser: %s\n",$1}}'</span> /etc/passwd
awk -F: <span style="color: #8b2252;">'{if($3&gt;=1000) printf "Common user: %s\n",$1; else printf "root or Sysuser: %s\n",$1}'</span> /etc/passwd

df -h|awk -F% <span style="color: #8b2252;">'/^\/dev\/sd/{print $1}'</span>| awk <span style="color: #8b2252;">'$NF&gt;=80{print $1,$5}'</span> <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20998;&#21306;&#21033;&#29992;&#29575;&#22823;&#20110;80%&#25171;&#21360;</span>
df | awk -F<span style="color: #8b2252;">"[[:space:]]+|%"</span> <span style="color: #8b2252;">'/^\/dev\/sd/{if($5&gt;80)print $1,$5}'</span>

[root@centos8 ~]#df | awk -F<span style="color: #8b2252;">' +|%'</span> <span style="color: #8b2252;">'/^\/dev\/sd/{if($5&gt;=10)print $1,$5}'</span>
/dev/sda1 15

awk <span style="color: #8b2252;">'BEGIN{ test=100;if(test&gt;90){print "very good"} else if(test&gt;60){ print "good"}else{print "no pass"}}'</span>
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ–‡ä»¶ä¸Šä¸‹è¡Œæ¯”è¾ƒ
</p>

<div class="org-src-container">
<pre class="src src-sh">&#25991;&#20214;&#20869;&#23481;&#65306;
{<span style="color: #8b2252;">"localTime"</span>:<span style="color: #8b2252;">"2016-10-25 16:22:00"</span>,<span style="color: #8b2252;">"protocol"</span>:101599,<span style="color: #8b2252;">"version"</span>:2.26,<span style="color: #8b2252;">"appType"</span>:3,<span style="color: #8b2252;">"timestamp"</span>:1477383720000,<span style="color: #8b2252;">"uuid"</span>:<span style="color: #8b2252;">"FDF577D9-1B45-44E3-B2FC-F2BDE4A27C74"</span>,<span style="color: #8b2252;">"token"</span>:<span style="color: #8b2252;">"a95b6bbe80b9457a9409420bd3ce8dce"</span>}

[root@ali-bj-prod-web001 conf.d]# echo <span style="color: #8b2252;">'{"localTime":"2016-10-25 16:22:00","protocol":101599,"version":2.26,"appType":3,"timestamp":1477383720000,"uuid":"FDF577D9-1B45-44E3-B2FC-F2BDE4A27C74","token":"a95b6bbe80b9457a9409420bd3ce8dce"}'</span> |awk -F<span style="color: #8b2252;">',+|:+'</span> <span style="color: #8b2252;">'{print $12}'</span>
1477383720000

&#19978;&#19979;&#34892;&#27604;&#36739;
awk -F<span style="color: #8b2252;">'[,:]+'</span> <span style="color: #8b2252;">'BEGIN {t=0} {if ($12&gt;t) {t =$12  b+=1} else {num+=1 }} END {print num,b}'</span> logs/verification_log.log
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d3d01ea0-6fd8-4cf4-bf98-f37f5f845586" class="outline-4">
<h4 id="h:d3d01ea0-6fd8-4cf4-bf98-f37f5f845586">switchè¯­å¥</h4>
<div class="outline-text-4" id="text-h:d3d01ea0-6fd8-4cf4-bf98-f37f5f845586">
<p>
è¯­æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">switch</span>(expression) {<span style="color: #a020f0;">case</span> VALUE1 or /REGEXP/: statement1; <span style="color: #a020f0;">case</span> VALUE2 or /REGEXP2/: statement2; ...; default: statementn}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:8ad055e7-0d8e-43c8-a0d6-f1e979e7067f" class="outline-4">
<h4 id="h:8ad055e7-0d8e-43c8-a0d6-f1e979e7067f">å¾ªç¯while</h4>
<div class="outline-text-4" id="text-h:8ad055e7-0d8e-43c8-a0d6-f1e979e7067f">
<p>
è¯­æ³•ï¼š
</p>

<pre class="example" id="org5faf590">
while (condition) {statement;â€¦}
</pre>

<p>
æ¡ä»¶â€œçœŸâ€ï¼Œè¿›å…¥å¾ªç¯ï¼›æ¡ä»¶â€œå‡â€ï¼Œé€€å‡ºå¾ªç¯ ä½¿ç”¨åœºæ™¯ï¼š
</p>

<ul class="org-ul">
<li>å¯¹ä¸€è¡Œå†…çš„å¤šä¸ªå­—æ®µé€ä¸€ç±»ä¼¼å¤„ç†æ—¶ä½¿ç”¨</li>
<li>å¯¹æ•°ç»„ä¸­çš„å„å…ƒç´ é€ä¸€å¤„ç†æ—¶ä½¿ç”¨</li>
</ul>

<p>
ç¤ºä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20869;&#32622;&#20989;&#25968;length()&#36820;&#22238;&#23383;&#31526;&#25968;&#65292;&#32780;&#38750;&#23383;&#33410;&#25968;</span>
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print length("hello")}'</span>
5
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{print length("&#19968;&#26465;&#22909;&#27721;")}'</span>
4
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#25171;&#21360;/etc/grub2.cfg&#38750;&#31354;&#26684;&#24320;&#22836;&#21518;&#38754;&#21253;&#21547;linux16&#30340;&#21333;&#35789;&#38271;&#24230;</span>
[root@centos7 ~]#awk <span style="color: #8b2252;">'/^[[:space:]]*linux16/{i=1;while(i&lt;=NF){print $i,length($i); i++}}'</span> /etc/grub2.cfg
linux16 7
/vmlinuz-3.10.0-1062.el7.x86_64 31
<span style="color: #a0522d;">root</span>=<span style="color: #a0522d;">UUID</span>=bebb9244-bbb8-4c69-9249-54a36c75155e 46
ro 2
<span style="color: #a0522d;">crashkernel</span>=auto 16
rhgb 4
quiet 5
net.ifnames=0 13
linux16 7
/vmlinuz-0-rescue-b12558570741487c9328c996e3265b09 50
<span style="color: #a0522d;">root</span>=<span style="color: #a0522d;">UUID</span>=bebb9244-bbb8-4c69-9249-54a36c75155e 46
ro 2
<span style="color: #a0522d;">crashkernel</span>=auto 16
rhgb 4
quiet 5
net.ifnames=0 13

[root@centos7 ~]#awk <span style="color: #8b2252;">'/^[[:space:]]*linux16/{i=1;while(i&lt;=NF){if(length($i)&gt;=10){print $i,length($i)}; i++}}'</span> /etc/grub2.cfg
/vmlinuz-3.10.0-1062.el7.x86_64 31
<span style="color: #a0522d;">root</span>=<span style="color: #a0522d;">UUID</span>=bebb9244-bbb8-4c69-9249-54a36c75155e 46
<span style="color: #a0522d;">crashkernel</span>=auto 16
net.ifnames=0 13
/vmlinuz-0-rescue-b12558570741487c9328c996e3265b09 50
<span style="color: #a0522d;">root</span>=<span style="color: #a0522d;">UUID</span>=bebb9244-bbb8-4c69-9249-54a36c75155e 46
<span style="color: #a0522d;">crashkernel</span>=auto 16
net.ifnames=0 13

[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{ total=0;i=1;while(i&lt;=100){total+=i;i++};print total}'</span>
5050
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1e0aa331-b8fb-46dd-bd2f-9b698cdfc535" class="outline-4">
<h4 id="h:1e0aa331-b8fb-46dd-bd2f-9b698cdfc535">å¾ªç¯ do-while</h4>
<div class="outline-text-4" id="text-h:1e0aa331-b8fb-46dd-bd2f-9b698cdfc535">
<p>
è¯­æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">do</span> {statement;&#8230;}<span style="color: #a020f0;">while</span>(condition)
</pre>
</div>

<p>
æ„ä¹‰ï¼šæ— è®ºçœŸå‡ï¼Œè‡³å°‘æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“
</p>

<p>
do-whileå¾ªç¯
</p>

<p>
è¯­æ³•ï¼šdo {statement;&#x2026;}while(condition)
</p>

<p>
æ„ä¹‰ï¼šæ— è®ºçœŸå‡ï¼Œè‡³å°‘æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{ total=0;i=1;do{ total+=i;i++;}while(i&lt;=100);print total}'</span>
5050
</pre>
</div>
</div>
</div>
<div id="outline-container-h:78143b8d-a2c5-440d-b639-0e83e64f7124" class="outline-4">
<h4 id="h:78143b8d-a2c5-440d-b639-0e83e64f7124">å¾ªç¯for</h4>
<div class="outline-text-4" id="text-h:78143b8d-a2c5-440d-b639-0e83e64f7124">
<p>
è¯­æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">for</span>(expr1;expr2;expr3) {statement;&#8230;}
</pre>
</div>

<p>
å¸¸è§ç”¨æ³•ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">for</span>(variable assignment;condition;iteration process) {for-body}
</pre>
</div>

<p>
ç‰¹æ®Šç”¨æ³•ï¼šèƒ½å¤Ÿéå†æ•°ç»„ä¸­çš„å…ƒç´ 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">for</span>(var<span style="color: #a020f0;"> in</span> array) {for-body}
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{total=0;for(i=1;i&lt;=100;i++){total+=i};print total}'</span>
5050
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]#awk <span style="color: #8b2252;">'/^[[:space:]]*linux16/{for(i=1;i&lt;=NF;i++) {print $i,length($i)}}'</span> /etc/grub2.cfg
linux16 7
/vmlinuz-3.10.0-1062.el7.x86_64 31
<span style="color: #a0522d;">root</span>=<span style="color: #a0522d;">UUID</span>=bebb9244-bbb8-4c69-9249-54a36c75155e 46
ro 2
<span style="color: #a0522d;">crashkernel</span>=auto 16
rhgb 4
quiet 5
net.ifnames=0 13
linux16 7
/vmlinuz-0-rescue-b12558570741487c9328c996e3265b09 50
<span style="color: #a0522d;">root</span>=<span style="color: #a0522d;">UUID</span>=bebb9244-bbb8-4c69-9249-54a36c75155e 46
ro 2
<span style="color: #a0522d;">crashkernel</span>=auto 16
rhgb 4
quiet 5
net.ifnames=0 13
</pre>
</div>

<p>
æ€§èƒ½æ¯”è¾ƒ
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">time</span> (awk <span style="color: #8b2252;">'BEGIN{ total=0;for(i=0;i&lt;=10000;i++){total+=i;};print total;}'</span>)
<span style="color: #a020f0;">time</span> (<span style="color: #a0522d;">total</span>=0;<span style="color: #a020f0;">for</span> i<span style="color: #a020f0;"> in</span> {1..10000};<span style="color: #a020f0;">do</span> <span style="color: #a0522d;">total</span>=$(<span style="color: #ff00ff;">($total+i</span>));<span style="color: #a020f0;">done</span>;<span style="color: #483d8b;">echo</span> $<span style="color: #a0522d;">total</span>)
<span style="color: #a020f0;">time</span> (<span style="color: #a020f0;">for</span> ((<span style="color: #a0522d;">i</span>=0;i&lt;=10000;i++));<span style="color: #a020f0;">do </span><span style="color: #483d8b;">let</span> <span style="color: #a0522d;">total</span>+=i;<span style="color: #a020f0;">done</span>;<span style="color: #483d8b;">echo</span> $<span style="color: #a0522d;">total</span>)
<span style="color: #a020f0;">time</span> (seq &#8211;s &#8221;+&#8221; 10000|bc)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3ec30f2d-1eda-4c48-b0c9-87be8d2cb96e" class="outline-4">
<h4 id="h:3ec30f2d-1eda-4c48-b0c9-87be8d2cb96e">continueå’Œbreak</h4>
<div class="outline-text-4" id="text-h:3ec30f2d-1eda-4c48-b0c9-87be8d2cb96e">
<p>
continue ä¸­æ–­æœ¬æ¬¡å¾ªç¯ break ä¸­æ–­æ•´ä¸ªå¾ªç¯ æ ¼å¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">continue</span> [n]
<span style="color: #a020f0;">break</span> [n]
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{sum=0;for(i=1;i&lt;=100;i++){if(i%2==0)continue;sum+=i}print sum}'</span>
2500

[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{sum=0;for(i=1;i&lt;=100;i++){if(i==50)break;sum+=i}print sum}'</span>
1225
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cc9a4d32-4866-436a-9b65-760d3ae77e69" class="outline-4">
<h4 id="h:cc9a4d32-4866-436a-9b65-760d3ae77e69">next</h4>
<div class="outline-text-4" id="text-h:cc9a4d32-4866-436a-9b65-760d3ae77e69">
<p>
next å¯ä»¥æå‰ç»“æŸå¯¹æœ¬è¡Œå¤„ç†è€Œç›´æ¥è¿›å…¥ä¸‹ä¸€è¡Œå¤„ç†ï¼ˆawkè‡ªèº«å¾ªç¯ï¼‰ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{if($3%2!=0) next; print $1,$3}'</span> /etc/passwd <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21482;&#22788;&#29702;gid&#20598;&#25968;&#30340;&#20869;&#23481;</span>
root 0
daemon 2
lp 4
shutdown 6
mail 8
games 12
ftp 14
nobody 65534
polkitd 998
gluster 996
rtkit 172
rpc 32
chrony 994
saslauth 992
clevis 984
pegasus 66
colord 982
setroubleshoot 980
gdm 42
gnome-initial-setup 978
sshd 74
avahi 70
tcpdump 72
wang 1000
</pre>
</div>
</div>
</div>
<div id="outline-container-h:eea0edc1-873e-4b01-a547-598157b9197a" class="outline-4">
<h4 id="h:eea0edc1-873e-4b01-a547-598157b9197a">æ•°ç»„</h4>
<div class="outline-text-4" id="text-h:eea0edc1-873e-4b01-a547-598157b9197a">
<p>
awkçš„æ•°ç»„ä¸ºå…³è”æ•°ç»„ æ ¼å¼
</p>

<div class="org-src-container">
<pre class="src src-sh">array_name[index-expression]
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a0522d;">weekdays</span>[<span style="color: #8b2252;">"mon"</span>]=<span style="color: #8b2252;">"Monday"</span>
</pre>
</div>

<p>
index-expression
</p>

<ul class="org-ul">
<li>åˆ©ç”¨æ•°ç»„ï¼Œå®ç° k/v åŠŸèƒ½</li>
<li>å¯ä½¿ç”¨ä»»æ„å­—ç¬¦ä¸²ï¼›å­—ç¬¦ä¸²è¦ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥</li>
<li>å¦‚æœæŸæ•°ç»„å…ƒç´ äº‹å…ˆä¸å­˜åœ¨ï¼Œåœ¨å¼•ç”¨æ—¶ï¼Œawkä¼šè‡ªåŠ¨åˆ›å»ºæ­¤å…ƒç´ ï¼Œå¹¶å°†å…¶å€¼åˆ
å§‹åŒ–ä¸ºâ€œç©ºä¸²â€</li>
<li>è‹¥è¦åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸå…ƒç´ ï¼Œè¦ä½¿ç”¨â€œindex in arrayâ€æ ¼å¼è¿›è¡Œéå†</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{weekdays["mon"]="Monday";weekdays["tue"]="Tuesday";print weekdays["mon"]}'</span>
Monday
</pre>
</div>

<p>
èŒƒä¾‹:
</p>

<div class="org-src-container">
<pre class="src src-sh">awk <span style="color: #8b2252;">'!line[$0]++'</span> dupfile  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#21435;&#37325;</span>
awk <span style="color: #8b2252;">'{!line[$0]++;print $0, line[$0]}'</span> dupfile
</pre>
</div>

<p>
èŒƒä¾‹ï¼šåˆ¤æ–­æ•°ç»„ç´¢å¼•æ˜¯å¦å­˜åœ¨
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]# awk <span style="color: #8b2252;">'BEGIN{array["i"]="x"; array["j"]="y" ; print "i" inarray, "y" in array }'</span>
1 0
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{array["i"]="x"; array["j"]="y" ;if ("i" in array ){print "&#23384;&#22312;"}else{print "&#19981;&#23384;&#22312;"}}'</span>
&#23384;&#22312;
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{array["i"]="x"; array["j"]="y" ;if ("abc" in array ){print "&#23384;&#22312;"}else{print "&#19981;&#23384;&#22312;"}}'</span>
&#19981;&#23384;&#22312;
</pre>
</div>

<p>
è‹¥è¦éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œè¦ä½¿ç”¨forå¾ªç¯
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">for</span>(var<span style="color: #a020f0;"> in</span> array) {for-body}
</pre>
</div>

<p>
æ³¨æ„ï¼švarä¼šéå†arrayçš„æ¯ä¸ªç´¢å¼•
</p>

<p>
èŒƒä¾‹ï¼šéå†æ•°ç»„
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{weekdays["mon"]="Monday";weekdays["tue"]="Tuesday";for(i in weekdays) {print weekdays[i]}}'</span>
Tuesday
Monday
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{students[1]="daizong";students[2]="junzong";students[3]="kunzong";for(x in students){print x":"students[x]}}'</span>
1:daizong
2:junzong
3:kunzong

[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN {</span>
<span style="color: #8b2252;">a["x"] = "welcome"</span>
<span style="color: #8b2252;">a["y"] = "to"</span>
<span style="color: #8b2252;">a["z"] = "me"</span>
<span style="color: #8b2252;">for (i in a) {</span>
<span style="color: #8b2252;">  print i,a[i]</span>
<span style="color: #8b2252;">}</span>
<span style="color: #8b2252;">}'</span>
x welcome
y to
z me
[root@centos8 ~]#awk -F: <span style="color: #8b2252;">'{user[$1]=$3}END{for(i in user){print "username:</span>
<span style="color: #8b2252;">"i,"uid: "user[i]}}'</span> /etc/passwd
username: adm uid: 3
username: rpc uid: 32
username: dnsmasq uid: 985
username: radvd uid: 75
username: sync uid: 5
username: mail uid: 8
username: exim uid: 93
username: tss uid: 59
username: gluster uid: 996
username: unbound uid: 995
username: halt uid: 7
</pre>
</div>

<p>
èŒƒä¾‹ï¼šæ˜¾ç¤ºä¸»æœºçš„è¿æ¥çŠ¶æ€å‡ºç°çš„æ¬¡æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'NR!=1{print $1}'</span> ss.log |sort |uniq -c
  118 ESTAB
   1 FIN-WAIT-1
  11 LAST-ACK

[root@centos8 ~]#cat ss.log | sed -nr <span style="color: #8b2252;">'1!s/^([^0-9]+) .*/\1/p'</span>|sort |uniq -c
  529 ESTAB
   9 LISTEN
  128 SYN-RECV
  95 TIME-WAIT

[root@centos8 ~]#ss -ant | awk <span style="color: #8b2252;">'NR!=1{state[$1]++}END{for(i in state){printi,state[i]}}'</span>
SYN-RECV 128
LISTEN 9
ESTAB 529
TIME-WAIT 95

[root@centos8 ~]#netstat -tan | awk <span style="color: #8b2252;">'/^tcp/{state[$NF]++}END{for(i in state){print i,state[i]}}'</span>
LISTEN 9
SYN_RECV 126
ESTABLISHED 523
FIN_WAIT2 40
</pre>
</div>

<p>
èŒƒä¾‹ï¼šè®¿é—®æ—¥å¿—ipæ’åº
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'{ip[$1]++}END{for(i in ip){print i,ip[i]}}'</span> /var/log/httpd/access_log
172.20.0.200 1482
172.20.21.121 2
172.20.30.91 29
172.16.102.29 864
172.20.0.76 1565
172.20.9.9 15
172.20.1.125 463
172.20.61.11 2
172.20.73.73 198

[root@centos8 ~]#awk <span style="color: #8b2252;">'{ip[$1]++}END{for(i in ip){print ip[i],i}}'</span> access_log|sort -nr| head -3
4870 172.20.116.228
3429 172.20.116.208
2834 172.20.0.222
[root@centos8 ~]#awk <span style="color: #8b2252;">'{ip[$1]++}END{for(i in ip){print i,ip[i]}}'</span> access_log|sort -k2 -nr|head -3
172.20.116.228 4870
172.20.116.208 3429
172.20.0.222 2834
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå°æ‰æŸ¥çœ‹è®¿é—®æ—¥å¿—ä¸­è¿æ¥æ¬¡æ•°è¶…è¿‡1000æ¬¡çš„IP
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'{ip[$1]++}END{for(i in ip){if(ip[i]&gt;=1000){system("iptables -A INPUT -s "i" -j REJECT")}}}'</span> nginx.access.log-20200428
</pre>
</div>

<p>
èŒƒä¾‹ï¼šå¤šç»´æ•°ç»„
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{</span>
<span style="color: #8b2252;">&gt; array[1][1]=11</span>
<span style="color: #8b2252;">&gt; array[1][2]=12</span>
<span style="color: #8b2252;">&gt; array[1][3]=13</span>
<span style="color: #8b2252;">&gt; array[2][1]=21</span>
<span style="color: #8b2252;">&gt; array[2][2]=22</span>
<span style="color: #8b2252;">&gt; array[2][3]=23</span>
<span style="color: #8b2252;">&gt; for (i in array)</span>
<span style="color: #8b2252;">&gt;   for (j in array[i])</span>
<span style="color: #8b2252;">&gt;     print array[i][j]</span>
<span style="color: #8b2252;">&gt; }'</span>
11
12
13
21
22
23
</pre>
</div>
</div>
</div>
<div id="outline-container-h:490ccd2b-5e02-48a0-b916-b2c93eb5a786" class="outline-4">
<h4 id="h:490ccd2b-5e02-48a0-b916-b2c93eb5a786">awkå‡½æ•°</h4>
<div class="outline-text-4" id="text-h:490ccd2b-5e02-48a0-b916-b2c93eb5a786">
<p>
awk çš„å‡½æ•°åˆ†ä¸ºå†…ç½®å’Œè‡ªå®šä¹‰å‡½æ•°
</p>
</div>
<div id="outline-container-h:89b3484c-93bb-4c7e-b113-dc61406a7392" class="outline-5">
<h5 id="h:89b3484c-93bb-4c7e-b113-dc61406a7392">å¸¸è§å†…ç½®å‡½æ•°</h5>
<div class="outline-text-5" id="text-h:89b3484c-93bb-4c7e-b113-dc61406a7392">
<p>
<b>æ•°å€¼å¤„ç†ï¼š</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">rand</span>()&#65306;&#36820;&#22238;0&#21644;1&#20043;&#38388;&#19968;&#20010;&#38543;&#26426;&#25968;
<span style="color: #0000ff;">srand</span>()&#65306;&#37197;&#21512;rand() &#20989;&#25968;,&#29983;&#25104;&#38543;&#26426;&#25968;&#30340;&#31181;&#23376;
<span style="color: #0000ff;">int</span>()&#65306;&#36820;&#22238;&#25972;&#25968;*
</pre>
</div>

<p>
èŒƒä¾‹ï¼šéšå³æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{srand();print rand()}'</span>
0.790437
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{srand();print rand()}'</span>
0.283736
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{srand();print rand()}'</span>
0.948082
[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{srand();print rand()}'</span>
0.371798

[root@centos8 ~]#awk <span style="color: #8b2252;">'BEGIN{srand(); for (i=1;i&lt;=10;i++)print int(rand()*100)}'</span>
35
17
35
95
19
15
70
54
46
93
</pre>
</div>

<p>
<b>å­—ç¬¦ä¸²å¤„ç†ï¼š</b>
</p>

<ul class="org-ul">
<li>length([s])ï¼šè¿”å›æŒ‡å®šå­—ç¬¦ä¸²çš„é•¿åº¦</li>
<li>sub(r,s,[t])ï¼šå¯¹tå­—ç¬¦ä¸²æœç´¢rè¡¨ç¤ºæ¨¡å¼åŒ¹é…çš„å†…å®¹ï¼Œå¹¶å°†ç¬¬ä¸€ä¸ªåŒ¹é…å†…å®¹æ›¿æ¢ä¸ºs</li>
</ul>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo <span style="color: #8b2252;">"2008:08:08 08:08:08"</span> | awk <span style="color: #8b2252;">'sub(/:/,"-",$1)'</span>
2008-08:08 08:08:08
[root@centos8 ~]#echo <span style="color: #8b2252;">"2008:08:08 08:08:08"</span> | awk <span style="color: #8b2252;">'{sub(/:/,"-",$1);print $0}'</span>
2008-08:08 08:08:08
</pre>
</div>

<p>
gsub(r,s,[t])ï¼šå¯¹tå­—ç¬¦ä¸²è¿›è¡Œæœç´¢rè¡¨ç¤ºçš„æ¨¡å¼åŒ¹é…çš„å†…å®¹ï¼Œå¹¶å…¨éƒ¨æ›¿æ¢ä¸ºsæ‰€è¡¨ç¤ºçš„å†…å®¹
</p>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#echo <span style="color: #8b2252;">"2008:08:08 08:08:08"</span> | awk <span style="color: #8b2252;">'gsub(/:/,"-",$0)'</span>
2008-08-08 08-08-08
[root@centos8 ~]#echo <span style="color: #8b2252;">"2008:08:08 08:08:08"</span> | awk <span style="color: #8b2252;">'{gsub(/:/,"-",$0);print $0}'</span>
2008-08-08 08-08-08
</pre>
</div>

<p>
split(s,array,[r])ï¼šä»¥rä¸ºåˆ†éš”ç¬¦ï¼Œåˆ‡å‰²å­—ç¬¦ä¸²sï¼Œå¹¶å°†åˆ‡å‰²åçš„ç»“æœä¿å­˜è‡³
arrayæ‰€è¡¨ç¤ºçš„æ•°ç»„ä¸­ï¼Œç¬¬ä¸€ä¸ªç´¢å¼•å€¼ä¸º1,ç¬¬äºŒä¸ªç´¢å¼•å€¼ä¸º2,&#x2026;
</p>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#netstat -tn | awk <span style="color: #8b2252;">'/^tcp/{split($5,ip,":");count[ip[1]]++}END{for(i in count){print i,count[i]}}'</span>
10.0.0.1 1
10.0.0.6 1
10.0.0.7 673

&#38142;&#25509;&#29366;&#24577;&#26816;&#26597;&#65306;
ss -ant | awk <span style="color: #8b2252;">'{name[$1]++}END{for(n in name)print n,name[n]}'</span>
&#24403;&#21069;&#35775;&#38382;IP
ss -an | awk <span style="color: #8b2252;">'{split($NF,A,":");a[A[1]]++}END{for(i in a) print i,a[i]}'</span> |grep  <span style="color: #8b2252;">'^[0-9]'</span> |sort -nr -k2,2
&#32467;&#21512;&#20135;&#21697;
[root@hd-test-all-01 nhd_server]# netstat -n |grep <span style="color: #8b2252;">'^tcp'</span> |tail -n1
tcp        0      0 ::ffff:192.168.1.150:3306   ::ffff:192.168.1.150:40712  ESTABLISHED
[root@hd-test-all-01 nhd_server]# netstat -n |grep <span style="color: #8b2252;">'^tcp'</span> |head -n1
tcp        0      0 192.168.1.150:6379          192.168.1.150:46096         ESTABLISHED
[root@hd-test-all-01 nhd_server]# netstat -n | awk <span style="color: #8b2252;">'/^tcp/ {n=split($(</span><span style="color: #ff00ff;">NF-1</span><span style="color: #8b2252;">),array,":"); if(n&lt;=2) IP[array[1]]++; else IP[array[4]]++; stat[$NF]++; ++snum} END {for(i in IP){printf("%-20s %s\n", i, IP[i]); num++}printf("%-20s %s\n","TOTAL_IP",num); for(s in stat)printf("%-20s %s\n",s, stat[s]); printf("%-20s %s\n","TOTAL_LINK",snum);}'</span> |tail -n10
192.168.1.35         1
192.168.1.100        4
192.168.1.26         2
192.168.1.44         30
TOTAL_IP             36
TIME_WAIT            65
CLOSE_WAIT           1
FIN_WAIT2            5
ESTABLISHED          1138

TOTAL_LINK           1209
</pre>
</div>

<p>
system å‡½æ•°ï¼šå¯ä»¥awkä¸­è°ƒç”¨shellå‘½ä»¤
</p>

<p>
ç©ºæ ¼æ˜¯awkä¸­çš„å­—ç¬¦ä¸²è¿æ¥ç¬¦ï¼Œå¦‚æœsystemä¸­éœ€è¦ä½¿ç”¨awkä¸­çš„å˜é‡å¯ä»¥ä½¿ç”¨ç©ºæ ¼
åˆ†éš”ï¼Œæˆ–è€…è¯´é™¤äº†awkçš„å˜é‡å¤–å…¶ä»–ä¸€å¾‹ç”¨â€â€œå¼•ç”¨èµ·æ¥
</p>

<div class="org-src-container">
<pre class="src src-sh">awk <span style="color: #8b2252;">'BEGIN{system("hostname")}'</span>
awk <span style="color: #8b2252;">'BEGIN{score=100; system("echo your score is " score) }'</span>
[root@centos8 ~]#netstat -tn | awk <span style="color: #8b2252;">'/^tcp/{split($5,ip,":");count[ip[1]]++}END{for(i in count){if(count[i]&gt;=10){system("iptables -A INPUT -s "i" -j REJECT")}}}'</span>
</pre>
</div>

<p>
mktime( YYYY MM DD HH MM SS[ DST]) ç”Ÿæˆæ—¶é—´æ ¼å¼
</p>

<p>
strftime([format [, timestamp]]) æ ¼å¼åŒ–æ—¶é—´è¾“å‡ºï¼Œå°†æ—¶é—´æˆ³è½¬ä¸ºæ—¶é—´å­—ç¬¦
ä¸² systime()å¾—åˆ°æ—¶é—´æˆ³,è¿”å›ä»1970å¹´1æœˆ1æ—¥å¼€å§‹åˆ°å½“å‰æ—¶é—´(ä¸è®¡é—°å¹´)çš„æ•´
ç§’æ•°
</p>

<p>
strftimeæ—¶é—´å‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-sh">%a  &#26143;&#26399;&#20960;&#30340;&#32553;&#20889;(Sun)
%A  &#26143;&#26399;&#20960;&#30340;&#23436;&#25972;&#20889;&#27861;(Sunday)
%b  &#26376;&#21517;&#30340;&#32553;&#20889;(Oct)
%B  &#26376;&#21517;&#30340;&#23436;&#25972;&#20889;&#27861;(October)
%c  &#26412;&#22320;&#26085;&#26399;&#21644;&#26102;&#38388;
%d  &#21313;&#36827;&#21046;&#26085;&#26399;
%D  &#26085;&#26399; 08/20/99
%e  &#26085;&#26399;&#65292;&#22914;&#26524;&#21482;&#26377;&#19968;&#20301;&#20250;&#34917;&#19978;&#19968;&#20010;&#31354;&#26684;
%H  &#29992;&#21313;&#36827;&#21046;&#34920;&#31034;24&#23567;&#26102;&#26684;&#24335;&#30340;&#23567;&#26102;
%I  &#29992;&#21313;&#36827;&#21046;&#34920;&#31034;12&#23567;&#26102;&#26684;&#24335;&#30340;&#23567;&#26102;
%j  &#20174;1&#26376;1&#26085;&#36215;&#19968;&#24180;&#20013;&#30340;&#31532;&#20960;&#22825;
%m  &#21313;&#36827;&#21046;&#34920;&#31034;&#30340;&#26376;&#20221;
%M  &#21313;&#36827;&#21046;&#34920;&#31034;&#30340;&#20998;&#38047;
%p  12&#23567;&#26102;&#34920;&#31034;&#27861;(AM/PM)
%S  &#21313;&#36827;&#21046;&#34920;&#31034;&#30340;&#31186;
%U  &#21313;&#36827;&#21046;&#34920;&#31034;&#30340;&#19968;&#24180;&#20013;&#30340;&#31532;&#20960;&#20010;&#26143;&#26399;(&#26143;&#26399;&#22825;&#20316;&#20026;&#19968;&#20010;&#26143;&#26399;&#30340;&#24320;&#22987;)
%w  &#21313;&#36827;&#21046;&#34920;&#31034;&#30340;&#26143;&#26399;&#20960;(&#26143;&#26399;&#22825;&#26159;0)
%W  &#21313;&#36827;&#21046;&#34920;&#31034;&#30340;&#19968;&#24180;&#20013;&#30340;&#31532;&#20960;&#20010;&#26143;&#26399;(&#26143;&#26399;&#19968;&#20316;&#20026;&#19968;&#20010;&#26143;&#26399;&#30340;&#24320;&#22987;)
%x  &#37325;&#26032;&#35774;&#32622;&#26412;&#22320;&#26085;&#26399;(08/20/99)
%X  &#37325;&#26032;&#35774;&#32622;&#26412;&#22320;&#26102;&#38388;(12&#65306;00&#65306;00)
%y  &#20004;&#20301;&#25968;&#23383;&#34920;&#31034;&#30340;&#24180;(99)
%Y  &#24403;&#21069;&#26376;&#20221;
%Z  &#26102;&#21306;(PDT)
%%  &#30334;&#20998;&#21495;(%)
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]# awk <span style="color: #8b2252;">'BEGIN{print strftime("%x",systime())}'</span>
2016&#24180;01&#26376;06&#26085;
[root@centos7 ~]# awk <span style="color: #8b2252;">'BEGIN{print strftime("%x-%X",systime())}'</span>
2016&#24180;01&#26376;06&#26085;-13&#26102;58&#20998;00&#31186;
[root@centos7 ~]# awk <span style="color: #8b2252;">'BEGIN{print strftime("%y-%m-%d %H:%M:%S",systime())}'</span>
16-01-06 13:59:58

[root@ali-bj-prod-web001 conf.d]# awk <span style="color: #8b2252;">'BEGIN{tstamp=mktime("2021 02 28 6 12 12");print tstamp;}'</span>
1614463932
[root@ali-bj-prod-web001 conf.d]# awk <span style="color: #8b2252;">'BEGIN{tstamp=mktime("2021 02 28 6 12 12");print strftime("%c",tstamp);}'</span>
Sun 28 Feb 2021 06:12:12 AM CST
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26102;&#38388;&#24046;</span>
[root@ali-bj-prod-web001 conf.d]# awk <span style="color: #8b2252;">'BEGIN{tstamp1=mktime("2021 02 28 6 12 12");tstamp2=systime();print tstamp2-tstamp1;}'</span>
87583
</pre>
</div>

<p>
å­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢tolower(var) toupper(var)
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos7 ~]# <span style="color: #a0522d;">name</span>=AbC
[root@centos7 ~]# echo ${<span style="color: #a0522d;">name</span>^^}
ABC
[root@centos7 ~]# echo ${<span style="color: #a0522d;">name</span>,,}
abc

[root@centos7 ~]# echo $<span style="color: #a0522d;">name</span> | tr <span style="color: #8b2252;">'a-z'</span> <span style="color: #8b2252;">'A-Z'</span>
ABC

[root@centos7 ~]# awk <span style="color: #8b2252;">'BEGIN{a="abcDEF";print a}'</span>
abcDEF
[root@centos7 ~]# awk <span style="color: #8b2252;">'BEGIN{a="abcDEF";print tolower(a)}'</span>
abcdef
[root@centos7 ~]# awk <span style="color: #8b2252;">'BEGIN{a="abcDEF";print toupper(a)}'</span>
ABCDEF
</pre>
</div>

<p>
åˆ·æ–°è¾“å‡ºç¼“å†²åŒºfflushå‡½æ•°
</p>

<p>
èŒƒä¾‹ï¼š
</p>

<pre class="example" id="orgf82a161">
[root@nginx01 ~]# tail -n +$(tail -n1 /root/n) -F /root/ip.txt 2&gt;&amp;1 | awk 'ARGIND==1{i=$0;next}{i++;if($0~/^tail/){i=0};print $0;print i &gt;&gt; "/root/n";fflush("")}' /root/n -

å¦‚ï¼Œflumeæ—¥å¿—æ”¶é›†ä¸­è®¾ç½®æ–­ç‚¹æ”¶é›†
a1.sources.r1.type = exec
a1.sources.r1.shell = /bin/bash -c
a1.sources.r1.command = tail -n +$(tail -n1 /home/hadoop/flume_read/m) -F /home/hadoop/student.txt | awk 'ARGIND==1{i=$0;next}{i++;if($0~/^tail/){i=0};print
$0;print i &gt;&gt; "/home/hadoop/flume_read/m";fflush("")}' /home/hadoop/flume_read/m -


fflushå‡½æ•°ç”¨ä»¥åˆ·æ–°è¾“å‡ºç¼“å†²åŒºï¼Œå¦‚æœæ²¡æœ‰å‚æ•°ï¼Œå°±åˆ·æ–°æ ‡å‡†è¾“å‡ºçš„ç¼“å†²åŒºï¼Œå¦‚æœä»¥ç©ºå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œå¦‚fflush(""),åˆ™åˆ·æ–°æ‰€æœ‰æ–‡ä»¶å’Œç®¡é“çš„è¾“å‡ºç¼“å†²åŒºã€‚
è¿™é‡Œçš„fflushæ˜¯å‘næ–‡ä»¶ä¸­å†™å…¥
</pre>

<p>
å…¶ä»–å‚è€ƒï¼š linux awk
å†…ç½®å‡½æ•°è¯¦ç»†ä»‹ç»ï¼ˆå®ä¾‹ï¼‰<a href="http://blog.chinaunix.net/uid-21505614-id-289434.html">http://blog.chinaunix.net/uid-21505614-id-289434.html</a>
</p>
</div>
</div>
<div id="outline-container-h:fcc115c1-565b-45af-8359-a6080636723c" class="outline-5">
<h5 id="h:fcc115c1-565b-45af-8359-a6080636723c">è‡ªå®šä¹‰å‡½æ•°</h5>
<div class="outline-text-5" id="text-h:fcc115c1-565b-45af-8359-a6080636723c">
<p>
è‡ªå®šä¹‰å‡½æ•°æ ¼å¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">name</span> ( parameter, parameter, ... ) {
 statements
 <span style="color: #a020f0;">return</span> expression
}
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat func.awk  <span style="color: #b22222;"># </span><span style="color: #b22222;">x,y &#20026;&#24418;&#24335;&#21442;&#25968;</span>
<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">max</span>(x,y) {
x&gt;y?<span style="color: #a0522d;">var</span>=x:<span style="color: #a0522d;">var</span>=y
<span style="color: #a020f0;">return</span> var
}
BEGIN{print max(a,b)}
[root@centos8 ~]#awk -v <span style="color: #a0522d;">a</span>=30 -v <span style="color: #a0522d;">b</span>=20 -f func.awk  <span style="color: #b22222;"># </span><span style="color: #b22222;">a,b &#20026;&#23454;&#38469;&#21442;&#25968;</span>
30
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:f24d1b74-e72a-43f6-b69e-5633a0f29d87" class="outline-4">
<h4 id="h:f24d1b74-e72a-43f6-b69e-5633a0f29d87">awkè„šæœ¬</h4>
<div class="outline-text-4" id="text-h:f24d1b74-e72a-43f6-b69e-5633a0f29d87">
<p>
å°†awkç¨‹åºå†™æˆè„šæœ¬ï¼Œç›´æ¥è°ƒç”¨æˆ–æ‰§è¡Œ èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat passwd.awk
{<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">3</span>&gt;=1000)print $<span style="color: #a0522d;">1</span>,$<span style="color: #a0522d;">3</span>}
[root@centos8 ~]#awk -F: -f passwd.awk /etc/passwd
nobody 65534
wang 1000
me 1001
</pre>
</div>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat test.awk
<span style="color: #b22222;">#</span><span style="color: #b22222;">!/bin/awk -f</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">this is a awk script</span>
{<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">3</span>&gt;=1000)print $<span style="color: #a0522d;">1</span>,$<span style="color: #a0522d;">3</span>}
[root@centos8 ~]#chmod +x test.awk
[root@centos8 ~]#./test.awk -F: /etc/passwd
nobody 65534
wang 1000
me 1001
</pre>
</div>

<p>
å‘awkè„šæœ¬ä¼ é€’å‚æ•° æ ¼å¼ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">awkfile <span style="color: #a0522d;">var</span>=value <span style="color: #a0522d;">var2</span>=value2... Inputfile
</pre>
</div>

<p>
æ³¨æ„ï¼šåœ¨BEGINè¿‡ç¨‹ä¸­ä¸å¯ç”¨ã€‚ç›´åˆ°é¦–è¡Œè¾“å…¥å®Œæˆä»¥åï¼Œå˜é‡æ‰å¯ç”¨ã€‚å¯ä»¥é€šè¿‡-vå‚
æ•°ï¼Œè®©awkåœ¨æ‰§è¡ŒBEGINä¹‹å‰å¾—åˆ°å˜é‡çš„å€¼ã€‚å‘½ä»¤è¡Œä¸­æ¯ä¸€ä¸ªæŒ‡å®šçš„å˜é‡éƒ½éœ€è¦ä¸€
ä¸ª-vå‚æ•°
</p>

<p>
èŒƒä¾‹ï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#cat test2.awk
<span style="color: #b22222;">#</span><span style="color: #b22222;">!/bin/awk -f</span>
{<span style="color: #a020f0;">if</span>($<span style="color: #a0522d;">3</span> &gt;=min &amp;&amp; $<span style="color: #a0522d;">3</span>&lt;=max)print $<span style="color: #a0522d;">1</span>,$<span style="color: #a0522d;">3</span>}
[root@centos8 ~]#chmod +x test2.awk
[root@centos8 ~]#./test2.awk -F: <span style="color: #a0522d;">min</span>=100 <span style="color: #a0522d;">max</span>=200 /etc/passwd
systemd-resolve 193
rtkit 172
pulse 171
qemu 107
usbmuxd 113
abrt 173
</pre>
</div>

<p>
ç»ƒä¹ 
</p>

<ul class="org-ul">
<li>æ–‡ä»¶host_list.logå¦‚ä¸‹æ ¼å¼ï¼Œè¯·æå–â€.me.comâ€å‰é¢çš„ä¸»æœºåéƒ¨åˆ†å¹¶</li>
</ul>
<p>
å†™å…¥åˆ°å›åˆ°è¯¥æ–‡ä»¶ä¸­
</p>

<div class="org-src-container">
<pre class="src src-sh">1 www.me.com
2 blog.me.com
3 study.me.com
4 linux.me.com
5 python.me.com
......
999 study.me.com
</pre>
</div>

<ul class="org-ul">
<li>ç»Ÿè®¡/etc/fstabæ–‡ä»¶ä¸­æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿç±»å‹å‡ºç°çš„æ¬¡æ•°</li>
<li>ç»Ÿè®¡/etc/fstabæ–‡ä»¶ä¸­æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°</li>
<li>æå–å‡ºå­—ç¬¦ä¸²Yd$C@M05MB%9&amp;Bdh7dq+YVixp3vpwä¸­çš„æ‰€æœ‰æ•°å­—</li>
<li>æœ‰ä¸€æ–‡ä»¶è®°å½•äº†1-100000ä¹‹é—´éšæœºçš„æ•´æ•°å…±5000ä¸ªï¼Œå­˜å‚¨çš„æ ¼å¼
100,50,35,89&#x2026;è¯·å–å‡ºå…¶ä¸­æœ€å¤§å’Œæœ€å°çš„æ•´æ•°</li>
<li>è§£å†³Dosæ”»å‡»ç”Ÿäº§æ¡ˆä¾‹ï¼šæ ¹æ®webæ—¥å¿—æˆ–è€…æˆ–è€…ç½‘ç»œè¿æ¥æ•°ï¼Œç›‘æ§å½“æŸä¸ªIPå¹¶å‘
è¿æ¥æ•°æˆ–è€…çŸ­æ—¶å†…PVè¾¾åˆ°100ï¼Œå³è°ƒç”¨é˜²ç«å¢™å‘½ä»¤å°æ‰å¯¹åº”çš„IPï¼Œç›‘æ§é¢‘ç‡æ¯
éš”5åˆ†é’Ÿã€‚é˜²ç«å¢™å‘½ä»¤ä¸ºï¼šiptables -A INPUT -s IP -j REJECT</li>
<li>å°†ä»¥ä¸‹æ–‡ä»¶å†…å®¹ä¸­FQDNå–å‡ºå¹¶æ ¹æ®å…¶è¿›è¡Œè®¡æ•°ä»é«˜åˆ°ä½æ’åº</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">http://mail.me.com/index.html
http://www.me.com/test.html
http://study.me.com/index.html
http://blog.me.com/index.html
http://www.me.com/images/logo.jpg
http://blog.me.com/20080102.html
http://www.me.com/images/me.jpg
</pre>
</div>

<p>
å‚è€ƒç­”æ¡ˆ:
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#awk -F<span style="color: #8b2252;">"/"</span> <span style="color: #8b2252;">'{url[$3]++}END{for(i in url){print url[i],i}}'</span> url.log |sort -nr
3 www.me.com
2 blog.me.com
1 study.me.com
1 mail.me.com
</pre>
</div>

<p>
8ã€å°†ä»¥ä¸‹æ–‡æœ¬ä»¥inodeä¸ºæ ‡è®°ï¼Œå¯¹inodeç›¸åŒçš„countsè¿›è¡Œç´¯åŠ ï¼Œå¹¶ä¸”ç»Ÿè®¡å‡ºåŒä¸€inodeä¸­ï¼Œ
beginnumberçš„æœ€å°å€¼å’Œendnumberçš„æœ€å¤§å€¼
</p>

<div class="org-src-container">
<pre class="src src-sh">inode|beginnumber|endnumber|counts|
106|3363120000|3363129999|10000|
106|3368560000|3368579999|20000|
310|3337000000|3337000100|101|
310|3342950000|3342959999|10000|
310|3362120960|3362120961|2|
311|3313460102|3313469999|9898|
311|3313470000|3313499999|30000|
311|3362120962|3362120963|2|
</pre>
</div>

<p>
è¾“å‡ºçš„ç»“æœæ ¼å¼ä¸ºï¼š
</p>

<div class="org-src-container">
<pre class="src src-sh">310|3337000000|3362120961|10103|
311|3313460102|3362120963|39900|
106|3363120000|3368579999|30000|
</pre>
</div>
</div>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>æ‰“èµ</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Â© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
