<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Linux: 测试</title>
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<!--
<script id="MathJax-script" async="" src="/static/aandds.com/js/mathjax.js"></script>

<script type="text/javascript" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
-->
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Linux: 测试</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:cf153c28-aa91-4c1b-8d73-9d04d2a3b52b">系统测试</a>
<ul>
<li><a href="#h:57709bd0-8797-45ec-86d8-e4d0dcae4aaa">脚本</a></li>
<li><a href="#h:f1e7ffec-5cf9-45ee-9c08-8f8e7e439875">查看服务器硬件信息</a>
<ul>
<li><a href="#h:ee61bf35-c1e9-4ebc-b62b-4929ec494ae5">查看服务器型号、序列号</a></li>
<li><a href="#h:0a52ccca-8a7b-481c-9aca-7e481aeea916">查看主板型号</a></li>
<li><a href="#h:f8652a6a-1615-470a-b057-2aed8e43a313">查看BIOS信息</a></li>
<li><a href="#h:96099d61-a4e2-4be3-a958-d1af733a889d">查看内存槽及内存条</a></li>
<li><a href="#h:da188fae-3920-4d53-abe4-460a20dc10ae">查看网卡信息</a></li>
<li><a href="#h:ae01114c-35b9-4bc8-9a0b-62497be9a6fd">查看pci信息，即主板所有硬件槽信息</a></li>
</ul>
</li>
<li><a href="#h:459503d5-9e40-4886-bb03-c4bbab5867fd">查看CPU信息</a></li>
<li><a href="#h:48439e4a-2dd2-43ef-91d0-75773fa5001d">查看内存信息</a>
<ul>
<li><a href="#h:407a9985-a894-40cc-8639-e7e05e879457">查看内存硬件信息</a></li>
<li><a href="#h:0886808c-66a1-4832-bf58-3021c91fcfe9">最大支持多少内存</a></li>
<li><a href="#h:0c008013-a62d-4868-b5f7-e401eca5ad18">Linux 查看内存的插槽数,已经使用多少插槽.每条内存多大：</a></li>
<li><a href="#h:83309b4d-cdee-45d3-9867-9c8c998fa6e3">Linux 查看内存的频率：</a></li>
<li><a href="#h:15fe3931-d51d-4da8-91f1-86b8d19b82e4">Linux 查看内存的详细信息：</a></li>
<li><a href="#h:fc3d07a8-9e14-48bb-adb7-31b8534a7383">Linux 查看内存的使用情况</a></li>
</ul>
</li>
<li><a href="#h:78082cec-9d7c-4cf9-aab8-2e4f982ac2ef">查看硬盘信息</a>
<ul>
<li><a href="#h:3c8fc8d6-ae5e-4a63-9438-aa9863a9a520">查看硬盘型号</a></li>
<li><a href="#h:c12e2e51-c238-4a84-b87d-369ef0d21076">查看挂接的分区状态</a></li>
<li><a href="#h:da77f583-b6d2-45a5-99f0-cc2f3c0942bc">查看硬盘和分区分布</a></li>
<li><a href="#h:e76a1b7a-4cac-4952-a8e8-661349631299">查看硬盘和分区的详细信息</a></li>
<li><a href="#h:6b124966-e763-4278-99a7-0f8f492a3523">查看挂接的分区状态</a></li>
<li><a href="#h:7f1fa0db-d77d-4bb5-8662-c18752a6ea86">查看挂接的分区状态</a></li>
<li><a href="#h:1c42aaa2-4276-4288-9bdc-77a20c83048b">查看硬盘使用情况</a></li>
<li><a href="#h:0f00ffbf-aaea-49fc-b620-bbf950b5054e">硬盘检测命令smartctl</a></li>
<li><a href="#h:7e8060a4-d904-4d0a-b931-04af2c0edfb1">硬盘坏道检测</a></li>
</ul>
</li>
<li><a href="#h:e37c937a-1b0a-4dd3-9cf4-51ce4f1d5603">查看网卡信息</a>
<ul>
<li><a href="#h:23859d43-aa9b-42b4-ab2e-d79fa2359352">查看网卡硬件信息</a></li>
<li><a href="#h:ece2843e-74a6-493c-b475-a66da12153da">查看系统的所有网络接口</a></li>
<li><a href="#h:245f2600-29ee-4147-bfdb-cc48e4d80b57">查看某个网络接口的详细信息，例如eth0的详细参数和指标</a></li>
<li><a href="#h:7435e6ce-101f-4536-8656-a65480db886c">查看所有网卡的链路状态</a></li>
</ul>
</li>
<li><a href="#h:05599843-6f05-4326-b2cd-9c4362dce8cc">系统版本</a>
<ul>
<li><a href="#h:ef935c15-74e0-44fc-adfb-3b12a7f0b888">查看内核版本</a></li>
<li><a href="#h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b">查看操作系统发行版本</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:d1e73603-189b-4004-9233-321514a68587">CPU</a>
<ul>
<li><a href="#h:0db93f6f-c455-4c11-a01a-37c7987f491b">CPU性能测试</a>
<ul>
<li><a href="#h:162545c2-2f4a-4163-979d-1d819dd267b5">通过bc命令计算特别函数</a></li>
<li><a href="#h:3c8c37ee-40a9-4f67-90d2-40e01400d695">工具二：Super Pi for linux</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:894926b2-dc0d-4dd7-962f-1a3fedec0e87">内存</a>
<ul>
<li><a href="#h:3a73e916-ee0f-4f43-88c1-762ee9b36974">HP-DL380p gen8内存位置关系</a></li>
<li><a href="#h:d859787f-e2ca-4add-835e-28a42d9b4efe">工具：memtester</a></li>
<li><a href="#h:706da2a1-1519-4469-9d6b-f507da644cfd">内存测试memtest86</a></li>
</ul>
</li>
<li><a href="#h:8788db45-bfc5-422d-8483-98fe5422b1d2">硬盘</a>
<ul>
<li><a href="#h:6b4d74c8-9a81-417f-8ae3-e98d26669efa">查看linux raid情况</a></li>
<li><a href="#h:d1e05dca-ee3a-4d10-bc0d-605044406fb9">硬盘性能测试</a>
<ul>
<li><a href="#h:bea055f1-5bc8-45b8-8ae0-8da5fb3c54d4">基础检测方法</a></li>
<li><a href="#h:ec732126-0840-47c8-8500-79856e86a600">高级检测方法</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Linux</a></li>
</ul>
<section id="outline-container-h:cf153c28-aa91-4c1b-8d73-9d04d2a3b52b" class="outline-2">
<h2 id="h:cf153c28-aa91-4c1b-8d73-9d04d2a3b52b">系统测试</h2>
<div class="outline-text-2" id="text-h:cf153c28-aa91-4c1b-8d73-9d04d2a3b52b">
</div>
<div id="outline-container-h:57709bd0-8797-45ec-86d8-e4d0dcae4aaa" class="outline-3">
<h3 id="h:57709bd0-8797-45ec-86d8-e4d0dcae4aaa">脚本</h3>
<div class="outline-text-3" id="text-h:57709bd0-8797-45ec-86d8-e4d0dcae4aaa">
<div class="org-src-container">
<pre class="src src-sh">cat &lt;&lt;\EOF&gt; check-hard.sh 
<span style="color: #ffa54f;">#!/bin/bash</span>
<span style="color: #ffa54f;">PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</span>
<span style="color: #ffa54f;">export PATH</span>

<span style="color: #ffa54f;">__check_system() {</span>
<span style="color: #ffa54f;">  OS_RELEASE="$(</span><span style="color: #ff00ff;">awk -F'=' '/^NAME/{print $2}' /etc/os-release| sed 's@\"@@g'</span><span style="color: #ffa54f;">)" `#OS: Amazon Linux|CentOS Linux|Ubuntu`</span>
<span style="color: #ffa54f;">  ARCH="$(</span><span style="color: #ff00ff;">arch</span><span style="color: #ffa54f;">)" `#ARCH: x86_64(amd)|aarch64(arm)`</span>
<span style="color: #ffa54f;">}</span>

<span style="color: #ffa54f;">__init() {</span>
<span style="color: #ffa54f;">  __check_system</span>
<span style="color: #ffa54f;">  [[ "$OS_RELEASE" =~ "Linux" ]] &amp;&amp; yum install -y dmidecode smartmontools &amp;&gt;/dev/null ||:</span>
<span style="color: #ffa54f;">  [[ "$OS_RELEASE" =~ "Ubuntu" ]] &amp;&amp; apt install dmidecode smartmontools &amp;&gt;/dev/null ||:</span>

<span style="color: #ffa54f;">#if [ "$(</span><span style="color: #ff00ff;">cat /proc/version|grep 'centos.org'</span><span style="color: #ffa54f;">)" != "centos" ]; then</span>
<span style="color: #ffa54f;">#    apt-get install smartmontools -y</span>
<span style="color: #ffa54f;">#fi</span>
<span style="color: #ffa54f;">}</span>
<span style="color: #ffa54f;">__init</span>

<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo "---------------------&#26381;&#21153;&#22120;&#20449;&#24687;------------------------"</span>
<span style="color: #ffa54f;">echo "&#26381;&#21153;&#22120;&#21697;&#29260;&#65306;"`dmidecode|grep "System Information" -A9 | grep Manufacturer |awk -F: '{print $2}'`</span>
<span style="color: #ffa54f;">echo "&#26381;&#21153;&#22120;&#22411;&#21495;&#65306;"`dmidecode|grep "System Information" -A9 | grep Product |awk -F: '{print $2}'`</span>
<span style="color: #ffa54f;">echo "&#24207;&#21015;&#21495;&#65306;"`dmidecode|grep "System Information" -A9 | grep Serial |awk '{print $3}'`</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo "---------------------&#20027;&#26495;&#20449;&#24687;--------------------------"</span>
<span style="color: #ffa54f;">b=`dmidecode|grep "System Information" -A9|egrep Manufacturer: |awk '{print $2}'`</span>
<span style="color: #ffa54f;">echo "&#20027;&#26495;&#21697;&#29260;&#65306;" $b</span>
<span style="color: #ffa54f;">c=`dmidecode |grep "System Information" -A9 |grep "Product Name:" |awk '{print $3}'`</span>
<span style="color: #ffa54f;">echo "&#20027;&#26495;&#22411;&#21495;&#65306;" $c</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo "--------------------&#25805;&#20316;&#31995;&#32479;&#20449;&#24687;------------------------"</span>
<span style="color: #ffa54f;">#echo "&#31995;&#32479;&#65306;" `cat /etc/issue |grep -v Kernel`</span>
<span style="color: #ffa54f;">echo "&#31995;&#32479;&#65306;" `echo $OS_RELEASE`</span>
<span style="color: #ffa54f;">echo "&#20027;&#26426;&#21517;&#65306;" `uname -n`</span>
<span style="color: #ffa54f;">echo "&#20869;&#26680;&#29256;&#26412;&#65306;" `uname -r`</span>
<span style="color: #ffa54f;">echo "" </span>
<span style="color: #ffa54f;">echo "----------------------CPU&#20449;&#24687;--------------------------"</span>
<span style="color: #ffa54f;">echo "CPU&#20010;&#25968;&#65306;" `cat /proc/cpuinfo| grep "physical id"| sort| uniq| wc -l`</span>
<span style="color: #ffa54f;">echo "CPU&#22411;&#21495;&#65306;" `cat /proc/cpuinfo | grep 'model name' |uniq |awk -F : '{print $2}'`</span>
<span style="color: #ffa54f;">echo "&#27599;&#20010;CPU&#26680;&#25968;&#65306;" `cat /proc/cpuinfo| grep "cpu cores"| uniq |awk '{print $4}'`</span>
<span style="color: #ffa54f;">echo "CPU&#24635;&#20010;&#25968;&#65306;" `cat /proc/cpuinfo | grep "physical id" | uniq | wc -l`</span>
<span style="color: #ffa54f;">echo "&#36923;&#36753;CPU&#20010;&#25968;&#65288;&#24635;&#26680;&#25968;&#65289;&#65306;" `cat /proc/cpuinfo| grep "processor"| wc -l`</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo "---------------------&#20869;&#23384;&#20449;&#24687;--------------------------"</span>
<span style="color: #ffa54f;">echo "&#20869;&#23384;&#25554;&#27133;&#24635;&#25968;&#65306;" `dmidecode |grep -A16 "Memory Device$" |grep Manufacturer: | wc -l`</span>
<span style="color: #ffa54f;">echo "&#26410;&#20351;&#29992;&#25554;&#27133;&#25968;&#65306;" `dmidecode |grep -A16 "Memory Device$" |grep 'Manufacturer: NO DIMM' | wc -l`</span>
<span style="color: #ffa54f;">echo "&#21378;&#21830;&#22914;&#19979;&#65306;"</span>
<span style="color: #ffa54f;">    dmidecode -t memory |grep Manufacturer</span>
<span style="color: #ffa54f;">echo "&#20869;&#23384;&#22411;&#21495;&#65306;"</span>
<span style="color: #ffa54f;">    dmidecode -t memory |grep 'Part Number'</span>
<span style="color: #ffa54f;">echo "&#27599;&#26465;&#20869;&#23384;&#22823;&#23567;&#65306;"</span>
<span style="color: #ffa54f;">    dmidecode|grep -A5 "Memory Device"|grep Size|grep -v Range</span>
<span style="color: #ffa54f;">echo "&#27599;&#26465;&#20869;&#23384;&#39057;&#29575;&#65306;"</span>
<span style="color: #ffa54f;">    dmidecode|grep -A16 "Memory Device"|grep Speed</span>
<span style="color: #ffa54f;">echo "&#24635;&#20869;&#23384;&#65288;GB&#65289;&#65306;" `free -g |grep Mem |awk '{print $2}'`</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo "---------------------&#30828;&#30424;&#20449;&#24687;--------------------------"</span>
<span style="color: #ffa54f;">device_name=`lsblk -d -o name |sed '1d'`</span>
<span style="color: #ffa54f;">for d in "$device_name"; do </span>
<span style="color: #ffa54f;">  echo "&#30828;&#30424;&#21378;&#21830;&#12289;&#22411;&#21495;&#12289;&#24207;&#21015;&#21495;&#65306;" `smartctl -a /dev/$d |egrep "Device Model:|Model Number:|Serial Number:"`</span>
<span style="color: #ffa54f;">  echo "&#30828;&#30424;&#25968;&#37327;&#12289;&#23481;&#37327;&#65306;" `fdisk -l |grep "Disk /dev/$d"`</span>
<span style="color: #ffa54f;">done</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo "---------------------&#32593;&#21345;&#20449;&#24687;--------------------------"</span>
<span style="color: #ffa54f;">echo "&#32593;&#21345;&#35774;&#22791;&#65306;"</span>
<span style="color: #ffa54f;">lspci | grep Ethernet</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">echo ""</span>
<span style="color: #ffa54f;">EOF</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f1e7ffec-5cf9-45ee-9c08-8f8e7e439875" class="outline-3">
<h3 id="h:f1e7ffec-5cf9-45ee-9c08-8f8e7e439875">查看服务器硬件信息</h3>
<div class="outline-text-3" id="text-h:f1e7ffec-5cf9-45ee-9c08-8f8e7e439875">
</div>
<div id="outline-container-h:ee61bf35-c1e9-4ebc-b62b-4929ec494ae5" class="outline-4">
<h4 id="h:ee61bf35-c1e9-4ebc-b62b-4929ec494ae5">查看服务器型号、序列号</h4>
<div class="outline-text-4" id="text-h:ee61bf35-c1e9-4ebc-b62b-4929ec494ae5">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">yum install -y dmidecode</span>
dmidecode|grep <span style="color: #8b2252;">"System Information"</span> -A9|egrep  <span style="color: #8b2252;">"Manufacturer|Product|Serial"</span> 
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0a52ccca-8a7b-481c-9aca-7e481aeea916" class="outline-4">
<h4 id="h:0a52ccca-8a7b-481c-9aca-7e481aeea916">查看主板型号</h4>
<div class="outline-text-4" id="text-h:0a52ccca-8a7b-481c-9aca-7e481aeea916">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# dmidecode |grep -A16 <span style="color: #8b2252;">"System Information$"</span>
</pre>
</div>

<p>
显示主板序列号
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">dmidecode | grep 'Serial Number'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f8652a6a-1615-470a-b057-2aed8e43a313" class="outline-4">
<h4 id="h:f8652a6a-1615-470a-b057-2aed8e43a313">查看BIOS信息</h4>
<div class="outline-text-4" id="text-h:f8652a6a-1615-470a-b057-2aed8e43a313">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# dmidecode -t bios
<span style="color: #b22222;"># </span><span style="color: #b22222;">dmidecode 2.12</span>
SMBIOS 2.8 present.

Handle 0x0008, DMI type 0, 24 bytes
BIOS Information
        Vendor: HP
        Version: U19
        Release Date: 12/27/2015
        Address: 0xF0000
        Runtime Size: 64 kB
        ROM Size: 16384 kB
        Characteristics:
                PCI is supported
                PNP is supported
                BIOS is upgradeable
                BIOS shadowing is allowed
                ESCD support is available
                Boot from CD is supported
                Selectable boot is supported
                EDD is supported
                5.25<span style="color: #8b2252;">"/360 kB floppy services are supported (int 13h)</span>
<span style="color: #8b2252;">                5.25"</span>/1.2 MB floppy services are supported (int 13h)
                3.5<span style="color: #8b2252;">"/720 kB floppy services are supported (int 13h)</span>
<span style="color: #8b2252;">                Print screen service is supported (int 5h)</span>
<span style="color: #8b2252;">                8042 keyboard services are supported (int 9h)</span>
<span style="color: #8b2252;">                Serial services are supported (int 14h)</span>
<span style="color: #8b2252;">                Printer services are supported (int 17h)</span>
<span style="color: #8b2252;">                CGA/mono video services are supported (int 10h)</span>
<span style="color: #8b2252;">                ACPI is supported</span>
<span style="color: #8b2252;">                USB legacy is supported</span>
<span style="color: #8b2252;">                BIOS boot specification is supported</span>
<span style="color: #8b2252;">                Function key-initiated network boot is supported</span>
<span style="color: #8b2252;">                Targeted content distribution is supported</span>
<span style="color: #8b2252;">                UEFI is supported</span>
<span style="color: #8b2252;">        BIOS Revision: 2.0</span>
<span style="color: #8b2252;">        Firmware Revision: 2.40</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:96099d61-a4e2-4be3-a958-d1af733a889d" class="outline-4">
<h4 id="h:96099d61-a4e2-4be3-a958-d1af733a889d">查看内存槽及内存条</h4>
<div class="outline-text-4" id="text-h:96099d61-a4e2-4be3-a958-d1af733a889d">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# dmidecode -t memory | head -45 | tail -23
Memory Device
        Array Handle: 0x000A
        Error Information Handle: Not Provided
        Total Width: 72 bits
        Data Width: 64 bits
        Size: 16384 MB
        Form Factor: DIMM
        Set: None
        Locator: PROC 1 DIMM 1
        Bank Locator: Not Specified
        Type: DDR4
        Type Detail: Synchronous Registered (Buffered)
        Speed: 2133 MHz
        Manufacturer: HP     
        Serial Number: Not Specified
        Asset Tag: Not Specified
        Part Number: 752369-081
        Rank: 2
        Configured Clock Speed: 2133 MHz
        Minimum Voltage:  1.2 V
        Maximum Voltage:  1.2 V
        Configured Voltage:  1.2 V
</pre>
</div>
</div>
</div>
<div id="outline-container-h:da188fae-3920-4d53-abe4-460a20dc10ae" class="outline-4">
<h4 id="h:da188fae-3920-4d53-abe4-460a20dc10ae">查看网卡信息</h4>
<div class="outline-text-4" id="text-h:da188fae-3920-4d53-abe4-460a20dc10ae">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# dmesg | grep -i Ethernet
igb: Intel(R) Gigabit Ethernet Network Driver - version 5.3.0-k
igb 0000:04:00.0: Intel(R) Gigabit Ethernet Network Connection
igb 0000:04:00.1: Intel(R) Gigabit Ethernet Network Connection
igb 0000:04:00.2: Intel(R) Gigabit Ethernet Network Connection
igb 0000:04:00.3: Intel(R) Gigabit Ethernet Network Connection
igb 0000:02:00.0: Intel(R) Gigabit Ethernet Network Connection
igb 0000:02:00.1: Intel(R) Gigabit Ethernet Network Connection 
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ae01114c-35b9-4bc8-9a0b-62497be9a6fd" class="outline-4">
<h4 id="h:ae01114c-35b9-4bc8-9a0b-62497be9a6fd">查看pci信息，即主板所有硬件槽信息</h4>
<div class="outline-text-4" id="text-h:ae01114c-35b9-4bc8-9a0b-62497be9a6fd">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# lspci | head -10
00:00.0 Host bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 DMI2 (rev 02)
00:01.0 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 1 (rev 02)
00:01.1 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 1 (rev 02)
00:02.0 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 2 (rev 02)
00:02.1 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 2 (rev 02)
00:02.2 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 2 (rev 02)
00:02.3 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 2 (rev 02)
00:03.0 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 3 (rev 02)
00:03.1 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 3 (rev 02)
00:03.2 PCI bridge: Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 PCI Express Root Port 3 (rev 02)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:459503d5-9e40-4886-bb03-c4bbab5867fd" class="outline-3">
<h3 id="h:459503d5-9e40-4886-bb03-c4bbab5867fd">查看CPU信息</h3>
<div class="outline-text-3" id="text-h:459503d5-9e40-4886-bb03-c4bbab5867fd">
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]# lscpu
Architecture:     x86_64
CPU op-mode(s):     32-bit, 64-bit
Byte Order:      Little Endian
<span style="color: #0000ff;">CPU</span>(s):         8
On-line CPU(s) list:  0-7
<span style="color: #0000ff;">Thread</span>(s) per core:   1          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27599;&#20010;core &#26377;&#20960;&#20010;&#32447;&#31243;</span>
<span style="color: #0000ff;">Core</span>(s) per socket:   4          <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27599;&#20010;&#27133;&#20301;&#26377;4&#20010;core</span>
<span style="color: #0000ff;">Socket</span>(s):       2               <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26381;&#21153;&#22120;&#38754;&#26495;&#19978;&#26377;2&#20010;cpu &#27133;&#20301;</span>
NUMA node(s):      2             <span style="color: #b22222;">#</span><span style="color: #b22222;">nodes&#30340;&#25968;&#37327;</span>
Vendor ID:       GenuineIntel
CPU family:       6
Model:         44
Stepping:        2
CPU MHz:        2128.025
BogoMIPS:        4256.03
Virtualization:    VT-x
L1d cache:       32K
L1i cache:       32K
L2 cache:       256K
L3 cache:       8192K
NUMA node0 CPU(s):   0,2,4,6    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23545;&#24212;&#30340;core</span>
NUMA node1 CPU(s):   1,3,5,7

[root@centos8 ~]# cat /proc/cpuinfo

<span style="color: #b22222;"># </span><span style="color: #b22222;">nproc&#21629;&#20196; # &#26597;&#30475;cpu&#20010;&#25968;</span>
~]# nproc
16
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;cpu&#22411;&#21495;</span>
cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c
     40  Intel(R) Xeon(R) CPU E5-2650 v3 @ 2.30GHz

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#31995;&#32479;&#20013;&#23454;&#38469;&#29289;&#29702;CPU&#30340;&#25968;&#37327;&#65288;&#29289;&#29702;&#65289;</span>
grep <span style="color: #8b2252;">'physical id'</span> /proc/cpuinfo | sort | uniq | wc -l
2

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31995;&#32479;&#20013;&#23454;&#38469;&#29289;&#29702;CPU&#30340;&#25968;&#37327;&#65288;&#26680;&#25968;&#65289;</span>
[root@Master ~]# cat /proc/cpuinfo |grep <span style="color: #8b2252;">'processor'</span>|wc -l
40

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#27599;&#20010;&#29289;&#29702;CPU&#20013;core&#30340;&#20010;&#25968;(&#21363;&#26680;&#25968;)</span>
cat /proc/cpuinfo |grep <span style="color: #8b2252;">"cores"</span>|uniq 
cpu cores       : 10


<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;CPU&#30340;&#20027;&#39057;</span>
[root@Master ~]# cat /proc/cpuinfo |grep MHz|uniq 
cpu MHz         : 1200.000
cpu MHz         : 2300.000
cpu MHz         : 1200.000


<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;CPU&#30340;&#35814;&#32454;&#20449;&#24687;</span>
[root@Master ~]# cat /proc/cpuinfo | head -20
processor       : 0                 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36923;&#36753;&#22788;&#29702;&#22120;&#30340;ID</span>
vendor_id       : GenuineIntel
cpu family      : 6
model           : 63
model name      : Intel(R) Xeon(R) CPU E5-2650 v3 @ 2.30GHz   <span style="color: #b22222;">#</span><span style="color: #b22222;">CPU&#22411;&#21495;</span>
stepping        : 2
microcode       : 54
cpu MHz         : 1200.000
cache size      : 25600 KB
physical id     : 0
siblings        : 20                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#21516;&#29289;&#29702;&#23553;&#35013;&#22788;&#29702;&#22120;&#20013;&#36923;&#36753;&#22788;&#29702;&#22120;&#25968;</span>
core id         : 0
cpu cores       : 10                <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#21516;&#29289;&#29702;&#23553;&#35013;&#22788;&#29702;&#22120;&#20013;&#30340;&#20869;&#26680;&#25968;</span>
apicid          : 0
initial apicid  : 0
fpu             : yes
fpu_exception   : yes
cpuid level     : 15
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 fma cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand lahf_lm abm ida arat epb xsaveopt pln pts dtherm tpr_shadow vnmi flexpriority ept vpid fsgsbase bmi1 avx2 smep bmi2 erms invpcid cqm cqm_llc cqm_occup_llc
</pre>
</div>


<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#30830;&#23450;&#24403;&#21069;&#31995;&#32479;&#26159;32&#20301;&#25110;64&#20301;</span>
getconf LONG_BIT
64

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;cpu&#26159;&#21542;&#25903;&#25345;64bit</span>
cat /proc/cpuinfo | grep flags | grep lm| wc -l
40
&#32467;&#26524;&#22823;&#20110;0, &#35828;&#26126;&#25903;&#25345;64bit&#35745;&#31639;lm&#25351;long mode, &#25903;&#25345;lm&#21017;&#26159;64bit

<span style="color: #b22222;">#</span><span style="color: #b22222;">CPU&#26550;&#26500;  amd64(x86_64)\arm64(aarch64)</span>
root@VM-8-13-ubuntu:~# arch 
x86_64
[ec2-user@jump ~]$ arch
aarch64
</pre>
</div>
</div>
</div>
<div id="outline-container-h:48439e4a-2dd2-43ef-91d0-75773fa5001d" class="outline-3">
<h3 id="h:48439e4a-2dd2-43ef-91d0-75773fa5001d">查看内存信息</h3>
<div class="outline-text-3" id="text-h:48439e4a-2dd2-43ef-91d0-75773fa5001d">
</div>
<div id="outline-container-h:407a9985-a894-40cc-8639-e7e05e879457" class="outline-4">
<h4 id="h:407a9985-a894-40cc-8639-e7e05e879457">查看内存硬件信息</h4>
<div class="outline-text-4" id="text-h:407a9985-a894-40cc-8639-e7e05e879457">
<div class="org-src-container">
<pre class="src src-sh">root@Master ~]# dmidecode -t memory | head -45 | tail -24
Handle 0x000C, DMI type 17, 40 bytes
Memory Device
        Array Handle: 0x000A
        Error Information Handle: Not Provided
        Total Width: 72 bits
        Data Width: 64 bits
        Size: 16384 MB
        Form Factor: DIMM
        Set: None
        Locator: PROC 1 DIMM 1
        Bank Locator: Not Specified
        Type: DDR4
        Type Detail: Synchronous Registered (Buffered)
        Speed: 2133 MHz
        Manufacturer: HP     
        Serial Number: Not Specified
        Asset Tag: Not Specified
        Part Number: 752369-081
        Rank: 2
        Configured Clock Speed: 2133 MHz
        Minimum Voltage:  1.2 V
        Maximum Voltage:  1.2 V
        Configured Voltage:  1.2 V
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0886808c-66a1-4832-bf58-3021c91fcfe9" class="outline-4">
<h4 id="h:0886808c-66a1-4832-bf58-3021c91fcfe9">最大支持多少内存</h4>
<div class="outline-text-4" id="text-h:0886808c-66a1-4832-bf58-3021c91fcfe9">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# dmidecode|grep -P <span style="color: #8b2252;">'Maximum\s+Capacity'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0c008013-a62d-4868-b5f7-e401eca5ad18" class="outline-4">
<h4 id="h:0c008013-a62d-4868-b5f7-e401eca5ad18">Linux 查看内存的插槽数,已经使用多少插槽.每条内存多大：</h4>
<div class="outline-text-4" id="text-h:0c008013-a62d-4868-b5f7-e401eca5ad18">
<div class="org-src-container">
<pre class="src src-sh">[root@dcs41x64-xerqi ~]# dmidecode|grep -A5 <span style="color: #8b2252;">"Memory Device"</span>|grep Size|grep -v Range
        Size: 8192 MB
        Size: 8192 MB
        Size: No Module Installed
        Size: 8192 MB
        Size: 8192 MB
</pre>
</div>
</div>
</div>
<div id="outline-container-h:83309b4d-cdee-45d3-9867-9c8c998fa6e3" class="outline-4">
<h4 id="h:83309b4d-cdee-45d3-9867-9c8c998fa6e3">Linux 查看内存的频率：</h4>
<div class="outline-text-4" id="text-h:83309b4d-cdee-45d3-9867-9c8c998fa6e3">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# dmidecode|grep -A16 <span style="color: #8b2252;">"Memory Device"</span>|grep <span style="color: #8b2252;">'Speed'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:15fe3931-d51d-4da8-91f1-86b8d19b82e4" class="outline-4">
<h4 id="h:15fe3931-d51d-4da8-91f1-86b8d19b82e4">Linux 查看内存的详细信息：</h4>
<div class="outline-text-4" id="text-h:15fe3931-d51d-4da8-91f1-86b8d19b82e4">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# cat /proc/meminfo |head -20
MemTotal:       131897620 kB
MemFree:          414124 kB
Buffers:         1040560 kB
Cached:         111083180 kB
SwapCached:         1320 kB
Active:          7637912 kB
Inactive:       110607108 kB
<span style="color: #0000ff;">Active</span>(anon):    4406900 kB
<span style="color: #0000ff;">Inactive</span>(anon):  1714900 kB
<span style="color: #0000ff;">Active</span>(file):    3231012 kB
<span style="color: #0000ff;">Inactive</span>(file): 108892208 kB
Unevictable:    10878976 kB
Mlocked:         5521652 kB
SwapTotal:      16777212 kB
SwapFree:       16737536 kB
Dirty:               180 kB
Writeback:             0 kB
AnonPages:      16999324 kB
Mapped:           149020 kB
Shmem:               172 kB

jasper@debian:~$ lsmem 
RANGE                                 SIZE  STATE REMOVABLE BLOCK
0x0000000000000000-0x000000007fffffff   2G online       yes  0-15

Memory block size:       128M
Total online memory:       2G
Total offline memory:      0B
</pre>
</div>
</div>
</div>
<div id="outline-container-h:fc3d07a8-9e14-48bb-adb7-31b8534a7383" class="outline-4">
<h4 id="h:fc3d07a8-9e14-48bb-adb7-31b8534a7383">Linux 查看内存的使用情况</h4>
<div class="outline-text-4" id="text-h:fc3d07a8-9e14-48bb-adb7-31b8534a7383">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# free -m    // -b,-k,-m,-g show output<span style="color: #a020f0;"> in</span> bytes, KB, MB, or GB
             total       used       free     shared    buffers     cached
Mem:        128806     123407       5398          0       1015     103474
-/+ buffers/cache:      18918     109888
Swap:        16383         38      16345
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:78082cec-9d7c-4cf9-aab8-2e4f982ac2ef" class="outline-3">
<h3 id="h:78082cec-9d7c-4cf9-aab8-2e4f982ac2ef">查看硬盘信息</h3>
<div class="outline-text-3" id="text-h:78082cec-9d7c-4cf9-aab8-2e4f982ac2ef">
</div>
<div id="outline-container-h:3c8fc8d6-ae5e-4a63-9438-aa9863a9a520" class="outline-4">
<h4 id="h:3c8fc8d6-ae5e-4a63-9438-aa9863a9a520">查看硬盘型号</h4>
<div class="outline-text-4" id="text-h:3c8fc8d6-ae5e-4a63-9438-aa9863a9a520">
<div class="org-src-container">
<pre class="src src-sh">cat /proc/scsi/scsi |grep -i model

</pre>
</div>

<p>
Ubunut-硬盘寿命
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">00.&#23433;&#35013;</span>
apt-get install smartmontools

<span style="color: #b22222;">#</span><span style="color: #b22222;">01.&#30828;&#30424;&#23551;&#21629;&#65306;</span>
sudo smartctl -a /dev/sda |grep Load_Cycle_Count
193 Load_Cycle_Count  0x0032  096  096  000  Old_age   Always  -  8378

&#36890;&#24120;&#65292;&#30828;&#30424;&#21046;&#36896;&#21830;&#35268;&#23450;&#30340;Load_Cycle_Count&#25968;&#30446;&#19978;&#38480;&#26159;600,000&#27425;&#65292;
&#35201;&#26159;&#36229;&#36807;300,000&#27425;&#23601;&#20250;&#24433;&#21709;&#21040;&#27491;&#24120;&#30340;&#35835;&#20889;&#65292;&#20877;&#22810;&#30340;&#35805;&#23601;&#24046;&#19981;&#22810;&#35201;&#25253;&#24223;&#20102;

<span style="color: #b22222;">#</span><span style="color: #b22222;">02.&#30828;&#30424;&#30340;&#36890;&#30005;&#26102;&#38388;&#65306;</span>
~$ sudo smartctl -a /dev/sda |grep Power_On_Hours
9 Power_On_Hours  0x0032  098   098   000   Old_age   Always  -  2040

Power_On_Hours&#26159;&#30828;&#30424;&#30340;&#36890;&#30005;&#26102;&#38388;&#65292;2040&#23567;&#26102;&#65307;
1&#22825;24&#23567;&#26102; <span style="color: #a0522d;">2040&#23567;&#26102;&#38500;&#20197;24&#23567;&#26102;</span>= 85&#22825;

Windows&#19978;&#21487;&#20197;&#29992;Everest&#25110;&#32773;HD Tune Pro&#26597;&#30475;Load_Cycle_Count
</pre>
</div>

<p>
相关参数介绍:<a href="http://zh.wikipedia.org/wiki/S.M.A.R.T">http://zh.wikipedia.org/wiki/S.M.A.R.T</a>.
</p>
</div>
</div>
<div id="outline-container-h:c12e2e51-c238-4a84-b87d-369ef0d21076" class="outline-4">
<h4 id="h:c12e2e51-c238-4a84-b87d-369ef0d21076">查看挂接的分区状态</h4>
<div class="outline-text-4" id="text-h:c12e2e51-c238-4a84-b87d-369ef0d21076">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# fdisk -l |grep Disk
</pre>
</div>
</div>
</div>
<div id="outline-container-h:da77f583-b6d2-45a5-99f0-cc2f3c0942bc" class="outline-4">
<h4 id="h:da77f583-b6d2-45a5-99f0-cc2f3c0942bc">查看硬盘和分区分布</h4>
<div class="outline-text-4" id="text-h:da77f583-b6d2-45a5-99f0-cc2f3c0942bc">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# lsblk
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
sda      8:0    0 279.4G  0 disk 
&#9500;&#9472;sda1   8:1    0    50M  0 part /boot
&#9500;&#9472;sda2   8:2    0   100G  0 part /
&#9500;&#9472;sda3   8:3    0    50G  0 part /home
&#9500;&#9472;sda4   8:4    0     1K  0 part 
&#9500;&#9472;sda5   8:5    0    16G  0 part [SWAP]
&#9500;&#9472;sda6   8:6    0  13.3G  0 part /tmp
&#9492;&#9472;sda7   8:7    0   100G  0 part /usr
sdb      8:16   0  83.7T  0 disk 
&#9492;&#9472;sdb1   8:17   0  83.7T  0 part /PureDisk
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e76a1b7a-4cac-4952-a8e8-661349631299" class="outline-4">
<h4 id="h:e76a1b7a-4cac-4952-a8e8-661349631299">查看硬盘和分区的详细信息</h4>
<div class="outline-text-4" id="text-h:e76a1b7a-4cac-4952-a8e8-661349631299">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# fdisk -l           

Disk /dev/sda: 300.0 GB, 299966445568 bytes
255 heads, 63 sectors/track, 36468 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 262144 bytes / 262144 bytes
Disk identifier: 0x000384d9

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1           7       51200   83  Linux
Partition 1 does not end on cylinder boundary.
/dev/sda2               7       13061   104857600   83  Linux
/dev/sda3           13061       19588    52428800   83  Linux
/dev/sda4           19588       36469   135597056    5  Extended
/dev/sda5           19588       21677    16777216   82  Linux swap / Solaris
/dev/sda6           21677       23415    13962240   83  Linux
/dev/sda7           23416       36469   104854528   83  Linux

WARNING: GPT (GUID Partition Table) detected on <span style="color: #8b2252;">'/dev/sdb'</span>! The util fdisk doesn<span style="color: #8b2252;">'t support GPT. Use GNU Parted.</span>


<span style="color: #8b2252;">Disk /dev/sdb: 92017.3 GB, 92017310654464 bytes</span>
<span style="color: #8b2252;">255 heads, 63 sectors/track, 11187134 cylinders</span>
<span style="color: #8b2252;">Units = cylinders of 16065 * 512 = 8225280 bytes</span>
<span style="color: #8b2252;">Sector size (logical/physical): 512 bytes / 512 bytes</span>
<span style="color: #8b2252;">I/O size (minimum/optimal): 262144 bytes / 6029312 bytes</span>
<span style="color: #8b2252;">Disk identifier: 0x00000000</span>

<span style="color: #8b2252;">   Device Boot      Start         End      Blocks   Id  System</span>
<span style="color: #8b2252;">/dev/sdb1               1      267350  2147483647+  ee  GPT</span>
<span style="color: #8b2252;">Partition 1 does not start on physical sector boundary.</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6b124966-e763-4278-99a7-0f8f492a3523" class="outline-4">
<h4 id="h:6b124966-e763-4278-99a7-0f8f492a3523">查看挂接的分区状态</h4>
<div class="outline-text-4" id="text-h:6b124966-e763-4278-99a7-0f8f492a3523">
<div class="org-src-container">
<pre class="src src-sh">
[root@Master ~]# mount | column -t
/dev/sda2  on  /                         type  ext4         (rw)
proc       on  /proc                     type  proc         (rw)
sysfs      on  /sys                      type  sysfs        (rw)
devpts     on  /dev/pts                  type  devpts       (rw,<span style="color: #a0522d;">gid</span>=5,<span style="color: #a0522d;">mode</span>=620)
tmpfs      on  /dev/shm                  type  tmpfs        (rw)
/dev/sda1  on  /boot                     type  ext4         (rw)
/dev/sda3  on  /home                     type  ext4         (rw)
/dev/sda6  on  /tmp                      type  ext4         (rw)
/dev/sda7  on  /usr                      type  ext4         (rw)
/dev/sdb1  on  /PureDisk                 type  ext4         (rw)
none       on  /proc/sys/fs/binfmt_misc  type  binfmt_misc  (rw
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7f1fa0db-d77d-4bb5-8662-c18752a6ea86" class="outline-4">
<h4 id="h:7f1fa0db-d77d-4bb5-8662-c18752a6ea86">查看挂接的分区状态</h4>
<div class="outline-text-4" id="text-h:7f1fa0db-d77d-4bb5-8662-c18752a6ea86">
<div class="org-src-container">
<pre class="src src-sh">[root@centos8 ~]#lsblk
NAME  MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
sda    8:0   0 200G  0 disk
&#9500;&#9472;sda1  8:1   0  1G  0 part /boot
&#9500;&#9472;sda2  8:2   0 100G  0 part /
&#9500;&#9472;sda3  8:3   0  50G  0 part /data
&#9500;&#9472;sda4  8:4   0  1K  0 part
&#9492;&#9472;sda5  8:5   0  2G  0 part [SWAP]
sr0   11:0   1  7G  0 rom 

[root@centos8 ~]#cat /proc/partitions
major minor  <span style="color: #b22222;">#</span><span style="color: #b22222;">blocks name</span>
 8     0  209715200 sda
 8     1   1048576 sda1
 8     2  104857600 sda2
 8     3  52428800 sda3
 8     4      1 sda4
 8     5   2097152 sda5
 11     0   7377920 sr

[root@Master ~]# swapon -s   
Filename                                Type            Size    Used    Priority
/dev/sda5                               partition       16777212        39676   -1
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1c42aaa2-4276-4288-9bdc-77a20c83048b" class="outline-4">
<h4 id="h:1c42aaa2-4276-4288-9bdc-77a20c83048b">查看硬盘使用情况</h4>
<div class="outline-text-4" id="text-h:1c42aaa2-4276-4288-9bdc-77a20c83048b">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# df -hT
Filesystem     Type   Size  Used Avail Use% Mounted on
/dev/sda2      ext4    99G  561M   93G   1% /
tmpfs          tmpfs   63G   76K   63G   1% /dev/shm
/dev/sda1      ext4    45M   38M  4.9M  89% /boot
/dev/sda3      ext4    50G   52M   47G   1% /home
/dev/sda6      ext4    13G   34M   13G   1% /tmp
/dev/sda7      ext4    99G   21G   73G  23% /usr
/dev/sdb1      ext4    84T   41T   40T  51% /PureDisk
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0f00ffbf-aaea-49fc-b620-bbf950b5054e" class="outline-4">
<h4 id="h:0f00ffbf-aaea-49fc-b620-bbf950b5054e">硬盘检测命令smartctl</h4>
<div class="outline-text-4" id="text-h:0f00ffbf-aaea-49fc-b620-bbf950b5054e">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# smartctl -a /dev/sda
smartctl 5.43 2012-06-30 r3573 [x86_64-linux-2.6.32-642.el6.x86_64] (<span style="color: #483d8b;">local</span> build)
<span style="color: #0000ff;">Copyright</span> (C) 2002-12 by Bruce Allen, http://smartmontools.sourceforge.net

Vendor:               HP      
Product:              LOGICAL VOLUME  
Revision:             3.56
User Capacity:        299,966,445,568 bytes [299 GB]
Logical block size:   512 bytes
Logical Unit id:      0x600508b1001cc8a1b9ec4dacc5ab35dc
Serial number:        PDNNK0BRH9U0AG  
Device type:          disk
Local Time is:        Mon Feb  5 13:13:33 2018 CST
Device supports SMART and is Enabled
Temperature Warning Disabled or Not Supported
SMART Health Status: OK

Error Counter logging not supported
Device does not support Self Test logging
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7e8060a4-d904-4d0a-b931-04af2c0edfb1" class="outline-4">
<h4 id="h:7e8060a4-d904-4d0a-b931-04af2c0edfb1">硬盘坏道检测</h4>
<div class="outline-text-4" id="text-h:7e8060a4-d904-4d0a-b931-04af2c0edfb1">
<p>
badblocks坏道检测
</p>

<p>
badblock命令用于查找磁盘中损坏的区块，是一个很好的检查坏道位置的工具。
</p>

<div class="org-src-container">
<pre class="src src-sh">&#35821;&#27861;&#65306; badblock (&#36873;&#39033;) (&#21442;&#25968;)

&#36873;&#39033; -b&#65306;&#25351;&#23450;&#30913;&#30424;&#30340;&#21306;&#22359;&#22823;&#23567;&#65292;&#21333;&#20301;&#20026;&#23383;&#33410;&#65307;
-o&#65306;&#23558;&#26816;&#26597;&#30340;&#32467;&#26524;&#20889;&#20837;&#25351;&#23450;&#30340;&#36755;&#20986;&#25991;&#20214;&#65307; -s&#65306;&#22312;&#26816;&#26597;&#26102;&#26174;&#31034;&#36827;&#24230;&#65307;
-v&#65306;&#25191;&#34892;&#26102;&#26174;&#31034;&#35814;&#32454;&#30340;&#20449;&#24687;&#65307; -w&#65306;&#22312;&#26816;&#26597;&#26102;&#65292;&#25191;&#34892;&#20889;&#20837;&#27979;&#35797;&#12290;
-c&#65306;&#25351;&#23450;&#26816;&#26597;&#27425;&#25968;&#12290;

&#21442;&#25968; &#30913;&#30424;&#35013;&#32622;&#65306;&#25351;&#23450;&#35201;&#26816;&#26597;&#30340;&#30913;&#30424;&#35013;&#32622;&#65307;
&#30913;&#30424;&#21306;&#22359;&#25968;&#65306;&#25351;&#23450;&#30913;&#30424;&#35013;&#32622;&#30340;&#21306;&#22359;&#24635;&#25968;&#65307;
&#21551;&#22987;&#21306;&#22359;&#65306;&#25351;&#23450;&#35201;&#20174;&#21738;&#20010;&#21306;&#22359;&#24320;&#22987;&#26816;&#26597;&#12290;
</pre>
</div>

<p>
扫描硬盘的损坏扇区或区块
</p>

<div class="org-src-container">
<pre class="src src-sh">badblocks -s -v /dev/sdb &gt; /tmp/bad-blocks.txt
</pre>
</div>

<p>
<a href="https://www.leolan.top/index.php/posts/73.html">https://www.leolan.top/index.php/posts/73.html</a>
</p>
</div>
</div>
</div>
<div id="outline-container-h:e37c937a-1b0a-4dd3-9cf4-51ce4f1d5603" class="outline-3">
<h3 id="h:e37c937a-1b0a-4dd3-9cf4-51ce4f1d5603">查看网卡信息</h3>
<div class="outline-text-3" id="text-h:e37c937a-1b0a-4dd3-9cf4-51ce4f1d5603">
</div>
<div id="outline-container-h:23859d43-aa9b-42b4-ab2e-d79fa2359352" class="outline-4">
<h4 id="h:23859d43-aa9b-42b4-ab2e-d79fa2359352">查看网卡硬件信息</h4>
<div class="outline-text-4" id="text-h:23859d43-aa9b-42b4-ab2e-d79fa2359352">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]#  lspci | grep -i <span style="color: #8b2252;">'eth'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ece2843e-74a6-493c-b475-a66da12153da" class="outline-4">
<h4 id="h:ece2843e-74a6-493c-b475-a66da12153da">查看系统的所有网络接口</h4>
<div class="outline-text-4" id="text-h:ece2843e-74a6-493c-b475-a66da12153da">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# ifconfig -a
[root@Master ~]# ip link show
</pre>
</div>
</div>
</div>
<div id="outline-container-h:245f2600-29ee-4147-bfdb-cc48e4d80b57" class="outline-4">
<h4 id="h:245f2600-29ee-4147-bfdb-cc48e4d80b57">查看某个网络接口的详细信息，例如eth0的详细参数和指标</h4>
<div class="outline-text-4" id="text-h:245f2600-29ee-4147-bfdb-cc48e4d80b57">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# ethtool eth0
Settings for eth0:
        Supported ports: [ FIBRE ]
        Supported link modes:   10000baseT/Full 
        Supported pause frame use: No
        Supports auto-negotiation: No
        Advertised link modes:  10000baseT/Full 
        Advertised pause frame use: No
        Advertised auto-negotiation: No
        Speed: 10000Mb/s
        Duplex: Full
        Port: FIBRE
        PHYAD: 0
        Transceiver: external
        Auto-negotiation: off
        Supports Wake-on: d
        Wake-on: d
        Current message level: 0x00000007 (7)
                               drv probe link
        Link detected: yes
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7435e6ce-101f-4536-8656-a65480db886c" class="outline-4">
<h4 id="h:7435e6ce-101f-4536-8656-a65480db886c">查看所有网卡的链路状态</h4>
<div class="outline-text-4" id="text-h:7435e6ce-101f-4536-8656-a65480db886c">
<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# for i<span style="color: #a020f0;"> in</span> <span style="color: #ff00ff;">`seq 0 9`</span>;<span style="color: #a020f0;">do</span> ethtool eth${<span style="color: #a0522d;">i</span>} | egrep <span style="color: #8b2252;">'eth|Link'</span>;<span style="color: #a020f0;">done</span>
Settings for eth0:
        Link detected: yes   
Settings for eth1:
        Link detected: yes
Settings for eth2:
        Link detected: no
Settings for eth3:
        Link detected: no
Settings for eth4:
        Link detected: no
Settings for eth5:
        Link detected: no
Settings for eth6:
        Link detected: no
Settings for eth7:
        Link detected: no
Settings for eth8:
        Link detected: no
Settings for eth9:
        Link detected: no
</pre>
</div>

<p>
​### 六、列出所有PCI设备信息
</p>

<div class="org-src-container">
<pre class="src src-sh">[root@Master ~]# lspci -tv | more
-+-[0000:ff]-+-08.0  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 QPI Link 0
 |           +-08.3  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 QPI Link 0
 |           +-09.0  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 QPI Link 1
 |           +-09.3  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 QPI Link 1
 |           +-0b.0  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 R3 QPI Link 0 &amp; 1 Monitoring
 |           +-0b.1  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 R3 QPI Link 0 &amp; 1 Monitoring
 |           +-0b.2  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 R3 QPI Link 0 &amp; 1 Monitoring
 |           +-0c.0  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.1  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.2  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.3  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.4  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.5  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.6  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0c.7  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0d.0  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0d.1  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Unicast Registers
 |           +-0f.0  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Buffered Ring Agent
 |           +-0f.1  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Buffered Ring Agent
 |           +-0f.2  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Buffered Ring Agent
 |           +-0f.3  Intel Corporation Xeon E7 v3/Xeon E5 v3/Core i7 Buffered Ring Agent
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:05599843-6f05-4326-b2cd-9c4362dce8cc" class="outline-3">
<h3 id="h:05599843-6f05-4326-b2cd-9c4362dce8cc">系统版本</h3>
<div class="outline-text-3" id="text-h:05599843-6f05-4326-b2cd-9c4362dce8cc">
</div>
<div id="outline-container-h:ef935c15-74e0-44fc-adfb-3b12a7f0b888" class="outline-4">
<h4 id="h:ef935c15-74e0-44fc-adfb-3b12a7f0b888">查看内核版本</h4>
<div class="outline-text-4" id="text-h:ef935c15-74e0-44fc-adfb-3b12a7f0b888">
<div class="org-src-container">
<pre class="src src-sh">cat /proc/version
uname -a
uname -mrs
rpm -q kernel
dmesg | grep Linux
ls /boot | grep vmlinuz-
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b" class="outline-4">
<h4 id="h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b">查看操作系统发行版本</h4>
<div class="outline-text-4" id="text-h:cc4a0e32-221d-4ead-b0f5-f7fb94ab230b">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">CentOS8 &#26597;&#30475;&#21457;&#34892;&#29256;&#26412;</span>
[root@centos8 ~]#cat /etc/redhat-release
CentOS Linux release 8.1.1911 (Core)

[root@centos8 ~]#cat /etc/os-release
<span style="color: #a0522d;">NAME</span>=<span style="color: #8b2252;">"CentOS Linux"</span>
<span style="color: #a0522d;">VERSION</span>=<span style="color: #8b2252;">"8 (Core)"</span>
<span style="color: #a0522d;">ID</span>=<span style="color: #8b2252;">"centos"</span>
<span style="color: #a0522d;">ID_LIKE</span>=<span style="color: #8b2252;">"rhel fedora"</span>
<span style="color: #a0522d;">VERSION_ID</span>=<span style="color: #8b2252;">"8"</span>
<span style="color: #a0522d;">PLATFORM_ID</span>=<span style="color: #8b2252;">"platform:el8"</span>
<span style="color: #a0522d;">PRETTY_NAME</span>=<span style="color: #8b2252;">"CentOS Linux 8 (Core)"</span>
<span style="color: #a0522d;">ANSI_COLOR</span>=<span style="color: #8b2252;">"0;31"</span>
<span style="color: #a0522d;">CPE_NAME</span>=<span style="color: #8b2252;">"cpe:/o:centos:centos:8"</span>
<span style="color: #a0522d;">HOME_URL</span>=<span style="color: #8b2252;">"https://www.centos.org/"</span>
<span style="color: #a0522d;">BUG_REPORT_URL</span>=<span style="color: #8b2252;">"https://bugs.centos.org/"</span>


<span style="color: #b22222;"># </span><span style="color: #b22222;">yum provides lsb_release</span>
redhat-lsb-core-4.1-27.el7.centos.1.i686 : LSB Core module support
Repo        : base
Matched from:
Filename    : /usr/bin/lsb_release

<span style="color: #b22222;"># </span><span style="color: #b22222;">yum install redhat-lsb-core -y</span>

[root@centos8 ~]#lsb_release -a 
LSB Version: :core-4.1-amd64:core-4.1-noarch
Distributor ID: CentOS
Description: CentOS Linux release 8.1.1911 (Core)
Release: 8.1.1911
Codename: Core
[root@centos8 ~]#

<span style="color: #b22222;">#</span><span style="color: #b22222;">ubuntu&#26597;&#30475;&#21457;&#34892;&#29256;&#26412;</span>
[root@ubuntu1804 ~]#cat /etc/os-release
<span style="color: #a0522d;">NAME</span>=<span style="color: #8b2252;">"Ubuntu"</span>
<span style="color: #a0522d;">VERSION</span>=<span style="color: #8b2252;">"18.04.1 LTS (Bionic Beaver)"</span>
<span style="color: #a0522d;">ID</span>=ubuntu
<span style="color: #a0522d;">ID_LIKE</span>=debian
<span style="color: #a0522d;">PRETTY_NAME</span>=<span style="color: #8b2252;">"Ubuntu 18.04.1 LTS"</span>
<span style="color: #a0522d;">VERSION_ID</span>=<span style="color: #8b2252;">"18.04"</span>
<span style="color: #a0522d;">HOME_URL</span>=<span style="color: #8b2252;">"https://www.ubuntu.com/"</span>
<span style="color: #a0522d;">SUPPORT_URL</span>=<span style="color: #8b2252;">"https://help.ubuntu.com/"</span>
<span style="color: #a0522d;">BUG_REPORT_URL</span>=<span style="color: #8b2252;">"https://bugs.launchpad.net/ubuntu/"</span>
<span style="color: #a0522d;">PRIVACY_POLICY_URL</span>=<span style="color: #8b2252;">"https://www.ubuntu.com/legal/terms-and-policies/privacy-</span>
<span style="color: #8b2252;">policy"</span>
<span style="color: #a0522d;">VERSION_CODENAME</span>=bionic
<span style="color: #a0522d;">UBUNTU_CODENAME</span>=bionic


[root@ubuntu1804 ~]#cat /etc/issue
Ubuntu 18.04.1 LTS \n \l

[root@ubuntu1804 ~]#lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description: Ubuntu 18.04.1 LTS
Release: 18.04
Codename: bionic
[root@ubuntu1804 ~]#
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:d1e73603-189b-4004-9233-321514a68587" class="outline-2">
<h2 id="h:d1e73603-189b-4004-9233-321514a68587">CPU</h2>
<div class="outline-text-2" id="text-h:d1e73603-189b-4004-9233-321514a68587">
</div>
<div id="outline-container-h:0db93f6f-c455-4c11-a01a-37c7987f491b" class="outline-3">
<h3 id="h:0db93f6f-c455-4c11-a01a-37c7987f491b">CPU性能测试</h3>
<div class="outline-text-3" id="text-h:0db93f6f-c455-4c11-a01a-37c7987f491b">
</div>
<div id="outline-container-h:162545c2-2f4a-4163-979d-1d819dd267b5" class="outline-4">
<h4 id="h:162545c2-2f4a-4163-979d-1d819dd267b5">通过bc命令计算特别函数</h4>
<div class="outline-text-4" id="text-h:162545c2-2f4a-4163-979d-1d819dd267b5">
<p>
例：计算圆周率
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"scale=5000; 4*a(1)"</span> | bc -l -q
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3c8c37ee-40a9-4f67-90d2-40e01400d695" class="outline-4">
<h4 id="h:3c8c37ee-40a9-4f67-90d2-40e01400d695">工具二：Super Pi for linux</h4>
<div class="outline-text-4" id="text-h:3c8c37ee-40a9-4f67-90d2-40e01400d695">
<p>
Super PI是利用CPU的浮点运算能力来计算出π（圆周率），所以目前普遍被超频玩家用做测试系统稳定性和测试CPU计算完后特定位数圆周率所需的时间。
</p>

<p>
<a href="http://www.super-computing.org/">http://www.super-computing.org/</a>
</p>

<p>
下载页：<a href="ftp://pi.super-computing.org/">ftp://pi.super-computing.org/</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">wget ftp://pi.super-computing.org/Linux/super_pi.tar.gz
tar -xzvf super_pi.tar.gz
./super_pi 20
</pre>
</div>

<p>
20为位数。表示要算2的多少次方位，如通常要算小数点后1M位。
</p>
</div>
</div>
</div>
</section>
<section id="outline-container-h:894926b2-dc0d-4dd7-962f-1a3fedec0e87" class="outline-2">
<h2 id="h:894926b2-dc0d-4dd7-962f-1a3fedec0e87">内存</h2>
<div class="outline-text-2" id="text-h:894926b2-dc0d-4dd7-962f-1a3fedec0e87">
</div>
<div id="outline-container-h:3a73e916-ee0f-4f43-88c1-762ee9b36974" class="outline-3">
<h3 id="h:3a73e916-ee0f-4f43-88c1-762ee9b36974">HP-DL380p gen8内存位置关系</h3>
<div class="outline-text-3" id="text-h:3a73e916-ee0f-4f43-88c1-762ee9b36974">
<div class="org-src-container">
<pre class="src src-sh">grep <span style="color: #8b2252;">"[0-9]"</span> /sys/devices/system/edac/mc/mc*/csrow*/ch*_ce_count
</pre>
</div>


<p>
<a href="https://www.cnblogs.com/luckyall/p/11225772.html">https://www.cnblogs.com/luckyall/p/11225772.html</a>
</p>

<p>
count不为0的行即代表存在内存错误。
</p>



<figure id="orgd99a3be">
<img src="https://raw.githubusercontent.com/jaspervincent/webimage/master/linux/stability/testing/images/img_20241023_022927.png" alt="img_20241023_022927.png" width="100%">

</figure>
</div>
</div>
<div id="outline-container-h:d859787f-e2ca-4add-835e-28a42d9b4efe" class="outline-3">
<h3 id="h:d859787f-e2ca-4add-835e-28a42d9b4efe">工具：memtester</h3>
<div class="outline-text-3" id="text-h:d859787f-e2ca-4add-835e-28a42d9b4efe">
<p>
官方：<a href="http://pyropus.ca/software/memtester/">http://pyropus.ca/software/memtester/</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">wget http://pyropus.ca/software/memtester/old-versions/memtester-4.3.0.tar.gz
tar -xzvf memtester-4.3.0.tar.gz
<span style="color: #483d8b;">cd</span> memtester-4.3.0
make &amp;&amp; make install
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">&#29992;&#27861;&#65306;Usage: ./memtester [-p physaddrbase [-d device]] &lt;mem&gt;[B|K|M|G] [loops]
&#20363;&#65306;memtester 1G 5
</pre>
</div>

<p>
内存压力测试工具：memtester
</p>

<p>
使用方法：memtester 32G 1 测试32G的内存1次
</p>

<p>
cpu压力测试工具：cpuburn
</p>

<div class="org-src-container">
<pre class="src src-sh">wget https://cdn.pmylund.com/files/tools/cpuburn/linux/cpuburn-1.0-amd64.tar.gz
tar xf cpuburn-1.0-amd64.tar.gz
<span style="color: #483d8b;">cd</span> cpuburn

./cpuburn -n 2 -u 100 &#24320;&#21551;2&#20010;&#32447;&#31243; &#27979;&#35797;&#26102;&#38388;100&#31186;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:706da2a1-1519-4469-9d6b-f507da644cfd" class="outline-3">
<h3 id="h:706da2a1-1519-4469-9d6b-f507da644cfd">内存测试memtest86</h3>
<div class="outline-text-3" id="text-h:706da2a1-1519-4469-9d6b-f507da644cfd">
<p>
<a href="https://access.redhat.com/solutions/15693">https://access.redhat.com/solutions/15693</a>
</p>
</div>
</div>
</section>
<section id="outline-container-h:8788db45-bfc5-422d-8483-98fe5422b1d2" class="outline-2">
<h2 id="h:8788db45-bfc5-422d-8483-98fe5422b1d2">硬盘</h2>
<div class="outline-text-2" id="text-h:8788db45-bfc5-422d-8483-98fe5422b1d2">
</div>
<div id="outline-container-h:6b4d74c8-9a81-417f-8ae3-e98d26669efa" class="outline-3">
<h3 id="h:6b4d74c8-9a81-417f-8ae3-e98d26669efa">查看linux raid情况</h3>
<div class="outline-text-3" id="text-h:6b4d74c8-9a81-417f-8ae3-e98d26669efa">
<div class="org-src-container">
<pre class="src src-sh">rpm -ivh MegaCli-8.07.14-1.noarch.rpm
</pre>
</div>


<pre class="example" id="orga03e913">
/opt/MegaRAID/MegaCli/MegaCli64 -LDInfo -LALL -aAll    【显示所有逻辑磁盘组信息】（查看磁盘是否开启回写、预读等提高性能的选项）
MegaCli常用参数介绍
/opt/MegaRAID/MegaCli/MegaCli64 -adpCount 【显示适配器个数】
/opt/MegaRAID/MegaCli/MegaCli64 -AdpGetTime -aALL 【显示适配器时间】
/opt/MegaRAID/MegaCli/MegaCli64 -AdpAllInfo -aAll     【显示所有适配器信息】(查看raid卡缓存Memory Size: 512MB)
/opt/MegaRAID/MegaCli/MegaCli64 -LDInfo -LALL -aAll    【显示所有逻辑磁盘组信息】（查看磁盘是否开启回写、预读等提高性能的选项）
/opt/MegaRAID/MegaCli/MegaCli64 -PDList -aAll    【显示所有的物理磁盘信息】
/opt/MegaRAID/MegaCli/MegaCli64 -AdpBbuCmd -GetBbuStatus -aALL |grep 'Charger Status' 【查看充电状态】（有些raid卡电量要在50%以上才能开启上面的那些参数）
/opt/MegaRAID/MegaCli/MegaCli64 -AdpBbuCmd -GetBbuStatus -aALL【显示BBU状态信息】
/opt/MegaRAID/MegaCli/MegaCli64 -AdpBbuCmd -GetBbuCapacityInfo -aALL【显示BBU容量信息】
/opt/MegaRAID/MegaCli/MegaCli64 -AdpBbuCmd -GetBbuDesignInfo -aALL    【显示BBU设计参数】
/opt/MegaRAID/MegaCli/MegaCli64 -AdpBbuCmd -GetBbuProperties -aALL    【显示当前BBU属性】
/opt/MegaRAID/MegaCli/MegaCli64 -cfgdsply -aALL    【raid卡的适配器编号，显示Raid卡型号，Raid设置，Disk相关信息】
</pre>

<div class="org-src-container">
<pre class="src src-sh">&#21019;&#24314;raid 0
/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r0 [22:2] -WB -RA -Cached -Cachedbadbbu -strpsz1024 -a0
&#36825;&#37324;&#38656;&#35201;&#26681;&#25454;/opt/MegaRAID/MegaCli/MegaCli64 -PDList -aAll&#30340;Enclosure Device ID: 22&#21644;Slot Number: 13&#26469;&#30830;&#23450;
-strpsz1024 &#35774;&#32622;&#26465;&#24102;&#22823;&#23567;&#20026;1024K&#21363;1M&#65292;&#27880;&#24847;&#21333;&#20301;&#20026;KB



&#26597;&#30475;&#30913;&#30424;&#32531;&#23384;&#26159;&#21542;&#25171;&#24320;
/opt/MegaRAID/MegaCli/MegaCli64 -LDInfo -LALL -aAll|grep <span style="color: #8b2252;">"Disk Cache Policy"</span>

&#35774;&#32622;&#30913;&#30424;&#32531;&#23384;&#65288;Disk Cache&#65289;&#65306;
&#25171;&#24320;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp EnDskCache -LAll -aAll 
&#20851;&#38381;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp DisDskCache -LAll -aAll

&#35774;&#32622;&#35835;&#21462;&#31574;&#30053;&#65288;ReadAhead&#65289;&#65306;##Default Cache Policy: WriteBack, ReadAhead, Cached, No Write Cache if Bad BBU##
&#25171;&#24320;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp RA -LALL -aALL

&#35774;&#32622;&#35835;&#21462;&#32531;&#23384;&#65306;
&#25171;&#24320;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp -Cached -LAll -aAll
&#20851;&#38381;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp -Direct -LAll -aAll

&#35774;&#32622;&#20889;&#32531;&#23384;&#65288;write cache&#65289;&#65292;&#19968;&#23450;&#35201;&#27880;&#24847;&#65292;&#20889;&#32531;&#23384;&#21487;&#33021;&#23548;&#33268;&#25968;&#25454;&#20002;&#22833;&#65292;&#26377;&#30005;&#27744;&#65288;BBU&#65289;&#30340;&#24773;&#20917;&#19979;&#21487;&#20197;&#24320;&#21551;&#65306;
&#25171;&#24320;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp WB -LALL -aALL
&#20851;&#38381;&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp WT -LALL -aALL

&#35774;&#32622;&#30005;&#27744;BBU&#29366;&#24577;
&#24320;&#21551;WB&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp CachedBadBBU -LALL -aALL
&#20851;&#38381;WB&#65306;/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp NoCachedBadBBU -LALL -aALL

&#26597;&#30475;&#30005;&#27744;&#29366;&#24577;&#65306;
/opt/MegaRAID/MegaCli/MegaCli64 -AdpBbuCmd -GetBbuStatus -a0
&#27491;&#24120;
Charging Status              : Charging &#25110;&#32773; NONE
&#19981;&#27491;&#24120;
Charging Status              : discharging


&#26597;&#30475;&#27599;&#20010;raid&#26465;&#24102;&#22823;&#23567;
/opt/MegaRAID/MegaCli/MegaCli64 -cfgdsply -aALL | grep <span style="color: #8b2252;">"Strip Size"</span>

&#21019;&#24314;raid 0
/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r0 [22:2] -WB -RA -Cached -Cachedbadbbu -strpsz1024 -a0
&#36825;&#37324;&#38656;&#35201;&#26681;&#25454;/opt/MegaRAID/MegaCli/MegaCli64 -PDList -aAll&#30340;Enclosure Device ID: 22&#21644;Slot Number: 13&#26469;&#30830;&#23450;
-strpsz1024 &#35774;&#32622;&#26465;&#24102;&#22823;&#23567;&#20026;1024K&#21363;1M&#65292;&#27880;&#24847;&#21333;&#20301;&#20026;KB
/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r5 [32:2,32:3,32:4,32:5,32:6,32:7,32:8,32:9,32:10] -WB -RA -Cached -strpsz1024 &#8211;a0

<span style="color: #a020f0;">for</span> i<span style="color: #a020f0;"> in</span> <span style="color: #ff00ff;">`seq 1 12`</span> ; <span style="color: #a020f0;">do</span> /opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r0 [22:${<span style="color: #a0522d;">i</span>}] -WB -RA -Cached  -Cachedbadbbu -strpsz1024 -a0; <span style="color: #a020f0;">done</span>

&#21024;&#38500;raid
/opt/MegaRAID/MegaCli/MegaCli64 -LDInfo -LALL -aAll
Adapter 0 -- Virtual Drive Information:
Virtual Drive: 0 (Target Id: 0)
&#8230;&#8230;&#30465;&#30053;&#8230;&#8230;

Virtual Drive: 1 (Target Id: 1)
&#8230;&#8230;&#30465;&#30053;&#8230;&#8230;

&#21024;&#38500;Adapter 0&#65288;&#21361;&#38505;&#65289;
/opt/MegaRAID/MegaCli/MegaCli64 -cfgclr  -a0

&#21024;&#38500;Adapter 0&#19979;&#30340;Virtual Drive: 1
/opt/MegaRAID/MegaCli/MegaCli64 -cfglddel -L1 -a0
/opt/MegaRAID/MegaCli/MegaCli64 -cfglddel -L3 -force -a0
</pre>
</div>


<p>
热备盘管理
</p>

<div class="org-src-container">
<pre class="src src-sh">MegaCli64 -PDHSP  -Set -Dedicated  -Array1   -EnclAffinity  -nonRevertible  -PhysDrv  [32:3] &#8211;aALL                &#35774;&#32622;ID3&#30828;&#30424;&#20026;&#36923;&#36753;&#30913;&#30424;&#32452;1&#30340;&#29420;&#31435;&#28909;&#22791;&#30424;

./MegaCli64 -PDHSP  -Set  -EnclAffinity  -nonRevertible  -PhysDrv [32:3] -a0   &#35774;&#32622;ID3&#30828;&#30424;&#20026;&#20840;&#23616;&#28909;&#22791;&#30424;

./MegaCli64 -PDHSP  -Rmv -PhysDrv  [32:3] &#8211;aALL    &#21024;&#38500;&#28909;&#22791;&#30424;ID3
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d1e05dca-ee3a-4d10-bc0d-605044406fb9" class="outline-3">
<h3 id="h:d1e05dca-ee3a-4d10-bc0d-605044406fb9">硬盘性能测试</h3>
<div class="outline-text-3" id="text-h:d1e05dca-ee3a-4d10-bc0d-605044406fb9">
<p>
FIO测试
</p>
<ul class="org-ul">
<li>阿里：<a href="https://help.aliyun.com/document_detail/147897.html">https://help.aliyun.com/document_detail/147897.html</a></li>
<li>腾讯：<a href="https://cloud.tencent.com/document/product/362/6741">https://cloud.tencent.com/document/product/362/6741</a></li>
</ul>
</div>
<div id="outline-container-h:bea055f1-5bc8-45b8-8ae0-8da5fb3c54d4" class="outline-4">
<h4 id="h:bea055f1-5bc8-45b8-8ae0-8da5fb3c54d4">基础检测方法</h4>
<div class="outline-text-4" id="text-h:bea055f1-5bc8-45b8-8ae0-8da5fb3c54d4">
<p>
<b>dd命令</b>
</p>

<p>
dd命令功能很简单，就是从一个源读取数据以bit级的形式写到一个目标地址，
通过这种方式我们就可以检测我们实际磁盘在linux系统中的读写性能，不需要
经过任何检测软件而就是去读取数据，一般来讲用dd来检测磁盘的性能也被认为
是最接近真实情况。
</p>

<p>
用法：dd if[数据从哪里读取，一般来讲从dev下的zero设备，这个设备不断返
回0作为数据源] of[把读取的文件写入哪个文件] bs[block size，每次读写基
本快的大小] count[总共读写多少个bs] conv=fdatasync[在linux中有很强的内
存缓存机制，为了提高系统性能，linux会大量使用内存作为硬盘读写缓存，所
以这里用这个参数来保证数据是直接写入硬盘]
</p>

<p>
示例：
</p>
<div class="org-src-container">
<pre class="src src-sh">dd <span style="color: #a0522d;">if</span>=/dev/zero <span style="color: #a0522d;">of</span>=testfile <span style="color: #a0522d;">bs</span>=1M <span style="color: #a0522d;">count</span>=512 <span style="color: #a0522d;">conv</span>=fdatasync
&#22312;&#25105;&#30340;&#34394;&#25311;&#26426;&#19978;&#32467;&#26524;&#22914;&#19979;&#65306;

[root@localhost ~]# dd <span style="color: #a0522d;">if</span>=/dev/zero <span style="color: #a0522d;">of</span>=testfile <span style="color: #a0522d;">bs</span>=1M <span style="color: #a0522d;">count</span>=512 <span style="color: #a0522d;">conv</span>=fdatasync
512+0 records<span style="color: #a020f0;"> in</span>
512+0 records out
536870912 bytes (537 MB) copied, 19.6677 s, 27.3 MB/s
</pre>
</div>
<p>
一般建议多次运行这个命令取平均值，在每次执行上面的命令前，建议用下面的命令来清除缓存：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> 3 &gt; /proc/sys/vm/drop_caches
</pre>
</div>

<p>
通过dd命令测试往往不是很严谨也不是很科学，因为可能会受cpu使用率和后台服务影响。
</p>

<p>
<b>hdparm命令</b>
</p>

<p>
hdparm命令专门用来去获取修改测试磁盘信息。hdparm必须在管理员权限下运行。
</p>

<p>
用法：hdparm -t 要测试的磁盘
</p>

<p>
示例：
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">hdparm -t /dev/sda</span>
&#32467;&#26524;&#65306;
[root@localhost ~]# hdparm -t /dev/sda
/dev/sda:
Timing buffered disk reads: 444 MB<span style="color: #a020f0;"> in</span>  3.01 seconds = 147.35 MB/sec
[root@localhost ~]# hdparm -t /dev/sda
/dev/sda:
Timing buffered disk reads: 808 MB<span style="color: #a020f0;"> in</span>  3.00 seconds = 269.21 MB/sec
</pre>
</div>

<p>
可以看到两次运行结果差距比较大，所以建议多次运行取平均值。
</p>

<p>
读测试：
</p>
<div class="org-src-container">
<pre class="src src-sh">1.IO&#35835;
&#20027;&#35201;&#26159;I/O&#27979;&#35797;&#12290;&#36827;&#20837;linxu&#31995;&#32479;&#21518;&#20351;&#29992;&#30456;&#20851;&#21629;&#20196;&#26469;&#27979;&#35797;&#30828;&#30424;&#24615;&#33021;&#12290;&#21629;&#20196;&#22914;&#19979;&#65306;

2.IO&#20889;&#65292;fdatasync&#32469;&#36807;&#32531;&#20914;&#21306;
dd <span style="color: #a0522d;">bs</span>=1M <span style="color: #a0522d;">count</span>=20000 <span style="color: #a0522d;">if</span>=/dev/zero <span style="color: #a0522d;">of</span>=test.dd <span style="color: #a0522d;">conv</span>=fdatasync
</pre>
</div>

<p>
用这两种方式测试出来的结果是非常简单，专业测试磁盘性能时，不仅需要知道
读写性能，还要区分读写数据大小（4k/16k/32k），还要测试是顺序读写还是随
机读写，如果是机械硬盘还要测试内磁道和外磁道的速率差距等等。
</p>
</div>
</div>
<div id="outline-container-h:ec732126-0840-47c8-8500-79856e86a600" class="outline-4">
<h4 id="h:ec732126-0840-47c8-8500-79856e86a600">高级检测方法</h4>
<div class="outline-text-4" id="text-h:ec732126-0840-47c8-8500-79856e86a600">
<p>
<a href="http://repoforge.org/">http://repoforge.org/</a> 的useage中下载对应的版本
</p>

<p>
以下以centos7 为例进行演示：
</p>
<div class="org-src-container">
<pre class="src src-sh">wget http://repository.it4i.cz/mirrors/repoforge/redhat/el7/en/x86_64/rpmforge/RPMS/rpmforge-release-0.5.3-1.el7.rf.x86_64.rpm
yum install rpmforge-release-0.5.3-1.el7.rf.x86_64.rpm -y
</pre>
</div>

<p>
<b>bonnie++</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">yum install -y bonnie++
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">-s SIZE(MiB) &#29992;&#20110;&#27979;&#35797;IO&#24615;&#33021;&#30340;&#25991;&#20214;&#30340;&#22823;&#23567;&#65307;&#22914;&#26524;&#25351;&#23450;&#30340;&#25991;&#20214;&#22823;&#23567;&#22823;&#20110;1G&#65292;bonnie++&#20250;&#23558;&#20854;&#20998;&#20026;&#22810;&#20010;&#22823;&#23567;&#20026;1G&#30340;&#25991;&#20214;&#65307;
-u &#27979;&#35797;&#25991;&#20214;&#30340;&#23646;&#20027;&#21644;&#32452;&#65292;&#40664;&#35748;&#26159;&#25191;&#34892;bonnie++&#30340;&#24403;&#21069;&#29992;&#25143;&#21644;&#24403;&#21069;&#32452;
-d DIR &#29992;&#20110;&#27979;&#35797;&#30340;&#30446;&#24405;&#65292;&#21363;&#27979;&#35797;&#30446;&#26631;&#20301;&#32622;&#65307;
-D : &#30452;&#25509;IO&#27979;&#35797;&#65292;&#29992;&#20110;&#27979;&#35797;&#22823;&#35268;&#27169;IO&#35831;&#27714;&#26102;&#30340;&#24615;&#33021;&#65307;open&#30340;&#26102;&#20505;&#65292;&#24102;&#19978;O_DIRECT&#26631;&#24535;&#65292;&#23545;&#24212;&#30340;&#20195;&#30721;&#36923;&#36753;&#22312;bon_io.cpp&#65307;
</pre>
</div>

<p>
默认4G大小测试
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@localhost ~]# bonnie++ -u root
Delete files<span style="color: #a020f0;"> in</span> random order...done.
Version  1.96       ------Sequential Output------ --Sequential Input- --Random-
Concurrency   1     -Per Chr- --Block-- -Rewrite- -Per Chr- --Block-- --Seeks--
Machine        Size K/sec %CP K/sec %CP K/sec %CP K/sec %CP K/sec %CP  /sec %CP
localhost.l 257464M   697  99 624948  74 377652  48  1148  99 1157265  76 701.4  31
Latency             22028us   15784us    1870ms   16592us     226ms     267ms
Version  1.96       ------Sequential Create------ --------Random Create--------
localhost.localdoma -Create-- --Read--- -Delete-- -Create-- --Read--- -Delete--
              files  /sec %CP  /sec %CP  /sec %CP  /sec %CP  /sec %CP  /sec %CP
                 16 26280  97 +++++ +++ +++++ +++ 26691  97 +++++ +++ +++++ +++
Latency               404us     159us     198us     423us     339us    8080us
1.96,1.96,localhost.localdomain,1,1546926116,257464M,,697,99,624948,74,377652,48,1148,99,1157265,76,701.4,31,16,,,,,26280,97,+++++,+++,+++++,+++,26691,97,+++++,+++,+++++,+++,22028us,15784us,1870ms,16592us,226ms,267ms,404us,159us,198us,423us,339us,8080us

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36825;&#20010;&#26684;&#24335;&#23454;&#22312;&#26377;&#28857;&#20081;&#65292;&#19981;&#36807;&#22909;&#22312;&#36825;&#20010;&#36719;&#20214;&#36824;&#25552;&#20379;&#20102;&#25226;&#32467;&#26524;&#36716;&#25442;&#25104;html&#34920;&#26684;&#30340;&#24037;&#20855;&#65288;&#29992;&#26368;&#21518;&#19968;&#34892;&#36716;&#25442;&#65289;&#65306;</span>
<span style="color: #483d8b;">echo</span> 1.96,1.96,localhost.localdomain,1,1546926116,257464M,,697,99,624948,74,377652,48,1148,99,1157265,76,701.4,31,16,,,,,26280,97,+++++,+++,+++++,+++,26691,97,+++++,+++,+++++,+++,22028us,15784us,1870ms,16592us,226ms,267ms,404us,159us,198us,423us,339us,8080us |  bon_csv2html &gt;&gt; bon_result.html
</pre>
</div>


<p>
这个就好看多了，简单解释一下：
</p>

<pre class="example" id="org9742597">
Sequential Output（顺序输出，实际是写操作）下的 Per Char是值用putc方式写，毫无疑问，因为cache的line总是大于1字节的，所以不停的骚扰CPU执行putc，看到cpu使用率是99%.写的速度是0.3MB/s，非常慢了。
Sequential Output下的block是按照block去写的，明显CPU使用率就下来了，速度也上去了，是31MB/s，跟上面用dd测试的差不多。
Sequential Input（顺序输入，实际是读操作）下的Per Char是指用getc的方式读文件，速度是2.5MB/s，CPU使用率是99%。
Sequential Input下的block是指按照block去读文件，速度是50MB/s,CPU使用率是64%。
Random Seeks是随机寻址，每秒寻址9000多次还算可以的。
Sequential Create（顺序创建文件）
Random Create（随机创建文件）
</pre>

<p>
有的结果是很多+号，这表示bonner++认为值不可靠，于是不输出。一般来说是因为执行的很快，一般来说不是系统瓶颈，所以不用担心。
</p>

<p>
<b>iozone</b>
</p>

<p>
iozone 更加精确一些
</p>
<div class="org-src-container">
<pre class="src src-sh">yum install iozone -y
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">&#24120;&#29992;&#36873;&#39033;&#65306;
-l&#65306;&#26368;&#23567;&#30340;&#36827;&#31243;&#25968;&#37327;&#65292;&#29992;&#20110;&#24182;&#21457;&#27979;&#35797;&#65292;&#19981;&#24819;&#27979;&#22810;&#36827;&#31243;&#21487;&#20197;&#35774;&#32622;&#20026;1&#12290;
-u&#65306;&#26368;&#22823;&#30340;&#36827;&#31243;&#25968;&#37327;&#65292;&#29992;&#20110;&#24182;&#21457;&#27979;&#35797;&#65292;&#19981;&#24819;&#27979;&#22810;&#36827;&#31243;&#21487;&#20197;&#35774;&#32622;&#20026;1&#12290;
-r&#65306;&#40664;&#35748;&#35835;&#20889;&#22522;&#26412;&#21333;&#20301;&#65292;&#22914;16k&#65292;&#36825;&#20010;&#20540;&#19968;&#33324;&#36319;&#27979;&#35797;&#30340;&#24212;&#29992;&#26377;&#20851;&#65292;&#22914;&#35201;&#27979;&#35797;&#25968;&#25454;&#24211;&#65292;&#36825;&#20010;&#20540;&#23601;&#36319;&#25968;&#25454;&#24211;&#30340;&#22359;&#22823;&#23567;&#19968;&#33268;&#12290;
-s&#65306;&#40664;&#35748;&#35835;&#20889;&#30340;&#22823;&#23567;&#65292;&#24314;&#35758;&#36825;&#20010;&#20540;&#22823;&#19968;&#20123;&#65288;&#19968;&#33324;&#20026;2&#20493;&#20869;&#23384;&#22823;&#23567;&#65289;&#65292;&#22240;&#20026;iozone&#24182;&#19981;&#20250;&#35268;&#36991;&#20302;&#23618;&#30340;&#32531;&#23384;&#65292;&#25152;&#20197;&#22914;&#26524;&#20540;&#27604;&#36739;&#23567;&#65292;&#21487;&#33021;&#30452;&#25509;&#22312;&#20869;&#23384;&#20013;&#23601;&#23436;&#25104;&#20102;&#12290;

-f filename &#25351;&#23450;&#27979;&#35797;&#25991;&#20214;&#30340;&#21517;&#23383;,&#23436;&#25104;&#21518;&#20250;&#33258;&#21160;&#21024;&#38500;(&#36825;&#20010;&#25991;&#20214;&#24517;&#39035;&#25351;&#23450;&#20320;&#35201;&#27979;&#35797;&#30340;&#37027;&#20010;&#30828;&#30424;&#20013;)
-F file1 file2... &#25351;&#23450;&#22810;&#32447;&#31243;&#19979;&#27979;&#35797;&#30340;&#25991;&#20214;&#21517;

&#25209;&#37327;&#27979;&#35797;&#39033;:
-g -n &#25351;&#23450;&#27979;&#35797;&#25991;&#20214;&#22823;&#23567;&#33539;&#22260;,&#26368;&#22823;&#27979;&#35797;&#25991;&#20214;&#20026;4G,&#21487;&#20197;&#36825;&#26679;&#20889; -g 4G
-y -q &#25351;&#23450;&#27979;&#35797;&#22359;&#30340;&#22823;&#23567;&#33539;&#22260;

&#36755;&#20986;:
&#19979;&#38754;&#26159;&#20960;&#20010;&#26085;&#24535;&#35760;&#24405;&#30340;&#21442;&#25968;.&#22909;&#35937;&#35201;&#36755;&#20986;&#25104;&#22270;&#35937;&#36827;&#34892;&#20998;&#26512;&#65292;&#38656;&#35201;&#25351;&#23450;-a&#30340;&#27979;&#35797;&#25165;&#33021;&#36755;&#20986;
-R &#20135;&#29983;Excel&#21040;&#26631;&#20934;&#36755;&#20986;
-b &#25351;&#23450;&#36755;&#20986;&#21040;&#25351;&#23450;&#25991;&#20214;&#19978;. &#27604;&#22914; -Rb ttt.xls

&#20854;&#23427;&#36873;&#39033;&#65306;
-a &#29992;&#26469;&#20351;&#29992;&#20840;&#33258;&#21160;&#27169;&#24335;&#12290;&#29983;&#25104;&#21253;&#25324;&#25152;&#26377;&#27979;&#35797;&#25805;&#20316;&#30340;&#25253;&#21578;&#65292;&#20351;&#29992;&#30340;&#22359; &#22823;&#23567;&#20174;4k&#21040;16M&#65292;&#25991;&#20214;&#22823;&#23567;&#20174;64k&#21040;512M
-i <span style="color: #b22222;">#</span>
&#25351;&#23450;&#36816;&#34892;&#20110;&#21738;&#31181;&#27169;&#24335;&#27979;&#35797;&#12290;&#21487;&#20197;&#20351;&#29992;-i <span style="color: #b22222;"># </span><span style="color: #b22222;">-i # -i #&#36827;&#34892;&#22810;&#20010;&#27979;&#35797;</span>
<span style="color: #a0522d;">0</span>=write/rewrite
<span style="color: #a0522d;">1</span>=read/re-read
<span style="color: #a0522d;">2</span>=random read/random write
<span style="color: #a0522d;">3</span>=backwards read
<span style="color: #a0522d;">4</span>=re-write-record
<span style="color: #a0522d;">5</span>=stride-read
<span style="color: #a0522d;">6</span>=fwirte/re-fwrite
<span style="color: #a0522d;">7</span>=fread/re-fread
<span style="color: #a0522d;">8</span>=random mix
<span style="color: #a0522d;">9</span>=pwrite/re-pwrite
<span style="color: #a0522d;">10</span>=pread/re-pread
<span style="color: #a0522d;">11</span>=pwritev/re-pwritev
<span style="color: #a0522d;">12</span>=preadv/re-preadv
&#27604;&#22914;Read/Write/Random &#27604;&#36739;&#24120;&#29992;&#30340;&#26159;0 1 2,&#21487;&#20197;&#25351;&#23450;&#25104;-i 0 -i 1 -i2

-G : &#23545;mmap&#25991;&#20214;&#20351;&#29992;msync(MS_SYNC)&#12290;&#21578;&#35785;&#25805;&#20316;&#31995;&#32479;&#22312;mmap&#31354;&#38388;&#30340;&#25152;&#26377;&#25968;&#25454;&#38656;&#35201;&#34987;&#21516;&#27493;&#30340;&#20889;&#21040;&#30913;&#30424;&#19978;
-o : &#20889;&#26041;&#24335;&#26159;&#21516;&#27493;&#20889;&#21040;&#30913;&#30424;&#19978;
-B : &#20351;&#29992;mmap()&#12290;&#36825;&#23558;&#20351;&#29992;mmap()&#25509;&#21475;&#26469;&#21019;&#24314;&#24182;&#35775;&#38382;&#25152;&#26377;&#27979;&#35797;&#29992;&#30340;&#20020;&#26102;&#25991;&#20214;&#12290;&#19968;&#20123;&#24212;&#29992;&#31243;&#24207;&#20542;&#21521;&#20110;&#23558;&#25991;&#20214;&#24403;&#20316;&#20869;&#23384;&#30340;&#19968;&#22359;&#26469;&#30475;&#24453;&#12290;&#36825;&#20123;&#24212;&#29992;&#31243;&#24207;&#23545;&#25991;&#20214;&#25191;&#34892;mmap()&#35843;&#29992;&#65292;&#28982;&#21518;&#23601;&#21487;&#20197;&#20197;&#35835;&#20889;&#20869;&#23384;&#30340;&#26041;&#24335;&#35775;&#38382;&#37027;&#20010;&#22359;&#26469;&#23436;&#25104;&#25991;&#20214;I/O&#12290;
-t &#25351;&#23450;&#32447;&#31243;&#25968;
</pre>
</div>

<p>
测试定义：
</p>
<pre class="example" id="org0fe6dbb">
Write:
测试向一个新文件写入的性能。当一个新文件被写入时，不仅仅是那些文件中的数据需要被存储，还包括那些用于定位数据存储在存储介质的具体位置的额外信息。这些额外信息被称作“元数据”。它包括目录信息，所分配的空间和一些与该文件有关但又并非该文件所含数据的其他数据。拜这些额外信息所赐，Write的性能通常会比Re-write的性能低。
Re-write: 测试向一个已存在的文件写入的性能。当一个已存在的文件被写入时，所需工作量较少，因为此时元数据已经存在。Re-write的性能通常比Write的性能高。

Read:
测试读一个已存在的文件的性能。
Re-Read:
测试读一个最近读过的文件的性能。Re-Read性能会高些，因为操作系统通常会缓存最近读过的文件数据。这个缓存可以被用于读以提高性能。
Random Read:
测试读一个文件中的随机偏移量的性能。许多因素可能影响这种情况下的系统性能，例如：操作系统缓存的大小，磁盘数量，寻道延迟和其他。
Random Write: 测试写一个文件中的随机偏移量的性能。同样，许多因素可能影响这种情况下的系统性能，例如：操作系统缓存的大小，磁盘数量，寻道延迟和其他。

Random Mix:
测试读写一个文件中的随机偏移量的性能。同样，许多因素可能影响这种情况下的系统性能，例如：操作系统缓存的大小，磁盘数量，寻道延迟和其他。这个测试只有在吞吐量测试模式下才能进行。每个线程/进程运行读或写测试。这种分布式读/写测试是基于round robin 模式的。最好使用多于一个线程/进程执行此测试。
Backwards Read:
测试使用倒序读一个文件的性能。这种读文件方法可能看起来很可笑，事实上，有些应用确实这么干。MSC Nastran是一个使用倒序读文件的应用程序的一个例子。它所读的文件都十分大（大小从G级别到T级别）。尽管许多操作系统使用一些特殊实现来优化顺序读文件的速度，很少有操作系统注意到并增强倒序读文件的性能。
Record Rewrite:
测试写与覆盖写一个文件中的特定块的性能。这个块可能会发生一些很有趣的事。如果这个块足够小（比CPU数据缓存小），测出来的性能将会非常高。如果比CPU数据缓存大而比TLB小，测出来的是另一个阶段的性能。如果比此二者都大，但比操作系统缓存小，得到的性能又是一个阶段。若大到超过操作系统缓存，又是另一番结果。
Strided Read:
测试跳跃读一个文件的性能。举例如下：在0偏移量处读4Kbytes，然后间隔200Kbytes,读4Kbytes，再间隔200Kbytes，如此反复。此时的模式是读4Kbytes，间隔200Kbytes并重复这个模式。这又是一个典型的应用行为，文件中使用了数据结构并且访问这个数据结构的特定区域的应用程序常常这样做。
   许多操作系统并没注意到这种行为或者针对这种类型的访问做一些优化。同样，这种访问行为也可能导致一些有趣的性能异常。一个例子是在一个数据片化的文件系统里，应用程序的跳跃导致某一个特定的磁盘成为性能瓶颈。

Fwrite:
测试调用库函数fwrite()来写文件的性能。这是一个执行缓存与阻塞写操作的库例程。缓存在用户空间之内。如果一个应用程序想要写很小的传输块，fwrite()函数中的缓存与阻塞I/O功能能通过减少实际操作系统调用并在操作系统调用时增加传输块的大小来增强应用程序的性能。
   这个测试是写一个新文件，所以元数据的写入也是要的。
Frewrite:
测试调用库函数fwrite()来写文件的性能。这是一个执行缓存与阻塞写操作的库例程。缓存在用户空间之内。如果一个应用程序想要写很小的传输块，fwrite()函数中的缓存与阻塞I/O功能能通过减少实际操作系统调用并在操作系统调用时增加传输块的大小来增强应用程序的性能。
   这个测试是写入一个已存在的文件，由于无元数据操作，测试的性能会高些。
Fread:
测试调用库函数fread()来读文件的性能。这是一个执行缓存与阻塞读操作的库例程。缓存在用户空间之内。如果一个应用程序想要读很小的传输块，fwrite()函数中的缓存与阻塞I/O功能能通过减少实际操作系统调用并在操作系统调用时增加传输块的大小来增强应用程序的性能。
Freread:
这个测试与上面的fread 类似，除了在这个测试中被读文件是最近才刚被读过。这将导致更高的性能，因为操作系统缓存了文件数据。
   几个特殊测试:
   Mmap:许多操作系统支持mmap()的使用来映射一个文件到用户地址空间。映射之后,对内存的读写将同步到文件中去。这对一些希望将文件当作内存块来使用的应用程序来说很方便。一个例子是内存中的一块将同时作为一个文件保存在于文件系统中。
   mmap 文件的语义和普通文件略有不同。如果发生了对内存的存储，并不是立即发生相应的文件I/O操作。使用MS_SYNC 和MS_ASYNC标志位的 msyc()函数调用将控制内存和文件的一致性。调用msync() 时将MS_SYNC置位将强制把内存里的内容写到文件中去并等待直到此操作完成才返回。而MS_ASYNC 置位则告诉操作系统使用异步机制将内存刷新到磁盘，这样应用程序可以直接返回而不用等待此操作的完成。
   这个测试就是测量使用mmap()机制完成I/O的性能。
   Async I/O: 许多操作系统支持的另外一种I/O机制是POSIX 标准的异步I/O。本程序使用POSIX标准异步I/O接口来完成此测试功能。
   例如： aio_write(), aio_read(), aio_error()。这个测试测量POSIX异步I/O机制的性能。
</pre>


<p>
针对文件系统的测试可以按一下几项执行操作：
</p>

<div class="org-src-container">
<pre class="src src-sh">iozone -a -n 512m -g 4g -i 0 -i 1 -i 5 -f /mnt/iozone -Rb ./iozone.xls
</pre>
</div>

<p>
进行全面测试.最小测试文件为512M直到测试到4G.测试read,write,和Strided Read.测试的地方在mnt下。生成Excel的文件
</p>


<p>
1.多线程下的同步I/O读写测试
</p>

<p>
分别针对128K，16M，256M，2G文件大小和8进程，64进程，128进程数进行测试
</p>

<p>
主要测试文件写和重复写、读和重复读、随即读写、后向读、文件内随即点写、大间隔文件点读、文件内的随即点读写等测试项,记录大小1M cpu cache 2048kbyte。
</p>

<p>
范例：128k 文件性能测试：
</p>
<div class="org-src-container">
<pre class="src src-sh">iozone -s 128k -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -G -o -B -Rb iozone.xls

iozone -s 128k -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -G -o -B -Rb iozone.xls
iozone -s 128k -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -G -o -B -Rb iozone.xls
</pre>
</div>



<p>
范例：16M文件性能测试
</p>

<div class="org-src-container">
<pre class="src src-sh">iozone -s 16M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -G -o -B -Rb iozone.xls
iozone -s 16M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -G -o -B -Rb iozone.xls
iozone -s 16M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -G -o -B -Rb iozone.xls
</pre>
</div>

<p>
范例：256M文件性能测试
</p>

<div class="org-src-container">
<pre class="src src-sh">iozone -s 256M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -G -o -B -Rb iozone.xls

iozone -s 256M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -G -o -B -Rb iozone.xls
iozone -s 256M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -G -o -B -Rb iozone.xls
</pre>
</div>

<p>
范例：2G文件性能测试
</p>

<div class="org-src-container">
<pre class="src src-sh">iozone -s 2G -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -G -o -B -Rb iozone.xls
iozone -s 2G -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64  -G -o -B -Rb iozone.xls
iozone -s 2G -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -G -o -B -Rb iozone.xls

iozone -s 2G -i 0 -i 1 -i 2  -t 8 -G -o -B -F /data/iozone{1..8}
iozone -s 2G -i 0 -i 1 -i 2  -t 8 -G -o -B -F ~/iozone{1..8}
</pre>
</div>

<p>
2.多线程下的异步I/O读写测试
</p>

<p>
分别针对128K，16M，256M，2G文件大小和8进程，64进程，128进程数进行测试
</p>

<p>
主要测试文件写和重复写、读和重复读、随即读写、后向读、文件内随即点写、大间隔文件点读、文件内的随即点读写等测试项。
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">128k &#25991;&#20214;&#24615;&#33021;&#27979;&#35797;</span>
iozone -s 128k -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -D -o -B -Rb iozone.xls
iozone -s 128k -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -D -o -B -Rb iozone.xls
iozone -s 128k -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -D -o -B -Rb iozone.xls

<span style="color: #b22222;">#</span><span style="color: #b22222;">16M&#25991;&#20214;&#24615;&#33021;&#27979;&#35797;</span>
iozone -s 16M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -D -o -B -Rb iozone.xls
iozone -s 16M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -D -o -B -Rb iozone.xls
iozone -s 16M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -D -o -B -Rb iozone.xls

<span style="color: #b22222;">#</span><span style="color: #b22222;">256M&#25991;&#20214;&#24615;&#33021;&#27979;&#35797;</span>
iozone -s 256M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -D -o -B -Rb iozone.xls
iozone -s 256M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -D -o -B -Rb iozone.xls
iozone -s 256M -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -D -o -B -Rb iozone.xls

<span style="color: #b22222;"># </span><span style="color: #b22222;">2G&#25991;&#20214;&#24615;&#33021;&#27979;&#35797;</span>
iozone -s 2G -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 8 -D -o -B -Rb iozone.xls
iozone -s 2G -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 64 -D -o -B -Rb iozone.xls
iozone -s 2G -i 0 -i 1 -i 2 -i 3 -i 4 -i 5 -i 8 -t 128 -D -o -B -Rb iozone.xls
</pre>
</div>



<p>
使用的脚本：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">!/bin/</span><span style="color: #a020f0;">bash</span>
<span style="color: #a0522d;">io102cmd</span>=/eric/iozone
<span style="color: #a0522d;">HOSTNAME</span>=<span style="color: #ff00ff;">`hostname`</span>
<span style="color: #a0522d;">DATE</span>=<span style="color: #ff00ff;">`date +%Y-%m-%d-%H`</span>
<span style="color: #a0522d;">IP</span>=<span style="color: #ff00ff;">`cat /etc/sysconfig/network-scripts/ifcfg-enp8s0 |grep "IPADDR" |awk -F '=' '{print $2}'`</span>
<span style="color: #a0522d;">RECSIZE</span>=1m
<span style="color: #a0522d;">THREADS</span>=24              <span style="color: #b22222;">#</span><span style="color: #b22222;">max maximum value 254  disks*loops=THREADS(36*7=252)</span>
<span style="color: #a0522d;">FILESIZE</span>=12g    <span style="color: #b22222;">#</span><span style="color: #b22222;">test data block mul disks ej:850g*36=30600g</span>
<span style="color: #a0522d;">LOG</span>=/datapool/log/${<span style="color: #a0522d;">DATE</span>}_${<span style="color: #a0522d;">HOSTNAME</span>}_io102zone_${<span style="color: #a0522d;">IP</span>}_${<span style="color: #a0522d;">RECSIZE</span>}_${<span style="color: #a0522d;">FILESIZE</span>}_${<span style="color: #a0522d;">THREADS</span>}
<span style="color: #a0522d;">i</span>=0                     <span style="color: #b22222;">#</span><span style="color: #b22222;">loop counts form 0 - 6</span>


<span style="color: #a020f0;">while</span> [ $<span style="color: #a0522d;">i</span> -lt 2 ]
<span style="color: #a020f0;">do</span>
<span style="color: #a0522d;">FILE1</span>=<span style="color: #8b2252;">" /datapool/io102/a${i} /datapool/io102/b${i} /datapool/io102/c${i} /datapool/io102/d${i} /datapool/io102/e${i} /datapool/io102/f${i} /datapool/io102/g${i} /datapool/io102/h${i} /datapool/io102/i${i} /datapool/io102/j${i} /datapool/io102/k${i} /datapool/io102/l${i} ${FILE1} "</span>
<span style="color: #a0522d;">i</span>=<span style="color: #ff00ff;">` expr $i + 1 `</span>
<span style="color: #a020f0;">done</span>

<span style="color: #a020f0;">while</span> [ 1 ]
<span style="color: #a020f0;">do</span>
<span style="color: #483d8b;">echo</span> $<span style="color: #a0522d;">FILE1</span>

$<span style="color: #a0522d;">io102cmd</span>  -r ${<span style="color: #a0522d;">RECSIZE</span>} -s ${<span style="color: #a0522d;">FILESIZE</span>} -t ${<span style="color: #a0522d;">THREADS</span>} -F ${<span style="color: #a0522d;">FILE1</span>} -i 0 -i 1 -+n -w -+k -R -b report.xls -c -C -e &gt;&gt; $<span style="color: #a0522d;">LOG</span>
<span style="color: #a020f0;">done</span>
</pre>
</div>





<p>
iozone 自带 Generate_Graphs 命令
</p>

<p>
<a href="http://www.gnuplot.info/">http://www.gnuplot.info/</a>
</p>

<p>
安装gnuplot
</p>
<div class="org-src-container">
<pre class="src src-sh">yum install gnuplot
&#25110;

wget http://nchc.dl.sourceforge.net/project/gnuplot/gnuplot/5.2.6/gnuplot-5.2.6.tar.gz
tar xf gnuplot-5.2.6.tar.gz
<span style="color: #483d8b;">cd</span> gnuplot-5.2.6/
./configure --prefix=/public/software/gnuplot
<span style="color: #483d8b;">echo</span> $<span style="color: #a0522d;">?</span>
make &amp;&amp; make install
vim /etc/profile.d/gnuplot.sh
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">GNUPLOT</span>=/public/software/gnuplot
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">PATH</span>=/public/software/gnuplot/bin:$<span style="color: #a0522d;">PATH</span>
<span style="color: #483d8b;">export</span> <span style="color: #a0522d;">MANPATH</span>=/public/software/gnuplot/share/man/man1:$<span style="color: #a0522d;">MANPATH</span>
<span style="color: #483d8b;">.</span> /etc/profile


&#40664;&#35748;&#23433;&#35013;&#22312; /opt/iozone/bin/Generate_Graphs &#65292; &#21487;&#20197;&#29992;&#36825;&#20010;&#21629;&#20196;&#30452;&#25509;&#22788;&#29702; iozone &#30340;&#36755;&#20986;&#65306;

<span style="color: #b22222;"># </span><span style="color: #b22222;">cd /opt/iozone/bin</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">./iozone -a &gt; /root/iozone.log</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">./Generate_Graphs  /root/iozone.log</span>
</pre>
</div>
</div>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
