<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æˆ‘çš„ Emacs é…ç½®</title>
<meta name="author" content="Jasper Hsu" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>æŠ€æœ¯</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>é˜…è¯»</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/archives.html class=nobracket data-astro-cid-pux6a34n>å½’æ¡£</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>å‹é“¾</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>å…³äº</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              ğŸ† æ¬¢è¿æ¥åˆ°æœ¬ç«™ï¼š
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>ã€‚
              <strong>å¸Œæœ›è¿™é‡Œæœ‰ä½ æ„Ÿå…´è¶£çš„å†…å®¹</strong>ã€‚
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">æˆ‘çš„ Emacs é…ç½®</h1>
</header><p>
<b>æœ€åä¿®æ”¹æ—¶é—´ 2025-05-21 02:44:19 +0800  23921å­—.</b>
</p>


<p>
åœ¨Orgæ–‡ä»¶é‡Œï¼Œå†™å¥½äº†ä»£ç å—ï¼Œä¿å­˜æ–‡ä»¶çš„æ—¶å€™ï¼ŒOrg modeæ˜¯ä¸ä¼šå¸®ä½ è‡ªåŠ¨å†™å…¥æ–‡ä»¶çš„ï¼ˆæœªæ¥æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®å®ç°ï¼‰ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡  <code>C-c C-v C-t</code> or <code>M-x org-babel-tangle</code> å‘½ä»¤æ¥è§¦å‘ tangle è¿™ä¸ªåŠ¨ä½œã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-tangle)
</pre>
</div>

<p>
xx.el å·²ç»å†™å¥½äº†ï¼Œä½†å¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œéœ€è¦é‡å¯ä¸€ä¸‹Emacsï¼Œè®©Emacsé‡æ–°åŠ è½½è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰ä¼šç”Ÿæ•ˆã€‚
</p>

<p>
<b>elispä»£ç æ‰§è¡Œ</b> :
</p>
<ul class="org-ul">
<li><code>C-x C-e</code> ï¼š <code>eval-last-sexp</code> è¿™æ˜¯æœ€å¸¸ç”¨çš„ï¼Œæ¯æ¬¡éƒ½è¦ç§»åŠ¨å…‰æ ‡åˆ°è¦è¿è¡Œçš„ä»£ç åé¢ã€‚</li>
<li><code>M-x eval-region</code> ï¼šæ‰§è¡Œé€‰ä¸­åŒºåŸŸä»£ç </li>
<li><code>M-x eval-buffer</code> ï¼šæ‰§è¡Œå½“å‰ç¼“å†²åŒºä»£ç </li>
<li><code>M-x load-file &lt;ENTER&gt; FILE_NAME</code> ï¼šæ‰§è¡ŒæŒ‡å®šæ–‡ä»¶ä»£ç </li>
<li><code>C-j</code> : æ‰§è¡Œæœ€è¿‘è·ç¦»ä»£ç ï¼Œå¹¶æ‰“å°è¾“å‡ºä»¥å½“å‰ä½ç½®</li>
<li><code>C-M-x</code> : runs the command eval-defun æ‰§è¡Œæ•´ä¸ªä»£ç å—ã€‚å†™å‡½æ•°ç»å¸¸ä¿®æ”¹
ç„¶åè¿è¡Œï¼Œå¦‚æœæ¯æ¬¡è·‘åˆ°æœ€å¤–é¢å» <code>C-x C-e</code> ï¼Œå°±å¾ˆéº»çƒ¦ã€‚å…‰æ ‡åªè¦åœ¨è¿è¡Œçš„ä»£ç å—é‡Œå°±è¡Œäº†ã€‚</li>
<li><code>M-:</code> : runs the command eval-expression</li>
<li><code>M-x ielm</code> ç±»ä¼¼äºipythonäº¤äº’å¼è¿è¡Œ</li>
</ul>

<p>
æ–‡æœ¬ç¼–è¾‘ï¼š
</p>
<ul class="org-ul">
<li><code>C-x C-s</code> æ–‡ä»¶ä¿å­˜</li>
</ul>


<ul class="org-ul">
<li>Website: <a href="https://xuchangwei.com/lisp/jasper-emacs.html">https://xuchangwei.com/lisp/jasper-emacs.html</a></li>
<li>Git repositories:
<ul class="org-ul">
<li>GitHub: <a href="https://github.com/jaspervincent/dotfiles">https://github.com/jaspervincent/dotfiles</a></li>
</ul></li>
</ul>

<nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:b17d4463-f9b0-43e7-b543-67b9a130db2e">1. <code>init.el</code> (å­¦ä¹ )</a>
<ul>
<li><a href="#h:0e90d45f-f8d6-4b1e-b32a-143e762454e8">1.1. å®‰è£…</a>
<ul>
<li><a href="#h:f9b3ea3c-a220-4130-9b15-7f85c2037540">1.1.1. äºŒè¿›åˆ¶å®‰è£…</a></li>
<li><a href="#h:04da44fe-12b5-4de9-afc1-126ff7ecfc15">1.1.2. æºç å®‰è£…</a></li>
</ul>
</li>
<li><a href="#h:learn-key">1.2. æ”¹é”®</a></li>
<li><a href="#h:b8400296-41de-4401-98c6-094756c3ee53">1.3. å¸¸ç”¨é…ç½®</a></li>
<li><a href="#h:4a222504-05b5-4a0d-80ab-6cd04ee213a5">1.4. å…³äº lexical binding</a></li>
<li><a href="#h:ef17a11a-df61-41c6-8bbd-8d92766b4273">1.5. æ’ä»¶æº</a></li>
<li><a href="#h:6483447a-d63f-42b0-8c5c-48eebe7d352c">1.6. å®‰è£…è¡¥å…¨æ’ä»¶</a></li>
<li><a href="#h:a10e6f11-2517-4c48-bcb7-5ee139fa2a2c">1.7. æ‰‹å·¥å®‰è£…æ’ä»¶</a></li>
<li><a href="#h:7d42306d-1ba7-468d-b67d-0d2e1894535e">1.8. å…¶ä»–å°é…ç½®</a></li>
<li><a href="#h:2ecf5bf5-4f3f-4ac9-8483-ff26c87b2382">1.9. Emacsä½œä¸ºè¶…çº§å‰ç«¯</a>
<ul>
<li><a href="#h:learn-funcs-front-explorer">1.9.1. ä½¿ç”¨ Emacs æ¥æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨</a></li>
<li><a href="#h:learn-completion-minibuffer-4-1">1.9.2. å¢å¼º embark å’Œ consultï¼Œæ‰¹é‡æœç´¢æ›¿æ¢å¤§æ€å™¨</a></li>
<li><a href="#h:learn-tools-search-pinyin">1.9.3. ä½¿ç”¨æ‹¼éŸ³è¿›è¡Œæœç´¢</a></li>
<li><a href="#h:342e2bb3-0963-4047-bbfe-9949e17d186c">1.9.4. æ›´æ¢ä¸»é¢˜</a></li>
</ul>
</li>
<li><a href="#h:78e61272-d6f7-45f9-aeca-948b68f16d02">1.10. æ¨¡å—åŒ–é…ç½®</a>
<ul>
<li><a href="#h:dcefc61f-9fbc-4c17-b9c6-043b131b3437">1.10.1. ä½¿ç”¨å¤šæ–‡ä»¶å­˜å‚¨é…ç½®æ–‡ä»¶</a></li>
<li><a href="#h:cb5979bf-baeb-48b0-abd7-0f54495dd006">1.10.2. ä½¿ç”¨Org-mode ç®¡ç† Emacs é…ç½®</a></li>
</ul>
</li>
<li><a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">1.11. æ¨¡å—åˆ—è¡¨</a></li>
<li><a href="#h:ce61a582-6604-448b-8fe4-087ecd41e650">1.12. æ¸…ç†å­¦ä¹ å†…å®¹</a></li>
</ul>
</li>
<li><a href="#h:680e1564-f032-4677-acdf-1d64b017cdc0">2. Emacsåˆå§‹åŒ– <code>early-init.el</code></a>
<ul>
<li><a href="#h:d5de6908-9c6e-4fdd-8d06-4059f170abfd">2.1. <code>early-init.el</code> å¯¹å¯åŠ¨æ—¶é—´å’Œåƒåœ¾å›æ”¶çš„è°ƒæ•´</a></li>
<li><a href="#h:package-cache">2.2. <code>early-init.el</code> åˆå§‹åŒ–åŒ…ç¼“å­˜</a></li>
</ul>
</li>
<li><a href="#h:84a797ae-9cef-4eb4-8144-4423d96d57d7">3. Emacsä¸»é…ç½®æ–‡ä»¶ (<code>init.el</code>)</a>
<ul>
<li><a href="#h:b5675d8d-07b5-4cc1-bb53-2e13d63c652d">3.1. <code>init.el</code> åŠ è½½å‰è‡ªå®šä¹‰é…ç½®</a>
<ul>
<li><a href="#h:307ea5c9-d0cb-4458-8c72-fe27e44a52ba">3.1.1. <code>init.el</code> åˆ¤æ–­æ“ä½œç³»ç»Ÿ</a></li>
</ul>
</li>
<li><a href="#h:8a5ac6bd-d9f2-43f8-b0a4-64c758a747aa">3.2. <code>init.el</code> åŸºç¡€é…ç½®ç¦ç”¨å¤‡ä»½å’Œé”å®šæ–‡ä»¶</a></li>
<li><a href="#h:10a19e0f-2d8a-4e63-b394-f8eadd628aea">3.3. <code>init.el</code> æŒ‡å®šè‡ªå®šä¹‰æ–‡ä»¶ custom.el</a></li>
<li><a href="#h:fdc495f8-e664-4284-a21d-bd34d0c39823">3.4. <code>init.el</code> å§‹ç»ˆä» <code>*scratch*</code> ç¼“å†²åŒºå¼€å§‹</a></li>
<li><a href="#h:i-dir">3.5. <code>init.el</code> åŠ è½½ç›®å½•</a></li>
<li><a href="#h:package.el">3.6. <code>init.el</code> è½¯ä»¶åŒ… (<code>package.el</code>)</a>
<ul>
<li><a href="#h:4e302b04-678d-492a-941e-5cc805b8f8a2">3.6.1. <code>init.el</code> use-pacakge æ’ä»¶</a></li>
</ul>
</li>
<li><a href="#h:i-modules">3.7. <code>init.el</code> åŠ è½½å„ä¸ªæ¨¡å—</a></li>
<li><a href="#h:048fe6a9-b02a-46fd-8907-78c8c3366234">3.8. <code>init.el</code> è®¡ç®—å¯åŠ¨æ—¶é—´</a></li>
</ul>
</li>
<li><a href="#h:modules">4. æˆ‘çš„Emacsæ¨¡å—é…ç½®(<code>lisp/</code>)</a>
<ul>
<li><a href="#h:20c90145-9293-4c6e-9ac5-7cd73353ed70">4.1. <code>init-packages.el</code></a>
<ul>
<li><a href="#h:packages-quelpa">4.1.1. <code>init-packages.el</code> å®‰è£… quelpa æ’ä»¶</a></li>
<li><a href="#h:packages-vc">4.1.2. <code>ini-package.el</code> vc <code>package-vc.el</code></a></li>
</ul>
</li>
<li><a href="#h:1a9f33d6-5ff3-4048-872d-80243061b6cb">4.2. <code>init-ui.el</code></a>
<ul>
<li><a href="#h:ui-built-in">4.2.1. <code>init-ui.el</code> å†…ç½®é…ç½®</a></li>
<li><a href="#h:ui-doom-emacs">4.2.2. <code>init-ui.el</code> ä¸»é¢˜ <code>doom-emacs</code></a></li>
</ul>
</li>
<li><a href="#h:8c9e81fb-48a0-41da-b9e0-1e3cfdee7f51">4.3. <code>init-essentials.el</code></a>
<ul>
<li><a href="#h:d5590309-993e-442e-93ac-e0a6d11763af">4.3.1. <code>init-essentials.el</code> è‡ªå®šä¹‰å‘½ä»¤ <code>j-simple.el</code></a></li>
</ul>
</li>
<li><a href="#h:eeccf037-bcb1-4a96-b965-0339735c3105">4.4. <code>init-basic.el</code></a>
<ul>
<li><a href="#h:basic-default">4.4.1. <code>init-basic.el</code> ä¸€äº›é»˜è®¤çš„é…ç½®</a></li>
<li><a href="#h:3bd70b80-cd07-4c49-b8c0-202f525a46d6">4.4.2. <code>init-basic.el</code> æœ€è¿‘ç¼–è¾‘è¿‡çš„æ–‡ä»¶ <code>recentf</code></a></li>
<li><a href="#h:basic-session">4.4.3. <code>init-basic.el</code> å†å²å‘½ä»¤ <code>savehist</code></a></li>
<li><a href="#h:basic-simple">4.4.4. <code>init-basic.el</code> å†…ç½®åŒ… <code>simple</code></a></li>
<li><a href="#h:basic-general">4.4.5. <code>init-basic.el</code> é”®ä½ç»‘å®š <code>general</code></a></li>
<li><a href="#h:basic-input">4.4.6. <code>init-basic.el</code> è¾“å…¥æ³•</a>
<ul>
<li><a href="#h:a7b816c8-da82-4210-856e-07e2edd6e2c2">4.4.6.1. <code>init-basic.el</code> è¾“å…¥æ³• <code>pyim</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:800b1175-68ac-43cc-a556-6c4e0d2eccbc">4.5. <code>init-modeline.el</code></a>
<ul>
<li><a href="#h:modeline-keycast">4.5.1. <code>init-modeline.el</code> æŒ‰é”®æ˜¾ç¤º <code>keycast</code></a></li>
</ul>
</li>
<li><a href="#h:c3c253e7-a1f2-44b3-8e07-adc5ec6271db">4.6. <code>init-completion.el</code></a>
<ul>
<li><a href="#h:completion-built-in">4.6.1. <code>init-completion.el</code> å†…ç½®è¡¥å…¨</a></li>
<li><a href="#h:completion-company">4.6.2. <code>init-completion.el</code> è¡¥å…¨ <code>company</code></a></li>
<li><a href="#h:completion-corfu">4.6.3. <code>init-completion.el</code> è¡¥å…¨ <code>corfu</code></a></li>
<li><a href="#h:completion-orderless">4.6.4. <code>init-completion.el</code> minibufferå¢å¼º <code>orderless</code></a></li>
<li><a href="#h:completion-consult">4.6.5. <code>init-completion.el</code> å¢å¼ºæ–‡ä»¶å†…æœç´¢ <code>consult</code></a></li>
<li><a href="#h:completion-embark">4.6.6. <code>init-completion.el</code> minibufferå¢å¼º <code>embark</code></a>
<ul>
<li><a href="#h:completion-minibuffer-4-1">4.6.6.1. <code>init-completion.el</code> å¢å¼º <code>embark</code> å’Œ <code>consult</code> ï¼Œæ‰¹é‡æœç´¢æ›¿æ¢å¤§æ€å™¨</a></li>
</ul>
</li>
<li><a href="#h:completion-marginalia">4.6.7. <code>init-completion.el</code> minubufferå¢å¼ºæ³¨é‡Š <code>marginalia</code></a></li>
<li><a href="#h:completion-vertico">4.6.8. <code>init-completion.el</code> minibufferå¢å¼º <code>vertico</code></a></li>
</ul>
</li>
<li><a href="#h:evil">4.7. <code>init-evil.el</code></a>
<ul>
<li><a href="#h:evil-init">4.7.1. <code>init-evil.el</code> å®‰è£…</a></li>
<li><a href="#h:evil-custom-keybinding">4.7.2. <code>init.evil.el</code> è‡ªå®šä¹‰å¿«æ·é”®</a></li>
<li><a href="#h:36d15ff2-87fc-47f2-a385-ddca88f7c2f0">4.7.3. ç›¸å…³æ’ä»¶åˆ—è¡¨</a>
<ul>
<li><a href="#h:2186eba8-72bf-4c04-b439-168680e1055e">4.7.3.1. evil-escapeæ’ä»¶å›é€€åˆ°normal state</a></li>
<li><a href="#h:ff29f09d-cec5-488a-a62e-2e96a9327958">4.7.3.2. evil-anzu</a></li>
<li><a href="#h:4ab86f63-e3dc-4b10-a730-72d12d10555a">4.7.3.3. evil-collections</a></li>
<li><a href="#h:efec661d-88ef-4d35-8545-e33a71e60c04">4.7.3.4. evil-surround</a></li>
<li><a href="#h:5748be0d-f8c4-45d6-89c0-3fd42e880a2c">4.7.3.5. evil-nerd-commenter</a></li>
<li><a href="#h:c63ca6bf-d489-49a3-90b9-0826c2bc5f20">4.7.3.6. evil-snipe</a></li>
<li><a href="#h:270a82c8-9426-4829-b6b8-2037a2121fdf">4.7.3.7. evil-matchit</a></li>
</ul>
</li>
<li><a href="#h:78a0a60e-dfaf-4aeb-9f4d-6bbaefd6ae1d">4.7.4. é«˜é˜¶ç”¨æ³•ï¼ˆè‡ªå®šä¹‰ text-obj æˆ–è€… è‡ªå®šä¹‰ commands)</a></li>
</ul>
</li>
<li><a href="#h:b9b5d584-8a46-49ab-91c7-94c1503a12f5">4.8. <code>init-tools.el</code></a>
<ul>
<li><a href="#h:tools-iedit">4.8.1. <code>init-tools.el</code> å¤šå…‰æ ‡æ“ä½œ <code>iedit</code> &amp; <code>evil-multiedit</code></a></li>
<li><a href="#h:tools-expand-region">4.8.2. <code>init-tools.el</code> å¿«é€Ÿé€‰ä¸­åŒºåŸŸ <code>expand-region</code></a></li>
<li><a href="#h:tools-highlight-global">4.8.3. <code>init-tools.el</code> æ–‡æœ¬é«˜äº® <code>symbol-overlay</code> &amp; <code>highlight-global</code></a></li>
</ul>
</li>
<li><a href="#h:window">4.9. <code>init-window.el</code></a>
<ul>
<li><a href="#h:526c9704-5d7a-47e9-96ca-8310e01fa809">4.9.1. <code>init-window.el</code> <code>window numbering</code></a></li>
<li><a href="#h:98d343f7-9e3d-43b7-8402-a4b3ee20db5b">4.9.2. <code>init-window.el</code> <code>es-windows</code></a></li>
<li><a href="#h:ec506a8e-4641-40a6-800a-a13ba8187433">4.9.3. <code>init-window.el</code> <code>Buffer move</code></a></li>
<li><a href="#h:f27bcd87-7576-4c88-94b5-cd0c3760b649">4.9.4. <code>init-window.el</code> <code>Resize windows</code></a></li>
<li><a href="#h:ca4c214b-2e05-4d97-95cf-9fd95fd01771">4.9.5. <code>init-window.el</code> <code>Winner(builtin)</code></a></li>
<li><a href="#h:7c339d63-4318-4073-b826-b7a6eca2b694">4.9.6. <code>init-window.el</code> å…³é—­å¼¹çª— <code>Popper</code></a></li>
</ul>
</li>
<li><a href="#h:org">4.10. <code>init-org.el</code></a>
<ul>
<li><a href="#h:org-built-in">4.10.1. <code>init-org.el</code> å†…ç½®é…ç½®</a></li>
<li><a href="#h:bd869f5d-b960-4a71-a831-455165c3b55e">4.10.2. <code>init-org.el</code> å®‰è£…æœ€æ–°orgåŒ…</a></li>
<li><a href="#h:0934bafe-c508-40e7-8312-64fcb0af71fe">4.10.3. <code>init-org.el</code> org ç¼–ç¨‹è¯­è¨€æ”¯æŒ</a></li>
<li><a href="#h:org-todo">4.10.4. <code>init-org.el</code> org todo</a></li>
<li><a href="#h:org-agenda">4.10.5. <code>init-org.el</code> org agenda</a></li>
<li><a href="#h:org-capture">4.10.6. <code>init-org.el</code> org capture</a></li>
<li><a href="#h:org-effect">4.10.7. <code>init-org.el</code> org effect</a></li>
<li><a href="#h:org-tags">4.10.8. <code>init-org.el</code> org tags</a></li>
<li><a href="#h:org-priority">4.10.9. <code>init-org.el</code> org priority</a></li>
<li><a href="#h:org-jietu">4.10.10. <code>init-org.el</code> org æˆªå›¾</a></li>
<li><a href="#h:org-protocol">4.10.11. <code>init-org.el</code> ä»ç½‘é¡µæ‘˜å–å†…å®¹ Org Protocol</a></li>
<li><a href="#h:org-spell">4.10.12. <code>init-org.el</code> æ‹¼å†™æ£€æŸ¥ Spell checking</a></li>
<li><a href="#h:org-fanyi">4.10.13. <code>init-org.el</code> ç¿»è¯‘ Fanyi Dictionary</a></li>
<li><a href="#h:005568af-5e29-4582-9ba1-85eb4a7c4bc2">4.10.14. <code>init-org.el</code> åŒé“¾ç¬”è®° <code>org-Roam</code></a>
<ul>
<li><a href="#h:d15ff21d-1471-4613-9ec9-8a9273665175">4.10.14.1. <code>init-org.el</code> org <code>org-roam-ui</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:personspace">4.11. <code>init-persp.el</code> å·¥ä½œåŒºé—´ç®¡ç†</a>
<ul>
<li><a href="#h:dbb5227a-09bd-44ff-a2c9-59ab9c5b6f11">4.11.1. <code>init-window.el</code> çª—å£ <code>tab-bar(built-in)</code></a></li>
<li><a href="#h:persp-tabspaces">4.11.2. <code>init-persp.el</code> å·¥ä½œåŒºé—´ <code>tabspaces</code></a></li>
</ul>
</li>
<li><a href="#h:48550b88-bb99-44c6-a4a3-2442cc2d0443">4.12. <code>init-programming.el</code></a>
<ul>
<li><a href="#h:c++">4.12.1. <code>init-programming.el</code> c++</a>
<ul>
<li><a href="#h:c++-eglot">4.12.1.1. <code>init-programming.el</code> ä»£ç ç¼–å†™ <code>eglot</code></a></li>
<li><a href="#h:c++-treesit-auto">4.12.1.2. <code>init-programming.el</code> è¯­æ³•é«˜äº® <code>treesit-auto</code></a></li>
<li><a href="#h:c++-consult-imenu">4.12.1.3. <code>init-programming.el</code> è·³è½¬å‡½æ•°åˆ—è¡¨ consult-imenu</a></li>
<li><a href="#h:2be86b5f-655e-4bd6-b2a8-c39eb68c690f">4.12.1.4. <code>init-programming.el</code> æŸ¥æ‰¾å®šä¹‰å’Œå¼•ç”¨</a></li>
<li><a href="#h:0adb5e48-1781-4780-a991-0ac87c8ae529">4.12.1.5. <code>init-programming.el</code> æ·»åŠ  snippets æ”¯æŒ</a></li>
<li><a href="#h:cc34dec7-c21d-47ef-8cc1-519de991bd8d">4.12.1.6. <code>init-programming.el</code> åœ¨å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶ä¹‹é—´è¿›è¡Œè·³è½¬</a></li>
</ul>
</li>
<li><a href="#h:8c03c26f-8593-46d5-a278-ff1f2d20dbef">4.12.2. <code>init-programming.el</code> python</a></li>
</ul>
</li>
<li><a href="#h:696bce89-99d1-4716-80c0-cf1b36844fa8">4.13. <code>init-keybindings.el</code></a>
<ul>
<li><a href="#h:keybindings-search-file">4.13.1. <code>init-keybindings.el</code> æ–‡ä»¶æœç´¢</a></li>
<li><a href="#h:keybindings-general">4.13.2. <code>init-keybindings.el</code> é”®ä½ç»‘å®š <code>general</code></a></li>
</ul>
</li>
<li><a href="#h:05e889c3-381b-4d1a-8647-9df6277d8301">4.14. <code>init-funcs.el</code></a></li>
</ul>
</li>
<li><a href="#h:19b981f0-0e13-46d5-b573-9d8e52aefd33">5. æˆ‘çš„è‡ªå®šä¹‰åº“(<code>j-lisp/</code>)</a>
<ul>
<li><a href="#h:1ff292d7-21a0-4f9b-a00d-52a6be5ef3f6">5.1. <code>j-simple.el</code> åº“</a></li>
<li><a href="#h:j-consult">5.2. <code>j-consult.el</code> åº“</a></li>
<li><a href="#h:j-embark">5.3. <code>j-embark.el</code> åº“</a></li>
<li><a href="#h:j-expand-region">5.4. <code>j-expand-region.el</code> åº“</a></li>
<li><a href="#h:j-evil">5.5. <code>j-evil.el</code> åº“</a></li>
<li><a href="#h:j-highlight-global">5.6. <code>j-highlight-global.el</code> åº“</a></li>
<li><a href="#h:j-org-download">5.7. <code>j-org-download.el</code> åº“</a></li>
<li><a href="#h:j-org">5.8. <code>j-org.el</code> åº“</a></li>
<li><a href="#h:j-emacs-fast">5.9. <code>j-emacs-fast.el</code> åº“</a></li>
</ul>
</li>
<li><a href="#h:43ed0760-cc70-475c-9da8-a9caa7f67657">6. Emacs é…ç½®é—®é¢˜æ’æŸ¥</a>
<ul>
<li><a href="#h:2fee1b0f-3633-4d2c-9301-8b08562a07aa">6.1. é…ç½®æœ‰é—®é¢˜ï¼Œå¯åŠ¨ä¸äº†æ€ä¹ˆåŠï¼Ÿ</a></li>
<li><a href="#h:a95b56f5-efc0-44a0-b9be-1a054b419bde">6.2. ä¸èƒ½å®‰è£…åŒ…ï¼Œæç¤ºç­¾åé”™è¯¯</a></li>
<li><a href="#h:1576a87a-4eda-419a-8e88-46629c6044a4">6.3. åŒ…è§£å‹å¤±è´¥ï¼Œ</a></li>
</ul>
</li>
<li><a href="#h:fcadef90-7310-40d6-aaa0-de74737e0940">7. ä¼˜åŒ–æ€§èƒ½ï¼Œå€Ÿé‰´å…¶ä»–äººçš„é…ç½®</a>
<ul>
<li><a href="#h:558eed58-5e30-476b-acd3-ad1a46949b1b">7.1. è¿è¡Œæ—¶æ€§èƒ½</a></li>
<li><a href="#h:da6bbc1a-043f-45e9-8aca-f565c8454588">7.2. åº¦é‡å¯åŠ¨æ€§èƒ½</a></li>
<li><a href="#h:d923bc80-6e8b-4832-b177-156188d0cdad">7.3. å€Ÿé‰´å¤§ä½¬çš„é…ç½®ï¼Œä½œä¸ºæ¡†æ¶</a></li>
<li><a href="#h:33962756-e6d0-4b81-887d-cd51a76eded0">7.4. å°æŠ€å·§ï¼š</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<section id="outline-container-h:b17d4463-f9b0-43e7-b543-67b9a130db2e" class="outline-2">
<h2 id="h:b17d4463-f9b0-43e7-b543-67b9a130db2e"><span class="section-number-2">1.</span> <code>init.el</code> (å­¦ä¹ )</h2>
<div class="outline-text-2" id="text-h:b17d4463-f9b0-43e7-b543-67b9a130db2e">
<p>
å¼€å¯å­¦ä¹ 
</p>
<div class="org-src-container">
<pre class="src src-sh">:PROPERTIES:
:HEADER-ARGS: :tangle init.el
:END:
</pre>
</div>
</div>
<div id="outline-container-h:0e90d45f-f8d6-4b1e-b32a-143e762454e8" class="outline-3">
<h3 id="h:0e90d45f-f8d6-4b1e-b32a-143e762454e8"><span class="section-number-3">1.1.</span> å®‰è£…</h3>
<div class="outline-text-3" id="text-h:0e90d45f-f8d6-4b1e-b32a-143e762454e8">
<p>
æœ¬æ–‡emacså®‰è£…åœ¨windowsç¯å¢ƒä¸­ï¼Œä½¿ç”¨ <a href="https://www.msys2.org/">msys2</a> å·¥å…·å®‰è£…ã€‚å¦‚å®‰è£…åˆ° <code>D:\msys64</code>, å¹¶è®¾ç½®PATHå˜é‡(<code>D:\msys64\mingw64\bin</code>, <code>D:\msys64\usr\bin</code>)
</p>

<p>
æ›´æ–°msys2, å¦‚ä¸‹æ›´æ–°å‘½ä»¤æ‰§è¡Œ2é
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -Suy
</pre>
</div>

<p>
æ·»åŠ msys2å³é”®èœå•ï¼š åˆ›å»º emacs-shell.regæ³¨å†Œè¡¨æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼ŒåŒå‡»æ‰§è¡Œå³å¯
</p>
<pre class="example" id="orgd353099">
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\Background\shell\MSYS2]
@="MSYS2 Bash Here"
"Icon"="d:\\msys64\\msys2.ico"

[HKEY_CLASSES_ROOT\Directory\Background\shell\MSYS2\command]
@="d:\\msys64\\msys2_shell.cmd -mingw64 -here"
</pre>
</div>
<div id="outline-container-h:f9b3ea3c-a220-4130-9b15-7f85c2037540" class="outline-4">
<h4 id="h:f9b3ea3c-a220-4130-9b15-7f85c2037540"><span class="section-number-4">1.1.1.</span> äºŒè¿›åˆ¶å®‰è£…</h4>
<div class="outline-text-4" id="text-h:f9b3ea3c-a220-4130-9b15-7f85c2037540">
<p>
å®‰è£…emacs
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S mingw-w64-x86_64-emacs
</pre>
</div>
</div>
</div>
<div id="outline-container-h:04da44fe-12b5-4de9-afc1-126ff7ecfc15" class="outline-4">
<h4 id="h:04da44fe-12b5-4de9-afc1-126ff7ecfc15"><span class="section-number-4">1.1.2.</span> æºç å®‰è£…</h4>
<div class="outline-text-4" id="text-h:04da44fe-12b5-4de9-afc1-126ff7ecfc15">
<ul class="org-ul">
<li><a href="https://savannah.gnu.org/projects/emacs/">https://savannah.gnu.org/projects/emacs/</a> (å®˜æ–¹åœ°å€ï¼Œæ¨è)</li>
<li><a href="https://github.com/emacs-mirror/emacs">https://github.com/emacs-mirror/emacs</a> (githubé•œåƒ)</li>
</ul>

<p>
ä¸‹è½½æºç ï¼ŒæŸ¥çœ‹INSTALLæ–‡ä»¶ä¸­ä¸åŒæ“ä½œç³»ç»Ÿå®‰è£…æŒ‡å¼•
</p>

<p>
<b>windows</b>
nt/INSTALL.W64
</p>

<p>
å‚è€ƒï¼š<a href="https://eason0210.github.io/post/install-gccemacs/">https://eason0210.github.io/post/install-gccemacs/</a>
</p>

<p>
åœ¨ Mingw64 ç»ˆç«¯ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ä¾èµ–ã€‚
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S --needed base-devel <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-toolchain <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-xpm-nox <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-gmp <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-gnutls <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-libtiff <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-giflib <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-libpng <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-libjpeg-turbo <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-librsvg <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-libwebp <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-lcms2 <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-libxml2 <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-zlib <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-harfbuzz <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-libgccjit <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-sqlite3 <span style="color: #8b2252;">\</span>
mingw-w64-x86_64-tree-sitter
</pre>
</div>

<p>
ä¸‹è½½ Emacs æºä»£ç 
</p>
<div class="org-src-container">
<pre class="src src-sh">git clone -b master git://git.sv.gnu.org/emacs.git
<span style="color: #483d8b;">cd</span> emacs

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22914;&#26524;&#25191;&#34892;./autogen.sh&#36807;&#31243;&#20013;&#20986;&#38169;&#65292;&#21487;&#33021;&#26159;&#22240;&#20026;&#20811;&#38534;&#20195;&#30721;&#21518; checkout &#26102;&#29992;&#20102; CRLF.</span>
git config core.autocrlf false
</pre>
</div>

<p>
ç¼–è¯‘ Emac
</p>
<div class="org-src-container">
<pre class="src src-sh">./autogen.sh  <span style="color: #b22222;">#</span><span style="color: #b22222;">&#22914;&#26524;&#25552;&#31034;&#29256;&#26412;&#19981;&#22815; pacman -Su autoconf</span>
./configure --prefix=/d/programs/emacs --without-dbus

<span style="color: #483d8b;">echo</span> $(nproc)

make -j4
make install
<span style="color: #b22222;">#</span><span style="color: #b22222;">make install prefix=/d/opt/emacs #&#25351;&#23450;&#23433;&#35013;&#30446;&#24405;</span>
</pre>
</div>
<ol class="org-ol">
<li><code>echo $(nproc)</code> ä¼šæ˜¾ç¤ºå½“å‰ç³»ç»Ÿçš„ CPU æ ¸å¿ƒæ•°ï¼›ç„¶ååœ¨ <code>make -j4</code> å°±æ˜¯ä½¿ç”¨ 4 ä¸ªæ ¸å¿ƒè¿›è¡Œç¼–è¯‘, æ¨èä½¿ç”¨æ€»æ•°çš„ä¸€åŠï¼Œæ—¢æé«˜äº†ç¼–è¯‘é€Ÿåº¦ï¼Œä¹Ÿä¸å½±å“å…¶ä»–åº”ç”¨çš„è¿è¡Œã€‚</li>
<li>å¦‚æœéœ€è¦å¸è½½çš„è¯åœ¨æºç ç›®å½•é‡Œé¢ <code>make uninstall</code> å°±å¯ä»¥äº†ã€‚å»ºè®®å®‰è£…åœ¨æŒ‡å®šç›®å½•ï¼Œæ³¨æ„åœ¨è·¯å¾„ä¸­ä½¿ç”¨æ–œæ &ldquo;/&rdquo;, è€Œä¸æ˜¯åæ–œæ &ldquo;\&rdquo;ã€‚</li>
<li>å¦‚æœç¼–è¯‘è¿‡ç¨‹å‡ºé”™äº†ï¼Œè®°å¾— <code>make clean</code> ä¹‹åé‡æ–° <code>configure</code> å† <code>make</code> ã€‚</li>
</ol>

<p>
æµ‹è¯•è¿è¡Œ Emacs
</p>

<p>
<code>bin\runemacs.exe -Q</code>
</p>

<p>
ä» mingw64 shell å¤–éƒ¨è¿è¡Œ Emacs æ—¶ï¼Œæ‚¨éœ€è¦
å°† dï¼š\msys64\mingw64\bin æ·»åŠ åˆ°æ‚¨çš„ Windows PATHï¼Œæˆ–å¤åˆ¶æ‰€éœ€çš„
DLL æ·»åŠ åˆ° Emacs çš„ bin/ ç›®å½•ä¸­ã€‚ å¦åˆ™ï¼ŒTLS ç­‰åŠŸèƒ½ä¼šå¯¼è‡´
å–å†³äºé‚£äº›DLLå°†ä¸¢å¤±
</p>

<p>
å°† <code>d:\programs\emacs\bin</code> åŠ å…¥åˆ°ç¯å¢ƒå˜é‡ã€‚ å¦‚æœå’Œmsys2ä¸­çš„emacsåŒå­˜ï¼Œå°†pathä¸­çš„æºç å®‰è£…çš„è·¯å¾„æ”¾åœ¨msys2çš„emacså‰é¢ã€‚
</p>

<p>
åˆ›å»ºå¿«æ·æ–¹å¼
</p>

<p>
è¯·å³é”®é€‰æ‹©æ–°å»ºå¿«æ·æ–¹å¼ï¼Œé€‰æ‹©bin\runemacs.exe, å¹¶èµ·ä¸ªåã€‚ å³é”®å¿«æ·æ–¹å¼ <code>å±æ€§</code> ï¼Œç›®æ ‡å¤„æ·»åŠ å‘½ä»¤è¡Œé€‰é¡¹ <code>--debug-init</code> 
</p>
</div>
</div>
</div>
<div id="outline-container-h:learn-key" class="outline-3">
<h3 id="h:learn-key"><span class="section-number-3">1.2.</span> æ”¹é”®</h3>
<div class="outline-text-3" id="text-h:learn-key">
<p>
æ¨¡å—åŒ–é…ç½®ä¸­æ·»åŠ äº†é”®ç»‘å®š<a href="#h:basic-default">(<code>init-basic.el</code> ä¸€äº›é»˜è®¤çš„é…ç½®)</a>
</p>


<ul class="org-ul">
<li>M(eta)ï¼šç»Ÿä¸€å¯¹åº”é”®ç›˜æŒ‰é”®(PC/Mac)ï¼šleft windows/option</li>
<li>s(uper)ï¼šç»Ÿä¸€å¯¹åº”é”®ç›˜æŒ‰é”®(PC/Mac)ï¼šleft Alt/command</li>
<li>C(trl)ï¼šç»Ÿä¸€å¯¹åº”é”®ç›˜æŒ‰é”®(PC/Mac): Caps Lock</li>
</ul>

<p>
Mac åªéœ€è¦æ”¹å¤§å†™é”®ï¼ŒWindows å¯¹é½macçš„å¸ƒå±€
</p>
<dl class="org-dl">
<dt>MacOS</dt><dd>åœ¨ MacOS ä¸­, å¤§å®¶å¯ä»¥åœ¨ <code>system</code> -&gt; <code>keyboard</code> -&gt;  <code>function
  al keys</code> ä¸­è°ƒæ•´æ‰€æœ‰åŠŸèƒ½é”®çš„é”®ä½.</dd>
</dl>

<p>
1.Windows SharpKeys æ”¹é”®
</p>

<p>
æ¥æŠŠ Left Window é”®æ”¹æˆ Left Alt é”®ï¼ŒLeft Alt é”®æ”¹æˆ A
pp é”®ï¼Œå¤§å°å†™é”®æ”¹æˆ Ctrl é”®ã€‚
</p>


<p>
å®˜æ–¹ä¸‹è½½ï¼š<a href="https://github.com/randyrants/sharpkeys">https://github.com/randyrants/sharpkeys</a>ï¼Œå®‰è£…å win èœå•æœ
ç´¢ sharpkeyï¼Œä¿®æ”¹å®Œæˆåå†™å…¥æ³¨å†Œè¡¨é‡æ–°å¼€æœºç”Ÿæ•ˆã€‚
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">åŸé”®</td>
<td class="org-left">ç›®æ ‡é”®</td>
<td class="org-left">è¯´æ˜</td>
</tr>

<tr>
<td class="org-left">Caps Lock(00_3A)</td>
<td class="org-left">Left Ctrl(01_1D)</td>
<td class="org-left">å¤§å°å†™é”®æ”¹æˆCtrlé”®</td>
</tr>

<tr>
<td class="org-left">Left Alt(00_38)</td>
<td class="org-left">Application(E0_5D)</td>
<td class="org-left">å·¦Alté”®æ”¹æˆAppé”®</td>
</tr>

<tr>
<td class="org-left">Left Windows(E0_5B)</td>
<td class="org-left">Left Alt(00_38)</td>
<td class="org-left">å·¦è§†çª—é”®æ”¹æˆå·¦Alté”®</td>
</tr>

<tr>
<td class="org-left">Right Alt(E0_38)</td>
<td class="org-left">Left Windows(E0_5B)</td>
<td class="org-left">å³Alté”®æ”¹æˆå·¦è§†çª—é”®</td>
</tr>
</tbody>
</table>


<p>
2.é…ç½®
</p>

<p>
Emacs é»˜è®¤ Alt é”®å°±æ˜¯ Metaï¼Œè€Œ App é”®æˆ‘ä»¬æ”¹æˆ super é”®ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢ çš„ Elisp ä»£ç æ¥å®Œæˆã€‚
</p>

<p>
window é…ç½®
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> w32-apps-modifier 'super)       <span style="color: #b22222;">; </span><span style="color: #b22222;">&#36890;&#36807;SharpKeys&#25913;&#25104;&#20102; Application</span>
</pre>
</div>

<p>
mac é…ç½®
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;  </span><span style="color: #b22222;">Opt -&gt; meta : M, Cmd -&gt; super : s</span>
(<span style="color: #a020f0;">setq</span> mac-option-modifier 'meta
      mac-command-modifier 'super)
</pre>
</div>

<p>
3.å®šä¹‰å¸¸ç”¨æ“ä½œ
</p>

<p>
ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠ Mac ä¸‹é¢çš„å¤åˆ¶ã€ç²˜è´´ã€å‰ªåˆ‡ã€å…¨é€‰ç­‰å‘½ä»¤ç§»æ¤åˆ° Emacs ä¸­
æ¥äº†ï¼Œå¹¶ä¸”è¿™ä¸€å¥—æŒ‰é”®æ˜¯è·¨å¹³å°çš„ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #8b2252;">"s-a"</span>) 'mark-whole-buffer) <span style="color: #b22222;">;;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-a &#20840;&#36873;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-c"</span>) 'kill-ring-save) <span style="color: #b22222;">;;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-c &#22797;&#21046;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-s"</span>) 'save-buffer) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-s &#20445;&#23384;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-v"</span>) 'yank) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-v &#31896;&#36148;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-z"</span>) 'undo) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrol-z &#25764;&#38144;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b8400296-41de-4401-98c6-094756c3ee53" class="outline-3">
<h3 id="h:b8400296-41de-4401-98c6-094756c3ee53"><span class="section-number-3">1.3.</span> å¸¸ç”¨é…ç½®</h3>
<div class="outline-text-3" id="text-h:b8400296-41de-4401-98c6-094756c3ee53">
<p>
1.å…‰æ ‡ç§»åŠ¨
</p>

<p>
å…‰æ ‡çš„ç§»åŠ¨æ˜¯ç¼–è¾‘å™¨ä¸­æœ€å¸¸ç”¨çš„æ“ä½œæ‰€ä»¥å¿…é¡»ç†ŸçŸ¥ã€‚
</p>

<ul class="org-ul">
<li>C-f ä¸ºå‰ç§»ä¸€ä¸ªå­—ç¬¦ï¼Œ f ä»£è¡¨ forwardã€‚</li>
<li>C-b ä¸ºåç§»ä¸€ä¸ªå­—ç¬¦ï¼Œ b ä»£è¡¨ backwardã€‚</li>
<li>C-p ä¸ºä¸Šç§»è‡³å‰ä¸€è¡Œï¼Œ p ä»£è¡¨ previousã€‚</li>
<li>C-n ä¸ºä¸Šç§»è‡³ä¸‹ä¸€è¡Œï¼Œ n ä»£è¡¨ nextã€‚</li>
<li>C-a ä¸ºç§»è‡³è¡Œé¦–ï¼Œ a ä»£è¡¨ aheadã€‚</li>
<li>C-e ä¸ºç§»è‡³è¡Œå°¾ï¼Œ e ä»£è¡¨ endã€‚</li>
</ul>

<p>
åŒæ ·é€‚ç”¨äº Shell ç»ˆç«¯é‡Œé¢ã€‚
</p>

<p>
2.å†…ç½®åŠŸèƒ½
</p>

<p>
Emacs åŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯éƒ¨åˆ†åŠŸèƒ½é»˜è®¤æƒ…å†µä¸‹å¹¶æœªå¼€å¯ã€‚
</p>

<p>
å¦‚ç¼–è¾‘å™¨å†…æ˜¾ç¤ºè¡Œå·å¯ä½¿ç”¨ M-x linum-mode æ¥å¼€å¯ã€‚
</p>

<p>
é…ç½®æ–‡ä»¶
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-display-line-numbers-mode 1) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#26174;&#31034;&#34892;&#21495; 29&#29256;&#26412;&#12290;29&#20043;&#21069;&#29992;(global-linum-mode 1)</span>
(<span style="color: #a020f0;">setq</span> inhibit-startup-screen t) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#23581;&#35797;&#20851;&#25481;&#21551;&#21160;&#30028;&#38754;</span>
</pre>
</div>

<p>
3.å¸®åŠ©
</p>

<p>
Emacs æ˜¯ä¸€ä¸ªå¯Œæ–‡æ¡£ç¼–è¾‘å™¨ï¼ˆSelf document, extensible editorï¼‰è€Œä¸‹é¢çš„ä¸‰ç§æ–¹æ³•åœ¨å­¦ ä¹  Emacs çš„è¿‡ç¨‹ä¸­ä¹Ÿéå¸¸é‡è¦ã€‚ä»–ä»¬åˆ†åˆ«æ˜¯ï¼Œ
</p>

<p>
C-h k å¯»æ‰¾å¿«æ·é”®çš„å¸®åŠ©ä¿¡æ¯
C-h v å¯»æ‰¾å˜é‡çš„å¸®åŠ©ä¿¡æ¯
C-h f å¯»æ‰¾å‡½æ•°çš„å¸®åŠ©ä¿¡æ¯
</p>

<p>
4.windows å³é”®èœå•æ·»åŠ  Open With Emacs åŠŸèƒ½
</p>

<p>
åˆ›å»ºæ³¨å†Œè¡¨æ–‡ä»¶ emacs-context.reg
</p>

<div class="org-src-container">
<pre class="src src-sh">Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT<span style="color: #8b2252;">\*</span>\shell]
[HKEY_CLASSES_ROOT<span style="color: #8b2252;">\*</span>\shell\openwemacs]
@=<span style="color: #8b2252;">"&amp;Edit with Emacs"</span>
[HKEY_CLASSES_ROOT<span style="color: #8b2252;">\*</span>\shell\openwemacs\command]
@=<span style="color: #8b2252;">"D:\\msys64\\mingw64\\bin\\emacsclientw.exe -n \"%1\""</span>
[HKEY_CLASSES_ROOT\Directory\shell\openwemacs]
@=<span style="color: #8b2252;">"Edit &amp;with Emacs"</span>
[HKEY_CLASSES_ROOT\Directory\shell\openwemacs\command]
@=<span style="color: #8b2252;">"D:\\msys64\\mingw64\\bin\\emacsclientw.exe -n \"%1\""</span>
</pre>
</div>


<p>
ä½¿ç”¨è¿™ä¸ª OpenWithEmacs çš„åŠŸèƒ½ï¼ŒEmacs éœ€è¦å¼€å¯ Server Modeï¼Œä»£ç å¦‚ä¸‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(server-mode 1)
</pre>
</div>

<p>
åŒå‡»æ³¨å†Œæ–‡ä»¶ã€‚è¿™æ—¶å³é”®æ‰“å¼€æ–‡ä»¶å°±å¯ä»¥é€‰æ‹©emacsæ‰“å¼€äº†ã€‚
</p>

<p>
5.è¡¥å…¨
<a id="org1e74b53"></a>
</p>

<p>
åœ¨æˆ‘çš„é…ç½®ä¸­æ·»åŠ å†…ç½®è¡¥å…¨<a href="#h:completion-built-in">(<code>init-completion.el</code> å†…ç½®è¡¥å…¨)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20869;&#32622;&#34917;&#20840;&#21151;&#33021;n</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq tab-always-indent 'complete)           ;; &#20351;&#29992; TAB &#26469;&#21015;&#20986;&#24403;&#21069;&#34917;&#20840;&#36873;&#39033;</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(icomplete-mode t)                         ;; &#24320;&#21551;&#30340;&#65292;&#22312;&#25353; M-x &#26102;&#23601;&#26377;&#21487;&#36873;&#30340;&#36873;&#39033;&#20102;&#12290;&#20351;&#29992; vertico-mode&#65292;&#20851;&#38381;&#27492;&#39033;</span>
</pre>
</div>

<p>
6.åŸºç¡€Elisp
</p>

<p>
Emacs Lisp æ˜¯ä¸–ç•Œä¸Šç¬¬äºŒå¤è€é«˜çº§ç¼–ç¨‹è¯­è¨€ Lisp ä¸“ä¸º Emacs æ‰“é€ çš„æ–¹è¨€ã€‚å®˜æ–¹æä¾›äº† Emacs Lisp çš„<a href="https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html">å…¥é—¨</a>ä»‹ç»å’Œ<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/index.html">å‚è€ƒæ‰‹å†Œ</a>ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">2 + 2</span>
(+ 2 2)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">2 + 3 * 4</span>
(+ 2 (* 3 4))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23450;&#20041;&#21464;&#37327;</span>
(<span style="color: #a020f0;">setq</span> name <span style="color: #8b2252;">"username"</span>)
(message name) <span style="color: #b22222;">; </span><span style="color: #b22222;">-&gt; "username"</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23450;&#20041;&#20989;&#25968;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">func</span> ()
  (message <span style="color: #8b2252;">"Hello, %s"</span> name))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25191;&#34892;&#20989;&#25968;</span>
(func) <span style="color: #b22222;">; </span><span style="color: #b22222;">C-x C-e -&gt; Hello, username</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#24555;&#25463;&#38190;</span>
(global-set-key (kbd <span style="color: #8b2252;">"&lt;f1&gt;"</span>) 'func)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#20989;&#25968;&#21487;&#30452;&#25509;&#34987;&#35843;&#29992;&#21487;&#28155;&#21152; (interactive)</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">func</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (message <span style="color: #8b2252;">"Hello, %s"</span> name))
</pre>
</div>

<p>
å®šä¹‰f4å¿«é€Ÿæ‰“å¼€é…ç½®æ–‡ä»¶
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24555;&#36895;&#25171;&#24320;&#37197;&#32622;&#25991;&#20214;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">open-init-file</span>()
  (<span style="color: #a020f0;">interactive</span>)
  (find-file <span style="color: #8b2252;">"~/.emacs.d/init.el"</span>))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#19968;&#34892;&#20195;&#30721;&#65292;&#23558;&#20989;&#25968; open-init-file &#32465;&#23450;&#21040; &lt;f4&gt; &#38190;&#19978;</span>
(global-set-key (kbd <span style="color: #8b2252;">"&lt;f4&gt;"</span>) 'open-init-file)
</pre>
</div>

<p>
7.å¤–è§‚é…ç½®
<a id="orge4a9720"></a>
</p>

<p>
æˆ‘çš„æ¨¡å—åŒ–é…ç½®<a href="#h:ui-built-in">(<code>init-ui.el</code> å†…ç½®é…ç½®)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;</span><span style="color: #b22222;">(toggle-frame-maximized)                   ; &#20840;&#23631;&#32534;&#36753;&#22120;</span>
(tool-bar-mode -1)                           <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20851;&#38381;&#24037;&#20855;&#26639;&#65292;tool-bar-mode &#21363;&#20026;&#19968;&#20010; Minor Mode</span>
(scroll-bar-mode -1)                         <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20851;&#38381;&#25991;&#20214;&#28369;&#21160;&#25511;&#20214;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(menu-bar-mode -1)                        ; &#20851;&#38381;&#33756;&#21333;&#26639; (&#19981;&#20851;&#38381;&#65292;&#20351;&#29992;&#25554;&#20214;&#26102;&#20250;&#29992;&#21040;)</span>

(<span style="color: #a020f0;">setq-default</span> cursor-type 'bar)              <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26356;&#25913;&#20809;&#26631;&#30340;&#26679;&#24335;&#65292;&#40664;&#35748;&#27604;&#36739;&#31895;. &#26356;&#22810;C-h v &#26597;&#35810;&#24110;&#21161;</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq cursor-type 'bar)                    ; &#26356;&#25913;&#20809;&#26631;&#30340;&#26679;&#24335;&#12290;setq&#24403;&#21069;buffer&#29983;&#25928;&#65292;&#19981;&#33021;&#20840;&#23616;&#29983;&#25928;</span>

<span style="color: #b22222;">;;</span><span style="color: #b22222;">(set-face-attribute 'default nil :height 150) ; &#20462;&#25913;&#23383;&#21495;&#65292;&#22823;&#23567;&#20026;16pt</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#35753;&#40736;&#26631;&#28378;&#21160;&#26356;&#22909;&#29992;&#12290;&#40664;&#35748;&#28378;&#21160;&#24456;&#24555;</span>
(<span style="color: #a020f0;">setq</span> mouse-wheel-scroll-amount '(3 ((shift) . 1) ((control) . nil)))
(<span style="color: #a020f0;">setq</span> mouse-wheel-progressive-speed nil)

(global-hl-line-mode t)                      <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#39640;&#20142;&#24403;&#21069;&#34892;</span>
(<span style="color: #a020f0;">setq</span> make-backup-files nil)                 <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20851;&#38381;&#25991;&#20214;&#33258;&#21160;&#22791;&#20221;&#12290;&#22914;&#26524;&#26159;&#26377;git&#26469;&#31649;&#29702;&#25991;&#20214;&#65292;&#22791;&#20221;&#25991;&#20214;&#27809;&#26377;&#22826;&#22823;&#24847;&#20041;&#12290;~ &#20026;&#21518;&#32512;&#30340;&#25991;&#20214;&#20026;&#33258;&#21160;&#29983;&#25104;&#30340;&#22791;&#20221;&#25991;&#20214;</span>
(<span style="color: #a020f0;">setq</span> auto-save-default nil)   <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20851;&#38381;&#33258;&#21160;&#20445;&#23384;&#25991;&#20214;&#65292;#&#20026;&#21518;&#32512;&#30340;&#25991;&#20214;</span>
(fset 'yes-or-no-p 'y-or-n-p)                <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26576;&#20010;&#21629;&#20196;&#26102;&#38656;&#35201;&#36755;&#20837; (yes or no) </span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4a222504-05b5-4a0d-80ab-6cd04ee213a5" class="outline-3">
<h3 id="h:4a222504-05b5-4a0d-80ab-6cd04ee213a5"><span class="section-number-3">1.4.</span> å…³äº lexical binding</h3>
<div class="outline-text-3" id="text-h:4a222504-05b5-4a0d-80ab-6cd04ee213a5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#27809;&#26377;&#28608;&#27963;&#12290;&#22312;&#25991;&#20214;&#26368;&#24320;&#22836;&#28155;&#21152;&#25991;&#20214;&#20316;&#29992;&#22495;&#30340;&#21464;&#37327;&#35774;&#32622;&#65292;&#35774;&#32622;&#21464;&#37327;&#30340;&#32465;&#23450;&#26041;&#24335;&#12290;&#35774;&#32622;&#22312;&#24403;&#21069;&#25991;&#20214;&#20316;&#29992;&#22495;&#20869;&#26159;&#28608;&#27963;&#30340;&#12290;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">-*- lexical-binding: t -*-</span>
(<span style="color: #a020f0;">let</span> ((x 1))    <span style="color: #b22222;">; </span><span style="color: #b22222;">x is lexically bound.</span>
  (+ x 3))
     &#8658; 4       <span style="color: #b22222;">; </span><span style="color: #b22222;">1 + 3 &#30340;&#20540;&#20026; 4</span>

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">getx</span> ()
  x)            <span style="color: #b22222;">; </span><span style="color: #b22222;">x is used free in this function.</span>

(<span style="color: #a020f0;">let</span> ((x 1))    <span style="color: #b22222;">; </span><span style="color: #b22222;">x is lexically bound. getx &#26159;&#29992;&#19981;&#21040; let &#23450;&#20041;&#30340; x &#30340;</span>
  (getx))
<span style="color: #b22222;">;;</span><span style="color: #b22222;">error&#8594; Symbol's value as variable is void: x</span>
</pre>
</div>

<p>
å…³äº<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Lexical-Binding.html">lexical binding</a>æ›´å¤šçš„ç»†èŠ‚ï¼Œå¯ä»¥è‡ªè¡Œé˜…è¯» Emacs çš„å®˜æ–¹æ–‡æ¡£ã€‚ç¨‹åºä»£ç ä½¿ç”¨ lexical binding ä¼šæ›´åˆ©äºå¹¶å‘ï¼Œç¼–è¾‘å™¨ä¼šæ‰§è¡Œä¸€äº›ä¼˜åŒ–è®©ä»£ç æ‰§è¡Œçš„æ›´å¿«ã€‚å¾ˆå¤šæ’ä»¶è¦æ±‚å®‰è£… lexical bindingã€‚
</p>

<p>
èŒƒä¾‹ï¼šinit.el
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">init.el --- Load the full configuration -*- lexical-binding: t -*-</span>
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file bootstraps the configuration, which is divided into</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">a number of other files.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

(+ 1 2)

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">init.el ends here</span>
</pre>
</div>

<p>
ä¸‰ä¸ªåˆ†å·å¼€å¤´çš„æ³¨é‡Šè¡¨ç¤ºâ€œèŠ‚â€ï¼Œä¸¤ä¸ªåˆ†å·å¼€å¤´çš„æ³¨é‡Šè¡¨ç¤ºâ€œæ®µè½â€ã€‚ï¼ˆä¸€ä¸ªåˆ†å·å¼€å¤´çš„æ˜¯ä¸€è¡Œä»£ç åé¢çš„è¡Œå†…æ³¨é‡Šï¼‰ã€‚
</p>
</div>
</div>
<div id="outline-container-h:ef17a11a-df61-41c6-8bbd-8d92766b4273" class="outline-3">
<h3 id="h:ef17a11a-df61-41c6-8bbd-8d92766b4273"><span class="section-number-3">1.5.</span> æ’ä»¶æº</h3>
<div class="outline-text-3" id="text-h:ef17a11a-df61-41c6-8bbd-8d92766b4273">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">package</span>)
(<span style="color: #a020f0;">setq</span> package-check-signature nil 
      load-prefer-newer t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20010;&#21035;&#26102;&#20505;&#20250;&#20986;&#29616;&#31614;&#21517;&#26657;&#39564;&#22833;&#36133;</span>
(<span style="color: #a020f0;">setq</span> package-archives
          '((<span style="color: #8b2252;">"melpa"</span>  . <span style="color: #8b2252;">"https://melpa.org/packages/"</span>)
            (<span style="color: #8b2252;">"gnu"</span>    . <span style="color: #8b2252;">"https://elpa.gnu.org/packages/"</span>)
            (<span style="color: #8b2252;">"nongnu"</span> . <span style="color: #8b2252;">"https://elpa.nongnu.org/nongnu/"</span>)))

(<span style="color: #a020f0;">unless</span> (<span style="color: #a020f0;">bound-and-true-p</span> package--initialized)
  (package-initialize)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21047;&#26032;&#36719;&#20214;&#28304;&#32034;&#24341;</span>

<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#38450;&#27490;&#21453;&#22797;&#35843;&#29992; package-refresh-contents &#20250;&#24433;&#21709;&#21152;&#36733;&#36895;&#24230;</span>
(<span style="color: #a020f0;">when</span> (not package-archive-contents)
  (package-refresh-contents))

<span style="color: #b22222;">;;</span><span style="color: #b22222;">modeline&#19978;&#26174;&#31034;&#25105;&#30340;&#25152;&#26377;&#30340;&#25353;&#38190;&#21644;&#25191;&#34892;&#30340;&#21629;&#20196;</span>
(package-install 'keycast) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#21253;&#20250;&#23433;&#35013;&#22312;elpa&#30446;&#24405;&#20013;</span>
(keycast-mode-line-mode t)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6483447a-d63f-42b0-8c5c-48eebe7d352c" class="outline-3">
<h3 id="h:6483447a-d63f-42b0-8c5c-48eebe7d352c"><span class="section-number-3">1.6.</span> å®‰è£…è¡¥å…¨æ’ä»¶</h3>
<div class="outline-text-3" id="text-h:6483447a-d63f-42b0-8c5c-48eebe7d352c">
<p>
<b>Companyæ’ä»¶</b>
<a id="org138e070"></a>
</p>

<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-company">(<code>init-completion.el</code> è¡¥å…¨ <code>company</code>)</a>
</p>

<p>
ä»–æ˜¯ä¸€ä¸ªç”¨äºä»£ç è¡¥å…¨çš„æ’ä»¶
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24320;&#21551;&#20840;&#23616; Company &#34917;&#20840;</span>
(package-install 'company)
(global-company-mode 1)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">company mode &#40664;&#35748;&#36873;&#25321;&#19978;&#19968;&#26465;&#21644;&#19979;&#19968;&#26465;&#20505;&#36873;&#39033;&#21629;&#20196; M-n M-p</span>
(define-key company-active-map (kbd <span style="color: #8b2252;">"C-n"</span>) 'company-select-next)
(define-key company-active-map (kbd <span style="color: #8b2252;">"C-p"</span>) 'company-select-previous)
</pre>
</div>

<p>
<b>å¢å¼º minibuffer è¡¥å…¨ï¼švertico å’Œ Orderless</b>
<a id="orga7a3fc2"></a>
</p>

<ul class="org-ul">
<li>æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-orderless">(<code>init-completion.el</code> minibufferå¢å¼º <code>orderless</code>)</a></li>
<li>æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-vertico">(<code>init-completion.el</code> minibufferå¢å¼º <code>vertico</code>)</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(package-install 'vertico)
(vertico-mode t)

(package-install 'orderless)
(<span style="color: #a020f0;">setq</span> completion-styles '(orderless))
</pre>
</div>

<p>
æœ‰äº† vertico-modeï¼ŒæŠŠä¹‹å‰çš„ icomplete-mode å…³æ‰ã€‚ è¡¥å…¨å˜ä¸ºå‚ç›´ï¼Œå‚ç›´å¯¹äºæˆ‘ä»¬æ˜¯æ›´å‹å¥½çš„ï¼Œæ‰€æœ‰ minibuffer çš„è¡Œä¸ºçš„å¯ä»¥è¡¥å…¨ã€‚å¦‚ä½¿ç”¨ <code>M-x</code> è¡¥å…¨å˜ä¸ºå‚ç›´,  <code>C-x C-f</code> å¢å¼ºæ˜¾ç¤ºç›®å½•ä¸‹æ–‡ä»¶ã€ <code>C-x b</code> å˜ä¸ºå‚ç›´ã€‚
</p>

<p>
orderless æ”¯æŒ <code>M-x</code> æ¨¡ç³Šæœç´¢ï¼Œå¯ä»¥æ— åºçš„ã€‚ å¦‚ edebug-defun å‡½æ•°æœç´¢ï¼Œ <code>M-x fun debug</code>
</p>


<p>
<b>é…ç½® Marginalia å¢å¼º minubuffer çš„ annotation</b>
<a id="org3f95981"></a>
</p>

<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-marginalia">(<code>init-completion.el</code>  minubufferå¢å¼ºæ³¨é‡Š <code>marginalia</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs">(package-install 'marginalia)
(marginalia-mode t)
</pre>
</div>

<p>
<code>M-x</code> å¯ä»¥çœ‹åˆ°å®ƒä¼šæŠŠå‘½ä»¤çš„æ³¨é‡Šç›´æ¥æ˜¾ç¤ºåœ¨minibufferä¸­
</p>

<p>
<code>C-h v</code> æŸ¥çœ‹ä¸€ä¸ªå˜é‡çš„å†…å®¹ï¼Œå¯ä»¥å‘ç°ä¸ç”¨å†æŒ‰å›è½¦çœ‹åˆ°é‡Œé¢çš„å€¼ã€‚ç›´æ¥æ˜¾ç¤ºåœ¨minibufferä¸­
</p>

<p>
<code>C-h f</code> é”®ä½ç»‘å®šéƒ½å·²ç»åœ¨minibufferä¸­æ˜¾ç¤ºå‡ºæ¥äº†
</p>

<p>
<code>C-x C-f</code> æ˜¾ç¤ºæ–‡ä»¶å¤§å°æƒé™ç­‰ï¼Œ <code>C-x b</code> æ˜¾ buffer å¤§å°çŠ¶æ€ï¼Œ <code>C-h f</code> æ˜¾ç¤ºå‡½æ•°å¿«æ·é”®ç­‰
</p>

<p>
<b>minibuffer action å’Œè‡ªé€‚åº”çš„ context menuï¼šEmbark</b>
<a id="org408bc18"></a>
</p>

<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-embark">(<code>init-completion.el</code> minibufferå¢å¼º <code>embark</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(package-install 'embark)
(global-set-key (kbd <span style="color: #8b2252;">"C-;"</span>) 'embark-act)
(<span style="color: #a020f0;">setq</span> prefix-help-command 'embark-prefix-help-command)
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<p>
å…‰æ ‡åœ¨å‡½æ•°ä½ç½®ï¼ŒæŒ‰ <code>C-;</code> 
</p>
<ul class="org-ul">
<li>RET æŸ¥çœ‹å…‰æ ‡å¤„å‡½æ•°å®šä¹‰æ–‡ä»¶ä½ç½®ï¼Œå¹¶æ‰“å¼€</li>
<li>c ä¿®æ”¹å˜é‡çš„å€¼
<ul class="org-ul">
<li>å¦‚ C-h v å˜é‡åï¼ŒæŒ‰ C-; c ä¿®æ”¹å˜é‡çš„å€¼</li>
</ul></li>
</ul>

<p>
ä¼˜ç‚¹ï¼šä¸éœ€è¦è®°å¿«æ·é”®äº†
</p>
<ul class="org-ul">
<li>ä»¥å‰æŸ¥çœ‹å‡½æ•°çš„ç»‘å®šé”®
<ul class="org-ul">
<li><code>C-h b</code> æŸ¥çœ‹å‡½æ•°å¿«æ·é”®ç»‘å®šï¼š</li>
<li>ä»¥å‰æŒ‰ <code>C-x C-h</code> æ—¶ï¼Œä¼šå‘Šè¯‰ä½  <code>C-x</code> ç»‘å®šäº†å“ªäº›å¿«æ·é”®</li>
</ul></li>
<li>è®¾ç½®äº† <code>(setq prefix-help-command #'embark-prefix-help-command)</code> å
<ul class="org-ul">
<li>æŒ‰ <code>C-x C-h</code> æ¨¡ç³Šè¾“å…¥å‡½æ•°åå¯çœ‹åˆ°ç»‘å®šçš„å¿«æ·é”®ï¼ŒæŒ‰å›è½¦å¯ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œå°±ä¸éœ€è¦å†è®°å¿«æ·é”®äº†</li>
</ul></li>
</ul>

<p>
<b>å¢å¼ºæ–‡ä»¶å†…æœç´¢å’Œè·³è½¬å‡½æ•°å®šä¹‰ï¼šConsult</b>
<a id="orgbb6726d"></a>
</p>

<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-consult">(<code>init-completion.el</code> å¢å¼ºæ–‡ä»¶å†…æœç´¢ <code>consult</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(package-install 'consult)
<span style="color: #b22222;">;;</span><span style="color: #b22222;">replace swiper &#21487;&#20197;&#26367;&#20195;&#32769;&#30340; ivy mode &#30340; swiper &#21151;&#33021;</span>
(global-set-key (kbd <span style="color: #8b2252;">"C-s"</span>) 'consult-line)
(global-set-key (kbd <span style="color: #8b2252;">"M-s i"</span>) 'consult-imenu)  <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36339;&#36716;&#20989;&#25968;&#23450;&#20041;</span>
</pre>
</div>

<p>
ä½¿ç”¨ <code>C-s</code> æœç´¢çš„å†…å®¹å°±ä¼šåœ¨minibufferä¸­å‚ç›´æ˜¾ç¤ºï¼Œä½¿ç”¨C-p æˆ– C-næ¥ä¸Šä¸‹é€‰æ‹©
</p>

<p>
ä½¿ç”¨ <code>M-s i</code> è·³è½¬å‡½æ•°å®šä¹‰æˆ–è€…org-modeæ ‡é¢˜
</p>

<p>
è¿™äº›ç»„åˆå¯ä»¥ç§’æ€ivy helmè¿™ç§ä¸€ç»Ÿçš„æ’ä»¶ã€‚
</p>

<p>
<b>æ‹¬å·</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(electric-pair-mode t)                       <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25324;&#21495;&#34917;&#20840;</span>
(add-hook 'prog-mode-hook #'show-paren-mode) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#32534;&#31243;&#27169;&#24335;&#19979;&#65292;&#20809;&#26631;&#22312;&#25324;&#21495;&#19978;&#26102;&#39640;&#20142;&#21478;&#19968;&#20010;&#25324;&#21495;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a10e6f11-2517-4c48-bcb7-5ee139fa2a2c" class="outline-3">
<h3 id="h:a10e6f11-2517-4c48-bcb7-5ee139fa2a2c"><span class="section-number-3">1.7.</span> æ‰‹å·¥å®‰è£…æ’ä»¶</h3>
<div class="outline-text-3" id="text-h:a10e6f11-2517-4c48-bcb7-5ee139fa2a2c">
<p>
ä»¥ <a href="https://github.com/manateelazycat/awesome-tab">awesome-tab</a>  ä¸ºä¾‹
</p>

<p>
åˆ›å»ºç›®å½•ï¼Œä½¿ç”¨å†…å®¹DiråŒ…ã€‚ <code>C-x d</code> å›è½¦ï¼Œ <code>+</code> åˆ›å»ºç›®å½•è¾“å…¥ç›®å½•åsite-lisp å›è½¦ï¼Œ <code>q</code> é€€å‡º
</p>

<p>
ä½¿ç”¨ <code>M-x eshell</code> å…‹éš†ä»£ç 
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">cd</span> site-lisp
git clone --depth=1 https://github.com/manateelazycat/awesome-tab.git
</pre>
</div>

<p>
é…ç½®æ–‡ä»¶
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path (expand-file-name <span style="color: #8b2252;">"~/.emacs.d/site-lisp/awesome-tab/"</span>))
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">awesome-tab</span>)
(awesome-tab-mode t)

<span style="color: #b22222;">;;</span><span style="color: #b22222;">(use-package awesome-tab</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">:ensure nil</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">:quelpa (awesome-tab :fetcher github :repo "manateelazycat/awesome-tab" :upgrade nil)</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">:init (awesome-tab-mode t)</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">)</span>

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">awesome-tab-buffer-groups</span> ()
<span style="color: #8b2252;">"`</span><span style="color: #008b8b;">awesome-tab-buffer-groups</span><span style="color: #8b2252;">' control buffers' group rules.</span>
<span style="color: #8b2252;">Group awesome-tab with mode if buffer is derived from `</span><span style="color: #008b8b;">eshell-mode</span><span style="color: #8b2252;">' `</span><span style="color: #008b8b;">emacs-lisp-mode</span><span style="color: #8b2252;">' `</span><span style="color: #008b8b;">dired-mode</span><span style="color: #8b2252;">' `</span><span style="color: #008b8b;">org-mode</span><span style="color: #8b2252;">' `</span><span style="color: #008b8b;">magit-mode</span><span style="color: #8b2252;">'.</span>
<span style="color: #8b2252;">All buffer name start with * will group to \"Emacs\".</span>
<span style="color: #8b2252;">Other buffer group by `</span><span style="color: #008b8b;">awesome-tab-get-group-name</span><span style="color: #8b2252;">' with project name."</span>
(list
(<span style="color: #a020f0;">cond</span>
    ((<span style="color: #a020f0;">or</span> (string-equal <span style="color: #8b2252;">"*"</span> (substring (buffer-name) 0 1))
        (memq major-mode '(magit-process-mode
                            magit-status-mode
                            magit-diff-mode
                            magit-log-mode
                            magit-file-mode
                            magit-blob-mode
                            magit-blame-mode)))
    <span style="color: #8b2252;">"Emacs"</span>)
    ((derived-mode-p 'eshell-mode)
    <span style="color: #8b2252;">"EShell"</span>)
    ((derived-mode-p 'dired-mode)
    <span style="color: #8b2252;">"Dired"</span>)
    ((memq major-mode '(org-mode org-agenda-mode diary-mode))
    <span style="color: #8b2252;">"OrgMode"</span>)
    ((derived-mode-p 'eaf-mode)
    <span style="color: #8b2252;">"EAF"</span>)
    (t
    (awesome-tab-get-group-name (current-buffer))))))
</pre>
</div>

<p>
å°½é‡ç”¨å†…ç½®çš„åŒ…ã€‚ <code>tab-bar</code>
</p>
</div>
</div>
<div id="outline-container-h:7d42306d-1ba7-468d-b67d-0d2e1894535e" class="outline-3">
<h3 id="h:7d42306d-1ba7-468d-b67d-0d2e1894535e"><span class="section-number-3">1.8.</span> å…¶ä»–å°é…ç½®</h3>
<div class="outline-text-3" id="text-h:7d42306d-1ba7-468d-b67d-0d2e1894535e">
<p>
<b>æœ€è¿‘æ‰“å¼€æ–‡ä»¶</b>
</p>

<p>
æœ€è¿‘æ‰“å¼€è¿‡æ–‡ä»¶çš„é€‰é¡¹è®©æˆ‘ä»¬æ›´å¿«æ·çš„åœ¨å›¾å½¢ç•Œé¢çš„èœå•ä¸­æ‰“å¼€æœ€è¿‘ ç¼–è¾‘è¿‡çš„æ–‡ä»¶ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">recentf</span>)
(recentf-mode 1)
(<span style="color: #a020f0;">setq</span> recentf-max-menu-item 10)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#20010;&#24555;&#25463;&#38190;&#32465;&#23450;&#21487;&#20197;&#29992;&#20043;&#21518;&#30340;&#25554;&#20214; counsel &#20195;&#26367;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(global-set-key (kbd "C-x C-r") 'recentf-open-files)</span>
</pre>
</div>

<p>
ä½¿ç”¨ä¸‹é¢çš„é…ç½®æ–‡ä»¶å°†åˆ é™¤åŠŸèƒ½é…ç½®æˆä¸å…¶ä»–å›¾å½¢ç•Œé¢çš„ç¼–è¾‘å™¨ç›¸åŒï¼Œå³å½“ä½ é€‰ä¸­ä¸€æ®µæ–‡å­— ä¹‹åè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¼šæ›¿æ¢æ‰ä½ é€‰ä¸­éƒ¨åˆ†çš„æ–‡å­—ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(delete-selection-mode t)                    <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36873;&#20013;&#25991;&#26412;&#21518;&#36755;&#20837;&#25991;&#26412;&#20250;&#26367;&#25442;&#25991;&#26412;&#65288;&#26356;&#31526;&#21512;&#25105;&#20204;&#20064;&#24815;&#20102;&#30340;&#20854;&#23427;&#32534;&#36753;&#22120;&#30340;&#36923;&#36753;&#12290;&#40664;&#35748;&#36873;&#20013;&#25918;&#21518;&#38754;</span>
</pre>
</div>

<p>
ä¸‹é¢çš„è¿™äº›å‡½æ•°å¯ä»¥è®©ä½ æ‰¾åˆ°ä¸åŒå‡½æ•°ï¼Œå˜é‡ä»¥åŠå¿«æ·é”®æ‰€å®šä¹‰çš„æ–‡ä»¶ä½ç½®ã€‚ å› ä¸ºéå¸¸å¸¸ç”¨ æ‰€ä»¥æˆ‘ä»¬å»ºè®®å°†å…¶è®¾ç½®ä¸ºä¸æŸ¥æ‰¾æ–‡æ¡£ç±»ä¼¼çš„å¿«æ·é”®ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œ
</p>

<p>
å¯ä»¥æŠŠå®ƒä»¬ç»‘å®šåˆ°é…ç½®ä¸­
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26597;&#35810;&#20989;&#25968;&#12289;&#21464;&#37327;&#12289;key &#23450;&#20041;&#30340;&#25991;&#20214;&#20301;&#32622;</span>
(global-set-key (kbd <span style="color: #8b2252;">"C-h C-f"</span>) 'find-function)
(global-set-key (kbd <span style="color: #8b2252;">"C-h C-v"</span>) 'find-variable)
(global-set-key (kbd <span style="color: #8b2252;">"C-h C-k"</span>) 'find-function-on-key)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2ecf5bf5-4f3f-4ac9-8483-ff26c87b2382" class="outline-3">
<h3 id="h:2ecf5bf5-4f3f-4ac9-8483-ff26c87b2382"><span class="section-number-3">1.9.</span> Emacsä½œä¸ºè¶…çº§å‰ç«¯</h3>
<div class="outline-text-3" id="text-h:2ecf5bf5-4f3f-4ac9-8483-ff26c87b2382">
<p>
å¯ä»¥éå¸¸å¿«çš„æ‰¾åˆ°æ–‡ä»¶æˆ–ç›®å½•
</p>
</div>
<div id="outline-container-h:learn-funcs-front-explorer" class="outline-4">
<h4 id="h:learn-funcs-front-explorer"><span class="section-number-4">1.9.1.</span> ä½¿ç”¨ Emacs æ¥æ‰“å¼€æ–‡ä»¶ç®¡ç†å™¨</h4>
<div class="outline-text-4" id="text-h:learn-funcs-front-explorer">
<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:j-embark">(<code>j-embark.el</code> åº“)</a>
</p>

<p>
windows ç”¨æˆ·
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(shell-command-to-string <span style="color: #8b2252;">"explorer.exe C:\\"</span>)

<span style="color: #b22222;">;;</span><span style="color: #b22222;">(shell-command-to-string "explorer.exe ~/.emacs.d") ; windows &#19981;&#35782;&#21035;~</span>

(shell-command-to-string
 (encode-coding-string
  (replace-regexp-in-string <span style="color: #8b2252;">"/"</span> <span style="color: #8b2252;">"\\\\\\\\"</span>
                (format <span style="color: #8b2252;">"explorer.exe %s"</span> (expand-file-name <span style="color: #8b2252;">"~/.emacs.d"</span>)))
  'gbk))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">consult-directory-externally</span> (file)
  <span style="color: #8b2252;">"Open FILE externally using the default application of the system."</span>
  (<span style="color: #a020f0;">interactive</span> <span style="color: #8b2252;">"fOpen externally: "</span>)
  (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">and</span> (eq system-type 'windows-nt)
           (fboundp 'w32-shell-execute))
      (shell-command-to-string (encode-coding-string (replace-regexp-in-string <span style="color: #8b2252;">"/"</span> <span style="color: #8b2252;">"\\\\\\\\"</span>
            (format <span style="color: #8b2252;">"explorer.exe %s"</span> (file-name-directory (expand-file-name file)))) <span style="color: #ff0000; font-weight: bold;">'gbk))</span>
    (call-process (<span style="color: #a020f0;">pcase</span> system-type
                    ('darwin <span style="color: #8b2252;">"open"</span>)
                    ('cygwin <span style="color: #8b2252;">"cygstart"</span>)
                    (_ <span style="color: #8b2252;">"xdg-open"</span>))
                  nil 0 nil
                  (file-name-directory (expand-file-name file)))))

(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">embark</span>)
(define-key embark-file-map (kbd <span style="color: #8b2252;">"E"</span>) #'consult-directory-externally)


<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#25171;&#24320;&#24403;&#21069;&#25991;&#20214;&#30340;&#30446;&#24405;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-open-current-directory</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (consult-directory-externally default-directory))
</pre>
</div>

<p>
å¿«é€Ÿæ‰“å¼€æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼š
</p>
<ul class="org-ul">
<li><code>M-x consult-directory-externally</code> è¾“å…¥æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ <code>~/.emacs.d/auto-save-list/.saves-2000-JASPER~</code></li>
<li><code>C-x C-f</code> é€‰æ‹©æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ç”¨embarkæ¥æ‰“å¼€ï¼Œ <code>C;</code> é€‰æ‹©Eï¼Œç”¨æ–‡ä»¶ç®¡ç†å™¨æ‰“å¼€å¯¹åº”ç›®å½•çš„</li>
</ul>
</div>
</div>
<div id="outline-container-h:learn-completion-minibuffer-4-1" class="outline-4">
<h4 id="h:learn-completion-minibuffer-4-1"><span class="section-number-4">1.9.2.</span> å¢å¼º embark å’Œ consultï¼Œæ‰¹é‡æœç´¢æ›¿æ¢å¤§æ€å™¨</h4>
<div class="outline-text-4" id="text-h:learn-completion-minibuffer-4-1">
<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-minibuffer-4-1">(<code>init-completion.el</code> å¢å¼º embark å’Œ consultï¼Œæ‰¹é‡æœç´¢æ›¿æ¢å¤§æ€)</a>
</p>

<p>
æ€§èƒ½ï¼š grep &lt; ack &lt; ag &lt; ripgrep(rg)
</p>

<p>
ä½¿ç”¨ripgrepæ¥è¿›è¡Œæœç´¢, <code>M-x consult-ripqgrep</code> æœç´¢hello ä¼šå‡ºç°æŠ¥é”™æ‰¾ä¸åˆ°rgå‘½ä»¤ã€‚
</p>

<pre class="example" id="orga358cf5">
Error running timer: (file-missing "Searching for program" "No such file or directory" "rg")
</pre>

<p>
ä¸‹è½½ripgrep: <a href="https://github.com/BurntSushi/ripgrep">https://github.com/BurntSushi/ripgrep</a> msys2 <a href="https://packages.msys2.org/base/mingw-w64-ripgrep">https://packages.msys2.org/base/mingw-w64-ripgrep</a>
</p>

<p>
å®‰è£…æ–¹å¼ï¼š
</p>
<ul class="org-ul">
<li>PC msys2 <code>pacman -S mingw-w64-x86_64-ripgrep</code></li>
<li>PC github release ä¸‹è½½windowsåŒ…ï¼Œè§£å‹å¹¶åŠ å…¥åˆ°PARHå˜é‡ä¸­</li>
<li>Arch Linux  <code>sudo pacman -S ripgrep</code></li>
<li>macOS <code>brew install ripgrep</code></li>
</ul>

<p>
å†ä½¿ç”¨ripgrepæ¥è¿›è¡Œæœç´¢, <code>M-x consult-ripgrep</code> æœç´¢hello ï¼Œæ‰€æœ‰å½“å‰ç›®å½•ä¸‹åŒ…å«helloå­—ç¬¦ä¸²çš„ä¿¡æ¯éƒ½åœ¨minibufferä¸­å±•ç¤ºå‡ºæ¥äº†ã€‚ ä½¿ç”¨ <code>C-n</code> æˆ– <code>C-p</code> æ¥é¢„è§ˆæ–‡ä»¶æˆ–è¿›å…¥æ–‡ä»¶é‡Œã€‚
</p>

<p>
<b>ä¸‹é¢ä»‹ç»æ‰¹é‡ä¿®æ”¹æ’ä»¶</b>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25209;&#37327;&#20462;&#25913;</span>
(package-install 'embark-consult)
(package-install 'wgrep)
(<span style="color: #a020f0;">setq</span> wgrep-auto-save-buffer t)

(eval-after-load 'consult
  '(eval-after-load 'embark
     '(progn
        (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">embark-consult</span>)
        (add-hook 'embark-collect-mode-hook #'consult-preview-at-point-mode)))) <span style="color: #b22222;">;</span><span style="color: #b22222;">hook &#31532;&#19968;&#20010;&#21442;&#25968;&#25191;&#34892;&#21069;&#65292;&#20808;&#25191;&#34892;&#31532;2&#20010;&#21442;&#25968;&#30340;&#21151;&#33021;</span>

(define-key minibuffer-local-map (kbd <span style="color: #8b2252;">"C-c C-e"</span>) 'embark-export-write)

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">embark-export-write</span> ()
  <span style="color: #8b2252;">"Export the current vertico results to a writable buffer if possible.</span>
<span style="color: #8b2252;">Supports exporting consult-grep to wgrep, file to wdeired, and consult-location to occur-edit"</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">embark</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">wgrep</span>)
  (<span style="color: #a020f0;">pcase-let</span> ((`(,type . ,candidates)
               (run-hook-with-args-until-success 'embark-candidate-collectors)))
    (<span style="color: #a020f0;">pcase</span> type
      ('consult-grep (<span style="color: #a020f0;">let</span> ((embark-after-export-hook #'wgrep-change-to-wgrep-mode))
                       (embark-export)))
      ('file (<span style="color: #a020f0;">let</span> ((embark-after-export-hook #'wdired-change-to-wdired-mode))
               (embark-export)))
      ('consult-location (<span style="color: #a020f0;">let</span> ((embark-after-export-hook #'occur-edit-mode))
                           (embark-export)))
      (x (<span style="color: #ff0000; font-weight: bold;">user-error</span> <span style="color: #8b2252;">"embark category %S doesn't support writable export"</span> x)))))
</pre>
</div>

<p>
æ‰¹é‡æ›¿æ¢æ“ä½œ
</p>
<ul class="org-ul">
<li><code>M-x consult-ripgrep</code>  é»˜è®¤ä¼šåœ¨ä»¥ git ä¸ºæ ¹ç›®å½•æœç´¢ã€‚å¦‚ <code>#hello</code> ï¼Œæœç´¢åŒ…å«helloå­—ç¬¦çš„æ–‡ä»¶ã€‚ <code>C-n/C-p</code> ä¸‹ä¸Šæœç´¢åŒæ—¶å¯ä»¥é¢„è§ˆã€‚</li>
<li><code>C-c C-e</code> æ‰“å¼€å†™</li>
<li><code>M-x query-replace-regexp</code> è¾“å…¥hello å›è½¦ï¼Œ æ›¿æ¢ä¸ºhello å›è½¦ã€‚ æŒ‰ y åŒæ„å½“å‰è¡Œæ›¿æ¢ï¼Œn ä¸åŒæ„ä¿®æ”¹</li>
<li><code>C-c C-c</code> æ‰§è¡Œæ›¿æ¢ï¼ŒæŒ‰ q é€€å‡º</li>
</ul>


<p>
å½“å‰bufferæ›¿æ¢æ“ä½œ
</p>
<ul class="org-ul">
<li><code>C-s</code> æœç´¢ï¼Œ è¾“å…¥hello</li>
<li><code>C-c C-e</code> ç¼–è¾‘</li>
<li><code>M-x query-replace-regexp</code> è¾“å…¥è¦æ›¿æ¢çš„å†…å®¹</li>
<li><code>C-c C-c</code> æ‰§è¡Œæ›¿æ¢ï¼ŒæŒ‰ q é€€å‡º</li>
</ul>

<p>
<b>é…ç½®æœç´¢ä¸­æ–‡æ–‡ä»¶</b>
</p>

<p>
<code>everything</code> å·¥å…·å¯ä»¥å¿«é€Ÿæœç´¢æœ¬åœ°æ–‡ä»¶ã€‚ä¸‹è½½åœ°å€ï¼š <a href="https://www.voidtools.com/zh-cn/downloads/">https://www.voidtools.com/zh-cn/downloads/</a>
</p>

<p>
å®‰è£…å¥½åï¼ŒåŒæ—¶ä¸‹è½½ ES.exe å®¢æˆ·ç«¯å·¥å…·åŠ å…¥ç¯å¢ƒå˜é‡ã€‚
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;</span><span style="color: #b22222;">everyting</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">consult-locate</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#37197;&#32622;&#25628;&#32034;&#20013;&#25991;&#25991;&#20214;</span>
(<span style="color: #a020f0;">progn</span>
  (<span style="color: #a020f0;">setq</span> consult-locate-args (encode-coding-string <span style="color: #8b2252;">"es.exe -i -p -r"</span> 'gbk))
  (add-to-list 'process-coding-system-alist '(<span style="color: #8b2252;">"es"</span> gbk . gbk))
  )
(eval-after-load 'consult
  (<span style="color: #a020f0;">progn</span>
      (<span style="color: #a020f0;">setq</span>
        consult-narrow-key <span style="color: #8b2252;">"&lt;"</span>
        consult-line-numbers-widen t
        consult-async-min-input 2         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25628;&#32034; 2 &#20010;&#23383;&#31526;&#26174;&#31034;&#36755;&#20986;&#12290;&#40664;&#35748; 3</span>
        consult-async-refresh-delay  0.15
        consult-async-input-throttle 0.2
        consult-async-input-debounce 0.1)
    ))
</pre>
</div>

<p>
æ“ä½œï¼š
</p>
<ul class="org-ul">
<li>å‰æï¼šPC å§‹ç»ˆæ‰“å¼€everything, è½¬ä¸º <code>ES</code> ä¼šè°ƒç”¨everthing</li>
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶å¦‚ <code>#init.el</code> ã€‚ å¯ä»¥çœ‹åˆ°minibufferä¸­æ˜¾ç¤ºçš„å’Œeverthingç•Œé¢æœç´¢çš„æ˜¯ä¸€æ ·çš„ã€‚</li>
<li>å†è¾“å…¥ä¸ª#å·å°±å¯ä»¥ä½¿ç”¨ orderless çš„åŠŸèƒ½è¿›è¡Œè¿‡æ»¤ã€‚å¦‚åªæƒ³çœ‹29.4ä¸­init.elæ–‡ä»¶ <code>#init.el#29.4</code> é€‰ä¸­å›è½¦å³å¯æ‰“å¼€å¯¹åº”æ–‡ä»¶</li>
</ul>

<p>
ä½¿ç”¨å¤–éƒ¨ç¨‹åºæ‰“å¼€ï¼š
</p>
<ul class="org-ul">
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶. å¦‚æœç´¢projecktä¸­çš„txtæ–‡ä»¶ <code>#\.txt#project</code></li>
<li>ä½¿ç”¨embark <code>C;</code>  æŒ‰xä½¿ç”¨å¤–éƒ¨ç¨‹åºæ‰“å¼€txtæ–‡ä»¶</li>
</ul>

<p>
ä¸­æ–‡æœç´¢æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶. å¦‚ <code>#å­¦ä¹ </code></li>
</ul>
</div>
</div>
<div id="outline-container-h:learn-tools-search-pinyin" class="outline-4">
<h4 id="h:learn-tools-search-pinyin"><span class="section-number-4">1.9.3.</span> ä½¿ç”¨æ‹¼éŸ³è¿›è¡Œæœç´¢</h4>
<div class="outline-text-4" id="text-h:learn-tools-search-pinyin">
<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-consult">(<code>init-completion.el</code> å¢å¼ºæ–‡ä»¶å†…æœç´¢ <code>consult</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#29992;&#25340;&#38899;&#36827;&#34892;&#25628;&#32034;</span>
(package-install 'pyim)

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">eh-orderless-regexp</span> (orig_func component)
  (<span style="color: #a020f0;">let</span> ((result (funcall orig_func component)))
    (pyim-cregexp-build result)))


(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">toggle-chinese-search</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if</span> (not (advice-member-p #'eh-orderless-regexp 'orderless-regexp))
      (advice-add 'orderless-regexp <span style="color: #483d8b;">:around</span> #'eh-orderless-regexp)
    (advice-remove 'orderless-regexp #'eh-orderless-regexp)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">disable-py-search</span> (<span style="color: #228b22;">&amp;optional</span> args)
  (<span style="color: #a020f0;">if</span> (advice-member-p #'eh-orderless-regexp 'orderless-regexp)
      (advice-remove 'orderless-regexp #'eh-orderless-regexp)))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(advice-add 'exit-minibuffer :after #'disable-py-search)</span>
(add-hook 'minibuffer-exit-hook 'disable-py-search) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36864;&#20986;minibuffer&#26102;&#33258;&#21160;&#36864;&#20986;&#25340;&#38899;&#25628;&#32034;</span>

(global-set-key (kbd <span style="color: #8b2252;">"s-p"</span>) 'toggle-chinese-search) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#38656;&#35201;&#26102;&#25171;&#24320;&#25340;&#38899;&#25628;&#32034;&#12290;&#22240;&#20026;&#25340;&#38899;&#25628;&#32034;&#24615;&#33021;&#19981;&#31283;&#23450;</span>
</pre>
</div>

<p>
ä¸­æ–‡æ‹¼éŸ³æ“ä½œï¼š
</p>
<ul class="org-ul">
<li>å‰æï¼šPC å§‹ç»ˆæ‰“å¼€everything, è½¬ä¸ºESä¼šè°ƒç”¨everthing</li>
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶. å¦‚æ‰“åŒ…å«â€œå­¦ä¹ â€çš„txtæ–‡ä»¶ <code>#\.txt#</code> æŒ‰ <code>s-p</code> è¾“å…¥ <code>#\.txt#xx</code>  å¯ä»¥çœ‹åˆ°è¿‡æ»¤å­¦ä¹ çš„txtæ–‡ä»¶</li>
</ul>
</div>
</div>
<div id="outline-container-h:342e2bb3-0963-4047-bbfe-9949e17d186c" class="outline-4">
<h4 id="h:342e2bb3-0963-4047-bbfe-9949e17d186c"><span class="section-number-4">1.9.4.</span> æ›´æ¢ä¸»é¢˜</h4>
<div class="outline-text-4" id="text-h:342e2bb3-0963-4047-bbfe-9949e17d186c">
<p>
customize theme å†…ç½®ä¸»é¢˜
</p>

<p>
è‡ªå¸¦çš„ä¸»é¢˜é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨ <code>M-x customize themes</code> å›¾å½¢åŒ–æ¥é€‰æ‹©ï¼Œæˆ–è€…ä½¿ç”¨å‘½ä»¤ <code>load-theme ä¸»é¢˜</code> ã€‚å¦‚ <code>M-x load-theme light-blue</code>
</p>

<ul class="org-ul">
<li>leuvenï¼Œæˆ‘æœ€å–œæ¬¢çš„äº®è‰²ä¸»é¢˜ä¹‹ä¸€äº†ã€‚å…¶å®å®ƒä¹Ÿæœ‰æš—è‰²ä¸»é¢˜ï¼Œåªæ˜¯æ²¡æœ‰å†…ç½®ã€‚</li>
<li>modusï¼Œåº”è¯¥æ˜¯ä»Emacs 28å¼€å§‹å†…ç½®çš„ä¸€æ¬¾åŒ…å«äº®/æš—è‰²çš„ä¸»é¢˜ã€‚éå¸¸å¥½ï¼Œæˆ‘å¾ˆå–œæ¬¢ã€‚æš—è‰²æœ‰çš„æ—¶å€™ï¼Œæˆ‘æ„Ÿè§‰çœ¼ç›æœ‰ç‚¹ç´¯ã€‚</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-theme 'tango-dark)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:78e61272-d6f7-45f9-aeca-948b68f16d02" class="outline-3">
<h3 id="h:78e61272-d6f7-45f9-aeca-948b68f16d02"><span class="section-number-3">1.10.</span> æ¨¡å—åŒ–é…ç½®</h3>
<div class="outline-text-3" id="text-h:78e61272-d6f7-45f9-aeca-948b68f16d02">
</div>
<div id="outline-container-h:dcefc61f-9fbc-4c17-b9c6-043b131b3437" class="outline-4">
<h4 id="h:dcefc61f-9fbc-4c17-b9c6-043b131b3437"><span class="section-number-4">1.10.1.</span> ä½¿ç”¨å¤šæ–‡ä»¶å­˜å‚¨é…ç½®æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-h:dcefc61f-9fbc-4c17-b9c6-043b131b3437">
<p>
åˆ›å»º custom.el æ–‡ä»¶
</p>

<p>
ä¸€äº›è‡ªåŠ¨ç”Ÿæˆçš„é…ç½®ä¼šè‡ªåŠ¨å†™åˆ°è¿™é‡Œã€‚é»˜è®¤æ˜¯å†™åˆ°init.elæ–‡ä»¶ç»“å°¾çš„ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> custom-file (expand-file-name <span style="color: #8b2252;">"~/custom.el"</span>)) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#27809;&#26377;&#21017;&#33258;&#21160;&#21019;&#24314;</span>
(load custom-file 'no-error 'no-message)
</pre>
</div>

<p>
æ‹†åˆ†init.elæ–‡ä»¶
</p>

<pre class="example" id="orgcc9641a">
#----------
â”œâ”€â”€ custom.el
â”œâ”€â”€ early-init.el              #å¯åŠ¨å‰åˆå§‹åŒ–
â”œâ”€â”€ init.el                    #ä¸»é…ç½®
â”œâ”€â”€ lisp
â”‚   â”œâ”€â”€ init-package.el        #æ’ä»¶æº
â”‚   â”œâ”€â”€ init-basic.el          #é»˜è®¤çš„é…ç½®
â”‚   â”œâ”€â”€ init-ui.el             #è§†è§‰ç›¸å…³
â”‚   â”œâ”€â”€ init-completion.el     #è¡¥å…¨
â”‚   â”œâ”€â”€ init-tools.el
â”‚   â”œâ”€â”€ init-org.el
â”‚   â”œâ”€â”€ init-keybindings.el
â”‚   â”œâ”€â”€ init-funcs.el          #è‡ªå®šä¹‰å‡½æ•°
â”‚   â”œâ”€â”€ init-c.el
</pre>

<p>
åŠ è½½é…ç½®
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path
    (expand-file-name (concat user-emacs-directory <span style="color: #8b2252;">"lisp"</span>)))
</pre>
</div>

<p>
å„ä¸ªæ–‡ä»¶é€šè¿‡ provide æš´éœ²å¯¹å¤–è°ƒç”¨çš„åç§°ã€‚å¦‚ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-basic</span>)
</pre>
</div>

<p>
ç„¶ååœ¨ init.el æ–‡ä»¶ä¸­é€šè¿‡ `require` è°ƒç”¨ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">require 'init-basic
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cb5979bf-baeb-48b0-abd7-0f54495dd006" class="outline-4">
<h4 id="h:cb5979bf-baeb-48b0-abd7-0f54495dd006"><span class="section-number-4">1.10.2.</span> ä½¿ç”¨Org-mode ç®¡ç† Emacs é…ç½®</h4>
<div class="outline-text-4" id="text-h:cb5979bf-baeb-48b0-abd7-0f54495dd006">
<p>
å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://orgmode.org/manual/Extracting-Source-Code.html">https://orgmode.org/manual/Extracting-Source-Code.html</a>
</p>

<p>
Org-mode ä¸‹çš„æ–‡å­¦ç¼–ç¨‹å°†é¢ è¦†ä½ å¯¹äº Emacs çš„çœ‹æ³•ã€‚å› ä¸ºæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ Org æ¥ç®¡ç† Emacs çš„é…ç½®æ–‡ä»¶ã€‚
</p>

<p>
æˆ‘ä»¬å¯ä»¥è®©æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶æ›´åŠ æ¸…æ™°æœ‰åºï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ å¾ˆå¤šæ³¨é‡Šä¹‹å¤–çš„èµ„æ–™ã€é“¾æ¥ç­‰ï¼Œè®©æˆ‘ä»¬çš„é…ç½®æ›´åŠ æ˜“è¯»å’Œå¯ç®¡ç†ã€‚
</p>

<ul class="org-ul">
<li>åˆ›å»ºorgæ–‡ä»¶ã€‚å¦‚ <code>~/.emacs.d/emacs-config.org</code></li>
<li><p>
ä»£ç å—
å®ƒèƒ½å¤Ÿè‡ªåŠ¨çš„å°†ä»£ç å—é‡Œçš„ä»£ç ï¼Œå†™å…¥åˆ°æŒ‡å®šçš„æ–‡ä»¶é‡Œå»ï¼Œä¸æŒ‡å®šé»˜è®¤åœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸æ–‡ä»¶åŒå.elæ–‡ä»¶ã€‚
</p>

<p>
è€Œä¸”å®ƒçš„é…ç½®æ–¹å¼ä¹Ÿéå¸¸çµæ´»ï¼š
</p>
<ul class="org-ul">
<li>ä»£ç å—é…ç½®tangle</li>
<li>æ ‡é¢˜è¡Œé…ç½®tangle</li>
</ul></li>

<li>æ‰§è¡Œ <code>M-x org-babel-tangle</code> å‘½ä»¤æ¥è§¦å‘ tangle è¿™ä¸ªåŠ¨ä½œã€‚</li>
</ul>

<p>
èŒƒä¾‹-ä»£ç å—é…ç½®tangle
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC emacs-lisp :tangle ~/.emacs.d/test.el</span>
  (+ 1 2)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
æ‰§è¡Œ <code>M-x org-babel-tangle</code> ï¼Œä»£ç  (+ 1 2) å°†å†™å…¥åˆ° ~/.emacs.d/test.el è¿™ä¸ªæ–‡ä»¶é‡Œã€‚
</p>

<p>
èŒƒä¾‹-æ ‡é¢˜è¡Œé…ç½®tangle
</p>
<div class="org-src-container">
<pre class="src src-sh">* early-init.el
:PROPERTIES:
:HEADER-ARGS: :tangle early-init.el
:END
</pre>
</div>

<p>
æ”¯æŒçš„å‚æ•°
</p>
<ul class="org-ul">
<li>ä»£ç ä¸å†™åˆ°æ–‡ä»¶ :tangle no</li>
<li><p>
åˆ›å»ºç›®å½•,  :mkdir yes
</p>

<p>
<code>C-c C-v C-d</code> org-babel-demarcate-block ä»£ç åˆ’åˆ†ä¸º2å—
</p></li>
</ul>

<p>
<b>æ·»åŠ ä»£ç å—</b>
</p>

<ul class="org-ul">
<li>æ—§ç‰ˆä½¿ç”¨å¿«æ·é”® <code>&lt; + å¿«æ·ç  + TAB</code> ã€‚
<ul class="org-ul">
<li>å¦‚ä»£ç å— <code>&lt;s + Tab</code> å¯ä»¥ç›´æ¥æ’å…¥ä»£ç å—çš„ä»£ç ç‰‡æ®µï¼ˆSnippetï¼‰</li>
</ul></li>
<li>ä» orgmode 9.2 ç‰ˆæœ¬åï¼Œ <code>org-insert-structure-template</code> å˜ä¸º <code>C-c C-,</code> ç»™å‡ºåˆ—è¡¨é€‰æ‹©</li>
</ul>


<p>
è¿˜æƒ³ä½¿ç”¨æ—§ç‰ˆå¿«æ·é”®
<a id="orgc5aa967"></a>
</p>

<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:org-built-in">(<code>init-org.el</code> å†…ç½®é…ç½®)</a>
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">with-eval-after-load</span> 'org
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-tempo</span>))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#31105;&#29992;&#24038;&#23574;&#25324;&#21495;</span>
(<span style="color: #a020f0;">setq</span> electric-pair-inhibit-predicate
      `(<span style="color: #a020f0;">lambda</span> (c)
         (<span style="color: #a020f0;">if</span> (char-equal c ?\&lt;) t (,electric-pair-inhibit-predicate c))))

(add-hook 'org-mode-hook
          (<span style="color: #a020f0;">lambda</span> ()
            (<span style="color: #a020f0;">setq-local</span> electric-pair-inhibit-predicate
                        `(<span style="color: #a020f0;">lambda</span> (c)
                           (<span style="color: #a020f0;">if</span> (char-equal c ?\&lt;) t (,electric-pair-inhibit-predicate c))))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> org-src-preserve-indentation t)             <span style="color: #b22222;">; </span><span style="color: #b22222;">&#32534;&#36753;&#28304;&#20195;&#30721;&#26102;&#20445;&#30041;&#21407;&#26377;&#30340;&#32553;&#36827;&#65292;t&#20195;&#34920;&#21551;&#29992;&#35813;&#21151;&#33021;&#12290;&#40664;&#35748;nil&#19981;&#20445;&#30041;. </span>
(<span style="color: #a020f0;">setq</span> org-src-tab-acts-natively t)                <span style="color: #b22222;">; </span><span style="color: #b22222;">&#28304;&#20195;&#30721;&#32534;&#36753;&#27169;&#24335;&#19979;&#65292;Tab&#38190;&#30340;&#34892;&#20026;&#19982;&#21407;&#29983;&#20195;&#30721;&#32534;&#36753;&#22120;&#19968;&#33268;&#65292;t&#20195;&#34920;&#21551;&#29992;&#35813;&#21151;&#33021;,  &#40664;&#35748;t</span>
(<span style="color: #a020f0;">setq</span> org-edit-src-content-indentation 0)          <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20195;&#30721;&#22359;&#37324;&#32553;&#36827;&#65292;0&#19981;&#32553;&#36827;&#65292;&#40664;&#35748;&#26159;2 (&#37325;&#35201;)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:0ef565c4-904d-4863-9c8b-7462407b2659" class="outline-3">
<h3 id="h:0ef565c4-904d-4863-9c8b-7462407b2659"><span class="section-number-3">1.11.</span> æ¨¡å—åˆ—è¡¨</h3>
<div class="outline-text-3" id="text-h:0ef565c4-904d-4863-9c8b-7462407b2659">
<p>
1
</p>

<ul class="org-ul">
<li>æ–‡ä»¶æœç´¢é”®ä½ç»‘å®š <a href="#h:keybindings-search-file">æˆ‘çš„emacsæ¨¡å—é…ç½®(<code>init-keybindings.el</code> æ–‡ä»¶æœç´¢)</a></li>
</ul>

<p>
2.ä¸€äº›å¥½ç”¨çš„åŒ…
</p>

<ul class="org-ul">
<li>restart-emacs</li>

<li>savehist è®°ä½ä½¿ç”¨è¿‡çš„å‘½ä»¤<a href="#h:basic-session">(<code>init-basic.el</code> å†å²å‘½ä»¤ <code>savehist</code>)</a></li>
<li>æ˜¾ç¤ºæ–‡ä»¶è¡Œã€åˆ—ã€å¤§å° ï¼Œç¾åŒ–çŠ¶æ€æ 
<ul class="org-ul">
<li>simple<a href="#h:basic-simple">(<code>init-basic.el</code> å†…ç½®åŒ… <code>simple</code>)</a></li>
<li>keycast<a href="#h:modeline-keycast">(<code>init-modeline.el</code> æŒ‰é”®æ˜¾ç¤º <code>keycast</code>)</a></li>
<li>doom-modeline <a href="#h:ui-doom-emacs">(<code>init-ui.el</code> ä¸»é¢˜ <code>doom-emacs</code>)</a></li>
</ul></li>
</ul>

<p>
3.org
</p>
<ul class="org-ul">
<li>org todo<a href="#h:org-todo">(<code>init-org.el</code> org todo)</a></li>
<li>org agenda<a href="#h:org-agenda">(<code>init-org.el</code> org agenda)</a></li>
<li>org capture<a href="#h:org-capture">(<code>init-org.el</code> org capture)</a></li>
<li>org effect<a href="#h:org-effect">(<code>init-org.el</code> org effect)</a></li>
<li>org tags<a href="#h:org-tags">(<code>init-org.el</code> org tags)</a></li>
<li>org priority<a href="#h:org-priority">(<code>init-org.el</code> org priority)</a></li>
</ul>

<p>
4
</p>
<ul class="org-ul">
<li>ox-hugoæ¥å†™åšå®¢</li>
<li>eglot emacs29ç‰ˆæœ¬å†…ç½®<a href="#h:c++-eglot">(<code>init-programming.el</code> ä»£ç ç¼–å†™ <code>eglot</code>)</a></li>
</ul>

<p>
5.evil
<a id="org931071c"></a>
</p>

<p>
å‰æœŸvimç”¨æˆ·å¿«é€Ÿåˆ‡emacsç”¨æˆ·
</p>

<ul class="org-ul">
<li>evil<a href="#h:evil">(<code>init-evil.el</code>)</a></li>
</ul>

<p>
6.ç²¾é€‰ packages, å¤§å¤§æå‡ä½ çš„ Emacs ç¼–è¾‘æ•ˆç‡
<a id="org8ff3141"></a>
</p>

<ul class="org-ul">
<li>å¤šå…‰æ ‡æ“ä½œ iedit &amp; evil-multiedit<a href="#h:tools-iedit">(<code>init-tools.el</code> å¤šå…‰æ ‡æ“ä½œ iedit &amp; evil-multiedit)</a></li>
<li>expand-region<a href="#h:tools-expand-region">(<code>init-tools.el</code> å¿«é€Ÿé€‰ä¸­åŒºåŸŸ <code>expand-region</code>)</a> <a href="#h:j-expand-region">(<code>j-expand-region.el</code> åº“)</a></li>
<li>interactive replaceäº¤äº’å¼æ›¿æ¢æ–‡æœ¬<a href="#h:evil-init">(<code>init-evil.el</code> å®‰è£…)</a> <a href="#h:j-evil">(<code>j-evil.el</code> åº“)</a></li>
<li>å®‰è£… quelpa æ’ä»¶<a href="#h:packages-quelpa">(<code>init-packages.el</code> å®‰è£… quelpa æ’ä»¶)</a></li>
<li>symbol-overlay &amp; highlight-global<a href="#h:j-highlight-global">(<code>j-highlight-global.el</code> åº“)</a> <a href="#h:tools-highlight-global">(<code>init-tools.el</code> æ–‡æœ¬é«˜äº® <code>symbol-overlay</code> &amp; <code>highlight-global</code>)</a></li>
</ul>

<p>
7.ä½¿ç”¨ Treesit + eglot æ¥æ‰“é€ ç°ä»£ç¼–ç¨‹ IDE
<a id="org885f096"></a>
</p>

<ul class="org-ul">
<li>å®‰è£… treesit-auto æ’ä»¶<a href="#h:c++-treesit-auto">(<code>init-programming.el</code> è¯­æ³•é«˜äº® <code>treesit-auto</code>)</a></li>
<li>è·³è½¬å‡½æ•°åˆ—è¡¨ consult-imenup<a href="#h:c++-consult-imenu">(<code>init-programming.el</code> è·³è½¬å‡½æ•°åˆ—è¡¨ consult-imenu)</a></li>
<li>æŸ¥æ‰¾å®šä¹‰å’Œå¼•ç”¨</li>
<li>æ·»åŠ  snippets æ”¯æŒ</li>
<li>åœ¨å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶ä¹‹é—´è¿›è¡Œè·³è½¬</li>
</ul>

<p>
8.çª—å£
<a id="org5fb638a"></a>
</p>

<ul class="org-ul">
<li>windows<a href="#h:window">(<code>init-window.el</code>)</a></li>
</ul>

<p>
9.å·¥ä½œåŒºé—´ç®¡ç†
</p>
<ul class="org-ul">
<li>personspace<a href="#h:personspace">(<code>init-persp.el</code> å·¥ä½œåŒºé—´ç®¡ç†)</a></li>
</ul>

<p>
10.org è¿›é˜¶
</p>
<ul class="org-ul">
<li>Org Download<a href="#h:org-jietu">(<code>init-org.el</code> org æˆªå›¾)</a></li>
<li>Org Protocol<a href="#h:org-protocol">(<code>init-org.el</code> ä»ç½‘é¡µæ‘˜å–å†…å®¹ Org Protocol)</a></li>
<li>Spell checking<a href="#h:org-spell">(<code>init-org.el</code> æ‹¼å†™æ£€æŸ¥ Spell checkin)</a></li>
<li>Fanyi Dictionary<a href="#h:org-fanyi">(<code>init-org.el</code> ç¿»è¯‘ Fanyi Dictionar)</a></li>
<li>Some useful keybindings</li>
</ul>

<p>
11.Org Roam
</p>
<ul class="org-ul">
<li>corfu æ¥è¿›è¡Œè¡¥å…¨</li>
<li>Org Oram</li>
<li>Org roam UI</li>
</ul>

<p>
12.Emacs é…ç½®é—®é¢˜æ’æŸ¥
</p>

<p>
13.ä¼˜åŒ–æ€§èƒ½ï¼Œå€Ÿé‰´å…¶ä»–äººçš„é…ç½®
</p>
</div>
</div>
<div id="outline-container-h:ce61a582-6604-448b-8fe4-087ecd41e650" class="outline-3">
<h3 id="h:ce61a582-6604-448b-8fe4-087ecd41e650"><span class="section-number-3">1.12.</span> æ¸…ç†å­¦ä¹ å†…å®¹</h3>
<div class="outline-text-3" id="text-h:ce61a582-6604-448b-8fe4-087ecd41e650">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(write-region <span style="color: #8b2252;">""</span> nil <span style="color: #8b2252;">"~/.emacs.d/init.el"</span>)
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-h:680e1564-f032-4677-acdf-1d64b017cdc0" class="outline-2">
<h2 id="h:680e1564-f032-4677-acdf-1d64b017cdc0"><span class="section-number-2">2.</span> Emacsåˆå§‹åŒ– <code>early-init.el</code></h2>
<div class="outline-text-2" id="text-h:680e1564-f032-4677-acdf-1d64b017cdc0">
<p>
è¿™æ˜¯ Emacs åœ¨å¯åŠ¨æ—¶è¯»å–çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚å®ƒåº”è¯¥åŒ…å«ä¸ä¾èµ–äºä»»ä½•åŒ…æˆ– Emacs å¸§æ¯”ä¾‹çš„ä»£ç ã€‚åˆå§‹åŒ–æ–‡ä»¶æ˜¯ä¸ºäº†åœ¨ Emacs ç”Ÿæˆåˆå§‹åŒ–ä¹‹å‰è®¾ç½®ä¸€äº›åŸºæœ¬çš„ä¸œè¥¿
</p>
</div>
<div id="outline-container-h:d5de6908-9c6e-4fdd-8d06-4059f170abfd" class="outline-3">
<h3 id="h:d5de6908-9c6e-4fdd-8d06-4059f170abfd"><span class="section-number-3">2.1.</span> <code>early-init.el</code> å¯¹å¯åŠ¨æ—¶é—´å’Œåƒåœ¾å›æ”¶çš„è°ƒæ•´</h3>
<div class="outline-text-3" id="text-h:d5de6908-9c6e-4fdd-8d06-4059f170abfd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> gc-cons-threshold (* 50 1000 1000))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:package-cache" class="outline-3">
<h3 id="h:package-cache"><span class="section-number-3">2.2.</span> <code>early-init.el</code> åˆå§‹åŒ–åŒ…ç¼“å­˜</h3>
<div class="outline-text-3" id="text-h:package-cache">
<p>
è¿™é‡Œä½¿ç”¨æ ‡å‡†çš„ <code>package.el</code> æ¥ç®¡ç†æˆ‘çš„EmacsåŒ…ã€‚
(<a href="#h:package.el"><code>init.el</code> é…ç½®è½¯ä»¶åŒ…</a>)
</p>
</div>
</div>
</section>
<section id="outline-container-h:84a797ae-9cef-4eb4-8144-4423d96d57d7" class="outline-2">
<h2 id="h:84a797ae-9cef-4eb4-8144-4423d96d57d7"><span class="section-number-2">3.</span> Emacsä¸»é…ç½®æ–‡ä»¶ (<code>init.el</code>)</h2>
<div class="outline-text-2" id="text-h:84a797ae-9cef-4eb4-8144-4423d96d57d7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">init.el --- The main init entry for Emacs -*- lexical-binding: t -*-</span>
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file bootstraps the configuration, which is divided into</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">a number of other files.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>


</pre>
</div>
</div>
<div id="outline-container-h:b5675d8d-07b5-4cc1-bb53-2e13d63c652d" class="outline-3">
<h3 id="h:b5675d8d-07b5-4cc1-bb53-2e13d63c652d"><span class="section-number-3">3.1.</span> <code>init.el</code> åŠ è½½å‰è‡ªå®šä¹‰é…ç½®</h3>
<div class="outline-text-3" id="text-h:b5675d8d-07b5-4cc1-bb53-2e13d63c652d">
</div>
<div id="outline-container-h:307ea5c9-d0cb-4458-8c72-fe27e44a52ba" class="outline-4">
<h4 id="h:307ea5c9-d0cb-4458-8c72-fe27e44a52ba"><span class="section-number-4">3.1.1.</span> <code>init.el</code> åˆ¤æ–­æ“ä½œç³»ç»Ÿ</h4>
<div class="outline-text-4" id="text-h:307ea5c9-d0cb-4458-8c72-fe27e44a52ba">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#21028;&#26029;&#25805;&#20316;&#31995;&#32479;&#65292; &#23450;&#20041;&#19968;&#20010;&#26032;&#21464;&#37327;</span>
(<span style="color: #a020f0;">setq</span> *is-a-mac* (eq system-type 'darwin))
(<span style="color: #a020f0;">setq</span> *win64* (eq system-type 'windows-nt))
(<span style="color: #a020f0;">setq</span> *cygwin* (eq system-type 'cygwin) )
(<span style="color: #a020f0;">setq</span> *linux* (<span style="color: #a020f0;">or</span> (eq system-type 'gnu/linux) (eq system-type 'linux)) )
(<span style="color: #a020f0;">setq</span> *unix* (<span style="color: #a020f0;">or</span> *linux* (eq system-type 'usg-unix-v) (eq system-type 'berkeley-unix)) )
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:8a5ac6bd-d9f2-43f8-b0a4-64c758a747aa" class="outline-3">
<h3 id="h:8a5ac6bd-d9f2-43f8-b0a4-64c758a747aa"><span class="section-number-3">3.2.</span> <code>init.el</code> åŸºç¡€é…ç½®ç¦ç”¨å¤‡ä»½å’Œé”å®šæ–‡ä»¶</h3>
<div class="outline-text-3" id="text-h:8a5ac6bd-d9f2-43f8-b0a4-64c758a747aa">
<p>
é»˜è®¤æƒ…å†µä¸‹ï¼ŒEmacs ä¼šå°è¯•é”å®šæ–‡ä»¶ï¼Œä»¥å…å®ƒä»¬è¢«å…¶ä»–ç¨‹åºä¿®æ”¹ã€‚å®ƒè¿˜ä¿ç•™å¤‡ä»½ã€‚è¿™äº›æ˜¯æˆ‘ä¸éœ€è¦çš„åŠŸèƒ½
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#31105;&#29992;&#22791;&#20221;&#21644;&#38145;&#23450;&#25991;&#20214;</span>
(<span style="color: #a020f0;">setq</span> make-backup-files nil)
(<span style="color: #a020f0;">setq</span> backup-inhibited nil) <span style="color: #b22222;">; </span><span style="color: #b22222;">Not sure if needed, given `</span><span style="color: #008b8b;">make-backup-files</span><span style="color: #b22222;">'</span>
(<span style="color: #a020f0;">setq</span> create-lockfiles nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:10a19e0f-2d8a-4e63-b394-f8eadd628aea" class="outline-3">
<h3 id="h:10a19e0f-2d8a-4e63-b394-f8eadd628aea"><span class="section-number-3">3.3.</span> <code>init.el</code> æŒ‡å®šè‡ªå®šä¹‰æ–‡ä»¶ custom.el</h3>
<div class="outline-text-3" id="text-h:10a19e0f-2d8a-4e63-b394-f8eadd628aea">
<p>
é»˜è®¤æƒ…å†µä¸‹ï¼ŒEmacs å°†æŒä¹…è‡ªå®šä¹‰å†™å…¥ç”¨æˆ·çš„ init æ–‡ä»¶æœ«å°¾ã€‚å½“ç”¨æˆ· <code>M-x customize</code> æˆ–ä¸ä¹‹ç›¸å…³æ—¶ï¼ŒEmacs éƒ½ä¼šå†™è¿™äº›å†…å®¹ã€‚æŒ‡å®šè‡ªå®šä¹‰æ–‡ä»¶ä½ç½®ä¸init.elåŒºåˆ†å¼€ã€‚
</p>

<p>
å°†å…¶æ”¾åœ¨/tmpç›®å½•ä¸­ä»¥ä½¿å…¶æˆä¸ºä¸€æ¬¡æ€§æ–‡ä»¶ï¼ˆè¿™æ˜¯è¯¥make-temp-fileå‡½æ•°çš„ä½œç”¨ï¼‰ã€‚
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25351;&#23450;&#33258;&#24049;&#20041;&#37197;&#32622;, &#36890;&#36807;&#20351;&#23427;&#21464;&#25104;&#19968;&#27425;&#24615;&#30340;&#26469;&#31105;&#29992;&#23427;</span>
(<span style="color: #a020f0;">setq</span> custom-file (make-temp-file <span style="color: #8b2252;">"emacs-custom-"</span>)) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#27809;&#26377;&#21017;&#33258;&#21160;&#21019;&#24314;emacs-custom-&#24320;&#22836;&#38543;&#26426;&#25991;&#20214;</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(load custom-file 'no-error 'no-message)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:fdc495f8-e664-4284-a21d-bd34d0c39823" class="outline-3">
<h3 id="h:fdc495f8-e664-4284-a21d-bd34d0c39823"><span class="section-number-3">3.4.</span> <code>init.el</code> å§‹ç»ˆä» <code>*scratch*</code> ç¼“å†²åŒºå¼€å§‹</h3>
<div class="outline-text-3" id="text-h:fdc495f8-e664-4284-a21d-bd34d0c39823">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#22987;&#32456;&#20174; *scratch* &#32531;&#20914;&#21306;&#24320;&#22987;</span>
(<span style="color: #a020f0;">setq</span> initial-buffer-choice t)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:i-dir" class="outline-3">
<h3 id="h:i-dir"><span class="section-number-3">3.5.</span> <code>init.el</code> åŠ è½½ç›®å½•</h3>
<div class="outline-text-3" id="text-h:i-dir">
<p>
åŠ è½½ç›®å½•ä¸‹æ‰€æœ‰é…ç½®
</p>
<dl class="org-dl">
<dt><code>list</code> ç›®å½•</dt><dd>å„ç§æ’ä»¶é…ç½®</dd>
<dt><code>person</code> ç›®å½•</dt><dd>ä¸ªäººçš„é…ç½®</dd>
</dl>

<p>
åœ¨ <code>init.el</code> é…ç½®ä¸­è°ƒç”¨æ’ä»¶<a href="#h:i-modules">(<code>init.el</code> åŠ è½½å„æ¨¡å—)</a>
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#21152;&#36733;&#30446;&#24405;</span>
(mapc
 (<span style="color: #a020f0;">lambda</span> (string)
   (add-to-list 'load-path (locate-user-emacs-file string)))
 '(<span style="color: #8b2252;">"lisp"</span> <span style="color: #8b2252;">"j-lisp"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:package.el" class="outline-3">
<h3 id="h:package.el"><span class="section-number-3">3.6.</span> <code>init.el</code> è½¯ä»¶åŒ… (<code>package.el</code>)</h3>
<div class="outline-text-3" id="text-h:package.el">
<p>
package.el å†…ç½®äº Emacs ä¸­ã€‚æˆ‘ä»¬ä¸éœ€è¦æ˜¾å¼åŠ è½½å®ƒï¼Œåœ¨éœ€è¦æ—¶ä¼šè¢« use-package è°ƒç”¨ã€‚
early-init.el å¤„æ¿€æ´»ç¼“å­˜<a href="#h:package-cache">(<code>early-init.el</code> åˆå§‹åŒ–åŒ…ç¼“å­˜)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#36719;&#20214;&#21253;</span>
(<span style="color: #a020f0;">setq</span> package-vc-register-as-project nil) <span style="color: #b22222;">; </span><span style="color: #b22222;">Emacs 30</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#25554;&#20214;&#28304;&#20248;&#20808;&#32423;</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">package</span>)
(<span style="color: #a020f0;">setq</span> package-check-signature nil 
      load-prefer-newer t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20010;&#21035;&#26102;&#20505;&#20250;&#20986;&#29616;&#31614;&#21517;&#26657;&#39564;&#22833;&#36133;</span>
(<span style="color: #a020f0;">setq</span> package-archives
      '((<span style="color: #8b2252;">"gnu-elpa"</span> . <span style="color: #8b2252;">"https://elpa.gnu.org/packages/"</span>)
        (<span style="color: #8b2252;">"gnu-elpa-devel"</span> . <span style="color: #8b2252;">"https://elpa.gnu.org/devel/"</span>)
        (<span style="color: #8b2252;">"nongnu"</span> . <span style="color: #8b2252;">"https://elpa.nongnu.org/nongnu/"</span>)
        (<span style="color: #8b2252;">"melpa"</span> . <span style="color: #8b2252;">"https://melpa.org/packages/"</span>)))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26368;&#22823;&#30340;&#25968;&#23383;&#20248;&#20808;&#65288;&#26410;&#25552;&#21450;&#30340;&#20248;&#20808;&#32423;&#20026; 0&#65289;</span>
(<span style="color: #a020f0;">setq</span> package-archive-priorities
      '((<span style="color: #8b2252;">"gnu-elpa"</span> . 3)
        (<span style="color: #8b2252;">"melpa"</span> . 2)
        (<span style="color: #8b2252;">"nongnu"</span> . 1)))

(<span style="color: #a020f0;">unless</span> (<span style="color: #a020f0;">bound-and-true-p</span> package--initialized)
  (package-initialize)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21047;&#26032;&#36719;&#20214;&#28304;&#32034;&#24341;</span>

<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#38450;&#27490;&#21453;&#22797;&#35843;&#29992; package-refresh-contents &#20250;&#24433;&#21709;&#21152;&#36733;&#36895;&#24230;</span>
(<span style="color: #a020f0;">when</span> (not package-archive-contents)
  (package-refresh-contents))
</pre>
</div>

<p>
å¼ºåˆ¶æŒ‡å®šæŸäº›è½¯ä»¶çš„æº
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">j-emacs-my-packages</span>
  '(vertico tmr)
  <span style="color: #8b2252;">"List of symbols representing the packages I develop/maintain."</span>)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25351;&#23450;&#26576;&#20123;&#36719;&#20214;&#20351;&#29992;&#29305;&#28857;&#28304;&#23433;&#35013; </span>
(<span style="color: #a020f0;">setq</span> package-pinned-packages
      `(,@(mapcar
           (<span style="color: #a020f0;">lambda</span> (package)
             (cons package <span style="color: #8b2252;">"gnu-elpa-devel"</span>))
           j-emacs-my-packages)))
</pre>
</div>
</div>
<div id="outline-container-h:4e302b04-678d-492a-941e-5cc805b8f8a2" class="outline-4">
<h4 id="h:4e302b04-678d-492a-941e-5cc805b8f8a2"><span class="section-number-4">3.6.1.</span> <code>init.el</code> use-pacakge æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:4e302b04-678d-492a-941e-5cc805b8f8a2">
<p>
29ç‰ˆæœ¬åå†…ç½®åŒ…
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">make use-package default behavior better</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">with `</span><span style="color: #008b8b;">use-package-always-ensure</span><span style="color: #b22222;">' you won't need ":ensure t" all the time</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">with `</span><span style="color: #008b8b;">use-package-always-defer</span><span style="color: #b22222;">' you won't need ":defer t" all the time</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq use-package-always-ensure t           ; &#33258;&#21160;&#23433;&#35013;</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">use-package-always-defer t            ; &#36719;&#20214;&#21253;&#24310;&#36831;&#21152;&#36733; </span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">use-package-enable-imenu-support t</span>
<span style="color: #b22222;">;;      </span><span style="color: #b22222;">use-package-expand-minimally t)</span>
</pre>
</div>

<p>
ä½¿ç”¨æ ·ä¾‹
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">xxx&#21253;</span>
(<span style="color: #a020f0;">use-package</span> xxx
  <span style="color: #483d8b;">:ensure</span> nil                          <span style="color: #b22222;">; </span><span style="color: #b22222;">&#30830;&#35748;&#23433;&#35013;&#65292;nil&#34920;&#31034;&#19981;&#38656;&#35201;&#23433;&#35013;&#12290;nil &#21487;&#37197;&#32622;&#20869;&#32622;&#21253;&#12290;</span>
  <span style="color: #483d8b;">:pin</span> melpa                           <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25351;&#21521;&#25554;&#20214;&#28304;</span>
  <span style="color: #483d8b;">:defer</span> nil                           <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26159;&#21542;&#35201;&#24310;&#36831;&#21152;&#36733;</span>
  <span style="color: #483d8b;">:demand</span> nil                          <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26159;&#21542;&#31435;&#21363;&#25191;&#34892;&#65292;t &#21363;&#24573;&#30053;&#24310;&#36831;&#21152;&#36733;</span>
  <span style="color: #483d8b;">:diminish</span> (flymake <span style="color: #8b2252;">" Flym."</span>)         <span style="color: #b22222;">; </span><span style="color: #b22222;">&#29366;&#24577;&#26639;&#26174;&#31034;&#30340;&#26679;&#24335;</span>
  <span style="color: #483d8b;">:after</span> yasnippet                     <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21035;&#30340;&#21253;&#23433;&#35013;&#21518;&#21551;&#21160;. &#22810;&#20010;&#21253;&#29992;&#25324;&#21495;&#25324;&#36215;&#26469;(abc ddd)</span>
  <span style="color: #483d8b;">:custom</span>                              <span style="color: #b22222;">; </span><span style="color: #b22222;">&#30456;&#24403;&#20110;(setq &lt;key&gt; &lt;value&gt;)</span>
  (ivy-use-virtual-buffers t)
  <span style="color: #483d8b;">:hook</span>                                 <span style="color: #b22222;">; </span><span style="color: #b22222;">hook&#27169;&#24335;&#30340;&#32465;&#23450;</span>
  (prog-mode . flycheck-mode)
  <span style="color: #483d8b;">:commands</span> (isearch-moccur isearch-all)    
  <span style="color: #483d8b;">:init</span>                                <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22312;&#21152;&#36733;&#25554;&#20214;&#21069;&#25191;&#34892;&#19968;&#20123;&#21629;&#20196;</span>
  (<span style="color: #a020f0;">setq</span> smooth-scrolling-margin 2)
  <span style="color: #483d8b;">:config</span>                              <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22312;&#21152;&#36733;&#25554;&#20214;&#21518;&#25191;&#34892;&#19968;&#20123;&#21629;&#20196;</span>
  (smooth-scrolling-mode t)
  <span style="color: #483d8b;">:bind</span>                                 <span style="color: #b22222;">; </span><span style="color: #b22222;">&#24555;&#25463;&#38190;&#30340;&#32465;&#23450;&#65292;&#20840;&#23616;</span>
  ((<span style="color: #8b2252;">"&lt;f2&gt;"</span> . xx) (<span style="color: #8b2252;">"M-p"</span> . xx2))
  <span style="color: #483d8b;">:bind</span>                                 <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25351;&#23450;&#26144;&#23556;&#32465;&#23450;, bind&#21487;&#20197;&#20889;&#22810;&#20010; </span>
  ( <span style="color: #483d8b;">:map</span> global-map
    (<span style="color: #8b2252;">"&lt;insert&gt;"</span> . nil)
    (<span style="color: #8b2252;">"&lt;menu&gt;"</span> . nil)
    (<span style="color: #8b2252;">"C-z"</span> . nil) <span style="color: #b22222;">; </span><span style="color: #b22222;">I have a window manager, thanks!</span>
    (<span style="color: #8b2252;">"C-x C-z"</span> . nil) <span style="color: #b22222;">; </span><span style="color: #b22222;">same idea as above</span>
    (<span style="color: #8b2252;">"M-`"</span> . nil)
    (<span style="color: #8b2252;">"M-SPC"</span> . cycle-spacing)
    (<span style="color: #8b2252;">"M-="</span> . count-words)
    <span style="color: #483d8b;">:map</span> prog-mode-map          
    (<span style="color: #8b2252;">"c"</span> . rainbow-mode)
    ))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:i-modules" class="outline-3">
<h3 id="h:i-modules"><span class="section-number-3">3.7.</span> <code>init.el</code> åŠ è½½å„ä¸ªæ¨¡å—</h3>
<div class="outline-text-3" id="text-h:i-modules">
<p>
æˆ‘æŠŠé…ç½®æ‹†åˆ†ä¸ºå‡ ä¸ªæ¨¡å—<a href="#h:i-dir">(<code>init.el</code> åŠ è½½ç›®å½•)</a>
</p>

<p>
å„ä¸ªæ¨¡å—éƒ½è®°å½•åœ¨ä¸‹é¢<a href="#h:modules">æˆ‘çš„ Emacs æ¨¡å—é…ç½®</a>ä¸­
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#36733;&#27169;&#22359;</span>
(load (locate-user-emacs-file <span style="color: #8b2252;">"jasper-emacs-pre-custom.el"</span>) <span style="color: #483d8b;">:no-error</span> <span style="color: #483d8b;">:no-message</span>)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Packages</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-packages</span>)
(<span style="color: #a020f0;">use-package</span> benchmark-init
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">To disable collection of benchmark data after init is done.</span>
  (add-hook 'after-init-hook 'benchmark-init/deactivate))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Core</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-ui</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-essentials</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-basic</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-modeline</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-completion</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-evil</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-tools</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">uis</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-window</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Tools</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-org</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Frameworks</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-persp</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Languages</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-programming</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">personal</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-keybindings</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">init-funcs</span>)

(load (locate-user-emacs-file <span style="color: #8b2252;">"jasper-emacs-post-custom.el"</span>) <span style="color: #483d8b;">:no-error</span> <span style="color: #483d8b;">:no-message</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:048fe6a9-b02a-46fd-8907-78c8c3366234" class="outline-3">
<h3 id="h:048fe6a9-b02a-46fd-8907-78c8c3366234"><span class="section-number-3">3.8.</span> <code>init.el</code> è®¡ç®—å¯åŠ¨æ—¶é—´</h3>
<div class="outline-text-3" id="text-h:048fe6a9-b02a-46fd-8907-78c8c3366234">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">efs/display-startup-time</span> ()
  (message <span style="color: #8b2252;">"Emacs loaded in %s with %d garbage collections."</span>
           (format <span style="color: #8b2252;">"%.2f seconds"</span>
                   (float-time
                   (time-subtract after-init-time before-init-time)))
           gcs-done))

(add-hook 'emacs-startup-hook #'efs/display-startup-time)


(<span style="color: #a020f0;">setq</span> gc-cons-threshold (* 2 1000 1000))
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-h:modules" class="outline-2">
<h2 id="h:modules"><span class="section-number-2">4.</span> æˆ‘çš„Emacsæ¨¡å—é…ç½®(<code>lisp/</code>)</h2>
<div class="outline-text-2" id="text-h:modules">
<p>
<code>init.el</code> éƒ¨åˆ†ä¸­ï¼Œé€šè¿‡ <code>load-path</code> è®© Emacs å¯ä»¥è¿è¡Œä»–ä»¬çš„ä»£ç <a href="#h:i-dir">(<code>init.el</code> åŠ è½½ç›®å½•)</a>ã€‚æœ¬ç« çš„å‰¯æ ‡é¢˜å®šä¹‰äº†æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½åŠ è½½åœ¨æˆ‘çš„ <code>init.el</code> æœ«å°¾è°ƒç”¨<a href="#h:i-modules">(<code>init.el</code> åŠ è½½å„æ¨¡å—)</a>
</p>
</div>
<div id="outline-container-h:20c90145-9293-4c6e-9ac5-7cd73353ed70" class="outline-3">
<h3 id="h:20c90145-9293-4c6e-9ac5-7cd73353ed70"><span class="section-number-3">4.1.</span> <code>init-packages.el</code></h3>
<div class="outline-text-3" id="text-h:20c90145-9293-4c6e-9ac5-7cd73353ed70">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">config</span>
</pre>
</div>
</div>
<div id="outline-container-h:packages-quelpa" class="outline-4">
<h4 id="h:packages-quelpa"><span class="section-number-4">4.1.1.</span> <code>init-packages.el</code> å®‰è£… quelpa æ’ä»¶</h4>
<div class="outline-text-4" id="text-h:packages-quelpa">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org8ff3141">(ç²¾é€‰ packages, å¤§å¤§æå‡ä½ çš„ Emacs ç¼–è¾‘æ•ˆç‡)</a>
</p>

<p>
emacs30ç‰ˆæœ¬æä¾›vcå†…ç½®åŒ…ï¼Œæ‹‰å–éelpaæºè½¯ä»¶åŒ…
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;</span><span style="color: #b22222;">(use-package quelpa :ensure t)</span>
(<span style="color: #a020f0;">use-package</span> quelpa
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:commands</span> quelpa
  <span style="color: #483d8b;">:config</span>
  <span style="color: #483d8b;">:custom</span>
  (quelpa-git-clone-depth 1)
  (quelpa-update-melpa-p nil)
  (quelpa-self-upgrade-p nil)
  (quelpa-checkout-melpa-p nil))
(<span style="color: #a020f0;">use-package</span> quelpa-use-package
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> quelpa-use-package-inhibit-loading-quelpa t)
  <span style="color: #483d8b;">:demand</span> t)

(<span style="color: #a020f0;">unless</span> (package-installed-p 'quelpa-use-package)
  (quelpa
   '(quelpa-use-package
     <span style="color: #483d8b;">:fetcher</span> git
     <span style="color: #483d8b;">:url</span> <span style="color: #8b2252;">"https://github.com/quelpa/quelpa-use-package.git"</span>)))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:packages-vc" class="outline-4">
<h4 id="h:packages-vc"><span class="section-number-4">4.1.2.</span> <code>ini-package.el</code> vc <code>package-vc.el</code></h4>
<div class="outline-text-4" id="text-h:packages-vc">
<p>
<a href="https://github.com/slotThe/vc-use-package">https://github.com/slotThe/vc-use-package</a>
</p>

<p>
emacs30ç‰ˆæœ¬åvcå†…ç½®ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#28155;&#21152;vc&#23439;&#26041;&#20415;&#23433;&#35013;&#38750;elpa&#28304;&#21253;</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">cl-lib</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">use-package-core</span>)

(<span style="color: #a020f0;">cl-defun</span> <span style="color: #0000ff;">slot/vc-install</span> (<span style="color: #228b22;">&amp;key</span> (fetcher <span style="color: #8b2252;">"github"</span>) repo name rev backend)
  (<span style="color: #a020f0;">let*</span> ((url (format <span style="color: #8b2252;">"https://www.%s.com/%s"</span> fetcher repo))
         (iname (<span style="color: #a020f0;">when</span> name (intern name)))
         (package-name (<span style="color: #a020f0;">or</span> iname (intern (file-name-base repo)))))
    (<span style="color: #a020f0;">unless</span> (package-installed-p package-name)
      (package-vc-install url iname rev backend))))

(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">package-vc-use-package-keyword</span> <span style="color: #483d8b;">:vc</span>)

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">package-vc-use-package-set-keyword</span> ()
  (<span style="color: #a020f0;">unless</span> (member package-vc-use-package-keyword use-package-keywords)
    (<span style="color: #a020f0;">setq</span> use-package-keywords
          (<span style="color: #a020f0;">let*</span> ((pos (cl-position <span style="color: #483d8b;">:unless</span> use-package-keywords))
                 (head (cl-subseq use-package-keywords 0 (+ 1 pos)))
                 (tail (nthcdr (+ 1 pos) use-package-keywords)))
            (append head (list package-vc-use-package-keyword) tail)))))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">use-package-normalize/:vc</span> (name-symbol keyword args)
  (<span style="color: #a020f0;">let</span> ((arg (car args)))
    (<span style="color: #a020f0;">pcase</span> arg
      ((<span style="color: #a020f0;">or</span> `nil `t) (list name-symbol))
      ((pred symbolp) args)
      ((pred listp) (<span style="color: #a020f0;">cond</span>
                     ((listp (car arg)) arg)
                     ((string-match <span style="color: #8b2252;">"^:"</span> (symbol-name (car arg))) (cons name-symbol arg))
                     ((symbolp (car arg)) args)))
      (_ nil))))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">use-package-handler/:vc</span> (name-symbol keyword args rest state)
  (<span style="color: #a020f0;">let</span> ((body (use-package-process-keywords name-symbol rest state)))
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">This happens at macro expansion time, not when the expanded code is</span>
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">compiled or evaluated.</span>
    (<span style="color: #a020f0;">if</span> args
        (use-package-concat
         `((<span style="color: #a020f0;">unless</span> (package-installed-p ',(<span style="color: #a020f0;">pcase</span> (car args)
                                            ((pred symbolp) (car args))
                                            ((pred listp) (car (car args)))))
             (apply #'slot/vc-install ',(cdr args))))
         body)
      body)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">package-vc-use-package-override-:ensure</span> (func name-symbol keyword ensure rest state)
  (<span style="color: #a020f0;">let</span> ((ensure (<span style="color: #a020f0;">if</span> (plist-member rest <span style="color: #483d8b;">:vc</span>)
                    nil
                  ensure)))
    (funcall func name-symbol keyword ensure rest state)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">package-vc-use-package-activate-advice</span> ()
  (advice-add
   'use-package-handler/:ensure
   <span style="color: #483d8b;">:around</span>
   #'package-vc-use-package-override-:ensure))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">package-vc-use-package-deactivate-advice</span> ()
  (advice-remove
   'use-package-handler/:ensure
   #'package-vc-use-package-override-:ensure))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">register keyword on require</span>
(package-vc-use-package-set-keyword)
</pre>
</div>


<p>
æ ·ä¾‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> org-roam-ui
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:vc</span> (<span style="color: #483d8b;">:fetcher</span> <span style="color: #8b2252;">"github"</span> <span style="color: #483d8b;">:repo</span> <span style="color: #8b2252;">"org-roam/org-roam-ui"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-packages done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-packages</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:1a9f33d6-5ff3-4048-872d-80243061b6cb" class="outline-3">
<h3 id="h:1a9f33d6-5ff3-4048-872d-80243061b6cb"><span class="section-number-3">4.2.</span> <code>init-ui.el</code></h3>
<div class="outline-text-3" id="text-h:1a9f33d6-5ff3-4048-872d-80243061b6cb">
</div>
<div id="outline-container-h:ui-built-in" class="outline-4">
<h4 id="h:ui-built-in"><span class="section-number-4">4.2.1.</span> <code>init-ui.el</code> å†…ç½®é…ç½®</h4>
<div class="outline-text-4" id="text-h:ui-built-in">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#orge4a9720">(å¤–è§‚é…ç½®)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> inhibit-startup-screen t) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#23581;&#35797;&#20851;&#25481;&#21551;&#21160;&#30028;&#38754;</span>
(<span style="color: #a020f0;">setq-default</span> cursor-type 'bar)              <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26356;&#25913;&#20809;&#26631;&#30340;&#26679;&#24335;&#65292;&#40664;&#35748;&#27604;&#36739;&#31895;. &#26356;&#22810;C-h v &#26597;&#35810;&#24110;&#21161;</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq cursor-type 'bar)                    ;; &#26356;&#25913;&#20809;&#26631;&#30340;&#26679;&#24335;&#12290;setq&#24403;&#21069;buffer&#29983;&#25928;&#65292;&#19981;&#33021;&#20840;&#23616;&#29983;&#25928;</span>

(global-hl-line-mode t)                      <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#39640;&#20142;&#24403;&#21069;&#34892;</span>

(global-display-line-numbers-mode 1) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#26174;&#31034;&#34892;&#21495; 29&#29256;&#26412;&#12290;29&#20043;&#21069;&#29992;(global-linum-mode 1)</span>
(<span style="color: #a020f0;">setq</span> frame-title-format
      `((buffer-file-name <span style="color: #8b2252;">"%f"</span> <span style="color: #8b2252;">"%b"</span>)
        ,(format <span style="color: #8b2252;">" - GNU Emacs %s"</span> emacs-version)))


<span style="color: #b22222;">;;</span><span style="color: #b22222;">(toggle-frame-maximized)                     ; &#20840;&#23631;&#32534;&#36753;&#22120;</span>
(<span style="color: #a020f0;">setq</span>  initial-frame-alist (<span style="color: #a020f0;">quote</span> ((fullscreen . maximized))))


<span style="color: #b22222;">;;</span><span style="color: #b22222;">(set-face-attribute 'default nil :height 150) ; &#20462;&#25913;&#23383;&#21495;&#65292;&#22823;&#23567;&#20026;16pt</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#35753;&#40736;&#26631;&#28378;&#21160;&#26356;&#22909;&#29992;&#12290;&#40664;&#35748;&#28378;&#21160;&#24456;&#24555;</span>
(<span style="color: #a020f0;">setq</span> mouse-wheel-scroll-amount '(3 ((shift) . 1) ((control) . nil)))
(<span style="color: #a020f0;">setq</span> mouse-wheel-progressive-speed nil)

(tool-bar-mode -1)                           <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20851;&#38381;&#24037;&#20855;&#26639;&#65292;tool-bar-mode &#21363;&#20026;&#19968;&#20010; Minor Mode</span>
(scroll-bar-mode -1)                         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20851;&#38381;&#25991;&#20214;&#28369;&#21160;&#25511;&#20214;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(menu-bar-mode -1)                        ;; &#20851;&#38381;&#33756;&#21333;&#26639; (&#19981;&#20851;&#38381;&#65292;&#20351;&#29992;&#25554;&#20214;&#26102;&#20250;&#29992;&#21040;)</span>


<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#20027;&#39064;</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(load-theme 'tango-dark) ;&#36825;&#37324;&#20351;&#29992;doom-theme</span>


</pre>
</div>
</div>
</div>
<div id="outline-container-h:ui-doom-emacs" class="outline-4">
<h4 id="h:ui-doom-emacs"><span class="section-number-4">4.2.2.</span> <code>init-ui.el</code> ä¸»é¢˜ <code>doom-emacs</code></h4>
<div class="outline-text-4" id="text-h:ui-doom-emacs">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#37324;&#30340;&#25191;&#34892;&#39034;&#24207;&#38750;&#24120;&#37325;&#35201;&#65292;doom-modeline-mode &#30340;&#28608;&#27963;&#26102;&#26426;&#19968;&#23450;&#35201;&#22312;&#35774;&#32622;global-mode-string &#20043;&#21518;&#8216;</span>
(<span style="color: #a020f0;">use-package</span> doom-themes
  <span style="color: #483d8b;">:ensure</span> t)
(load-theme 'doom-one 1)

(<span style="color: #a020f0;">use-package</span> doom-modeline
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom-face</span>
  (mode-line ((t (<span style="color: #483d8b;">:height</span> 0.9))))
  (mode-line-inactive ((t (<span style="color: #483d8b;">:height</span> 0.9))))
  <span style="color: #483d8b;">:init</span>
  (doom-modeline-mode t))

(<span style="color: #a020f0;">use-package</span> nerd-icons
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>

<p>
ç°åœ¨æ›´æ¨èç”¨ <a href="https://github.com/rainstormstudio/nerd-icons.el">rainstormstudio/nerd-icons.el (github.com)</a> ã€‚ç›´æ¥ä¸‹è½½ä¸€ä¸ªnerd fontså°±å¯ä»¥ (<code>M-x nerd-icons-install-fonts</code>)æˆ–è€…æ‰‹åŠ¨ä¸‹è½½fontsç›®å½•ä¸­çš„ <code>NFM.ttf</code> ã€‚GUIå’Œterminaléƒ½å¯ä»¥æ˜¾ç¤ºiconï¼Œå¤§å°ä¹Ÿæ›´ç»Ÿä¸€ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#37324;&#30340;&#25191;&#34892;&#39034;&#24207;&#38750;&#24120;&#37325;&#35201;&#65292;doom-modeline-mode &#30340;&#28608;&#27963;&#26102;&#26426;&#19968;&#23450;&#35201;&#22312;&#35774;&#32622;global-mode-string &#20043;&#21518;&#8216;</span>
(<span style="color: #a020f0;">use-package</span> doom-themes
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">if</span> (display-graphic-p)
      (load-theme 'doom-solarized-light t) <span style="color: #b22222;">; </span><span style="color: #b22222;">t&#34920;&#31034;&#33258;&#21160;&#30830;&#35748;&#36816;&#34892;&#20195;&#30721;</span>
    (load-theme 'doom-tomorrow-night t)))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">(set-face-attribute 'default nil :height 150) ; &#20462;&#25913;&#23383;&#21495;&#65292;&#22823;&#23567;&#20026;16pt</span>
(set-face-attribute 'default nil <span style="color: #483d8b;">:height</span> 130) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20462;&#25913;&#23383;&#21495;&#65292;&#22823;&#23567;&#20026;16pt</span>

(<span style="color: #a020f0;">use-package</span> doom-modeline
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> doom-modeline-minor-modes t)
  <span style="color: #483d8b;">:custom-face</span>
  (mode-line ((t (<span style="color: #483d8b;">:height</span> 0.95))))
  (mode-line-inactive ((t (<span style="color: #483d8b;">:height</span> 0.95))))
  <span style="color: #483d8b;">:hook</span> (after-init . doom-modeline-mode))
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-ui done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-ui</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:8c9e81fb-48a0-41da-b9e0-1e3cfdee7f51" class="outline-3">
<h3 id="h:8c9e81fb-48a0-41da-b9e0-1e3cfdee7f51"><span class="section-number-3">4.3.</span> <code>init-essentials.el</code></h3>
<div class="outline-text-3" id="text-h:8c9e81fb-48a0-41da-b9e0-1e3cfdee7f51">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#24120;&#35268;&#35774;&#32622;&#21644;&#24120;&#29992;&#33258;&#23450;&#20041;&#20989;&#25968;(j-simple.el)</span>
</pre>
</div>
</div>
<div id="outline-container-h:d5590309-993e-442e-93ac-e0a6d11763af" class="outline-4">
<h4 id="h:d5590309-993e-442e-93ac-e0a6d11763af"><span class="section-number-4">4.3.1.</span> <code>init-essentials.el</code> è‡ªå®šä¹‰å‘½ä»¤ <code>j-simple.el</code></h4>
<div class="outline-text-4" id="text-h:d5590309-993e-442e-93ac-e0a6d11763af">
<p>
è‡ªå®šä¹‰å‘½ä»¤(<a href="#h:1ff292d7-21a0-4f9b-a00d-52a6be5ef3f6"> <code>j-simple.el</code> åº“</a>)
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> j-simple
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:bind</span>
  ( (<span style="color: #8b2252;">"ESC ESC"</span> . j-simple-keyboard-quit-dwim)
    (<span style="color: #8b2252;">"C-g"</span> . j-simple-keyboard-quit-dwim)
    (<span style="color: #8b2252;">"C-M-SPC"</span> . j-simple-mark-sexp)   <span style="color: #b22222;">; </span><span style="color: #b22222;">&#36873;&#20013;&#21306;&#22495;</span>
    ))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-essentials done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-essentials</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:eeccf037-bcb1-4a96-b965-0339735c3105" class="outline-3">
<h3 id="h:eeccf037-bcb1-4a96-b965-0339735c3105"><span class="section-number-3">4.4.</span> <code>init-basic.el</code></h3>
<div class="outline-text-3" id="text-h:eeccf037-bcb1-4a96-b965-0339735c3105">
</div>
<div id="outline-container-h:basic-default" class="outline-4">
<h4 id="h:basic-default"><span class="section-number-4">4.4.1.</span> <code>init-basic.el</code> ä¸€äº›é»˜è®¤çš„é…ç½®</h4>
<div class="outline-text-4" id="text-h:basic-default">
<p>
è¿™é‡Œæ¶‰åŠåˆ°æ”¹é”®<a href="#h:learn-key">(æ”¹é”®)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#19968;&#20123;&#40664;&#35748;&#30340;&#37197;&#32622;</span>
<span style="color: #b22222;">;;;</span>
(<span style="color: #a020f0;">setq</span> w32-apps-modifier 'super)       <span style="color: #b22222;">;</span><span style="color: #b22222;">PC &#36890;&#36807;SharpKeys&#25913;&#25104;&#20102; Application</span>

(global-set-key (kbd <span style="color: #8b2252;">"s-a"</span>) 'mark-whole-buffer) <span style="color: #b22222;">;;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-a &#20840;&#36873;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-c"</span>) 'kill-ring-save) <span style="color: #b22222;">;;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-c &#22797;&#21046;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-s"</span>) 'save-buffer) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-s &#20445;&#23384;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-v"</span>) 'yank) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrl-v &#31896;&#36148;</span>
(global-set-key (kbd <span style="color: #8b2252;">"s-z"</span>) 'undo) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#23545;&#24212;Windows&#19978;&#38754;&#30340;Ctrol-z &#25764;&#38144;</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26597;&#35810;&#20989;&#25968;&#12289;&#21464;&#37327;&#12289;key &#23450;&#20041;&#30340;&#25991;&#20214;&#20301;&#32622;</span>
(global-set-key (kbd <span style="color: #8b2252;">"C-h C-f"</span>) 'find-function)
(global-set-key (kbd <span style="color: #8b2252;">"C-h C-v"</span>) 'find-variable)
(global-set-key (kbd <span style="color: #8b2252;">"C-h C-k"</span>) 'find-function-on-key)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#31995;&#32479;&#30340;&#32534;&#30721;&#65292;&#36991;&#20813;&#21508;&#22788;&#30340;&#20081;&#30721;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">UTF-8 as the default coding system</span>
(<span style="color: #a020f0;">when</span> (fboundp 'set-charset-priority)
  (set-charset-priority 'unicode))
(prefer-coding-system 'utf-8)
(set-default-coding-systems 'utf-8)
(set-terminal-coding-system 'utf-8)
(set-keyboard-coding-system 'utf-8)
(<span style="color: #a020f0;">setq</span> default-buffer-file-coding-system 'utf-8)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">emoji</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(set-fontset-font "fontset-default"</span>
<span style="color: #b22222;">;;                   </span><span style="color: #b22222;">'unicode</span>
<span style="color: #b22222;">;;                   </span><span style="color: #b22222;">(font-spec :family "Segoe UI Emoji" :size 12))</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">emoji&#34920;&#24773;&#31526;&#21495;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Noto Emoji Font &#26159;google&#24320;&#28304;&#39033;&#30446;https://fonts.google.com/noto/specimen/Noto+Emoji</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Segoe UI Emoji &#23383;&#20307; https://www.freefontdownload.org/ch/segoe-ui-emoji.font</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#19979;&#36733;&#25152;&#26377;&#34920;&#24773;&#31526;&#21495;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MacOS</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(set-fontset-font t 'symbol (font-spec :family "Apple Color Emoji") nil 'prepend)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Windows</span>
(<span style="color: #a020f0;">when</span> (eq system-type 'windows-nt)
  (set-frame-font <span style="color: #8b2252;">"Segoe UI Emoji-12"</span> nil t))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24320;&#21551;&#26381;&#21153;</span>
(server-mode 1)

(electric-pair-mode t)                       <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25324;&#21495;&#34917;&#20840;</span>
(add-hook 'prog-mode-hook #'show-paren-mode) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#32534;&#31243;&#27169;&#24335;&#19979;&#65292;&#20809;&#26631;&#22312;&#25324;&#21495;&#19978;&#26102;&#39640;&#20142;&#21478;&#19968;&#20010;&#25324;&#21495;</span>
(delete-selection-mode t)                    <span style="color: #b22222;">; </span><span style="color: #b22222;">&#36873;&#20013;&#25991;&#26412;&#21518;&#36755;&#20837;&#25991;&#26412;&#20250;&#26367;&#25442;&#25991;&#26412;&#65288;&#26356;&#31526;&#21512;&#25105;&#20204;&#20064;&#24815;&#20102;&#30340;&#20854;&#23427;&#32534;&#36753;&#22120;&#30340;&#36923;&#36753;&#12290;&#40664;&#35748;&#36873;&#20013;&#25918;&#21518;&#38754;</span>

(global-auto-revert-mode t)                  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#33258;&#21160;&#21152;&#36733;&#22806;&#37096;&#20462;&#25913;&#36807;&#30340;&#25991;&#20214;</span>
(<span style="color: #a020f0;">setq</span> auto-save-default nil)                 <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20851;&#38381;&#33258;&#21160;&#20445;&#23384;&#25991;&#20214;&#65292;#&#20026;&#21518;&#32512;&#30340;&#25991;&#20214;</span>
(<span style="color: #a020f0;">setq</span> ring-bell-function 'ignore)            <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20851;&#38381;&#25552;&#31034;&#22768;&#38899;</span>
(fset 'yes-or-no-p 'y-or-n-p)                <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26576;&#20010;&#21629;&#20196;&#26102;&#38656;&#35201;&#36755;&#20837; (yes or no)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3bd70b80-cd07-4c49-b8c0-202f525a46d6" class="outline-4">
<h4 id="h:3bd70b80-cd07-4c49-b8c0-202f525a46d6"><span class="section-number-4">4.4.2.</span> <code>init-basic.el</code> æœ€è¿‘ç¼–è¾‘è¿‡çš„æ–‡ä»¶ <code>recentf</code></h4>
<div class="outline-text-4" id="text-h:3bd70b80-cd07-4c49-b8c0-202f525a46d6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#26368;&#36817;&#32534;&#36753;&#36807;&#30340;&#25991;&#20214;</span>
(<span style="color: #a020f0;">use-package</span> recentf
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-x C-r"</span> . recentf-open-files))
  <span style="color: #483d8b;">:hook</span> (after-init . recentf-mode)
  <span style="color: #483d8b;">:init</span> (<span style="color: #a020f0;">setq</span> recentf-max-saved-items 300
              recentf-exclude
              '(<span style="color: #8b2252;">"\\.?cache"</span> <span style="color: #8b2252;">".cask"</span> <span style="color: #8b2252;">"url"</span> <span style="color: #8b2252;">"COMMIT_EDITMSG\\'"</span> <span style="color: #8b2252;">"bookmarks"</span>
                <span style="color: #8b2252;">"\\.</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(?:</span><span style="color: #8b2252;">gz</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">gif</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">svg</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">png</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">jpe?g</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">bmp</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">|</span><span style="color: #8b2252;">xpm</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">$"</span>
                <span style="color: #8b2252;">"\\.?ido\\.last$"</span> <span style="color: #8b2252;">"\\.revive$"</span> <span style="color: #8b2252;">"/G?TAGS$"</span> <span style="color: #8b2252;">"/.elfeed/"</span>
                <span style="color: #8b2252;">"^/tmp/"</span> <span style="color: #8b2252;">"^/var/folders/.+$"</span> <span style="color: #8b2252;">"^/ssh:"</span> <span style="color: #8b2252;">"/persp-confs/"</span>
                (<span style="color: #a020f0;">lambda</span> (file) (file-in-directory-p file package-user-dir))))
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">push</span> (expand-file-name recentf-save-file) recentf-exclude)
  (add-to-list 'recentf-filename-handlers #'abbreviate-file-name))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:basic-session" class="outline-4">
<h4 id="h:basic-session"><span class="section-number-4">4.4.3.</span> <code>init-basic.el</code> å†å²å‘½ä»¤ <code>savehist</code></h4>
<div class="outline-text-4" id="text-h:basic-session">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
savehist-mode  é»˜è®¤å¼€å¯ï¼Œé‡å¯ emacs ä¼šè®°ä½ä½¿ç”¨è¿‡çš„å‘½ä»¤ï¼ŒåŒæ—¶ä¼šä¿å­˜åˆ° <code>~/.emacs.d/history</code> æ–‡ä»¶ä¸­ã€‚ history æ–‡ä»¶è¿˜ä¿å­˜äº† minibuffer çš„å˜é‡ã€æŸ¥æ‰¾è¿‡çš„æ–‡ä»¶ç­‰ã€‚ç›¸å½“äºè®°ä½äº†ä¸Šæ¬¡çš„å·¥ä½œçŠ¶æ€ã€‚
</p>

<p>
save-place-mode å¼€å¯åï¼Œä¼šè®°ä½å…‰æ ‡æ‰€åœ¨æ–‡ä»¶çš„ä½ç½®ï¼Œä¸‹æ¬¡æ‰“å¼€æ–‡ä»¶æ—¶è‡ªåŠ¨å…‰æ ‡æŒ‡å‘è¿™ä¸ªä½ç½®
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">Save and restore editor sessions between restarts</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35760;&#20303;&#20351;&#29992;&#36807;&#30340;&#21629;&#20196;</span>
(<span style="color: #a020f0;">use-package</span> savehist
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:hook</span> (after-init . savehist-mode)
  <span style="color: #483d8b;">:init</span> (<span style="color: #a020f0;">setq</span> enable-recursive-minibuffers t <span style="color: #b22222;">; </span><span style="color: #b22222;">Allow commands in minibuffers</span>
              history-length 1000
              savehist-additional-variables '(mark-ring
                                              global-mark-ring
                                              search-ring
                                              regexp-search-ring
                                              extended-command-history)
              savehist-autosave-interval 300)
  )

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35760;&#20303;&#20809;&#26631;&#25152;&#22312;&#25991;&#20214;&#30340;&#20301;&#32622;</span>
(<span style="color: #a020f0;">use-package</span> saveplace
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:hook</span> (after-init . save-place-mode)) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#22312;emacs&#37197;&#32622;&#23436;&#20840;&#21152;&#36733;&#22909;&#20197;&#21518;&#65292;&#25191;&#34892;save-place-mode</span>
</pre>
</div>

<p>
æµ‹è¯•ï¼š
</p>
<ul class="org-ul">
<li>è®°ä½å…‰æ ‡çš„ä½ç½®ï¼Œé‡å¯emacs</li>
<li><code>C-x C-f</code> é‡æ–°æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å…‰æ ‡æ˜¯ä¸Šæ¬¡é€€å‡ºçš„ä½ç½®ã€‚</li>
</ul>
</div>
</div>
<div id="outline-container-h:basic-simple" class="outline-4">
<h4 id="h:basic-simple"><span class="section-number-4">4.4.4.</span> <code>init-basic.el</code> å†…ç½®åŒ… <code>simple</code></h4>
<div class="outline-text-4" id="text-h:basic-simple">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
modelineä¸Šæ˜¾ç¤ºæ–‡ä»¶å¤§å°ã€åˆ—å·
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">modeline&#19978;&#26174;&#31034;&#25991;&#20214;&#22823;&#23567;&#12289; &#21015;&#21495;</span>
(<span style="color: #a020f0;">use-package</span> simple
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:hook</span> (after-init . size-indication-mode)
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">progn</span>
    (<span style="color: #a020f0;">setq</span> column-number-mode t)
    ))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:basic-general" class="outline-4">
<h4 id="h:basic-general"><span class="section-number-4">4.4.5.</span> <code>init-basic.el</code> é”®ä½ç»‘å®š <code>general</code></h4>
<div class="outline-text-4" id="text-h:basic-general">
<p>
åœ¨è‡ªå®šä¹‰evilé”®ä½ç»‘å®šç”¨åˆ°<a href="#h:evil-custom-keybinding">(<code>init.evil.el</code> è‡ªå®šä¹‰å¿«æ·é”®)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#31867;&#20284;evil&#20013;&#30340;leader&#38190;</span>
(<span style="color: #a020f0;">use-package</span> general
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#38024;&#23545;evil&#25554;&#20214;&#12290;&#35774;&#32622;&#20102;&#19968;&#20123;&#31867;&#20284;leader&#38190;&#30340;&#20989;&#25968;. &#22914; leader &#20026;&#31354;&#26684;&#23545;&#24212;&#20989;&#25968;global-definer , leader &#20026;&#36887;&#21495;&#23545;&#24212;&#20989;&#25968;global-leader</span>
  (<span style="color: #a020f0;">with-eval-after-load</span> 'evil
    (general-add-hook 'after-init-hook
                      (<span style="color: #a020f0;">lambda</span> (<span style="color: #228b22;">&amp;rest</span> _)
                        (<span style="color: #a020f0;">when-let</span> ((messages-buffer (get-buffer <span style="color: #8b2252;">"*Messages*"</span>)))
                          (<span style="color: #a020f0;">with-current-buffer</span> messages-buffer
                            (evil-normalize-keymaps))))
                      nil
                      nil
                      t))


  (general-create-definer global-definer
    <span style="color: #483d8b;">:keymaps</span> 'override
    <span style="color: #483d8b;">:states</span> '(insert emacs normal hybrid motion visual operator)
    <span style="color: #483d8b;">:prefix</span> <span style="color: #8b2252;">"SPC"</span>
    <span style="color: #483d8b;">:non-normal-prefix</span> <span style="color: #8b2252;">"C-SPC"</span>)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;&#23439;&#12290;&#36825;&#20010;&#23439;&#30340;&#20316;&#29992;&#26159;&#32487;&#25215;global-dfiner&#20989;&#25968;&#30340;leader&#38190;SPC&#31354;&#26684;&#65292;&#25509;&#25910;&#19968;&#20010;inix-key&#21464;&#37327;&#30340;&#20540;&#20026;&#23376;leader</span>
  (<span style="color: #a020f0;">defmacro</span> <span style="color: #0000ff;">+general-global-menu!</span> (name infix-key <span style="color: #228b22;">&amp;rest</span> body)
    <span style="color: #8b2252;">"Create a definer named +general-global-NAME wrapping global-definer.</span>
<span style="color: #8b2252;">Create prefix map: +general-global-NAME. Prefix bindings in BODY with INFIX-KEY."</span>
    (<span style="color: #a020f0;">declare</span> (indent 2))
    `(<span style="color: #a020f0;">progn</span>
       (general-create-definer ,(intern (concat <span style="color: #8b2252;">"+general-global-"</span> name))
         <span style="color: #483d8b;">:wrapping</span> global-definer
         <span style="color: #483d8b;">:prefix-map</span> ',(intern (concat <span style="color: #8b2252;">"+general-global-"</span> name <span style="color: #8b2252;">"-map"</span>))
         <span style="color: #483d8b;">:infix</span> ,infix-key
         <span style="color: #483d8b;">:wk-full-keys</span> nil
         <span style="color: #8b2252;">""</span> '(<span style="color: #483d8b;">:ignore</span> t <span style="color: #483d8b;">:which-key</span> ,name))
       (,(intern (concat <span style="color: #8b2252;">"+general-global-"</span> name))
        ,@body)))

  (general-create-definer global-leader
    <span style="color: #483d8b;">:keymaps</span> 'override
    <span style="color: #483d8b;">:states</span> '(emacs normal hybrid motion visual operator)
    <span style="color: #483d8b;">:prefix</span> <span style="color: #8b2252;">","</span>
    <span style="color: #8b2252;">""</span> '(<span style="color: #483d8b;">:ignore</span> t <span style="color: #483d8b;">:which-key</span> (<span style="color: #a020f0;">lambda</span> (arg) `(,(cadr (split-string (car arg) <span style="color: #8b2252;">" "</span>)) . ,(replace-regexp-in-string <span style="color: #8b2252;">"-mode$"</span> <span style="color: #8b2252;">""</span> (symbol-name major-mode)))))))
</pre>
</div>

<p>
é”®ä½ç»‘å®šç¤ºä¾‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> general
  <span style="color: #483d8b;">:init</span>
  (general-emacs-define-key 'global [remap imenu] 'consult-imenu)
  (general-emacs-define-key 'global [remap apropos] 'consult-apropos)
  (global-definer
    <span style="color: #8b2252;">"!"</span> 'shell-command)

  (+general-global-menu! <span style="color: #8b2252;">"search"</span> <span style="color: #8b2252;">"s"</span>
    <span style="color: #8b2252;">"p"</span> 'consult-ripgrep)

  (+general-global-menu! <span style="color: #8b2252;">"buffer"</span> <span style="color: #8b2252;">"b"</span>
    <span style="color: #8b2252;">"d"</span> 'kill-current-buffer)
</pre>
</div>


<p>
org-mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">mode specific major key</span>
(global-leader
  <span style="color: #483d8b;">:major-modes</span>
  '(org-mode t)
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">and the keymaps:</span>
  <span style="color: #483d8b;">:keymaps</span>
  '(org-mode-map)
  <span style="color: #8b2252;">"p"</span> 'org-pomodoro
  <span style="color: #8b2252;">"t"</span> 'org-todo
  <span style="color: #8b2252;">"e"</span> 'org-set-effort)

(global-leader
  <span style="color: #483d8b;">:major-modes</span>
  '(org-agenda-mode t)
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">and the keymaps:</span>
  <span style="color: #483d8b;">:keymaps</span>
  '(org-agenda-mode-map)
  <span style="color: #8b2252;">"d"</span> 'org-agenda-day-view
  <span style="color: #8b2252;">"w"</span> 'org-agenda-week-view
  <span style="color: #8b2252;">","</span> 'org-agenda-priority
  <span style="color: #8b2252;">"e"</span> 'org-agenda-set-effort
  <span style="color: #8b2252;">":"</span> 'org-agenda-set-tags
  <span style="color: #8b2252;">"T"</span> 'org-agenda-show-tags
  <span style="color: #8b2252;">"p"</span> 'org-pomodoro)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-basic done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-basic</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:basic-input" class="outline-4">
<h4 id="h:basic-input"><span class="section-number-4">4.4.6.</span> <code>init-basic.el</code> è¾“å…¥æ³•</h4>
<div class="outline-text-4" id="text-h:basic-input">
</div>
<div id="outline-container-h:a7b816c8-da82-4210-856e-07e2edd6e2c2" class="outline-5">
<h5 id="h:a7b816c8-da82-4210-856e-07e2edd6e2c2"><span class="section-number-5">4.4.6.1.</span> <code>init-basic.el</code> è¾“å…¥æ³• <code>pyim</code></h5>
<div class="outline-text-5" id="text-h:a7b816c8-da82-4210-856e-07e2edd6e2c2">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#h:learn-tools-search-pinyin">(ä½¿ç”¨æ‹¼éŸ³è¿›è¡Œæœç´¢)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#36755;&#20837;&#27861; (pyim)</span>
(<span style="color: #a020f0;">use-package</span> pyim
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:800b1175-68ac-43cc-a556-6c4e0d2eccbc" class="outline-3">
<h3 id="h:800b1175-68ac-43cc-a556-6c4e0d2eccbc"><span class="section-number-3">4.5.</span> <code>init-modeline.el</code></h3>
<div class="outline-text-3" id="text-h:800b1175-68ac-43cc-a556-6c4e0d2eccbc">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">config</span>
</pre>
</div>
</div>
<div id="outline-container-h:modeline-keycast" class="outline-4">
<h4 id="h:modeline-keycast"><span class="section-number-4">4.5.1.</span> <code>init-modeline.el</code> æŒ‰é”®æ˜¾ç¤º <code>keycast</code></h4>
<div class="outline-text-4" id="text-h:modeline-keycast">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
modelineä¸Šæ˜¾ç¤ºæˆ‘çš„æ‰€æœ‰çš„æŒ‰é”®å’Œæ‰§è¡Œçš„å‘½ä»¤
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">modeline&#19978;&#26174;&#31034;&#25105;&#30340;&#25152;&#26377;&#30340;&#25353;&#38190;&#21644;&#25191;&#34892;&#30340;&#21629;&#20196;</span>
(<span style="color: #a020f0;">use-package</span> keycast
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span> (keycast-mode-line-mode 1)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22312;&#26631;&#39064;&#26174;&#31034;</span>
</pre>
</div>

<p>
åœ¨ä½¿ç”¨doom-modelineä¸Šé¢é…ç½®ä¼šæŠ¥é”™ã€‚è¿™é‡Œç”¨ä¸‹é¢çš„é…ç½®
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> keycast
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">define-minor-mode</span> <span style="color: #0000ff;">keycast-mode</span>
    <span style="color: #8b2252;">"Show current command and its key binding in the mode line (fix for use with doom-mode-line)."</span>
    <span style="color: #483d8b;">:global</span> t
    (<span style="color: #a020f0;">if</span> keycast-mode
        (add-hook 'pre-command-hook 'keycast--update t)
      (remove-hook 'pre-command-hook 'keycast--update)))
  (add-to-list 'global-mode-string '(<span style="color: #8b2252;">""</span> mode-line-keycast)))
</pre>
</div>

<p>
æˆ‘çš„é…ç½®å¦‚ä¸‹
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> keycast
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:commands</span> (+toggle-keycast)
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">+toggle-keycast</span>()
    (<span style="color: #a020f0;">interactive</span>)
    (<span style="color: #a020f0;">if</span> (member '(<span style="color: #8b2252;">""</span> keycast-mode-line <span style="color: #8b2252;">" "</span>) global-mode-string)
        (<span style="color: #a020f0;">progn</span> (<span style="color: #a020f0;">setq</span> global-mode-string (delete '(<span style="color: #8b2252;">""</span> keycast-mode-line <span style="color: #8b2252;">" "</span>) global-mode-string))
               (remove-hook 'pre-command-hook 'keycast--update)
               (message <span style="color: #8b2252;">"Keycast OFF"</span>))
      (add-to-list 'global-mode-string '(<span style="color: #8b2252;">""</span> keycast-mode-line <span style="color: #8b2252;">" "</span>))
      (add-hook 'pre-command-hook 'keycast--update t)
      (message <span style="color: #8b2252;">"Keycast ON"</span>))))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#37324;&#30340;&#25191;&#34892;&#39034;&#24207;&#38750;&#24120;&#37325;&#35201;&#65292;doom-modeline-mode &#30340;&#28608;&#27963;&#26102;&#26426;&#19968;&#23450;&#35201;&#22312;&#35774;&#32622;global-mode-string &#20043;&#21518;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-modeline done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-modeline</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:c3c253e7-a1f2-44b3-8e07-adc5ec6271db" class="outline-3">
<h3 id="h:c3c253e7-a1f2-44b3-8e07-adc5ec6271db"><span class="section-number-3">4.6.</span> <code>init-completion.el</code></h3>
<div class="outline-text-3" id="text-h:c3c253e7-a1f2-44b3-8e07-adc5ec6271db">
</div>
<div id="outline-container-h:completion-built-in" class="outline-4">
<h4 id="h:completion-built-in"><span class="section-number-4">4.6.1.</span> <code>init-completion.el</code> å†…ç½®è¡¥å…¨</h4>
<div class="outline-text-4" id="text-h:completion-built-in">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org1e74b53">(è¡¥å…¨)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20869;&#32622;&#34917;&#20840;&#21151;&#33021;n</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq tab-always-indent 'complete)           ;; &#20351;&#29992; TAB &#26469;&#21015;&#20986;&#24403;&#21069;&#34917;&#20840;&#36873;&#39033;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:completion-company" class="outline-4">
<h4 id="h:completion-company"><span class="section-number-4">4.6.2.</span> <code>init-completion.el</code> è¡¥å…¨ <code>company</code></h4>
<div class="outline-text-4" id="text-h:completion-company">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org138e070">(Companyæ’ä»¶)</a>
</p>


<p>
ä»–æ˜¯ä¸€ä¸ªç”¨äºä»£ç è¡¥å…¨çš„æ’ä»¶
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">company &#34917;&#20840;&#12290; &#26367;&#25442;&#26041;&#26696; corfu &#26356;&#36731;&#37327;</span>
(<span style="color: #a020f0;">use-package</span> company
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (global-company-mode t)                    <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20840;&#23616;&#24320;&#21551; company &#34917;&#20840;</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> company-idle-delay 0)                <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#34917;&#20840;&#26102;&#38388;&#24555;&#20123;</span>
  (<span style="color: #a020f0;">setq</span> company-minimum-prefix-length 1)     <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26368;&#23569;&#36755;&#20837;1&#20010;&#23383;&#31526;&#24320;&#21551;</span>
  (<span style="color: #a020f0;">setq</span> company-show-numbers t)              <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#32473;&#36873;&#39033;&#32534;&#21495; (&#25353;&#24555;&#25463;&#38190; M-1&#12289;M-2 &#31561;&#31561;&#26469;&#36827;&#34892;&#36873;&#25321;)</span>
  (<span style="color: #a020f0;">setq</span> company-dabbrev-other-buffers 'all)  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20174;&#25152;&#26377;&#32531;&#20914;&#21306;&#25910;&#38598;&#34917;&#20840;&#20449;&#24687;</span>
  (<span style="color: #a020f0;">setq</span> company-tooltip-align-annotations t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21491;&#20391;&#38468;&#21152;&#27880;&#37322;</span>
  (<span style="color: #a020f0;">setq</span> company-selection-wrap-around t)
  (<span style="color: #a020f0;">setq</span> company-transformers '(company-sort-by-occurrence)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26681;&#25454;&#36873;&#25321;&#30340;&#39057;&#29575;&#36827;&#34892;&#25490;&#24207;&#65292;&#22914;&#26524;&#19981;&#21916;&#27426;&#21487;&#20197;&#21435;&#25481;</span>
  <span style="color: #483d8b;">:bind</span> (<span style="color: #483d8b;">:map</span> company-active-map
              (<span style="color: #8b2252;">"C-n"</span> . 'company-select-next)
              (<span style="color: #8b2252;">"C-p"</span> . 'company-select-previous)))  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#29992; `C-n` &#19982; `C-p` &#26469;&#36873;&#25321;&#34917;&#20840;&#39033;&#65292;&#40664;&#35748;&#36873;&#25321;&#19978;&#19968;&#26465;&#21644;&#19979;&#19968;&#26465;&#20505;&#36873;&#39033;&#21629;&#20196; M-n M-p</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:completion-corfu" class="outline-4">
<h4 id="h:completion-corfu"><span class="section-number-4">4.6.3.</span> <code>init-completion.el</code> è¡¥å…¨ <code>corfu</code></h4>
<div class="outline-text-4" id="text-h:completion-corfu">
<p>
<b>å®‰è£… corfu æ¥è¿›è¡Œè¡¥å…¨</b>
</p>

<p>
ä¹‹å‰çš„companyè½¯ä»¶åŒ…å¯ä»¥å»æ‰äº†ï¼Œè¿™ä¸ªæ›´è½»é‡
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">corfu &#36731;&#37327;&#34917;&#20840;  &#26367;&#20195;company</span>
(<span style="color: #a020f0;">use-package</span> corfu
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">progn</span>
    (<span style="color: #a020f0;">setq</span> corfu-auto t)
    (<span style="color: #a020f0;">setq</span> corfu-cycle t)
    (<span style="color: #a020f0;">setq</span> corfu-quit-at-boundary t)
    (<span style="color: #a020f0;">setq</span> corfu-quit-no-match t)
    (<span style="color: #a020f0;">setq</span> corfu-preview-current nil)
    (<span style="color: #a020f0;">setq</span> corfu-min-width 80)
    (<span style="color: #a020f0;">setq</span> corfu-max-width 100)
    (<span style="color: #a020f0;">setq</span> corfu-auto-delay 0.2)
    (<span style="color: #a020f0;">setq</span> corfu-auto-prefix 1)
    (<span style="color: #a020f0;">setq</span> corfu-on-exact-match nil)
    (global-corfu-mode)
    ))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:completion-orderless" class="outline-4">
<h4 id="h:completion-orderless"><span class="section-number-4">4.6.4.</span> <code>init-completion.el</code> minibufferå¢å¼º <code>orderless</code></h4>
<div class="outline-text-4" id="text-h:completion-orderless">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#orga7a3fc2">(å¢å¼º minibuffer è¡¥å…¨ï¼švertico å’Œ Orderless)</a>
</p>

<p>
orderless æ”¯æŒ <code>M-x</code> æ¨¡ç³Šæœç´¢ï¼Œå¯ä»¥æ— åºçš„ã€‚ å¦‚ edebug-defun å‡½æ•°æœç´¢ï¼Œ <code>M-x fun debug</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">minibuffer&#22686;&#24378;&#65292;&#27169;&#31946;&#25628;&#32034; (orderless)</span>
(<span style="color: #a020f0;">use-package</span> orderless
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> minibuffer
  <span style="color: #483d8b;">:custom</span>
  (completion-styles '(orderless basic))
  (completion-category-overrides '((file (styles basic partial-completion))))
  (orderless-component-separator #'orderless-escapable-split-on-space))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:completion-consult" class="outline-4">
<h4 id="h:completion-consult"><span class="section-number-4">4.6.5.</span> <code>init-completion.el</code> å¢å¼ºæ–‡ä»¶å†…æœç´¢ <code>consult</code></h4>
<div class="outline-text-4" id="text-h:completion-consult">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#orgbb6726d">(å¢å¼ºæ–‡ä»¶å†…æœç´¢å’Œè·³è½¬å‡½æ•°å®šä¹‰ï¼šConsult)</a>
</p>


<p>
æ€§èƒ½ï¼š grep &lt; ack &lt; ag &lt; ripgrep(rg)
</p>

<p>
ä½¿ç”¨ripgrepæ¥è¿›è¡Œæœç´¢, <code>M-x consult-ripqgrep</code> æœç´¢hello ä¼šå‡ºç°æŠ¥é”™æ‰¾ä¸åˆ°rgå‘½ä»¤ã€‚
</p>

<pre class="example" id="orgcde41cf">
Error running timer: (file-missing "Searching for program" "No such file or directory" "rg")
</pre>

<p>
ä¸‹è½½ripgrep: <a href="https://github.com/BurntSushi/ripgrep">https://github.com/BurntSushi/ripgrep</a> msys2 <a href="https://packages.msys2.org/base/mingw-w64-ripgrep">https://packages.msys2.org/base/mingw-w64-ripgrep</a>
</p>

<p>
å®‰è£…æ–¹å¼ï¼š
</p>
<ul class="org-ul">
<li>PC msys2 <code>pacman -S mingw-w64-x86_64-ripgrep</code></li>
<li>PC github release ä¸‹è½½windowsåŒ…ï¼Œè§£å‹å¹¶åŠ å…¥åˆ°PARHå˜é‡ä¸­</li>
<li>Arch Linux  <code>sudo pacman -S ripgrep</code></li>
<li>macOS <code>brew install ripgrep</code></li>
</ul>

<p>
å†ä½¿ç”¨ripgrepæ¥è¿›è¡Œæœç´¢, <code>M-x consult-ripgrep</code> æœç´¢hello ï¼Œæ‰€æœ‰å½“å‰ç›®å½•ä¸‹åŒ…å«helloå­—ç¬¦ä¸²çš„ä¿¡æ¯éƒ½åœ¨minibufferä¸­å±•ç¤ºå‡ºæ¥äº†ã€‚ ä½¿ç”¨ <code>C-n</code> æˆ– <code>C-p</code> æ¥é¢„è§ˆæ–‡ä»¶æˆ–è¿›å…¥æ–‡ä»¶é‡Œã€‚
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#22686;&#24378;&#25991;&#20214;&#20869;&#25628;&#32034;&#21644;&#36339;&#36716;&#20989;&#25968;&#23450;&#20041;(consult.el)</span>
(<span style="color: #a020f0;">use-package</span> consult
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">replace swiper &#21487;&#20197;&#26367;&#20195;&#32769;&#30340; ivy mode &#30340; swiper &#21151;&#33021;</span>
  <span style="color: #483d8b;">:bind</span> (
         (<span style="color: #8b2252;">"C-s"</span> . consult-line) <span style="color: #b22222;">;; </span><span style="color: #b22222;">replace swipe</span>
         (<span style="color: #8b2252;">"M-s i"</span> . consult-imenu)  <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36339;&#36716;&#20989;&#25968;&#23450;&#20041;</span>
         <span style="color: #b22222;">;;</span><span style="color: #b22222;">("C-x b" .  consult-buffer) ;; &#22810;&#26174;&#31034;&#26368;&#36817;&#25171;&#24320;&#25991;&#20214;&#12290;&#26367;&#25442;&#40664;&#35748; C-x b buffer</span>
         <span style="color: #b22222;">;;</span><span style="color: #b22222;">("C-c p s" . consult-ripgrep) ;;  &#26597;&#25214;&#25991;&#20214;&#20869;&#23481;&#65292;&#38656;&#35201;&#23433;&#35013; ripgrep &#21629;&#20196;</span>
         )
  )
</pre>
</div>

<p>
ä½¿ç”¨ <code>C-s</code> æœç´¢çš„å†…å®¹å°±ä¼šåœ¨minibufferä¸­å‚ç›´æ˜¾ç¤ºï¼Œä½¿ç”¨C-p æˆ– C-næ¥ä¸Šä¸‹é€‰æ‹©
</p>

<p>
ä½¿ç”¨ <code>M-s i</code> è·³è½¬å‡½æ•°å®šä¹‰æˆ–è€…org-modeæ ‡é¢˜
</p>


<p>
<b>é…ç½®æœç´¢ä¸­æ–‡æ–‡ä»¶</b>
</p>

<p>
everythinå·¥å…·å¯ä»¥å¿«é€Ÿæœç´¢æœ¬åœ°æ–‡ä»¶ã€‚ä¸‹è½½åœ°å€ï¼š <a href="https://www.voidtools.com/zh-cn/downloads/">https://www.voidtools.com/zh-cn/downloads/</a>
</p>

<p>
å®‰è£…å¥½åï¼ŒåŒæ—¶ä¸‹è½½ ES.exe å®¢æˆ·ç«¯å·¥å…·åŠ å…¥ç¯å¢ƒå˜é‡ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#37197;&#32622;&#25628;&#32034;&#20013;&#25991;&#25991;&#20214;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">PC&#25552;&#21069;&#23433;&#35013; everyting &#21450;&#20854;&#23458;&#25143;&#31471;ES. &#21033;&#29992;M-x consult-locate&#25628;&#32034;</span>
(<span style="color: #a020f0;">progn</span>
  (<span style="color: #a020f0;">setq</span> consult-locate-args (encode-coding-string <span style="color: #8b2252;">"es.exe -i -p -r"</span> 'gbk))
  (add-to-list 'process-coding-system-alist '(<span style="color: #8b2252;">"es"</span> gbk . gbk))
  )
(eval-after-load 'consult
  (<span style="color: #a020f0;">progn</span>
      (<span style="color: #a020f0;">setq</span>
        consult-narrow-key <span style="color: #8b2252;">"&lt;"</span>
        consult-line-numbers-widen t
        consult-async-min-input 2         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25628;&#32034; 2 &#20010;&#23383;&#31526;&#26174;&#31034;&#36755;&#20986;&#12290;&#40664;&#35748; 3</span>
        consult-async-refresh-delay  0.15
        consult-async-input-throttle 0.2
        consult-async-input-debounce 0.1)
      ))
</pre>
</div>

<p>
æ“ä½œï¼š
</p>
<ul class="org-ul">
<li>å‰æï¼šPC å§‹ç»ˆæ‰“å¼€everything, è½¬ä¸ºESä¼šè°ƒç”¨everthing</li>
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶å¦‚ <code>#init.el</code> ã€‚ å¯ä»¥çœ‹åˆ°minibufferä¸­æ˜¾ç¤ºçš„å’Œeverthingç•Œé¢æœç´¢çš„æ˜¯ä¸€æ ·çš„ã€‚</li>
<li>å†è¾“å…¥ä¸ª#å·å°±å¯ä»¥ä½¿ç”¨ orderless çš„åŠŸèƒ½è¿›è¡Œè¿‡æ»¤ã€‚å¦‚åªæƒ³çœ‹29.4ä¸­init.elæ–‡ä»¶ <code>#init.el#29.4</code> é€‰ä¸­å›è½¦å³å¯æ‰“å¼€å¯¹åº”æ–‡ä»¶</li>
</ul>

<p>
ä½¿ç”¨å¤–éƒ¨ç¨‹åºæ‰“å¼€ï¼š
</p>
<ul class="org-ul">
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶. å¦‚æœç´¢projecktä¸­çš„txtæ–‡ä»¶ <code>#\.txt#project</code></li>
<li>ä½¿ç”¨embark <code>C;</code>  æŒ‰xä½¿ç”¨å¤–éƒ¨ç¨‹åºæ‰“å¼€txtæ–‡ä»¶</li>
</ul>

<p>
ä¸­æ–‡æœç´¢æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶. å¦‚ <code>#å­¦ä¹ </code></li>
</ul>

<p>
<b>ä½¿ç”¨æ‹¼éŸ³è¿›è¡Œæœç´¢</b>
</p>

<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#h:learn-tools-search-pinyin">(ä½¿ç”¨æ‹¼éŸ³è¿›è¡Œæœç´¢)</a>
</p>

<p>
ä¸­æ–‡æ‹¼éŸ³æ“ä½œï¼š
</p>
<ul class="org-ul">
<li>å‰æï¼šPC å§‹ç»ˆæ‰“å¼€everything, è½¬ä¸ºESä¼šè°ƒç”¨everthing</li>
<li><code>M-x consult-locate</code> å›è½¦ï¼Œè¾“å…¥è¦æœç´¢çš„æ–‡ä»¶. å¦‚æ‰“åŒ…å«â€œå­¦ä¹ â€çš„txtæ–‡ä»¶ <code>#\.txt#</code> æŒ‰ <code>s-p</code> è¾“å…¥ <code>#\.txt#xx</code>  å¯ä»¥çœ‹åˆ°è¿‡æ»¤å­¦ä¹ çš„txtæ–‡ä»¶</li>
</ul>


<p>
<b>ä¿®å¤consult-ripgrepæœç´¢ä¸äº†é—®é¢˜</b>
</p>

<p>
windowsä¸Šæœ‰æ—¶ï¼Œconsult-ripgrepæœç´¢ä¸äº†
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">make consult-ripgrep work &#26377;&#26102;consult-ripgrep&#25628;&#32034;&#19981;&#20102;</span>
(<span style="color: #a020f0;">cond</span>
 <span style="color: #b22222;">;; </span><span style="color: #b22222;">macOS</span>
 ((eq system-type 'darwin)
  <span style="color: #8b2252;">"afplay"</span>)
 <span style="color: #b22222;">;; </span><span style="color: #b22222;">Windows</span>
 ((eq system-type 'windows-nt)
  (add-to-list 'process-coding-system-alist 
               '(<span style="color: #8b2252;">"[rR][gG]"</span> . (utf-8-dos . windows-1251-dos)))
  )
 (t
  <span style="color: #8b2252;">"Nothing"</span>))
</pre>
</div>



<p>
å®Œæ•´é…ç½®, å¢åŠ äº†ä¸­æ–‡æœç´¢<a href="#h:j-consult">(<code>j-consult.el</code> åº“)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#22686;&#24378;&#25991;&#20214;&#20869;&#25628;&#32034;&#21644;&#36339;&#36716;&#20989;&#25968;&#23450;&#20041;(consult.el and j-consult.el)</span>
(<span style="color: #a020f0;">use-package</span> consult
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> (completion-list-mode . consult-preview-at-point-mode)
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">replace swiper &#21487;&#20197;&#26367;&#20195;&#32769;&#30340; ivy mode &#30340; swiper &#21151;&#33021;</span>
  <span style="color: #483d8b;">:bind</span>
  ( <span style="color: #483d8b;">:map</span> global-map
    (<span style="color: #8b2252;">"M-g M-g"</span> . consult-goto-line)
    (<span style="color: #8b2252;">"C-s"</span> . consult-line) <span style="color: #b22222;">;; </span><span style="color: #b22222;">replace swipe</span>
    (<span style="color: #8b2252;">"M-s i"</span> . consult-imenu)  <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36339;&#36716;&#20989;&#25968;&#23450;&#20041;</span>
    <span style="color: #b22222;">;;</span><span style="color: #b22222;">("C-x b" .  consult-buffer) ;; &#22810;&#26174;&#31034;&#26368;&#36817;&#25171;&#24320;&#25991;&#20214;&#12290;&#26367;&#25442;&#40664;&#35748; C-x b buffer</span>
    <span style="color: #b22222;">;;</span><span style="color: #b22222;">("C-c p s" . consult-ripgrep) ;;  &#26597;&#25214;&#25991;&#20214;&#20869;&#23481;&#65292;&#38656;&#35201;&#23433;&#35013; ripgrep &#21629;&#20196;</span>
    )
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span>
   consult-narrow-key <span style="color: #8b2252;">"&lt;"</span>
   consult-line-numbers-widen t
   consult-async-min-input 2         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25628;&#32034; 2 &#20010;&#23383;&#31526;&#26174;&#31034;&#36755;&#20986;&#12290;&#40664;&#35748; 3</span>
   consult-async-refresh-delay  0.15
   consult-async-input-throttle 0.2
   consult-async-input-debounce 0.1
   consult-line-start-from-top t)
  )

(<span style="color: #a020f0;">use-package</span> j-consult
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">:after (consult orderless)</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">:demand t</span>
  <span style="color: #483d8b;">:config</span>

  (<span style="color: #a020f0;">setq</span>
   consult-narrow-key <span style="color: #8b2252;">"&lt;"</span>
   consult-line-numbers-widen t
   consult-async-min-input 5         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25628;&#32034; 2 &#20010;&#23383;&#31526;&#26174;&#31034;&#36755;&#20986;&#12290;&#40664;&#35748; 3</span>
   consult-async-refresh-delay  0.15
   consult-async-input-throttle 0.2
   consult-async-input-debounce 0.1
   consult-line-start-from-top t)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#29992;&#25340;&#38899;&#36827;&#34892;&#25628;&#32034;&#25991;&#20214; (pyim)</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">pyim</span>)

  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">eh-orderless-regexp</span> (orig_func component)
    (<span style="color: #a020f0;">let</span> ((result (funcall orig_func component)))
      (pyim-cregexp-build result)))

  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">toggle-chinese-search</span> ()
    (<span style="color: #a020f0;">interactive</span>)
    (<span style="color: #a020f0;">if</span> (not (advice-member-p #'eh-orderless-regexp 'orderless-regexp))
        (advice-add 'orderless-regexp <span style="color: #483d8b;">:around</span> #'eh-orderless-regexp)
      (advice-remove 'orderless-regexp #'eh-orderless-regexp)))

  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">disable-py-search</span> (<span style="color: #228b22;">&amp;optional</span> args)
    (<span style="color: #a020f0;">if</span> (advice-member-p #'eh-orderless-regexp 'orderless-regexp)
        (advice-remove 'orderless-regexp #'eh-orderless-regexp)))

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(advice-add 'exit-minibuffer :after #'disable-py-search)</span>
  (add-hook 'minibuffer-exit-hook 'disable-py-search) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36864;&#20986;minibuffer&#26102;&#33258;&#21160;&#36864;&#20986;&#25340;&#38899;&#25628;&#32034;</span>

  (global-set-key (kbd <span style="color: #8b2252;">"s-p"</span>) 'toggle-chinese-search) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#38656;&#35201;&#26102;&#25171;&#24320;&#25340;&#38899;&#25628;&#32034;&#12290;&#22240;&#20026;&#25340;&#38899;&#25628;&#32034;&#24615;&#33021;&#19981;&#31283;&#23450;</span>
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-h:completion-embark" class="outline-4">
<h4 id="h:completion-embark"><span class="section-number-4">4.6.6.</span> <code>init-completion.el</code> minibufferå¢å¼º <code>embark</code></h4>
<div class="outline-text-4" id="text-h:completion-embark">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org408bc18">(minibuffer action å’Œè‡ªé€‚åº”çš„ context menuï¼šEmbark)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">minibuffer&#25805;&#20316;&#25193;&#23637; &#65288;embark.el and j-embark.el)</span>
(<span style="color: #a020f0;">use-package</span> embark
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:defer</span> 1
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> which-key-use-C-h-commands nil
        <span style="color: #b22222;">;; </span><span style="color: #b22222;">press C-h after a prefix key, it shows all the possible key bindings and let you choose what you want</span>
        prefix-help-command #'embark-prefix-help-command)
  <span style="color: #483d8b;">:bind</span>
  ( <span style="color: #483d8b;">:map</span> minibuffer-local-map
    (<span style="color: #8b2252;">"C-;"</span> . embark-act)         <span style="color: #b22222;">;; </span><span style="color: #b22222;">pick some comfortable binding</span>
   )) <span style="color: #b22222;">;; </span><span style="color: #b22222;">alternative for `</span><span style="color: #008b8b;">describe-bindings</span><span style="color: #b22222;">'</span>
</pre>
</div>

<p>
ä½¿ç”¨
</p>

<p>
å…‰æ ‡åœ¨å‡½æ•°ä½ç½®ï¼ŒæŒ‰ <code>C-;</code> 
</p>
<ul class="org-ul">
<li>RET æŸ¥çœ‹å…‰æ ‡å¤„å‡½æ•°å®šä¹‰æ–‡ä»¶ä½ç½®ï¼Œå¹¶æ‰“å¼€</li>
<li>c ä¿®æ”¹å˜é‡çš„å€¼
<ul class="org-ul">
<li>å¦‚ C-h v å˜é‡åï¼ŒæŒ‰ C-; c ä¿®æ”¹å˜é‡çš„å€¼</li>
</ul></li>
</ul>

<p>
ä¼˜ç‚¹ï¼šä¸éœ€è¦è®°å¿«æ·é”®äº†
</p>
<ul class="org-ul">
<li>ä»¥å‰æŸ¥çœ‹å‡½æ•°çš„ç»‘å®šé”®
<ul class="org-ul">
<li><code>C-h b</code> æŸ¥çœ‹å‡½æ•°å¿«æ·é”®ç»‘å®šï¼š</li>
<li>ä»¥å‰æŒ‰ <code>C-x C-h</code> æ—¶ï¼Œä¼šå‘Šè¯‰ä½  <code>C-x</code> ç»‘å®šäº†å“ªäº›å¿«æ·é”®</li>
</ul></li>
<li>è®¾ç½®äº† <code>(setq prefix-help-command #'embark-prefix-help-command)</code> å
<ul class="org-ul">
<li>æŒ‰ <code>C-x C-h</code> æ¨¡ç³Šè¾“å…¥å‡½æ•°åå¯çœ‹åˆ°ç»‘å®šçš„å¿«æ·é”®ï¼ŒæŒ‰å›è½¦å¯ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œå°±ä¸éœ€è¦å†è®°å¿«æ·é”®äº†</li>
</ul></li>
</ul>

<p>
è¿™äº›ç»„åˆå¯ä»¥ç§’æ€ivy helmè¿™ç§ä¸€ç»Ÿçš„æ’ä»¶ã€‚
</p>
</div>
<div id="outline-container-h:completion-minibuffer-4-1" class="outline-5">
<h5 id="h:completion-minibuffer-4-1"><span class="section-number-5">4.6.6.1.</span> <code>init-completion.el</code> å¢å¼º <code>embark</code> å’Œ <code>consult</code> ï¼Œæ‰¹é‡æœç´¢æ›¿æ¢å¤§æ€å™¨</h5>
<div class="outline-text-5" id="text-h:completion-minibuffer-4-1">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#h:learn-completion-minibuffer-4-1">(å¢å¼º embark å’Œ consultï¼Œæ‰¹é‡æœç´¢æ›¿æ¢å¤§æ€å™¨)</a>
</p>

<p>
<b>ä¸‹é¢ä»‹ç»æ‰¹é‡ä¿®æ”¹æ’ä»¶</b>
</p>

<p>
<a href="#h:j-embark">(<code>j-embark.el</code> åº“)</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25209;&#37327;&#20462;&#25913;&#25991;&#20214;&#20869;&#23481;</span>
(<span style="color: #a020f0;">use-package</span> embark-consult
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> (embark consult)
  <span style="color: #483d8b;">:demand</span>
  <span style="color: #483d8b;">:config</span>
  (add-hook 'embark-collect-mode-hook #'consult-preview-at-point-mode) <span style="color: #b22222;">;</span><span style="color: #b22222;">hook &#31532;&#19968;&#20010;&#21442;&#25968;&#25191;&#34892;&#21069;&#65292;&#20808;&#25191;&#34892;&#31532;2&#20010;&#21442;&#25968;&#30340;&#21151;&#33021;</span>
  )

(<span style="color: #a020f0;">use-package</span> wgrep
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:commands</span> wgrep-change-to-wgrep-mode
  <span style="color: #483d8b;">:config</span> (<span style="color: #a020f0;">setq</span> wgrep-auto-save-buffer t))

(<span style="color: #a020f0;">use-package</span> j-embark
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:after</span> embark
  <span style="color: #483d8b;">:bind</span>
  ( <span style="color: #483d8b;">:map</span> minibuffer-local-map
    (<span style="color: #8b2252;">"C-c C-e"</span> . my/embark-export-write) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25171;&#24320;&#20889;&#65292;&#37197;&#21512;query-replace-regexp&#23454;&#29616;&#25991;&#26412;&#26367;&#25442;</span>
    <span style="color: #483d8b;">:map</span> embark-file-map <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25171;&#24320;pc&#25991;&#20214;&#31649;&#29702;&#22120;</span>
    (<span style="color: #8b2252;">"E"</span> . my/consult-directory-externally)
    ))
</pre>
</div>

<p>
æ‰¹é‡æ›¿æ¢æ“ä½œ
</p>
<ul class="org-ul">
<li><code>M-x consult-ripgrep</code>  é»˜è®¤ä¼šåœ¨ä»¥ git ä¸ºæ ¹ç›®å½•æœç´¢ã€‚å¦‚ <code>#hello</code> ï¼Œæœç´¢åŒ…å«helloå­—ç¬¦çš„æ–‡ä»¶ã€‚ <code>C-n/C-p</code> ä¸‹ä¸Šæœç´¢åŒæ—¶å¯ä»¥é¢„è§ˆã€‚</li>
<li><code>C-c C-e</code> æ‰“å¼€å†™</li>
<li><code>M-x query-replace-regexp</code> è¾“å…¥hello å›è½¦ï¼Œ æ›¿æ¢ä¸ºhello å›è½¦ã€‚ æŒ‰ y åŒæ„å½“å‰è¡Œæ›¿æ¢ï¼Œn ä¸åŒæ„ä¿®æ”¹</li>
<li><code>C-c C-c</code> æ‰§è¡Œæ›¿æ¢ï¼ŒæŒ‰ q é€€å‡º</li>
</ul>


<p>
å½“å‰bufferæ›¿æ¢æ“ä½œ
</p>
<ul class="org-ul">
<li><code>C-s</code> æœç´¢ï¼Œ è¾“å…¥hello</li>
<li><code>C-c C-e</code> ç¼–è¾‘</li>
<li><code>M-x query-replace-regexp</code> è¾“å…¥è¦æ›¿æ¢çš„å†…å®¹</li>
<li><code>C-c C-c</code> æ‰§è¡Œæ›¿æ¢ï¼ŒæŒ‰ q é€€å‡º</li>
</ul>

<p>
å¿«é€Ÿæ‰“å¼€æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼š
</p>
<ul class="org-ul">
<li><code>M-x my/consult-directory-externally</code> è¾“å…¥æ–‡ä»¶è·¯å¾„ï¼Œå¦‚ <code>~/.emacs.d/auto-save-list/.saves-2000-JASPER~</code></li>
<li><code>C-x C-f</code> é€‰æ‹©æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ç”¨embarkæ¥æ‰“å¼€ï¼Œ <code>C;</code> é€‰æ‹©Eï¼Œç”¨æ–‡ä»¶ç®¡ç†å™¨æ‰“å¼€å¯¹åº”ç›®å½•çš„</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:completion-marginalia" class="outline-4">
<h4 id="h:completion-marginalia"><span class="section-number-4">4.6.7.</span> <code>init-completion.el</code> minubufferå¢å¼ºæ³¨é‡Š <code>marginalia</code></h4>
<div class="outline-text-4" id="text-h:completion-marginalia">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org3f95981">(é…ç½® Marginalia å¢å¼º minubuffer çš„ annotation)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">Minubuffer &#35814;&#32454;&#30340;&#27880;&#37322;&#20449;&#24687; (marginalia.el)</span>
(<span style="color: #a020f0;">use-package</span> marginalia
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:defer</span> 1
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> marginalia-max-relative-age 0) <span style="color: #b22222;">; </span><span style="color: #b22222;">absolute time</span>
  (marginalia-mode 1))
</pre>
</div>

<p>
<code>M-x</code> å¯ä»¥çœ‹åˆ°å®ƒä¼šæŠŠå‘½ä»¤çš„æ³¨é‡Šç›´æ¥æ˜¾ç¤ºåœ¨minibufferä¸­
</p>

<p>
<code>C-h v</code> æŸ¥çœ‹ä¸€ä¸ªå˜é‡çš„å†…å®¹ï¼Œå¯ä»¥å‘ç°ä¸ç”¨å†æŒ‰å›è½¦çœ‹åˆ°é‡Œé¢çš„å€¼ã€‚ç›´æ¥æ˜¾ç¤ºåœ¨minibufferä¸­
</p>

<p>
<code>C-h f</code> é”®ä½ç»‘å®šéƒ½å·²ç»åœ¨minibufferä¸­æ˜¾ç¤ºå‡ºæ¥äº†
</p>

<p>
<code>C-x C-f</code> æ˜¾ç¤ºæ–‡ä»¶å¤§å°æƒé™ç­‰ï¼Œ <code>C-x b</code> æ˜¾ buffer å¤§å°çŠ¶æ€ï¼Œ <code>C-h f</code> æ˜¾ç¤ºå‡½æ•°å¿«æ·é”®ç­‰
</p>
</div>
</div>
<div id="outline-container-h:completion-vertico" class="outline-4">
<h4 id="h:completion-vertico"><span class="section-number-4">4.6.8.</span> <code>init-completion.el</code> minibufferå¢å¼º <code>vertico</code></h4>
<div class="outline-text-4" id="text-h:completion-vertico">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#orga7a3fc2">(å¢å¼º minibuffer è¡¥å…¨ï¼švertico å’Œ Orderless)</a>
</p>

<p>
æœ‰äº† vertico-modeï¼ŒæŠŠä¹‹å‰çš„ icomplete-mode å…³æ‰ã€‚ è¡¥å…¨å˜ä¸ºå‚ç›´ï¼Œå‚ç›´å¯¹äºæˆ‘ä»¬æ˜¯æ›´å‹å¥½çš„ï¼Œæ‰€æœ‰ minibuffer çš„è¡Œä¸ºçš„å¯ä»¥è¡¥å…¨ã€‚å¦‚ä½¿ç”¨ <code>M-x</code> è¡¥å…¨å˜ä¸ºå‚ç›´,  <code>C-x C-f</code> å¢å¼ºæ˜¾ç¤ºç›®å½•ä¸‹æ–‡ä»¶ã€ <code>C-x b</code> å˜ä¸ºå‚ç›´ã€‚
</p>

<p>
orderless æ”¯æŒ <code>M-x</code> æ¨¡ç³Šæœç´¢ï¼Œå¯ä»¥æ— åºçš„ã€‚ å¦‚ edebug-defun å‡½æ•°æœç´¢ï¼Œ <code>M-x fun debug</code>
</p>

<p>
æˆ‘æ›´å–œæ¬¢ç”¨ä¸‹ä¸‹é¢çš„é…ç½®ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">Minibuffer &#22402;&#30452;&#34917;&#20840;&#24067;&#23616;(vertico)</span>
(<span style="color: #a020f0;">use-package</span> vertico
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> (after-init . vertico-mode)
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> vertico-resize nil
        vertico-count 17
        vertico-cycle t)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Cleans up path when moving directories with shadowed paths syntax, e.g.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">cleans ~/foo/bar/// to /, and ~/foo/bar/~/ to ~/.</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36866;&#21512;vim&#29992;&#25143;&#20064;&#24815;&#65292;&#19978;&#19979;&#31227;&#21160; C-k, C-j </span>
  (add-hook 'rfn-eshadow-update-overlay-hook #'vertico-directory-tidy)
  (add-hook 'minibuffer-setup-hook #'vertico-repeat-save)
  (define-key vertico-map (kbd <span style="color: #8b2252;">"C-j"</span>) 'vertico-next)
  (define-key vertico-map (kbd <span style="color: #8b2252;">"C-'"</span>) 'vertico-quick-jump)
  (define-key vertico-map (kbd <span style="color: #8b2252;">"C-k"</span>) 'vertico-previous)
  (define-key vertico-map [backspace] #'vertico-directory-delete-char)
  (define-key vertico-map (kbd <span style="color: #8b2252;">"s-SPC"</span>) #'+vertico/embark-preview)
  )
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-completion done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-completion</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:evil" class="outline-3">
<h3 id="h:evil"><span class="section-number-3">4.7.</span> <code>init-evil.el</code></h3>
<div class="outline-text-3" id="text-h:evil">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org931071c">(evil)</a>
</p>
</div>
<div id="outline-container-h:evil-init" class="outline-4">
<h4 id="h:evil-init"><span class="section-number-4">4.7.1.</span> <code>init-evil.el</code> å®‰è£…</h4>
<div class="outline-text-4" id="text-h:evil-init">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">evil </span>
(<span style="color: #a020f0;">use-package</span> evil
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> evil-want-keybinding nil) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#19981;&#20351;&#29992;&#33258;&#24102;&#30340;&#38190;&#20301;&#32465;&#23450;&#12290;&#40664;&#35748;&#21152;&#36733;&#19981;&#21516;&#27169;&#24335;&#19979;&#38190;&#20301;&#32465;&#23450;</span>
  (<span style="color: #a020f0;">setq</span> evil-want-C-u-scroll t) <span style="color: #b22222;">;</span><span style="color: #b22222;">C-u &#23454;&#29616;&#21521;&#19978;&#28378;&#21160;&#12290;&#40664;&#35748;C-u &#26159;emacs&#20013;&#30340;&#21151;&#33021;</span>
  (evil-mode)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">https://emacs.stackexchange.com/questions/46371/how-can-i-get-ret-to-follow-org-mode-links-when-using-evil-mode</span>
  (<span style="color: #a020f0;">with-eval-after-load</span> 'evil-maps
    (define-key evil-motion-state-map (kbd <span style="color: #8b2252;">"RET"</span>) nil)) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#22914;&#26524;&#26377;&#38142;&#25509;&#65292;&#25353;&#22238;&#36710;&#33021;&#35775;&#38382;&#36825;&#20010;&#38142;&#25509;</span>
  )
</pre>
</div>


<p>
å®‰è£…undo-tree
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">evil &#20351;&#29992;undo-tree&#26469;&#31649;&#29702;undo redo</span>
(<span style="color: #a020f0;">use-package</span> undo-tree
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:init</span>
  (global-undo-tree-mode 1)
  (<span style="color: #a020f0;">setq</span> undo-tree-auto-save-history nil)
  (evil-set-undo-system 'undo-tree))
</pre>
</div>

<p>
<b>Emacsä¸­ä½¿ç”¨vimå’Œå¤–éƒ¨ä½¿ç”¨vimçš„åŒºåˆ«</b>
</p>

<p>
vim ä¸­æœ‰normalå’Œinsertæ¨¡å¼ï¼Œåœ¨emacsä¸­æ˜¯å„ç§state, å¦‚ noarmal state, insert state
</p>

<dl class="org-dl">
<dt>Normal State (N)</dt><dd>è¿™æ˜¯ Evil é»˜è®¤çš„â€œé™æ­¢çŠ¶æ€â€ï¼Œå…¶ä¸­å®šä¹‰äº† vi ç»‘å®šçš„ä¸»ä½“ã€‚ <code>M-x evil-normal-state</code></dd>

<dt>Insert State (I)</dt><dd>è¿™æ˜¯æ’å…¥æ–‡æœ¬çš„çŠ¶æ€ï¼Œå…¶ä¸­æœªä¿®æ”¹çš„é”®å°†åœ¨ç¼“å†²åŒºä¸­æ’å…¥ç›¸åº”çš„å­—ç¬¦ã€‚</dd>

<dt>Emacs State (E)</dt><dd>ä¸€ç§å°½å¯èƒ½æ¥è¿‘é»˜è®¤ Emacs è¡Œä¸ºçš„çŠ¶æ€ï¼Œé€šè¿‡ <code>C-z</code> ä»emacså’Œ vi ç›¸äº’åˆ‡æ¢ã€‚</dd>

<dt>Visual State (V)</dt><dd>ç”¨äºé€‰æ‹©æ–‡æœ¬åŒºåŸŸçš„çŠ¶æ€ã€‚</dd>

<dt>Motion State (M) è¿åŠ¨çŠ¶æ€ ï¼ˆMï¼‰</dt><dd>ä¸€ç§ç‰¹æ®ŠçŠ¶æ€ï¼Œé€‚ç”¨äºåªè¯»ç¼“å†²åŒºï¼Œå…¶ä¸­è¿åŠ¨å¯ç”¨ï¼Œä½†ç¼–è¾‘æ“ä½œä¸å¯ç”¨ã€‚åªè¯»çš„æ–‡æ¡£ä¸€èˆ¬éƒ½æ˜¯Motion state å¦‚å¸®åŠ©æ–‡æ¡£ã€‚ <code>M-x evil-motion-state</code></dd>

<dt>Replace State (R) æ›¿æ¢çŠ¶æ€ ï¼ˆRï¼‰</dt><dd>ä¸€ç§ç‰¹æ®ŠçŠ¶æ€ï¼Œä¸æ’å…¥çŠ¶æ€éå¸¸ç›¸ä¼¼ï¼Œåªä¸è¿‡å®ƒæ›¿æ¢æ–‡æœ¬è€Œä¸æ˜¯æ’å…¥ã€‚ æŒ‰ä½å¤§å†™çš„ <code>R</code> , ä¸€ç›´æ›¿æ¢çŠ¶æ€</dd>
</dl>


<p>
<b>Evil åŸºç¡€ç”¨æ³•</b>
</p>

<p>
å¢åˆ æ”¹æŸ¥ (text-obj, commands, replace)
</p>
<ul class="org-ul">
<li>text-obj æ›´å¥½åœ°æ“ä½œæ–‡æœ¬
<ul class="org-ul">
<li>é€‰ä¸­å•è¯ viw</li>
<li>åˆ é™¤å•è¯ diw</li>
</ul></li>
<li>è·³åˆ°rå­—ç¬¦çš„ä½ç½®ï¼š fr</li>
<li>commands
<ul class="org-ul">
<li><code>:</code> è¿›è¡Œå‘½ä»¤è¡Œæ¨¡å¼ã€‚ :%s/commands/111/ å¯ä»¥æ›¿æ¢, æŒ‰ u å›é€€</li>
</ul></li>
</ul>

<p>
evil-guide: <a href="https://github.com/noctuid/evil-guide.git">https://github.com/noctuid/evil-guide.git</a>
</p>

<p>
ä¸Šè¿°æ–‡æ¡£èŠ±2å°æ—¶è®¤çœŸè¯»å°±å¯ä»¥å®Œå…¨ä»vimç”¨æˆ·åˆ‡åˆ°emacsä¸Šä½¿ç”¨äº†ã€‚
</p>


<p>
<b>interactive replace äº¤äº’å¼æ›¿æ¢æ–‡æœ¬</b>
</p>

<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org8ff3141">(ç²¾é€‰ packages, å¤§å¤§æå‡ä½ çš„ Emacs ç¼–è¾‘æ•ˆç‡)</a>
</p>

<p>
äº¤äº’å¼æ›¿æ¢æ–‡æœ¬. åœ¨evilæ¨¡å¼ä¸­ï¼Œé€‰ä¸­çš„å•è¯å¡«å†™åœ¨ <code>:%s/&lt;word&gt;//</code> ä¸­
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/evil-quick-replace</span> (beg end )
  (<span style="color: #a020f0;">interactive</span> <span style="color: #8b2252;">"r"</span>)
  (<span style="color: #a020f0;">when</span> (evil-visual-state-p)
    (evil-exit-visual-state)
    (<span style="color: #a020f0;">let</span> ((selection (regexp-quote (buffer-substring-no-properties beg end))))
      (<span style="color: #a020f0;">setq</span> command-string (format <span style="color: #8b2252;">"%%s /%s//g"</span> selection))
      (<span style="color: #a020f0;">minibuffer-with-setup-hook</span>
          (<span style="color: #a020f0;">lambda</span> () (backward-char 2))
        (evil-ex command-string)))))

(define-key evil-visual-state-map (kbd <span style="color: #8b2252;">"C-r"</span>) 'my/evil-quick-replace)
</pre>
</div>

<p>
äº¤äº’å¼æ›¿æ¢æ–‡æœ¬æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>SPC v</code> æˆ–è€…é€‰ä¸­è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼ŒæŒ‰ <code>C-r</code> æ›¿æ¢</li>
</ul>

<p>
æ¯”è¾ƒå…¨çš„evilé…ç½®
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">evil </span>
(<span style="color: #a020f0;">use-package</span> evil
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> evil-want-keybinding nil) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#19981;&#20351;&#29992;&#33258;&#24102;&#30340;&#38190;&#20301;&#32465;&#23450;&#12290;&#40664;&#35748;&#21152;&#36733;&#19981;&#21516;&#27169;&#24335;&#19979;&#38190;&#20301;&#32465;&#23450;</span>
  (<span style="color: #a020f0;">setq</span> evil-want-C-u-scroll t) <span style="color: #b22222;">;</span><span style="color: #b22222;">C-u &#23454;&#29616;&#21521;&#19978;&#28378;&#21160;&#12290;&#40664;&#35748;C-u &#26159;emacs&#20013;&#30340;&#21151;&#33021;</span>
  (evil-mode)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">https://emacs.stackexchange.com/questions/46371/how-can-i-get-ret-to-follow-org-mode-links-when-using-evil-mode</span>
  (<span style="color: #a020f0;">with-eval-after-load</span> 'evil-maps
    (define-key evil-motion-state-map (kbd <span style="color: #8b2252;">"RET"</span>) nil)) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#22914;&#26524;&#26377;&#38142;&#25509;&#65292;&#25353;&#22238;&#36710;&#33021;&#35775;&#38382;&#36825;&#20010;&#38142;&#25509;</span>

  <span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#35774;&#32622;</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;&#36827;&#34892;&#25554;&#20837;&#27169;&#24335;&#21518;&#65292;&#24076;&#26395;&#20351;&#29992;emacs&#30340;&#24555;&#25463;&#38190;&#65292;&#32780;&#21448;&#19981;&#24076;&#26395;&#36827;&#20837; Emacs State</span>
  (setcdr evil-insert-state-map nil)
  (define-key evil-insert-state-map [escape] 'evil-normal-state) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#25353; [Esc] &#22238;&#21040;normal state. &#19979;&#38754;&#20250;&#20171;&#32461;&#26356;&#26041;&#20415;&#30340;evil-escape&#25554;&#20214;</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#31354;&#34892;, &#40664;&#35748; o + Esc &#38656;&#35201;2&#27425;&#25805;&#20316;. &#19979;&#38754;&#30340;&#35774;&#32622;&#30452;&#25509;&#22312;normal &#27169;&#24335;&#20013;&#25805;&#20316;</span>
  (define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"[ SPC"</span>) (<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">interactive</span>) (evil-insert-newline-above) (forward-line))) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21521;&#19978;&#21152;&#31354;&#34892;</span>
  (define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"] SPC"</span>) (<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">interactive</span>) (evil-insert-newline-below) (forward-line -1))) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21521;&#19978;&#21152;&#31354;&#34892;</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;normal state&#20013;&#20999;&#25442;&#19981;&#21516;&#30340;buffer</span>
  (define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"[ b"</span>) 'previous-buffer) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#20999;&#21040;&#21069;&#19968;&#20010;buffer</span>
  (define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"] b"</span>) 'next-buffer)
  (define-key evil-motion-state-map (kbd <span style="color: #8b2252;">"[ b"</span>) 'previous-buffer)
  (define-key evil-motion-state-map (kbd <span style="color: #8b2252;">"] b"</span>) 'next-buffer)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;dired&#27169;&#24335;&#19979;&#65292;&#28155;&#21152;&#24555;&#25463;&#38190;</span>
  (evil-define-key 'normal dired-mode-map <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21482;&#20462;&#25913;dired&#27169;&#24335;&#19979;normal&#27169;&#24335;&#30340;&#24555;&#25463;&#38190;&#32465;&#23450;</span>
    (kbd <span style="color: #8b2252;">"&lt;RET&gt;"</span>) 'dired-find-alternate-file
    (kbd <span style="color: #8b2252;">"C-k"</span>) 'dired-up-directory <span style="color: #b22222;">;</span><span style="color: #b22222;">&#24448;&#19978;&#19968;&#32423;&#30446;&#24405;</span>
    <span style="color: #8b2252;">"`"</span> 'dired-open-term
    <span style="color: #8b2252;">"q"</span> 'quit-window <span style="color: #b22222;">; </span><span style="color: #b22222;">q &#36864;&#20986;&#12290;&#40664;&#35748;&#27809;&#26377;&#12290; &#21487;&#20197;&#26597;&#30475;emacs state&#19979;&#30340;q&#32465;&#23450;&#30340;&#20989;&#25968; =C-x d= &#36827;&#20837;dired&#65292; =C-z= &#36827;&#20837;emacs state&#65292; =C-h k= &#25353; q &#21487;&#26597;&#21040;&#23545;&#24212;&#30340;&#20989;&#25968;&#20026; quit-window</span>
    <span style="color: #8b2252;">"o"</span> 'dired-find-file-other-window <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22312;&#21478;&#22806;&#19968;&#20010;&#31383;&#21475;&#25171;&#24320;&#25991;&#20214;</span>
    <span style="color: #8b2252;">"z"</span> 'dired-get-size
    <span style="color: #8b2252;">")"</span> 'dired-omit-mode)
  )


(<span style="color: #a020f0;">use-package</span> j-evil
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:bind</span>
  ( <span style="color: #483d8b;">:map</span> evil-visual-state-map 
  (<span style="color: #8b2252;">"C-r"</span> . my/evil-quick-replace) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#20132;&#20114;&#24335;&#26367;&#25442;&#25991;&#26412; &#36873;&#20013;&#25991;&#26412;C-r, :%s/&lt;words&gt;//</span>
  ))

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">evil &#20351;&#29992;undo-tree&#26469;&#31649;&#29702;undo redo</span>
(<span style="color: #a020f0;">use-package</span> undo-tree
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:init</span>
  (global-undo-tree-mode 1)
  (<span style="color: #a020f0;">setq</span> undo-tree-auto-save-history nil)
  (evil-set-undo-system 'undo-tree))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:evil-custom-keybinding" class="outline-4">
<h4 id="h:evil-custom-keybinding"><span class="section-number-4">4.7.2.</span> <code>init.evil.el</code> è‡ªå®šä¹‰å¿«æ·é”®</h4>
<div class="outline-text-4" id="text-h:evil-custom-keybinding">
<p>
<b>å®šä¹‰ä¸åŒ state ä¸‹é¢çš„å¿«æ·é”®</b>
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#35774;&#32622;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;&#36827;&#34892;&#25554;&#20837;&#27169;&#24335;&#21518;&#65292;&#24076;&#26395;&#20351;&#29992;emacs&#30340;&#24555;&#25463;&#38190;&#65292;&#32780;&#21448;&#19981;&#24076;&#26395;&#36827;&#20837; Emacs State</span>
(setcdr evil-insert-state-map nil)
(define-key evil-insert-state-map [escape] 'evil-normal-state) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#25353; [Esc] &#22238;&#21040;normal state</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#31354;&#34892;, &#40664;&#35748; o + Esc &#38656;&#35201;2&#27425;&#25805;&#20316;. &#19979;&#38754;&#30340;&#35774;&#32622;&#30452;&#25509;&#22312;normal &#27169;&#24335;&#20013;&#25805;&#20316;</span>
(define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"[ SPC"</span>) (<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">interactive</span>) (evil-insert-newline-above) (forward-line))) <span style="color: #b22222;">; </span><span style="color: #b22222;">[ + &#31354;&#26684;&#65292;&#21521;&#19978;&#21152;&#31354;&#34892;</span>
(define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"] SPC"</span>) (<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">interactive</span>) (evil-insert-newline-below) (forward-line -1))) <span style="color: #b22222;">; </span><span style="color: #b22222;">[ + &#31354;&#26684;&#65292;&#21521;&#19978;&#21152;&#31354;&#34892;</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;normal state&#20013;&#20999;&#25442;&#19981;&#21516;&#30340;buffer</span>
(define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"[ b"</span>) 'previous-buffer) <span style="color: #b22222;">; </span><span style="color: #b22222;">[ + b &#20999;&#21040;&#21069;&#19968;&#20010;buffer</span>
(define-key evil-normal-state-map (kbd <span style="color: #8b2252;">"] b"</span>) 'next-buffer)
(define-key evil-motion-state-map (kbd <span style="color: #8b2252;">"[ b"</span>) 'previous-buffer)
(define-key evil-motion-state-map (kbd <span style="color: #8b2252;">"] b"</span>) 'next-buffer)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;dired&#27169;&#24335;&#19979;&#65292;&#28155;&#21152;&#24555;&#25463;&#38190;</span>
(evil-define-key 'normal dired-mode-map <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21482;&#20462;&#25913;dired&#27169;&#24335;&#19979;normal&#27169;&#24335;&#30340;&#24555;&#25463;&#38190;&#32465;&#23450;</span>
  (kbd <span style="color: #8b2252;">"&lt;RET&gt;"</span>) 'dired-find-alternate-file
  (kbd <span style="color: #8b2252;">"C-k"</span>) 'dired-up-directory <span style="color: #b22222;">;</span><span style="color: #b22222;">&#24448;&#19978;&#19968;&#32423;&#30446;&#24405;</span>
  <span style="color: #8b2252;">"`"</span> 'dired-open-term
  <span style="color: #8b2252;">"q"</span> 'quit-window <span style="color: #b22222;">; </span><span style="color: #b22222;">q &#36864;&#20986;&#12290;&#40664;&#35748;&#27809;&#26377;&#12290; &#21487;&#20197;&#26597;&#30475;emacs state&#19979;&#30340;q&#32465;&#23450;&#30340;&#20989;&#25968; =C-x d= &#36827;&#20837;dired&#65292; =C-z= &#36827;&#20837;emacs state&#65292; =C-h k= &#25353; q &#21487;&#26597;&#21040;&#23545;&#24212;&#30340;&#20989;&#25968;&#20026; quit-window</span>
  <span style="color: #8b2252;">"o"</span> 'dired-find-file-other-window <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22312;&#21478;&#22806;&#19968;&#20010;&#31383;&#21475;&#25171;&#24320;&#25991;&#20214;</span>
  <span style="color: #8b2252;">"z"</span> 'dired-get-size
  <span style="color: #8b2252;">")"</span> 'dired-omit-mode)
</pre>
</div>


<p>
<b>spacemacs like å¿«æ·é”®å¦‚ä½•å®šä¹‰</b>
</p>

<p>
generalæ’ä»¶ä¸­global-defineråœ¨init-basic.elä¸­å®šä¹‰<a href="#h:basic-general">(<code>init-basic.el</code> é”®ä½ç»‘å®š <code>general</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> general
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">global-definer &#23545;&#24212;leader&#38190;&#20026;&#31354;&#26684;</span>
  (global-definer
    <span style="color: #8b2252;">"!"</span> 'shell-command <span style="color: #b22222;">;</span><span style="color: #b22222;">&#31354;&#26684;+! SPC ! &#36827;&#20837;shell&#21629;&#20196;&#34892;</span>
    <span style="color: #8b2252;">"SPC"</span> 'execute-extended-command <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25353;2&#19979;&#31354;&#26684;SPC-SPC&#23601;&#21487;&#20197;&#23454;&#29616; M-x &#30340;&#25928;&#26524;</span>
    <span style="color: #8b2252;">"'"</span> 'vertico-repeat
    <span style="color: #8b2252;">"+"</span> 'text-scale-increase
    <span style="color: #8b2252;">"-"</span> 'text-scale-decrease
    <span style="color: #8b2252;">"u"</span> 'universal-argument <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC u &#30456;&#24403;&#20110;emacs&#30340;C-u </span>
    <span style="color: #8b2252;">"hdf"</span> 'describe-function <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC hdf &#30456;&#24403;&#20110;emacs&#30340;C-h f</span>
    <span style="color: #8b2252;">"hdv"</span> 'describe-variable <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC hdv &#30456;&#24403;&#20110;emacs&#30340;C-h v</span>
    <span style="color: #8b2252;">"hdk"</span> 'describe-key <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC hdk &#30456;&#24403;&#20110;emacs&#30340;C-h k</span>
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26597;&#30475;init-funcs.el &#33258;&#23450;&#20041;&#20989;&#25968;</span>
    <span style="color: #8b2252;">"hh"</span> 'my/highlight-dwim <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC hh &#39640;&#20142;&#36873;&#20013;&#21306;&#22495;&#24182;&#26631;&#19978;&#39068;&#33394;</span>
    <span style="color: #8b2252;">"hc"</span> 'my/clearn-highlight <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC hc &#28165;&#38500;&#39640;&#20142;&#39068;&#33394;</span>
    <span style="color: #8b2252;">"v"</span> 'er/expand-region <span style="color: #b22222;">;</span><span style="color: #b22222;">SPC v &#25193;&#22823;&#21306;&#22495;</span>
    )
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">leader &#38190;&#20026;SPC&#31354;&#26684;&#65292;&#23376;leader&#38190;&#20026;b. &#22914; SPC b b&#26597;&#30475;buffer&#32531;&#20914;&#21306;</span>
  (+general-global-menu! <span style="color: #8b2252;">"buffer"</span> <span style="color: #8b2252;">"b"</span>
    <span style="color: #8b2252;">"d"</span> 'kill-current-buffer
    <span style="color: #8b2252;">"b"</span> '(consult-buffer <span style="color: #483d8b;">:which-key</span> <span style="color: #8b2252;">"consult buffer"</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26597;&#30475;buffer&#32531;&#20914;&#21306;</span>
    <span style="color: #8b2252;">"B"</span> 'switch-to-buffer
    <span style="color: #8b2252;">"p"</span> 'previous-buffer
    <span style="color: #8b2252;">"R"</span> 'rename-buffer
    <span style="color: #8b2252;">"M"</span> '((<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">interactive</span>) (switch-to-buffer <span style="color: #8b2252;">"*Messages*"</span>)) 
          <span style="color: #483d8b;">:which-key</span> <span style="color: #8b2252;">"messages-buffer"</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC b M&#26597;&#30475;*Message*&#32531;&#20914;&#21306;</span>
    <span style="color: #8b2252;">"n"</span> 'next-buffer
    <span style="color: #8b2252;">"i"</span> 'ibuffer
    <span style="color: #8b2252;">"f"</span> 'my-open-current-directory
    <span style="color: #8b2252;">"k"</span> 'kill-buffer

    <span style="color: #8b2252;">"y"</span> 'copy-buffer-name
    <span style="color: #8b2252;">"K"</span> 'kill-other-buffers)
  )
</pre>
</div>

<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:keybindings-general">(<code>init-keybindings.el</code> é”®ä½ç»‘å®š <code>general</code>)</a>
</p>

<p>
å‚è€ƒé…ç½®ï¼š <a href="https://github.com/zilongshanren/emacs.d/blob/eglot/lisp/init-keybindings.el">https://github.com/zilongshanren/emacs.d/blob/eglot/lisp/init-keybindings.el</a> å®ç°è‡ªå·±çš„æ–‡ä»¶ã€çª—å£ã€é¡¹ç›®å¤šç§å¿«æ·é”®ç»‘å®š
</p>
</div>
</div>
<div id="outline-container-h:36d15ff2-87fc-47f2-a385-ddca88f7c2f0" class="outline-4">
<h4 id="h:36d15ff2-87fc-47f2-a385-ddca88f7c2f0"><span class="section-number-4">4.7.3.</span> ç›¸å…³æ’ä»¶åˆ—è¡¨</h4>
<div class="outline-text-4" id="text-h:36d15ff2-87fc-47f2-a385-ddca88f7c2f0">
</div>
<div id="outline-container-h:2186eba8-72bf-4c04-b439-168680e1055e" class="outline-5">
<h5 id="h:2186eba8-72bf-4c04-b439-168680e1055e"><span class="section-number-5">4.7.3.1.</span> evil-escapeæ’ä»¶å›é€€åˆ°normal state</h5>
<div class="outline-text-5" id="text-h:2186eba8-72bf-4c04-b439-168680e1055e">
<p>
ä»»ä½•çŠ¶æ€ä¸‹æŒ‰ <code>kj</code> å°±èƒ½å›åˆ°normal stateã€‚å¾ˆå®ç”¨ï¼Œç›¸å½“äºæŠŠescé”®é›†ä¸­åœ¨å³æ‰‹, ä¸€åªæ‰‹å°±å¯ä»¥æ“ä½œvimå¸¸ç”¨åŠŸèƒ½ã€‚
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">kj &#36864;&#22238;&#21040;&#26222;&#36890;&#27169;&#24335;</span>
(<span style="color: #a020f0;">use-package</span> evil-escape
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">{{ https://github.com/syl20bnr/evil-escape</span>
  (<span style="color: #a020f0;">setq-default</span> evil-escape-delay 0.3)
  (<span style="color: #a020f0;">setq</span> evil-escape-excluded-major-modes '(dired-mode))
  (<span style="color: #a020f0;">setq-default</span> evil-escape-key-sequence <span style="color: #8b2252;">"kj"</span>)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">disable evil-escape when input method is on</span>
  (evil-escape-mode 1)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">}}</span>
)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ff29f09d-cec5-488a-a62e-2e96a9327958" class="outline-5">
<h5 id="h:ff29f09d-cec5-488a-a62e-2e96a9327958"><span class="section-number-5">4.7.3.2.</span> evil-anzu</h5>
<div class="outline-text-5" id="text-h:ff29f09d-cec5-488a-a62e-2e96a9327958">
<p>
å°åŠŸèƒ½uiã€‚ å½“ç”¨ <code>Shift *</code> æŸ¥æ‰¾å•è¯é‡å¤å‡ºç°å‡ æ¬¡æ—¶ï¼Œä¸‹æ–¹çŠ¶æ€æ ä¼šå¤šä¸€ä¸ªæ ‡è¯†æ˜¾ç¤ºï¼Œæ˜¾ç¤ºå½“å‰é‡å¤å‡ºç°å•è¯çš„ä½ç½®å’Œæ€»é‡å¤æ¬¡æ•°ã€‚
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;</span><span style="color: #b22222;">&#19979;&#26041;&#29366;&#24577;&#26639;&#26174;&#31034;&#21333;&#35789;&#37325;&#22797;&#20986;&#29616;&#20301;&#32622;</span>
(<span style="color: #a020f0;">use-package</span> evil-anzu
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> evil
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:init</span>
  (global-anzu-mode t))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4ab86f63-e3dc-4b10-a730-72d12d10555a" class="outline-5">
<h5 id="h:4ab86f63-e3dc-4b10-a730-72d12d10555a"><span class="section-number-5">4.7.3.3.</span> evil-collections</h5>
<div class="outline-text-5" id="text-h:4ab86f63-e3dc-4b10-a730-72d12d10555a">
<p>
ä½¿ç”¨ç¤¾åŒºçš„æŒ‰é”®ç»‘å®šã€‚ç›¸å¯¹ç¨³å®šä¸ä¼šæ”¹å˜
</p>

<p>
åŒæ—¶å¯ä»¥è®¾ç½®ä¸åŒæ¨¡å¼ä¸­é»˜è®¤çš„evilçŠ¶æ€
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#20351;&#29992;&#31038;&#21306;&#31283;&#23450;&#30340;&#25353;&#38190;&#32465;&#23450;&#12290; &#24182;&#35774;&#32622;&#19981;&#21516;&#27169;&#24335;&#20013;&#40664;&#35748;&#30340;evil&#29366;&#24577;</span>
(<span style="color: #a020f0;">use-package</span> evil-collection
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> evil
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> evil-collection-mode-list (remove 'lispy evil-collection-mode-list)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#31227;&#38500;&#31038;&#21306;&#20013;&#25554;&#20214;&#30340;&#25913;&#38190;&#23545;&#20320;&#38190;&#20301;&#24433;&#21709;</span>
  (evil-collection-init)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#36827;&#20837;mode&#26102;&#23545;&#24212;&#30340;vim &#27169;&#24335;</span>
  (<span style="color: #a020f0;">cl-loop</span> for (mode . state) in
           '((org-agenda-mode . normal) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36827;&#20837;agenda&#26102;&#40664;&#35748;Normal State&#29366;&#24577;</span>
             (Custom-mode . emacs)
             (eshell-mode . emacs) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#36827;&#20837;eshell&#27169;&#24335;&#26102;&#40664;&#35748;Emacs State&#29366;&#24577;</span>
             (makey-key-mode . motion))
           do (evil-set-initial-state mode state)))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:efec661d-88ef-4d35-8545-e33a71e60c04" class="outline-5">
<h5 id="h:efec661d-88ef-4d35-8545-e33a71e60c04"><span class="section-number-5">4.7.3.4.</span> evil-surround</h5>
<div class="outline-text-5" id="text-h:efec661d-88ef-4d35-8545-e33a71e60c04">
<p>
Sç”¨æ³•ï¼Œé€‰ä¸­ä¸€ä¸ªå•è¯ååŠ å¼•å·ã€‚
</p>
<ul class="org-ul">
<li><code>viw S "</code> ç›¸å½“äºåŸç”Ÿvim text objectç”¨æ³• <code>viw Shift i "</code> æ“ä½œ</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">S&#29992;&#27861;&#65292;&#36873;&#20013;&#19968;&#20010;&#21333;&#35789;&#21518;&#21152;&#24341;&#21495;&#12290;viw S " &#30456;&#24403;&#20110;&#21407;&#29983;vim text object&#29992;&#27861; viw Shift i " </span>
(<span style="color: #a020f0;">use-package</span> evil-surround
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (global-evil-surround-mode 1))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:5748be0d-f8c4-45d6-89c0-3fd42e880a2c" class="outline-5">
<h5 id="h:5748be0d-f8c4-45d6-89c0-3fd42e880a2c"><span class="section-number-5">4.7.3.5.</span> evil-nerd-commenter</h5>
<div class="outline-text-5" id="text-h:5748be0d-f8c4-45d6-89c0-3fd42e880a2c">
<p>
å¯¹ä¸åŒè¯­è¨€åŠ çš„æ³¨é‡Š
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#28155;&#21152;&#19981;&#21516;&#35821;&#35328;&#30340;&#27880;&#37322;</span>
(<span style="color: #a020f0;">use-package</span> evil-nerd-commenter
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">normal &#25110; visual &#27169;&#24335;&#19979;&#25353; ,/ &#21487;&#21152;&#27880;&#37322;</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">(define-key evil-normal-state-map (kbd ",ci") 'evilnc-comment-or-uncomment-lines)</span>
  (define-key evil-normal-state-map (kbd <span style="color: #8b2252;">",/"</span>) 'evilnc-comment-or-uncomment-lines)
  (define-key evil-visual-state-map (kbd <span style="color: #8b2252;">","</span>) 'evilnc-comment-or-uncomment-lines)
  )
</pre>
</div>

<p>
æ“ä½œï¼šåŠ æ³¨é‡Š
</p>
<ul class="org-ul">
<li>å•è¡Œæ³¨é‡Šï¼Œ <code>,/</code></li>
<li>å¤šè¡Œæ³¨é‡Šï¼Œé€‰ä¸­è¡Œ <code>,/</code></li>
</ul>
</div>
</div>
<div id="outline-container-h:c63ca6bf-d489-49a3-90b9-0826c2bc5f20" class="outline-5">
<h5 id="h:c63ca6bf-d489-49a3-90b9-0826c2bc5f20"><span class="section-number-5">4.7.3.6.</span> evil-snipe</h5>
<div class="outline-text-5" id="text-h:c63ca6bf-d489-49a3-90b9-0826c2bc5f20">
<p>
å°åŠŸèƒ½uiã€‚é«˜äº®æŸ¥æ‰¾çš„å­—ç¬¦ã€‚ å¦‚æŸ¥æ‰¾må­—ç¬¦ã€‚ <code>fm</code> å½“å‰è¡Œçš„må­—ç¬¦é«˜äº®ã€‚æŒ‰ <code>;</code> é‡å¤æŸ¥æ‰¾åŠ¨ä½œ
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> evil-snipe
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:init</span>
  (evil-snipe-mode +1)
  (evil-snipe-override-mode +1))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:270a82c8-9426-4829-b6b8-2037a2121fdf" class="outline-5">
<h5 id="h:270a82c8-9426-4829-b6b8-2037a2121fdf"><span class="section-number-5">4.7.3.7.</span> evil-matchit</h5>
<div class="outline-text-5" id="text-h:270a82c8-9426-4829-b6b8-2037a2121fdf">
<p>
æŒ‰ <code>%</code> å¯ä»¥åœ¨å‡½æ•°ã€æ‹¬å·ä¹‹é—´è·³è½¬
</p>

<p>
å‚è€ƒæˆ‘çš„æ–‡ç« <a href="http://xuchangwei.com/lisp/coding-emacs/coding-emacs.html#h:vscode-symbol-jump">(å¦‚ä½•æé«˜ç¼–ç¨‹é€Ÿåº¦)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25353; % &#21487;&#20197;&#22312;&#20989;&#25968;&#12289;&#25324;&#21495;&#20043;&#38388;&#36339;&#36716;</span>
(<span style="color: #a020f0;">use-package</span> evil-matchit
  <span style="color: #483d8b;">:ensure</span>
  <span style="color: #483d8b;">:init</span>
  (global-evil-matchit-mode 1))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:78a0a60e-dfaf-4aeb-9f4d-6bbaefd6ae1d" class="outline-4">
<h4 id="h:78a0a60e-dfaf-4aeb-9f4d-6bbaefd6ae1d"><span class="section-number-4">4.7.4.</span> é«˜é˜¶ç”¨æ³•ï¼ˆè‡ªå®šä¹‰ text-obj æˆ–è€… è‡ªå®šä¹‰ commands)</h4>
<div class="outline-text-4" id="text-h:78a0a60e-dfaf-4aeb-9f4d-6bbaefd6ae1d">
<ul class="org-ul">
<li><a href="https://github.com/noctuid/evil-guide#modes">https://github.com/noctuid/evil-guide#modes</a></li>
<li><a href="https://evil.readthedocs.io/en/latest/overview.html">https://evil.readthedocs.io/en/latest/overview.html</a></li>
</ul>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-evil done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-evil</span>)
</pre>
</div>

<p>
<b>æˆ‘çš„å»ºè®®</b>
</p>

<p>
ä½¿ç”¨emacsåŸç”ŸæŒ‰é”®ã€‚ ç”¨å¤šäº†evilï¼Œä½ è¿˜æ˜¯ä¸ªvimç”¨æˆ·ï¼Œæ— æ³•è½»æ¾æ“ä½œæ— é…ç½®æˆ–ç²¾ç®€å†…ç½®é…ç½®çš„emacsã€‚
</p>
</div>
</div>
</div>
<div id="outline-container-h:b9b5d584-8a46-49ab-91c7-94c1503a12f5" class="outline-3">
<h3 id="h:b9b5d584-8a46-49ab-91c7-94c1503a12f5"><span class="section-number-3">4.8.</span> <code>init-tools.el</code></h3>
<div class="outline-text-3" id="text-h:b9b5d584-8a46-49ab-91c7-94c1503a12f5">
</div>
<div id="outline-container-h:tools-iedit" class="outline-4">
<h4 id="h:tools-iedit"><span class="section-number-4">4.8.1.</span> <code>init-tools.el</code> å¤šå…‰æ ‡æ“ä½œ <code>iedit</code> &amp; <code>evil-multiedit</code></h4>
<div class="outline-text-4" id="text-h:tools-iedit">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org8ff3141">(ç²¾é€‰ packages, å¤§å¤§æå‡ä½ çš„ Emacs ç¼–è¾‘æ•ˆç‡)</a>
</p>

<p>
æ­¤æ’ä»¶éœ€è¦é…åˆç€evilæ’ä»¶ä½¿ç”¨ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#22810;&#20809;&#26631;&#25805;&#20316; iedit &amp; evil-multiedit</span>
(<span style="color: #a020f0;">use-package</span> iedit
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> iedit-toggle-key-default nil)
  <span style="color: #483d8b;">:config</span>
  (define-key iedit-mode-keymap (kbd <span style="color: #8b2252;">"M-h"</span>) 'iedit-restrict-function)
  (define-key iedit-mode-keymap (kbd <span style="color: #8b2252;">"M-i"</span>) 'iedit-restrict-current-line))

(<span style="color: #a020f0;">use-package</span> evil-multiedit
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:commands</span> (evil-multiedit-default-keybinds)
  <span style="color: #483d8b;">:init</span>
  (evil-multiedit-default-keybinds))
</pre>
</div>

<p>
editæ“ä½œï¼š
</p>
<ul class="org-ul">
<li>evil normal çŠ¶æ€ä¸‹ï¼Œé€‰ä¸­å•è¯ <code>viw</code> å†æŒ‰ <code>R</code>. è¿›å…¥ <code>evil-multiedit</code> æ¨¡å¼ã€‚ è¿™æ—¶é€‰ä¸­åŒºåŸŸé«˜äº®ï¼ŒåŒæ—¶ä¸‹æ–¹çŠ¶æ€æ æ˜¾ç¤ºå•è¯å‡ºç°æ¬¡æ•°å’Œå½“å‰æ‰€åœ¨ä½ç½®</li>
<li>åœ¨ <code>evil-multiedit</code> æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨vimæ–¹å¼æ“ä½œã€‚å¦‚
<ul class="org-ul">
<li><code>gg</code> åˆ°åŒ¹é…å•è¯çš„ç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®; <code>å¤§G</code> åˆ°åŒ¹é…å•è¯çš„æœ€åä¸€ä¸ª; æŒ‰ <code>0</code> å…‰æ ‡è·³åˆ°å½“å‰åŒ¹å•è¯çš„å¼€å¤´</li>
<li><code>i</code> æ’å…¥æ¨¡å¼è¾“å…¥å­—ç¬¦ï¼Œæ‰€æœ‰åŒ¹é…çš„å•è¯è·Ÿç€ä¸€ç›´ä¿®æ”¹</li>
<li>esc å›åˆ°normalæ¨¡å¼ï¼ŒæŒ‰ <code>C-g</code> é€€å‡ºeditæ¨¡å¼</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:tools-expand-region" class="outline-4">
<h4 id="h:tools-expand-region"><span class="section-number-4">4.8.2.</span> <code>init-tools.el</code> å¿«é€Ÿé€‰ä¸­åŒºåŸŸ <code>expand-region</code></h4>
<div class="outline-text-4" id="text-h:tools-expand-region">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org8ff3141">(ç²¾é€‰ packages, å¤§å¤§æå‡ä½ çš„ Emacs ç¼–è¾‘æ•ˆç‡)</a>
</p>

<p>
å¿«é€Ÿé€‰ä¸­åŒºåŸŸ
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> expand-region
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23450;&#20041;&#23376;&#33756;&#21333;</span>
  (<span style="color: #a020f0;">defadvice</span> <span style="color: #0000ff;">er/prepare-for-more-expansions-internal</span>
      (around helm-ag/prepare-for-more-expansions-internal activate)
    ad-do-it
    (<span style="color: #a020f0;">let</span> ((new-msg (concat (car ad-return-value)
                           <span style="color: #8b2252;">", H to highlight in buffers"</span>
                           <span style="color: #8b2252;">", / to search in project, "</span>
                           <span style="color: #8b2252;">"e iedit mode in functions"</span>
                           <span style="color: #8b2252;">"f to search in files, "</span>
                           <span style="color: #8b2252;">"b to search in opened buffers"</span>))
          (new-bindings (cdr ad-return-value)))
      (<span style="color: #a020f0;">cl-pushnew</span>  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#39640;&#20142;</span>
       '(<span style="color: #8b2252;">"H"</span> (<span style="color: #a020f0;">lambda</span> ()
               (<span style="color: #a020f0;">interactive</span>)
               (call-interactively
                'my/highlight-dwim))) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#33258;&#23450;&#24211;j-highlight-global</span>
       new-bindings)
      (<span style="color: #a020f0;">cl-pushnew</span> <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26597;&#25214;&#24403;&#21069;&#39033;&#30446;(git&#39033;&#30446;)&#30446;&#24405;&#20013;&#21305;&#37197;&#36873;&#20013;&#23383;&#31526;&#20018;&#30340;&#25991;&#20214;</span>
       '(<span style="color: #8b2252;">"/"</span> (<span style="color: #a020f0;">lambda</span> ()
               (<span style="color: #a020f0;">interactive</span>)
               (call-interactively
                'my/search-project-for-symbol-at-point))) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#33258;&#23450;&#24211;j-expand-region</span>
       new-bindings)
      (<span style="color: #a020f0;">cl-pushnew</span> <span style="color: #b22222;">; </span><span style="color: #b22222;">&#31561;&#21516;&#20110;evil multiedit &#20013; R &#25805;</span>
       '(<span style="color: #8b2252;">"e"</span> (<span style="color: #a020f0;">lambda</span> ()
               (<span style="color: #a020f0;">interactive</span>)
               (call-interactively
                'evil-multiedit-match-all)))
       new-bindings)
      (<span style="color: #a020f0;">cl-pushnew</span>
       '(<span style="color: #8b2252;">"f"</span> (<span style="color: #a020f0;">lambda</span> ()
               (<span style="color: #a020f0;">interactive</span>)
               (call-interactively
                'find-file)))
       new-bindings)
      (<span style="color: #a020f0;">cl-pushnew</span>  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25628;&#32034;&#36873;&#20013;&#30340;&#23383;&#31526;</span>
       '(<span style="color: #8b2252;">"b"</span> (<span style="color: #a020f0;">lambda</span> ()
               (<span style="color: #a020f0;">interactive</span>)
               (call-interactively
                'consult-line)))
       new-bindings)
      (<span style="color: #a020f0;">setq</span> ad-return-value (cons new-msg new-bindings)))))


(<span style="color: #a020f0;">use-package</span> j-expand-region
  <span style="color: #483d8b;">:ensure</span> nil)
</pre>
</div>

<p>
æ‰©å¤§ç¼©å°åŒºåŸŸæ“ä½œï¼š
</p>
<ul class="org-ul">
<li>é€‰ä¸­å­—ç¬¦æˆ–å…‰æ ‡ä½ç½®</li>
<li><code>M-x er/expand-region</code> æ‰©å¤§åŒºåŸŸã€‚ å›è½¦å›è½¦æ‰©å¤§ï¼› - å‡å·ç¼©å°åŒºåŸŸï¼›0 é‡ç½® /æŸ¥æ‰¾</li>
<li>åœ¨expand-regionä¸‹ï¼Œåˆè‡ªå®šä¹‰å¿«æ·é”®ç»‘å®šå¯ä»¥æ–¹ä¾¿æ“ä½œã€‚</li>
</ul>

<p>
æ·»åŠ ä¸€ä¸ªå¿«æ·é”®<a href="#h:keybindings-general">(<code>init-keybindings.el</code> é”®ä½ç»‘å®š <code>general</code>)</a>ï¼Œè®©æ ‡è®°å’Œæœç´¢åŠŸèƒ½æ›´æ–¹ä¾¿<a href="#h:j-expand-region">(<code>j-expand-region.el</code> åº“)</a>ï¼š 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/search-project-for-symbol-at-point</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if</span> (use-region-p)
      (<span style="color: #a020f0;">progn</span>
        (consult-ripgrep (project-root (project-current))
                         (buffer-substring (region-beginning) (region-end))))))

(global-definer
  <span style="color: #8b2252;">"hc"</span> 'my/clearn-highlight
  <span style="color: #8b2252;">"hH"</span> 'my/highlight-dwim
  <span style="color: #8b2252;">"v"</span> 'er/expand-region
  )
</pre>
</div>

<p>
æ‰©å¤§åŒºåŸŸå¿«æ·æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>SPC v</code> æ‰©å¤§åŒºåŸŸ. ä¹‹åå¯ä»¥ä½¿ç”¨ - ç¼©å°åŒºåŸŸ</li>
<li><code>SPC v e</code> ç­‰åŒäºevil multiedit<a href="#h:tools-iedit">(<code>init-tools.el</code> å¤šå…‰æ ‡æ“ä½œ <code>iedit</code> &amp; <code>evil-multiedit</code>)</a>ä¸­çš„ R æ“ä½œ</li>
<li><code>SPC v f</code> è°ƒç”¨ <code>find-file</code> å‡½æ•°æŸ¥æ‰¾æ–‡ä»¶</li>
<li><code>SPC v /</code> æŸ¥æ‰¾å½“å‰é¡¹ç›®(gité¡¹ç›®)ç›®å½•ä¸­åŒ¹é…é€‰ä¸­å­—ç¬¦ä¸²çš„æ–‡ä»¶<a href="#h:j-expand-region">(<code>j-expand-region.el</code> åº“)</a></li>
<li><code>SPC v b</code> è°ƒç”¨ <code>consult-line</code> æŸ¥æ‰¾å½“å‰æ–‡ä»¶ä¸­åŒ¹é…é€‰ä¸­å­—ç¬¦ä¸²çš„è¡Œ</li>
<li><code>SPC v H</code> æ–‡æœ¬é«˜äº®è¯·é˜…è¯»<a href="#h:tools-highlight-global">(<code>init-tools.el</code> æ–‡æœ¬é«˜äº® <code>symbol-overlay</code> &amp; <code>highlight-global</code>)</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:tools-highlight-global" class="outline-4">
<h4 id="h:tools-highlight-global"><span class="section-number-4">4.8.3.</span> <code>init-tools.el</code> æ–‡æœ¬é«˜äº® <code>symbol-overlay</code> &amp; <code>highlight-global</code></h4>
<div class="outline-text-4" id="text-h:tools-highlight-global">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org8ff3141">(ç²¾é€‰ packages, å¤§å¤§æå‡ä½ çš„ Emacs ç¼–è¾‘æ•ˆç‡)</a>
</p>

<p>
é«˜äº®æ’ä»¶
</p>

<p>
highlight-globalæ˜¯githubæ’ä»¶ï¼Œä½¿ç”¨quelpaæ’ä»¶è¾…åŠ©å®‰è£…<a href="#h:packages-quelpa">(<code>init-packages.el</code> å®‰è£… quelpa æ’)</a> , è‡ªå®šä¹‰äº†é«˜äº®å‡½æ•°<a href="#h:j-highlight-global">(<code>j-highlight-global.el</code> åº“)</a>åšä¸ºå¿«æ·é”®å¼•ç”¨<a href="#h:tools-expand-region">(<code>init-tools.el</code> å¿«é€Ÿé€‰ä¸­åŒºåŸŸ <code>expand-region</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> highlight-global
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:commands</span> (highlight-frame-toggle)
  <span style="color: #483d8b;">:quelpa</span> (highlight-global <span style="color: #483d8b;">:fetcher</span> github <span style="color: #483d8b;">:repo</span> <span style="color: #8b2252;">"glen-dai/highlight-global"</span> <span style="color: #483d8b;">:upgrade</span> nil)
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#39640;&#20142;&#40664;&#35748;&#38543;&#26426;&#32418;&#12289;&#31881;&#12289;&#34013;&#12289;&#38738;&#12289;&#32043;&#31561;&#39068;&#33394;&#24490;&#29615;</span>
  (<span style="color: #a020f0;">progn</span>
    (<span style="color: #a020f0;">setq-default</span> highlight-faces
                  '(('hi-red-b . 0)
                    ('hi-aquamarine . 0)
                    ('hi-pink . 0)
                    ('hi-blue-b . 0)))))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> symbol-overlay
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (define-key symbol-overlay-map (kbd <span style="color: #8b2252;">"h"</span>) 'nil))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> j-highlight-global
  <span style="color: #483d8b;">:ensure</span> nil)
</pre>
</div>

<p>
é«˜äº®æ’ä»¶æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>SPC v H</code> é€‰ä¸­éƒ¨åˆ†ä»¥ä¸€ç§é¢œè‰²é«˜äº®ã€‚é‡å¤æ“ä½œå¯ä»¥çœ‹åˆ°ä¸é«˜äº®é¢œè‰²ã€‚
<ul class="org-ul">
<li>åœºæ™¯ï¼šæŸ¥æ‰¾ä»£ç æˆ–æ—¥å¿—æ—¶ï¼Œæ ‡è®°é‡ç‚¹åŒºåŸŸ</li>
<li>general å¿«æ·é”® <code>SPC v</code> <code>SPC hh</code></li>
</ul></li>
<li><code>M-x clear-highlight-frame</code> æ¸…é™¤é¢œè‰²ï¼Œæˆ–è€… <code>SPC hc</code> æ¸…é™¤é«˜äº®é¢œè‰²</li>
</ul>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-tools done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-tools</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:window" class="outline-3">
<h3 id="h:window"><span class="section-number-3">4.9.</span> <code>init-window.el</code></h3>
<div class="outline-text-3" id="text-h:window">
<p>
åœ¨å­¦ä¹ ä¸­æä¾›è¿‡<a href="#org5fb638a">(çª—å£)</a>
</p>

<p>
Evil çš„çª—å£é€‰æ‹©æ“ä½œ
C-w h/j/j/k
</p>
</div>
<div id="outline-container-h:526c9704-5d7a-47e9-96ca-8310e01fa809" class="outline-4">
<h4 id="h:526c9704-5d7a-47e9-96ca-8310e01fa809"><span class="section-number-4">4.9.1.</span> <code>init-window.el</code> <code>window numbering</code></h4>
<div class="outline-text-4" id="text-h:526c9704-5d7a-47e9-96ca-8310e01fa809">
<ul class="org-ul">
<li><a href="https://github.com/nschum/window-numbering.el">https://github.com/nschum/window-numbering.el</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#20999;&#25442;&#31383;&#21475;</span>
(<span style="color: #a020f0;">use-package</span> window-numbering
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  <span style="color: #483d8b;">:hook</span> (after-init . window-numbering-mode))
</pre>
</div>

<ul class="org-ul">
<li>åˆ‡æ¢çª—å£ <code>M-&lt;çª—å£ç¼–å·&gt;</code></li>
</ul>

<p>
å®šä¹‰å¿«æ·é”®
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-definer
  <span style="color: #8b2252;">"0"</span> 'select-window-0
  <span style="color: #8b2252;">"1"</span> 'select-window-1
  <span style="color: #8b2252;">"2"</span> 'select-window-2
  <span style="color: #8b2252;">"3"</span> 'select-window-3
  <span style="color: #8b2252;">"4"</span> 'select-window-4
  <span style="color: #8b2252;">"5"</span> 'select-window-5
  )

(+general-global-menu! <span style="color: #8b2252;">"window"</span> <span style="color: #8b2252;">"w"</span>
  <span style="color: #8b2252;">"/"</span> 'split-window-right
  <span style="color: #8b2252;">"-"</span> 'split-window-below
  <span style="color: #8b2252;">"m"</span> 'delete-other-windows
</pre>
</div>

<ul class="org-ul">
<li>å·¦å³åˆ†å± <code>SPC w /</code></li>
<li>ä¸Šä¸‹åˆ†å± <code>SPC w -</code></li>
<li>åˆ é™¤æ‰€æœ‰å…¶ä»–çª—å£ <code>SPC w m</code></li>
</ul>
</div>
</div>
<div id="outline-container-h:98d343f7-9e3d-43b7-8402-a4b3ee20db5b" class="outline-4">
<h4 id="h:98d343f7-9e3d-43b7-8402-a4b3ee20db5b"><span class="section-number-4">4.9.2.</span> <code>init-window.el</code> <code>es-windows</code></h4>
<div class="outline-text-4" id="text-h:98d343f7-9e3d-43b7-8402-a4b3ee20db5b">
<ul class="org-ul">
<li><a href="https://github.com/sabof/es-windows">https://github.com/sabof/es-windows</a></li>
</ul>

<p>
å¯ä»¥äº¤æ¢çª—å£ã€åˆ é™¤çª—å£ã€åˆ†å±
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#21487;&#20197;&#20132;&#25442;&#31383;&#21475;&#12289;&#21024;&#38500;&#31383;&#21475;&#12289;&#20998;&#23631;</span>
(<span style="color: #a020f0;">use-package</span> es-windows
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ec506a8e-4641-40a6-800a-a13ba8187433" class="outline-4">
<h4 id="h:ec506a8e-4641-40a6-800a-a13ba8187433"><span class="section-number-4">4.9.3.</span> <code>init-window.el</code> <code>Buffer move</code></h4>
<div class="outline-text-4" id="text-h:ec506a8e-4641-40a6-800a-a13ba8187433">
<ul class="org-ul">
<li><a href="https://github.com/nschum/window-numbering.el">https://github.com/nschum/window-numbering.el</a></li>
</ul>

<p>
ç§»åŠ¨çª—å£  
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">config</span>
(<span style="color: #a020f0;">use-package</span> buffer-move
  <span style="color: #483d8b;">:ensure</span> t)
</pre>
</div>

<p>
<code>SPC w s</code> æŒ‡å®šäº¤çš„æ¢çª—å£
</p>
</div>
</div>
<div id="outline-container-h:f27bcd87-7576-4c88-94b5-cd0c3760b649" class="outline-4">
<h4 id="h:f27bcd87-7576-4c88-94b5-cd0c3760b649"><span class="section-number-4">4.9.4.</span> <code>init-window.el</code> <code>Resize windows</code></h4>
<div class="outline-text-4" id="text-h:f27bcd87-7576-4c88-94b5-cd0c3760b649">
<ul class="org-ul">
<li><a href="https://github.com/dpsutton/resize-window">https://github.com/dpsutton/resize-window</a></li>
</ul>

<p>
è°ƒæ•´çª—å£å¤§å°
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#35843;&#25972;&#31383;&#21475;&#22823;&#23567;</span>
(<span style="color: #a020f0;">use-package</span> resize-window
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">resize-window-dispatch-alist</span>
    '((?n resize-window--enlarge-down <span style="color: #8b2252;">" &#21521;&#19979;Resize - Expand down "</span> t)
      (?p resize-window--enlarge-up <span style="color: #8b2252;">" &#21521;&#19978;Resize - Expand up"</span> t)
      (?f resize-window--enlarge-horizontally <span style="color: #8b2252;">" &#25918;&#22823;Resize - horizontally"</span> t)
      (?b resize-window--shrink-horizontally <span style="color: #8b2252;">" &#32553;&#23567;Resize - shrink horizontally"</span> t)
      (?r resize-window--reset-windows <span style="color: #8b2252;">" &#37325;&#32622;Resize - reset window layout"</span> nil)
      (?w resize-window--cycle-window-positive <span style="color: #8b2252;">"  &#36873;&#25321;&#20998;&#23631;Resize - cycle window"</span> nil)
      (?W resize-window--cycle-window-negative <span style="color: #8b2252;">" Resize - cycle window"</span> nil)
      (?2 split-window-below <span style="color: #8b2252;">" &#27700;&#24179;Split window horizontally"</span> nil)
      (?3 split-window-right <span style="color: #8b2252;">" &#22402;&#30452;Slit window vertically"</span> nil)
      (?0 resize-window--delete-window <span style="color: #8b2252;">" &#21024;&#38500;Delete window"</span> nil)
      (?K resize-window--kill-other-windows <span style="color: #8b2252;">" Kill other windows (save state)"</span> nil)
      (?y resize-window--restore-windows <span style="color: #8b2252;">" &#24674;&#22797;(when state) Restore window configuration"</span> nil)
      (?? resize-window--display-menu <span style="color: #8b2252;">" Resize - display menu"</span> nil))
    <span style="color: #8b2252;">"List of actions for `resize-window-dispatch-default.</span>
<span style="color: #8b2252;">Main data structure of the dispatcher with the form:</span>
<span style="color: #8b2252;">\(char function documentation match-capitals</span><span style="color: #ff0000; font-weight: bold;">\</span><span style="color: #8b2252;">)"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ca4c214b-2e05-4d97-95cf-9fd95fd01771" class="outline-4">
<h4 id="h:ca4c214b-2e05-4d97-95cf-9fd95fd01771"><span class="section-number-4">4.9.5.</span> <code>init-window.el</code> <code>Winner(builtin)</code></h4>
<div class="outline-text-4" id="text-h:ca4c214b-2e05-4d97-95cf-9fd95fd01771">
<p>
å†…ç½®æ’ä»¶ã€‚ç”¨æ¥åˆ‡æ¢2ä¸ªä¸åŒçª—å£å¸ƒå±€
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#20869;&#32622;&#25554;&#20214;&#12290;&#29992;&#26469;&#20999;&#25442;2&#20010;&#19981;&#21516;&#31383;&#21475;&#24067;&#23616;</span>
(<span style="color: #a020f0;">use-package</span> winner
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:commands</span> (winner-undo winner-redo)
  <span style="color: #483d8b;">:hook</span> (after-init . winner-mode)
  <span style="color: #483d8b;">:init</span> (<span style="color: #a020f0;">setq</span> winner-boring-buffers '(<span style="color: #8b2252;">"*Completions*"</span>
                                      <span style="color: #8b2252;">"*Compile-Log*"</span>
                                      <span style="color: #8b2252;">"*inferior-lisp*"</span>
                                      <span style="color: #8b2252;">"*Fuzzy Completions*"</span>
                                      <span style="color: #8b2252;">"*Apropos*"</span>
                                      <span style="color: #8b2252;">"*Help*"</span>
                                      <span style="color: #8b2252;">"*cvs*"</span>
                                      <span style="color: #8b2252;">"*Buffer List*"</span>
                                      <span style="color: #8b2252;">"*Ibuffer*"</span>
                                      <span style="color: #8b2252;">"*esh command on file*"</span>)))
</pre>
</div>

<ul class="org-ul">
<li>&rsquo;winner-undo           ; SPC w u è¿”å›å¸ƒå±€</li>
<li>&rsquo;winner-redo           ; SPC w z æ’¤é”€è¿”å›å¸ƒå±€ã€‚ å’Œè¿”å›å¸ƒå±€ç»“åˆå®ç°2ä¸ªå¸ƒå±€é—´åˆ‡æ¢</li>
</ul>
</div>
</div>
<div id="outline-container-h:7c339d63-4318-4073-b826-b7a6eca2b694" class="outline-4">
<h4 id="h:7c339d63-4318-4073-b826-b7a6eca2b694"><span class="section-number-4">4.9.6.</span> <code>init-window.el</code> å…³é—­å¼¹çª— <code>Popper</code></h4>
<div class="outline-text-4" id="text-h:7c339d63-4318-4073-b826-b7a6eca2b694">
<ul class="org-ul">
<li><a href="https://github.com/karthink/popper">https://github.com/karthink/popper</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">Enforce rules for popups</span>
(<span style="color: #a020f0;">use-package</span> popper
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:defines</span> popper-echo-dispatch-actions
  <span style="color: #483d8b;">:commands</span> popper-group-by-directory
  <span style="color: #483d8b;">:bind</span> (<span style="color: #483d8b;">:map</span> popper-mode-map
              (<span style="color: #8b2252;">"s-`"</span> . popper-toggle-latest)
              (<span style="color: #8b2252;">"s-o"</span>   . popper-cycle)
              (<span style="color: #8b2252;">"M-`"</span> . popper-toggle-type))
  <span style="color: #483d8b;">:hook</span> (emacs-startup . popper-mode)
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> popper-reference-buffers
        '(<span style="color: #8b2252;">"\\*Messages\\*"</span>
          <span style="color: #8b2252;">"Output\\*$"</span> <span style="color: #8b2252;">"\\*Pp Eval Output\\*$"</span>
          <span style="color: #8b2252;">"\\*Compile-Log\\*"</span>
          <span style="color: #8b2252;">"\\*Completions\\*"</span>
          <span style="color: #8b2252;">"\\*Warnings\\*"</span>
          <span style="color: #8b2252;">"\\*Flymake diagnostics.*\\*"</span>
          <span style="color: #8b2252;">"\\*Async Shell Command\\*"</span>
          <span style="color: #8b2252;">"\\*Apropos\\*"</span>
          <span style="color: #8b2252;">"\\*Backtrace\\*"</span>
          <span style="color: #8b2252;">"\\*prodigy\\*"</span>
          <span style="color: #8b2252;">"\\*Calendar\\*"</span>
          <span style="color: #8b2252;">"\\*Embark Actions\\*"</span>
          <span style="color: #8b2252;">"\\*Finder\\*"</span>
          <span style="color: #8b2252;">"\\*Kill Ring\\*"</span>
          <span style="color: #8b2252;">"\\*Embark Export:.*\\*"</span>
          <span style="color: #8b2252;">"\\*Edit Annotation.*\\*"</span>
          <span style="color: #8b2252;">"\\*Flutter\\*"</span>
          bookmark-bmenu-mode
          comint-mode
          compilation-mode
          help-mode helpful-mode
          tabulated-list-mode
          Buffer-menu-mode
          occur-mode
          gnus-article-mode devdocs-mode
          grep-mode occur-mode rg-mode deadgrep-mode ag-mode pt-mode
          ivy-occur-mode ivy-occur-grep-mode
          process-menu-mode list-environment-mode cargo-process-mode
          youdao-dictionary-mode osx-dictionary-mode fanyi-mode

          <span style="color: #8b2252;">"^\\*eshell.*\\*.*$"</span> eshell-mode
          <span style="color: #8b2252;">"^\\*shell.*\\*.*$"</span>  shell-mode
          <span style="color: #8b2252;">"^\\*terminal.*\\*.*$"</span> term-mode
          <span style="color: #8b2252;">"^\\*vterm.*\\*.*$"</span>  vterm-mode

          <span style="color: #8b2252;">"\\*DAP Templates\\*$"</span> dap-server-log-mode
          <span style="color: #8b2252;">"\\*ELP Profiling Restuls\\*"</span> profiler-report-mode
          <span style="color: #8b2252;">"\\*Flycheck errors\\*$"</span> <span style="color: #8b2252;">" \\*Flycheck checker\\*$"</span>
          <span style="color: #8b2252;">"\\*Paradox Report\\*$"</span> <span style="color: #8b2252;">"\\*package update results\\*$"</span> <span style="color: #8b2252;">"\\*Package-Lint\\*$"</span>
          <span style="color: #8b2252;">"\\*[Wo]*Man.*\\*$"</span>
          <span style="color: #8b2252;">"\\*ert\\*$"</span> overseer-buffer-mode
          <span style="color: #8b2252;">"\\*gud-debug\\*$"</span>
          <span style="color: #8b2252;">"\\*lsp-help\\*$"</span> <span style="color: #8b2252;">"\\*lsp session\\*$"</span>
          <span style="color: #8b2252;">"\\*quickrun\\*$"</span>
          <span style="color: #8b2252;">"\\*tldr\\*$"</span>
          <span style="color: #8b2252;">"\\*vc-.*\\*$"</span>
          <span style="color: #8b2252;">"\\*eldoc\\*"</span>
          <span style="color: #8b2252;">"^\\*elfeed-entry\\*$"</span>
          <span style="color: #8b2252;">"^\\*macro expansion\\**"</span>

          <span style="color: #8b2252;">"\\*Agenda Commands\\*"</span> <span style="color: #8b2252;">"\\*Org Select\\*"</span> <span style="color: #8b2252;">"\\*Capture\\*"</span> <span style="color: #8b2252;">"^CAPTURE-.*\\.org*"</span>
          <span style="color: #8b2252;">"\\*Gofmt Errors\\*$"</span> <span style="color: #8b2252;">"\\*Go Test\\*$"</span> godoc-mode
          <span style="color: #8b2252;">"\\*docker-containers\\*"</span> <span style="color: #8b2252;">"\\*docker-images\\*"</span> <span style="color: #8b2252;">"\\*docker-networks\\*"</span> <span style="color: #8b2252;">"\\*docker-volumes\\*"</span>
          <span style="color: #8b2252;">"\\*prolog\\*"</span> inferior-python-mode inf-ruby-mode swift-repl-mode
          <span style="color: #8b2252;">"\\*rustfmt\\*$"</span> rustic-compilation-mode rustic-cargo-clippy-mode))

  (<span style="color: #a020f0;">when</span> (display-grayscale-p)
    (<span style="color: #a020f0;">setq</span> popper-mode-line
          '(<span style="color: #483d8b;">:eval</span>
            (concat
             (propertize <span style="color: #8b2252;">" "</span> 'face 'mode-line-emphasis)
             (propertize <span style="color: #8b2252;">" "</span> 'face 'mode-line-emphasis)))))

  (<span style="color: #a020f0;">setq</span> popper-echo-dispatch-actions t)
  (<span style="color: #a020f0;">setq</span> popper-group-function nil)
  <span style="color: #483d8b;">:config</span>
  (popper-echo-mode 1)

  (with-no-warnings
    (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-popper-fit-window-height</span> (win)
      <span style="color: #8b2252;">"Determine the height of popup window WIN by fitting it to the buffer's content."</span>
      (fit-window-to-buffer
       win
       (floor (frame-height) 3)
       (floor (frame-height) 3)))
    (<span style="color: #a020f0;">setq</span> popper-window-height #'my-popper-fit-window-height)

    (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">popper-close-window-hack</span> (<span style="color: #228b22;">&amp;rest</span> _)
      <span style="color: #8b2252;">"Close popper window via `</span><span style="color: #008b8b;">C-g</span><span style="color: #8b2252;">'."</span>
      <span style="color: #b22222;">;; </span><span style="color: #b22222;">`</span><span style="color: #008b8b;">C-g</span><span style="color: #b22222;">' can deactivate region</span>
      (<span style="color: #a020f0;">when</span> (<span style="color: #a020f0;">and</span> (called-interactively-p 'interactive)
                 (not (region-active-p))
                 popper-open-popup-alist)
        (<span style="color: #a020f0;">let</span> ((window (caar popper-open-popup-alist)))
          (<span style="color: #a020f0;">when</span> (window-live-p window)
            (delete-window window)))))
    (advice-add #'keyboard-quit <span style="color: #483d8b;">:before</span> #'popper-close-window-hack)))
</pre>
</div>

<p>
<b>æŒ‰é”®ç»‘å®š</b>
</p>

<p>
æˆ‘çš„æ¨¡å—åŒ–é…ç½®<a href="#h:keybindings-general">(<code>init-keybindings.el</code> é”®ä½ç»‘å®š <code>general</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-definer
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#37324;&#26159;&#20854;&#20182;&#30340;&#24555;&#25463;&#38190;</span>
  <span style="color: #8b2252;">"0"</span> 'select-window-0  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC 0 &#20999;0&#21495;&#31383;&#21475;</span>
  <span style="color: #8b2252;">"1"</span> 'select-window-1  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC 1 &#20999;1&#21495;&#31383;&#21475;</span>
  <span style="color: #8b2252;">"2"</span> 'select-window-2
  <span style="color: #8b2252;">"3"</span> 'select-window-3
  <span style="color: #8b2252;">"4"</span> 'select-window-4
  <span style="color: #8b2252;">"5"</span> 'select-window-5)

(+general-global-menu! <span style="color: #8b2252;">"window"</span> <span style="color: #8b2252;">"w"</span>
  <span style="color: #8b2252;">"/"</span> 'split-window-right   <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w / &#24038;&#21491;&#20998;&#23631;</span>
  <span style="color: #8b2252;">"-"</span> 'split-window-below   <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w - &#19978;&#19979;&#20998;&#23631;</span>
  <span style="color: #8b2252;">"m"</span> 'delete-other-windows <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w m &#20165;&#20445;&#30041;&#24403;&#21069;&#31383;&#21475;</span>
  <span style="color: #8b2252;">"u"</span> 'winner-undo           <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w u &#36820;&#22238;&#24067;&#23616;</span>
  <span style="color: #8b2252;">"z"</span> 'winner-redo           <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w z &#25764;&#38144;&#36820;&#22238;&#24067;&#23616;&#12290; &#21644;&#36820;&#22238;&#24067;&#23616;&#32467;&#21512;&#23454;&#29616;2&#20010;&#24067;&#23616;&#38388;&#20999;&#25442;</span>
  <span style="color: #8b2252;">"w"</span> 'esw/select-window     <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w w &#36873;&#25321;&#20998;&#23631;&#26041;&#24335; &gt;&#21521;&#21491;&#20998;&#65292;&lt;&#21521;&#24038;&#20998;&#65292;^&#21521;&#19978;&#20998;&#65292;v&#21521;&#19979;&#20998;</span>
  <span style="color: #8b2252;">"s"</span> 'esw/swap-two-windows  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w s &#20132;&#25442;&#31383;&#21475; </span>
  <span style="color: #8b2252;">"d"</span> 'esw/delete-window     <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w d &#21024;&#38500;&#25351;&#23450;&#31383;&#21475;</span>
  <span style="color: #8b2252;">"="</span> 'balance-windows-area  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w = &#31561;&#23485;&#24067;&#23616;</span>
  <span style="color: #8b2252;">"r"</span> 'esw/move-window
  <span style="color: #8b2252;">"x"</span> 'resize-window         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w x &#35843;&#25972;&#31383;&#21475;&#22823;&#23567;&#12290;&#22914;f&#27700;&#24179;&#21464;&#22823;&#65307;b&#32553;&#23567;&#65307;n&#21521;&#19979;&#25193;&#65307;p&#21521;&#19978;&#25193;&#65307;</span>
  <span style="color: #8b2252;">"H"</span> 'buf-move-left         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w H &#21491;&#36793;&#31383;&#21475;&#24038;&#31227;</span>
  <span style="color: #8b2252;">"L"</span> 'buf-move-right        <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w L &#31383;&#21475;&#21491;&#31227;</span>
  <span style="color: #8b2252;">"J"</span> 'buf-move-down         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w J &#31383;&#21475;&#19979;&#31227;</span>
  <span style="color: #8b2252;">"K"</span> 'buf-move-up)          <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w K &#31383;&#21475;&#19978;&#31227;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-window done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-window</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:org" class="outline-3">
<h3 id="h:org"><span class="section-number-3">4.10.</span> <code>init-org.el</code></h3>
<div class="outline-text-3" id="text-h:org">
</div>
<div id="outline-container-h:org-built-in" class="outline-4">
<h4 id="h:org-built-in"><span class="section-number-4">4.10.1.</span> <code>init-org.el</code> å†…ç½®é…ç½®</h4>
<div class="outline-text-4" id="text-h:org-built-in">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#orgc5aa967">(learn org)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">config</span>

(<span style="color: #a020f0;">with-eval-after-load</span> 'org  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21551;&#21160;org&#25991;&#20214;&#26102;&#21152;&#36733;</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#29992;&#26087;&#29256;&#24555;&#25463;&#38190;&lt;s +Tab</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-tempo</span>)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20854;&#20182;</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-protocol</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21152;&#36733;&#20869;&#32622;&#21253;, &#22312;&#25688;&#21462;&#32593;&#39029;&#20869;&#23481;&#26102;&#20250;&#29992;&#21040;</span>
  (<span style="color: #a020f0;">setq</span> org-image-actual-width nil) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20869;&#23884;&#22270;&#29255;&#26159;&#21542;&#26174;&#31034;&#23454;&#38469;&#23485;&#24230;, &#40664;&#35748;&#20026;t</span>
  (<span style="color: #a020f0;">setq</span> org-return-follows-link t)  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#38142;&#25509;&#20301;&#32622;&#22238;&#36710;&#65292;&#20351;&#29992;&#22806;&#37096;&#31243;&#24207;&#25171;&#24320;</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#31105;&#29992;&#24038;&#23574;&#25324;&#21495;</span>
  (<span style="color: #a020f0;">setq</span> electric-pair-inhibit-predicate
        `(<span style="color: #a020f0;">lambda</span> (c)
           (<span style="color: #a020f0;">if</span> (char-equal c ?\&lt;) t (,electric-pair-inhibit-predicate c))))

  (add-hook 'org-mode-hook
            (<span style="color: #a020f0;">lambda</span> ()
              (<span style="color: #a020f0;">setq-local</span> electric-pair-inhibit-predicate
                          `(<span style="color: #a020f0;">lambda</span> (c)
                             (<span style="color: #a020f0;">if</span> (char-equal c ?\&lt;) t (,electric-pair-inhibit-predicate c))))))
)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:bd869f5d-b960-4a71-a831-455165c3b55e" class="outline-4">
<h4 id="h:bd869f5d-b960-4a71-a831-455165c3b55e"><span class="section-number-4">4.10.2.</span> <code>init-org.el</code> å®‰è£…æœ€æ–°orgåŒ…</h4>
<div class="outline-text-4" id="text-h:bd869f5d-b960-4a71-a831-455165c3b55e">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#23433;&#35013; org&#65292;&#36825;&#20010;&#37197;&#32622;&#19968;&#23450;&#35201;&#37197;&#32622;&#22312; use-package &#30340;&#21021;&#22987;&#21270;&#20043;&#21069;&#65292;&#21542;&#21017;&#26080;&#27861;&#27491;&#24120;&#23433;&#35013;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(assq-delete-all 'org package--builtins)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(assq-delete-all 'org package--builtin-versions)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(use-package org</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:pin gnu-elpa</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">:ensure t)</span>

(<span style="color: #a020f0;">use-package</span> org-contrib  <span style="color: #b22222;">;</span><span style="color: #b22222;">&#38750;org&#30340;&#23448;&#26041;&#36129;&#29486;&#30340;&#25554;&#20214;</span>
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:pin</span> nongnu)

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Org-mode (personal information manager)</span>
(<span style="color: #a020f0;">use-package</span> org
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> org-imenu-depth 7)

  (add-to-list 'safe-local-variable-values '(org-hide-leading-stars . t))
  (add-to-list 'safe-local-variable-values '(org-hide-macro-markers . t))
  <span style="color: #483d8b;">:bind</span>
  ( <span style="color: #483d8b;">:map</span> global-map
    (<span style="color: #8b2252;">"C-c l"</span> . org-store-link) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#23384;&#20648;&#24403;&#21069;&#36830;&#25509;</span>
    (<span style="color: #8b2252;">"C-c o"</span> . org-open-at-point-global)
    <span style="color: #483d8b;">:map</span> org-mode-map
    (<span style="color: #8b2252;">"C-c M-l"</span> . org-insert-last-stored-link) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25554;&#20837;&#26368;&#36817;&#23384;&#20648;&#30340;&#36830;&#25509;</span>
    (<span style="color: #8b2252;">"C-c C-M-l"</span> . org-toggle-link-display) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26174;&#31034;&#36830;&#25509;&#20869;&#23481;</span>
    <span style="color: #483d8b;">:map</span> ctl-x-x-map
    (<span style="color: #8b2252;">"i"</span> . j-org-id-headlines) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20026;&#26631;&#39064;&#21019;&#24314;&#23646;&#24615;CUSTOM_ID</span>
    (<span style="color: #8b2252;">"h"</span> . j-org-ox-html)      <span style="color: #b22222;">; </span><span style="color: #b22222;">org&#23548;&#20986;&#20026;html</span>
    ))
<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">links</span>
(<span style="color: #a020f0;">use-package</span> org
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">j-org</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">for the above commands</span>

  (<span style="color: #a020f0;">setq</span> org-link-context-for-files t)
  (<span style="color: #a020f0;">setq</span> org-link-keep-stored-after-insertion nil)
  (<span style="color: #a020f0;">setq</span> org-id-link-to-org-use-id 'create-if-interactive-and-no-custom-id))

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">code blocks</span>
(<span style="color: #a020f0;">use-package</span> org
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq org-confirm-babel-evaluate nil)             ; &#20351;&#29992;Babel&#25191;&#34892;&#20195;&#30721;&#22359;&#26102;, &#26159;&#21542;&#24377;&#20986;&#30830;&#35748;&#23545;&#35805;&#26694;. nil &#31105;&#27490;&#24377;&#20986;, &#40664;&#35748;t&#24377;&#20986;</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq org-src-window-setup 'current-window)       ; &#28304;&#20195;&#30721;&#31383;&#21475;&#30340;&#24067;&#23616;&#20301;&#32622;. &#40664;&#35748; 'reorganize-frame &#20391;&#36793;&#12290; 'current-window &#24403;&#21069;&#31383;&#21475; </span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq org-edit-src-persistent-message nil)        ; &#32534;&#36753;&#28304;&#20195;&#30721;&#26102;&#26174;&#31034;&#25345;&#20037;&#30340;&#28040;&#24687;&#12290;nil &#19981;&#26174;&#31034;, &#40664;&#35748; t</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(setq org-src-fontify-natively t)                 ; &#28304;&#20195;&#30721;&#26412;&#22320;&#39640;&#20142;&#12290;&#40664;&#35748;t</span>
  (<span style="color: #a020f0;">setq</span> org-src-preserve-indentation t)             <span style="color: #b22222;">; </span><span style="color: #b22222;">&#32534;&#36753;&#28304;&#20195;&#30721;&#26102;&#20445;&#30041;&#21407;&#26377;&#30340;&#32553;&#36827;&#65292;t&#20195;&#34920;&#21551;&#29992;&#35813;&#21151;&#33021;&#12290;&#40664;&#35748;nil&#19981;&#20445;&#30041;. </span>
  (<span style="color: #a020f0;">setq</span> org-src-tab-acts-natively t)                <span style="color: #b22222;">; </span><span style="color: #b22222;">&#28304;&#20195;&#30721;&#32534;&#36753;&#27169;&#24335;&#19979;&#65292;Tab&#38190;&#30340;&#34892;&#20026;&#19982;&#21407;&#29983;&#20195;&#30721;&#32534;&#36753;&#22120;&#19968;&#33268;&#65292;t&#20195;&#34920;&#21551;&#29992;&#35813;&#21151;&#33021;,  &#40664;&#35748;t</span>
  (<span style="color: #a020f0;">setq</span> org-edit-src-content-indentation 0))          <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20195;&#30721;&#22359;&#37324;&#32553;&#36827;&#65292;0&#19981;&#32553;&#36827;&#65292;&#40664;&#35748;&#26159;2(&#37325;&#35201;)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0934bafe-c508-40e7-8312-64fcb0af71fe" class="outline-4">
<h4 id="h:0934bafe-c508-40e7-8312-64fcb0af71fe"><span class="section-number-4">4.10.3.</span> <code>init-org.el</code> org ç¼–ç¨‹è¯­è¨€æ”¯æŒ</h4>
<div class="outline-text-4" id="text-h:0934bafe-c508-40e7-8312-64fcb0af71fe">
<p>
å‚è€ƒï¼š<a href="https://orgmode.org/worg/org-contrib/babel/languages/">Babel: Languages</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">Bael: Languages</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">https://orgmode.org/worg/org-contrib/babel/languages/</span>
(org-babel-do-load-languages
 'org-babel-load-languages
 '((perl . t)
   (ruby . t)
   (shell . t)
   (dot . t)
   <span style="color: #b22222;">;; </span><span style="color: #b22222;">(typescript . t)</span>
   (js . t)
   (latex .t)
   (python . t)
   (emacs-lisp . t)
   (plantuml . t)
   (C . t)
   (ditaa . t)))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:org-todo" class="outline-4">
<h4 id="h:org-todo"><span class="section-number-4">4.10.4.</span> <code>init-org.el</code> org todo</h4>
<div class="outline-text-4" id="text-h:org-todo">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span style="color: #a020f0;">with-eval-after-load</span> 'org  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21551;&#21160;org&#25991;&#20214;&#26102;&#21152;&#36733;</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#23450;&#20041;org todo  C-c C-t </span>
  (<span style="color: #a020f0;">setq</span> org-todo-keywords
        (<span style="color: #a020f0;">quote</span> ((sequence <span style="color: #8b2252;">"TODO(t)"</span> <span style="color: #8b2252;">"STARTED(s)"</span> <span style="color: #8b2252;">"|"</span> <span style="color: #8b2252;">"DONE(d!/!)"</span>)
                (sequence <span style="color: #8b2252;">"WAITING(w@/!)"</span> <span style="color: #8b2252;">"SOMEDAY(S)"</span> <span style="color: #8b2252;">"|"</span> <span style="color: #8b2252;">"CANCELLED(c@/!)"</span> <span style="color: #8b2252;">"MEETING(m)"</span> <span style="color: #8b2252;">"PHONE(p)"</span>))))
)
</pre>
</div>

<p>
ä»¥ä¸Šä»£ç è®©ä½ åœ¨ä¸ºä¸€ä¸ªæ ‡é¢˜æä¾›å¾…åŠäº‹é¡¹çŠ¶æ€æ—¶æ·»åŠ äº†ä¸€ä¸ªé”®åºåˆ—ï¼Œä½ å¯ä»¥é”®å…¥ <code>C-c C-t</code> æ¥æŸ¥çœ‹æ•ˆæœã€‚
</p>

<p>
å…¶ä¸­ <code>@</code> ä»£è¡¨è®°å½•æ—¥å¿—ï¼Œè€Œ <code>!</code> ä»£è¡¨è®°å½•æ—¶é—´æˆ³ï¼Œä½ ä¹Ÿå¯ä»¥è®©ä»–ä»¬å…·æœ‰ä¸¤ç§åŠŸèƒ½: <code>TODO(t@/!)</code>
</p>

<p>
<b>ä»»åŠ¡è¿›åº¦</b> ï¼š
</p>

<p>
åˆ›å»ºæ–‡ä»¶ <code>~/gtd.org</code>
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #0000ff;">* WAITING Daily routine</span>
- <span style="font-weight: bold;">[ ]</span> leetcode
- <span style="font-weight: bold;">[ ]</span> execrcise
</pre>
</div>


<div class="org-src-container">
<pre class="src src-org"><span style="color: #0000ff;">* </span><span style="color: #ff0000; font-weight: bold;">TODO</span><span style="color: #0000ff;"> Daily routine </span><span style="color: #228b22; font-weight: bold;">[100%]</span>
<span style="color: #a020f0;">SCHEDULED:</span> <span style="color: #a020f0; text-decoration: underline;">&lt;2022-06-10 Fri 10:00 +1d&gt;</span>
<span style="color: #0000ff;">:PROPERTIES:</span>
<span style="color: #a020f0;">:LAST_REPEAT:</span> <span style="color: #a020f0; background-color: #ffffff; text-decoration: underline;">[2022-06-09 Thu 02:31]</span>
<span style="color: #0000ff;">:END:</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:31]</span>
- State "TODO"       from "WAITING"    <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:26]</span>
- <span style="font-weight: bold;">[X]</span> leetcode
- <span style="font-weight: bold;">[X]</span> execrcise
</pre>
</div>

<ul class="org-ul">
<li><code>C-c C-s</code> å¼€å§‹è®¡åˆ’ï¼š <code>&lt;2022-06-09 Thu 10:00&gt;</code> 10ç‚¹</li>

<li>æ¯å¤© 10 ç‚¹åšï¼šéœ€è¦ <code>+d</code> åŠ ä¸€å¤© <code>SCHEDULED: &lt;2022-06-09 Thu 10:00 +1d&gt;</code> ï¼Œåé¢åœ¨ agenda ä¸­ä¼šç”¨åˆ°</li>

<li>å®Œæˆæƒ…å†µè¿›åº¦ï¼šæ¯ä¸€é¡¹ä»»åŠ¡ä½¿ç”¨å¤é€‰æ¡†ï¼Œtodo éƒ¨åˆ†åŠ  <code>[%]</code> ï¼Œå¤é€‰æ¡†ä½¿ç”¨ <code>C-c C-c</code> æ‰“ å‰ è¡¨ç¤ºå®Œæˆã€‚</li>
</ul>

<p>
æ ‡è®°å®Œæˆï¼š=C-c C-t d= ï¼Œå¯ä»¥çœ‹åˆ° <code>SCHEDULED</code> æ—¶é—´è‡ªåŠ¨åŠ  1 <code>SCHEDULED: &lt;2022-06-10 Fri 10:00 +1d&gt;</code>
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #0000ff;">* </span><span style="color: #ff0000; font-weight: bold;">TODO</span><span style="color: #0000ff;"> Daily routine </span><span style="color: #228b22; font-weight: bold;">[100%]</span>
<span style="color: #a020f0;">SCHEDULED:</span> <span style="color: #a020f0; text-decoration: underline;">&lt;2022-06-10 Fri 10:00 +1d&gt;</span>
<span style="color: #0000ff;">:PROPERTIES:</span>
<span style="color: #a020f0;">:LAST_REPEAT:</span> <span style="color: #a020f0; background-color: #ffffff; text-decoration: underline;">[2022-06-09 Thu 02:31]</span>
<span style="color: #0000ff;">:END:</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:31]</span>
- State "TODO"       from "WAITING"    <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:26]</span>
- <span style="font-weight: bold;">[X]</span> leetcode
- <span style="font-weight: bold;">[X]</span> execrcise
</pre>
</div>

<p>
ä¸è¿‡è¿›å…¥æ–°çš„è®¡åˆ’ï¼Œæ¯ä¸€é¡¹è¿˜éœ€è¦æ–°çŠ¶æ€ã€‚è¿™å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥è¿™è¾¹ç”¨å¦ä¸€ä¸ªæ’ä»¶åŒ… org-contribã€‚
ç›®çš„æ˜¯è¦å¼•å…¥ check list
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">with-eval-after-load</span> 'org
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24341;&#20837;checklist, &#33258;&#21160;&#26356;&#26032;&#29366;&#24577;</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">org-set-property &#28155;&#21152; RESET_CHECK_BOXS, &#35774;&#32622;&#20026;t</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-checklist</span>)
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">need repeat task and properties</span>
  (<span style="color: #a020f0;">setq</span> org-log-done t)
  (<span style="color: #a020f0;">setq</span> org-log-into-drawer t)

)
</pre>
</div>

<p>
é€šè¿‡ <code>M-x org-set-property</code>  æ·»åŠ  <code>RESET_CHECK_BOXES</code> ã€‚ <code>RESET_CHECK_BOXES</code>  è®¾ç½®ä¸º <code>t</code> å¼€å¯ï¼Œ ä¼šåœ¨ <code>PROPERTIES</code> ä¸­å¢åŠ å±æ€§ã€‚
</p>

<p>
å½“ <code>C-c C-t d</code> æŠŠæ ‡é¢˜è®¾ç½®ä¸º DONEï¼Œè‡ªåŠ¨è¿›å…¥ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹ã€‚ è¿™å¯¹è‡ªå®šä¹‰ä¸€äº›é‡å¤æ€§å·¥ä½œæ¯”è¾ƒæ–¹ä¾¿ã€‚
</p>


<div class="org-src-container">
<pre class="src src-org"><span style="color: #0000ff;">* </span><span style="color: #ff0000; font-weight: bold;">TODO</span><span style="color: #0000ff;"> Daily routine </span><span style="color: #ff0000; font-weight: bold;">[0%]</span>
<span style="color: #a020f0;">SCHEDULED:</span> <span style="color: #a020f0; text-decoration: underline;">&lt;2022-06-15 Wed 10:00 +1d&gt;</span>
<span style="color: #0000ff;">:PROPERTIES:</span>
<span style="color: #a020f0;">:LAST_REPEAT:</span> <span style="color: #a020f0; background-color: #ffffff; text-decoration: underline;">[2022-06-09 Thu 07:24]</span>
<span style="color: #a020f0;">:RESET_CHECK_BOXES:</span> <span style="color: #000000; background-color: #ffffff;">t</span>
<span style="color: #0000ff;">:END:</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 07:24]</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:31]</span>
- State "TODO"       from "WAITING"    <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:26]</span>
- <span style="font-weight: bold;">[ ]</span> leetcode
- <span style="font-weight: bold;">[ ]</span> execrcise
</pre>
</div>

<p>
æ¯æ¬¡å®Œæˆä»»åŠ¡ä¼šè‡ªåŠ¨æ’å…¥å®ŒæˆçŠ¶æ€ï¼Œä½¿ç”¨ä¸‹é¢è®¾ç½®å¯ä»¥éšè—åˆ° <code>PROPERTIES</code> é‡Œï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">need repeat task and properties</span>
(<span style="color: #a020f0;">setq</span> org-log-done t)
(<span style="color: #a020f0;">setq</span> org-log-into-drawer t)
</pre>
</div>

<p>
ä½¿ç”¨ <code>C-c C-t d</code> å®Œæˆä»»åŠ¡ï¼Œ å®ŒæˆçŠ¶æ€ä¼šå¢åŠ åˆ° <code>LOGBOOK</code> å±æ€§ä¸­ã€‚æŠŠä¹‹å‰çš„çŠ¶æ€æ‰‹åŠ¨ç§»è¿‡æ¥ã€‚
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #0000ff;">* </span><span style="color: #ff0000; font-weight: bold;">TODO</span><span style="color: #0000ff;"> Daily routine </span><span style="color: #ff0000; font-weight: bold;">[0%]</span>
<span style="color: #a020f0;">SCHEDULED:</span> <span style="color: #a020f0; text-decoration: underline;">&lt;2022-06-17 Fri 10:00 +1d&gt;</span>
<span style="color: #0000ff;">:PROPERTIES:</span>
<span style="color: #a020f0;">:LAST_REPEAT:</span> <span style="color: #a020f0; background-color: #ffffff; text-decoration: underline;">[2022-06-09 Thu 07:44]</span>
<span style="color: #a020f0;">:RESET_CHECK_BOXES:</span> <span style="color: #000000; background-color: #ffffff;">t</span>
<span style="color: #0000ff;">:END:</span>
<span style="color: #0000ff;">:LOGBOOK:</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 07:44]</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 07:34]</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 07:24]</span>
- State "DONE"       from              <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 03:03]</span>
- State "DONE"       from              <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:50]</span>
- State "DONE"       from "TODO"       <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:31]</span>
- State "TODO"       from "WAITING"    <span style="color: #a020f0; text-decoration: underline;">[2022-06-09 Thu 02:26]</span>  
<span style="color: #0000ff;">:END:</span>
- <span style="font-weight: bold;">[ ]</span> leetcode
- <span style="font-weight: bold;">[ ]</span> execrcise
</pre>
</div>
</div>
</div>
<div id="outline-container-h:org-agenda" class="outline-4">
<h4 id="h:org-agenda"><span class="section-number-4">4.10.5.</span> <code>init-org.el</code> org agenda</h4>
<div class="outline-text-4" id="text-h:org-agenda">
<p>
ç›¸å½“äºæœ‰ä¸€ä¸ªæ—¥å†å®æ—¶å‘Šè¯‰ä½ æ¯å¤©è¦åšä»€ä¹ˆã€‚é€šè¿‡ <code>M-x org-agenda</code> æ¥æ‰“å¼€. è¿™é‡Œéœ€è¦ä¸€ä¸ªå­˜æ”¾æ—¥ç¨‹çš„ç›®å½•ï¼ŒåŒæ—¶ç»‘å®šå¿«æ·é”® <code>C-c a</code> æ–¹ä¾¿æŸ¥çœ‹ã€‚
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#26085;&#21382;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">C-c C-s schedule</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">C-c C-d deadline</span>
(global-set-key (kbd <span style="color: #8b2252;">"C-c a"</span>) 'org-agenda)
(<span style="color: #a020f0;">setq</span> org-agenda-files '(<span style="color: #8b2252;">"~/gtd.org"</span>)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23450;&#20041; agenda &#25991;&#20214;&#65292;&#21487;&#20197;&#26159;&#22810;&#20010;</span>
(<span style="color: #a020f0;">setq</span> org-agenda-span 'day) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25353;&#22825;&#35266;&#23519;</span>
</pre>
</div>

<p>
åŸºæœ¬æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>C-c a a</code>  å¯ä»¥çœ‹åˆ°æ¯å‘¨æ—¥ç¨‹ã€‚</li>
<li><code>f/b</code> ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªé˜¶æ®µå®‰æ’, <code>d/w</code> å¤©/å‘¨è§†å›¾ï¼Œ=n/p= ä¸Š/ä¸‹ç§»åŠ¨å…‰æ ‡</li>
<li>åœ¨ <code>~/gtd.org</code> è®¾ç½® deadline <code>C-c C-d</code> ï¼Œåœ¨æ—¥ç¨‹ä¸­ä¹Ÿèƒ½çœ‹åˆ°ã€‚</li>
</ul>
</div>
</div>
<div id="outline-container-h:org-capture" class="outline-4">
<h4 id="h:org-capture"><span class="section-number-4">4.10.6.</span> <code>init-org.el</code> org capture</h4>
<div class="outline-text-4" id="text-h:org-capture">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> org-capture-templates
      '((<span style="color: #8b2252;">"t"</span> <span style="color: #8b2252;">"Todo"</span> entry (file+headline <span style="color: #8b2252;">"~/gtd.org"</span> <span style="color: #8b2252;">"Workspace"</span>)
         <span style="color: #8b2252;">"* TODO [#B] %?\n  %i\n %U"</span>
         <span style="color: #483d8b;">:empty-lines</span> 1)))

(global-set-key (kbd <span style="color: #8b2252;">"C-c r"</span>) 'org-capture)
</pre>
</div>

<p>
è¿™ä¸ªæ¨¡æ¿åŒ…å«äº”ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">æ¨¡æ¿ç»„æˆ</td>
<td class="org-left">å¯¹åº”é»˜è®¤æ¨¡æ¿ä¸­çš„å†…å®¹</td>
<td class="org-left">æè¿°</td>
</tr>

<tr>
<td class="org-left">key</td>
<td class="org-left">&ldquo;t&rdquo;</td>
<td class="org-left">ç”¨æ¥é€‰æ‹©æ¨¡æ¿çš„å­—ç¬¦</td>
</tr>

<tr>
<td class="org-left">description</td>
<td class="org-left">&ldquo;Todo&rdquo;</td>
<td class="org-left">å±•ç¤ºç”¨çš„æ¨¡æ¿æè¿°</td>
</tr>

<tr>
<td class="org-left">type</td>
<td class="org-left">entry</td>
<td class="org-left">æ–°å¢å†…å®¹çš„ç±»å‹</td>
</tr>

<tr>
<td class="org-left">target</td>
<td class="org-left">(file+headline &ldquo;~/gtd.org&rdquo; &ldquo;Workspace&rdquo;)</td>
<td class="org-left">æ–°å¢å†…å®¹çš„å­˜å‚¨ä½ç½®</td>
</tr>

<tr>
<td class="org-left">template</td>
<td class="org-left">&ldquo;* TODO [#B] %?\n  %i\n %U&rdquo;</td>
<td class="org-left">æ–°å¢å†…å®¹çš„æ¨¡æ¿</td>
</tr>
</tbody>
</table>

<p>
æ–°å¢å†…å®¹çš„æ¨¡æ¿:
</p>
<ul class="org-ul">
<li>&ldquo;%?&rdquo; æ˜¯ä¸€ä¸ªæ›´ç‰¹æ®Šçš„æ ‡è®°ï¼Œå®ƒä¸ä¼šäº§ç”Ÿä»»ä½•å†…å®¹ï¼Œå½“æ‰€æœ‰å…¶ä»–çš„ç‰¹æ®Šæ ‡è®°éƒ½å±•å¼€å®Œæ¯•æˆ–è€…è¾“å…¥å®Œæ¯•åï¼Œå…‰æ ‡å°†ä¼šåœç•™åœ¨è¿™ä¸ªæ ‡è®°æ‰€åœ¨çš„ä½ç½®ã€‚</li>
<li>%i å¯ä»¥æ’å…¥ä¸€æ®µåˆå§‹åŒ–å†…å®¹</li>
<li>%U  å½“å‰åŒ…å«æ—¥æœŸå’Œæ—¶é—´çš„æœªæ¿€æ´»çš„ timestampï¼Œå¦‚: <span class="timestamp-wrapper"><span class="timestamp">[2018-03-04 æ—¥ 19:26] </span></span></li>
</ul>

<p>
å®šä¹‰æ•è·æ¨¡æ¿ï¼Œç»‘å®šåˆ°å¿«æ·é”® <code>C-c r</code> ã€‚ æ›´å†™è¯¦ç»†çš„å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚
</p>

<p>
æ“ä½œï¼š
</p>
<ul class="org-ul">
<li><code>C-c a t</code> å‘æŒ‡å®šæ–‡ä»¶ä¸­å†™å†…å®¹ã€‚ <code>C-c C-c</code> å®Œæˆ. ä¼šè®°å½•åˆ°gtd.orgæ–‡ä»¶ä¸­</li>
<li>åœ¨æ–‡ä»¶ä¸­è®¾ç½®å¼€å§‹æ—¶é—´ <code>C-c C-s</code> 21:00 ç‚¹ï¼Œ å†æ‰§è¡Œ <code>C-c a a</code> å°±å¯çœ‹åˆ°æ—¥ç¨‹æ›´æ–°äº†ã€‚</li>
</ul>

<p>
æˆ‘ç”¨ä»¥ä¸‹é…ç½®
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> org-capture-templates
      '((<span style="color: #8b2252;">"t"</span> <span style="color: #8b2252;">"Todo"</span> entry (file+headline <span style="color: #8b2252;">"~/gtd.org"</span> <span style="color: #8b2252;">"Workspace"</span>)
         <span style="color: #8b2252;">"* TODO [#B] %?\n  %i\n %U"</span>
         <span style="color: #483d8b;">:empty-lines</span> 1)
        <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#29992;&#26469;&#25688;&#21462;&#32593;&#39029;&#20869;&#23481;</span>
        (<span style="color: #8b2252;">"x"</span> <span style="color: #8b2252;">"Web Collections"</span> entry
         (file+headline org-agenda-file-note <span style="color: #8b2252;">"Web"</span>)
         <span style="color: #8b2252;">"* %U %:annotation\n\n%:initial\n\n%?"</span>)
        ))

(<span style="color: #a020f0;">setq</span> org-agenda-file-note (expand-file-name <span style="color: #8b2252;">"~/notes.org"</span>)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20445;&#23384;&#32593;&#39029;&#20869;&#23481;</span>

(global-set-key (kbd <span style="color: #8b2252;">"C-c r"</span>) 'org-capture)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:org-effect" class="outline-4">
<h4 id="h:org-effect"><span class="section-number-4">4.10.7.</span> <code>init-org.el</code> org effect</h4>
<div class="outline-text-4" id="text-h:org-effect">
<p>
è®¾ç½®ä»»åŠ¡å®Œæˆéœ€è¦çš„æ—¶é—´ã€‚
</p>

<p>
åœ¨ agenda view ä¸­,  <code>e</code> é”®å¯ä»¥è®¾ç½®effort, æŒ‰ <code>_</code> (org-agenda-filter-by-effort) å¯ä»¥è¿‡æ»¤æŒ‡å®šeffort çš„heading
</p>

<p>
èŒƒä¾‹:è®¾ç½® 30åˆ†é’Ÿä»»åŠ¡
</p>
<ul class="org-ul">
<li>è¿›å…¥agenda <code>C-c a a</code></li>
<li>è®¾ç½®å®Œæˆä»»åŠ¡éœ€è¦30åˆ†é’Ÿï¼ŒæŒ‰ <code>e</code> è¾“å…¥ <code>00:30</code></li>
<li>è¿‡æ»¤ 1 å°æ—¶å†…èƒ½å®Œæˆä»»åŠ¡ï¼ŒæŒ‰ <code>_</code>  è¾“å…¥ <code>&lt;</code> é€‰æ‹© [4]1:00 å¯¹åº”çš„æ•°å­— 4</li>
</ul>
</div>
</div>
<div id="outline-container-h:org-tags" class="outline-4">
<h4 id="h:org-tags"><span class="section-number-4">4.10.8.</span> <code>init-org.el</code> org tags</h4>
<div class="outline-text-4" id="text-h:org-tags">
<p>
åœ¨ agenda view ä¸­æ·»åŠ tag, ä½¿ç”¨ <code>:</code> , ä¹Ÿå¯ä»¥ <code>M-x org-agenda-set-tags</code> æ·»åŠ ã€‚
</p>
</div>
</div>
<div id="outline-container-h:org-priority" class="outline-4">
<h4 id="h:org-priority"><span class="section-number-4">4.10.9.</span> <code>init-org.el</code> org priority</h4>
<div class="outline-text-4" id="text-h:org-priority">
<p>
æœ‰ä¸‰ç§ä¼˜å…ˆçº§æ¨¡å¼ï¼ŒA-Cï¼Œè‹¥ä¸æŒ‡å®šä¼˜å…ˆçº§ï¼Œ&rsquo;B&rsquo;ç­‰çº§æ˜¯é»˜è®¤çš„ã€‚
</p>
<ul class="org-ul">
<li><code>C-c ,</code> æˆ–è€…  <code>M-x org-priority</code>  : è®¾ç½®å½“å‰æ ‡é¢˜çš„ä¼˜å…ˆçº§ï¼Œé”®å…¥A-Cè®¾ç½®çº§åˆ«ï¼Œæˆ–è€…é”®å…¥SPCæ¸…é™¤æ ‡è®°</li>
<li id="S-UP/DOWN ">æå‡/é™ä½å½“å‰æ ‡é¢˜çš„ä¼˜å…ˆçº§</li>
</ul>

<p>
è®¾ç½®agendaä¸­ä¼˜å…ˆçº§Açš„ä¸ºâ€œé‡è¦ä¸”ç´§æ€¥çš„äº‹â€
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> org-agenda-custom-commands
      '((<span style="color: #8b2252;">"c"</span> <span style="color: #8b2252;">"&#37325;&#35201;&#19988;&#32039;&#24613;&#30340;&#20107;"</span>
         ((tags-todo <span style="color: #8b2252;">"+PRIORITY=\"A\""</span>)))
        <span style="color: #b22222;">;; </span><span style="color: #b22222;">...other commands here</span>
        ))
</pre>
</div>

<p>
æŸ¥çœ‹é‡è¦ä¸”ç´§æ€¥çš„äº‹ï¼š
</p>
<ul class="org-ul">
<li>è¿›è¡Œagenda  è§†å›¾ <code>C-c a a=ï¼Œè®¾ç½®ä¼˜å…ˆçº§Aï¼Œ æŒ‰ =,</code>  é€—å·ï¼Œè¾“å…¥aã€‚</li>
<li>æŸ¥çœ‹é‡è¦ä¸”ç´§æ€¥çš„äº‹ï¼Œ=C-c a c= å±•ç¤ºé‡è¦ä¸”ç´§æ€¥çš„äº‹ï¼ˆå¿…é¡»æœ‰ TODO çŠ¶æ€ï¼‰ã€‚</li>
</ul>
</div>
</div>
<div id="outline-container-h:org-jietu" class="outline-4">
<h4 id="h:org-jietu"><span class="section-number-4">4.10.10.</span> <code>init-org.el</code> org æˆªå›¾</h4>
<div class="outline-text-4" id="text-h:org-jietu">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<ul class="org-ul">
<li>org-download 29ç‰ˆæœ¬æ”¯æŒä¸å‹å¥½</li>
<li>è‡ªå®šä¹‰å‡½æ•°ï¼Œçµæ´»ç‚¹</li>
</ul>

<p>
<b>org-download</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25130;&#22270;</span>
(<span style="color: #a020f0;">use-package</span> org-download
    <span style="color: #483d8b;">:ensure</span> t
    <span style="color: #483d8b;">:demand</span> t
    <span style="color: #483d8b;">:after</span> org
    <span style="color: #483d8b;">:config</span>
    (add-hook 'dired-mode-hook 'org-download-enable)
    (<span style="color: #a020f0;">setq</span> org-download-screenshot-method <span style="color: #8b2252;">"powershell -c Add-Type -AssemblyName System.Windows.Forms;$image = [Windows.Forms.Clipboard]::GetImage();$image.Save('</span><span style="color: #008b8b;">%s</span><span style="color: #8b2252;">', [System.Drawing.Imaging.ImageFormat]::Png)"</span>)
    (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">org-download-annotate-default</span> (link)
      <span style="color: #8b2252;">"Annotate LINK with the time of download."</span>
      (make-string 0 ?\s))
    (<span style="color: #a020f0;">setq</span> org-download-image-attr-list
            `(,(concat <span style="color: #8b2252;">"\n#+DOWNLOADED: screenshot @ "</span>
                     (format-time-string <span style="color: #8b2252;">"%Y-%m-%d %a %H:%M:%S"</span> (current-time))
                     <span style="color: #8b2252;">"\n#+CAPTION: \n#+ATTR_ORG: :width 80%"</span>
                     <span style="color: #8b2252;">"\n#+ATTR_HTML: :width 80%"</span>)))
    (<span style="color: #a020f0;">setq-default</span> org-download-heading-lvl nil
                  org-download-image-dir <span style="color: #8b2252;">"./images"</span>
                  <span style="color: #b22222;">;; </span><span style="color: #b22222;">org-download-screenshot-method "screencapture -i %s"</span>
                    org-download-timestamp <span style="color: #8b2252;">"%Y%m%d_%H%M%S_"</span>
                  org-download-screenshot-file (expand-file-name <span style="color: #8b2252;">"screenshot.jpg"</span> temporary-file-directory)))

</pre>
</div>

<p>
å®‰è£…æˆªå›¾å·¥å…·
</p>
<ul class="org-ul">
<li>Linux / MacOS
<ul class="org-ul">
<li>snipaste</li>
</ul></li>
<li>pc
<ul class="org-ul">
<li>ç³»ç»Ÿæˆªå›¾å·¥å…· <code>&lt;Win&gt;+&lt;shift&gt;+s</code></li>
<li><code>pacman -S mingw-w64-x86_64-imagemagick</code></li>
</ul></li>
</ul>

<p>
ä½¿ç”¨æ–¹æ³•
</p>
<ul class="org-ul">
<li>ä½¿ç”¨ç³»ç»Ÿæˆªå›¾å·¥å…· (<code>Windows</code> ä¸‹ç”¨ <code>&lt;Win&gt;+&lt;shift&gt;+s</code>) å°†æˆªå›¾ä¿å­˜åˆ°å‰ªè´´æ¿</li>
<li><code>M-x org-download-screenshot</code> å°†å‰ªè´´æ¿ä¸­å›¾ç‰‡ç²˜è´´åˆ°orgæ–‡ä»¶ä¸­.</li>
</ul>

<p>
org-toggle-inline-images
</p>


<p>
<b>è‡ªå®šä¹‰å‡½æ•°</b>
</p>

<ul class="org-ul">
<li>j-org-download.el<a href="#h:j-org-download">(<code>j-org-download.el</code> åº“)</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25130;&#22270;</span>
(<span style="color: #a020f0;">use-package</span> j-org-download
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #8b2252;">"&lt;f2&gt;"</span> . my/org-insert-clipboard-image))
</pre>
</div>

<p>
æç¤ºè¾“å…¥å›¾ç‰‡æ˜¾ç¤ºå¤§å°ï¼Œé»˜è®¤800px, å¯ä»¥æŒ‡å®šå¦‚ 80%æ˜¾ç¤ºã€‚
</p>

<p>
å¯ä»¥ä½¿ç”¨å‹ç¼©å·¥å…·æ¥å‹ç¼©å›¾ç‰‡ï¼Œè¿™æ ·ä½¿ç”¨çš„ffmpegåª’ä½“æµå¤„ç†å·¥å…·ã€‚å®˜æ–¹ä¸‹è½½å®‰è£…é…ç½®pathè·¯å¾„å°±å¯ä½¿ç”¨ã€‚
</p>


<p>
<b>æ”¹å˜å›¾ç‰‡å¤§å°</b>
</p>

<p>
æ˜¾ç¤ºå’Œå…³é—­å†…åµŒå›¾ç‰‡ <code>M-x org-toggle-inline-images</code>
</p>

<pre class="example" id="org26ea4a6">
#+CAPTION:  &lt;å›¾ç‰‡æ ‡é¢˜&gt;
#+ATTR_ORG: :width 800px
#+ATTR_HTML: :width 800px
</pre>


<p>
é»˜è®¤åœ¨orgä¸­ <code>org-image-actual-width</code> å˜é‡å€¼t, æ˜¾ç¤ºçš„å›¾ç‰‡å¤§å°æ˜¯å®é™…å›¾ç‰‡å¤§å°.
ä¿®æ”¹å˜é‡çš„å€¼ï¼ŒæŒ‰æŒ‡å®šå¤§å°æ˜¾ç¤ºã€‚
</p>

<pre class="example" id="org4b03aed">
- é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å˜é‡çš„å€¼
(setq org-image-actual-width nil)

- å•ç‹¬ä¸ºæ–‡ä»¶è®¾ç½®å±€éƒ¨å˜é‡ï¼Œæ–¹æ³•æ˜¯åœ¨ org æ–‡ä»¶çš„ç¬¬1è¡ŒåŠ ä¸‹é¢å†…å®¹
# -*- org-image-actual-width: nil; -*-
</pre>

<p>
<b>ä½¿ç”¨yasnippetsåˆ›å»ºå›¾ç‰‡å±æ€§æ®µ</b>
</p>


<ul class="org-ul">
<li><p>
<code>M-x yas-new-snippet</code> åˆ›å»ºæ–°ä»£ç ç‰‡æ®µ
</p>

<pre class="example" id="orgfb62646">
# -*- mode: snippet -*-
# key: imw
# name: image-width
# --
#+DOWNLOADED: screenshot @ `(format-time-string "%Y%m%d %a %H:%M:%S" (current-time))`
#+CAPTION: $0
#+ATTR_ORG: :width ${1:80%}
#+ATTR_HTML: :width ${2:80%}
</pre>

<p>
<code>$0</code> å…‰æ ‡ä½ç½®ï¼Œ <code>$1..n</code> ä½¿ç”¨tab, shift-tabåˆ‡æ¢å ä½ç¬¦ä½ç½®ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤å€¼å¦‚ <code>${1:aa}</code>
</p>

<p>
<code>`()`</code> å¯ä»¥å†™lispè¯­æ³•
</p></li>
<li><code>C-c C-c=å®Œæˆç¼–ç¨‹ï¼Œé€‰æ‹©ç‰‡æ®µç”Ÿæ•ˆçš„æ¨¡å¼ï¼Œä¿å­˜æŒ‡å®šä½ç½® =~/.emacs.d/snippets/org-mode/&lt;name&gt;</code></li>
<li><code>M-x yas-describe-tables</code> æŸ¥çœ‹</li>
<li><code>M-x yas-visit-snippet-file</code> ç¼–è¾‘</li>
</ul>

<p>
imwåæŒ‰TABé”®è¡¥å…¨
</p>
<pre class="example" id="orgf12aa8b">
#+DOWNLOADED: screenshot @ 20240728 å‘¨æ—¥ 12:29:42
#+CAPTION: 
#+ATTR_ORG: :width 80%
#+ATTR_HTML: :width 80%
</pre>
</div>
</div>
<div id="outline-container-h:org-protocol" class="outline-4">
<h4 id="h:org-protocol"><span class="section-number-4">4.10.11.</span> <code>init-org.el</code> ä»ç½‘é¡µæ‘˜å–å†…å®¹ Org Protocol</h4>
<div class="outline-text-4" id="text-h:org-protocol">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://orgmode.org/worg/org-contrib/org-protocol.html">https://orgmode.org/worg/org-contrib/org-protocol.html</a>
</p>

<p>
ä»ç½‘é¡µæ‘˜å–å†…å®¹
</p>

<p>
1.Step 1: Get emacsclient to work
</p>

<p>
è®¾ç½®å¿«é€Ÿæ‰“å¼€emacs. Emacs éœ€è¦å¼€å¯ Server Modeï¼Œä»£ç å¦‚ä¸‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(server-mode 1)
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-protocol</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21152;&#36733;&#20869;&#32622;&#21253;</span>
</pre>
</div>


<p>
2.åˆ›å»ºæ³¨å†Œè¡¨æ–‡ä»¶ org-protocol.reg
</p>

<p>
æŒ‡å®šemacsclientwä½ç½®
</p>

<p>
PC
</p>
<pre class="example" id="org3cd688a">
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\org-protocol]
"URL Protocol"=""
@="URL:Org Protocol"

[HKEY_CLASSES_ROOT\org-protocol\shell]

[HKEY_CLASSES_ROOT\org-protocol\shell\open]

[HKEY_CLASSES_ROOT\org-protocol\shell\open\command]
@="\"D:\\msys64\\mingw64\\bin\\emacsclientw.exe\"  \"%1\""
</pre>

<p>
åŒå‡»æ³¨å†Œæ–‡ä»¶è¿è¡Œã€‚
</p>

<p>
3.add org templates
</p>

<p>
å®šä¹‰captureæ¨¡æ¿ï¼Œç”¨æ¥å¿«é€Ÿæ‘˜å–ç½‘é¡µå†…å®¹<a href="#h:org-capture">(<code>init-org.el</code> org capture)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> org-agenda-file-note (expand-file-name <span style="color: #8b2252;">"~/notes.org"</span>))
(<span style="color: #a020f0;">setq</span> org-capture-templates
      '(
        (<span style="color: #8b2252;">"x"</span> <span style="color: #8b2252;">"Web Collections"</span> entry
         (file+headline org-agenda-file-note <span style="color: #8b2252;">"Web"</span>)
         <span style="color: #8b2252;">"* %U %:annotation\n\n%:initial\n\n%?"</span>)
        ))
</pre>
</div>

<p>
4.add chrome bookmark
</p>

<p>
åœ¨chromeæµè§ˆå™¨ä¸Šæ·»åŠ æ–°æ ‡ç­¾ï¼Œå°†ä¸‹é¢jsä»£ç å¤åˆ¶è¿›è¡Œåœ°å€ï¼Œæ ‡ç­¾åè‡ªå®šä¹‰ï¼Œä¿å­˜
</p>

<pre class="example" id="org78d47cf">
javascript:location.href='org-protocol://capture?template=x&amp;url=%27+encodeURIComponent(location.href)+%27&amp;title=%27+encodeURIComponent(document.title)+%27&amp;body=%27+encodeURIComponent(function(){var html = "";var sel = window.getSelection();if (sel.rangeCount) {var container = document.createElement("div");for (var i = 0, len = sel.rangeCount; i &lt; len; ++i) {container.appendChild(sel.getRangeAt(i).cloneContents());}html = container.innerHTML;}var dataDom = document.createElement(%27div%27);dataDom.innerHTML = html;dataDom.querySelectorAll(%27a%27).forEach(function(item, idx) {console.log(%27find a link%27);var url = new URL(item.href, window.location.href).href;var content = item.innerText;item.innerText = %27[[%27+url+%27][%27+content+%27]]%27;});[%27p%27, %27h1%27, %27h2%27, %27h3%27, %27h4%27].forEach(function(tag, idx){dataDom.querySelectorAll(tag).forEach(function(item, index) {var content = item.innerHTML.trim();if (content.length &gt; 0) {item.innerHTML = content + %27&amp;#13;&amp;#10;';}});});return dataDom.innerText.trim();}())
</pre>

<p>
ä½¿ç”¨ï¼š é€‰ä¸­ç½‘é¡µæ–‡å­—, ç‚¹å‡»æ ‡ç­¾ã€‚ç½‘é¡µçš„å†…å®¹å°±ä¼šå†™åˆ°org-captureä¸­ï¼Œ=C-c C-c= å®Œæˆï¼Œ
å†…å®¹è¢«ä¿å­˜åœ¨ <code>~/notes.org</code>
</p>

<p>
5.return follow link
</p>

<p>
åœ¨orgä¸­çš„å…‰æ ‡åœ¨è¿æ¥ä½ç½®å›è½¦ä¸èƒ½æ‰“å¼€é“¾æ¥ã€‚å¦‚ä¸‹è®¾ç½®å›è½¦åå¯åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> org-return-follows-link t)  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#38142;&#25509;&#20301;&#32622;&#22238;&#36710;&#65292;&#20351;&#29992;&#22806;&#37096;&#31243;&#24207;&#25171;&#24320;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:org-spell" class="outline-4">
<h4 id="h:org-spell"><span class="section-number-4">4.10.12.</span> <code>init-org.el</code> æ‹¼å†™æ£€æŸ¥ Spell checking</h4>
<div class="outline-text-4" id="text-h:org-spell">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> flyspell-correct
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:init</span>)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">ispell &#20026;&#20869;&#32622;&#21253;&#65292;&#38656;&#35201;&#20351;&#29992;&#22806;&#37096;&#31243;&#24207;&#26469;&#20570;&#35821;&#27861;&#26816;&#26597;</span>
(<span style="color: #a020f0;">use-package</span> ispell
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:init</span>
  (<span style="color: #a020f0;">setq</span> ispell-program-name <span style="color: #8b2252;">"aspell"</span>)
  (<span style="color: #a020f0;">dolist</span> (hook '(text-mode-hook))
    (add-hook hook (<span style="color: #a020f0;">lambda</span> () (flyspell-mode 1))))
  (<span style="color: #a020f0;">setq</span> ispell-personal-dictionary <span style="color: #8b2252;">"d:/msys64/mingw64/lib/aspell-0.60/en_GB"</span>)
  )

(define-key evil-insert-state-map (kbd <span style="color: #8b2252;">"C-;"</span>) 'flyspell-correct-previous)
</pre>
</div>

<p>
<b>Install spell</b>
</p>

<p>
PC: mysys2 ä¸­å®‰è£…
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S mingw64/mingw-w64-x86_64-aspell    <span style="color: #b22222;">#</span><span style="color: #b22222;">&#31243;&#24207;</span>
pacman -S mingw64/mingw-w64-x86_64-aspell-en <span style="color: #b22222;">#</span><span style="color: #b22222;">&#33521;&#35821;&#35821;&#27861;&#26816;&#26597;&#25991;&#20214;</span>
</pre>
</div>

<p>
<b>Configuration</b>
</p>

<p>
1.add &ldquo;*C:\msys64\mingw64\bin&rdquo; to to PATH
2.Error: The file &ldquo;c:\msys64\mingw64/lib/aspell-0.60/ï»¿en_US&rdquo; can not be opened for reading.
</p>

<p>
ä½¿ç”¨ï¼š
</p>
<ul class="org-ul">
<li><code>M-x ispell-minor-mode</code> <code>flyspell-mode</code> æ‰‹åŠ¨æ¿€æ´»</li>
<li><code>M-x flyspell-correct-previous</code> æˆ–ä½¿ç”¨ç»‘å®šçš„å¿«æ·é”® <code>C;</code> é€‰æ‹©æ­£å¸¸çš„æ‹¼å†™</li>
</ul>
</div>
</div>
<div id="outline-container-h:org-fanyi" class="outline-4">
<h4 id="h:org-fanyi"><span class="section-number-4">4.10.13.</span> <code>init-org.el</code> ç¿»è¯‘ Fanyi Dictionary</h4>
<div class="outline-text-4" id="text-h:org-fanyi">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
æœ‰å¤šç§ç¿»è¯‘å·¥å…·ï¼Œè¿™é‡Œä½¿ç”¨fanyiè½¯ä»¶åŒ…
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#26377;&#36947;&#32763;&#35793;</span>
(<span style="color: #a020f0;">use-package</span> youdao-dictionary
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:commands</span> (youdao-dictionary-search-at-point+)
  <span style="color: #483d8b;">:init</span>
  (global-set-key (kbd <span style="color: #8b2252;">"C-c y"</span>) 'youdao-dictionary-search-at-point+))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">fanyi&#32763;&#35793;</span>
(<span style="color: #a020f0;">use-package</span> fanyi
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom</span>
  (fanyi-providers '(<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#28023;&#35789;</span>
                     <span style="color: #b22222;">;; </span><span style="color: #b22222;">fanyi-haici-provider</span>
                     <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26377;&#36947;&#21516;&#20041;&#35789;&#35789;&#20856;</span>
                     fanyi-youdao-thesaurus-provider
                     <span style="color: #b22222;">;; </span><span style="color: #b22222;">Etymonline</span>
                     fanyi-etymon-provider
                     <span style="color: #b22222;">;; </span><span style="color: #b22222;">Longman</span>
                     <span style="color: #b22222;">;; </span><span style="color: #b22222;">fanyi-longman-provider)</span>
                   )))
</pre>
</div>

<p>
fanyiä½¿ç”¨
</p>
<ul class="org-ul">
<li>å…‰æ ‡åœåœ¨å•è¯å¤„æ‰§è¡Œ <code>M-x fanyi-dwim2</code></li>
</ul>

<p>
<b>Some useful keybindings</b>
</p>

<pre class="example" id="org4c68d50">
C-RET  for creating new headlines
M-RET  for creating new lists
M-left/right/up/down
</pre>
</div>
</div>
<div id="outline-container-h:005568af-5e29-4582-9ba1-85eb4a7c4bc2" class="outline-4">
<h4 id="h:005568af-5e29-4582-9ba1-85eb4a7c4bc2"><span class="section-number-4">4.10.14.</span> <code>init-org.el</code> åŒé“¾ç¬”è®° <code>org-Roam</code></h4>
<div class="outline-text-4" id="text-h:005568af-5e29-4582-9ba1-85eb4a7c4bc2">
<p>
åŒé“¾ç¬”è®°ç³»ç»Ÿ
</p>

<p>
<b>å®‰è£… Org Oram</b>
</p>

<p>
åœ¨ HOME æ–°å»ºä¸€ä¸ª org ç›®å½•å¤¹ï¼Œç”¨æ¥å­˜å‚¨ä½ çš„ org roam ç¬”è®°ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> org-roam
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom</span>
  (org-roam-directory (file-truename <span style="color: #8b2252;">"~/org"</span>))  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#40664;&#35748;&#31508;&#35760;&#30446;&#24405;&#65292;&#25552;&#21069;&#25163;&#21160;&#21019;&#24314;&#22909;</span>
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-c n l"</span> . org-roam-buffer-toggle)  <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26174;&#31034;&#21453;&#21521;&#38142;&#25509;</span>
         (<span style="color: #8b2252;">"C-c n f"</span> . org-roam-node-find)      <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26597;&#25214;</span>
         (<span style="color: #8b2252;">"C-c n g"</span> . org-roam-graph)
         (<span style="color: #8b2252;">"C-c n i"</span> . org-roam-node-insert)    <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25554;&#20837;</span>
         (<span style="color: #8b2252;">"C-c n c"</span> . org-roam-capture)        <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25429;&#33719;</span>
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">Dailies</span>
         (<span style="color: #8b2252;">"C-c n j"</span> . org-roam-dailies-capture-today)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#35760;&#26085;&#24535;&#21151;&#33021;</span>
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">If you're using a vertical completion framework, you might want a more informative completion interface</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21487;&#20197;&#25353;&#26631;&#39064;&#25628;&#32034;&#12289;tags&#25628;&#32034;</span>
  (<span style="color: #a020f0;">setq</span> org-roam-node-display-template (concat <span style="color: #8b2252;">"${title:*} "</span> (propertize <span style="color: #8b2252;">"${tags:10}"</span> 'face 'org-tag)))
  (org-roam-db-autosync-mode)    <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21047;&#26032;&#25968;&#25454; sqlite3 &#24211; ~/.emacs.d/org-roam.db</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">If using org-roam-protocol</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-roam-protocol</span>))
</pre>
</div>

<p>
<b>Org roam åŸºæœ¬ä½¿ç”¨</b>
</p>

<p>
æ–°å»ºç¬”è®°å’ŒæŸ¥æ‰¾ç¬”è®°
</p>

<ul class="org-ul">
<li>org-roam-node-find(<code>C-c n f</code>) å¦‚æœæ²¡æœ‰ï¼Œä¼šåˆ›å»ºæ–°èŠ‚ç‚¹. å¦‚èŠ‚ç‚¹åä¸º Elisp
<ul class="org-ul">
<li>è¾“å…¥èŠ‚ç‚¹åï¼Œ <code>Alt-å›è½¦</code> åˆ›å»º</li>
</ul></li>
<li>åœ¨æ–°å»ºèŠ‚ç‚¹ä¸Š <code>C-c C-c</code> ä¿å­˜</li>
<li><p>
org-roam-capture(<code>C-c n c</code>)
</p>

<p>
åˆ›å»ºä¸€æ¡æ–°ç¬”è®°. æœªæ¥å¯ä»¥é¢„è®¾ä¸åŒä¸»é¢˜çš„é»˜è®¤æ¨¡æ¿. æ¯ä¸€æ¡ç¬”è®°å°±æ˜¯ä¸€ä¸ª org æ–‡ä»¶
</p></li>

<li><p>
org-roam-insert(<code>C-c n i</code>)
</p>

<p>
æ’å…¥ä¸€æ¡ç¬”è®°çš„é“¾æ¥
</p>

<p>
åœ¨æŸ¥æ‰¾ç¬”è®°æ—¶åˆ©ç”¨ org-roam-find çš„ç•Œé¢
</p>

<p>
è‹¥ç¬”è®°ä¸å­˜åœ¨, åˆ™åˆ©ç”¨ org-roam-capture çš„ç•Œé¢åˆ›å»ºç¬”è®°
</p></li>

<li><code>C-c C-k</code> åˆ é™¤å½“å‰capture</li>
</ul>

<p>
åŠ tags
</p>
<ul class="org-ul">
<li>æ·»åŠ tag <code>M-x org-roam-tag-add</code> , ä½¿ç”¨ C-c n f å¯ä»¥çœ‹åˆ°å¯¹åº”çš„tag</li>
</ul>

<p>
å»ºç«‹ç¬”è®°å¼•ç”¨
</p>

<pre class="example" id="orgb87f6ba">
[[]]
å¦‚ï¼š
[[è¾“å…¥è¦å¼•ç”¨çš„èŠ‚ç‚¹åç§°ï¼Œè‡ªåŠ¨è¡¥å…¨]]
</pre>

<p>
æŸ¥æ‰¾å¼•ç”¨
</p>
<ul class="org-ul">
<li><code>M-x org-roam-buffer-toggle</code></li>
</ul>

<p>
å·²æœ‰çš„ headline è½¬æ¢ä¸ºä¸€ä¸ªèŠ‚ç‚¹
</p>
<ul class="org-ul">
<li><code>M-x org-id-get-create</code>  æ ‡é¢˜ä¸‹ä¼šå¤šä¸ªIDï¼Œ</li>
<li>=M-x refile node æŠŠå½“å‰æ ‡é¢˜ç§»åŠ¨ä¸€ä¸ªå·²å­˜åœ¨èŠ‚ç‚¹ä¸Š.</li>
</ul>

<p>
åˆ·æ–°æ•°æ®åº“
</p>

<p>
æ‰€æœ‰æ–‡ä»¶éƒ½ä¿å­˜ååˆ·æ–°åº“
</p>

<ul class="org-ul">
<li>è‡ªåŠ¨æ›´æ–°: é€šè¿‡ (org-roam-db-autosync-mode) å®ç°</li>
<li>æ‰‹åŠ¨æ›´æ–° <code>M-x org-roam-db-sync</code></li>
</ul>
</div>
<div id="outline-container-h:d15ff21d-1471-4613-9ec9-8a9273665175" class="outline-5">
<h5 id="h:d15ff21d-1471-4613-9ec9-8a9273665175"><span class="section-number-5">4.10.14.1.</span> <code>init-org.el</code> org <code>org-roam-ui</code></h5>
<div class="outline-text-5" id="text-h:d15ff21d-1471-4613-9ec9-8a9273665175">
<p>
org-roam-ui åœ¨pcä¸‹å®‰è£…å­˜åœ¨é—®é¢˜ã€‚ç³»ç»Ÿé»˜è®¤æŒ‰linux ç³»ç»Ÿå®‰è£…tarè§£å‹. windows ä¸Šé¢éœ€è¦ä½¿ç”¨ system32/tar è¿™ä¸ªç¨‹åºå»è§£å‹ã€‚
</p>

<p>
è§£å†³æ–¹å¼ï¼š ä½¿ç”¨vcæ¥å®‰è£…. åœ¨emacs30å·²ç»é›†æˆ(package-vc.el)
</p>


<p>
æ–¹æ³•å¦‚ä¸‹
</p>

<p>
<b>ç›´æ¥ä» github å®‰è£…æ’ä»¶</b>
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> org-roam-ui
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:vc</span> (<span style="color: #483d8b;">:fetcher</span> <span style="color: #8b2252;">"github"</span> <span style="color: #483d8b;">:repo</span> <span style="color: #8b2252;">"org-roam/org-roam-ui"</span>))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> org-roam-ui
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> org-roam)
</pre>
</div>

<p>
é¼ æ ‡æ“ä½œ, èŠ‚ç‚¹å³é”®ä»emacsä¸­æ‰“å¼€ç¬”è®°
</p>

<p>
å¯è§†åŒ–
</p>

<p>
å®æ—¶æ˜¾ç¤ºé“¾æ¥
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-org done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-org</span>)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:personspace" class="outline-3">
<h3 id="h:personspace"><span class="section-number-3">4.11.</span> <code>init-persp.el</code> å·¥ä½œåŒºé—´ç®¡ç†</h3>
<div class="outline-text-3" id="text-h:personspace">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>
</div>
<div id="outline-container-h:dbb5227a-09bd-44ff-a2c9-59ab9c5b6f11" class="outline-4">
<h4 id="h:dbb5227a-09bd-44ff-a2c9-59ab9c5b6f11"><span class="section-number-4">4.11.1.</span> <code>init-window.el</code> çª—å£ <code>tab-bar(built-in)</code></h4>
<div class="outline-text-4" id="text-h:dbb5227a-09bd-44ff-a2c9-59ab9c5b6f11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> tab-bar
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:init</span>
  (tab-bar-mode t)
  (<span style="color: #a020f0;">setq</span> tab-bar-new-tab-choice <span style="color: #8b2252;">"*scratch*"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">buffer to show in new tabs</span>
  (<span style="color: #a020f0;">setq</span> tab-bar-close-button-show nil)      <span style="color: #b22222;">;; </span><span style="color: #b22222;">hide tab close / X button</span>
  (<span style="color: #a020f0;">setq</span> tab-bar-show 1)                     <span style="color: #b22222;">;; </span><span style="color: #b22222;">hide bar if &lt;= 1 tabs open</span>
  (<span style="color: #a020f0;">setq</span> tab-bar-format '(tab-bar-format-tabs tab-bar-separator))

  (custom-set-faces
   '(tab-bar ((t (<span style="color: #483d8b;">:inherit</span> mode-line))))
   '(tab-bar-tab ((t (<span style="color: #483d8b;">:inherit</span> mode-line <span style="color: #483d8b;">:foreground</span> <span style="color: #8b2252;">"#993644"</span>))))
   '(tab-bar-tab-inactive ((t (<span style="color: #483d8b;">:inherit</span> mode-line-inactive <span style="color: #483d8b;">:foreground</span> <span style="color: #8b2252;">"black"</span>)))))

  (<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">ct/circle-numbers-alist</span>
    '((0 . <span style="color: #8b2252;">"&#9450;"</span>)
      (1 . <span style="color: #8b2252;">"&#9312;"</span>)
      (2 . <span style="color: #8b2252;">"&#9313;"</span>)
      (3 . <span style="color: #8b2252;">"&#9314;"</span>)
      (4 . <span style="color: #8b2252;">"&#9315;"</span>)
      (5 . <span style="color: #8b2252;">"&#9316;"</span>)
      (6 . <span style="color: #8b2252;">"&#9317;"</span>)
      (7 . <span style="color: #8b2252;">"&#9318;"</span>)
      (8 . <span style="color: #8b2252;">"&#9319;"</span>)
      (9 . <span style="color: #8b2252;">"&#9320;"</span>))
    <span style="color: #8b2252;">"Alist of integers to strings of circled unicode numbers."</span>)

  (<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">ct/tab-bar-tab-name-format-default</span> (tab i)
    (<span style="color: #a020f0;">let</span> ((current-p (eq (car tab) 'current-tab))
          (tab-num (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">and</span> tab-bar-tab-hints (&lt; i 10))
                       (alist-get i ct/circle-numbers-alist) <span style="color: #8b2252;">""</span>)))
      (propertize
       (concat tab-num
               <span style="color: #8b2252;">" "</span>
               (alist-get 'name tab)
               (<span style="color: #a020f0;">or</span> (<span style="color: #a020f0;">and</span> tab-bar-close-button-show
                        (not (eq tab-bar-close-button-show
                                 (<span style="color: #a020f0;">if</span> current-p 'non-selected 'selected)))
                        tab-bar-close-button)
                   <span style="color: #8b2252;">""</span>)
               <span style="color: #8b2252;">" "</span>)
       'face (funcall tab-bar-tab-face-function tab))))
  (<span style="color: #a020f0;">setq</span> tab-bar-tab-name-format-function #'ct/tab-bar-tab-name-format-default)
  (<span style="color: #a020f0;">setq</span> tab-bar-tab-hints t))
</pre>
</div>

<p>
é…ç½®ç”Ÿæ•ˆåï¼Œå¯ä»¥çœ‹åˆ°çª—å£ä¸Šæ–¹æœ‰tabé¡µã€‚
</p>

<p>
é€šè¿‡ <code>M-x tab-bar-new-tab</code> ç”Ÿæˆä¸€ä¸ªçš„ <code>tab-bar</code> ã€‚
</p>

<p>
<code>M-x tab-bar-rename</code> ä¿æŒtab-baråå­—ä¸å˜ï¼Œä¸è·Ÿéšæ–‡ä»¶å˜åŒ– ã€‚
</p>
</div>
</div>
<div id="outline-container-h:persp-tabspaces" class="outline-4">
<h4 id="h:persp-tabspaces"><span class="section-number-4">4.11.2.</span> <code>init-persp.el</code> å·¥ä½œåŒºé—´ <code>tabspaces</code></h4>
<div class="outline-text-4" id="text-h:persp-tabspaces">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> tabspaces
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">use this next line only if you also use straight, otherwise ignore it.</span>
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> (after-init . tabspaces-mode) <span style="color: #b22222;">;; </span><span style="color: #b22222;">use this only if you want the minor-mode loaded at startup.</span>
  <span style="color: #483d8b;">:defer</span> t
  <span style="color: #483d8b;">:commands</span> (tabspaces-switch-or-create-workspace
             tabspaces-open-or-create-project-and-workspace)
  <span style="color: #483d8b;">:custom</span>
  (tabspaces-use-filtered-buffers-as-default t)
  (tabspaces-default-tab <span style="color: #8b2252;">"Default"</span>)
  (tabspaces-remove-to-default t)
  (tabspaces-include-buffers '(<span style="color: #8b2252;">"*scratch*"</span>))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">maybe slow &#20851;&#38381;emacs&#21518;&#33258;&#21160;&#24674;&#22797;&#24037;&#20316;&#31354;&#38388;&#12290;&#24597;&#24433;&#21709;&#24615;&#33021;&#21487;&#20197;&#27880;&#37322;&#25481;</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(tabspaces-session t)</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(tabspaces-session-auto-restore t)</span>
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Filter Buffers for Consult-Buffer</span>

  (<span style="color: #a020f0;">with-eval-after-load</span> 'consult
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">hide full buffer list (still available with "b" prefix)</span>
    (consult-customize consult--source-buffer <span style="color: #483d8b;">:hidden</span> nil <span style="color: #483d8b;">:default</span> nil)
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">set consult-workspace buffer list</span>
    (<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">consult--source-workspace</span>
      (list <span style="color: #483d8b;">:name</span> <span style="color: #8b2252;">"Workspace Buffers"</span>
            <span style="color: #483d8b;">:narrow</span> ?w
            <span style="color: #483d8b;">:history</span> 'buffer-name-history
            <span style="color: #483d8b;">:category</span> 'buffer
            <span style="color: #483d8b;">:state</span> #'consult--buffer-state
            <span style="color: #483d8b;">:default</span> t
            <span style="color: #483d8b;">:items</span> (<span style="color: #a020f0;">lambda</span> () (consult--buffer-query
                               <span style="color: #483d8b;">:predicate</span> #'tabspaces--local-buffer-p
                               <span style="color: #483d8b;">:sort</span> 'visibility
                               <span style="color: #483d8b;">:as</span> #'buffer-name)))

      <span style="color: #8b2252;">"Set workspace buffer list for consult-buffer."</span>)
    (add-to-list 'consult-buffer-sources 'consult--source-workspace)))
</pre>
</div>

<p>
é‡å¯æˆ–æ‰§è¡Œ <code>M-x tabspaces-mode</code> ç”Ÿæ•ˆã€‚
</p>

<p>
<code>C-x b</code> æ‰“å¼€ç¼“å†²åŒºï¼Œå‘ç°å¤šäº†ä¸€ä¸ª <code>Workspace Buffer</code> ï¼Œè¿™é‡Œçš„bufferä¼˜å…ˆä½¿ç”¨ã€‚
</p>


<p>
<b>æŒ‰é”®ç»‘å®š</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(+general-global-menu! <span style="color: #8b2252;">"layout"</span> <span style="color: #8b2252;">"l"</span>
  <span style="color: #8b2252;">"l"</span> 'tabspaces-switch-or-create-workspace
  <span style="color: #8b2252;">"L"</span> 'tabspaces-restore-session
  <span style="color: #8b2252;">"p"</span> 'tabspaces-open-or-create-project-and-workspace
  <span style="color: #8b2252;">"f"</span> 'tabspaces-project-switch-project-open-file
  <span style="color: #8b2252;">"s"</span> 'tabspaces-save-session
  <span style="color: #8b2252;">"B"</span> 'tabspaces-switch-buffer-and-tab
  <span style="color: #8b2252;">"b"</span> 'tabspaces-switch-to-buffer
  <span style="color: #8b2252;">"R"</span> 'tab-rename
  <span style="color: #8b2252;">"TAB"</span> 'tab-bar-switch-to-recent-tab
  <span style="color: #8b2252;">"r"</span> 'tabspaces-remove-current-buffer
  <span style="color: #8b2252;">"k"</span> 'tabspaces-close-workspace)
</pre>
</div>

<p>
<b>å·¥ä½œæµ</b>
</p>

<p>
æ¯ä¸€ä¸ªå·¥ä½œç©ºé—´éƒ½å¯ä»¥æœ‰å¸ƒå±€
</p>



<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-persp done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-persp</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:48550b88-bb99-44c6-a4a3-2442cc2d0443" class="outline-3">
<h3 id="h:48550b88-bb99-44c6-a4a3-2442cc2d0443"><span class="section-number-3">4.12.</span> <code>init-programming.el</code></h3>
<div class="outline-text-3" id="text-h:48550b88-bb99-44c6-a4a3-2442cc2d0443">
</div>
<div id="outline-container-h:c++" class="outline-4">
<h4 id="h:c++"><span class="section-number-4">4.12.1.</span> <code>init-programming.el</code> c++</h4>
<div class="outline-text-4" id="text-h:c++">
</div>
<div id="outline-container-h:c++-eglot" class="outline-5">
<h5 id="h:c++-eglot"><span class="section-number-5">4.12.1.1.</span> <code>init-programming.el</code> ä»£ç ç¼–å†™ <code>eglot</code></h5>
<div class="outline-text-5" id="text-h:c++-eglot">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
ä½¿ç”¨ eglot æ¥ç¼–å†™ã€è¿è¡Œå’Œè°ƒè¯• C/C++ ä»£ç 
</p>

<p>
<b>å®‰è£… mysys2</b>
</p>

<p>
1.ä¸‹è½½ <a href="https://www.msys2.org/">https://www.msys2.org/</a>
</p>

<p>
2.å®‰è£… C/C++ å¿…è¦çš„è½¯ä»¶å·¥å…·
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;c++&#24517;&#35201;&#36719;&#20214; gcc gdb make clang clang-tool</span>
pacman -Syu
pacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-gdb make mingw-w64-x86_64-clang mingw-w64-x86_64-clang-tools-extra
</pre>
</div>

<p>
3.è®¾ç½®ç¯å¢ƒå˜é‡
</p>
<pre class="example" id="org83961fc">
d:\msys64\mingw64\bin
d:\msys64\usr\bin
</pre>

<p>
<b>å®‰è£… eglot(Emacs 29 è‡ªå¸¦ eglot)</b>
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">c++ eglot</span>
(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">eglot</span>)
(add-to-list 'eglot-server-programs '((c++-mode c-mode) <span style="color: #8b2252;">"clangd"</span>))
(add-hook 'c-mode-hook #'eglot-ensure)
(add-hook 'c++-mode-hook #'eglot-ensure)
</pre>
</div>

<p>
æµ‹è¯•ä¸€æ®µc++ä»£ç 
</p>

<p>
<code>~/test.cpp</code>
åœ¨emacsèœå•æ flymakeå¯ä»¥åˆ—å‡ºæ‰€æœ‰é—®é¢˜
</p>

<p>
<b>ä¸€é”®è¿è¡Œä»£ç </b>
</p>

<p>
1.å®‰è£… quickrun:
</p>

<p>
å¯ä»¥è¿è¡Œä»»æ„ä¸€ä¸ªå•æ–‡ä»¶ç¨‹åº
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36816;&#34892;&#20219;&#24847;&#21333;&#25991;&#20214;&#31243;&#24207; &#24555;&#25463;&#38190;F5</span>
(<span style="color: #a020f0;">use-package</span> quickrun
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:commands</span> (quickrun)
  <span style="color: #483d8b;">:init</span>
  (quickrun-add-command <span style="color: #8b2252;">"c++/c1z"</span>
    '((<span style="color: #483d8b;">:command</span> . <span style="color: #8b2252;">"g++"</span>)
      (<span style="color: #483d8b;">:exec</span> . (<span style="color: #8b2252;">"%c -std=c++1z %o -o %e %s"</span>
                <span style="color: #8b2252;">"%e %a"</span>))
      (<span style="color: #483d8b;">:remove</span> . (<span style="color: #8b2252;">"%e"</span>)))
    <span style="color: #483d8b;">:default</span> <span style="color: #8b2252;">"c++"</span>))
(global-set-key (kbd <span style="color: #8b2252;">"&lt;f5&gt;"</span>) 'quickrun)
</pre>
</div>

<p>
<b>ä½¿ç”¨ gdb è°ƒè¯•</b>
</p>

<ol class="org-ol">
<li>è¿è¡Œ <code>M-x compile</code>, è¾“å…¥ g++ -g -o test.o test.cpp #-gç¼–è¯‘æ—¶ç”Ÿæˆè°ƒè¯•ä¿¡æ¯</li>
<li>ä½¿ç”¨ <code>M-x gud-gdb</code> è¾“å…¥ gdb ./test.o</li>
<li>å¸¸ç”¨è°ƒè¯•å‘½ä»¤</li>
</ol>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">name</td>
<td class="org-left">function</td>
</tr>

<tr>
<td class="org-left">list</td>
<td class="org-left">æ˜¾ç¤ºæºä»£ç </td>
</tr>

<tr>
<td class="org-left">break</td>
<td class="org-left">æ–°å¢æ–­ç‚¹ï¼Œ break main, break 12ï¼ˆè¡Œå·ï¼‰</td>
</tr>

<tr>
<td class="org-left">info</td>
<td class="org-left">æŸ¥çœ‹æ–­ç‚¹æˆ–è€…å±€éƒ¨å˜é‡ä¿¡æ¯ info breakpoints, info locals</td>
</tr>

<tr>
<td class="org-left">run</td>
<td class="org-left">å¼€å§‹è°ƒè¯•</td>
</tr>

<tr>
<td class="org-left">next</td>
<td class="org-left">ç±»ä¼¼ step over</td>
</tr>

<tr>
<td class="org-left">step</td>
<td class="org-left">è·³è½¬åˆ°å‡½æ•°å†…éƒ¨</td>
</tr>

<tr>
<td class="org-left">continue</td>
<td class="org-left">ç»§ç»­è¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹</td>
</tr>

<tr>
<td class="org-left">quit</td>
<td class="org-left">é€€å‡ºè°ƒè¯•</td>
</tr>

<tr>
<td class="org-left">watch</td>
<td class="org-left">å†…å­˜æ–­ç‚¹</td>
</tr>

<tr>
<td class="org-left">display</td>
<td class="org-left">ç±»ä¼¼ IDE é‡Œé¢çš„ watch åŠŸèƒ½</td>
</tr>

<tr>
<td class="org-left">break 11 if xxx</td>
<td class="org-left">æ¡ä»¶æ–­ç‚¹</td>
</tr>
</tbody>
</table>


<ul class="org-ul">
<li>list æ˜¾ç¤ºæºä»£ç </li>
<li>break 11 åœ¨ç¬¬11è¡Œæ‰“æ–­ç‚¹</li>
<li>break 12 åœ¨ç¬¬12è¡Œæ‰“æ–­ç‚¹.
<ul class="org-ul">
<li>å¦‚æœæœ‰å‡½æ•°åaddï¼Œä¹Ÿå¯ä»¥ç»™å‡½æ•°ä¸‹æ–­ç‚¹ b add;</li>
<li>æ¡ä»¶æ–­ç‚¹ b 20 if i == 2500 åœ¨ç¬¬20è¡Œiç­‰äºæ—¶åŠ æ–­ç‚¹</li>
</ul></li>
<li>info breakpoints æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯</li>
<li>run è°ƒè¯•ï¼Œç¨‹åºåœåœ¨ç¬¬ä¸€ä¸ªæ–­ç‚¹ä½ç½®</li>
<li>print myVecçš„å€¼</li>
<li>nextä¸‹ä¸€ä¸ª</li>
<li>print myVecçš„å€¼,å‘ç”Ÿå˜åŒ–</li>
<li>continue è¿è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹</li>
</ul>

<pre class="example" id="org7e3208e">
(gdb) list
1	#include&lt;iostream&gt;
2	#include&lt;iterator&gt;
3	#include&lt;vector&gt;
4	
5	using namespace std;
6	
7	int main()
8	{
9	  vector&lt;int&gt; myVec;
10	  myVec.push_back(2);
(gdb) 
11	  myVec.push_back(3);
12	  cout &lt;&lt; "Hello World"&lt;&lt;endl;
13	  
14	  cout &lt;&lt;"vect size: "&lt;&lt;myVec.size() &lt;&lt;endl;
15	  return 0;
16	}
(gdb) break 11
Breakpoint 1 at 0x140001483: file test.cpp, line 11.
(gdb) break 12
Breakpoint 2 at 0x14000149a: file test.cpp, line 12.
(gdb) info breakpoints
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000140001483 in main() at test.cpp:11
2       breakpoint     keep y   0x000000014000149a in main() at test.cpp:12
(gdb) run
Starting program: d:\tmp\emacs\test.o 
[New Thread 7812.0x4d34]
[New Thread 7812.0x4864]
[New Thread 7812.0x3bdc]

Thread 1 hit Breakpoint 1, main () at test.cpp:11
11	  myVec.push_back(3);
(gdb) print myVec
$1 = std::vector of length 1, capacity 1 = {2}
(gdb) next

Thread 1 hit Breakpoint 2, main () at test.cpp:12
12	  cout &lt;&lt; "Hello World"&lt;&lt;endl;
(gdb) print myVec
$2 = std::vector of length 2, capacity 2 = {2, 3}
(gdb) continue
Continuing.
Hello World
vect size: 2
[Thread 7812.0x4d34 exited with code 0]
[Thread 7812.0x4864 exited with code 0]
[Thread 7812.0x3bdc exited with code 0]
[Inferior 1 (process 7812) exited normally]
(gdb) 
</pre>

<p>
ä½¿ç”¨ Treesit + eglot æ¥æ‰“é€ ç°ä»£ç¼–ç¨‹ IDE
</p>

<p>
Emacs29æ–°ç‰¹æ€§ä»‹ç»ï¼š<a href="https://emacs.liujiacai.net/post/031-emacs-29-feature-preview/">https://emacs.liujiacai.net/post/031-emacs-29-feature-preview/</a>
</p>
</div>
</div>
<div id="outline-container-h:c++-treesit-auto" class="outline-5">
<h5 id="h:c++-treesit-auto"><span class="section-number-5">4.12.1.2.</span> <code>init-programming.el</code> è¯­æ³•é«˜äº® <code>treesit-auto</code></h5>
<div class="outline-text-5" id="text-h:c++-treesit-auto">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
<a href="https://github.com/renzmann/treesit-auto">https://github.com/renzmann/treesit-auto</a>
</p>

<p>
è¯­æ³•é«˜äº®, <code>*ts-mode</code> , æ€§èƒ½è¦æ¯”åŸç”Ÿçš„å¥½ã€‚
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">treesit-auto</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35821;&#27861;&#39640;&#20142;, *ts-mode , M-x treesit-auto-install-all</span>
(<span style="color: #a020f0;">use-package</span> treesit-auto
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> treesit-auto-install 'prompt)
  (global-treesit-auto-mode))
</pre>
</div>

<p>
å®‰è£…å®Œä¹‹åè¿è¡Œ <code>M-x treesit-auto-install-all</code> , å®ƒè‡ªåŠ¨ä¸‹è½½ç¼–è¯‘å¥½çš„å„ç§è¯­è¨€ <code>.dll</code> æ–‡ä»¶, æ–‡ä»¶å®‰è£…åœ¨ <code>~/.emacs.d/tree-sitter</code>
</p>

<p>
é‡å¯emacsï¼Œæ‰“å¼€ä¸€ä¸ªc++ç¨‹åºï¼ŒæŸ¥çœ‹å½“å‰çš„ä¸»æ¨¡å¼ <code>C-h v</code> major=mode å¯ä»¥çœ‹åˆ°æ˜¯ <code>c++-ts-mode</code> ï¼Œè€Œä¸æ˜¯åŸå…ˆçš„ <code>c++-mode</code>
</p>

<p>
é»˜è®¤æƒ…å†µä¸‹ï¼Œtreesitä¼šå¯¹æ‰€æœ‰è¯­è¨€åšæ˜ å°„ <code>*ts.mode</code>, å¦‚æœéœ€è¦æŒ‡å®šæŸäº›è¯­è¨€ä¸æ˜ å°„ï¼Œå¯è¿™æ ·å†™
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> treesit-auto
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">progn</span>
  (<span style="color: #a020f0;">setq</span> treesit-font-lock-level 4) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20219;&#24847;&#33021;&#39640;&#20142;&#30340;&#37117;&#39640;&#20142;</span>
  (add-to-list 'major-mode-remap-alist '(c++-mode . c++-ts-mode)) <span style="color: #b22222;">;</span><span style="color: #b22222;">&#25351;&#23450;&#19981;&#26144;&#23556;</span>
  )
  <span style="color: #483d8b;">:config</span>
  (global-treesit-auto-mode)
  )
</pre>
</div>
</div>
</div>
<div id="outline-container-h:c++-consult-imenu" class="outline-5">
<h5 id="h:c++-consult-imenu"><span class="section-number-5">4.12.1.3.</span> <code>init-programming.el</code> è·³è½¬å‡½æ•°åˆ—è¡¨ consult-imenu</h5>
<div class="outline-text-5" id="text-h:c++-consult-imenu">
<p>
åœ¨å­¦ä¹ ç« èŠ‚æåˆ°è¿‡<a href="#org885f096">(ä½¿ç”¨ Treesit + eglot æ¥æ‰“é€ ç°ä»£ç¼–ç¨‹ IDE)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(+general-global-menu! <span style="color: #8b2252;">"search"</span> <span style="color: #8b2252;">"s"</span>
  <span style="color: #8b2252;">"j"</span> 'consult-imenu
  <span style="color: #8b2252;">"p"</span> 'consult-ripgrep
  <span style="color: #8b2252;">"k"</span> 'consult-keep-lines
  <span style="color: #8b2252;">"f"</span> 'consult-focus-lines)
</pre>
</div>

<p>
ä¸Šé¢é…ç½®åœ¨æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:keybindings-general">ï¼ˆ=init-keybindings.el= é”®ä½ç»‘å®š =general=ï¼‰</a>
</p>

<p>
ä¿®æ”¹äº†jå¯¹åº”è‡ªå®šä¹‰äº†my/imenuå‡½æ•°<a href="#h:j-consult">(<code>j-consult.el</code> åº“)</a>
</p>

<p>
èŒƒä¾‹ï¼šè·³è½¬å‡½æ•°åˆ—è¡¨æ“ä½œ
</p>
<ul class="org-ul">
<li><code>SPC s j</code> è·³è½¬å‡½æ•°åˆ—è¡¨</li>
</ul>
</div>
</div>
<div id="outline-container-h:2be86b5f-655e-4bd6-b2a8-c39eb68c690f" class="outline-5">
<h5 id="h:2be86b5f-655e-4bd6-b2a8-c39eb68c690f"><span class="section-number-5">4.12.1.4.</span> <code>init-programming.el</code> æŸ¥æ‰¾å®šä¹‰å’Œå¼•ç”¨</h5>
<div class="outline-text-5" id="text-h:2be86b5f-655e-4bd6-b2a8-c39eb68c690f">
<p>
vim æ¨¡å¼æ˜¯
</p>
<ul class="org-ul">
<li>gd è·³è½¬å‡½æ•°å®šä¹‰</li>
<li>gr æŸ¥æ‰¾å‡½æ•°å¼•ç”¨</li>
<li>C-o è¿”å›</li>
</ul>

<p>
ä½¿ç”¨ ctrl-o è¿”å›
</p>

<pre class="example" id="org51b9c38">
(global-definer
  "gg" 'xref-find-definitions
  "gr" 'xref-find-references
</pre>
</div>
</div>
<div id="outline-container-h:0adb5e48-1781-4780-a991-0ac87c8ae529" class="outline-5">
<h5 id="h:0adb5e48-1781-4780-a991-0ac87c8ae529"><span class="section-number-5">4.12.1.5.</span> <code>init-programming.el</code> æ·»åŠ  snippets æ”¯æŒ</h5>
<div class="outline-text-5" id="text-h:0adb5e48-1781-4780-a991-0ac87c8ae529">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> yasnippet
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> ((prog-mode . yas-minor-mode)
         (org-mode . yas-minor-mode))
  <span style="color: #483d8b;">:init</span>
  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">progn</span>
    (<span style="color: #a020f0;">setq</span> hippie-expand-try-functions-list
          '(yas/hippie-try-expand
            try-complete-file-name-partially
            try-expand-all-abbrevs
            try-expand-dabbrev
            try-expand-dabbrev-all-buffers
            try-expand-dabbrev-from-kill
            try-complete-lisp-symbol-partially
            try-complete-lisp-symbol))))

(<span style="color: #a020f0;">use-package</span> yasnippet-snippets
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> yasnippet)
</pre>
</div>

<p>
è‡ªå®šä¹‰ä»£ç ç‰‡æ®µ
</p>
<ul class="org-ul">
<li><p>
<code>M-x yas-new-snippet</code> åˆ›å»ºæ–°ä»£ç ç‰‡æ®µ
</p>
<pre class="example" id="org15ab6e5">
# -*- mode: snippet -*-
# name: &lt;name&gt;  æŒ‡Snippetçš„åç§°
# key: &lt;key&gt;  æŒ‡Snippetçš„åç§°
# contributor : Jasper Hsu &lt;xcwhome@163.com&gt;  ä½œè€…ä¿¡æ¯
# --
`(message "hello from my yasnippet")`$0
Hello ${1:world)
</pre>

<p>
<code>$0</code> å…‰æ ‡ä½ç½®ï¼Œ <code>$1..n</code> ä½¿ç”¨tab, shift-tabåˆ‡æ¢å ä½ç¬¦ä½ç½®ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤å€¼å¦‚ <code>${1:aa}</code>
</p>

<p>
<code>`()`</code> å¯ä»¥å†™lispè¯­æ³•
</p></li>
<li><code>C-c C-c=å®Œæˆç¼–ç¨‹ï¼Œé€‰æ‹©ç‰‡æ®µç”Ÿæ•ˆçš„æ¨¡å¼ï¼Œä¿å­˜æŒ‡å®šä½ç½® =~/.emacs.d/snippets/&lt;xxx&gt;-mode/&lt;name&gt;</code></li>
<li><code>M-x yas-describe-tables</code> æŸ¥çœ‹</li>
<li><code>M-x yas-visit-snippet-file</code> ç¼–è¾‘</li>
</ul>
</div>
</div>
<div id="outline-container-h:cc34dec7-c21d-47ef-8cc1-519de991bd8d" class="outline-5">
<h5 id="h:cc34dec7-c21d-47ef-8cc1-519de991bd8d"><span class="section-number-5">4.12.1.6.</span> <code>init-programming.el</code> åœ¨å¤´æ–‡ä»¶å’Œæºæ–‡ä»¶ä¹‹é—´è¿›è¡Œè·³è½¬</h5>
<div class="outline-text-5" id="text-h:cc34dec7-c21d-47ef-8cc1-519de991bd8d">
<p>
ff-find-related-file
</p>
</div>
</div>
</div>
<div id="outline-container-h:8c03c26f-8593-46d5-a278-ff1f2d20dbef" class="outline-4">
<h4 id="h:8c03c26f-8593-46d5-a278-ff1f2d20dbef"><span class="section-number-4">4.12.2.</span> <code>init-programming.el</code> python</h4>
<div class="outline-text-4" id="text-h:8c03c26f-8593-46d5-a278-ff1f2d20dbef">
<p>
python-mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> python
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:hook</span> (inferior-python-mode . (<span style="color: #a020f0;">lambda</span> ()
                                  (process-query-on-exit-flag
                                   (get-process <span style="color: #8b2252;">"Python"</span>))))
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Disable readline based native completion</span>
  (<span style="color: #a020f0;">setq</span> python-shell-completion-native-enable nil)
  <span style="color: #483d8b;">:config</span>
  (global-leader
    <span style="color: #483d8b;">:major-modes</span>
    '(python-mode t)
    <span style="color: #b22222;">;;</span><span style="color: #b22222;">and the keymaps:</span>
    <span style="color: #483d8b;">:keymaps</span>
    '(python-mode-map)
    <span style="color: #8b2252;">"e"</span> 'live-py-set-version)
  (<span style="color: #a020f0;">setq</span> python-shell-interpreter <span style="color: #8b2252;">"python3"</span>)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">Live Coding in Python</span>
  (<span style="color: #a020f0;">use-package</span> live-py-mode <span style="color: #483d8b;">:ensure</span> t))
</pre>
</div>

<p>
rust-mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-leader
  <span style="color: #483d8b;">:major-modes</span>
  '(rust-mode t)
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">and the keymaps:</span>
  <span style="color: #483d8b;">:keymaps</span>
  '(rust-mode-map)
  <span style="color: #8b2252;">"="</span> 'rust-format-buffer
  <span style="color: #8b2252;">"c"</span> 'rust-compile
  <span style="color: #8b2252;">"r"</span> 'rust-run
  <span style="color: #8b2252;">"t"</span> 'rust-test)
</pre>
</div>



<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-programming done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-programming</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:696bce89-99d1-4716-80c0-cf1b36844fa8" class="outline-3">
<h3 id="h:696bce89-99d1-4716-80c0-cf1b36844fa8"><span class="section-number-3">4.13.</span> <code>init-keybindings.el</code></h3>
<div class="outline-text-3" id="text-h:696bce89-99d1-4716-80c0-cf1b36844fa8">
</div>
<div id="outline-container-h:keybindings-search-file" class="outline-4">
<h4 id="h:keybindings-search-file"><span class="section-number-4">4.13.1.</span> <code>init-keybindings.el</code> æ–‡ä»¶æœç´¢</h4>
<div class="outline-text-4" id="text-h:keybindings-search-file">
<p>
é…ç½®åˆ’åˆ†æˆä¸åŒæ–‡ä»¶ï¼Œå¥½ä»¥åæ–¹å¼æ–¹ä¾¿æŸ¥æ‰¾
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">config</span>
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25991;&#20214;&#25628;&#32034;</span>
(global-set-key (kbd <span style="color: #8b2252;">"C-c p f"</span>) 'project-find-file) <span style="color: #b22222;">;;   </span><span style="color: #b22222;">&#26597;&#25214;&#25991;&#20214;&#65292;&#40664;&#35748;&#32465;&#23450;&#22312; C-x p f</span>
(global-set-key (kbd <span style="color: #8b2252;">"C-c p s"</span>) 'consult-ripgrep)  <span style="color: #b22222;">;;  </span><span style="color: #b22222;">&#26597;&#25214;&#25991;&#20214;&#20869;&#23481;</span>
</pre>
</div>

<p>
C-c æ˜¯ç»™ç”¨æˆ·å®šä¹‰çš„å¿«æ·é”®ï¼Œp ä»£è¡¨ project ï¼Œ f ä»£è¡¨ find-file
</p>

<p>
consult-ripgrep éœ€è¦å®‰è£… consult å’Œ ripgrep ï¼Œ æ–¹ä¾¿æŸ¥æ‰¾å…³é”®å­—
</p>

<p>
æ“ä½œï¼šå¿«é€Ÿæ‰¾åˆ°æ–‡ä»¶
</p>
<ul class="org-ul">
<li><code>C-c p f</code> é€‰æ‹©ç›®æ ‡ç›®å½•, å›è½¦ å¦‚ <code>~/.emacs.d</code></li>
<li>è¾“å…¥è¦æŸ¥æ‰¾æ–‡ä»¶åå¯¹åº”çš„å…³é”®å­—ç¬¦ï¼Œå³å¯æ‰“å¼€æ–‡ä»¶ã€‚ å¦‚æ‰“å¼€ <code>~/.emacs.d/lisp/init-basic.el</code> æ–‡ä»¶ï¼Œ è¾“å…¥basicå³å¯</li>
</ul>
</div>
</div>
<div id="outline-container-h:keybindings-general" class="outline-4">
<h4 id="h:keybindings-general"><span class="section-number-4">4.13.2.</span> <code>init-keybindings.el</code> é”®ä½ç»‘å®š <code>general</code></h4>
<div class="outline-text-4" id="text-h:keybindings-general">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<p>
generalæ’ä»¶ä¸­global-defineråœ¨init-basic.elä¸­å®šä¹‰<a href="#h:basic-general">(<code>init-basic.el</code> general)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> general
  <span style="color: #483d8b;">:init</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">global-definer &#23545;&#24212;leader&#38190;&#20026;&#31354;&#26684; SPC</span>
  (global-definer
    <span style="color: #8b2252;">"!"</span> 'shell-command                <span style="color: #b22222;">; </span><span style="color: #b22222;">&#31354;&#26684;+! SPC ! &#36827;&#20837;shell&#21629;&#20196;&#34892;</span>
    <span style="color: #8b2252;">"SPC"</span> 'execute-extended-command   <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25353;2&#19979;&#31354;&#26684;SPC-SPC&#23601;&#21487;&#20197;&#23454;&#29616; M-x &#30340;&#25928;&#26524;</span>
    <span style="color: #8b2252;">"TAB"</span> 'spacemacs/alternate-buffer <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC TAB &#22312;&#26368;&#36817;&#30340;2&#20010;buffer&#20043;&#38388;&#20999;&#25442;</span>
    <span style="color: #8b2252;">"'"</span> 'vertico-repeat
    <span style="color: #8b2252;">"+"</span> 'text-scale-increase   <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC + &#25918;&#22823;&#65292;&#30456;&#24403;&#20110;C-x C-+</span>
    <span style="color: #8b2252;">"-"</span> 'text-scale-decrease   <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC - &#32553;&#23567;</span>
    <span style="color: #8b2252;">"u"</span> 'universal-argument    <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC u &#30456;&#24403;&#20110;emacs&#30340;C-u </span>
    <span style="color: #8b2252;">"hdf"</span> 'describe-function   <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC hdf &#30456;&#24403;&#20110;emacs&#30340;C-h f</span>
    <span style="color: #8b2252;">"hdv"</span> 'describe-variable   <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC hdv &#30456;&#24403;&#20110;emacs&#30340;C-h v</span>
    <span style="color: #8b2252;">"hdk"</span> 'describe-key        <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC hdk &#30456;&#24403;&#20110;emacs&#30340;C-h k</span>
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26597;&#30475;&#33258;&#23450;&#20041;&#20989;&#25968;&#24211;j-highlight-global, j-expand-region</span>
    <span style="color: #8b2252;">"hh"</span> 'my/highlight-dwim    <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC hh &#39640;&#20142;&#36873;&#20013;&#21306;&#22495;&#24182;&#26631;&#19978;&#39068;&#33394;</span>
    <span style="color: #8b2252;">"hc"</span> 'my/clearn-highlight  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC hc &#28165;&#38500;&#39640;&#20142;&#39068;&#33394;</span>
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20999;&#25442;&#31383;&#21475;</span>
    <span style="color: #8b2252;">"v"</span> 'er/expand-region      <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC v &#25193;&#22823;&#21306;&#22495;</span>
    <span style="color: #8b2252;">"0"</span> 'select-window-0       <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC 0 &#20999;0&#21495;&#31383;&#21475;</span>
    <span style="color: #8b2252;">"1"</span> 'select-window-1       <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC 1 &#20999;1&#21495;&#31383;&#21475;</span>
    <span style="color: #8b2252;">"2"</span> 'select-window-2
    <span style="color: #8b2252;">"3"</span> 'select-window-3
    <span style="color: #8b2252;">"4"</span> 'select-window-4
    <span style="color: #8b2252;">"5"</span> 'select-window-5
    <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20989;&#25968;&#23450;&#20041;&#12289;&#24341;&#29992;&#36339;&#36716;</span>
    <span style="color: #8b2252;">"gg"</span> 'xref-find-definitions
    <span style="color: #8b2252;">"gr"</span> 'xref-find-references
    )
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23376;&#33756;&#21333;</span>
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">(+general-global-menu! "&lt;name&gt;" "&lt;keyword&gt;" </span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">leader &#38190;&#20026;SPC&#31354;&#26684;&#65292;name&#20026;&#25551;&#36848;&#65292;&#23376;leader&#38190;&#20026;keyword. &#22914; SPC b b&#26597;&#30475;buffer&#32531;&#20914;&#21306;</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">SPC s &#38024;&#23545;&#20989;&#25968;&#21015;&#34920;&#36339;&#36716;&#30340;&#24555;&#25463;&#38190;</span>
  (+general-global-menu! <span style="color: #8b2252;">"search"</span> <span style="color: #8b2252;">"s"</span>
    <span style="color: #8b2252;">"j"</span> 'my/imenu              <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC s j &#20989;&#25968;&#21015;&#34920;&#36339;&#36716;(&#24120;&#29992;)</span>
    <span style="color: #8b2252;">"p"</span> 'consult-ripgrep       <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC s p &#26597;&#25214;&#25991;&#20214;&#20869;&#23481;(&#24120;&#29992;)</span>
    <span style="color: #8b2252;">"k"</span> 'consult-keep-lines    <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC s k &#26597;&#25214;&#30340;&#20869;&#23481;&#35206;&#30422;&#25972;&#20010;&#25991;&#20214;</span>
    <span style="color: #8b2252;">"f"</span> 'consult-focus-lines)  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC s f &#22312;&#36873;&#20013;&#21306;&#22495;&#65292;&#38544;&#34255;&#21305;&#37197;&#23383;&#31526;&#30340;&#34892;. &#20877;&#27425;&#25191;&#34892;&#24674;&#22797;&#26174;&#31034;</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">SPC b &#38024;&#23545;buffer&#32531;&#20914;&#21306;&#30340;&#24555;&#25463;&#38190;</span>
  (+general-global-menu! <span style="color: #8b2252;">"buffer"</span> <span style="color: #8b2252;">"b"</span>
    <span style="color: #8b2252;">"d"</span> 'kill-current-buffer
    <span style="color: #8b2252;">"b"</span> '(consult-buffer <span style="color: #483d8b;">:which-key</span> <span style="color: #8b2252;">"consult buffer"</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC b b &#26597;&#30475;buffer&#32531;&#20914;&#21306;(&#24120;&#29992;)</span>
    <span style="color: #8b2252;">"B"</span> 'switch-to-buffer
    <span style="color: #8b2252;">"p"</span> 'previous-buffer
    <span style="color: #8b2252;">"R"</span> 'rename-buffer
    <span style="color: #8b2252;">"M"</span> '((<span style="color: #a020f0;">lambda</span> () (<span style="color: #a020f0;">interactive</span>) (switch-to-buffer <span style="color: #8b2252;">"*Messages*"</span>)) 
          <span style="color: #483d8b;">:which-key</span> <span style="color: #8b2252;">"messages-buffer"</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC b M&#26597;&#30475;*Message*&#32531;&#20914;&#21306;(&#24120;&#29992; &#37197;&#21512;SPC b b&#24555;&#36895;&#20999;&#25442;)</span>
    <span style="color: #8b2252;">"n"</span> 'next-buffer
    <span style="color: #8b2252;">"i"</span> 'ibuffer
    <span style="color: #8b2252;">"f"</span> 'my-open-current-directory <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC b f &#20174;&#22806;&#37096;&#25171;&#24320;&#24403;&#21069;buffer&#23545;&#24212;&#30340;&#30446;&#24405; </span>
    <span style="color: #8b2252;">"k"</span> 'kill-buffer
    <span style="color: #8b2252;">"y"</span> 'fast/copy-buffer-name
    <span style="color: #8b2252;">"K"</span> 'fast/kill-other-buffers)

  (+general-global-menu! <span style="color: #8b2252;">"layout"</span> <span style="color: #8b2252;">"l"</span>
    <span style="color: #8b2252;">"l"</span> 'tabspaces-switch-or-create-workspace           <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC l l &#20999;&#25442;&#24037;&#20316;&#31354;&#38388;(1)</span>
    <span style="color: #8b2252;">"L"</span> 'tabspaces-restore-session                      <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC l L &#24674;&#22797;&#24037;&#20316;&#31354;&#38388;(5)</span>
    <span style="color: #8b2252;">"p"</span> 'tabspaces-open-or-create-project-and-workspace <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC l p &#25171;&#24320;&#19968;&#20010;&#30446;&#24405;&#24182;&#21019;&#24314;workspace(3)</span>
    <span style="color: #8b2252;">"f"</span> 'tabspaces-project-switch-project-open-file
    <span style="color: #8b2252;">"s"</span> 'tabspaces-save-session                         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC l s &#20445;&#23384;&#24037;&#20316;&#31354;&#38388;(4)</span>
    <span style="color: #8b2252;">"B"</span> 'tabspaces-switch-buffer-and-tab
    <span style="color: #8b2252;">"b"</span> 'tabspaces-switch-to-buffer
    <span style="color: #8b2252;">"R"</span> 'tab-rename                                     <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC l R &#37325;&#21629;&#21517;tab-bar</span>
    <span style="color: #8b2252;">"TAB"</span> 'tab-bar-switch-to-recent-tab                 <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC l TAB &#22312;&#20004;&#20010;&#25384;&#30528;&#26368;&#36817;&#30340;&#31354;&#38388;&#36827;&#34892;&#20999;&#25442;(2)</span>
    <span style="color: #8b2252;">"r"</span> 'tabspaces-remove-current-buffer
    <span style="color: #8b2252;">"k"</span> 'tabspaces-close-workspace)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">SPC f &#38024;&#23545;&#25991;&#20214;&#24555;&#25463;&#38190;</span>
  (+general-global-menu! <span style="color: #8b2252;">"file"</span> <span style="color: #8b2252;">"f"</span>
    <span style="color: #8b2252;">"f"</span> 'find-file               <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC f f &#26597;&#25214;&#25991;&#20214;</span>
    <span style="color: #8b2252;">"r"</span> 'consult-recent-file     <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC f r &#21015;&#20986;&#26368;&#36817;&#25171;&#24320;&#36807;&#30340;&#25991;&#20214;(&#24120;&#29992;)</span>
    <span style="color: #8b2252;">"L"</span> 'consult-locate          <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC f L &#25991;&#20214;&#26597;&#25214;</span>
    <span style="color: #8b2252;">"d"</span> 'consult-dir
    <span style="color: #8b2252;">"ed"</span> 'fast/open-my-init-file
    <span style="color: #8b2252;">"s"</span> 'save-buffer             <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC f s &#20445;&#23384;&#25991;&#20214;</span>
    <span style="color: #8b2252;">"w"</span> 'sudo-edit
    <span style="color: #8b2252;">"S"</span> 'save-some-buffers
    <span style="color: #8b2252;">"j"</span>  'dired-jump             <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC f j &#36339;&#21040;&#30446;&#24405;</span>
    <span style="color: #8b2252;">"y"</span> 'fast/copy-file-name
    <span style="color: #8b2252;">"R"</span> 'my/rename-current-buffer-file
    <span style="color: #8b2252;">"k"</span> 'my/delete-file-and-buffer
    <span style="color: #8b2252;">"!"</span> 'my/exec-shell-on-buffer)

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">SPC w &#38024;&#23545;&#31383;&#21475;&#30340;&#24555;&#25463;&#38190;</span>
  (+general-global-menu! <span style="color: #8b2252;">"window"</span> <span style="color: #8b2252;">"w"</span>
    <span style="color: #8b2252;">"/"</span> 'split-window-right    <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w / &#24038;&#21491;&#20998;&#23631;</span>
    <span style="color: #8b2252;">"-"</span> 'split-window-below    <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w - &#19978;&#19979;&#20998;&#23631;</span>
    <span style="color: #8b2252;">"m"</span> 'delete-other-windows  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w m &#20165;&#20445;&#30041;&#24403;&#21069;&#31383;&#21475;</span>
    <span style="color: #8b2252;">"u"</span> 'winner-undo           <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w u &#36820;&#22238;&#24067;&#23616;</span>
    <span style="color: #8b2252;">"z"</span> 'winner-redo           <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w z &#25764;&#38144;&#36820;&#22238;&#24067;&#23616;&#12290; &#21644;&#36820;&#22238;&#24067;&#23616;&#32467;&#21512;&#23454;&#29616;2&#20010;&#24067;&#23616;&#38388;&#20999;&#25442;</span>
    <span style="color: #8b2252;">"w"</span> 'esw/select-window     <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w w &#36873;&#25321;&#20998;&#23631;&#26041;&#24335; &gt;&#21521;&#21491;&#20998;&#65292;&lt;&#21521;&#24038;&#20998;&#65292;^&#21521;&#19978;&#20998;&#65292;v&#21521;&#19979;&#20998;</span>
    <span style="color: #8b2252;">"s"</span> 'esw/swap-two-windows  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w s &#20132;&#25442;&#31383;&#21475; </span>
    <span style="color: #8b2252;">"d"</span> 'esw/delete-window     <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w d &#21024;&#38500;&#25351;&#23450;&#31383;&#21475;</span>
    <span style="color: #8b2252;">"="</span> 'balance-windows-area  <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w = &#31561;&#23485;&#24067;&#23616;</span>
    <span style="color: #8b2252;">"r"</span> 'esw/move-window
    <span style="color: #8b2252;">"x"</span> 'resize-window         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w x &#35843;&#25972;&#31383;&#21475;&#22823;&#23567;&#12290;&#22914;f&#27700;&#24179;&#21464;&#22823;&#65307;b&#32553;&#23567;&#65307;n&#21521;&#19979;&#25193;&#65307;p&#21521;&#19978;&#25193;&#65307;</span>
    <span style="color: #8b2252;">"H"</span> 'buf-move-left         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w H &#21491;&#36793;&#31383;&#21475;&#24038;&#31227;</span>
    <span style="color: #8b2252;">"L"</span> 'buf-move-right        <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w L &#31383;&#21475;&#21491;&#31227;</span>
    <span style="color: #8b2252;">"J"</span> 'buf-move-down         <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w J &#31383;&#21475;&#19979;&#31227;</span>
    <span style="color: #8b2252;">"K"</span> 'buf-move-up)          <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC w K &#31383;&#21475;&#19978;&#31227;</span>

  <span style="color: #b22222;">;; </span><span style="color: #b22222;">SPC p &#38024;&#23545;&#39033;&#30446;&#30340;&#24555;&#25463;&#38190;</span>
  (+general-global-menu! <span style="color: #8b2252;">"project"</span> <span style="color: #8b2252;">"p"</span>
    <span style="color: #8b2252;">"f"</span> 'project-find-file    <span style="color: #b22222;">; </span><span style="color: #b22222;">SPC p f &#22312;&#39033;&#30446;&#20013;&#24555;&#36895;&#25214;&#21040;&#25991;&#20214;(&#24120;&#29992;)</span>
    <span style="color: #8b2252;">"r"</span> 'consult-recent-file
    <span style="color: #8b2252;">"s"</span> 'project-find-regexp
    <span style="color: #8b2252;">"d"</span> 'project-dired
    <span style="color: #8b2252;">"b"</span> 'consult-project-buffer
    <span style="color: #8b2252;">"e"</span> 'project-eshell
    <span style="color: #8b2252;">"m"</span> 'my/project-run-makefile-target
    <span style="color: #8b2252;">"c"</span> 'project-compile
    <span style="color: #8b2252;">"t"</span> 'my/project-citre
    <span style="color: #8b2252;">"p"</span> 'project-switch-project
    <span style="color: #8b2252;">"i"</span> 'my/project-info
    <span style="color: #8b2252;">"a"</span> 'project-remember-projects-under
    <span style="color: #8b2252;">"x"</span> 'project-forget-project)
  )
</pre>
</div>

<p>
å‚è€ƒé…ç½®ï¼š <a href="https://github.com/zilongshanren/emacs.d/blob/eglot/lisp/init-keybindings.el">https://github.com/zilongshanren/emacs.d/blob/eglot/lisp/init-keybindings.el</a> å®ç°è‡ªå·±çš„æ–‡ä»¶ã€çª—å£ã€é¡¹ç›®å¤šç§å¿«æ·é”®ç»‘å®š
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-keybindings done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-keybindings</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:05e889c3-381b-4d1a-8647-9df6277d8301" class="outline-3">
<h3 id="h:05e889c3-381b-4d1a-8647-9df6277d8301"><span class="section-number-3">4.14.</span> <code>init-funcs.el</code></h3>
<div class="outline-text-3" id="text-h:05e889c3-381b-4d1a-8647-9df6277d8301">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;</span><span style="color: #b22222;">(defun open-init-file()</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">(interactive)</span>
<span style="color: #b22222;">;;  </span><span style="color: #b22222;">(find-file "~/.emacs.d/init.el"))</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#36825;&#19968;&#34892;&#20195;&#30721;&#65292;&#23558;&#20989;&#25968; open-init-file &#32465;&#23450;&#21040; &lt;f4&gt; &#38190;&#19978;</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">(global-set-key (kbd "&lt;f4&gt;") 'open-init-file)</span>


<span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#24555;&#25463;&#20351;&#29992;emacs</span>
(<span style="color: #a020f0;">use-package</span> j-emacs-fast
  <span style="color: #483d8b;">:ensure</span> nil
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:diminish</span>
  <span style="color: #483d8b;">:bind</span> 
  ( <span style="color: #483d8b;">:map</span> global-map
    (<span style="color: #8b2252;">"&lt;f4&gt;"</span> . fast/open-my-init-file) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#24555;&#36895;&#25171;&#24320;&#37197;&#32622;&#25991;&#20214;</span>
    ))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(message <span style="color: #8b2252;">"Load init-funcs done..."</span>)
(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">init-funcs</span>)
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-h:19b981f0-0e13-46d5-b573-9d8e52aefd33" class="outline-2">
<h2 id="h:19b981f0-0e13-46d5-b573-9d8e52aefd33"><span class="section-number-2">5.</span> æˆ‘çš„è‡ªå®šä¹‰åº“(<code>j-lisp/</code>)</h2>
<div class="outline-text-2" id="text-h:19b981f0-0e13-46d5-b573-9d8e52aefd33">
<p>
ä¸€ä¸ªè‡ªå®šä¹‰åº“ä¼šå¯¹æŸä¸€ä¸ªè½¯ä»¶åŒ…åšæ‰©å±•ï¼Œè½¯ä»¶åŒ…é…ç½®æ–‡ä»¶ä¼šåˆ†åˆ«å¼•ç”¨å®ƒä»¬ã€‚
</p>
</div>
<div id="outline-container-h:1ff292d7-21a0-4f9b-a00d-52a6be5ef3f6" class="outline-3">
<h3 id="h:1ff292d7-21a0-4f9b-a00d-52a6be5ef3f6"><span class="section-number-3">5.1.</span> <code>j-simple.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:1ff292d7-21a0-4f9b-a00d-52a6be5ef3f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-simple.el --- Extensions for Consult -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commands</span>

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">General commands</span>

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-simple--mark</span> (bounds)
  <span style="color: #8b2252;">"Mark between BOUNDS as a cons cell of beginning and end positions."</span>
  (push-mark (car bounds))
  (goto-char (cdr bounds))
  (activate-mark))

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">autoload&#36825;&#26159;&#19968;&#20010;&#25991;&#26723;&#23383;&#31526;&#20018;&#30340;&#21069;&#32512;&#65292;&#34920;&#31034;&#36825;&#20010;&#20989;&#25968;&#21487;&#20197;&#36890;&#36807; Emacs &#30340;&#33258;&#21160;&#21152;&#36733;&#26426;&#21046;&#34987;&#21152;&#36733;&#12290;&#24403;&#29992;&#25143;&#22312; Emacs &#21629;&#20196;&#34892;&#20013;&#36755;&#20837;&#20989;&#25968;&#21517;&#26102;&#65292;Emacs &#20250;&#23581;&#35797;&#33258;&#21160;&#21152;&#36733;&#36825;&#20010;&#20989;&#25968;&#30340;&#23450;&#20041;&#12290;</span>
<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-simple-mark-sexp</span> ()
  <span style="color: #8b2252;">"Mark symbolic expression at or near point.</span>
<span style="color: #8b2252;">Repeat to extend the region forward to the next symbolic</span>
<span style="color: #8b2252;">expression. &#36873;&#20013;&#21306;&#22495;"</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">and</span> (region-active-p)
           (eq last-command this-command))
      (<span style="color: #a020f0;">ignore-errors</span> (forward-sexp 1))
    (<span style="color: #a020f0;">when-let</span> ((thing (<span style="color: #a020f0;">cond</span>
                       ((thing-at-point 'url) 'url)
                       ((thing-at-point 'sexp) 'sexp)
                       ((thing-at-point 'string) 'string)
                       ((thing-at-point 'word) 'word))))
      (j-simple--mark (bounds-of-thing-at-point thing)))))

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-simple-keyboard-quit-dwim</span> ()
  <span style="color: #8b2252;">"Do-What-I-Mean behaviour for a general `</span><span style="color: #008b8b;">keyboard-quit</span><span style="color: #8b2252;">'.</span>

<span style="color: #8b2252;">The generic `</span><span style="color: #008b8b;">keyboard-quit</span><span style="color: #8b2252;">' does not do the expected thing when</span>
<span style="color: #8b2252;">the minibuffer is open.  Whereas we want it to close the</span>
<span style="color: #8b2252;">minibuffer, even without explicitly focusing it.</span>

<span style="color: #8b2252;">The DWIM behaviour of this command is as follows:</span>

<span style="color: #8b2252;">- When the region is active, disable it.</span>
<span style="color: #8b2252;">- When a minibuffer is open, but not focused, close the minibuffer.</span>
<span style="color: #8b2252;">- When the Completions buffer is selected, close it.</span>
<span style="color: #8b2252;">- In every other case use the regular `</span><span style="color: #008b8b;">keyboard-quit</span><span style="color: #8b2252;">'."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">cond</span>
   ((region-active-p)
    (keyboard-quit))
   ((derived-mode-p 'completion-list-mode)
    (delete-completion-window))
   ((&gt; (minibuffer-depth) 0)
    (abort-recursive-edit))
   (t
    (keyboard-quit))))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-simple</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-simple.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-consult" class="outline-3">
<h3 id="h:j-consult"><span class="section-number-3">5.2.</span> <code>j-consult.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-consult">
<ul class="org-ul">
<li>æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-consult">(<code>init-completion.el</code> å¢å¼ºæ–‡ä»¶å†…æœç´¢ <code>consult</code>)</a></li>
<li>è·³è½¬å‡½æ•°åˆ—è¡¨ consult-imenup<a href="#h:c++-consult-imenu">(<code>init-programming.el</code> è·³è½¬å‡½æ•°åˆ—è¡¨ consult-imenu)</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-consult.el --- Extensions for Consult -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#37197;&#32622;&#25628;&#32034;&#20013;&#25991;&#25991;&#20214;</span>

(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">consult</span>)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">PC&#25552;&#21069;&#23433;&#35013; everyting &#21450;&#20854;&#23458;&#25143;&#31471;ES. &#21033;&#29992;M-x consult-locate&#25628;&#32034;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22914; #&#23398;&#20064;#.txt</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(progn</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(setq consult-locate-args (encode-coding-string "es.exe -i -p -r" 'gbk))</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">(add-to-list 'process-coding-system-alist '("es" gbk . gbk))</span>
<span style="color: #b22222;">;;   </span><span style="color: #b22222;">)</span>
  (<span style="color: #a020f0;">if</span> (eq system-type 'windows-nt)
      (<span style="color: #a020f0;">progn</span>
        (add-to-list 'process-coding-system-alist '(<span style="color: #8b2252;">"es"</span> gbk . gbk))
        (add-to-list 'process-coding-system-alist '(<span style="color: #8b2252;">"explorer"</span> gbk . gbk))
        (<span style="color: #a020f0;">setq</span> consult-locate-args (encode-coding-string <span style="color: #8b2252;">"es.exe -i -p -r"</span> 'gbk))))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">make consult-ripgrep work &#26377;&#26102;consult-ripgrep&#25628;&#32034;&#19981;&#20102;</span>
(<span style="color: #a020f0;">cond</span>
 <span style="color: #b22222;">;; </span><span style="color: #b22222;">macOS</span>
 ((eq system-type 'darwin)
  <span style="color: #8b2252;">"afplay"</span>)
 <span style="color: #b22222;">;; </span><span style="color: #b22222;">Windows</span>
 ((eq system-type 'windows-nt)
  (add-to-list 'process-coding-system-alist 
               '(<span style="color: #8b2252;">"[rR][gG]"</span> . (utf-8-dos . windows-1251-dos)))
  )
 (t
  <span style="color: #8b2252;">"Nothing"</span>))

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#20989;&#25968;&#23450;&#20041;&#36339;&#36716;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/imenu</span> ()
  <span style="color: #8b2252;">"&#36339;&#36716;&#20989;&#25968;&#21015;&#34920;&#65292;&#24403;&#27169;&#24335;&#20026;org-mode&#36339;&#36716;&#26631;&#39064;&#21015;&#34920;"</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if</span> (eq major-mode #'org-mode)
      (call-interactively #'consult-org-heading)
    (call-interactively #'consult-imenu)))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-consult</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-consult.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-embark" class="outline-3">
<h3 id="h:j-embark"><span class="section-number-3">5.3.</span> <code>j-embark.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-embark">
<p>
æˆ‘çš„emacsæ¨¡å—é…ç½®<a href="#h:completion-embark">(<code>init-completion.el</code> minibufferå¢å¼º <code>embark</code>)</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-embark.el --- Extensions for Embark -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">embark</span>)


<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#25209;&#37327;&#25913;&#20889;; &#37197;&#21512;query-replace-regexp&#23454;&#29616;&#25991;&#26412;&#26367;&#25442;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33539;&#20363;&#65306;&#25209;&#37327;&#26367;&#25442;&#25805;&#20316;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- ~M-x consult-ripgrep~  &#40664;&#35748;&#20250;&#22312;&#20197; git &#20026;&#26681;&#30446;&#24405;&#25628;&#32034;&#12290;&#22914; =#hello= &#65292;&#25628;&#32034;&#21253;&#21547;hello&#23383;&#31526;&#30340;&#25991;&#20214;&#12290; ~C-n/C-p~ &#19979;&#19978;&#25628;&#32034;&#21516;&#26102;&#21487;&#20197;&#39044;&#35272;&#12290;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- ~C-c C-e~ &#25171;&#24320;&#20889;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- ~M-x query-replace-regexp~ &#36755;&#20837;hello &#22238;&#36710;&#65292; &#26367;&#25442;&#20026;hello &#22238;&#36710;&#12290; &#25353; y &#21516;&#24847;&#24403;&#21069;&#34892;&#26367;&#25442;&#65292;n &#19981;&#21516;&#24847;&#20462;&#25913;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- ~C-c C-c~ &#25191;&#34892;&#26367;&#25442;&#65292;&#25353; q &#36864;&#20986;</span>
<span style="color: #b22222;">;; </span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33539;&#20363;&#65306;&#24403;&#21069;buffer&#26367;&#25442;&#25805;&#20316;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- =C-s= &#25628;&#32034;&#65292; &#36755;&#20837;hello</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- =C-c C-e= &#32534;&#36753;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- ~M-x query-replace-regexp~ &#36755;&#20837;&#35201;&#26367;&#25442;&#30340;&#20869;&#23481;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- ~C-c C-c~ &#25191;&#34892;&#26367;&#25442;&#65292;&#25353; q &#36864;&#20986;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/embark-export-write</span>()
 <span style="color: #8b2252;">"Export the current vertico results to a writable buffer if</span>
<span style="color: #8b2252;">possible.Supports exporting</span>
<span style="color: #8b2252;">consult-grep to wgrep, file to</span>
<span style="color: #8b2252;">wdeired, and consult-location to occur-edit."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">embark</span>)
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">wgrep</span>)
  (<span style="color: #a020f0;">pcase-let</span> ((`(,type . ,candidates)
               (run-hook-with-args-until-success 'embark-candidate-collectors)))
    (<span style="color: #a020f0;">pcase</span> type
      ('consult-grep (<span style="color: #a020f0;">let</span> ((embark-after-export-hook #'wgrep-change-to-wgrep-mode))
                       (embark-export)))
      ('file (<span style="color: #a020f0;">let</span> ((embark-after-export-hook #'wdired-change-to-wdired-mode))
               (embark-export)))
      ('consult-location (<span style="color: #a020f0;">let</span> ((embark-after-export-hook #'occur-edit-mode))
                           (embark-export)))
      (x (<span style="color: #ff0000; font-weight: bold;">user-error</span> <span style="color: #8b2252;">"embark category %S doesn't support writable export"</span> x)))))



<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#20351;&#29992; Emacs &#25171;&#24320;windows&#25991;&#20214;&#31649;&#29702;&#22120;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20989;&#25968;&#22312;embark-file-map &#26144;&#23556;&#20026;E</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(define-key embark-file-map (kbd "E") #'consult-directory-externally)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33539;&#20363;: &#24555;&#36895;&#25171;&#24320;&#25991;&#20214;&#25152;&#22312;&#30446;&#24405;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- =M-x my/consult-directory-externally= &#36755;&#20837;&#25991;&#20214;&#36335;&#24452;&#65292;&#22914; =~/.emacs.d/auto-save-list/.saves-2000-JASPER~=</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">- =C-x C-f= &#36873;&#25321;&#25991;&#20214;&#26102;&#65292;&#21487;&#20197;&#29992;embark&#26469;&#25171;&#24320;&#65292; =C;= &#36873;&#25321;E&#65292;&#29992;&#25991;&#20214;&#31649;&#29702;&#22120;&#25171;&#24320;&#23545;&#24212;&#30446;&#24405;&#30340;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/consult-directory-externally</span> (file)
  <span style="color: #8b2252;">"Open FILE externally using the default application of the system."</span>
  (<span style="color: #a020f0;">interactive</span> <span style="color: #8b2252;">"fOpen externally: "</span>)
  (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">and</span> (eq system-type 'windows-nt)
           (fboundp 'w32-shell-execute))
      (shell-command-to-string (encode-coding-string (replace-regexp-in-string <span style="color: #8b2252;">"/"</span> <span style="color: #8b2252;">"\\\\\\\\"</span>
      <span style="color: #b22222;">;;</span><span style="color: #b22222;">(shell-command-to-string (encode-coding-string (replace-regexp-in-string "/" "\\\\"</span>
            (format <span style="color: #8b2252;">"explorer.exe %s"</span> (file-name-directory (expand-file-name file)))) <span style="color: #ff0000; font-weight: bold;">'gbk))</span>
    (call-process (<span style="color: #a020f0;">pcase</span> system-type
                    ('darwin <span style="color: #8b2252;">"open"</span>)
                    ('cygwin <span style="color: #8b2252;">"cygstart"</span>)
                    (_ <span style="color: #8b2252;">"xdg-open"</span>))
                  nil 0 nil
                  (file-name-directory (expand-file-name file)))))

<span style="color: #b22222;">;;</span><span style="color: #b22222;">&#25171;&#24320;&#24403;&#21069;&#25991;&#20214;&#30340;&#30446;&#24405;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/open-current-directory</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (consult-directory-externally default-directory))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-embark</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-embark.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-expand-region" class="outline-3">
<h3 id="h:j-expand-region"><span class="section-number-3">5.4.</span> <code>j-expand-region.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-expand-region">
<ul class="org-ul">
<li>expand-region<a href="#h:tools-expand-region">(<code>init-tools.el</code> expand-region)</a> <a href="#h:j-expand-region">(<code>j-expand-region.el</code> åº“)</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-expand-region.el --- Extensions for expand-region -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">expand-region</span>)

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/search-project-for-symbol-at-point</span> ()
  <span style="color: #8b2252;">"&#26597;&#25214;&#24403;&#21069;&#39033;&#30446;(git&#39033;&#30446;)&#30446;&#24405;&#20013;&#21305;&#37197;&#36873;&#20013;&#23383;&#31526;&#20018;&#30340;&#25991;&#20214;"</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if</span> (use-region-p)
      (<span style="color: #a020f0;">progn</span>
        (consult-ripgrep (project-root (project-current))
                         (buffer-substring (region-beginning) (region-end))))))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-expand-region</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-expand-region.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-evil" class="outline-3">
<h3 id="h:j-evil"><span class="section-number-3">5.5.</span> <code>j-evil.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-evil">
<ul class="org-ul">
<li>evil<a href="#h:evil">(<code>init-evil.el</code>)</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-evil.el --- Extensions for evil -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/evil-quick-replace</span> (beg end )
  <span style="color: #8b2252;">"&#20132;&#20114;&#24335;&#26367;&#25442;&#25991;&#26412;"</span>
  (<span style="color: #a020f0;">interactive</span> <span style="color: #8b2252;">"r"</span>)
  (<span style="color: #a020f0;">when</span> (evil-visual-state-p)
    (evil-exit-visual-state)
    (<span style="color: #a020f0;">let</span> ((selection (regexp-quote (buffer-substring-no-properties beg end))))
      (<span style="color: #a020f0;">setq</span> command-string (format <span style="color: #8b2252;">"%%s /%s//g"</span> selection))
      (<span style="color: #a020f0;">minibuffer-with-setup-hook</span>
          (<span style="color: #a020f0;">lambda</span> () (backward-char 2))
        (evil-ex command-string)))))

<span style="color: #b22222;">;;</span><span style="color: #b22222;">(define-key evil-visual-state-map (kbd "C-r") 'my/evil-quick-replace)</span>

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-evil</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-evil.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-highlight-global" class="outline-3">
<h3 id="h:j-highlight-global"><span class="section-number-3">5.6.</span> <code>j-highlight-global.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-highlight-global">
<p>
åœ¨æˆ‘çš„å­¦ä¹ æ–‡ç« æåˆ°è¿‡(<a href="#h:0ef565c4-904d-4863-9c8b-7462407b2659">æ¨¡å—åˆ—è¡¨</a>)
</p>

<ul class="org-ul">
<li>symbol-overlay &amp; highlight-global<a href="#h:j-highlight-global">(<code>j-highlight-global.el</code> åº“)</a> <a href="#h:tools-highlight-global">(<code>init-tools.el</code> æ–‡æœ¬é«˜äº® <code>symbol-overlay</code> &amp; <code>highlight-global</code>)</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-highlight-global.el --- Extensions for highlight-global -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#36873;&#20013;&#25991;&#26412;&#39640;&#20142;&#65292;general&#25554;&#20214;&#20013;&#20570;&#20102;&#38190;&#20301;&#32465;&#23450;</span>

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/highlight-dwim</span> ()
  <span style="color: #8b2252;">"do what i mean &#22914;&#26524;&#36873;&#20013;&#21306;&#22495;&#35843;&#29992;highlight-frame-toggle&#39640;&#20142;,</span>
<span style="color: #8b2252;">&#27809;&#26377;&#21017;&#35843;&#29992;symbol-overlay&#39640;&#20142;"</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if</span> (use-region-p)
      (<span style="color: #a020f0;">progn</span>
        (highlight-frame-toggle)
        (deactivate-mark))
    (symbol-overlay-put)))

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/clearn-highlight</span> ()
  (<span style="color: #a020f0;">interactive</span>)
  (clear-highlight-frame)
  (symbol-overlay-remove-all))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-highlight-global</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-highlight-global.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-org-download" class="outline-3">
<h3 id="h:j-org-download"><span class="section-number-3">5.7.</span> <code>j-org-download.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-org-download">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-org-download.el --- Extensions for org -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#25130;&#22270;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23558;&#21098;&#20999;&#26495;&#20013;&#20869;&#23481;&#31896;&#36148;&#21040;org&#25991;&#20214;&#20013;</span>

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/org-insert-clipboard-image</span> (width)
  <span style="color: #8b2252;">"&#20445;&#23384;&#30446;&#24405; `</span><span style="color: #008b8b;">foldername</span><span style="color: #8b2252;">'</span>
<span style="color: #8b2252;">&#22270;&#29255;&#21517;&#31216; `</span><span style="color: #008b8b;">imgName</span><span style="color: #8b2252;">'</span>
<span style="color: #8b2252;">&#22270;&#29255;&#26174;&#31034;&#19982;&#20851;&#38381; `</span><span style="color: #008b8b;">org-redisplay-inline-images</span><span style="color: #8b2252;">'</span>
<span style="color: #8b2252;">&#22270;&#29255;&#30340;&#36136;&#37327;&#36319;&#26159;&#21542;&#37319;&#29992;&#21387;&#32553;&#26377;&#20851;"</span>
  (<span style="color: #a020f0;">interactive</span> (list
                (read-string (format <span style="color: #8b2252;">"Input image width, default is 800: "</span>)
                             nil nil <span style="color: #8b2252;">"800"</span>)))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#22270;&#29255;&#23384;&#25918;&#30340;&#25991;&#20214;&#22841;&#20301;&#32622;&#20026; `</span><span style="color: #008b8b;">&#24403;&#21069;Org&#25991;&#20214;&#21516;&#21517;.assets</span><span style="color: #b22222;">'</span>
  (<span style="color: #a020f0;">setq</span> foldername <span style="color: #8b2252;">"./images/"</span>)
  (<span style="color: #a020f0;">if</span> (not (file-exists-p foldername))
      (mkdir foldername))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#22270;&#29255;&#30340;&#25991;&#20214;&#21517;&#65292;&#26684;&#24335;&#20026; `</span><span style="color: #008b8b;">img_&#24180;&#26376;&#26085;_&#26102;&#20998;&#31186;.png</span><span style="color: #b22222;">'</span>
  (<span style="color: #a020f0;">setq</span> srcImgName (concat <span style="color: #8b2252;">"img_"</span> (format-time-string <span style="color: #8b2252;">"%Y%m%d_%H%M%S"</span>) <span style="color: #8b2252;">"_src.png"</span>))
  (<span style="color: #a020f0;">setq</span> imgName (concat <span style="color: #8b2252;">"img_"</span> (format-time-string <span style="color: #8b2252;">"%Y%m%d_%H%M%S"</span>) <span style="color: #8b2252;">".png"</span>))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22270;&#29255;&#25991;&#20214;&#30340;&#30456;&#23545;&#36335;&#24452;</span>
  (<span style="color: #a020f0;">setq</span> srcRelativeFilename (concat <span style="color: #8b2252;">"./images/"</span> srcImgName))
  (<span style="color: #a020f0;">setq</span> relativeFilename (concat <span style="color: #8b2252;">"./images/"</span> imgName))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26681;&#25454;&#19981;&#21516;&#30340;&#25805;&#20316;&#31995;&#32479;&#35774;&#32622;&#19981;&#21516;&#30340;&#21629;&#20196;&#34892;&#24037;&#20855;</span>
  (<span style="color: #a020f0;">cond</span> ((string-equal system-type <span style="color: #8b2252;">"gnu/linux"</span>)
         (shell-command (concat <span style="color: #8b2252;">"xclip -selection clipboard -t image/png -o &gt; "</span> relativeFilename)))
        ((string-equal system-type <span style="color: #8b2252;">"darwin"</span>)
         (shell-command (concat <span style="color: #8b2252;">"pngpaste "</span> relativeFilename)))
        ((string-equal system-type <span style="color: #8b2252;">"windows-nt"</span>)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21407; (shell-command (concat "powershell -command \"Add-Type -AssemblyName System.Windows.Forms;if ($([System.Windows.Forms.Clipboard]::ContainsImage())) {$image = [System.Windows.Forms.Clipboard]::GetImage();[System.Drawing.Bitmap]$image.Save('"relativeFilename "',[System.Drawing.Imaging.ImageFormat]::Png); Write-Output 'clipboard content saved as file'} else {Write-Output 'clipboard does not contain image data'}\""))))</span>
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#31616;&#21333;&#21387;&#32553; (shell-command (concat "powershell -command \"Add-Type -AssemblyName System.Windows.Forms; if ($([System.Windows.Forms.Clipboard]::ContainsImage())) { $image = [System.Windows.Forms.Clipboard]::GetImage(); $image.Save('"srcRelativeFilename "', [System.Drawing.Imaging.ImageFormat]::Png); Write-Output 'Clipboard content saved as file'; &amp; ffmpeg -i "srcRelativeFilename " -q:v 4 -loglevel quiet -y "relativeFilename " } else { Write-Output 'Clipboard does not contain image data' }\""))))</span>
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">(shell-command (concat "powershell -command \"Add-Type -AssemblyName System.Windows.Forms; if ($([System.Windows.Forms.Clipboard]::ContainsImage())) { $image = [System.Windows.Forms.Clipboard]::GetImage(); $image.Save('"srcRelativeFilename "', [System.Drawing.Imaging.ImageFormat]::Png); Write-Output 'Clipboard content saved as file'; &amp; ffmpeg -i "srcRelativeFilename " -q:v 4 -loglevel quiet -y "relativeFilename " ;&amp; Remove-Item -Path "srcRelativeFilename" -Force} else { Write-Output 'Clipboard does not contain image data' }\""))))</span>
         <span style="color: #b22222;">;;</span><span style="color: #b22222;">&#35843;&#33394;&#26495;&#21387;&#32553; (shell-command (concat "powershell -command \"Add-Type -AssemblyName System.Windows.Forms; if ($([System.Windows.Forms.Clipboard]::ContainsImage())) { $image = [System.Windows.Forms.Clipboard]::GetImage(); $image.Save('"srcRelativeFilename "', [System.Drawing.Imaging.ImageFormat]::Png); Write-Output 'Clipboard content saved as file'; ffmpeg -i "srcRelativeFilename " -vf '</span><span style="color: #008b8b;">palettegen=max_colors=256:stats_mode=single</span><span style="color: #b22222;">' -loglevel quiet -y  out_3.png ; ffmpeg -i "srcRelativeFilename " -i out_3.png -lavfi '[0][1:v] paletteuse' -pix_fmt pal8 -loglevel quiet -y "relativeFilename "} else { Write-Output 'Clipboard does not contain image data' }\""))))</span>
         (shell-command (concat <span style="color: #8b2252;">"powershell -command \"Add-Type -AssemblyName System.Windows.Forms; if ($([System.Windows.Forms.Clipboard]::ContainsImage())) { $image = [System.Windows.Forms.Clipboard]::GetImage(); $image.Save('"</span>srcRelativeFilename <span style="color: #8b2252;">"', [System.Drawing.Imaging.ImageFormat]::Png); Write-Output 'Clipboard content saved as file'; ffmpeg -i "</span>srcRelativeFilename <span style="color: #8b2252;">" -vf '</span><span style="color: #008b8b;">palettegen=max_colors=256:stats_mode=single</span><span style="color: #8b2252;">' -loglevel quiet -y  out_3.png ; ffmpeg -i "</span>srcRelativeFilename <span style="color: #8b2252;">" -i out_3.png -lavfi '[0][1:v] paletteuse' -pix_fmt pal8 -loglevel quiet -y "</span>relativeFilename <span style="color: #8b2252;">"; Remove-Item -Path "</span>srcRelativeFilename<span style="color: #8b2252;">" -Force ; Remove-Item -Path out_3.png  -Force} else { Write-Output 'Clipboard does not contain image data' }\""</span>))))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#32473;&#31896;&#36148;&#22909;&#30340;&#22270;&#29255;&#38142;&#25509;&#21152;&#19978;&#23485;&#24230;&#23646;&#24615;&#65292;&#26041;&#20415;&#23548;&#20986;</span>
  (insert (concat <span style="color: #8b2252;">"\n#+DOWNLOADED: screenshot @ "</span>
                  (format-time-string <span style="color: #8b2252;">"%Y-%m-%d %a %H:%M:%S"</span> (current-time))
                  <span style="color: #8b2252;">"\n#+CAPTION: \n#+ATTR_ORG: :width "</span>
                  width
                  <span style="color: #8b2252;">"\n#+ATTR_LATEX: :width "</span>
                  (<span style="color: #a020f0;">if</span> (&gt;= (/ (string-to-number width) 800.0) 1.0)
                      <span style="color: #8b2252;">"1.0"</span>
                    (number-to-string (/ (string-to-number width) 800.0)))
                  <span style="color: #8b2252;">"\\linewidth :float nil\n"</span>
                  <span style="color: #8b2252;">"#+ATTR_HTML: :width "</span>
                  width
                  <span style="color: #8b2252;">"\n[[file:"</span> relativeFilename <span style="color: #8b2252;">"]]\n"</span>))
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#37325;&#26032;&#26174;&#31034;&#19968;&#19979;&#22270;&#29255;</span>
  (org-redisplay-inline-images)
  (message <span style="color: #8b2252;">"OKKKKKK"</span>)
  )

<span style="color: #b22222;">;;</span><span style="color: #b22222;">(global-set-key (kbd "&lt;f2&gt;") 'my/org-insert-clipboard-image)</span>


(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-org-download</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-org-download.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-org" class="outline-3">
<h3 id="h:j-org"><span class="section-number-3">5.8.</span> <code>j-org.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-org">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-org.el --- Extensions for org -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">org-export</span>

(<span style="color: #a020f0;">declare-function</span> org-html-export-as-html <span style="color: #8b2252;">"org"</span>)
(<span style="color: #a020f0;">declare-function</span> org-texinfo-export-to-info <span style="color: #8b2252;">"org"</span>)

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-org-ox-html</span> ()
  <span style="color: #8b2252;">"&#23548;&#20986;&#20026;html</span>
<span style="color: #8b2252;">Streamline HTML export."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (org-html-export-as-html nil nil nil t nil))

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-org-ox-texinfo</span> ()
  <span style="color: #8b2252;">"&#23548;&#20986;Info</span>
<span style="color: #8b2252;">Streamline Info export."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (org-texinfo-export-to-info))

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">org-id</span>

(<span style="color: #a020f0;">declare-function</span> org-id-add-location <span style="color: #8b2252;">"org"</span>)
(<span style="color: #a020f0;">declare-function</span> org-with-point-at <span style="color: #8b2252;">"org"</span>)
(<span style="color: #a020f0;">declare-function</span> org-entry-get <span style="color: #8b2252;">"org"</span>)
(<span style="color: #a020f0;">declare-function</span> org-id-new <span style="color: #8b2252;">"org"</span>)
(<span style="color: #a020f0;">declare-function</span> org-entry-put <span style="color: #8b2252;">"org"</span>)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Original idea:</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;"><a href="https://writequit.org/articles/emacs-org-mode-generate-ids.html">&lt;https://writequit.org/articles/emacs-org-mode-generate-ids.html&gt;</a>.</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-org--id-get</span> ()
  <span style="color: #8b2252;">"&#33719;&#21462;&#24403;&#21069;&#30340;CUSTOM_ID</span>
<span style="color: #8b2252;">Get the CUSTOM_ID of the current entry.</span>
<span style="color: #8b2252;">If the entry already has a CUSTOM_ID, return it as-is, else</span>
<span style="color: #8b2252;">create a new one."</span>
  (<span style="color: #a020f0;">let*</span> ((pos (point))
         (id (org-entry-get pos <span style="color: #8b2252;">"CUSTOM_ID"</span>)))
    (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">and</span> id (stringp id) (string-match-p <span style="color: #8b2252;">"\\S-"</span> id))
        id
      (<span style="color: #a020f0;">setq</span> id (org-id-new <span style="color: #8b2252;">"h"</span>))
      (org-entry-put pos <span style="color: #8b2252;">"CUSTOM_ID"</span> id)
      id)))

(<span style="color: #a020f0;">declare-function</span> org-map-entries <span style="color: #8b2252;">"org"</span>)

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-org-id-headlines</span> ()
  <span style="color: #8b2252;">"&#28155;&#21152;CUSTOM_ID</span>
<span style="color: #8b2252;">Add missing CUSTOM_ID to all headlines in current file."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (org-map-entries
   (<span style="color: #a020f0;">lambda</span> () (j-org--id-get))))

<span style="color: #b22222;">;;;</span><span style="color: #b22222;">###</span><span style="color: #ff0000; font-weight: bold;">autoload</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">j-org-id-headline</span> ()
  <span style="color: #8b2252;">"Add missing CUSTOM_ID to headline at point."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (j-org--id-get))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-org</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-org.el ends here</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:j-emacs-fast" class="outline-3">
<h3 id="h:j-emacs-fast"><span class="section-number-3">5.9.</span> <code>j-emacs-fast.el</code> åº“</h3>
<div class="outline-text-3" id="text-h:j-emacs-fast">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-emacs-fast.el --- Extensions for org -*- lexical-binding: t -*-</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Copyright (C) 2024  Jasper Hsu</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">Author: Jasper Hsu <a href="mailto:xcwhome%40163.com">&lt;xcwhome@163.com&gt;</a></span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">URL: https://xuchangwei.com/lisp/jasper-emacs.html</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Version: 0.1.0</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Package-Requires: ((emacs "30.1"))</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This file is NOT part of GNU Emacs.</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is free software; you can redistribute it and/or modify</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">it under the terms of the GNU General Public License as published by</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">the Free Software Foundation, either version 3 of the License, or (at</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">your option) any later version.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">GNU General Public License for more details.</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">You should have received a copy of the GNU General Public License</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">along with this program.  If not, see <a href="https://www.gnu.org/licenses/">&lt;https://www.gnu.org/licenses/&gt;</a>.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Commentary:</span>
<span style="color: #b22222;">;;</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Remember that every piece of Elisp that I write is for my own</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">educational and recreational purposes.  I do not recommend that</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">you copy any of this if you are not certain of what it does.</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Code:</span>

<span style="color: #b22222;">;;;; </span><span style="color: #b22222;">&#25918;&#32622;&#19968;&#20123;&#24555;&#25463;&#20351;&#29992;emacs&#20989;&#25968;</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">Dos2Unix/Unix2Dos</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">fast/dos2unix</span> ()
  <span style="color: #8b2252;">"Convert the current buffer to UNIX file format."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (set-buffer-file-coding-system 'undecided-unix nil))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">fast/unix2dos</span> ()
  <span style="color: #8b2252;">"Convert the current buffer to DOS file format."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (set-buffer-file-coding-system 'undecided-dos nil))


<span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#25991;&#20214;&#25805;&#20316;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">fast/open-my-init-file</span>()
  <span style="color: #8b2252;">"&#24555;&#36895;&#25171;&#24320;&#20027;&#37197;&#32622;&#25991;&#20214;"</span>
  (<span style="color: #a020f0;">interactive</span>)
  (find-file (expand-file-name <span style="color: #8b2252;">"init.el"</span> user-emacs-directory )))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">fast/copy-file-name</span> ()
  <span style="color: #8b2252;">"&#22797;&#21046;&#25991;&#20214;&#32477;&#23545;&#36335;&#24452;&#65292;&#20351;&#29992; =C-y= &#31896;&#36148;</span>
<span style="color: #8b2252;">Copy the current buffer file name to the clipboard."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">if-let</span> ((filename (<span style="color: #a020f0;">if</span> (equal major-mode 'dired-mode)
                         default-directory
                       (buffer-file-name))))
      (<span style="color: #a020f0;">progn</span>
        (kill-new filename)
        (message <span style="color: #8b2252;">"Copied '</span><span style="color: #008b8b;">%s</span><span style="color: #8b2252;">'"</span> filename))
    (<span style="color: #ff0000; font-weight: bold;">warn</span> <span style="color: #8b2252;">"Current buffer is not attached to a file!"</span>)))

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">buffer&#32531;&#20914;&#21306;</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">fast/copy-buffer-name</span> ()
  <span style="color: #8b2252;">"&#22797;&#21046;&#32531;&#20914;&#21306;&#21517;</span>
<span style="color: #8b2252;">Copy name of the current buffer."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (kill-new (buffer-name)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">fast/kill-other-buffers</span> ()
  <span style="color: #8b2252;">"&#26432;&#25481;&#20854;&#20182;&#32531;&#20914;&#21306;</span>
<span style="color: #8b2252;">Kill all other buffers."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (mapc 'kill-buffer
        (delq (current-buffer)
              (cl-remove-if-not 'buffer-file-name (buffer-list)))))

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#36820;&#22238;&#19978;&#19968;&#20010;buffer</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">spacemacs/alternate-buffer</span> (<span style="color: #228b22;">&amp;optional</span> window)
  <span style="color: #8b2252;">"Switch back and forth between current and last buffer in the</span>
<span style="color: #8b2252;">current window.</span>
<span style="color: #8b2252;">If `</span><span style="color: #008b8b;">spacemacs-layouts-restrict-spc-tab</span><span style="color: #8b2252;">' is `</span><span style="color: #008b8b;">t</span><span style="color: #8b2252;">' then this only switches between</span>
<span style="color: #8b2252;">the current layouts buffers."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">cl-destructuring-bind</span> (buf start pos)
      (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">bound-and-true-p</span> spacemacs-layouts-restrict-spc-tab)
          (<span style="color: #a020f0;">let</span> ((buffer-list (persp-buffer-list))
                (my-buffer (window-buffer window)))
            <span style="color: #b22222;">;; </span><span style="color: #b22222;">find buffer of the same persp in window</span>
            (seq-find (<span style="color: #a020f0;">lambda</span> (it) <span style="color: #b22222;">;; </span><span style="color: #b22222;">predicate</span>
                        (<span style="color: #a020f0;">and</span> (not (eq (car it) my-buffer))
                             (member (car it) buffer-list)))
                      (window-prev-buffers)
                      <span style="color: #b22222;">;; </span><span style="color: #b22222;">default if found none</span>
                      (list nil nil nil)))
        (<span style="color: #a020f0;">or</span> (cl-find (window-buffer window) (window-prev-buffers)
                     <span style="color: #483d8b;">:key</span> #'car <span style="color: #483d8b;">:test-not</span> #'eq)
            (list (other-buffer) nil nil)))
    (<span style="color: #a020f0;">if</span> (not buf)
        (message <span style="color: #8b2252;">"Last buffer not found."</span>)
      (set-window-buffer-start-and-point window buf start pos))))

(<span style="color: #a020f0;">provide</span> '<span style="color: #008b8b;">j-emacs-fast</span>)
<span style="color: #b22222;">;;; </span><span style="color: #b22222;">j-emacs-fast.el ends here</span>
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-h:43ed0760-cc70-475c-9da8-a9caa7f67657" class="outline-2">
<h2 id="h:43ed0760-cc70-475c-9da8-a9caa7f67657"><span class="section-number-2">6.</span> Emacs é…ç½®é—®é¢˜æ’æŸ¥</h2>
<div class="outline-text-2" id="text-h:43ed0760-cc70-475c-9da8-a9caa7f67657">
<p>
é…ç½®æœ€å¥½ç”¨gitç®¡ç†èµ·æ¥ã€‚
</p>
</div>
<div id="outline-container-h:2fee1b0f-3633-4d2c-9301-8b08562a07aa" class="outline-3">
<h3 id="h:2fee1b0f-3633-4d2c-9301-8b08562a07aa"><span class="section-number-3">6.1.</span> é…ç½®æœ‰é—®é¢˜ï¼Œå¯åŠ¨ä¸äº†æ€ä¹ˆåŠï¼Ÿ</h3>
<div class="outline-text-3" id="text-h:2fee1b0f-3633-4d2c-9301-8b08562a07aa">
<div class="org-src-container">
<pre class="src src-sh">emacs-debug &#8211;init
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a95b56f5-efc0-44a0-b9be-1a054b419bde" class="outline-3">
<h3 id="h:a95b56f5-efc0-44a0-b9be-1a054b419bde"><span class="section-number-3">6.2.</span> ä¸èƒ½å®‰è£…åŒ…ï¼Œæç¤ºç­¾åé”™è¯¯</h3>
<div class="outline-text-3" id="text-h:a95b56f5-efc0-44a0-b9be-1a054b419bde">
<p>
Failed to verify signature archive-contents.sig
</p>

<pre class="example" id="org92e15d4">
(setq package-check-signature nil)
</pre>
</div>
</div>
<div id="outline-container-h:1576a87a-4eda-419a-8e88-46629c6044a4" class="outline-3">
<h3 id="h:1576a87a-4eda-419a-8e88-46629c6044a4"><span class="section-number-3">6.3.</span> åŒ…è§£å‹å¤±è´¥ï¼Œ</h3>
<div class="outline-text-3" id="text-h:1576a87a-4eda-419a-8e88-46629c6044a4">
<p>
a pax extended header, åŒ…è§£å‹å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ use-package :vc ç›´æ¥å®‰è£…
</p>

<p>
ä½¿ç”¨ mysys2 çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šä½¿ç”¨ unix çš„ tar å»è§£å‹ä¼šæœ‰é—®é¢˜ windows ä¸Šé¢éœ€è¦ä½¿ç”¨ system32/tar è¿™ä¸ªç¨‹åºå»è§£å‹ã€‚
</p>

<p>
è§£å†³åŠæ³•å¯ä»¥æ˜¯
</p>
<div class="org-src-container">
<pre class="src src-sh">mv /usr/bin/tar /usr/bin/tarbak
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-h:fcadef90-7310-40d6-aaa0-de74737e0940" class="outline-2">
<h2 id="h:fcadef90-7310-40d6-aaa0-de74737e0940"><span class="section-number-2">7.</span> ä¼˜åŒ–æ€§èƒ½ï¼Œå€Ÿé‰´å…¶ä»–äººçš„é…ç½®</h2>
<div class="outline-text-2" id="text-h:fcadef90-7310-40d6-aaa0-de74737e0940">
<p>
how to Profile performace
</p>
</div>
<div id="outline-container-h:558eed58-5e30-476b-acd3-ad1a46949b1b" class="outline-3">
<h3 id="h:558eed58-5e30-476b-acd3-ad1a46949b1b"><span class="section-number-3">7.1.</span> è¿è¡Œæ—¶æ€§èƒ½</h3>
<div class="outline-text-3" id="text-h:558eed58-5e30-476b-acd3-ad1a46949b1b">
<ul class="org-ul">
<li><code>M-x profiler-start</code> é€‰æ‹©cpu+mem</li>
<li>å¤ç°å¡çš„æ“ä½œã€‚æ¯”å¦‚å…‰æ ‡ç§»åŠ¨å¡é¡¿ï¼Œåå¤é‡ç°</li>
<li><code>M-x profiler-report</code> æ‰“å¼€æŠ¥å‘Šï¼Œåˆ†æ</li>
</ul>
</div>
</div>
<div id="outline-container-h:da6bbc1a-043f-45e9-8aca-f565c8454588" class="outline-3">
<h3 id="h:da6bbc1a-043f-45e9-8aca-f565c8454588"><span class="section-number-3">7.2.</span> åº¦é‡å¯åŠ¨æ€§èƒ½</h3>
<div class="outline-text-3" id="text-h:da6bbc1a-043f-45e9-8aca-f565c8454588">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">use-package</span> benchmark-init
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:demand</span> t
  <span style="color: #483d8b;">:config</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">To disable collection of benchmark data after init is done.</span>
  (add-hook 'after-init-hook 'benchmark-init/deactivate))
</pre>
</div>

<ul class="org-ul">
<li><code>benchmark-init/show-durations-tree</code> æ ‘çŠ¶å±•ç¤ºè€—æ—¶</li>
<li><code>benchmark-init/show-durations-tabulated</code> æ’åºå±•ç¤ºï¼Œ é¼ æ ‡ç‚¹å‡»å­—æ®µè¿›è¡Œæ’åºã€‚ åˆ†æ</li>
</ul>

<p>
å¯åŠ¨æ—¶é—´
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">efs/display-startup-time</span> ()
  (message <span style="color: #8b2252;">"&#21551;&#21160;&#21152;&#36733;&#26102;&#38388;Emacs loaded in %s with %d garbage collections."</span>
           (format <span style="color: #8b2252;">"%.2f seconds"</span>
                   (float-time
                   (time-subtract after-init-time before-init-time)))
           gcs-done))

(add-hook 'emacs-startup-hook #'efs/display-startup-time)
</pre>
</div>

<p>
å‡å°gcæ¬¡æ•°
</p>
<ul class="org-ul">
<li>åœ¨å¼€å§‹åŠ è½½æ—¶gcè®¾ç½®å¤§äº›ï¼ŒåŠ è½½å®Œæˆågcè°ƒå°</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">beginning of init.el</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">The default is 800 kilobytes.  Measured in bytes.</span>
(<span style="color: #a020f0;">setq</span> gc-cons-threshold (* 50 1000 1000))

<span style="color: #b22222;">;; </span><span style="color: #b22222;">................</span>

<span style="color: #b22222;">;;; </span><span style="color: #b22222;">end of init.el</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">Make gc pauses faster by decreasing the threshold.</span>
(<span style="color: #a020f0;">setq</span> gc-cons-threshold (* 2 1000 1000))
</pre>
</div>

<p>
ä¸è¦åŠ è½½ä»»ä½•åŒ…è£¹ï¼ 
</p>

<p>
use-package å“ªäº›æ“ä½œå¯ä»¥ä¼˜åŒ–æ€§èƒ½, å‡ ç§ä¸åŒçš„æ–¹æ³•æ¥å»¶è¿ŸåŒ…åŠ è½½ï¼š
</p>
<ul class="org-ul">
<li>:hook - é¦–æ¬¡è°ƒç”¨å…¶ä¸­ä¸€ä¸ªé’©å­æ—¶ï¼Œå°†åŠ è½½åŒ…</li>
<li>:bind - é¦–æ¬¡ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªé”®ç»‘å®šæ—¶ï¼Œå°†åŠ è½½åŒ…</li>
<li>:commands - å½“ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªå‘½ä»¤æ—¶ï¼Œå°†åŠ è½½åŒ…</li>
<li>:mode - é¦–æ¬¡æ‰“å¼€å…·æœ‰ç‰¹å®šæ‰©å±•åçš„æ–‡ä»¶æ—¶ï¼Œå°†åŠ è½½åŒ…</li>
<li>:after - åœ¨å…¶ä»–ç‰¹å®šåŒ…åŠ è½½ååŠ è½½æ­¤åŒ…</li>
<li>:defer - å¦‚æœæ‚¨ä¸ä½¿ç”¨ä»»ä½•å…¶ä»–é€‰é¡¹ï¼Œåˆ™æ­¤é€‰é¡¹å°†å»¶è¿ŸåŠ è½½åˆ°å¯åŠ¨å</li>
</ul>

<p>
<a href="https://systemcrafters.net/emacs-from-scratch/cut-start-up-time-in-half/">https://systemcrafters.net/emacs-from-scratch/cut-start-up-time-in-half/</a>
</p>
</div>
</div>
<div id="outline-container-h:d923bc80-6e8b-4832-b177-156188d0cdad" class="outline-3">
<h3 id="h:d923bc80-6e8b-4832-b177-156188d0cdad"><span class="section-number-3">7.3.</span> å€Ÿé‰´å¤§ä½¬çš„é…ç½®ï¼Œä½œä¸ºæ¡†æ¶</h3>
<div class="outline-text-3" id="text-h:d923bc80-6e8b-4832-b177-156188d0cdad">
<p>
ç¤¾åŒºé…ç½®
</p>

<p>
Spacemacs &amp; DoomEmacs
</p>

<p>
ä¸ªäººé…ç½®
</p>
<ul class="org-ul">
<li><a href="https://github.com/purcell/emacs.d">https://github.com/purcell/emacs.d</a></li>
<li><a href="https://github.com/bbatsov/prelude">https://github.com/bbatsov/prelude</a></li>
<li><a href="https://github.com/bbatsov/prelude">https://github.com/bbatsov/prelude</a></li>
<li><a href="https://github.com/seagle0128/.emacs.d">https://github.com/seagle0128/.emacs.d</a></li>
<li><a href="https://github.com/zilongshanren/emacs.d">https://github.com/zilongshanren/emacs.d</a> ï¼ˆå­é¾™å±±äººï¼‰</li>
</ul>
</div>
</div>
<div id="outline-container-h:33962756-e6d0-4b81-887d-cd51a76eded0" class="outline-3">
<h3 id="h:33962756-e6d0-4b81-887d-cd51a76eded0"><span class="section-number-3">7.4.</span> å°æŠ€å·§ï¼š</h3>
<div class="outline-text-3" id="text-h:33962756-e6d0-4b81-887d-cd51a76eded0">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#36820;&#22238;&#19978;&#19968;&#20010;buffer</span>
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">spacemacs/alternate-buffer</span> (<span style="color: #228b22;">&amp;optional</span> window)
  <span style="color: #8b2252;">"Switch back and forth between current and last buffer in the</span>
<span style="color: #8b2252;">current window.</span>
<span style="color: #8b2252;">If `</span><span style="color: #008b8b;">spacemacs-layouts-restrict-spc-tab</span><span style="color: #8b2252;">' is `</span><span style="color: #008b8b;">t</span><span style="color: #8b2252;">' then this only switches between</span>
<span style="color: #8b2252;">the current layouts buffers."</span>
  (<span style="color: #a020f0;">interactive</span>)
  (<span style="color: #a020f0;">cl-destructuring-bind</span> (buf start pos)
      (<span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">bound-and-true-p</span> spacemacs-layouts-restrict-spc-tab)
          (<span style="color: #a020f0;">let</span> ((buffer-list (persp-buffer-list))
                (my-buffer (window-buffer window)))
            <span style="color: #b22222;">;; </span><span style="color: #b22222;">find buffer of the same persp in window</span>
            (seq-find (<span style="color: #a020f0;">lambda</span> (it) <span style="color: #b22222;">;; </span><span style="color: #b22222;">predicate</span>
                        (<span style="color: #a020f0;">and</span> (not (eq (car it) my-buffer))
                             (member (car it) buffer-list)))
                      (window-prev-buffers)
                      <span style="color: #b22222;">;; </span><span style="color: #b22222;">default if found none</span>
                      (list nil nil nil)))
        (<span style="color: #a020f0;">or</span> (cl-find (window-buffer window) (window-prev-buffers)
                     <span style="color: #483d8b;">:key</span> #'car <span style="color: #483d8b;">:test-not</span> #'eq)
            (list (other-buffer) nil nil)))
    (<span style="color: #a020f0;">if</span> (not buf)
        (message <span style="color: #8b2252;">"Last buffer not found."</span>)
      (set-window-buffer-start-and-point window buf start pos))))
</pre>
</div>

<p>
æŒ‰é”®ç»‘å®šï¼š
</p>

<pre class="example" id="orgb0e9039">
"TAB" 'spacemacs/alternate-buffer
</pre>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>æ‰“èµ</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Â© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
