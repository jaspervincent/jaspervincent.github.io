<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs: latex-emacs从零开始</title>
<meta name="description" content="Emacs: latex-emacs从零开始" />
<meta name="keywords" content="计算机, 语言, lisp, emacs" />
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Emacs: latex-emacs从零开始</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:891ea1ea-2e0b-425b-82a1-7da33d6cf569">入门简介</a>
<ul>
<li><a href="#h:65d73e5c-74ea-4365-b504-d6836eaceafa">Latex 初体验</a>
<ul>
<li><a href="#h:7c7a0326-90f2-4b38-8fd1-44348df79625">Latex 的优势</a></li>
<li><a href="#h:9ed4fe03-d1f3-4467-8282-dc58c3aa9c13">安装 Latex 发行版</a>
<ul>
<li><a href="#h:63e6c297-0760-46e3-a2b5-8e6d5afe67d8">window 安装</a></li>
<li><a href="#h:31cf71e9-730d-4156-ab25-44f1a17cec6a">Mac</a></li>
</ul>
</li>
<li><a href="#h:56ec91ae-4767-4930-ad71-c87f48df91fc">编写简单 Tex 文档</a></li>
<li><a href="#h:48e56e44-bf5c-4c57-84ee-9c3f084dcabb">编译生成 PDF</a></li>
</ul>
</li>
<li><a href="#h:d59ccf41-fef9-4dea-8aec-0970995b3011">中文支持</a>
<ul>
<li><a href="#h:81c0d8e6-d282-4cbc-b0a1-883c157b62a1">使用工具pdf文件：sumartraPDF</a></li>
<li><a href="#h:7a5a8c2a-01cf-45d5-9b9e-c79b4a482f7e">文本编辑器： 使用 emacs 打开 tex 文档</a>
<ul>
<li><a href="#h:f5db1e42-09b6-4182-89cd-4b781936f9f1">emacs安装</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:ad735e32-15be-444b-bb49-e7c0f97c65bd">emacs界面及tax文档编译</a>
<ul>
<li><a href="#h:852b5ec9-1c85-4097-b205-25819358cd99">emacs 界面</a></li>
<li><a href="#h:8d2eb931-fe10-47f5-b5f6-f964463d35e6">emacs 中 tex 文档编译</a></li>
</ul>
</li>
<li><a href="#h:8464c192-88d5-4284-ba8a-8e89fc88f7b7">数学公式输入</a>
<ul>
<li><a href="#h:6f2366b4-7665-4dd4-a20a-433113aef66a">行内公式</a></li>
<li><a href="#h:e8eddf6a-753b-4a3a-9d8b-086d1da9020d">行间公式</a></li>
<li><a href="#h:5ce3c31d-566c-4e42-84c1-61dca474bcb3">加入空格</a></li>
<li><a href="#h:b49a9d2d-d1de-4aa5-ad2f-4990caf9536e">点与省略号及上下标</a></li>
<li><a href="#h:28b49323-d083-481e-b517-dfbb3895167e">根号和分式</a></li>
<li><a href="#h:0bb30e2b-dff7-476d-8428-b58fc4c5f38d">数学函数</a></li>
<li><a href="#h:c1fbfbb5-8b75-4121-b9a3-87709297d366">括号</a></li>
<li><a href="#h:0dfb23aa-0f10-48da-8016-10de144c6d02">重音符号</a></li>
<li><a href="#h:b9d67a66-c2a7-4b14-9657-23ddba1ff7a2">数学/文本字体</a></li>
<li><a href="#h:15a73629-1e3a-4aa2-bcb0-c26837fafa9f">常见帮助文档</a></li>
</ul>
</li>
<li><a href="#h:caadf858-1f5f-4d64-a45a-93c5e8e3a6ba">TeX文档结构</a>
<ul>
<li><a href="#h:4ef02dd0-088f-4bdc-a4b7-e58c674822bb">标题、作者和日期</a></li>
<li><a href="#h:b44c1494-5ef1-4edb-ac85-c72f607c9f24">插入章节</a></li>
<li><a href="#h:2766d1cc-600d-4384-9e2d-68e602dab40c">目录和书签</a></li>
<li><a href="#h:a9e82e85-0a73-4b1e-ba59-126a596d1a0e">outline 模式及 AucTex 简介</a>
<ul>
<li><a href="#h:e5202ca4-01f9-4af3-8e7f-d655dc6bcb82">outline 模式</a></li>
<li><a href="#h:203ed82d-8830-47d5-b02b-9313f154648a">emacs 插件包 AucTeX</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:a9024dc6-b071-47c5-924d-7fba922baa5b">交叉引用</a>
<ul>
<li><a href="#h:cb2a11fe-7af5-438b-b8ce-bb4cb4cd3f8a">小技巧-交换Ctrl键与Caps键</a></li>
<li><a href="#h:a357c209-dbb2-4a24-91e1-52bdf7e130f7">交叉引用</a></li>
<li><a href="#h:73f6ef7c-c762-43f9-ad95-ad40c936ce92">插入章节、页码编号</a></li>
</ul>
</li>
<li><a href="#h:b7b11ae5-7c9a-495b-afb5-e53ce86a1db0">列表、表格与图片环境</a>
<ul>
<li><a href="#h:f664ef7d-bac6-49e9-a461-15ee99357044">环境插入命令</a></li>
<li><a href="#h:ddac977e-9ccc-4478-b9cf-f513b5160fcf">列表环境</a></li>
<li><a href="#h:f25f0388-c017-4d8b-b3ca-e6996e6df411">插入表格</a></li>
<li><a href="#h:9dba50ef-bc40-49be-a88f-a31db81e5ad5">插入图片</a>
<ul>
<li><a href="#h:f99a5a09-1b1f-4f9c-b4cf-a02928df2043">插入tikz</a></li>
<li><a href="#h:3aab584d-fed2-483a-9373-f3c02046e982">小技巧-用draft选项减少编译时间</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:f6f23d50-0e67-47ae-a2c3-1c37eff6ca0a">进阶技巧</a>
<ul>
<li><a href="#h:33488f7c-c445-4923-812d-4f4693dbd773">区域选择与操作</a>
<ul>
<li><a href="#h:87370d04-37b5-4491-8165-36ff0ec8902b">区域编译及注释</a></li>
<li><a href="#h:14f0c82d-85bb-42cc-8c67-3232bd85ed10">emacs 中选中区域</a></li>
<li><a href="#h:9712521c-c3d8-4e11-a208-f675a73189cd">中断与撤消</a></li>
<li><a href="#h:56c5fed9-5523-4fea-9832-6359d8d66553">emacs 中的光标移动</a></li>
<li><a href="#h:9e17ee9a-af7c-43e1-b111-959d66c08aab">emacs 中的剪切、复制与粘贴</a></li>
</ul>
</li>
<li><a href="#h:625dfd09-9a68-4a7a-926f-22aac20f96b9">cdLaTeX简介</a></li>
<li><a href="#h:d5335a4a-8d78-46ec-9197-c4701e4b1a20">RefTex之交叉引用</a></li>
<li><a href="#h:64666976-89d0-4a6d-95ae-ae8219940757">cdLaTeX自定义设置</a>
<ul>
<li><a href="#h:2a1e3481-e9e8-40a5-a5a1-d848c042c0fe">增改反引号对应数学符号快捷键</a></li>
<li><a href="#h:e0a9d88c-6e63-4ae5-b68d-2565a7f9a86c">增改单引号对应(数学)字体快捷键</a></li>
<li><a href="#h:a0b7d4c9-fe40-44d8-a956-b7346d17a6bb">括号匹配</a></li>
<li><a href="#h:b7d1aa2c-1c45-42da-85a1-60c4c2068fda">自定义补全命令</a>
<ul>
<li><a href="#h:54f2d1af-c717-4b44-9a59-9615e206b45b">补全命令-数学公式</a></li>
<li><a href="#h:1e6a1311-5dd4-4369-a41b-dad625658c2f">补全命令-插入环境</a></li>
<li><a href="#h:40bde1eb-2767-48dd-92f6-7819605e90b3">环境模板设置</a></li>
<li><a href="#h:2efb7770-a235-4d4d-a105-286e3ccd0dc2">实例-方程组的快速插入</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:a7caa526-b185-487e-8cfc-9838e8bcaeb8">自定义定理环境</a>
<ul>
<li><a href="#h:f99b0126-8dd2-4460-b402-4cfce1de6d4f">自定义定理环境</a></li>
<li><a href="#h:d1e0d7ce-5adf-478e-ad6c-5752e0d18d07">reftex 设置新的标签类型</a></li>
</ul>
</li>
<li><a href="#h:c5d266a5-adfa-4e58-8bfd-3f127e805047">所见即所得之Preview-latex</a></li>
<li><a href="#h:6081abdd-b534-41bf-8153-f220ec1f6a0f">Outline Mode简介</a></li>
<li><a href="#h:6271c519-c8a0-49ef-beb4-2794656b5e61">PDF预览正向与逆向搜索</a></li>
<li><a href="#h:21eb8110-a00c-4342-93da-5a785526b273">TeX-fold代码折叠</a></li>
<li><a href="#h:892dfafb-79c5-4fb6-8eb9-d663b1464cae">参考文献、多文件和排错</a>
<ul>
<li><a href="#h:765b5b7f-2e60-4dc4-b9dc-0c873fad2fc9">参考文献</a>
<ul>
<li><a href="#h:fa7fbed4-2b11-4e05-94a7-3965ae131b06">如何添加参考文献</a></li>
<li><a href="#h:dc44c56f-efe0-4c8c-825b-fe12ffcf2a30">生成参考文献</a></li>
<li><a href="#h:791a6e33-8448-4fb3-bef7-dd818c75cf8a">清理编译产生的辅助文件</a></li>
</ul>
</li>
<li><a href="#h:887d36f0-ed85-4cdc-8f82-096d2864fed0">多文件处理</a></li>
<li><a href="#h:6414421d-fabf-430b-9798-45d92eff9749">排错</a></li>
</ul>
</li>
<li><a href="#h:059d6959-da43-47d5-8188-64bd9d634e02">特别篇-交换图表</a>
<ul>
<li><a href="#h:3e867c4c-174a-4d0e-96e6-9b58df890eba">入门</a></li>
<li><a href="#h:63ff1437-5535-4cd5-b4d7-e9d481aca1a3">注入灵魂-调整箭头</a></li>
<li><a href="#h:088a81d9-0017-4777-9af6-2bec26430352">画图流程-进阶</a></li>
<li><a href="#h:3f42b057-b51f-4959-91e7-923e8b1e6d28">常见错误</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:6ebc3725-e59f-477b-833d-c255c2da2d1c">更多小技巧</a>
<ul>
<li><a href="#h:afefc35e-9ee6-40f1-8c17-4bf06d506afb">引子-5分钟说明用emacs写latex</a></li>
<li><a href="#h:f38a6393-73dd-4deb-8af1-400a7679c6f6">新手Emacs快速配置与插件管理</a>
<ul>
<li><a href="#h:ad1d114c-363e-448e-9591-5b4c6b1bcab9">Emacs 安装</a>
<ul>
<li><a href="#h:8733d2f4-f780-4c44-82fa-4fe35f6cd22d">Linux</a></li>
<li><a href="#h:4cf080ab-3d64-4b42-a639-3d893c8a07d8">MacOS</a></li>
<li><a href="#h:17ddcb17-8134-4eb5-8eef-ac4aa718cf07">Windows</a></li>
</ul>
</li>
<li><a href="#h:0709e075-c4d9-4a1d-a86c-bf8e9aed84c0">安装 Emacs 后的额外设置</a></li>
<li><a href="#h:80358987-f2d3-463a-ad53-a1dbddeffbd9">多版本emacs启动</a></li>
<li><a href="#h:19e6e379-0b9e-4140-996d-e8bebef94d20">Emacs 基本知识讲解与必知快捷键</a>
<ul>
<li><a href="#h:ee665705-5c4c-4ecb-a32d-f5f8d30cd814">中止命令与撤销命令</a></li>
<li><a href="#h:c6e75cbd-687d-439f-a4f0-1ab8afa96238">文件与窗口相关命令</a></li>
<li><a href="#h:16b3cda5-66c0-4e52-9339-c4a74fe36fb7">帮助命令</a></li>
<li><a href="#h:3b350e39-7744-4695-9396-815e5745f941">复制/剪切/粘贴</a></li>
</ul>
</li>
<li><a href="#h:b4914f55-52f6-4909-a5a9-6a46378612ab">Emacs 插件管理</a>
<ul>
<li><a href="#h:cb221472-0f13-4fe8-b497-b7a946cb286a"><code>package.el</code> 设置示例</a></li>
<li><a href="#h:8b3aa8b0-475e-4365-94d7-b9212874b639"><code>straight.el</code> 设置示例</a></li>
</ul>
</li>
<li><a href="#h:40b1cd0e-725b-48dd-84f4-c8d07092ab85">推荐插件</a>
<ul>
<li><a href="#h:6311c237-7729-428a-95f9-6de320b2426d">安装插件的方法</a></li>
<li><a href="#h:07d9cf30-0848-440d-8b71-3ab900ffdf93">更快熟悉 emacs</a></li>
<li><a href="#h:26217d61-7d61-4de6-ab17-cc409963629b">更好的补全界面</a></li>
</ul>
</li>
<li><a href="#h:a11e5e50-fca1-48df-8754-bdd178875e07">开始用emacs写LaTex</a></li>
</ul>
</li>
<li><a href="#h:8389c942-5bf6-4d87-a349-8e84b0f6f700">附录1-emacs最强内置pdf阅读功能pdf-tools简介</a>
<ul>
<li><a href="#h:616f0b19-37d8-46bc-a4c8-2d2f328a07ca">使用 <code>pdf-tools</code> 的理由</a></li>
<li><a href="#h:862371e6-b622-485a-88a4-a26db3b88756"><code>pdf-tools</code> 的优点</a></li>
<li><a href="#h:62daa29e-5491-4841-b951-0cd58f457251">演示</a></li>
<li><a href="#h:ded96e05-c594-45f1-95f3-9d1b79e0375e">安装流程</a>
<ul>
<li><a href="#h:9662e52b-a896-402f-9653-f95b25469fb5">Emacs 包的安装</a></li>
<li><a href="#h:491f3678-75a3-4afa-bb16-795df60a0b4a"><code>epdfinfo</code> 的安装</a></li>
</ul>
</li>
<li><a href="#h:65365aa3-74cf-4b8f-89c9-ee494573603a">基本配置</a>
<ul>
<li><a href="#h:2da769ad-8482-4972-8748-593e12d978ab">启动 <code>pdf-tools</code></a></li>
<li><a href="#h:b8136e69-c0bd-4e26-aaad-ce31aafca052">配合 <code>AucTeX</code> 使用的配置</a></li>
</ul>
</li>
<li><a href="#h:97e7d59c-2f48-4779-83ad-e1e5415d5295">操作与个性化: 移动</a></li>
<li><a href="#h:1a383ded-b9ce-414d-b1e3-d3ed006c88bb">操作与个性化-批注</a></li>
<li><a href="#h:af00624a-e548-44a0-9f4d-5b6999726e6e">操作与个性化-文档跳转</a></li>
<li><a href="#h:74e235d6-f68a-4743-baad-687d9e7517f5">操作与个性化-放缩</a></li>
<li><a href="#h:4d54670f-e6fe-41a8-90e3-beb602f99f39">其它可能出现的 bug</a>
<ul>
<li><a href="#h:0a3ac31b-696c-4ef0-a437-38787881808c">无法进行高亮-划线等</a></li>
<li><a href="#h:e1197536-0fa7-4604-b96d-acf169c04975">形同 <code>(invalid-function pdf-view-current-page)</code> 的错误信息</a></li>
</ul>
</li>
<li><a href="#h:e953cf9b-e2d0-44aa-8e0b-7248850dcbb1">完整配置</a></li>
<li><a href="#h:7b07a7c8-b1e0-4b06-9deb-7ad0639d335c">相关资源</a></li>
</ul>
</li>
<li><a href="#h:50dd8609-4e01-4dca-9cf0-982bdb862237">附录2-如何优雅地预览数学公式(prettify-symbols-mode)</a>
<ul>
<li><a href="#h:ce990adf-f40b-4266-b373-dd461b14d512">所见即所得的实现方式</a>
<ul>
<li><a href="#h:baa74a9f-9be9-450d-939e-949b49d1b1b2">pdf 文件预览: 正向与逆向搜索</a></li>
<li><a href="#h:6b5514a1-5e07-497a-a62d-000f5be7f0f7">使用 <code>preview-latex</code></a></li>
<li><a href="#h:13eade1d-4662-45cc-a06f-6b0015c3eb3a">使用 <code>prettify-symbols-mode</code></a></li>
</ul>
</li>
<li><a href="#h:b0a57210-7287-49dc-af6b-a0c8623f9cb9">如何设置</a>
<ul>
<li><a href="#h:3a8b3d98-4b9b-48e4-9e1a-714c7c57c15d">临时打开</a></li>
<li><a href="#h:d83ae0c9-5e14-4108-a1fb-6203d1312c60"><code>init.el</code> 文件设置</a></li>
<li><a href="#h:b6bbbae1-db47-4d46-94ac-7f9bc4792199">字体设置</a></li>
<li><a href="#h:18943232-6e85-4fa0-bf97-79b5ad6ef530">自动展开</a></li>
</ul>
</li>
<li><a href="#h:c39fd737-e1f6-47cd-9ccc-621dbd16fd2a">加入自己的符号</a></li>
<li><a href="#h:e2cb32e4-c69e-4e93-bb67-08839125c435">LaTeX 相关设置汇总</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:9c60eecd-4696-41da-b328-2b11ab7110ad">emacs上搭建终生个人知识库</a>
<ul>
<li><a href="#h:dd3de6b9-0484-4fb6-b735-114b213412e1">org-noter配置使用</a>
<ul>
<li><a href="#h:7b63b1c4-ca5b-4e0d-a72d-3d33b05fe51e">org-noter 是什么?</a></li>
<li><a href="#h:9aacc4f7-3e1a-4267-95ed-74c00be43c17">选择 org-noter 的理由</a></li>
<li><a href="#h:ed0685c9-d4e3-4a95-a001-0d0eae05e5a5">安装</a></li>
<li><a href="#h:ff72f03b-a59e-4ded-a36c-915729bee0d8">基本操作</a>
<ul>
<li><a href="#h:003d10df-3222-45de-81e4-01f137180c05">打开 <code>org-noter</code></a></li>
<li><a href="#h:fbd23a74-47f3-4aa4-9062-bd3e5eac1e49">大纲导入及 <code>org-mode</code> 基本操作</a></li>
<li><a href="#h:e249c5c0-cd07-4a90-b701-8ab51baf1700">插入笔记</a></li>
<li><a href="#h:2691e700-4e39-4d68-a3fc-482903b7a661">位置同步</a></li>
</ul>
</li>
<li><a href="#h:27358173-d474-486d-9644-9aa2554c2aac">高级设置</a>
<ul>
<li><a href="#h:e3929c85-5973-40fa-82c1-d107e202f429">默认笔记目录</a></li>
<li><a href="#h:9d38fc35-5456-417b-940a-148532748290">自动保存上次位置</a></li>
<li><a href="#h:98613a53-4553-4d10-b3d4-86ecc6bb7353">选中文字后插入笔记自动高亮</a></li>
<li><a href="#h:1df63afc-4030-481b-afa6-bbde5ae23e0c">长文本和短文本</a></li>
<li><a href="#h:a193bb90-990e-4d10-b065-7ddfe2cc3e13">修改快捷键</a></li>
<li><a href="#h:91762969-087a-470d-9fd3-b322d1408793">代码汇总</a></li>
</ul>
</li>
<li><a href="#h:76da4863-5f39-4145-829a-b6d311e3e09d">LaTeX 公式</a></li>
<li><a href="#h:42f64eb8-22ca-434a-83b7-0577e20753ce">截图功能</a></li>
</ul>
</li>
<li><a href="#h:db39e03d-927c-47e7-8b05-4076ab0dfbab">什么是双链笔记与org-roam初始体验</a>
<ul>
<li><a href="#h:c5a0d63e-23ed-4464-9f7d-1ee007023b76">什么是笔记?</a></li>
<li><a href="#h:33919bf5-356d-4f09-b857-ab1f16abd456">信息提取</a></li>
<li><a href="#h:e07eb5fe-e397-47f2-a118-9dc0884a1b87">传统笔记的局限性</a></li>
<li><a href="#h:803980d3-13ff-47e6-b4f2-e9b4062904c5">理想的笔记模型</a></li>
<li><a href="#h:de7ba321-d5d3-443e-ae8a-c738c19f8761">为什么选择 <code>org-roam</code></a>
<ul>
<li><a href="#h:29025c0c-2a99-42a1-9a23-48ce271b8421">我个人的笔记需求</a></li>
<li><a href="#h:9e9ce931-921b-4d12-826b-a7125f560688">笔记软件比较</a></li>
</ul>
</li>
<li><a href="#h:828fbd93-d6ec-4d36-967a-264da0c6bb75">个人知识库的构建</a></li>
<li><a href="#h:23a70a8f-792e-4d13-830d-150a44a1ae0e">主要内容</a></li>
<li><a href="#h:4a203fc2-10f3-490c-a2a7-4f8ecebb810e">org-roam 安装</a></li>
<li><a href="#h:308b8480-7395-43c4-81f5-83f00fba4bd6">基本设置</a></li>
<li><a href="#h:cb44de56-81b8-4698-b598-3ee4b11ddc3a">创建笔记及链接</a></li>
<li><a href="#h:b2b4f81f-5d81-4b01-b765-4e74395ebdd8">优化 minibuffer 补全界面</a></li>
<li><a href="#h:19a72626-654d-48c1-837e-838375fa30ae">同步</a></li>
<li><a href="#h:125312ec-c908-467c-a430-4973bfa88e75">结语</a></li>
</ul>
</li>
<li><a href="#h:e3bdca2b-d096-49de-92c0-657357e13257">zotero很简单实用的科研文献管理</a>
<ul>
<li><a href="#h:0dd6879d-0795-4bde-ba14-93c17b561e12">历史</a></li>
<li><a href="#h:8607f218-96d6-475c-8aaf-97e425fe1b70">安装</a></li>
<li><a href="#h:5b872085-0737-42b5-b423-fc9a3f5ad478">软件界面</a></li>
<li><a href="#h:06140b87-38f6-4156-9781-011464097657">基本使用方法</a></li>
<li><a href="#h:ef474a18-cc24-4109-8af2-06ffbde4cefe">向 Zotero 中加入文献</a></li>
<li><a href="#h:806f54fd-37c9-4f76-9b97-5d56ff9b69b7">功能小结</a></li>
<li><a href="#h:f4fd35d6-6eca-458b-8766-b5ff85af50cc">插件安装方法</a></li>
<li><a href="#h:c6531986-9c0d-409b-97a6-926996ee9566"><code>Better BibTex</code> 设置</a></li>
<li><a href="#h:d5743d10-043d-42a8-bb6f-8f85e979175c"><code>Zotfile</code> 同步设置</a></li>
<li><a href="#h:93172027-2ee2-49fe-87ce-6c8e7db32939">结语</a></li>
</ul>
</li>
<li><a href="#h:c1452d1c-7224-40a8-9cbb-fbb8981ffdd5">如何把zotero整合到org-roam笔记流</a>
<ul>
<li><a href="#h:c620765d-5e04-4df9-b515-29e060cbf838">前言</a>
<ul>
<li><a href="#h:4138c562-8532-429d-9798-618d2e8be56b">为什么不用 Zotero 做笔记?</a></li>
<li><a href="#h:a0579bcc-9c29-46bc-8fb6-329631d45b4f">为什么不用 Emacs 管理文献?</a></li>
</ul>
</li>
<li><a href="#h:3bdebcff-c1f0-442e-a3d7-20a006f3c3f4">工作流程示例</a></li>
<li><a href="#h:eb4390da-2326-43f0-8d04-cbcb4e735db0">用到的 Emacs 插件</a></li>
<li><a href="#h:6ef80391-7c20-4748-a936-bbf4261ec869">代码</a>
<ul>
<li><a href="#h:d476c59d-ca1e-4029-b083-784499c4f9af"><code>helm-bibtex</code> / <code>ivy-bibtex</code> 相关设置</a></li>
<li><a href="#h:bf7b13bf-5b85-4e84-87a1-50768f5266ac"><code>org-roam-bibtex</code> 设置</a></li>
</ul>
</li>
<li><a href="#h:23a56a7f-68e8-4160-8707-871b9ed28682"><code>helm-bibtex</code> 搜索指南</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:f703a27e-e1cb-492a-820e-8c0b851fe891">参考</a></li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../index.html">Emacs</a></li>
</ul>
<section id="outline-container-h:891ea1ea-2e0b-425b-82a1-7da33d6cf569" class="outline-2">
<h2 id="h:891ea1ea-2e0b-425b-82a1-7da33d6cf569">入门简介</h2>
<div class="outline-text-2" id="text-h:891ea1ea-2e0b-425b-82a1-7da33d6cf569">
</div>
<div id="outline-container-h:65d73e5c-74ea-4365-b504-d6836eaceafa" class="outline-3">
<h3 id="h:65d73e5c-74ea-4365-b504-d6836eaceafa">Latex 初体验</h3>
<div class="outline-text-3" id="text-h:65d73e5c-74ea-4365-b504-d6836eaceafa">
</div>
<div id="outline-container-h:7c7a0326-90f2-4b38-8fd1-44348df79625" class="outline-4">
<h4 id="h:7c7a0326-90f2-4b38-8fd1-44348df79625">Latex 的优势</h4>
<div class="outline-text-4" id="text-h:7c7a0326-90f2-4b38-8fd1-44348df79625">
<ul class="org-ul">
<li>高效美观地生成数学公式符号</li>
<li>文档更结构化：交叉引用、自动编号等</li>
</ul>

<p>
结论：更省心、效果更好
</p>
</div>
</div>
<div id="outline-container-h:9ed4fe03-d1f3-4467-8282-dc58c3aa9c13" class="outline-4">
<h4 id="h:9ed4fe03-d1f3-4467-8282-dc58c3aa9c13">安装 Latex 发行版</h4>
<div class="outline-text-4" id="text-h:9ed4fe03-d1f3-4467-8282-dc58c3aa9c13">
<p>
官方地址：<a href="https://www.tug.org/texlive/">https://www.tug.org/texlive/</a>
</p>
</div>
<div id="outline-container-h:63e6c297-0760-46e3-a2b5-8e6d5afe67d8" class="outline-5">
<h5 id="h:63e6c297-0760-46e3-a2b5-8e6d5afe67d8">window 安装</h5>
<div class="outline-text-5" id="text-h:63e6c297-0760-46e3-a2b5-8e6d5afe67d8">
<p>
点 Dowload : <a href="https://www.tug.org/texlive/acquire-netinstall.html">https://www.tug.org/texlive/acquire-netinstall.html</a>
</p>

<p>
来到安装包的下载界面打开exe的文件 nstall-tl-windows.exe  下载。
</p>

<p>
双击简单安装，之后弹出安装界面，所有选项基本上默认就可以了。
</p>

<ul class="org-ul">
<li>第3页，纸张大小A4；取消勾选texwork前端，个人觉得不好用</li>
</ul>



<figure id="org33d6fb5">
<img src="./images/img_20240608_180012.png" alt="img_20240608_180012.png" width="50%">

</figure>
</div>
</div>
<div id="outline-container-h:31cf71e9-730d-4156-ab25-44f1a17cec6a" class="outline-5">
<h5 id="h:31cf71e9-730d-4156-ab25-44f1a17cec6a">Mac</h5>
<div class="outline-text-5" id="text-h:31cf71e9-730d-4156-ab25-44f1a17cec6a">
<p>
Mac 需要安装 mactex
</p>

<p>
<a href="https://www.tug.org/mactex/">https://www.tug.org/mactex/</a>
</p>


<p>
BibDesk：参考文献管理工具
</p>

<p>
LaTeXiT：数学公式编辑工具
</p>

<p>
TeX Live Utility：LaTeX更新工具
</p>

<p>
TeXShop：LaTeX排版编辑工具
</p>
</div>
</div>
</div>
<div id="outline-container-h:56ec91ae-4767-4930-ad71-c87f48df91fc" class="outline-4">
<h4 id="h:56ec91ae-4767-4930-ad71-c87f48df91fc">编写简单 Tex 文档</h4>
<div class="outline-text-4" id="text-h:56ec91ae-4767-4930-ad71-c87f48df91fc">
<ul class="org-ul">
<li>创建工作目录</li>
<li>创建空白文本文件，.tex后缀名结尾，如test.tex</li>
<li>记事本打开.tex文件</li>
</ul>

<p>
输入代码: 必不可少的结构
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}

\begin{document}

Hello world!

\end{document}
</pre>
</div>

<p>
保存文件内容
</p>
</div>
</div>
<div id="outline-container-h:48e56e44-bf5c-4c57-84ee-9c3f084dcabb" class="outline-4">
<h4 id="h:48e56e44-bf5c-4c57-84ee-9c3f084dcabb">编译生成 PDF</h4>
<div class="outline-text-4" id="text-h:48e56e44-bf5c-4c57-84ee-9c3f084dcabb">
<ul class="org-ul">
<li>打开命令行</li>
</ul>

<p>
window用户可以在所在目录
</p>
<ul class="org-ul">
<li>方法1：按 Shift 加 右键打开 powershell</li>
<li>方法2：在输入框输入 cmd</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">pdflatex test.tex
</pre>
</div>

<p>
可以看到在文件来中多出来几个文件，是在编译过程中产生的辅助文件
</p>
<div class="org-src-container">
<pre class="src src-sh">&gt; ls
test.aux        test.log        test.pdf          test.tex
</pre>
</div>

<p>
tex文件内以空行作为分段，无论多少空行也只相当于一个空行。如
</p>

<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}

\begin{document}

Hello world!

This is a cat.

\end{document}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:d59ccf41-fef9-4dea-8aec-0970995b3011" class="outline-3">
<h3 id="h:d59ccf41-fef9-4dea-8aec-0970995b3011">中文支持</h3>
<div class="outline-text-3" id="text-h:d59ccf41-fef9-4dea-8aec-0970995b3011">
<div class="org-src-container">
<pre class="src src-sh">\documentclassp[UTF8]{ctexart}

\begin{document}

&#36825;&#26159;&#19968;&#21477;&#20013;&#25991;
Hello world!

\end{document}
</pre>
</div>

<ul class="org-ul">
<li>将 {article} 改为支持中文的 [UTF8]{ctexart} 所有字符以utf8形式编码</li>
<li>同时文件按 utf8 的形式保存，保存为编码选 UTF-8，保存</li>
<li>导出pfd文件，使用命令 <code>pdflatex test.tex</code> , 默认导出为宋体。</li>
</ul>

<p>
上面方法适合 windows 用户
</p>

<p>
mac windows 都适用的代码
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{CJKutf8}

\begin{document}

\begin{CJK}{UTF8}{gbsn}

&#20320;&#22909;
Hello world!

\end{CJK}

\begin{CJK}{UTF8}{gkai}

&#20877;&#35265;
Hello world!

\end{CJK}

\end{document}
</pre>
</div>

<p>
编译
</p>
<div class="org-src-container">
<pre class="src src-sh">pdflatex &#25991;&#20214;&#21517;.tex
</pre>
</div>


<figure id="orga74aa7e">
<img src="./images/Snipaste_2023-06-10_10-03-30.png" alt="Snipaste_2023-06-10_10-03-30.png" width="60%">

</figure>
</div>
<div id="outline-container-h:81c0d8e6-d282-4cbc-b0a1-883c157b62a1" class="outline-4">
<h4 id="h:81c0d8e6-d282-4cbc-b0a1-883c157b62a1">使用工具pdf文件：sumartraPDF</h4>
<div class="outline-text-4" id="text-h:81c0d8e6-d282-4cbc-b0a1-883c157b62a1">
<p>
适用于windows用户
</p>

<p>
开源免费，支持同步展示修改的 pdf文件，这样就不用关闭再打开pdf文件了。
</p>

<p>
下载地址: <a href="https://www.sumatrapdfreader.org/download-free-pdf-viewer">https://www.sumatrapdfreader.org/download-free-pdf-viewer</a>
</p>

<p>
我这里下载的是 64-bit SumatraPDF-3.5.2-64-install.exe
</p>

<p>
安装后，点pdf文件右键选择 <code>打开方式 --&gt; 选择其他应用 --&gt; 选择sumartraPDF 始终选择这个软件打开pdf文件</code> 。
</p>
</div>
</div>
<div id="outline-container-h:7a5a8c2a-01cf-45d5-9b9e-c79b4a482f7e" class="outline-4">
<h4 id="h:7a5a8c2a-01cf-45d5-9b9e-c79b4a482f7e">文本编辑器： 使用 emacs 打开 tex 文档</h4>
<div class="outline-text-4" id="text-h:7a5a8c2a-01cf-45d5-9b9e-c79b4a482f7e">
<p>
可以高亮latex代码
</p>
</div>
<div id="outline-container-h:f5db1e42-09b6-4182-89cd-4b781936f9f1" class="outline-5">
<h5 id="h:f5db1e42-09b6-4182-89cd-4b781936f9f1">emacs安装</h5>
<div class="outline-text-5" id="text-h:f5db1e42-09b6-4182-89cd-4b781936f9f1">
<ul class="org-ul">
<li>下载地址: <a href="https://www.gnu.org/software/emacs/download.html">https://www.gnu.org/software/emacs/download.html</a></li>
<li>下载后直接解压可用</li>
<li>可以将整个文件来放入c:\Program Files\ 中</li>
<li><p>
使用 emacs 打开tex文件
</p>

<p>
tex 文件右键打开方式，选择以 emacs 方式始终打开
</p></li>

<li><p>
设置 emacs 字体、字号
</p>

<p>
因为我们会面临中文和英文混排的问题，为了提高emacs处理效率，需要把字体改为中文的字体，如楷体。编辑文本看到是的楷体，但编译后文件还是以宋体显示
</p>

<ul class="org-ul">
<li>Options &#x2013;&gt; Set Default Font</li>
<li>Options &#x2013;&gt; Save Options</li>
</ul></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-h:ad735e32-15be-444b-bb49-e7c0f97c65bd" class="outline-3">
<h3 id="h:ad735e32-15be-444b-bb49-e7c0f97c65bd">emacs界面及tax文档编译</h3>
<div class="outline-text-3" id="text-h:ad735e32-15be-444b-bb49-e7c0f97c65bd">
</div>
<div id="outline-container-h:852b5ec9-1c85-4097-b205-25819358cd99" class="outline-4">
<h4 id="h:852b5ec9-1c85-4097-b205-25819358cd99">emacs 界面</h4>
<div class="outline-text-4" id="text-h:852b5ec9-1c85-4097-b205-25819358cd99">
<p>
用emacs打开一个tex文件，除本身文件外下面还多了带*星号的辅助文件，如 <code>*GNU Emacs*</code> 是一个欢迎界面。
</p>

<ul class="org-ul">
<li>查看所有buffer： 点击菜单栏中的buffer</li>

<li>切换buffer
<ul class="org-ul">
<li>方法1： 菜单中点击 buffer</li>
<li>方法2：鼠标左键或右键点击状态栏的文件名，向前或向后切换buffer。甚至可以切到同一个文件不同光标位置，进行修改操作。</li>
</ul></li>

<li>窗口大小：
<ul class="org-ul">
<li>鼠标在状态栏，上下拖动</li>
</ul></li>

<li>窗口关闭：
<ul class="org-ul">
<li>方法1：鼠标停在状态栏，右键</li>
<li>方法2：菜单栏选择 Remove Other Windows 只保留当前buffer，New Window Below 水平</li>
<li>方法3：鼠标滚轮按住状态栏，拖动</li>
<li>方法4：快捷键 C-x 1</li>
</ul></li>

<li>主题：
<ul class="org-ul">
<li>Options &#x2013;&gt; Customize Emacs &#x2013;&gt; Custom Themes &#x2013;&gt; tango-dark</li>
<li>保存 Save Theme Settings 再状态栏文件切换buffer</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:8d2eb931-fe10-47f5-b5f6-f964463d35e6" class="outline-4">
<h4 id="h:8d2eb931-fe10-47f5-b5f6-f964463d35e6">emacs 中 tex 文档编译</h4>
<div class="outline-text-4" id="text-h:8d2eb931-fe10-47f5-b5f6-f964463d35e6">
<p>
正常我们是在命令行终端输入 <code>pdflatex test.tex</code> 进行编译。emacs 也可以编译tex文档。 
</p>

<p>
emacs中修改文件后 <code>C-x C-s</code> 保存，编译latex文件使用 <code>C-c C-c</code> 输入： <code>pdflatex test.tex</code> 回车
</p>

<ul class="org-ul">
<li>方法2：因为是pdflatex 直接回车</li>
<li>方法3：还可以在命令提示符按向上键，找到上次运行的命令，</li>
<li>方法4：也可以按 Tab 鼠标点击之前执行的命令</li>
<li>方法5：输入 pdflatex 名称前缀 tab补全</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:8464c192-88d5-4284-ba8a-8e89fc88f7b7" class="outline-3">
<h3 id="h:8464c192-88d5-4284-ba8a-8e89fc88f7b7">数学公式输入</h3>
<div class="outline-text-3" id="text-h:8464c192-88d5-4284-ba8a-8e89fc88f7b7">
<p>
在latex中插入数学公式必须在数学环境中进行。
</p>
<ul class="org-ul">
<li>行内公式</li>
<li>行间公式</li>
</ul>

<p>
把所有的数学符号放到数学环境中。
</p>
</div>
<div id="outline-container-h:6f2366b4-7665-4dd4-a20a-433113aef66a" class="outline-4">
<h4 id="h:6f2366b4-7665-4dd4-a20a-433113aef66a">行内公式</h4>
<div class="outline-text-4" id="text-h:6f2366b4-7665-4dd4-a20a-433113aef66a">
<p>
使用2个美元符号$包裹
</p>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}

\begin{CJK}{UTF8}{gbsn}

  3.&#35774;&#26354;&#32447;$<span style="color: #a0522d;">L</span>$<span style="color: #a0522d;">&#26159;&#31354;&#38388;&#21306;&#22495;</span>$<span style="color: #a0522d;">0</span> \le x \le 1$,$<span style="color: #a0522d;">0</span> \le y \le 1$, $<span style="color: #a0522d;">0</span> \le z \le 1$<span style="color: #a0522d;">&#30340;&#34920;&#38754;&#19982;&#24179;&#38754;</span>
  $<span style="color: #a0522d;">x</span>+y+<span style="color: #a0522d;">z</span> = \frac{3}{2}$<span style="color: #a0522d;">&#30340;&#20132;&#32447;</span>&#65292;&#21017;
  $| \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| = $

&#20320;&#22909;
Hello world!

\end{CJK}

\begin{CJK}{UTF8}{gkai}

  &#20877;&#35265;
  sflj
Hello world!

\end{CJK}

\end{document}
</pre>
</div>


<figure id="orgdb0bd36">
<img src="./images/Snipaste_2023-06-16_14-12-17.png" alt="Snipaste_2023-06-16_14-12-17.png" width="80%">

</figure>
</div>
</div>
<div id="outline-container-h:e8eddf6a-753b-4a3a-9d8b-086d1da9020d" class="outline-4">
<h4 id="h:e8eddf6a-753b-4a3a-9d8b-086d1da9020d">行间公式</h4>
<div class="outline-text-4" id="text-h:e8eddf6a-753b-4a3a-9d8b-086d1da9020d">
<pre class="example" id="org960f05a">
\begin{equation*}
公式
  \end{equation*}
</pre>

<p>
同时必须使用美国数学会的宏包 amsmath
</p>

<pre class="example" id="orgeff50b0">
\usepackage{amsmath}
</pre>

<p>
一般来说行间公式比行内公式大一些
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}

\begin{CJK}{UTF8}{gbsn}

  3.&#35774;&#26354;&#32447;$<span style="color: #a0522d;">L</span>$<span style="color: #a0522d;">&#26159;&#31354;&#38388;&#21306;&#22495;</span>$<span style="color: #a0522d;">0</span> \le x \le 1$,$<span style="color: #a0522d;">0</span> \le y \le 1$, $<span style="color: #a0522d;">0</span> \le z \le 1$<span style="color: #a0522d;">&#30340;&#34920;&#38754;&#19982;&#24179;&#38754;</span>
  $<span style="color: #a0522d;">x</span>+y+<span style="color: #a0522d;">z</span> = \frac{3}{2}$<span style="color: #a0522d;">&#30340;&#20132;&#32447;</span>&#65292;&#21017;
  $| \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| = $



  \begin{equation*}
    | \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| =
    \end{equation*}

  $<span style="color: #a0522d;">aaaaa</span>           bbb  ccc ddd$

  Hello world

  &#36825;&#26159;&#19968;&#21477;&#20013;&#25991;

  &#26032;&#21326;&#31038;&#12290;
  &#25253;&#36947;&#12290;
\end{CJK}

\end{document}
</pre>
</div>



<figure id="org2d12ebd">
<img src="./images/img_20240609_000729.png" alt="img_20240609_000729.png" width="90%">

</figure>


<p>
一个latex命令只有遇到 <code>空格</code> 或者 <code>数字</code> 或者 <code>标点符号</code> 才会终止识别。
</p>

<p>
行内公式和行间公式尽量不要插入换行，避免破坏emacs对latex文档的语法高亮。
</p>

<p>
在数学环境中连续输入一长串字母，latex会把它理解为单个变量的乘积。即使加了行多空格, latex也会把他们忽略掉。
</p>


<pre class="example" id="org9b4cc2a">
\le 小于
\pm 加号
</pre>
</div>
</div>
<div id="outline-container-h:5ce3c31d-566c-4e42-84c1-61dca474bcb3" class="outline-4">
<h4 id="h:5ce3c31d-566c-4e42-84c1-61dca474bcb3">加入空格</h4>
<div class="outline-text-4" id="text-h:5ce3c31d-566c-4e42-84c1-61dca474bcb3">
<p>
latex中加入空格：
</p>
<pre class="example" id="orgfc8ef25">
\,
\空格
\quad 大一点的空格
\qquad 再在一点的空格
</pre>

<p>
使用场景：
</p>
<ul class="org-ul">
<li>积分变量和前面的函数隔开用 <code>\,</code> 。如 <code>$\int_0^1 f()\, dx$</code></li>
<li>.被当成是句号，后面加一个真正的空格。 如 <code>s.t.\ XXXXX, i.e.,</code></li>
<li><code>\quad</code> 多个公式之间。如逗号和n不要靠太近 <code>f(n) = n (n+1),\quad n = 1, 2, 3, \dots.</code></li>
</ul>


<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}

\begin{CJK}{UTF8}{gbsn}

  3.&#35774;&#26354;&#32447;$<span style="color: #a0522d;">L</span>$<span style="color: #a0522d;">&#26159;&#31354;&#38388;&#21306;&#22495;</span>$<span style="color: #a0522d;">0</span> \le x \le 1$,$<span style="color: #a0522d;">0</span> \le y \le 1$, $<span style="color: #a0522d;">0</span> \le z \le 1$<span style="color: #a0522d;">&#30340;&#34920;&#38754;&#19982;&#24179;&#38754;</span>
  $<span style="color: #a0522d;">x</span>+y+<span style="color: #a0522d;">z</span> = \frac{3}{2}$<span style="color: #a0522d;">&#30340;&#20132;&#32447;</span>&#65292;&#21017;
  $| \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| = $

  \begin{equation*}
    | \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| =
  \end{equation*}

  $<span style="color: #a0522d;">dfasd</span><span style="color: #8b2252;">\,</span> fa<span style="color: #8b2252;">\ </span>sd\quad fa\qquad dfsf$
  $\int_0^1 f(x)<span style="color: #8b2252;">\,</span> dx$

  s.t. <span style="color: #8b2252;">\ </span>XXXXX, i.e.,
  \begin{equation*}
    f(n) = n (n+1),\quad <span style="color: #a0522d;">n</span> = 1, 2, 3, \dots.
    \end{equation*}
\end{CJK}

\end{document}
</pre>
</div>



<figure id="org23f9483">
<img src="./images/img_20240609_002432.png" alt="img_20240609_002432.png" width="90%">

</figure>
</div>
</div>
<div id="outline-container-h:b49a9d2d-d1de-4aa5-ad2f-4990caf9536e" class="outline-4">
<h4 id="h:b49a9d2d-d1de-4aa5-ad2f-4990caf9536e">点与省略号及上下标</h4>
<div class="outline-text-4" id="text-h:b49a9d2d-d1de-4aa5-ad2f-4990caf9536e">
<pre class="example" id="orgbb7c64e">
一个点直接用英文句号.即可
$\dot{A}$  在字母上方加点
$\dots$  省略号
$f(x_1, x_2, \cdots, x_n)$ 省略号在公式中间
$a \cdot b$ 数学中的点乘

上标： ^ 脱字符
下标： _ 下划线。默认1个字母，多个字母使用花括包裹 如$a^{abc}$

积分的上下线或求和的上下线也是由上下标来实现的。 如一个东西的极限 $\lim_{ n \to \infty } na_n^2$ ，其中我们希望把极限放在极限号的下面，现在显示的结果 是下标的位置，解决方法把公式写在行间公式中。如还想在行内公式实现可以在上下标前加个limits，如$\lim\limits_{ n \to \infty } na_n^2$

类似其它的符号：
$\sum$, 求和号，$\int$, 积分号， $\prod$ 连乘号
</pre>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}

\begin{CJK}{UTF8}{gbsn}

  3.&#35774;&#26354;&#32447;$<span style="color: #a0522d;">L</span>$<span style="color: #a0522d;">&#26159;&#31354;&#38388;&#21306;&#22495;</span>$<span style="color: #a0522d;">0</span> \le x \le 1$,$<span style="color: #a0522d;">0</span> \le y \le 1$, $<span style="color: #a0522d;">0</span> \le z \le 1$<span style="color: #a0522d;">&#30340;&#34920;&#38754;&#19982;&#24179;&#38754;</span>
  $<span style="color: #a0522d;">x</span>+y+<span style="color: #a0522d;">z</span> = \frac{3}{2}$<span style="color: #a0522d;">&#30340;&#20132;&#32447;</span>&#65292;&#21017;
  $| \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| = $



  \begin{equation*}
    | \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| =
    \end{equation*}


  &#31354;&#26684;&#65306;
  $<span style="color: #a0522d;">aaaaa</span><span style="color: #8b2252;">\,</span> bbb<span style="color: #8b2252;">\ </span>ccc\quad dd\qquad d$
  $\int_0^1 f(x)<span style="color: #8b2252;">\,</span> dx$

  s.t. <span style="color: #8b2252;">\ </span>XXXXXX, i.e.,
  \begin{equation*}
    f(n) = n (n+1),\quad <span style="color: #a0522d;">n</span> = 1, 2, 3, \dots.
    \end{equation*}

  &#28857;&#19982;&#30465;&#30053;&#21495;&#65306;
  $\dot{A}$, $\dots$, $<span style="color: #a0522d;">f</span>(x_1, x_2, \cdots, x_n)$, $<span style="color: #a0522d;">a</span> \cdot b$

  &#19978;&#26631;&#19979;&#26631;&#65306;
  $\lim_{ n \to \infty } na_{n}^2$ \quad $\lim_{ n \to \infty } na_{n}^2$

  \begin{equation*}\lim_{ n \to \infty } na_{n}^2
    \end{equation*}

  $\sum$, &#27714;&#21644;&#21495;&#65292;$\int$, &#31215;&#20998;&#21495;&#65292; $\prod$ &#36830;&#20056;&#21495;

  &#20363;&#23376;&#65306;int&#31215;&#20998;&#21495;&#65292;&#31215;&#20998;&#19979;&#38480;&#26159;alpha&#65292;&#31215;&#20998;&#19978;&#38480;&#26159; beta&#65292;f<span style="color: #8b2252;">'()&#27714;&#23548;
  \begin{equation*}
    \int_{ \alpha }^{ \beta } f'</span>( nx - \frac{1}{x} ) <span style="color: #8b2252;">\,</span> dx
    \end{equation*}

  $<span style="color: #a0522d;">a</span>^abc$ \quad $<span style="color: #a0522d;">a</span>^{abc}$ &#22810;&#23383;&#31526;&#20018;&#29992;&#33457;&#25324;&#21495;&#21253;&#35065;

  Hello world

  &#36825;&#26159;&#19968;&#21477;&#20013;&#25991;

  &#26032;&#21326;&#31038;&#12290;
  &#25253;&#36947;&#12290;
\end{CJK}

\end{document}
</pre>
</div>



<figure id="org4f8ea56">
<img src="./images/img_20240609_010618.png" alt="img_20240609_010618.png" width="90%">

</figure>
</div>
</div>
<div id="outline-container-h:28b49323-d083-481e-b517-dfbb3895167e" class="outline-4">
<h4 id="h:28b49323-d083-481e-b517-dfbb3895167e">根号和分式</h4>
<div class="outline-text-4" id="text-h:28b49323-d083-481e-b517-dfbb3895167e">
<ul class="org-ul">
<li>分式：\frac{ 分子 }{ 分母 }</li>
<li>根号：\sqrt{ xxx }
<ul class="org-ul">
<li>高次根号：\sqrt[]{xxx}  如，开10次根号2，\(\sqrt[ 10 ]{2}\)</li>
</ul></li>
</ul>


<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}

\begin{CJK}{UTF8}{gbsn}

  3.&#35774;&#26354;&#32447;$<span style="color: #a0522d;">L</span>$<span style="color: #a0522d;">&#26159;&#31354;&#38388;&#21306;&#22495;</span>$<span style="color: #a0522d;">0</span> \le x \le 1$,$<span style="color: #a0522d;">0</span> \le y \le 1$, $<span style="color: #a0522d;">0</span> \le z \le 1$<span style="color: #a0522d;">&#30340;&#34920;&#38754;&#19982;&#24179;&#38754;</span>
  $<span style="color: #a0522d;">x</span>+y+<span style="color: #a0522d;">z</span> = \frac{3}{2}$<span style="color: #a0522d;">&#30340;&#20132;&#32447;</span>&#65292;&#21017;
  $| \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| = $



  \begin{equation*}
    | \oint_L (z^2 - y^2) dx + (x^2 - z^2) dy + (y^2 - x^2) dz| =
    \end{equation*}


  &#31354;&#26684;&#65306;
  $<span style="color: #a0522d;">aaaaa</span><span style="color: #8b2252;">\,</span> bbb<span style="color: #8b2252;">\ </span>ccc\quad dd\qquad d$
  $\int_0^1 f(x)<span style="color: #8b2252;">\,</span> dx$

  s.t. <span style="color: #8b2252;">\ </span>XXXXXX, i.e.,
  \begin{equation*}
    f(n) = n (n+1),\quad <span style="color: #a0522d;">n</span> = 1, 2, 3, \dots.
    \end{equation*}

  &#28857;&#19982;&#30465;&#30053;&#21495;&#65306;
  $\dot{A}$, $\dots$, $<span style="color: #a0522d;">f</span>(x_1, x_2, \cdots, x_n)$, $<span style="color: #a0522d;">a</span> \cdot b$

  &#19978;&#26631;&#19979;&#26631;&#65306;
  $\lim_{ n \to \infty } na_{n}^2$ \quad $\lim_{ n \to \infty } na_{n}^2$

  \begin{equation*}\lim_{ n \to \infty } na_{n}^2
    \end{equation*}

  $\sum$, &#27714;&#21644;&#21495;&#65292;$\int$, &#31215;&#20998;&#21495;&#65292; $\prod$ &#36830;&#20056;&#21495;

  &#20363;&#23376;&#65306;int&#31215;&#20998;&#21495;&#65292;&#31215;&#20998;&#19979;&#38480;&#26159;alpha&#65292;&#31215;&#20998;&#19978;&#38480;&#26159; beta&#65292;f<span style="color: #8b2252;">'()&#27714;&#23548;
  \begin{equation*}
    \int_{ \alpha }^{ \beta } f'</span>( nx - \frac{1}{x} ) <span style="color: #8b2252;">\,</span> dx
    = \int_{ \alpha - \frac{1}{ n\alpha } }^{ \beta - \frac{1}{ n \beta  }  }
    f<span style="color: #8b2252;">'(ny) x'</span>(y) <span style="color: #8b2252;">\,</span> dy
    \end{equation*}

  $<span style="color: #a0522d;">a</span>^abc$ \quad $<span style="color: #a0522d;">a</span>^{abc}$ &#22810;&#23383;&#31526;&#20018;&#29992;&#33457;&#25324;&#21495;&#21253;&#35065;

  &#26681;&#21495;&#21644;&#20998;&#24335;&#65306;
  $\frac{ aaaa }{ bbbb }$ \quad $\sqrt{ 2 }$, $\sqrt[ 10 ]{2}$

  &#20363;&#23376;&#65306;2&#27425;&#26041;&#31243;&#30340;&#27714;&#26681;&#20844;&#24335;
  \begin{equation*}
    x_{1,2} = \frac{ -b \pm \sqrt{ b^2 - 4ac } }{ 2a }
    \end{equation*}


  Hello world

  &#36825;&#26159;&#19968;&#21477;&#20013;&#25991;

  &#26032;&#21326;&#31038;&#12290;
  &#25253;&#36947;&#12290;
\end{CJK}

\end{document}
</pre>
</div>



<figure id="orgb2966ee">
<img src="./images/img_20240609_011647.png" alt="img_20240609_011647.png" width="90%">

</figure>
</div>
</div>
<div id="outline-container-h:0bb30e2b-dff7-476d-8428-b58fc4c5f38d" class="outline-4">
<h4 id="h:0bb30e2b-dff7-476d-8428-b58fc4c5f38d">数学函数</h4>
<div class="outline-text-4" id="text-h:0bb30e2b-dff7-476d-8428-b58fc4c5f38d">
<ul class="org-ul">
<li>sin 三角反正弦函数</li>
<li>cos 三角余弦函数</li>
<li>log 对数</li>
<li>&sup; 上阕</li>
<li>inf 下阕</li>
<li>max 最大值</li>
</ul>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

  $\sin \frac{\pi}{2}$, $\sin$, $\cos$, $\log$, $\sup$, $\inf$, $\max$

  $\inf\limits_{x \in A} f(x)$

\end{CJK}

\end{document}
</pre>
</div>


<figure id="org6d2f9e2">
<img src="./images/Snipaste_2023-06-16_17-51-02.png" alt="Snipaste_2023-06-16_17-51-02.png" width="60%">

</figure>
</div>
</div>
<div id="outline-container-h:c1fbfbb5-8b75-4121-b9a3-87709297d366" class="outline-4">
<h4 id="h:c1fbfbb5-8b75-4121-b9a3-87709297d366">括号</h4>
<div class="outline-text-4" id="text-h:c1fbfbb5-8b75-4121-b9a3-87709297d366">
<ul class="org-ul">
<li>() 圆括号</li>
<li>[] 方括号</li>
<li>\{\} 花括号。 不带斜杠的花括号{公式}包裹很长的数学公式表示编译后强制显示在一行中不能被断开</li>
</ul>

<p>
<b>调整括号大小：</b>
</p>

<ul class="org-ul">
<li>\big 用在迭代2个函数。如，\(f(f(x))\),  \(f \big( f(x) \big)\)</li>
<li>\Big</li>
<li>\bigg</li>
<li>\Bigg</li>

<li>\| 显示双 ||</li>
</ul>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

  $(x)$, $[y]$, $<span style="color: #8b2252;">\{</span> a_n <span style="color: #8b2252;">\}</span>$

  \begin{equation*}
    f(x_1, x_2, \cdots, x_n) = \sum_{ <span style="color: #a0522d;">i</span> = 1 }^n
    \big( x_i - \frac{ x_1 + x_2 + \cdots + x_n  }{n} \big)^2
    \end{equation*}

  $\big( \Big( \bigg( \Bigg($

  $<span style="color: #a0522d;">f</span>(f(x))$, $<span style="color: #a0522d;">f</span> \big( f(x) \big)$

  $\Big<span style="color: #8b2252;">\{</span> \frac{1}{n} \Big<span style="color: #8b2252;">\}</span>$

  $|x|$, $\big| \frac{1}{x} \big|$
  $<span style="color: #8b2252;">\|</span>x<span style="color: #8b2252;">\|</span>$, $\big<span style="color: #8b2252;">\|</span> \frac{1}{x} \big<span style="color: #8b2252;">\|</span>$

\end{CJK}

\end{document}
</pre>
</div>


<figure id="orgda3e49f">
<img src="./images/Snipaste_2023-06-16_18-43-29.png" alt="Snipaste_2023-06-16_18-43-29.png" width="60%">

</figure>
</div>
</div>
<div id="outline-container-h:0dfb23aa-0f10-48da-8016-10de144c6d02" class="outline-4">
<h4 id="h:0dfb23aa-0f10-48da-8016-10de144c6d02">重音符号</h4>
<div class="outline-text-4" id="text-h:0dfb23aa-0f10-48da-8016-10de144c6d02">
<ul class="org-ul">
<li>\bar{x} 字符上加横线。字符串上加 \overline{xxxx}</li>
<li>\vec{x}  字符上加箭头。</li>
<li>~{x}  字符上加波浪线。字符串上 \widetilde{xxx}</li>
<li>\dot{x}  字符上加点</li>
</ul>

<p>
文本模式中加重音：
</p>
<ul class="org-ul">
<li>\"{字母} 表示字母上加两点</li>
<li>\'字母 表示字母上加重音符号</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}
\usepackage{CJKutf8}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

  \begin{equation*}
    \bar{x} = \frac{1}{n} \sum_{<span style="color: #a0522d;">i</span> = 1}^n x_i
    \quad \vec{x}, \tilde{x}, \dot{x}, \quad
    \overline{xxx}, \widetilde{xxxx}
  \end{equation*}

  H<span style="color: #8b2252;">\"</span>{o}lder Fr<span style="color: #8b2252;">\'</span>echet


\end{CJK}

\end{document}
</pre>
</div>


<figure id="org35dd2a2">
<img src="./images/Snipaste_2023-06-17_06-40-05.png" alt="Snipaste_2023-06-17_06-40-05.png" width="60%">

</figure>
</div>
</div>
<div id="outline-container-h:b9d67a66-c2a7-4b14-9657-23ddba1ff7a2" class="outline-4">
<h4 id="h:b9d67a66-c2a7-4b14-9657-23ddba1ff7a2">数学/文本字体</h4>
<div class="outline-text-4" id="text-h:b9d67a66-c2a7-4b14-9657-23ddba1ff7a2">
<ul class="org-ul">
<li>\mathbf {R} \mathbb{R} 用实体的R或者空心的R表示实数
<ul class="org-ul">
<li>使用\mathbb 需要在文件开头加上 <b>amssymb包，获得更多字体和数学环境的支持</b></li>
<li>多个字符的话，直接放花括号中</li>
</ul></li>
</ul>

<p>
文本模式：
</p>
<ul class="org-ul">
<li>\textbf{ 这是一句中文} 文本模式中的粗体，表示强调</li>
<li>\textit{xxxx} 英文中的斜体</li>
</ul>


<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath,amssymb}
\usepackage{CJKutf8}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

  $<span style="color: #a0522d;">R</span>$, $\mathbf {R}$, $\mathbb {R}$, $\mathbf{R JKKKLL}$, $\mathbb R DFELJL$

  \textbf{    &#36825;&#26159;&#19968;&#21477;&#20013;&#25991;}, faafsfl  \textit{lksjldjf}

\end{CJK}

\end{document}
</pre>
</div>



<figure id="org603e5be">
<img src="./images/Snipaste_2023-06-17_06-54-43.png" alt="Snipaste_2023-06-17_06-54-43.png" width="60%">

</figure>

<p>
%和&amp;使用反斜杠转义
</p>
<div class="org-src-container">
<pre class="src src-text">\% \&amp;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:15a73629-1e3a-4aa2-bcb0-c26837fafa9f" class="outline-4">
<h4 id="h:15a73629-1e3a-4aa2-bcb0-c26837fafa9f">常见帮助文档</h4>
<div class="outline-text-4" id="text-h:15a73629-1e3a-4aa2-bcb0-c26837fafa9f">
<ul class="org-ul">
<li>一份不太简短的latex2介绍： <a href="https://github.com/CTeX-org/lshort-zh-cn/releases">https://github.com/CTeX-org/lshort-zh-cn/releases</a></li>
<li>超详细资料：The Comprehensive LATEX Symbol List ：<a href="https://www.ctan.org/pkg/comprehensive">https://www.ctan.org/pkg/comprehensive</a></li>
<li>latex mathematical symbols: <a href="https://www.cmor-faculty.rice.edu/~heinken/latex/symbols.pdf">https://www.cmor-faculty.rice.edu/~heinken/latex/symbols.pdf</a>
<ul class="org-ul">
<li>个人常用的  只有4页，覆盖平时95%的常用符号</li>
</ul></li>
</ul>

<p>
LATEX Mathematical Symbols
</p>

<p>
1 Greek and Hebrew letters 希腊字母， <code>\希腊字母英文名</code>
</p>


<figure id="org0bae6d7">
<img src="./images/Snipaste_2023-06-17_07-37-36.png" alt="Snipaste_2023-06-17_07-37-36.png" width="100%">

</figure>

<p>
2 LATEX math constructs 常见的数学结构，分式根号等
</p>

<p>
3 Delimiters 各种括号、绝对值等
</p>


<figure id="org3152bb9">
<img src="./images/Snipaste_2023-06-17_07-38-24.png" alt="Snipaste_2023-06-17_07-38-24.png" width="100%">

</figure>

<p>
4 Variable-sized symbols (displayed formulae show larger version) 求和号、连加号等比较大的符号
</p>

<p>
5 Standard Function Names 常见的函数名 <code>\函数名</code> 显示正体的函数
</p>


<figure id="orgf49cfaa">
<img src="./images/Snipaste_2023-06-17_07-39-00.png" alt="Snipaste_2023-06-17_07-39-00.png" width="100%">

</figure>

<p>
6 Binary Operation/Relation Symbols 二元运算符，如加减乘除、交集并集、大于等于小于等于
</p>


<figure id="orga3242be">
<img src="./images/Snipaste_2023-06-17_07-39-27.png" alt="Snipaste_2023-06-17_07-39-27.png" width="100%">

</figure>


<figure id="org11139e7">
<img src="./images/Snipaste_2023-06-17_07-41-06.png" alt="Snipaste_2023-06-17_07-41-06.png" width="100%">

</figure>


<figure id="org9f5cf4c">
<img src="./images/Snipaste_2023-06-17_07-41-32.png" alt="Snipaste_2023-06-17_07-41-32.png" width="100%">

</figure>


<figure id="org2da9550">
<img src="./images/Snipaste_2023-06-17_07-41-53.png" alt="Snipaste_2023-06-17_07-41-53.png" width="100%">

</figure>

<p>
7 Arrow symbols 所有的箭头
</p>


<figure id="orgff4de04">
<img src="./images/Snipaste_2023-06-17_07-42-27.png" alt="Snipaste_2023-06-17_07-42-27.png" width="100%">

</figure>


<figure id="orgc6089e7">
<img src="./images/Snipaste_2023-06-17_07-42-58.png" alt="Snipaste_2023-06-17_07-42-58.png" width="100%">

</figure>

<p>
8 Miscellaneous symbols 杂
</p>


<figure id="orgf472b2c">
<img src="./images/Snipaste_2023-06-17_07-43-25.png" alt="Snipaste_2023-06-17_07-43-25.png" width="100%">

</figure>

<p>
9 Math mode accents 数学环境中使用的修饰，如重音符号、点、尖、向量等
</p>


<figure id="org1ab9873">
<img src="./images/Snipaste_2023-06-17_07-43-53.png" alt="Snipaste_2023-06-17_07-43-53.png" width="100%">

</figure>

<p>
11 Other Styles (math mode only) 数学环境下可以使用的字体
</p>


<figure id="org2b6684c">
<img src="./images/Snipaste_2023-06-17_07-44-33.png" alt="Snipaste_2023-06-17_07-44-33.png" width="100%">

</figure>

<p>
12 Font sizes 如何调整数字环境或文本环境字体的大小
</p>

<p>
13 Text Mode: Accents and Symbols 文本环境中可以使用的重音符号、特殊符号
</p>


<figure id="orgd81388f">
<img src="./images/Snipaste_2023-06-17_07-45-13.png" alt="Snipaste_2023-06-17_07-45-13.png" width="100%">

</figure>

<p>
温度
</p>
<ul class="org-ul">
<li><code>^\circ C</code>   &#x2013;&gt; \(^\circ C\)</li>
<li><code>25^\circ F</code> &#x2013;&gt; \(25^\circ F\)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:caadf858-1f5f-4d64-a45a-93c5e8e3a6ba" class="outline-3">
<h3 id="h:caadf858-1f5f-4d64-a45a-93c5e8e3a6ba">TeX文档结构</h3>
<div class="outline-text-3" id="text-h:caadf858-1f5f-4d64-a45a-93c5e8e3a6ba">
<p>
标题、作者、加入章节、加入目录等。
</p>

<p>
\begin{document} 之前的是导言区（preamble），设置文档参数
</p>

<p>
\begin{document} 之后的是正文，正文中内容才会输出到pdf文档中
</p>

<p>
注：以后将使用ctex宏包中提供的ctexart, ctexbook等文件类实现更好的中文支持。
</p>
</div>
<div id="outline-container-h:4ef02dd0-088f-4bdc-a4b7-e58c674822bb" class="outline-4">
<h4 id="h:4ef02dd0-088f-4bdc-a4b7-e58c674822bb">标题、作者和日期</h4>
<div class="outline-text-4" id="text-h:4ef02dd0-088f-4bdc-a4b7-e58c674822bb">
<p>
<b>标题</b>
</p>

<p>
在导言区加入 \title{标题名称}，然后在正文中加入 \maketitle
</p>

<p>
多行标题需要在标题之间加双斜线\\，双斜线也可以用在正文中表示强制换行
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb}
\usepackage{CJKutf8}

\title{&#25105;&#26159;&#26631;&#39064;  <span style="color: #8b2252;">\\</span>  &#31532;&#20108;&#34892;&#26631;&#39064;}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\maketitle  

&#20320;&#22909;&#21568;
&#20320;<span style="color: #8b2252;">\\</span>&#22909;<span style="color: #8b2252;">\\</span>&#21568;


\end{CJK}

\end{document}
</pre>
</div>


<figure id="org5b78123">
<img src="./images/Snipaste_2023-06-17_07-59-59.png" alt="Snipaste_2023-06-17_07-59-59.png" width="60%">

</figure>

<p>
<b>作者</b>
</p>

<p>
在导言区插入作者，\author{ 作者1 \and 作者2 }
</p>

<p>
<b>日期</b>
</p>

<p>
在导言区插入日期，默认使用当前时间
</p>

<p>
\date{ 5月1日 }
</p>

<p>
\date{} 不显示日期行
</p>


<p>
文档类型从article改为书籍book，\documentclass{book} 标题、作者、日期就会单独一页。
</p>
</div>
</div>
<div id="outline-container-h:b44c1494-5ef1-4edb-ac85-c72f607c9f24" class="outline-4">
<h4 id="h:b44c1494-5ef1-4edb-ac85-c72f607c9f24">插入章节</h4>
<div class="outline-text-4" id="text-h:b44c1494-5ef1-4edb-ac85-c72f607c9f24">
<p>
需要在 \maketitle 后插入
</p>

<ul class="org-ul">
<li>\section{第一个小标题}</li>
<li>\subsection{子标题}</li>
<li>\subsubsection{子标题的子标题}</li>
<li>\chapter{第一章节} 章节的标题需要在文档为书籍book中使用</li>
</ul>

<p>
插入的章节被自动加上序号
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb}
\usepackage{CJKutf8}

\title{&#25105;&#26159;&#26631;&#39064;  <span style="color: #8b2252;">\\</span>  &#31532;&#20108;&#34892;&#26631;&#39064;}
\author{ &#20316;&#32773;1 \and &#20316;&#32773;2 }
\date{}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\maketitle  

\section{&#31532;&#19968;&#20010;&#23567;&#26631;&#39064;}

&#20320;&#22909;&#21568;

\section{&#31532;&#20108;&#20010;&#23567;&#26631;&#39064;}

$\lim\limits_{n \to \infty } na_n^2$

\subsection{&#23376;&#26631;&#39064;}

$\sqrt{2}$

\subsubsection{&#23376;&#26631;&#39064;}

$\sin \frac{\pi}{2}$


\end{CJK}

\end{document}
</pre>
</div>


<figure id="org90933f8">
<img src="./images/Snipaste_2023-06-17_11-07-16.png" alt="Snipaste_2023-06-17_11-07-16.png" width="60%">

</figure>

<p>
插入章节
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass[UTF8]{ctexbook}
\usepackage{amsmath, amssymb}

\title{&#25105;&#26159;&#26631;&#39064;  <span style="color: #8b2252;">\\</span>  &#31532;&#20108;&#34892;&#26631;&#39064;}
\author{ &#20316;&#32773;1 \and &#20316;&#32773;2 }
\date

\begin{document}

\maketitle

\chapter{&#31532;&#19968;&#31456;&#26631;&#39064;}  

\section{&#31532;&#19968;&#20010;&#23567;&#26631;&#39064;}

&#20320;&#22909;&#21568;

\section{&#31532;&#20108;&#20010;&#23567;&#26631;&#39064;}

$\lim\limits_{n \to \infty } na_n^2$

\subsection{&#31532;&#20108;&#23618;&#23567;&#26631;&#39064;}

$\sqrt{2}$

\subsubsection{&#31532;&#19977;&#23618;&#26631;&#39064;}

$\sin \frac{\pi}{2}$

\end{document}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:2766d1cc-600d-4384-9e2d-68e602dab40c" class="outline-4">
<h4 id="h:2766d1cc-600d-4384-9e2d-68e602dab40c">目录和书签</h4>
<div class="outline-text-4" id="text-h:2766d1cc-600d-4384-9e2d-68e602dab40c">
<p>
<b>目录</b>
</p>

<p>
正文中加入
</p>

<p>
\tableofcontents
</p>

<p>
需要经过2次编译，第一次在目录下生成`文件名.toc`文件，第二次编译引用toc文件生成带目录的pdf
</p>


<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb}
\usepackage{CJKutf8}

\title{&#25105;&#26159;&#26631;&#39064;  <span style="color: #8b2252;">\\</span>  &#31532;&#20108;&#34892;&#26631;&#39064;}
\author{ &#20316;&#32773;1 \and &#20316;&#32773;2 }
\date{}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\maketitle

\tableofcontents

\section{&#31532;&#19968;&#20010;&#23567;&#26631;&#39064;}

&#20320;&#22909;&#21568;

\section{&#31532;&#20108;&#20010;&#23567;&#26631;&#39064;}

$\lim\limits_{n \to \infty } na_n^2$

\subsection{&#23376;&#26631;&#39064;}

$\sqrt{2}$

\subsubsection{&#23376;&#26631;&#39064;}

$\sin \frac{\pi}{2}$


\end{CJK}

\end{document}
</pre>
</div>

<p>
<b>红包-目录超链接</b>
</p>

<p>
在导言区加
</p>

<div class="org-src-container">
<pre class="src src-sh">\usepackage{hyperref}
</pre>
</div>

<p>
可以看到目录周围用红框框起来了，点一下自动跳到所在标题
</p>
</div>
</div>
<div id="outline-container-h:a9e82e85-0a73-4b1e-ba59-126a596d1a0e" class="outline-4">
<h4 id="h:a9e82e85-0a73-4b1e-ba59-126a596d1a0e">outline 模式及 AucTex 简介</h4>
<div class="outline-text-4" id="text-h:a9e82e85-0a73-4b1e-ba59-126a596d1a0e">
<p>
当文档很长时就需要这些方便查找
</p>
</div>
<div id="outline-container-h:e5202ca4-01f9-4af3-8e7f-d655dc6bcb82" class="outline-5">
<h5 id="h:e5202ca4-01f9-4af3-8e7f-d655dc6bcb82">outline 模式</h5>
<div class="outline-text-5" id="text-h:e5202ca4-01f9-4af3-8e7f-d655dc6bcb82">
<p>
开启outline模式：
</p>
<ul class="org-ul">
<li>按下alt+x 提示符处输入 outline-minor-mode ，回车</li>
</ul>

<p>
可以从emacs菜单栏看到多了个 Outline 菜单，同时状态栏也多了个Outl字符。
</p>

<p>
选择任意点击一个，比如，状态栏点击Outl：
</p>
<ul class="org-ul">
<li>Hide Body 只显示标题</li>
<li>Show Entry 展开折叠的内容</li>
</ul>
</div>
</div>
<div id="outline-container-h:203ed82d-8830-47d5-b02b-9313f154648a" class="outline-5">
<h5 id="h:203ed82d-8830-47d5-b02b-9313f154648a">emacs 插件包 AucTeX</h5>
<div class="outline-text-5" id="text-h:203ed82d-8830-47d5-b02b-9313f154648a">
<p>
emacs 插件 auctex 可以帮助我们更好的编辑 latex 文档。
</p>

<p>
安装方法1：
</p>
<ul class="org-ul">
<li>按下 Alt+x 输入 package-install 回车</li>
<li>输入 auctex，回车</li>
</ul>

<p>
重新登录 emacs 后，可以看到菜单栏中多出了 Preview 、Latex、Comamand 菜单；状态栏多了个P对就菜单栏的Preview。
</p>
</div>
<ul class="org-ul">
<li><a id="h:58cb0a8b-ba11-467e-84b1-118a90928455"></a>auctex 中编译 tex 文件<br>
<div class="outline-text-6" id="text-h:58cb0a8b-ba11-467e-84b1-118a90928455">
<p>
<code>C-c C-c</code> 输入 LaTex 回车编译(此时使用了auctex的编译)
</p>

<ul class="org-ul">
<li>输入L tab补全 LaTeX 回车。 auctex会自动选择对应的编译命令编译文件</li>
</ul>

<p>
若编译出现错误，使用 <code>C-c `</code> 查看错误
</p>

<p>
<code>C-c C-c</code> 输入 View
</p>
<ul class="org-ul">
<li>按TAB 选中 Latex 默认从本地打开pdf文件，sumartraPDF是默认pdf文件浏览器。</li>
</ul>
</div>
</li>
<li><a id="h:22681a4f-d53c-4ed7-97cb-ae854f940324"></a>auctex 插入LaTex宏命令<br>
<div class="outline-text-6" id="text-h:22681a4f-d53c-4ed7-97cb-ae854f940324">
<p>
<b>插入LaTeX命令：</b>
</p>

<pre class="example" id="orgb56e670">
C-c 回车
输入命令名称
输入命令参数
</pre>

<p>
范例：
</p>

<p>
documentclass:
</p>
<ul class="org-ul">
<li>C-c 回车</li>
<li>输入命令名称，如：\document 按tab 补全。</li>
<li>输入命令参数。如，根据提示输入文档类型article和属性draft，\documentclass[draft]{article}</li>
</ul>

<p>
usepackage:
</p>
<ul class="org-ul">
<li>C-c 回车</li>
<li>输入\usepackage 回车，如输入 amsmath 回车</li>
<li>输入命令参数，这里直接回车</li>
</ul>

<p>
title:
</p>
<ul class="org-ul">
<li>C-c 回车</li>
<li>输入\title 回车，如输入 xxxx 回车</li>
<li>输入命令参数，这里直接回车</li>
</ul>

<p>
author:
</p>
<ul class="org-ul">
<li>C-c 回车</li>
<li>输入\author 回车，如输入 user1 \and user2 回车</li>
<li>输入命令参数，这里直接回车</li>
</ul>

<p>
maketitle 构建主题
</p>

<p>
tableofcontents 目录
</p>

<p>
<b>插入环境：</b>
</p>
<pre class="example" id="org6ae6e7f">
C-c C-e
输入环境名称
</pre>

<p>
范例：
</p>

<p>
begin-end
</p>
<ul class="org-ul">
<li>C-c C-e</li>
<li>输入要插入的环境，如：document 回车，会自动填写 <code>\begin{document}  \end{document}</code></li>
</ul>


<p>
<b>插入章节</b>
</p>
<div class="org-src-container">
<pre class="src src-sh">C-c C-s
&#36873;&#25321;&#31456;&#33410;&#23618;&#27425;
&#36755;&#20837;&#31456;&#33410;&#21517;&#31216;
</pre>
</div>

<p>
范例：
</p>

<p>
section
</p>
<ul class="org-ul">
<li>按 C-c C-s</li>
<li>选择章节层次</li>
<li>输入章节名称 如 \section{first title}</li>
</ul>

<p>
范例：tex文件
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath}

\title{This is a title}
\author{user1 \and user2}
\date{}


\begin{document}

\maketitle{}

\tableofcontents{}

\section{First title}

\subsection{lalf}


  s.t. <span style="color: #8b2252;">\ </span>XXXXX, i.e.,
  \begin{equation*}
    f(n) = n (n+1),\quad <span style="color: #a0522d;">n</span> = 1, 2, 3, \dots.
  \end{equation*}

  $\cdot$, $\dots$, $<span style="color: #a0522d;">f</span>(x_1, x_2, \cdots, x_n)$, $<span style="color: #a0522d;">a</span> \cdot b$

  $\lim_{ n \to \infty } na_{n}^2$
  $\lim\limits_{ n \to \infty } na_{n}^2$

  \begin{equation*}
    \lim_{n \to \infty } na_{n}^2
  \end{equation*}
\end{document}
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:a9024dc6-b071-47c5-924d-7fba922baa5b" class="outline-3">
<h3 id="h:a9024dc6-b071-47c5-924d-7fba922baa5b">交叉引用</h3>
<div class="outline-text-3" id="text-h:a9024dc6-b071-47c5-924d-7fba922baa5b">
</div>
<div id="outline-container-h:cb2a11fe-7af5-438b-b8ce-bb4cb4cd3f8a" class="outline-4">
<h4 id="h:cb2a11fe-7af5-438b-b8ce-bb4cb4cd3f8a">小技巧-交换Ctrl键与Caps键</h4>
<div class="outline-text-4" id="text-h:cb2a11fe-7af5-438b-b8ce-bb4cb4cd3f8a">
<p>
因为在emacs中会用到大量的ctrl键，因此需要把 Ctrl键与Caps键进行交换
</p>

<p>
<b>windows</b>
</p>

<ul class="org-ul">
<li>打开注册表编辑器：
<ul class="org-ul">
<li>右键点击开始菜单运行(run)-&gt; regedit 或者在搜索栏中搜索registry editor</li>
</ul></li>
<li>找到注册表路径：HKEY_LOCAL_MACHINE\SYSTEM\CurrentControl\SetIControl\KeyBoard Layout
<ul class="org-ul">
<li>空白处右键新建二进制文件，文件名为Scancode map</li>
<li>右键文件选择编辑</li>
</ul></li>
</ul>

<p>
在Scancode map输入如下代码：
</p>
<div class="org-src-container">
<pre class="src src-sh">00 00 00 00 00 00 00 00
03 00 00 00 1D 00 3A 00
3A 00 1D 00 00 00 00 00
</pre>
</div>

<p>
重启电脑就可以了
</p>
</div>
</div>
<div id="outline-container-h:a357c209-dbb2-4a24-91e1-52bdf7e130f7" class="outline-4">
<h4 id="h:a357c209-dbb2-4a24-91e1-52bdf7e130f7">交叉引用</h4>
<div class="outline-text-4" id="text-h:a357c209-dbb2-4a24-91e1-52bdf7e130f7">
<p>
交叉引用，指在latex文档插入编号以及对编号的引用
</p>

<p>
<b>显示公式编号</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">\begin{equation}
    xxxx
\end{equation}
</pre>
</div>

<p>
插入交叉引用:
</p>
<ul class="org-ul">
<li>\label{xxx}： 给公式自定义一个标签 <code>C-c 回车 lable</code></li>
<li>\ref{xxx}这是个说明：引用标签，并给出说明 <code>C-c 回车 ref</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\begin{equation}\label{eq:1}
    xxxx
\end{equation}

(\req{eq:1})&#36825;&#26159;&#20010;&#26041;&#31243;
</pre>
</div>

<p>
需要编译2次才能显示。
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb}
\usepackage{CJKutf8}

\usepackage{hyperref}

\title{&#25105;&#26159;&#26631;&#39064;  <span style="color: #8b2252;">\\</span>  &#31532;&#20108;&#34892;&#26631;&#39064;}
\author{ &#20316;&#32773;1 \and &#20316;&#32773;2 }
\date{}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\maketitle

\tableofcontents

\section{&#31532;&#19968;&#20010;&#23567;&#26631;&#39064;}

&#20320;&#22909;&#21568;

\section{&#31532;&#20108;&#20010;&#23567;&#26631;&#39064;}

\begin{equation}\label{eq:1}
  \lim\limits_{n \to \infty } na_n^2
\end{equation}

$\int_0^1 f(x)<span style="color: #8b2252;">\,</span> dx$

\begin{equation}
  | \oint_L (z^2 - y^2) dx + (x^2 -z^2) dy + (y^2 - x^2) dz| =
\end{equation}
(\ref{eq:1})&#36825;&#26159;&#20010;&#26041;&#31243;

\subsubsection{&#23376;&#26631;&#39064;}

$\sin \frac{\pi}{2}$


\end{CJK}

\end{document}
</pre>
</div>


<figure id="orgc362a37">
<img src="./images/Snipaste_2023-06-17_23-03-54.png" alt="Snipaste_2023-06-17_23-03-54.png" width="60%">

</figure>
</div>
</div>
<div id="outline-container-h:73f6ef7c-c762-43f9-ad95-ad40c936ce92" class="outline-4">
<h4 id="h:73f6ef7c-c762-43f9-ad95-ad40c936ce92">插入章节、页码编号</h4>
<div class="outline-text-4" id="text-h:73f6ef7c-c762-43f9-ad95-ad40c936ce92">
<p>
<b>标签规范</b>
</p>
<ul class="org-ul">
<li>最好用冒号分隔</li>
<li>section的标签：sec:xx</li>
<li>公式的标签：eq:xxx</li>
</ul>

<p>
在章节后打上对应标签 \label{sec:xxx}
</p>

<p>
页码编号\pageref{xxx}
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb}
\usepackage{CJKutf8}

\usepackage{hyperref}

\title{&#25105;&#26159;&#26631;&#39064;  <span style="color: #8b2252;">\\</span>  &#31532;&#20108;&#34892;&#26631;&#39064;}
\author{ &#20316;&#32773;1 \and &#20316;&#32773;2 }
\date{}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\maketitle

\tableofcontents

\section{&#31532;&#19968;&#20010;&#23567;&#26631;&#39064;}

&#20320;&#22909;&#21568;

\section{&#31532;&#20108;&#20010;&#23567;&#26631;&#39064;}\label{sec:root}

\begin{equation}\label{eq:1}
  \lim\limits_{n \to \infty } na_n^2
\end{equation}

$\int_0^1 f(x)<span style="color: #8b2252;">\,</span> dx$

\begin{equation}
  | \oint_L (z^2 - y^2) dx + (x^2 -z^2) dy + (y^2 - x^2) dz| =
\end{equation}
&#31532;\pageref{eq:1}&#39029;&#20013;\ref{sec:root}&#33410;&#20013;&#30340;(\ref{eq:1})&#36825;&#26159;&#20010;&#26041;&#31243;

\subsubsection{&#23376;&#26631;&#39064;}\label{sec:t}

$\sin \frac{\pi}{2}$


\end{CJK}

\end{document}
</pre>
</div>


<figure id="org72d1d93">
<img src="./images/Snipaste_2023-06-17_23-31-56.png" alt="Snipaste_2023-06-17_23-31-56.png" width="60%">

</figure>
</div>
</div>
</div>
<div id="outline-container-h:b7b11ae5-7c9a-495b-afb5-e53ce86a1db0" class="outline-3">
<h3 id="h:b7b11ae5-7c9a-495b-afb5-e53ce86a1db0">列表、表格与图片环境</h3>
<div class="outline-text-3" id="text-h:b7b11ae5-7c9a-495b-afb5-e53ce86a1db0">
</div>
<div id="outline-container-h:f664ef7d-bac6-49e9-a461-15ee99357044" class="outline-4">
<h4 id="h:f664ef7d-bac6-49e9-a461-15ee99357044">环境插入命令</h4>
<div class="outline-text-4" id="text-h:f664ef7d-bac6-49e9-a461-15ee99357044">
<ul class="org-ul">
<li><code>C-c C-e</code> 输入环境名称如equation，输入环境参数如lable eq:gougu</li>
<li><code>C-c C-c latex</code> 编译， <code>C-c C-v</code> 本地打开pdf文件</li>
<li>交叉引用 <code>C-c 回车</code> 输入ref， gougu</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\begin{&#29615;&#22659;&#21517;}

\end{&#29615;&#22659;&#21517;}

&#22914;
\begin{equation}
  \label{eq:gougu}
  a^2+b^<span style="color: #a0522d;">2</span>=c^2
\end{equation}
\ref{eq:gougu}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ddac977e-9ccc-4478-b9cf-f513b5160fcf" class="outline-4">
<h4 id="h:ddac977e-9ccc-4478-b9cf-f513b5160fcf">列表环境</h4>
<div class="outline-text-4" id="text-h:ddac977e-9ccc-4478-b9cf-f513b5160fcf">
<p>
<b>itermize无序列表</b>
</p>

<ul class="org-ul">
<li><code>C-c C-e</code> 输入itemize 。第二条itemize由 <code>C-c C-j</code> 生成</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\begin{itemize}
\item &#31532;&#19968;&#26465;
\item &#31532;&#20108;&#26465;
\item &#31532;&#19977;&#26465;

  \end{itemize}
</pre>
</div>

<p>
<b>enumerate带编号列表</b>
</p>

<p>
嵌套的子列表编号从字母a开始
</p>

<ul class="org-ul">
<li><code>C-c C-e</code> 输入enumerate 。第二条由 <code>C-c C-j</code> 生成</li>
<li>第二级enumerate <code>C-c C-e 回车</code> 默认用前一个命令</li>
<li>增加交叉引用 在item后面 <code>C-c 回车</code> 输入\label 项目列表的引用一般用it:区分</li>
<li>引用方法 <code>C-e 回车</code> 输入 \ref  回车 输入it:补全</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\begin{enumerate}
\item &#23545;&#31216;&#24615;&#65306; $<span style="color: #a0522d;">d</span>(x,y) = d(y,x)$
\item &#27491;&#23450;&#24615;
  \begin{enumerate}
  \item $<span style="color: #a0522d;">d</span>(x,y) \ge 0$
  \item $<span style="color: #a0522d;">d</span>(x,y) = 0 \Leftrightarrow <span style="color: #a0522d;">x</span> = y$
  \end{enumerate}
\end{enumerate}

%&#20132;&#21449;&#24341;&#29992;
\begin{enumerate}
\item &#23545;&#31216;&#24615;&#65306; $<span style="color: #a0522d;">d</span>(x,y) = d(y,x)$
\item &#27491;&#23450;&#24615;
  \begin{enumerate}
  \item $<span style="color: #a0522d;">d</span>(x,y) \ge 0$
  \item\label{it:strict-pd} $<span style="color: #a0522d;">d</span>(x,y) = 0 \Leftrightarrow <span style="color: #a0522d;">x</span> = y$
  \end{enumerate}
\end{enumerate}

\ref{it:strict-pd
</pre>
</div>

<p>
<b>description关键字环境</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">\begin{description}
\item[&#20851;&#38190;&#23383;1]
\item[&#20851;&#38190;&#23383;2]
\end{description}
</pre>
</div>

<p>
<b>列表的交叉引用</b>
</p>

<p>
标签一般用 \label{it:xxx}
引用：(\ref{it:xxx})
</p>

<p>
改变环境： 光标在当前环境中， <code>C-u C-c C-e</code> 输入要改变成的环境名。如description
</p>

<pre class="example" id="org1242151">
\begin{description}
\item [对称性]： $d(x,y) = d(y,x)$
\item [正定性]:
  \begin{enumerate}
  \item $d(x,y) \ge 0$
  \item\label{it:strict-pd} $d(x,y) = 0 \Leftrightarrow x = y$
  \end{enumerate}
  
\end{description}

如果(\ref{it:strict-pd})不被满足，则称为....
</pre>
</div>
</div>
<div id="outline-container-h:f25f0388-c017-4d8b-b3ca-e6996e6df411" class="outline-4">
<h4 id="h:f25f0388-c017-4d8b-b3ca-e6996e6df411">插入表格</h4>
<div class="outline-text-4" id="text-h:f25f0388-c017-4d8b-b3ca-e6996e6df411">
<ul class="org-ul">
<li><code>C-c C-e 回车</code> 输入最简单的表格 tabular 回车，回车，在Format输入 r|cc 表示是3列的表格</li>
</ul>

<p>
format 中可用的字符：
</p>
<ul class="org-ul">
<li>r：左对齐</li>
<li>l：左对方</li>
<li>c：居中</li>
<li>|：插入列分隔符</li>
</ul>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">&#35760;$\xi$<span style="color: #a0522d;">&#20026;Bernoulli&#38543;&#26426;&#21464;&#37327;</span>&#65292;&#21442;&#25968;&#20026;$<span style="color: #a0522d;">p</span>$&#65292;&#21017;&#20854;&#20998;&#24067;&#21015;&#20026;
\begin{tabular}{<span style="color: #483d8b;">r</span>|cc}
  $<span style="color: #a0522d;">k</span>$ &amp; $<span style="color: #a0522d;">0</span>$ &amp; $<span style="color: #a0522d;">1</span>$ <span style="color: #8b2252;">\\</span> \hline
  $<span style="color: #a0522d;">P</span>(\<span style="color: #a0522d;">xi</span> = k)$ &amp; $<span style="color: #a0522d;">p</span>$ &amp; $<span style="color: #a0522d;">1</span>-p$
\end{tabular}
</pre>
</div>

<p>
注意事项：
</p>
<ul class="org-ul">
<li>列之间以 &amp; 分隔</li>
<li>不能漏掉行内公式的$&#x2026;$</li>
<li>行尾换行 <br></li>
<li>行尾用 \hline 添加横线</li>
</ul>

<p>
表格内
</p>
<ul class="org-ul">
<li>有更多的属性就需要把tabular环境放入table环境中，table环境会占据页面中间的位置
<ul class="org-ul">
<li>在想要补全的地址， <code>C-c ]</code> 补全环境(\end{...})</li>
</ul></li>
<li>\label{xxx} 添加标签</li>
<li>\caption{xxx} 添加标题</li>
<li>\centering 页面居中表格</li>
</ul>

<p>
表格在pdf出现的位置
</p>
<ul class="org-ul">
<li>[b] 置于pdf的底部，如 \begin{table}[b]。一般不用设置，程序会自动设置一个比较好的</li>
</ul>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">&#35760;$\xi$<span style="color: #a0522d;">&#20026;Bernoulli&#38543;&#26426;&#21464;&#37327;</span>&#65292;&#21442;&#25968;&#20026;$<span style="color: #a0522d;">p</span>$&#65292;&#21017;&#20854;&#20998;&#24067;&#21015;&#20026;

\begin{table}[b]
  \centering
\begin{tabular}{<span style="color: #483d8b;">r</span>|cc}
  $<span style="color: #a0522d;">k</span>$ &amp; $<span style="color: #a0522d;">0</span>$ &amp; $<span style="color: #a0522d;">1</span>$ <span style="color: #8b2252;">\\</span> \hline
  $<span style="color: #a0522d;">P</span>(\<span style="color: #a0522d;">xi</span> = k)$ &amp; $<span style="color: #a0522d;">p</span>$ &amp; $<span style="color: #a0522d;">1</span>-p$
\end{tabular}
\caption{Bernoulli&#38543;&#26426;&#21464;&#37327;&#30340;&#20998;&#24067;&#21015;}
\label{tab:1}
\end{table}

&#34920;\ref{tab:1}&#26159;Bernoulli&#38543;&#26426;&#21464;&#37327;&#30340;&#20998;&#24067;&#21015;&#12290;
</pre>
</div>

<p>
不让表格在页面上下浮动可以将tabular放到center环境中。
</p>
<ul class="org-ul">
<li><code>C-c C-e</code> 输入center</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\begin{center}
  \begin{tabular}{|<span style="color: #483d8b;">r</span>|cc|} \hline
    $<span style="color: #a0522d;">k</span>$ &amp; $<span style="color: #a0522d;">0</span>$ &amp; $<span style="color: #a0522d;">1</span>$ <span style="color: #8b2252;">\\</span> \hline
    $<span style="color: #a0522d;">P</span>(\<span style="color: #a0522d;">xi</span> = k)$ &amp; $<span style="color: #a0522d;">p</span>$ &amp; $<span style="color: #a0522d;">1</span>-p$ <span style="color: #8b2252;">\\</span> \hline
  \end{tabular}
\end{center}
</pre>
</div>

<p>
<b>从Excel中导入表格</b>
</p>
<ul class="org-ul">
<li><code>C-c C-e table</code> 再输入Format对应的列，如|c|c|c|</li>
<li>把Excel保存为.csv文件</li>
<li>把.csv文件内容复制到emacs中</li>
<li>把","替换成&amp;，emacs中选中内容使用alt+%  输入!替换所有</li>
<li>用正则表达式替换在行末加上\\ \hline
<ul class="org-ul">
<li>Alt+ctrl+%：$ &#x2013;&gt; \\\\ \\hline</li>
<li>在emacs中 2个\\斜杠代表一个斜杠</li>
</ul></li>
</ul>

<pre class="example" id="org2794f1e">
\begin{table}
  \centering
  \begin{tabular}{|c|c|c|c|} \hline
    A &amp; B &amp; C &amp; D\\ \hline
    5.1 &amp; 4 &amp; 9 &amp; 0.8\\ \hline
    8.1 &amp; 7.4 &amp; 3.8 &amp;0.6\\ \hline
    4.4 &amp; 7.0 &amp; 0.6 &amp; 0.1\\ \hline
  \end{tabular}
\end{table}
</pre>
</div>
</div>
<div id="outline-container-h:9dba50ef-bc40-49be-a88f-a31db81e5ad5" class="outline-4">
<h4 id="h:9dba50ef-bc40-49be-a88f-a31db81e5ad5">插入图片</h4>
<div class="outline-text-4" id="text-h:9dba50ef-bc40-49be-a88f-a31db81e5ad5">
<ul class="org-ul">
<li>在导言区调用宏包 graphicx <code>C-c 回车 \usepackage</code> 输入graphicx</li>
<li>在想要插入的地方输入 \includegraphics{文件名} 插入图片。 <code>C-c 回车 includegra补全</code></li>
<li>[width=?\textwidth] 调整宽度</li>
</ul>

<p>
与表格一样，给图片加上标签和标题需要把它放到一个环境中，figure
</p>
<ul class="org-ul">
<li>\caption{xxx} 标题</li>
<li>\label{xx} 标签</li>
<li>\centering 居中</li>
<li>两个并排的图片，放在一个环境里，调整图片宽度使得它们想加小于1就可以了。</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\begin{center}
  \includegraphics[<span style="color: #a0522d;">width</span>=0.6\textwidth]{1.png}
\end{center}

\begin{figure}
  \includegraphics[<span style="color: #a0522d;">width</span>=0.6\textwidth]{1.png}
  \caption{&#22270;&#29255;}
  \label{fig:fitting}
\end{figure}

\begin{figure}
  \includegraphics[<span style="color: #a0522d;">width</span>=0.45\textwidth]{1.png}
  \includegraphics[<span style="color: #a0522d;">width</span>=0.45\textwidth]{2.png}
  \caption{&#22270;&#29255;}
  \label{fig:fitting}
\end{figure}
</pre>
</div>
</div>
<div id="outline-container-h:f99a5a09-1b1f-4f9c-b4cf-a02928df2043" class="outline-5">
<h5 id="h:f99a5a09-1b1f-4f9c-b4cf-a02928df2043">插入tikz</h5>
<div class="outline-text-5" id="text-h:f99a5a09-1b1f-4f9c-b4cf-a02928df2043">
<p>
导言区插入宏包 tikz，\usepackage{tikz}
</p>

<p>
范例：画圆
</p>
<div class="org-src-container">
<pre class="src src-sh">\begin{figure}
  \centering
  \begin{tikzpicture}
    \draw (0,0) circle [<span style="color: #a0522d;">radius</span> = 1];
  \end{tikzpicture}
  \caption{&#22278;}
  \label{fig:circle}
\end{figure}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:3aab584d-fed2-483a-9373-f3c02046e982" class="outline-5">
<h5 id="h:3aab584d-fed2-483a-9373-f3c02046e982">小技巧-用draft选项减少编译时间</h5>
<div class="outline-text-5" id="text-h:3aab584d-fed2-483a-9373-f3c02046e982">
<div class="org-src-container">
<pre class="src src-sh">\documentclass[draft,UTF8]{article}
</pre>
</div>

<p>
不会真正的插入图片。
</p>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:f6f23d50-0e67-47ae-a2c3-1c37eff6ca0a" class="outline-2">
<h2 id="h:f6f23d50-0e67-47ae-a2c3-1c37eff6ca0a">进阶技巧</h2>
<div class="outline-text-2" id="text-h:f6f23d50-0e67-47ae-a2c3-1c37eff6ca0a">
</div>
<div id="outline-container-h:33488f7c-c445-4923-812d-4f4693dbd773" class="outline-3">
<h3 id="h:33488f7c-c445-4923-812d-4f4693dbd773">区域选择与操作</h3>
<div class="outline-text-3" id="text-h:33488f7c-c445-4923-812d-4f4693dbd773">
</div>
<div id="outline-container-h:87370d04-37b5-4491-8165-36ff0ec8902b" class="outline-4">
<h4 id="h:87370d04-37b5-4491-8165-36ff0ec8902b">区域编译及注释</h4>
<div class="outline-text-4" id="text-h:87370d04-37b5-4491-8165-36ff0ec8902b">
<p>
emacs 中，鼠标选中区域
</p>

<pre class="example" id="org0fa89e2">
C-c C-r 编译区域
对比：
C-c C-c 编译全文件
(r = region)
</pre>

<p>
范例：
</p>
<pre class="example" id="orge706b16">
鼠标选中区域
C-c C-r 回车，默认开始编译，并生成一个 _region_.pdf 文件
C-c C-r 回车，默认View，打开pdf文件
</pre>

<p>
<b>常用选定区域的命令</b>
</p>
<ul class="org-ul">
<li>C-c * 选中当前章节。需要有auctex包</li>
<li>C-c . 选中当前环境。需要有auctex包，在行间公式中特别有用</li>
<li>C-c ; (取消)注释。需要有auctex包。手动注释是在要注释的位置前加 % 百分号</li>
</ul>
</div>
</div>
<div id="outline-container-h:14f0c82d-85bb-42cc-8c67-3232bd85ed10" class="outline-4">
<h4 id="h:14f0c82d-85bb-42cc-8c67-3232bd85ed10">emacs 中选中区域</h4>
<div class="outline-text-4" id="text-h:14f0c82d-85bb-42cc-8c67-3232bd85ed10">
<p>
方法1：鼠标左键按住，拖动
</p>

<p>
在 emacs 中一个区域的范围是由2个点决定的。第一个点是标记(mark)，任何在标记和光标之间的东西都是区域的一部分。在状态栏下面的minibuffer中会有提示信息"Mark set" 。即使这个区域的高亮消失了，那个标记还会存在在那里，还是能对标记和光标之间的内容进行操作。
</p>


<figure id="orgd411d69">
<img src="./images/Snipaste_2023-06-18_21-02-16.png" alt="Snipaste_2023-06-18_21-02-16.png" width="60%">

</figure>

<p>
方法2：Shift + 方向键
</p>

<p>
方法3：左键点击标记位置，右键点击光标位置
</p>

<p>
方法4：
</p>

<ol class="org-ol">
<li>激活标记：C-@ 或者 C-空格</li>
<li>用方向键/Emacs快捷键移动光标  或者 C-n 向下移动光标</li>
</ol>

<p>
C-x C-x 交换标记和光标的位置
</p>

<p>
<b>在latex常用的快捷键组合</b>
</p>
<ul class="org-ul">
<li>(章节末)输入</li>
<li>C-c * 选中章节</li>
<li>C-c C-r，回车，编译章节</li>
<li>C-x C-x 光标回到章节末</li>
<li>继续输入</li>
</ul>


<p>
<b>C-x Tab: 调整区域缩进</b>
</p>
<ul class="org-ul">
<li>-&gt;：右移1个空格</li>
<li>Shift + -&gt; ：右移8个空格(= tab)</li>
<li>&lt;-：左移1个空格</li>
<li>Shift + &lt;=：左移8个空格(=tab)</li>
</ul>
</div>
</div>
<div id="outline-container-h:9712521c-c3d8-4e11-a208-f675a73189cd" class="outline-4">
<h4 id="h:9712521c-c3d8-4e11-a208-f675a73189cd">中断与撤消</h4>
<div class="outline-text-4" id="text-h:9712521c-c3d8-4e11-a208-f675a73189cd">
<p>
C-g 中断当前命令
</p>

<p>
C-/ 撤消 或 C-_
</p>

<p>
恢复的话需要撤消我们的撤消：
</p>
<ul class="org-ul">
<li>中断撤消：如按一下空格中断撤消</li>
<li>C-/ 就会是撤消之前撤消</li>
</ul>
</div>
</div>
<div id="outline-container-h:56c5fed9-5523-4fea-9832-6359d8d66553" class="outline-4">
<h4 id="h:56c5fed9-5523-4fea-9832-6359d8d66553">emacs 中的光标移动</h4>
<div class="outline-text-4" id="text-h:56c5fed9-5523-4fea-9832-6359d8d66553">

<figure id="orgaa447a2">
<img src="./images/Snipaste_2023-06-19_00-30-38.png" alt="Snipaste_2023-06-19_00-30-38.png" width="60%">

</figure>

<p>
<b>选定全文件</b>
</p>
<ul class="org-ul">
<li>方法1：
<ul class="org-ul">
<li>M-&lt; 跳到文件头</li>
<li>C-@ 设定标记</li>
<li>M-&gt; 跳到文件尾</li>
</ul></li>
<li>方法2：
<ul class="org-ul">
<li>C-x h 即mark-whole-buffer</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:9e17ee9a-af7c-43e1-b111-959d66c08aab" class="outline-4">
<h4 id="h:9e17ee9a-af7c-43e1-b111-959d66c08aab">emacs 中的剪切、复制与粘贴</h4>
<div class="outline-text-4" id="text-h:9e17ee9a-af7c-43e1-b111-959d66c08aab">
<pre class="example" id="org70d7000">
C-w 剪切
M-w 复制
C-y 粘贴
M-y 从剪贴析中选择
</pre>

<p>
<b>剪切(删除行)</b>
</p>

<pre class="example" id="org63ab80f">
C-k 剪切光标到行末

C-S-退格 剪切光标所在行  S 为Shitf 键。等同于 C-a C-k C-k

用 C-k 和 C-S-退格删除的内容会保留在剪贴板中，可以用C-y/M-y进行粘贴
</pre>

<p>
<b>剪切3行的三种方法</b>
</p>
<ul class="org-ul">
<li>方法1：C-a (至行首)，C-空格 (标记)，
<ul class="org-ul">
<li>C-n, C-n, C-e (移动光标)，</li>
<li>C-w 剪切区域</li>
</ul></li>
<li>方法2：C-a (至行首)，连续按 C-k</li>
<li>方法3：连续按 C-S-退格</li>
</ul>

<p>
emacs中连续的命令，可以用 C-y 把连续删除的内容一次性粘贴出来
</p>

<p>
<b>单词操作</b>
</p>
<ul class="org-ul">
<li>退格：向左删除字符</li>
<li>C-退格：向左删除单词(保存到剪贴板)</li>
<li>C-d/Delete：向右删除字符</li>
<li>Alt-d：向右删除单词(保存到剪贴板)</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:625dfd09-9a68-4a7a-926f-22aac20f96b9" class="outline-3">
<h3 id="h:625dfd09-9a68-4a7a-926f-22aac20f96b9">cdLaTeX简介</h3>
<div class="outline-text-3" id="text-h:625dfd09-9a68-4a7a-926f-22aac20f96b9">
<p>
cdLaTex的优势：
</p>
<ul class="org-ul">
<li>快捷键精准快速插入数学符号</li>
<li>Tab自动补全命令/环境</li>
<li>以上2点可以自定义扩展</li>
</ul>

<p>
<b>安装</b>
</p>

<p>
windows:
</p>
<ul class="org-ul">
<li>找到C:\Users\用户名\AppData\Roaming</li>
<li>准备好cdlatex.el 网址: <a href="https://raw.githubusercontent.com/cdominik/cdlatex/master/cdlatex.el">https://raw.githubusercontent.com/cdominik/cdlatex/master/cdlatex.el</a></li>
<li>将cdlatex.el放入`./emacs.d/lisp` 目录下，提前创建好目录</li>
<li>修改`~/.emacs`文件，后重新打开emacs服务</li>
</ul>

<p>
在emacs 配置文件中添加如下内容
</p>
<div class="org-src-container">
<pre class="src src-sh">(add-to-list <span style="color: #8b2252;">'load-path "~/.emacs.d/lisp")
(require '</span>cdlatex)

(add-hook <span style="color: #8b2252;">'LaTeX-mode-hook '</span>turn-on-cdlatex)
</pre>
</div>
<p>
上述意思为，加载配置文件目录，载入cdlatex，打开latex文件时打开cdlatex
</p>

<p>
再打开latex文件时，状态栏中多出了CDL字符串 =(LaTex/P CDL)=。
</p>

<p>
<b>"$"、上下标、括号自动补全</b>
</p>

<ul class="org-ul">
<li>输入一个\(自动变为2个\)</li>
<li>自动匹配的是上下标+{}
<ul class="org-ul">
<li>如果在只有一个字符的{x}里按tab，{}消失</li>
<li>{}里是多个字符，按tab跳出{}</li>
</ul></li>
<li>tab 键自动跳到下一个空格</li>
</ul>

<pre class="example" id="orge883df2">
$x^1 x^{ 2.3 } y_1 \sum_{k=1}^n$
</pre>


<p>
<b>数学符号快捷输</b>
</p>

<p>
按反引号弹出数字符号窗口，再输入对应的英文字母
</p>
<ul class="org-ul">
<li>按2次反引号打开第二层列表，不常用符号</li>
<li>按3次反引号条形第三层列表</li>
</ul>

<p>
注：反引号 "`" 是数字1左边的键
</p>

<p>
<b>tab自动补全命令</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#20998;&#24335;  &#26681;&#21495;
</span>$<span style="color: #a0522d;">fr&#25353;tab</span>$  $<span style="color: #a0522d;">sq&#25353;tab</span>$

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#31456;&#33410; &#23376;&#31456;&#33410; &#23376;&#23376;&#31456;&#33410;
</span>sn&#25353;tab ss sss
</pre>
</div>

<p>
C-c ? 可以看到帮助信息，可以看到tab能补全的命令。如equ+Tab表示插入equation模板；fg, sn, ss, sss, inl
</p>

<ul class="org-ul">
<li>TEXT可以在文本中插件，MATH可以在数学公式中插入</li>
</ul>

<p>
<b>数学字体的快捷输入</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#31895;&#20307;R: &#36755;&#20837;$R$ &#22312;R&#26049;&#25353;&#21333;&#24341;&#21495; &#31895;&#20307;&#23545;&#24212;&#30340;&#24555;&#25463;&#38190;&#26159;b \mathbf
</span>$\mathbf{R}$
</pre>
</div>

<p>
把多个单词放入 \textbf命令中的方法：
</p>
<ul class="org-ul">
<li>方法1：空白处输入" '+b "，然后输入单词</li>
<li>方法2：在最后一个单词后输入 "M+数字 '+b"</li>
</ul>

<p>
<b>2个输入补全</b>
</p>

<p>
Fourier变换及逆变换
</p>
<div class="org-src-container">
<pre class="src src-sh">gat*&#25353;tab&#34917;&#20840;&#65292;\begin{gather*}
f&#25353;&#21333;&#24341;&#21495;&#65292;&#25353;^&#65292;\hat{f}

ali*&#25353;tab&#34917;&#20840;

\begin{gather*}
  \hat{f} (\xi) = \int e^{ 2\pi i x \cdot \xi } dx<span style="color: #8b2252;">\,</span> \quad \xi \in \mathbf{R}, <span style="color: #8b2252;">\\</span>
  \check{\varphi}(x) = \int e^{-2 \pi i \xi \cdot x } \varphi(\xi) <span style="color: #8b2252;">\,</span> d\xi, \quad x \in \mathbf{R}
\end{gather*}

\begin{align*}
\nabla \cdot \mathbf{E} = \frac{\rho}{ \varepsilon_0}
\end{align*}
</pre>
</div>


<figure id="orgbb3913d">
<img src="./images/Snipaste_2023-06-20_18-12-06.png" alt="Snipaste_2023-06-20_18-12-06.png" width="60%">

</figure>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #b22222;">##</span><span style="color: #b22222;">&#22312;&#31561;&#21495;&#22788;&#23545;&#40784;
</span>\begin{align*}
    a + <span style="color: #a0522d;">b</span> &amp;= c + d <span style="color: #8b2252;">\\</span>
    x + <span style="color: #a0522d;">y</span> &amp;= z + w
\end{align*}

<span style="color: #b22222;">##</span><span style="color: #b22222;">&#27599;&#34892;&#26377;&#20004;&#20010;&#20844;&#24335;&#65292;&#21508;&#33258;&#22312;&#33258;&#24049;&#30340;&#31561;&#21495;&#22788;&#23545;&#40784;
</span>\begin{align*}
    <span style="color: #a0522d;">x</span> &amp;= y + z &amp; <span style="color: #a0522d;">a</span> &amp;= b - c <span style="color: #8b2252;">\\</span>
    x<span style="color: #8b2252;">' &amp;= y'</span> + z<span style="color: #8b2252;">' &amp; a'</span> &amp;= b<span style="color: #8b2252;">' - c'</span>
\end{align*}

<span style="color: #b22222;">##</span><span style="color: #b22222;">&#24102;&#37096;&#20998;&#23545;&#40784;&#21644;&#27880;&#37322;
</span>\begin{align*}
    f(x) &amp;= x^2 + 2x + 1 &amp;&amp; \text{(&#20108;&#27425;&#20989;&#25968;)} <span style="color: #8b2252;">\\</span>
    g(x) &amp;= \sin(x) + \cos(x) &amp;&amp; \text{(&#19977;&#35282;&#20989;&#25968;)} <span style="color: #8b2252;">\\</span>
    h(x) &amp;= \int_0^x e^{-t^2} <span style="color: #8b2252;">\,</span> dt &amp;&amp; \text{(&#35823;&#24046;&#20989;&#25968;)}
\end{align*}

<span style="color: #b22222;">##</span><span style="color: #b22222;">&#38271;&#20844;&#24335;&#20998;&#34892;&#23545;&#40784;
</span>\begin{align*}
    f(x) &amp;= \frac{1}{2}x^2 + \frac{1}{3}x^3 + \frac{1}{4}x^4 \nonumber <span style="color: #8b2252;">\\</span>
         &amp;\quad + \frac{1}{5}x^5 + \frac{1}{6}x^6 <span style="color: #8b2252;">\\</span>
    g(x) &amp;= \sin x - \frac{1}{3!}\sin^3 x + \frac{1}{5!}\sin^5 x
\end{align*}
</pre>
</div>

<ul class="org-ul">
<li>gather 环境：用于将多个公式分别居中排列，每个公式占据一行，公式之间没有特定的对齐关系。双斜杠\为换行。示例中的 gather* 是它的无编号版本。</li>
<li>align 环境：用于将多个公式在某个符号（如等号）处对齐，通过使用 &amp; 符号来指定对齐点。多双斜杠\为换行。行公式可以按需对齐，使版面更整齐。示例中的 align* 是无编号版本。</li>
<li>equation 环境：用于排版单个公式，通常会自动编号（使用星号版本 equation* 则不编号）。适合单独一个公式的情况。</li>
</ul>
</div>
</div>
<div id="outline-container-h:d5335a4a-8d78-46ec-9197-c4701e4b1a20" class="outline-3">
<h3 id="h:d5335a4a-8d78-46ec-9197-c4701e4b1a20">RefTex之交叉引用</h3>
<div class="outline-text-3" id="text-h:d5335a4a-8d78-46ec-9197-c4701e4b1a20">
<p>
reftex是emacs中自带管理交叉引用的包。
</p>

<p>
打开reftex: M-x reftex-mode
</p>

<p>
可以看到状态栏多个了个Ref，菜单栏多了Ref菜单。
</p>

<p>
设置打开tex文件开启reftex，在emacs配置文件`~/.emacs`添加以下内容
</p>
<div class="org-src-container">
<pre class="src src-sh">(add-hook <span style="color: #8b2252;">'LaTeX-mode-hook '</span>turn-on-reftex)
</pre>
</div>

<p>
<b>添加标签</b>
</p>

<p>
添加标签快捷键
</p>
<ul class="org-ul">
<li>方法1：lbl + tab 需要安装cdlatex包</li>
<li>方法2：C-c (</li>
</ul>

<p>
在不同位置生成的标签：
</p>
<ul class="org-ul">
<li>列表、数学分式中 lbl+tab：自动编号</li>
<li>章节、图表等：根据上下文或自行输入</li>
</ul>

<p>
<b>添加引用</b>
</p>

<p>
添加引用快捷键
</p>
<ul class="org-ul">
<li>方法1：ref + tab 需要安装cdlatex包。会打开一个标签列表
<ul class="org-ul">
<li>n 向下行动；p向上移动；空格 显示上下文；回车 引用(并关闭列表)；s切换标签；r重新扫描标签；? 帮助文档</li>
</ul></li>
<li>C-c )  注 C-c ( 是添加标签</li>
</ul>

<p>
自定义关键字(magic word)：
</p>
<ul class="org-ul">
<li>M-x customize-variable 回车 reftex-label-alist 回车</li>
</ul>
</div>
</div>
<div id="outline-container-h:64666976-89d0-4a6d-95ae-ae8219940757" class="outline-3">
<h3 id="h:64666976-89d0-4a6d-95ae-ae8219940757">cdLaTeX自定义设置</h3>
<div class="outline-text-3" id="text-h:64666976-89d0-4a6d-95ae-ae8219940757">
<p>
三类快捷命令：
</p>
<ol class="org-ol">
<li>反引号"`"输入数学符号</li>
<li>单引号"'"调整字体/重音符号</li>
<li>Tab自动补全，如输入分式，fr按tab；插入环境，equ按tab；插入列表环境，enu按tab</li>
</ol>
</div>
<div id="outline-container-h:2a1e3481-e9e8-40a5-a5a1-d848c042c0fe" class="outline-4">
<h4 id="h:2a1e3481-e9e8-40a5-a5a1-d848c042c0fe">增改反引号对应数学符号快捷键</h4>
<div class="outline-text-4" id="text-h:2a1e3481-e9e8-40a5-a5a1-d848c042c0fe">
<p>
修改方法：
</p>

<p>
M-x customize-variable 回车 cdlatex-math-symbol-alist
</p>

<p>
添加或者覆盖已有的快捷键，点INS按钮：
</p>
<div class="org-src-container">
<pre class="src src-sh">Character: x &#35774;&#23450;&#21738;&#20010;&#24555;&#25463;&#38190;
Repeat: &#26367;&#25442;&#20869;&#23481;
</pre>
</div>

<p>
范例：0改为\varnothing, 把emptyset放第2层列表，修改完后按Apply and Save保存
</p>
<div class="org-src-container">
<pre class="src src-sh">Character: 0
Repeat:
  macro: \varnothing
  macro: \emptyset
</pre>
</div>

<p>
设置界面也是一个buffer
</p>

<p>
按C-x b 可以跳回到刚刚的buffer(tex 文件)
</p>

<p>
使新设置生效的方法：
</p>
<ol class="org-ol">
<li>关闭emacs重新打开</li>
<li>关闭文件重新打开</li>
<li>"刷新"文件 需要有auctex包
<ol class="org-ol">
<li>利用LaTeX菜单Multifile/Parsing中"Reset buffer"命令 或者 按C-c C-n</li>
</ol></li>
</ol>
</div>
</div>
<div id="outline-container-h:e0a9d88c-6e63-4ae5-b68d-2565a7f9a86c" class="outline-4">
<h4 id="h:e0a9d88c-6e63-4ae5-b68d-2565a7f9a86c">增改单引号对应(数学)字体快捷键</h4>
<div class="outline-text-4" id="text-h:e0a9d88c-6e63-4ae5-b68d-2565a7f9a86c">
<p>
M-x customize-variable 回车 cdlatex-math-modify-alist
</p>

<p>
范例：单引号按t，修饰数学符号
</p>
<div class="org-src-container">
<pre class="src src-sh">Key character : t &#20851;&#38190;&#23383;
TeX macro inside  math mode: Value Menu String: \mathbb &#31354;&#24515;&#31895;&#20307;&#65292;&#22312;&#25968;&#23398;&#29615;&#22659;&#20013;&#20351;&#29992;
TeX macro outside math mode: Value Menu String: &#19981;&#22635;&#65292;&#34920;&#31034;&#22312;&#25991;&#26412;&#29615;&#22659;&#20013;&#27809;&#26377;
Type             : Toggle  Command  &#25226;&#20462;&#39280;&#30340;&#31526;&#21495;&#25918;&#22312;&#33457;&#25324;&#21495;&#37324;
Remove dot<span style="color: #a020f0;"> in</span> i/j: Toggle  off (nil) &#26159;&#21542;&#25226;i/j&#30340;&#28857;&#21435;&#25481;
Italic correction: Toggle  off (nil) &#26159;&#21542;&#38656;&#35201;&#26012;&#20307;

Key character : k
TeX macro inside  math mode: Value Menu String: \mathfrak &#21733;&#29305;&#20307;&#65292;&#22312;&#25968;&#23398;&#29615;&#22659;&#20013;&#20351;&#29992;
TeX macro outside math mode: Value Menu String: &#19981;&#22635;&#65292;&#34920;&#31034;&#22312;&#25991;&#26412;&#29615;&#22659;&#20013;&#27809;&#26377;
Type             : Toggle  Command  &#25226;&#20462;&#39280;&#30340;&#31526;&#21495;&#25918;&#22312;&#33457;&#25324;&#21495;&#37324;
Remove dot<span style="color: #a020f0;"> in</span> i/j: Toggle  off (nil) &#26159;&#21542;&#25226;i/j&#30340;&#28857;&#21435;&#25481;
Italic correction: Toggle  off (nil) &#26159;&#21542;&#38656;&#35201;&#26012;&#20307;
    State : EDITED, shown value does not take effect until you set or save it.
   List description of the LaTeX math accents. Hide
   See &#8216;cdlatex-math-modify-alist-default&#8217; for an example.  Any entries<span style="color: #a020f0;"> in</span> this
   variable will be added to the default.
   Each element contains 6 items:
   0. key:      The character that is the key for a the accent.
   1. mathcmd:  The LaTeX command associated with the accent<span style="color: #a020f0;"> in</span> math mode
   2. textcmd:  The LaTeX command associated with the accent<span style="color: #a020f0;"> in</span> text mode
   3. type:     t   if command with argument (e.g. \tilde{a}).
                nil if style (e.g. {\cal a}).
   4. rmdot:    t   if the dot on i and j has to be removed.
   5. it        t   if italic correction is required.
</pre>
</div>

<p>
生效：C-c C-n 刷新
</p>
</div>
</div>
<div id="outline-container-h:a0b7d4c9-fe40-44d8-a956-b7346d17a6bb" class="outline-4">
<h4 id="h:a0b7d4c9-fe40-44d8-a956-b7346d17a6bb">括号匹配</h4>
<div class="outline-text-4" id="text-h:a0b7d4c9-fe40-44d8-a956-b7346d17a6bb">
<p>
M-x customize-variable 回车 cdlatex-paired-parens
</p>

<p>
默认支持 <code>$[{</code> ，我们再添加一个圆括号匹配：
</p>

<ul class="org-ul">
<li>设置为 <code>$([{</code></li>
</ul>

<p>
不需要刷新，立即生效。
</p>
</div>
</div>
<div id="outline-container-h:b7d1aa2c-1c45-42da-85a1-60c4c2068fda" class="outline-4">
<h4 id="h:b7d1aa2c-1c45-42da-85a1-60c4c2068fda">自定义补全命令</h4>
<div class="outline-text-4" id="text-h:b7d1aa2c-1c45-42da-85a1-60c4c2068fda">
<p>
C-c ?：打开tab补全命令帮助界面
</p>
</div>
<div id="outline-container-h:54f2d1af-c717-4b44-9a59-9615e206b45b" class="outline-5">
<h5 id="h:54f2d1af-c717-4b44-9a59-9615e206b45b">补全命令-数学公式</h5>
<div class="outline-text-5" id="text-h:54f2d1af-c717-4b44-9a59-9615e206b45b">
<p>
M-x customize-variable-other-window 回车 cdlatex-command-alist
</p>

<p>
修改完后保存刷新，C-c C-n 刷新生效
</p>

<p>
在hook处理输入命令可以以下方法补全：
</p>

<p>
M-/：自动根据文本补全
</p>

<p>
多次M-/：在备选补全文本中选择
</p>

<p>
输入关键字big(按tab被替换成\big( \big
</p>
<div class="org-src-container">
<pre class="src src-sh">Keyword: big( &#20851;&#38190;&#23383;
Decstring: insert \big( \big) &#35828;&#26126;
Replacement: \big( \big  &#36755;&#20837;&#20851;&#38190;&#23383;&#20877;&#25353;tab&#34987;&#26367;&#25442;&#25104;&#30340;&#20869;&#23481;
Hook: ignore
Arguments: nil
Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  off (nil)
Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  on (non-nil)  &#21482;&#22312;&#25968;&#23398;&#29615;&#22659;&#20013;&#29983;&#25928;
</pre>
</div>

<p>
默认光标在尾部，指定光标位置:
</p>
<div class="org-src-container">
<pre class="src src-sh">Keyword: big(
Decstring: insert \big( \big)
Replacement: \big( ? \big
Hook: cdlatex-position-cursor
Arguments: nil
</pre>
</div>
<p>
<code>?</code> 代表光标位置
</p>

<p>
一行写不下，C-j 换行
</p>

<p>
范例：其它补全
</p>
<div class="org-src-container">
<pre class="src src-sh">INS DEL List:
            Keyword    : Big(
            Docstring  : 
            Replacement: \Big( ? \Big
            Hook       : cdlatex-position-cursor
            Arguments  : nil
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  off (nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  on (non-nil)
INS DEL List:
            Keyword    : big(
            Docstring  : insert \big( \big)
            Replacement: \big( ? \big
            Hook       : cdlatex-position-cursor
            Arguments  : nil
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  off (nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  on (non-nil)
INS DEL List:
            Keyword    : st
            Docstring  : 
            Replacement: \stackre{?}{}
            Hook       : cdlatex-position-cursor
            Arguments  : nil
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  off (nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  on (non-nil)
INS DEL List:
            Keyword    : te
            Docstring  : 
            Replacement: \text{ ? }
            Hook       : cdlatex-position-cursor
            Arguments  : nil
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  off (nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  on (non-nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1e6a1311-5dd4-4369-a41b-dad625658c2f" class="outline-5">
<h5 id="h:1e6a1311-5dd4-4369-a41b-dad625658c2f">补全命令-插入环境</h5>
<div class="outline-text-5" id="text-h:1e6a1311-5dd4-4369-a41b-dad625658c2f">
<p>
方法1：
</p>

<p>
范例：操作equation*命令，设置在文本（text）中可用
</p>
<div class="org-src-container">
<pre class="src src-sh">INS DEL List:
            Keyword    : equ*
            Docstring  : 
            Replacement: \begin{equation*}
?
\end{equation*}
            Hook       : cdlatex-position-cursor
            Arguments  : nil
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  on (non-nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  off (nil)

Keyword: equ*
Decstring: 
Replacement: 
Hook: cdlatex-environment
Arguments: (<span style="color: #8b2252;">"equation*"</span>)
</pre>
</div>

<p>
换行C-j
</p>


<p>
方法2： （推荐)
</p>

<div class="org-src-container">
<pre class="src src-sh">INS DEL List:
            Keyword    : equ*
            Docstring  : 
            Replacement: 
            Hook       : cdlatex-environment
            Arguments  : (<span style="color: #8b2252;">"equation*"</span>)
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  on (non-nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  off (nil)
</pre>
</div>

<p>
相当于 C-c (：cdlatex-environment（插入环境）
</p>
</div>
</div>
<div id="outline-container-h:40bde1eb-2767-48dd-92f6-7819605e90b3" class="outline-5">
<h5 id="h:40bde1eb-2767-48dd-92f6-7819605e90b3">环境模板设置</h5>
<div class="outline-text-5" id="text-h:40bde1eb-2767-48dd-92f6-7819605e90b3">
<p>
像 enu 按tab 插入的环境模板不是自己想要的，这里就可以修改模板。
</p>

<p>
M-x customize-variable 回车 cdlatex-env-alist
</p>

<p>
自己写个模板覆盖自带的。
</p>

<p>
范例：修改enumerate模板，同时指定新项目的模板.
</p>
<div class="org-src-container">
<pre class="src src-sh">INS DEL :
            ENVIRONMENT enumerate
            ENVIRONMENT TEMPLATE
\begin{enumerate}
\item ?
\end{enumerate}
            ITEM: Value Menu TEMPLATE
\item
</pre>
</div>

<ul class="org-ul">
<li>? 问号表示指定光标位置</li>
<li>保存后，C-c C-n 生效。</li>
<li>输入enu按tab进入环境，在\item后按 it按tab展开为\item</li>
</ul>

<p>
AUTOLABEL 插入label标签
</p>
<div class="org-src-container">
<pre class="src src-sh">INS DEL :
            ENVIRONMENT enumerate
            ENVIRONMENT TEMPLATE
\begin{enumerate}
\item ?
\end{enumerate}
            ITEM: Value Menu TEMPLATE
\itemAUTOLABEL ?
</pre>
</div>

<p>
插入enumerate环境
</p>
<div class="org-src-container">
<pre class="src src-sh">\begin{enumerate}
\item 
\item\label{item:3} 
\item\label{item:4} 
\end{enumerate}
</pre>
</div>

<p>
范例：带换行的分类讨论的环境
</p>

<div class="org-src-container">
<pre class="src src-sh">INS DEL :
            ENVIRONMENT cases
            ENVIRONMENT TEMPLATE
\begin{cases}
&#65311; &amp;
\end{cases}
            ITEM: Value Menu TEMPLATE
 <span style="color: #8b2252;">\\</span> ? &amp;
INS
</pre>
</div>

<p>
在equation环境插入cases:
</p>
<div class="org-src-container">
<pre class="src src-sh">\begin{equation*}
  f(x)
\begin{cases}
1, &amp; <span style="color: #a0522d;">x</span> = 0 
 <span style="color: #8b2252;">\\</span> 2, &amp; <span style="color: #a0522d;">x</span> = 1
\end{cases}
\end{equation*}
</pre>
</div>

<p>
输入equ*按tab，插入模板环境 C-c { 输入cases 回车，it 换行插入内容
</p>
</div>
</div>
<div id="outline-container-h:2efb7770-a235-4d4d-a105-286e3ccd0dc2" class="outline-5">
<h5 id="h:2efb7770-a235-4d4d-a105-286e3ccd0dc2">实例-方程组的快速插入</h5>
<div class="outline-text-5" id="text-h:2efb7770-a235-4d4d-a105-286e3ccd0dc2">
<p>
写补全命令：aali 自定义
</p>
<div class="org-src-container">
<pre class="src src-sh">INS DEL List:
            Keyword    : aali
            Docstring  : 
            Replacement: \left<span style="color: #8b2252;">\{</span> \begin{aligned}
? &amp; &amp;&amp;
\end{aligned}\right.
            Hook       : cdlatex-position-cursor
            Arguments  : nil
            Available<span style="color: #a020f0;"> in</span> Text mode: Toggle  off (nil)
            Available<span style="color: #a020f0;"> in</span> Math mode: Toggle  on (non-nil)
</pre>
</div>

<p>
写aligned的模板
</p>
<div class="org-src-container">
<pre class="src src-sh">INS DEL :
            ENVIRONMENT aligned
            ENVIRONMENT TEMPLATE
\begin{aligned}
? &amp;  &amp;&amp;
\end{aligned}
            ITEM: Value Menu TEMPLATE
<span style="color: #8b2252;">\\</span> ? &amp;  &amp;&amp;
</pre>
</div>

<p>
注：aligned和align类似。不同之处在于前者只能嵌套在别的数学环境中，后者是独立的数学环境。
</p>

<div class="org-src-container">
<pre class="src src-sh">\begin{equation*}
\left<span style="color: #8b2252;">\{</span> \begin{aligned}
\partial_tu(t,x) &amp; = \partial_{xxx}u(t,x), &amp;&amp; x \in \mathbb{R}_+<span style="color: #8b2252;">\\</span>
 u(0,x) &amp; = u_0(x), &amp;&amp; x \in \mathbb{R}_+<span style="color: #8b2252;">\\</span>
 u(t,0) &amp; = 0, &amp;&amp; t \in \mathbb{R}_+.
\end{aligned}\right.
\end{equation*}
</pre>
</div>
<p>
输入equ*按tab，输入aali按tab
</p>


<figure id="orgda8938f">
<img src="./images/Snipaste_2023-06-21_00-03-01.png" alt="Snipaste_2023-06-21_00-03-01.png" width="60%">

</figure>
</div>
</div>
</div>
</div>
<div id="outline-container-h:a7caa526-b185-487e-8cfc-9838e8bcaeb8" class="outline-3">
<h3 id="h:a7caa526-b185-487e-8cfc-9838e8bcaeb8">自定义定理环境</h3>
<div class="outline-text-3" id="text-h:a7caa526-b185-487e-8cfc-9838e8bcaeb8">
</div>
<div id="outline-container-h:f99b0126-8dd2-4460-b402-4cfce1de6d4f" class="outline-4">
<h4 id="h:f99b0126-8dd2-4460-b402-4cfce1de6d4f">自定义定理环境</h4>
<div class="outline-text-4" id="text-h:f99b0126-8dd2-4460-b402-4cfce1de6d4f">
<p>
定理定义环境特点：
</p>
<ul class="org-ul">
<li>使用不同的字体</li>
<li>定理环境可以有自带的编号，并且可以用交叉引用的方式引用编号</li>
</ul>

<p>
使用包：
</p>
<ul class="org-ul">
<li>定理环境要使用 amsthm 宏包，在导言区加入</li>
<li>C-c C-n 让 AucTeX 读取导言区</li>
</ul>

<p>
auctex包中快捷键：
</p>

<p>
导言区：
C-c 回车 \newtheorem
</p>
<ul class="org-ul">
<li>输入theorem  回车 latex文档中起的名字</li>
<li>第一个参数(Optional) Numbered like:，</li>
<li>第二参数可选用，</li>
<li>最后是在文档中显示的名字</li>
</ul>

<p>
正文：
C-c C-e 回车 输入theorem 插入定理
</p>

<p>
范例：插入一个定理引理
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{CJKutf8}

\newtheorem{theorem}{&#23450;&#29702;}
\newtheorem{lemma}{&#24341;&#29702;}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\begin{theorem}
  &#21333;&#35843;&#25968;&#21015;&#24517;&#26377;&#26497;&#38480;&#12290;
\end{theorem}

\begin{lemma}
  &#20219;&#24847;&#25968;&#38598;&#24517;&#26377;&#19978;&#30830;&#30028;&#12290;
\end{lemma}
\end{CJK}

\end{document}
</pre>
</div>

<p>
pdf显示内容
</p>
<div class="org-src-container">
<pre class="src src-sh">&#23450;&#29702; 1. &#21333;&#35843;&#25968;&#21015;&#24517;&#26377;&#26497;&#38480;&#12290;
&#24341;&#29702; 1. &#20219;&#24847;&#25968;&#38598;&#24517;&#26377;&#19978;&#30830;&#30028;&#12290;
</pre>
</div>

<p>
定理引理使用不同的计数器。
</p>

<p>
如果要使用同一个计数器，就要在定义引理时使用第一个参数：
-C-c 回车 \newtheorem
</p>
<ul class="org-ul">
<li>lemma 回车</li>
<li>第一个参数(Optional) Numbered like: theorem</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{CJKutf8}

\newtheorem{theorem}{&#23450;&#29702;}
\newtheorem{lemma}[theorem]{&#24341;&#29702;}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\begin{theorem}
  &#21333;&#35843;&#25968;&#21015;&#24517;&#26377;&#26497;&#38480;&#12290;
\end{theorem}

\begin{lemma}
  &#20219;&#24847;&#25968;&#38598;&#24517;&#26377;&#19978;&#30830;&#30028;&#12290;
\end{lemma}
\end{CJK}

\end{document}
</pre>
</div>

<p>
略
</p>
</div>
</div>
<div id="outline-container-h:d1e0d7ce-5adf-478e-ad6c-5752e0d18d07" class="outline-4">
<h4 id="h:d1e0d7ce-5adf-478e-ad6c-5752e0d18d07">reftex 设置新的标签类型</h4>
<div class="outline-text-4" id="text-h:d1e0d7ce-5adf-478e-ad6c-5752e0d18d07">
<p>
略
</p>
</div>
</div>
</div>
<div id="outline-container-h:c5d266a5-adfa-4e58-8bfd-3f127e805047" class="outline-3">
<h3 id="h:c5d266a5-adfa-4e58-8bfd-3f127e805047">所见即所得之Preview-latex</h3>
<div class="outline-text-3" id="text-h:c5d266a5-adfa-4e58-8bfd-3f127e805047">
<p>
部分编译呈现，Preview-latex对应下方状态栏P的字符，来自AucTeX插件包。
</p>

<p>
生成预览快捷键前缘：C-c C-p
</p>

<p>
(p = preview)
</p>

<p>
清除预览快捷键前缀：C-c C-p C-c
</p>

<p>
(p = preview, c = clearout)
</p>

<p>
C-c C-p 后接：
</p>
<ul class="org-ul">
<li>C-p (p = point) 当前位置。</li>
<li>C-e (e = environment) 当前环境。 光标移进去就会展开数学公式</li>
<li>C-s (s = section) 当前章节</li>
<li>C-b (b = buffer) 当前缓冲区</li>
<li>C-r (r = region) 当前区域</li>
</ul>

<p>
范例：选定区域预览
</p>
<ul class="org-ul">
<li>C-c C-p C-s 相当于，先C-c * 选定当前章节，再C-c C-p C-r 预览区域</li>
</ul>

<p>
C-c C-p C-p 用法1： 预览整个文件
</p>

<p>
C-c C-p C-p 用法2： 选定区域后预览区域
</p>

<p>
C-c C-p C-p 用法3： 修改公式后重新生成预览。注意：光标要停留在公式内
</p>


<p>
M-x customize-variable 回车 preview-default-option-list
</p>

<p>
如果不想编译行章节标题，可以把sections勾掉。
</p>


<p>
不支持中文编译预览，需要安装 deps 版本的emacs
</p>
</div>
</div>
<div id="outline-container-h:6081abdd-b534-41bf-8153-f220ec1f6a0f" class="outline-3">
<h3 id="h:6081abdd-b534-41bf-8153-f220ec1f6a0f">Outline Mode简介</h3>
<div class="outline-text-3" id="text-h:6081abdd-b534-41bf-8153-f220ec1f6a0f">
<p>
主要功能：按latex 目录层次来折叠。
</p>

<p>
开启outline模式：
</p>
<ul class="org-ul">
<li>按下alt+x</li>
<li>提示符处输入 outline-minor-mode ，回车</li>
</ul>

<p>
可以从emacs菜单栏看到多了个 Outline 菜单，同时状态栏也多了个Outl字符。
</p>

<p>
选择任意点击一个，比如，状态栏点击Outl：
</p>
<ul class="org-ul">
<li>Hide Body 只显示标题</li>
<li>Show Entry 展开折叠的内容</li>
</ul>

<p>
<b>修改快捷键</b>
</p>

<p>
因为自带的快捷键太长
</p>

<p>
在~/.emacs中添加
</p>
<ul class="org-ul">
<li>把前缀快捷键改为C-o</li>
<li>自动加载outline-mode</li>
<li>自动折叠文档</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(setq outline-minor-mode-prefix [(control o)])
(add-hook <span style="color: #8b2252;">'LaTeX-mode-hook '</span>outline-minor-mode)
(add-hook <span style="color: #8b2252;">'LaTeX-mode-hook '</span>outline-hide-body)
</pre>
</div>
<p>
重新打开emacs
</p>

<p>
<b>常用命令</b>
</p>

<p>
C-c = : (Reftex)打开目录
</p>

<ul class="org-ul">
<li>C-o C-e show-entry：展开被折叠的文本</li>
<li>C-o C-t hide-body：只保留标题</li>
<li>C-o C-a show-all：展开全部文本</li>
<li>C-o C-o hide-other：折叠除光标所在章节外其它章节</li>
<li>C-o C-b/C-f：同级目录移动</li>
<li>C-o C-q 显示最顶层目录。
<ul class="org-ul">
<li>M-数字N C-o C-q 显示前N层目录。 注意 M-数字 = C-u 数字</li>
</ul></li>
<li>C-o C-^/C-v 上下移动整个章节</li>
</ul>
</div>
</div>
<div id="outline-container-h:6271c519-c8a0-49ef-beb4-2794656b5e61" class="outline-3">
<h3 id="h:6271c519-c8a0-49ef-beb4-2794656b5e61">PDF预览正向与逆向搜索</h3>
<div class="outline-text-3" id="text-h:6271c519-c8a0-49ef-beb4-2794656b5e61">
<p>
C-c C-v：预览PDF（正向搜索：从源文件跳到PDF位置） 注：v = view 查看
</p>

<p>
在pdf中双击(逆向搜索：从PDF位置到源文件)
</p>

<p>
<b>正向搜索</b>
</p>

<p>
打开emacs配置文件：C-x C-f ~/.emacs 回车
</p>
<div class="org-src-container">
<pre class="src src-sh">;;&#19979;&#38754;&#20195;&#30721;&#25918;&#20837;.emacs&#25991;&#20214;&#20013;
(setq TeX-PDF-mode t) 
(setq TeX-source-correlate-mode t) 
(setq TeX-source-correlate-method <span style="color: #8b2252;">'synctex) 
(setq TeX-view-program-list 
 '</span>((<span style="color: #8b2252;">"Sumatra PDF"</span> (<span style="color: #8b2252;">"\"C:/Program Files/SumatraPDF/SumatraPDF.exe\" -reuse-instance"</span> (mode-io-correlate <span style="color: #8b2252;">" -forward-search %b %n "</span>) <span style="color: #8b2252;">" %o"</span>)))) 

(add-hook <span style="color: #8b2252;">'LaTeX-mode-hook
  (lambda ()
    (assq-delete-all '</span>output-pdf TeX-view-program-selection)
    (add-to-list <span style="color: #8b2252;">'TeX-view-program-selection '</span>(output-pdf <span style="color: #8b2252;">"Sumatra PDF"</span>))))
</pre>
</div>

<p>
修改 .emacs 后有2种生效方式：
</p>
<ol class="org-ol">
<li>重启emacs</li>
<li>M-x load-file 回车</li>
<li>C-c C-n 刷新</li>
</ol>

<p>
<b>逆向搜索</b>
</p>

<p>
打开sumatraPDF菜单，Settings &#x2013;&gt; Options 将下面内容复制到框中：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"C:/Program Files (x86)/Emacs26/bin/emacsclientw.exe"</span> -n +%l <span style="color: #8b2252;">"%f"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:21eb8110-a00c-4342-93da-5a785526b273" class="outline-3">
<h3 id="h:21eb8110-a00c-4342-93da-5a785526b273">TeX-fold代码折叠</h3>
<div class="outline-text-3" id="text-h:21eb8110-a00c-4342-93da-5a785526b273">
<p>
可以将latex中复杂的宏命令以及环境在编辑器中以折叠方式显示出来。
</p>

<p>
打开TeX-fold mode
</p>
<ul class="org-ul">
<li>方法1：M-x TeX-fold-mode</li>
<li>方法2：菜单"LaTeX -&gt; Show/Hide -&gt; Fold Mode"</li>
<li>方法3：C-c C-o C-f</li>
</ul>

<p>
C-c C-o C-b：折叠整个buffer
</p>
<ul class="org-ul">
<li>C-c C-o：TeX-fold-mode的命令前缀</li>
<li>C-b： b = buffer</li>
</ul>

<p>
打开emacs启动tex-fold mode，emacs配置文件 ~/.emacs 中添加
</p>

<p>
同时解决windows 下emacs显示unicode字符的卡顿问题，不让emacs在显示过程中清除缓存
</p>
<div class="org-src-container">
<pre class="src src-sh">(add-hook <span style="color: #8b2252;">'LaTeX-mode-hook '</span>TeX-fold-mode 1)
(setq inhibit-compacting-font-caches t)
</pre>
</div>

<p>
加载配置文件:
</p>
<ul class="org-ul">
<li>M-x load-file 回车 ~/.emacs</li>
</ul>

<p>
测试换字体不会出现卡顿：
</p>
<ul class="org-ul">
<li>Options -&gt; Set Default Font</li>
</ul>

<p>
<b>TeX-fold mode 的快捷键</b>
</p>

<p>
菜单 LaTeX -&gt; Show/Hide 中查到。
</p>

<p>
打开/折叠章节：
</p>
<ul class="org-ul">
<li>C-c * 选中章节</li>
<li>C-c C-o C-r 折叠(区域)
<ul class="org-ul">
<li>C-c C-o r 打开(区域)</li>
</ul></li>
</ul>

<p>
<b>TeX-fold mode 自定义设置</b>
</p>

<p>
C-h v 变量名：获取一个变量的帮助信息
</p>

<p>
M-x customize-variable 回车 TeX-fold-type-list  可以查到有4种折叠类型。
</p>


<ul class="org-ul">
<li>对宏命令自定义： TeX-fold-macro-spec-list 变量</li>
<li>对环境自定义： TeX-fold-env-spec-list 变量</li>
<li>对数学符号自定义： LaTeX-fold-math-spec-list 变量</li>
</ul>

<p>
<b>unicode 字符</b>
</p>

<p>
输入unicode字符：
</p>
<ul class="org-ul">
<li>方法1：windows 找到字符映秀表，可以看到字符对应的unicode编码</li>
<li>方法2：C-x 8 回车 4位16进制编码 回车</li>
</ul>

<p>
特殊符号显示支持：
</p>

<p>
windows中使用 Cambria Math 字体，但中文显示就会有问题。
</p>

<p>
配置emacs 文件，汉字和数学符号显示不同的字体
</p>
<div class="org-src-container">
<pre class="src src-sh">;; &#27721;&#23383;&#40664;&#35748;&#23383;&#20307;&#20026;Kaiti(&#26999;&#20307;)&#65292;&#21487;&#25913;&#20026;&#20854;&#23427;&#23383;&#20307;
(set-fontset-font <span style="color: #8b2252;">"fontset-default"</span> <span style="color: #8b2252;">'han
                  "KaiTi")
;; &#25968;&#23398;&#31526;&#21495;&#40664;&#35748;&#23383;&#20307;&#20026;Cambria Math
(set-fontset-font "fontset-default" '</span>symbol
                  <span style="color: #8b2252;">"Cambria Math"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:892dfafb-79c5-4fb6-8eb9-d663b1464cae" class="outline-3">
<h3 id="h:892dfafb-79c5-4fb6-8eb9-d663b1464cae">参考文献、多文件和排错</h3>
<div class="outline-text-3" id="text-h:892dfafb-79c5-4fb6-8eb9-d663b1464cae">
</div>
<div id="outline-container-h:765b5b7f-2e60-4dc4-b9dc-0c873fad2fc9" class="outline-4">
<h4 id="h:765b5b7f-2e60-4dc4-b9dc-0c873fad2fc9">参考文献</h4>
<div class="outline-text-4" id="text-h:765b5b7f-2e60-4dc4-b9dc-0c873fad2fc9">
</div>
<div id="outline-container-h:fa7fbed4-2b11-4e05-94a7-3965ae131b06" class="outline-5">
<h5 id="h:fa7fbed4-2b11-4e05-94a7-3965ae131b06">如何添加参考文献</h5>
<div class="outline-text-5" id="text-h:fa7fbed4-2b11-4e05-94a7-3965ae131b06">
<p>
LaTeX参考文献引用一般是使用BibTex参考文献格式。BibTex首先要有bib文件
</p>

<p>
bib文件来源：
</p>
<ul class="org-ul">
<li>期刊网站上导出</li>
<li>文献管理软件导出</li>
<li>手动从菜单添加</li>
</ul>

<p>
如： <a href="https://link.springer.com/article/10.1007/s11127-019-00646-y">https://link.springer.com/article/10.1007/s11127-019-00646-y</a> cite article 下载bib文件
</p>

<p>
bib文件格式:
</p>
<div class="org-src-container">
<pre class="src src-sh">@xxx &#23545;&#24212;&#19968;&#20010;&#21442;&#32771;&#25991;&#29486;&#65292;&#21487;&#20197;&#26159;article&#25991;&#31456;&#12289;&#25110;&#32773;book&#20070;&#31821;

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25171;&#24320;bib&#25991;&#20214;&#65292;&#29983;&#25104;bib&#27169;&#26495;&#65306;&#33756;&#21333; Entry-Types -&gt; Article in Journal 
</span>@Article{xxx&#26631;&#24535;,
  <span style="color: #a0522d;">author</span> =       {},
  <span style="color: #a0522d;">title</span> =        {},
  <span style="color: #a0522d;">journal</span> =      {&#26434;&#24535;&#21517;&#31216;},
  <span style="color: #a0522d;">year</span> =         {&#24180;&#20221;2023},
  <span style="color: #a0522d;">OPTkey</span> =       {},
  <span style="color: #a0522d;">OPTvolume</span> =    {},
  <span style="color: #a0522d;">OPTnumber</span> =    {},
  <span style="color: #a0522d;">OPTpages</span> =     {},
  <span style="color: #a0522d;">OPTmonth</span> =     {},
  <span style="color: #a0522d;">OPTnote</span> =      {},
  <span style="color: #a0522d;">OPTannote</span> =    {}
}
</pre>
</div>


<p>
C-c 回车：插入2个LaTeX宏命令
</p>
<ul class="org-ul">
<li>\bibliographystyle{xxx} 引用文献的风格</li>
<li>\bibliograph{xxx} .bib文件的文件名</li>
</ul>

<p>
重启emacs生效
</p>

<p>
插入参考文献：
</p>
<ul class="org-ul">
<li>方法1：cte 按tab</li>
<li>方法2：C-c [</li>
</ul>

<p>
所有的参考文献肯定包含字母a的，可以输入a 按tab补全，会弹出引用列表：
</p>
<pre class="example" id="org8a1750d">
n (next) 向下移动
p (previous) 向上移动
空格 显示完整的bib项目
回车 确认引用
m (mark) 标记
u (unmark) 取消标记
a/A (all) 引用被标记文献
        (多/单个\cite)
</pre>

<p>
搜索参考文献：
</p>
<ul class="org-ul">
<li>可以用常用字符(如 "a")或能配符(如 ".") 达到显示全部文献效果</li>
<li>按 r 缩小搜索范围</li>
<li>用 &amp;&amp; 分隔多个关键词。如， word1&amp;&amp;word2</li>
</ul>

<p>
C-c &amp;: 显示所引用条目
</p>

<p>
如果找不到所引用的bib文件，可以让emacs扫一遍查找一下：
</p>
<ul class="org-ul">
<li>菜单栏Ref -&gt; Parse Document -&gt; Entire Document</li>
</ul>
</div>
</div>
<div id="outline-container-h:dc44c56f-efe0-4c8c-825b-fe12ffcf2a30" class="outline-5">
<h5 id="h:dc44c56f-efe0-4c8c-825b-fe12ffcf2a30">生成参考文献</h5>
<div class="outline-text-5" id="text-h:dc44c56f-efe0-4c8c-825b-fe12ffcf2a30">
<p>
C-c C-c
</p>

<p>
生成参考文献需要4次编译：
</p>

<p>
1次LaTex，1次BibTeX，2次LaTeX
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{article}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{CJKutf8}

\newtheorem{theorem}{&#23450;&#29702;}
\newtheorem{lemma}[theorem]{&#24341;&#29702;}

\begin{document}
\begin{CJK}{UTF8}{gbsn}

\begin{theorem}
  &#21333;&#35843;&#25968;&#21015;&#24517;&#26377;&#26497;&#38480;&#12290;
\end{theorem}

\begin{equation*}
\left<span style="color: #8b2252;">\{</span> \begin{aligned}
\partial_tu(t,x) &amp; = \partial_{xxx}u(t,x), &amp;&amp; x \in \mathbb{R}_+<span style="color: #8b2252;">\\</span>
 u(0,x) &amp; = u_0(x), &amp;&amp; x \in \mathbb{R}_+<span style="color: #8b2252;">\\</span>
 u(t,0) &amp; = 0, &amp;&amp; t \in \mathbb{R}_+.
\end{aligned}\right.
\end{equation*}

\cite{carter_signorino_2010}
\cite{test1,test2}
\cite{test1}\cite{test2}

\end{CJK}

\bibliographystyle{alpha}
\bibliography{myref}

\end{document}
</pre>
</div>


<figure id="org8347f0c">
<img src="./images/Snipaste_2023-06-21_10-36-12.png" alt="Snipaste_2023-06-21_10-36-12.png" width="60%">

</figure>

<p>
只希望在下面参考文献出现
</p>
<div class="org-src-container">
<pre class="src src-sh">\nocite{xx}
\nocite{*}  &#21015;&#20986;&#25152;&#26377;&#21442;&#32771;&#25991;&#29486;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:791a6e33-8448-4fb3-bef7-dd818c75cf8a" class="outline-5">
<h5 id="h:791a6e33-8448-4fb3-bef7-dd818c75cf8a">清理编译产生的辅助文件</h5>
<div class="outline-text-5" id="text-h:791a6e33-8448-4fb3-bef7-dd818c75cf8a">
<p>
C-c C-c 回车 Clean 或者Clean All
</p>
</div>
</div>
</div>
<div id="outline-container-h:887d36f0-ed85-4cdc-8f82-096d2864fed0" class="outline-4">
<h4 id="h:887d36f0-ed85-4cdc-8f82-096d2864fed0">多文件处理</h4>
<div class="outline-text-4" id="text-h:887d36f0-ed85-4cdc-8f82-096d2864fed0">
<p>
引用其它latex文件：
</p>
<ul class="org-ul">
<li>\input{Tex文件名}</li>
</ul>

<p>
引用的文件只有公式和环境，没有导言区等，编译时可以用：
</p>
<ul class="org-ul">
<li>C-c _：指定主文件。可看到在文件最后有一些被注释的内容，告诉编译器主文件在哪</li>
</ul>

<p>
如果经常使用多文件，可在emacs配置文件添加如下内容：
</p>
<div class="org-src-container">
<pre class="src src-sh">;; &#32534;&#35793;&#26102;&#65292;&#27599;&#27425;&#37117;&#35810;&#38382;&#20027;&#25991;&#20214;&#65292;&#32780;&#19981;&#26159;&#40664;&#35748;&#25226;&#24403;&#21069;&#25991;&#20214;&#20316;&#20026;&#20027;&#25991;&#20214;
(setq-default TeX-master nil) 
</pre>
</div>

<p>
局部变量使用utf-8编码，可在注释添加
</p>
<div class="org-src-container">
<pre class="src src-sh">%%% coding: utf-8
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6414421d-fabf-430b-9798-45d92eff9749" class="outline-4">
<h4 id="h:6414421d-fabf-430b-9798-45d92eff9749">排错</h4>
<div class="outline-text-4" id="text-h:6414421d-fabf-430b-9798-45d92eff9749">
<pre class="example" id="org1f28169">
C-c `：显示(下一个)错误
M-g p：显示上一个错误
M-x TeX-error-overview：显示所有错误

C-c C-t C-b 打开Bod Boxses 错误提示。排版问题
C-c C-t C-w 打开Warning错误提示

M-x customize-variable 回车 TeX-error-overview-open-after-Tex-run 设置为on：每次编译atex文件后自动显示所有错误窗口
</pre>
</div>
</div>
</div>
<div id="outline-container-h:059d6959-da43-47d5-8188-64bd9d634e02" class="outline-3">
<h3 id="h:059d6959-da43-47d5-8188-64bd9d634e02">特别篇-交换图表</h3>
<div class="outline-text-3" id="text-h:059d6959-da43-47d5-8188-64bd9d634e02">

<figure id="org1028f44">
<img src="./images/Snipaste_2023-06-21_11-14-15.png" alt="Snipaste_2023-06-21_11-14-15.png" width="60%">

</figure>
</div>
<div id="outline-container-h:3e867c4c-174a-4d0e-96e6-9b58df890eba" class="outline-4">
<h4 id="h:3e867c4c-174a-4d0e-96e6-9b58df890eba">入门</h4>
<div class="outline-text-4" id="text-h:3e867c4c-174a-4d0e-96e6-9b58df890eba">
<p>
这些交换图表用到的宏包：tikz
</p>

<ul class="org-ul">
<li>加载宏包： \usepackage{tikz,tikz-cd}</li>
<li>画布：外层equation环境，里层tikzcd环境</li>
<li>画点：仿照array环境</li>
<li>画箭头：语法：\arrow[options]或者\ar[options]
<ul class="org-ul">
<li>Options:
<ul class="org-ul">
<li>一定要有！指到哪里：上u下d左l右r</li>
<li>可以有！加标签："f", "f"' 表示标签放在线条外面</li>
</ul></li>
</ul></li>
</ul>

<p>
范例：生成画布
C-c 回车 usepackage 回车 &lt;宏包名&gt;
</p>

<p>
插入equation环境：
</p>
<ul class="org-ul">
<li>equ* TAB</li>
</ul>

<p>
插入一般环境：
C-c C-e ENTER &lt;环境名&gt;
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{amsart}
\usepackage{tikz,tikz-cd}
\begin{document}
\begin{equation*}
  \begin{tikzcd}

  \end{tikzcd}
\end{equation*}

\end{document}
</pre>
</div>

<p>
范例：画点、画箭头
</p>

<p>
编译： C-c C-c LaTeX
</p>

<p>
查看pdf：C-c C-v
</p>

<p>
自定义一个插入 \ar[] 的快捷键
</p>

<p>
M-x customize-variable-other-window 回车 cdlatex-command-alist
</p>

<p>
ar TAB ENTER
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{amsart}
\usepackage{tikz,tikz-cd}
\begin{document}
\begin{equation*}
  \begin{tikzcd}
    A \ar[r,<span style="color: #8b2252;">"f"</span>] \ar[d,<span style="color: #8b2252;">"g"'] &amp; B \ar[d,"h"] \\
    C \ar[r,"i"'</span>] &amp; D
  \end{tikzcd}
\end{equation*}

\end{document}
</pre>
</div>


<figure id="orgc5475eb">
<img src="./images/Snipaste_2023-06-21_13-35-33.png" alt="Snipaste_2023-06-21_13-35-33.png" width="60%">

</figure>
</div>
</div>
<div id="outline-container-h:63ff1437-5535-4cd5-b4d7-e9d481aca1a3" class="outline-4">
<h4 id="h:63ff1437-5535-4cd5-b4d7-e9d481aca1a3">注入灵魂-调整箭头</h4>
<div class="outline-text-4" id="text-h:63ff1437-5535-4cd5-b4d7-e9d481aca1a3">

<figure id="org7175878">
<img src="./images/Snipaste_2023-06-21_13-37-00.png" alt="Snipaste_2023-06-21_13-37-00.png" width="60%">

</figure>

<p>
tikzcd 手册：<a href="https://ctan.math.washington.edu/tex-archive/graphics/pgf/contrib/tikz-cd/tikz-cd-doc.pdf">https://ctan.math.washington.edu/tex-archive/graphics/pgf/contrib/tikz-cd/tikz-cd-doc.pdf</a>
</p>

<p>
bend left ：弯曲
</p>

<p>
dashed ：虚线
</p>

<p>
hook ：实线勾
</p>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-sh">\documentclass{amsart}
\usepackage{tikz,tikz-cd}
\begin{document}

Example two
\begin{equation*}
  \begin{tikzcd}
    A \ar[r,dashed,<span style="color: #8b2252;">"f"</span>] \ar[rr,bend left,<span style="color: #8b2252;">"i"</span>] \ar[rrd,bend right,<span style="color: #8b2252;">"j"</span>]
    &amp; B \ar[r,hook,<span style="color: #8b2252;">"g"'] &amp; C \ar[d,"h"] \\
    &amp; &amp; D
  \end{tikzcd}
\end{equation*}

Example three
\begin{equation*}
  \begin{tikzcd}
    1 &amp; 3 \ar[l, shift right, "\lambda"'</span>] \ar[l,shift left, <span style="color: #8b2252;">"\mu"</span>] <span style="color: #8b2252;">\\</span>
  \end{tikzcd}
\end{equation*}

\begin{equation*}
  \begin{tikzcd}
    1 \ar[r,leftarrow, shift left, <span style="color: #8b2252;">"\lambda"</span>] \ar[r,leftarrow,shift right,<span style="color: #8b2252;">"\mu"']&amp; 3
  \end{tikzcd}
\end{equation*}

\end{document}</span>
</pre>
</div>


<figure id="org6202cf4">
<img src="./images/Snipaste_2023-06-21_14-25-14.png" alt="Snipaste_2023-06-21_14-25-14.png" width="60%">

</figure>
</div>
</div>
<div id="outline-container-h:088a81d9-0017-4777-9af6-2bec26430352" class="outline-4">
<h4 id="h:088a81d9-0017-4777-9af6-2bec26430352">画图流程-进阶</h4>
<div class="outline-text-4" id="text-h:088a81d9-0017-4777-9af6-2bec26430352">
<ul class="org-ul">
<li>先在纸上打好格子</li>
<li>复杂的图表画几步编译一下</li>
<li>不会的部分上网找例子</li>
</ul>


<figure id="org97b0f25">
<img src="./images/Snipaste_2023-06-21_14-28-26.png" alt="Snipaste_2023-06-21_14-28-26.png" width="60%">

</figure>

<p>
例4立方体，看似复杂，把它想象成2维，其实是4行4列的点，只是有些点是空的。
</p>
<div class="org-src-container">
<pre class="src src-sh">Example four
\begin{equation*}
  \begin{tikzcd}
    &amp; f^{*}E_v \ar[dl] \ar[dd] \ar[rr] &amp; &amp; E_v \ar[dl] \ar[dd] <span style="color: #8b2252;">\\</span>
    f^{*}E \ar[rr,crossing over] \ar[dd] &amp; &amp; E  &amp; <span style="color: #8b2252;">\\</span>
    &amp; U \ar[rr] \ar[dl] &amp; &amp; V \ar[dl] <span style="color: #8b2252;">\\</span>
    M \ar[rr] &amp; &amp; N \ar[<span style="color: #a0522d;">from</span>=uu,crossing over] &amp;
  \end{tikzcd}
\end{equation*}
</pre>
</div>
<p>
from=uu 等价于 uu, leftarrow
</p>

<p>
例5 2个函子之间的自然变换
</p>
<div class="org-src-container">
<pre class="src src-sh">Example five
\begin{equation*}
  \begin{tikzcd}
    A \ar[r,bend left, <span style="color: #8b2252;">"\alpha"</span>{<span style="color: #a0522d;">name</span>=U}] \ar[r,bend right,<span style="color: #8b2252;">"\beta"'{name=D}]&amp; b
    \arrow[Rightarrow,from=U, to=D]
  \end{tikzcd}
\end{equation*}</span>
</pre>
</div>
<p>
给标签起名，再单独用箭头指向
</p>

<div class="org-src-container">
<pre class="src src-sh">\begin{equation*}
  \begin{tikzcd}
    A \ar[r,bend left, <span style="color: #8b2252;">"\alpha"</span>{<span style="color: #a0522d;">name</span>=U}] \ar[r,bend right,<span style="color: #8b2252;">"\beta"'{name=D}]&amp; b
    \arrow[phantom,from=U, to=D,"\Downarrow"]
  \end{tikzcd}
\end{equation*}</span>
</pre>
</div>


<figure id="org59175a1">
<img src="./images/Snipaste_2023-06-21_15-19-20.png" alt="Snipaste_2023-06-21_15-19-20.png" width="60%">

</figure>

<p>
手写符号识别网站: <a href="http://detexify.kirelabs.org">http://detexify.kirelabs.org</a>
</p>
</div>
</div>
<div id="outline-container-h:3f42b057-b51f-4959-91e7-923e8b1e6d28" class="outline-4">
<h4 id="h:3f42b057-b51f-4959-91e7-923e8b1e6d28">常见错误</h4>
<div class="outline-text-4" id="text-h:3f42b057-b51f-4959-91e7-923e8b1e6d28">
<ul class="org-ul">
<li>C-c ` 显示错误</li>
<li>标签被盖住时： near start  上移</li>
<li>标签比较长时可以用{}括起来。</li>
<li>tikzcd环境内不能有多余的空行</li>
</ul>
</div>
</div>
</div>
</section>
<section id="outline-container-h:6ebc3725-e59f-477b-833d-c255c2da2d1c" class="outline-2">
<h2 id="h:6ebc3725-e59f-477b-833d-c255c2da2d1c">更多小技巧</h2>
<div class="outline-text-2" id="text-h:6ebc3725-e59f-477b-833d-c255c2da2d1c">
</div>
<div id="outline-container-h:afefc35e-9ee6-40f1-8c17-4bf06d506afb" class="outline-3">
<h3 id="h:afefc35e-9ee6-40f1-8c17-4bf06d506afb">引子-5分钟说明用emacs写latex</h3>
<div class="outline-text-3" id="text-h:afefc35e-9ee6-40f1-8c17-4bf06d506afb">
<p>
<b>章节折叠</b>
</p>

<p>
自带 outline-mode
</p>

<ul class="org-ul">
<li>C-o C-t hide-body：折叠所有标题，只保留标题(tree)</li>
<li>C-o C-e show-entry：展开当前标题(entry)</li>
<li>C-o C-a show-all：展开所有标题(all)</li>
</ul>

<p>
<b>上下标补全调整</b>
</p>

<p>
安装cdLaTeX插件
</p>

<ul class="org-ul">
<li><code>^</code> 和 <code>_</code> 自动补全括号</li>
<li><code>&lt;tab&gt;</code> 自动跳出括号并简化</li>
</ul>

<p>
<b>快速输入希腊字母与数学符号</b>
</p>

<p>
安装cdLaTeX插件
</p>

<p>
按 <code>`</code> 反引号1左边的键，快速输入数学符号
</p>

<p>
<b>输入 <code>$</code> 后自动补全</b>
</p>

<p>
安装cdLaTeX插件
</p>

<p>
<b>快速插入数学字体</b>
</p>

<p>
安装cdLaTeX插件
</p>

<p>
(希腊)字母后按 <code>'</code> 单引号
</p>

<p>
<b>快速插入文本字体</b>
</p>

<p>
安装cdLaTeX插件
</p>

<p>
选中后按 <code>'</code> 单引号
</p>

<p>
<b>Tab 补全一切</b>
</p>

<p>
安装cdLaTeX插件
</p>

<ul class="org-ul">
<li>带括号的 LaTeX 宏命令， <code>\frace{}{}</code> , <code>\sqrt{}</code>, <code>\text{}</code> 等</li>
</ul>

<p>
<b>配套输入各式括号</b>
</p>

<p>
安装cdLaTeX插件，并自定义设置
</p>

<ul class="org-ul">
<li>快速输入括号 <code>\left\{ \right}</code>, <code>\big( \big)</code>, <code>&lt; &gt;</code> 等</li>
</ul>

<p>
<b>快速插入环境模板</b>
</p>

<p>
安装cdLaTeX插件，并自定义设置
</p>

<ul class="org-ul">
<li>快速插入环境模板：如， <code>enu &lt;tab&gt;</code></li>
</ul>

<p>
<b>插入引用</b>
</p>

<p>
安装cdLaTeX插件
</p>

<p>
标签
</p>
<ul class="org-ul">
<li>引用单个标签 <code>ref &lt;tab&gt; &lt;标签类型&gt;</code></li>
<li>引用多个标签： <code>m</code> 作标记， <code>&lt;enter&gt;</code> 确认</li>
<li>插入标签，并自动生成标签签名： <code>lbl &lt;tab&gt;</code></li>
</ul>

<p>
<b>快速插入table等环境</b>
</p>

<p>
安装auctex插件
</p>

<p>
LaTeX环境：
</p>
<ul class="org-ul">
<li>C-c C-e 插入环境</li>
<li>C-u C-c C-e 改变环境名</li>
</ul>

<p>
<b>快速注释与消除注释</b>
</p>

<p>
选中区域 + <code>C-c ;</code>
</p>
<ul class="org-ul">
<li>注释一行： <code>C-a C-@ C-e C-c</code></li>
<li>注释环境： <code>C-c . C-C ;</code></li>
<li>注释章节： <code>C-c * C-c ;</code></li>
</ul>

<p>
<b>数学符号美化</b>
</p>

<p>
<code>M-x prettify-symbols-mode</code>
</p>

<p>
<b>编辑窗口预览公式</b>
</p>

<p>
安装auctex插件
</p>

<p>
<code>C-c C-c C-p</code>
</p>
</div>
</div>
<div id="outline-container-h:f38a6393-73dd-4deb-8af1-400a7679c6f6" class="outline-3">
<h3 id="h:f38a6393-73dd-4deb-8af1-400a7679c6f6">新手Emacs快速配置与插件管理</h3>
<div class="outline-text-3" id="text-h:f38a6393-73dd-4deb-8af1-400a7679c6f6">
<p>
在本期我将带领大家进行用于 LaTeX 写作的 Emacs 基本配置, 讲解从软件安装到插件管理的全过程. 最后将给大家推荐两组非常实用的插件: 第一组插件 <code>which-key</code> + <code>keycast</code> + <code>helpful</code> 将帮助我们快速熟悉 Emacs 的操作和概念, 第二组插件 <code>vertico</code> + <code>marginalia</code> + <code>orderless</code> 将有效提升我们在小缓冲区的补全体验, 并附上 <code>cdlatax</code> 和 <code>AucTeX</code> 的基本设置.
</p>
</div>
<div id="outline-container-h:ad1d114c-363e-448e-9591-5b4c6b1bcab9" class="outline-4">
<h4 id="h:ad1d114c-363e-448e-9591-5b4c6b1bcab9">Emacs 安装</h4>
<div class="outline-text-4" id="text-h:ad1d114c-363e-448e-9591-5b4c6b1bcab9">
<p>
Emacs 可以在 Windows, Linux, MacOS 全平台上运行, 甚至在 Android 上也可以通过 <code>termux</code> 等命令行工具使用.
</p>

<ul class="org-ul">
<li>2023年4月底正式版本 28.2</li>
</ul>

<p>
下面介绍的安装方法主要针对的是最新正式版.
</p>
</div>
<div id="outline-container-h:8733d2f4-f780-4c44-82fa-4fe35f6cd22d" class="outline-5">
<h5 id="h:8733d2f4-f780-4c44-82fa-4fe35f6cd22d">Linux</h5>
<div class="outline-text-5" id="text-h:8733d2f4-f780-4c44-82fa-4fe35f6cd22d">
<p>
Ubuntu 命令行中输入
</p>
<div class="org-src-container">
<pre class="src src-shell">sudo apt install emacs 
</pre>
</div>
</div>
</div>
<div id="outline-container-h:4cf080ab-3d64-4b42-a639-3d893c8a07d8" class="outline-5">
<h5 id="h:4cf080ab-3d64-4b42-a639-3d893c8a07d8">MacOS</h5>
<div class="outline-text-5" id="text-h:4cf080ab-3d64-4b42-a639-3d893c8a07d8">
<ul class="org-ul">
<li>先安装 <code>Homebrew</code> (<a href="https://brew.sh/">https://brew.sh/</a>). 命令行中输入</li>
</ul>
<div class="org-src-container">
<pre class="src src-shell">/bin/bash -c <span style="color: #8b2252;">"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</span>
</pre>
</div>

<p>
命令行中输入
</p>
<div class="org-src-container">
<pre class="src src-shell">brew install emacs
</pre>
</div>
</div>
</div>
<div id="outline-container-h:17ddcb17-8134-4eb5-8eef-ac4aa718cf07" class="outline-5">
<h5 id="h:17ddcb17-8134-4eb5-8eef-ac4aa718cf07">Windows</h5>
<div class="outline-text-5" id="text-h:17ddcb17-8134-4eb5-8eef-ac4aa718cf07">
<p>
有两种方法
</p>

<ul class="org-ul">
<li>用 <code>msys2</code> 安装</li>
</ul>

<p>
从<a href="https://www.msys2.org/">https://www.msys2.org/</a>安装并下载 <code>msys2</code>, 安装结束后打开它的 <code>mingw64.exe</code> 命令行 (默认目录是 <code>C:/msys64/</code>) 并输入
</p>
<div class="org-src-container">
<pre class="src src-shell">pacman -S mingw-w64-x86_64-emacs
</pre>
</div>

<p>
通过 <code>msys2</code> 安装的好处是上面还可以很方便安装其它开源软件, 如 <code>git</code>, <code>epdfinfo</code> 等. 
</p>

<ul class="org-ul">
<li>官网下载安装程序</li>
</ul>

<p>
从<a href="http://ftp.gnu.org/gnu/emacs/windows/">http://ftp.gnu.org/gnu/emacs/windows/</a> 上下载安装包.
</p>
</div>
</div>
</div>
<div id="outline-container-h:0709e075-c4d9-4a1d-a86c-bf8e9aed84c0" class="outline-4">
<h4 id="h:0709e075-c4d9-4a1d-a86c-bf8e9aed84c0">安装 Emacs 后的额外设置</h4>
<div class="outline-text-4" id="text-h:0709e075-c4d9-4a1d-a86c-bf8e9aed84c0">
<p>
在安装完 Emacs 之后, 我强烈推荐大家在你使用的机器上交换 <code>&lt;大写锁定键&gt;</code> 与 <code>&lt;control&gt;</code>. Emacs 常常使用 以 <code>&lt;control&gt;</code> 开始的快捷键. 在 Emacs 诞生之初时通用的键盘, <code>&lt;control&gt;</code> 确实是在当今键盘 <code>&lt;caps lock&gt;</code> 的位置的. 交换这两个键的具体操作在不同系统上也不一样.
</p>

<p>
<b>windows</b>
</p>

<p>
需要去修改注册表. 方法如下
</p>
<ul class="org-ul">
<li><code>&lt;Win&gt; + r</code> 输入 <code>regedit</code> 打开注册表</li>
<li>找到 <code>[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]</code></li>
<li>打开或新建 <code>Scancode</code> 文件, 把内容修改为</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">00 00 00 00 00 00 00 00
03 00 00 00 1d 00 3a 00 
3a 00 1d 00 00 00 00 00
</pre>
</div>
<ul class="org-ul">
<li>保存 <code>Scancode</code> 文件并重启电脑</li>
</ul>

<p>
<b>ubuntu</b>
</p>

<p>
在 Ubuntu 下, 可以使用图形界面的 <code>gnome-tweaks</code> 找到交换 <code>&lt;caps lock&gt;</code> 和 <code>&lt;control&gt;</code> 的设置. 安装 <code>gnome-tweaks</code> 可以通过 <code>apt</code> 进行:
</p>

<div class="org-src-container">
<pre class="src src-shell">sudo apt install gnome-tweaks
</pre>
</div>

<p>
然后打开 <code>gnome-tweaks</code> 的键盘设置, 在高级选项里有关于 <code>&lt;control&gt;</code> 键的设置. 你不仅仅可以交换它与 <code>&lt;caps lock&gt;</code>, 也可以进行许多别的设置.
</p>

<p>
又或者, 在很多 Linux 系统的命令行下输入
</p>
<div class="org-src-container">
<pre class="src src-shell">setxkbmap -option ctrl:swapcaps
</pre>
</div>

<p>
也可以交换 <code>&lt;caps lock&gt;</code> 与 <code>&lt;control&gt;</code>.
</p>

<p>
<b>MacOS</b>
</p>

<p>
在 MacOS 中, 大家可以在 <code>system</code> -&gt; <code>keyboard</code> -&gt; <code>functional keys</code> 中调整所有功能键的键位.
</p>

<p>
最后再啰嗦一句, 交换 <code>&lt;caps lock&gt;</code> 与 <code>&lt;control&gt;</code> 绝不是可有可无的事情, 它在我们日常使用 Emacs 中真的非常重要! 大家千万不要怕麻烦.
</p>

<p>
<b>Window家目录修改</b>
</p>

<p>
剩下两个设置只有 Windows 用户需要进行. 第一是把 Emacs 的家目录, 在 Emacs 中通过 <code>~</code> 访问, 改成 <code>C:/Users/&lt;用户名&gt;/</code>. 默认的家目录是 <code>C:/Users/&lt;用户名&gt;/AppData/Roaming/</code>. 从这个目录出发不方便我们访问像 "我的文档" 这种常用文件夹, 所以我们需要手动修改家目录为 <code>C:/Users/&lt;用户名&gt;/</code>, 与 Linux 和 MacOS 保持一致. 方法是搜索 <code>Edit the system variables</code>, 打开环境变量的设置, 然后增加一个用户的环境变量 <code>HOME</code>, 把它设置为 <code>C:/Users/&lt;用户名&gt;/</code>.
</p>

<p>
第二是保证你的 Emacs 安装目录在系统变量 <code>PATH</code> 上. 如果不在, 还是在同一个界面, 把包含你 <code>emacs.exe</code> 的文件夹路径手动添加到 <code>PATH</code> 变量中. 
</p>
</div>
</div>
<div id="outline-container-h:80358987-f2d3-463a-ad53-a1dbddeffbd9" class="outline-4">
<h4 id="h:80358987-f2d3-463a-ad53-a1dbddeffbd9">多版本emacs启动</h4>
<div class="outline-text-4" id="text-h:80358987-f2d3-463a-ad53-a1dbddeffbd9">
<p>
windows
</p>
<div class="org-src-container">
<pre class="src src-sh">env <span style="color: #a0522d;">HOME</span>=~/emacs-demo emacs --debug-init
</pre>
</div>

<p>
Linux/MacOS
</p>
<div class="org-src-container">
<pre class="src src-sh">(<span style="color: #a0522d;">HOME</span>=$(<span style="color: #483d8b;">pwd</span>) emacs --debug-int)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:19e6e379-0b9e-4140-996d-e8bebef94d20" class="outline-4">
<h4 id="h:19e6e379-0b9e-4140-996d-e8bebef94d20">Emacs 基本知识讲解与必知快捷键</h4>
<div class="outline-text-4" id="text-h:19e6e379-0b9e-4140-996d-e8bebef94d20">
<p>
在Emacs 中大家需要理解的一个核心概念就是命令. 在 Emacs 中所有的操作, 无论简单复杂都是命令.
</p>

<p>
Emacs 这个单词就来自于 macro, 即宏命令. 比如说我们想执行打开一个文件的操作, 有3种方式等价的操作方式:
</p>
<ul class="org-ul">
<li>从菜单栏里: <code>file</code> -&gt; <code>visit new file</code></li>
<li><code>M-x find-file</code></li>
<li>用快捷键 <code>C-x C-f</code> 并输入文件名</li>
</ul>

<p>
Emacs 中有许多有用的命令. 你未来也可以自己通过 <code>elisp</code> 语言编写自己命令. Emacs 把其中最常用的命令都绑定了快捷键, 用户自己也可以设置自己的快捷键. 当我们用熟了之后, 很多快捷键就会像打字一样形成肌肉记忆. 作为新手, 我们有很多键盘的快捷操作可以用鼠标代替.
</p>

<p>
<b>新手必知的几个快捷键</b>
</p>

<p>
在表中, <code>C</code> 表示 <code>control</code> 键, <code>M</code> 表示 <code>alt</code>. 这也是 Emacs 快捷键通用写法. 最右边一列是快捷键对应的命令名, 也就是第一列所有的快捷键都等价于 <code>M-x</code> 加上第三列. 
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">操作</th>
<th scope="col" class="org-left">命令名</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>C-g</code></td>
<td class="org-left">中止当前一!切!命!令!</td>
<td class="org-left"><code>keyboard-quit</code></td>
</tr>

<tr>
<td class="org-left"><code>C-/</code></td>
<td class="org-left">撤销命令</td>
<td class="org-left"><code>undo</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">文件操作</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>C-x C-f</code></td>
<td class="org-left">打开文件</td>
<td class="org-left"><code>find-file</code></td>
</tr>

<tr>
<td class="org-left"><code>C-x C-s</code></td>
<td class="org-left">保存文件</td>
<td class="org-left"><code>save-buffer</code></td>
</tr>

<tr>
<td class="org-left"><code>C-x b</code></td>
<td class="org-left">切换文件 (缓冲区)</td>
<td class="org-left"><code>switch-to-buffer</code></td>
</tr>

<tr>
<td class="org-left"><code>C-x 1</code></td>
<td class="org-left">关闭其它窗口</td>
<td class="org-left"><code>delete-other-window</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><code>C-h f/v/k</code></td>
<td class="org-left">查询命令/变量/快捷键</td>
<td class="org-left"><code>describe-function/variable/key</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">文本处理</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>M-w</code></td>
<td class="org-left">复制</td>
<td class="org-left"><code>kill-ring-save</code></td>
</tr>

<tr>
<td class="org-left"><code>C-w</code></td>
<td class="org-left">剪切</td>
<td class="org-left"><code>kill-region</code></td>
</tr>

<tr>
<td class="org-left"><code>C-y</code></td>
<td class="org-left">粘贴</td>
<td class="org-left"><code>yank</code></td>
</tr>
</tbody>
</table>


<p>
<b>elisp代码执行：</b>
</p>
<ul class="org-ul">
<li><code>C-x C-e</code> ： <code>eval-last-sexp</code> 执行光标所在代码</li>
<li><code>eval-region</code> ：执行选中区域代码</li>
<li><code>eval-buffer</code> ：执行当前缓冲区代码</li>
<li><code>M-x load-file &lt;ENTER&gt; FILE_NAME</code> ：执行指定文件代码</li>
</ul>
</div>
<div id="outline-container-h:ee665705-5c4c-4ecb-a32d-f5f8d30cd814" class="outline-5">
<h5 id="h:ee665705-5c4c-4ecb-a32d-f5f8d30cd814">中止命令与撤销命令</h5>
<div class="outline-text-5" id="text-h:ee665705-5c4c-4ecb-a32d-f5f8d30cd814">
<p>
在 Emacs 中发生误操作时, 你需要知道如何中止与撤销命令. 当你的快捷键输入一半想反悔时 (是的, Emacs 的快捷键可以很长!), 可以使用 <code>C-g</code> 重新来输入, 又或者 Emacs 在执行命令时卡住了, 你可以通过 <code>C-g</code> 来让它恢复正常.
</p>

<p>
如果你需要撤回上一条命令, 则需要使用 <code>C-/</code>. 但值得注意的是, 撤回撤回命令的命令也是同一个键; 这偶尔会让人抓狂.
</p>
</div>
</div>
<div id="outline-container-h:c6e75cbd-687d-439f-a4f0-1ab8afa96238" class="outline-5">
<h5 id="h:c6e75cbd-687d-439f-a4f0-1ab8afa96238">文件与窗口相关命令</h5>
<div class="outline-text-5" id="text-h:c6e75cbd-687d-439f-a4f0-1ab8afa96238">
<p>
下面我们介绍 Emacs 中最基础的几个管理界面的快捷键.
</p>

<p>
首先是打开文件, <code>C-x C-f</code>, 命令名是 <code>find-file</code>. 这里的 <code>find</code> 隐含 Emacs 会根据不同情况执行不同操作: 若文件存在, 则是普通的打开文件; 若文件不存在, 则是打开一个新文件.
</p>

<p>
第二个是保存文件, <code>C-x C-s</code>, 对应 <code>save-buffer</code>, 即把当前缓冲区 (更新后) 的内容写进文件里.
</p>

<p>
大多数情况将缓冲区 (buffer) 等同于文件不会影响你的 Emacs 使用. 这里简单讲讲它们的不同. 文件存在于电脑硬盘上, 而Emacs 的缓冲区只显示文件内容. 当你把文件内容读入缓冲区以后, 又在 Emacs 外修改了文件的内容, 缓冲区中的内容并不会改变, 除非你明确指示 Emacs 重新读取. 而在 Windows 中, 一个文件同时只能被一个 Windows 程序打开. Emacs 的缓冲区也不一定对应着文件, 在模式栏大家可以看到当前缓冲区的名字. 名字被两个 <code>*</code> 号包含的一般是非文件的缓冲区, 例如 <code>*Message*</code> 用于显示 Emacs 给用户的信息, 编译 LaTeX 时 <code>*Output*</code> 会存放编译输出结果等.
</p>

<p>
第三个命令是切换缓冲区/文件, <code>C-x b</code>, 对应 <code>switch-to-buffer</code>. 执行后在最下方的小缓冲区会提示输入你想要切换的缓冲区名字, 默认是上一个显示的缓冲区, 直接回车就行.
</p>

<p>
在 Emacs 中同时显示多个缓冲区的方法是打开多个窗口 (window), 然后在每个窗口中显示一个缓冲区. 有时 Emacs 自动创建新的窗口, 例如展示帮助信息时. 新手最常用的操作是保留当前光标所在窗口, 而关掉其它所有窗口. 这可以通过, <code>C-x 1</code>, 即 <code>delete-other-window</code> 实现. 我们可以用鼠标辅助我们在不同窗口间切换. 
</p>
</div>
</div>
<div id="outline-container-h:16b3cda5-66c0-4e52-9339-c4a74fe36fb7" class="outline-5">
<h5 id="h:16b3cda5-66c0-4e52-9339-c4a74fe36fb7">帮助命令</h5>
<div class="outline-text-5" id="text-h:16b3cda5-66c0-4e52-9339-c4a74fe36fb7">
<p>
Emacs 中查询帮助信息的快捷键是 <code>C-h &lt;字母&gt;</code>. 常用的有 <code>C-h f</code>, 查询命令, <code>C-h v</code>, 查询变量, 以及 <code>C-h k</code>, 查询快捷键. 通常 <code>C-h</code> 命令会自动创建新的窗口显示帮助信息.  我们可以先把光标移到我们工作的缓冲区, 然后用 <code>C-x 1</code> 关闭掉帮助信息窗口. 注意此时帮助信息的缓冲区并没有关闭, 重新显示可以通过 <code>C-x b</code> 并查找以 <code>*help*</code> 命名的缓冲区. 
</p>
</div>
</div>
<div id="outline-container-h:3b350e39-7744-4695-9396-815e5745f941" class="outline-5">
<h5 id="h:3b350e39-7744-4695-9396-815e5745f941">复制/剪切/粘贴</h5>
<div class="outline-text-5" id="text-h:3b350e39-7744-4695-9396-815e5745f941">
<p>
Emacs 有自己一套复制/剪切/粘贴的快捷键: <code>M-w</code> / <code>C-w</code> / <code>C-y</code>. 这和一般程序的 <code>C-c</code> / <code>C-x</code> / <code>C-v</code> 不同, 需要大家习惯. 所有复制或剪切的内容都会进入一个叫 <code>kill-ring</code> 的地方, 它相当于一个剪粘版的历史记录. 粘贴快捷键 <code>C-y</code> 会粘贴最近一条记录, 如果你想访问之前的记录, 可以紧跟着 <code>C-y</code> 再按下一次或多次 <code>M-y</code>. 
</p>
</div>
</div>
</div>
<div id="outline-container-h:b4914f55-52f6-4909-a5a9-6a46378612ab" class="outline-4">
<h4 id="h:b4914f55-52f6-4909-a5a9-6a46378612ab">Emacs 插件管理</h4>
<div class="outline-text-4" id="text-h:b4914f55-52f6-4909-a5a9-6a46378612ab">
<p>
接下来我们介绍如何更好地管理 Emacs 插件, 或叫 Emacs 包 (package). 插件可以给我们带来更多的功能, 是 Emacs 使用中不可缺少的一环. 插件的安装和设置与其它的 Emacs 设置一样, 都放在 Emacs 的启动文件 <code>~/.emacs.d/init.el</code> 中. 关于插件安装与设置, 我推荐大家使用现在常用的 <code>use-package</code> 语法, 它的语法更简洁, 还可以很方便地自动安装插件.
</p>

<p>
<b>use-package管理插件的插件</b>
</p>
<ul class="org-ul">
<li>更简洁的语法</li>
<li>更方便自动安装</li>
</ul>

<p>
<b>两种下载和安装插件的方式</b>
</p>
<ul class="org-ul">
<li><code>package.el</code> ：内置</li>
<li><code>straight.el</code> 需要访问 github.com 以及使用 <code>git</code>
<ul class="org-ul">
<li>msys2 安装 不行</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">pacman -S git
</pre>
</div>

<p>
我们在 <code>package.el</code> 和 <code>straight.el</code> 的设置示例中都手动检查并安装了 <code>use-package</code>. Emacs 29 后 <code>use-package</code> 已经是内置插件, 相关代码可以省去.
</p>
</div>
<div id="outline-container-h:cb221472-0f13-4fe8-b497-b7a946cb286a" class="outline-5">
<h5 id="h:cb221472-0f13-4fe8-b497-b7a946cb286a"><code>package.el</code> 设置示例</h5>
<div class="outline-text-5" id="text-h:cb221472-0f13-4fe8-b497-b7a946cb286a">
<p>
以下我们提供了 <code>package.el</code> 的一个设置示例. 大家需要把如下代码放入设置文件 <code>~/.emacs.d/init.el</code> 中.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">-*- lexical-binding: t; -*-
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#38745;&#24577;&#20316;&#29992;&#22495;&#22768;&#26126;&#24517;&#39035;&#25918;&#22312;&#39318;&#34892;
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25226; Emacs &#33258;&#21160;&#28155;&#21152;&#30340;&#20195;&#30721;&#25918;&#21040; custom.el &#20013;
</span>(<span style="color: #a020f0;">setq</span> custom-file (expand-file-name <span style="color: #8b2252;">"custom.el"</span> user-emacs-directory))
<span style="color: #b22222;">;;</span><span style="color: #b22222;">======================================== 
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#29992; package.el &#35774;&#32622; Emacs &#25554;&#20214;&#31649;&#29702;
</span><span style="color: #b22222;">;;</span><span style="color: #b22222;">======================================== 
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">package</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21152;&#36733; package.el
</span>(<span style="color: #a020f0;">setq</span> package-check-signature nil) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22914;&#26524;&#26816;&#26597;&#31614;&#21517;&#26377;&#38382;&#39064;&#21487;&#20197;&#21152;&#20837;&#36825;&#19968;&#34892;
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#28155;&#21152;&#20179;&#24211;&#20301;&#32622;
</span>(add-to-list 'package-archives '(<span style="color: #8b2252;">"melpa"</span> . <span style="color: #8b2252;">"http://melpa.org/packages/"</span>) t)
(add-to-list 'package-archives '(<span style="color: #8b2252;">"melpa-stable"</span> . <span style="color: #8b2252;">"http://stable.melpa.org/packages/"</span>) t)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22269;&#20869;&#29992;&#25143;&#20063;&#21487;&#20197;&#20351;&#29992;&#28165;&#21326;&#30340;&#38236;&#20687;&#32593;&#31449;. &#29992;&#19979;&#38754;&#30340;&#20195;&#30721;&#20195;&#26367;&#19978;&#38754;&#20004;&#34892;
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq package-archives
</span><span style="color: #b22222;">;;       </span><span style="color: #b22222;">'(("gnu" . "http://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/")
</span><span style="color: #b22222;">;;         </span><span style="color: #b22222;">("nongnu" . "http://mirrors.tuna.tsinghua.edu.cn/elpa/nongnu/")
</span><span style="color: #b22222;">;;         </span><span style="color: #b22222;">("melpa-stable" . "http://mirrors.tuna.tsinghua.edu.cn/elpa/stable-melpa/")
</span><span style="color: #b22222;">;;         </span><span style="color: #b22222;">("melpa"  . "http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/")))
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21047;&#26032;&#25554;&#20214;&#21015;&#34920; 
</span>(<span style="color: #a020f0;">unless</span> package-archive-contents
  (package-refresh-contents))
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#23433;&#35013; use-package. &#22312;Emacs 29&#20013;&#24050;&#20869;&#32622;&#25925;&#21487;&#30465;&#30053;
</span>(<span style="color: #a020f0;">unless</span> (package-installed-p 'use-package)
  (package-install 'use-package))
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#23433;&#35013;&#25152;&#26377;&#20351;&#29992; use-package &#22768;&#26126;&#30340;&#25554;&#20214;
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">use-package-ensure</span>)
(<span style="color: #a020f0;">setq</span> use-package-always-ensure t)
<span style="color: #b22222;">;;</span><span style="color: #b22222;">======================================== 
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">Emacs &#25554;&#20214;&#31649;&#29702;&#35774;&#32622;&#23436;&#27605;
</span><span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================
</span>

<span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#27573;&#20195;&#30721;&#25918;&#22312;&#26368;&#21518;, &#21152;&#36733; Emacs &#33258;&#21160;&#35774;&#32622;&#30340;&#21464;&#37327;
</span>(<span style="color: #a020f0;">if</span> (file-exists-p custom-file) (load-file custom-file))
<span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================</span>
</pre>
</div>

<p>
全选文本按TAB统一对齐， <code>C-x C-s</code> 保存， <code>M-x eval-buffer</code> 执行当前buffer代码。
</p>

<p>
这段代码的第一部分先启用了 <code>package.el</code>, 然后通过 <code>package-archives</code> 变量设置了下载插件的网址. 在国内也可以使用清华的软件源. 接下来 <code>package-refresh-contents</code> 刷新了插件列表. 然后我们自动检测 <code>use-package</code> 是否安装, 如果没有安装则自动下载安装. 最后, 我们设置了 <code>use-package-always-ensure</code> 变量为 <code>t</code>, 这样以后我们所有用 <code>use-package</code> 声明的插件都会自动安装.
</p>
</div>
</div>
<div id="outline-container-h:8b3aa8b0-475e-4365-94d7-b9212874b639" class="outline-5">
<h5 id="h:8b3aa8b0-475e-4365-94d7-b9212874b639"><code>straight.el</code> 设置示例</h5>
<div class="outline-text-5" id="text-h:8b3aa8b0-475e-4365-94d7-b9212874b639">
<ul class="org-ul">
<li>先安装git</li>
</ul>

<p>
因为 <code>straight.el</code> 与 <code>package.el</code> 难以共存, 所以我们必须早早手动禁用内置的 <code>package.el</code>. 这必须修改一个我们平时很少用的 <code>~emacs.d/early-init.el</code>.
</p>

<ul class="org-ul">
<li>在 <code>early-init.el</code> 中加入，并重启emacs</li>
</ul>

<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;&#25191;&#34892; init.el &#21069;&#31105;&#29992; package.el
</span>(<span style="color: #a020f0;">setq</span> package-enable-at-startup nil)
</pre>
</div>

<ul class="org-ul">
<li>在 <code>init.el</code> 中加入以下代码:</li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">-*- lexical-binding: t; -*-
</span><span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25226; Emacs &#33258;&#21160;&#28155;&#21152;&#30340;&#20195;&#30721;&#25918;&#21040; custom.el &#20013;
</span>(<span style="color: #a020f0;">setq</span> custom-file (expand-file-name <span style="color: #8b2252;">"custom.el"</span> user-emacs-directory))
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20351;&#29992; straight.el &#35774;&#32622; Emacs &#25554;&#20214;&#31649;&#29702;
</span><span style="color: #b22222;">;;</span><span style="color: #b22222;">======================================== 
</span>(<span style="color: #a020f0;">defvar</span> <span style="color: #a0522d;">bootstrap-version</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20462;&#22797; Emacs 29 &#20462;&#25913;&#20102; native-compile &#30456;&#20851;&#21464;&#37327;&#23548;&#33268;&#30340; bug
</span>(<span style="color: #a020f0;">unless</span> (version&lt;= emacs-version <span style="color: #8b2252;">"28.2"</span>)
  (<span style="color: #a020f0;">setq</span> straight-repository-branch <span style="color: #8b2252;">"develop"</span>))
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20197;&#19979;&#20195;&#30721;&#20174; straight.el &#20027;&#39029; https://github.com/radian-software/straight.el &#19978;&#22797;&#21046; 
</span>(<span style="color: #a020f0;">let</span> ((bootstrap-file
       (expand-file-name <span style="color: #8b2252;">"straight/repos/straight.el/bootstrap.el"</span> user-emacs-directory))
      (bootstrap-version 6))
  (<span style="color: #a020f0;">unless</span> (file-exists-p bootstrap-file)
    (<span style="color: #a020f0;">with-current-buffer</span>
        (url-retrieve-synchronously
         <span style="color: #8b2252;">"https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))

(straight-use-package 'use-package) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#29992; straight.el &#23433;&#35013; use-package &#22768;&#26126;&#30340;&#25554;&#20214;
</span>(<span style="color: #a020f0;">setq</span> straight-use-package-by-default t) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#33258;&#21160;&#23433;&#35013;&#25152;&#26377;&#25554;&#20214;, &#30456;&#24403;&#20110;&#21152;&#20837; :straight t
</span><span style="color: #b22222;">;;</span><span style="color: #b22222;">======================================== 
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">Emacs &#25554;&#20214;&#31649;&#29702;&#35774;&#32622;&#23436;&#27605;
</span><span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================
</span>
<span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#36825;&#27573;&#20195;&#30721;&#25918;&#22312;&#26368;&#21518;, &#21152;&#36733; Emacs &#33258;&#21160;&#35774;&#32622;&#30340;&#21464;&#37327;
</span>(<span style="color: #a020f0;">if</span> (file-exists-p custom-file) (load-file custom-file))
<span style="color: #b22222;">;;</span><span style="color: #b22222;">========================================</span>
</pre>
</div>

<p>
这里大部分的代码是 <code>straight.el</code> 的 <code>github</code> 主页上提供的下载与安装 <code>straight</code> 的代码, 然后再用 <code>straight</code> 安装 <code>use-package</code>. 最后我用把 <code>straight-use-package-by-default</code> 变量设为 <code>t</code>, 这是在使用 <code>straight</code> 时进行插件自动安装的设置.
</p>
</div>
</div>
</div>
<div id="outline-container-h:40b1cd0e-725b-48dd-84f4-c8d07092ab85" class="outline-4">
<h4 id="h:40b1cd0e-725b-48dd-84f4-c8d07092ab85">推荐插件</h4>
<div class="outline-text-4" id="text-h:40b1cd0e-725b-48dd-84f4-c8d07092ab85">
</div>
<div id="outline-container-h:6311c237-7729-428a-95f9-6de320b2426d" class="outline-5">
<h5 id="h:6311c237-7729-428a-95f9-6de320b2426d">安装插件的方法</h5>
<div class="outline-text-5" id="text-h:6311c237-7729-428a-95f9-6de320b2426d">
<ul class="org-ul">
<li>把相关的 <code>use-package</code> 代码块复制到 <code>init.el</code></li>
<li>重启emacs，或者在 <code>init.el</code> 界面使用 <code>M-x eval-buffer</code> 加载代码块.</li>
</ul>
</div>
</div>
<div id="outline-container-h:07d9cf30-0848-440d-8b71-3ab900ffdf93" class="outline-5">
<h5 id="h:07d9cf30-0848-440d-8b71-3ab900ffdf93">更快熟悉 emacs</h5>
<div class="outline-text-5" id="text-h:07d9cf30-0848-440d-8b71-3ab900ffdf93">
<ul class="org-ul">
<li>快捷键提示 <code>which-key</code> 插件</li>
<li>显示当前快捷键及绑定命令 <code>keycast</code> 插件</li>
<li>更好的帮助界面 <code>helpful</code> 插件</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="h:7eca931d-3344-4320-af55-d4b9195526d3"></a>插件组合1: 更多的帮助信息<br>
<div class="outline-text-6" id="text-h:7eca931d-3344-4320-af55-d4b9195526d3">
<p>
<code>which-key</code> + <code>keycast</code> + <code>helpful</code>. 安装代码如下
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> which-key
  <span style="color: #483d8b;">:custom</span> (which-key-idle-delay 0.5) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#24310;&#36831;&#26102;&#38388;, &#20197;&#31186;&#20026;&#21333;&#20301;
</span>  <span style="color: #483d8b;">:config</span> (which-key-mode)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21551;&#29992; which-key &#27169;&#24335;
</span>
(<span style="color: #a020f0;">use-package</span> keycast
  <span style="color: #483d8b;">:config</span> (keycast-header-line-mode 1)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#22312;&#26631;&#39064;&#26174;&#31034;
</span>
(<span style="color: #a020f0;">use-package</span> helpful
  <span style="color: #483d8b;">:bind</span>
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#37325;&#26032;&#23450;&#21521; C-h &#24320;&#22987;&#30340;&#21629;&#20196;
</span>  (([remap describe-function] . #'helpful-callable)
   ([remap describe-variable] . #'helpful-variable)
   ([remap describe-key] . #'helpful-key)
   ([remap describe-command] . #'helpful-command)
   ([remap describe-symbol] . #'helpful-symbol)
   (<span style="color: #8b2252;">"C-h C-d"</span> . #'helpful-at-point)
   (<span style="color: #8b2252;">"C-h F"</span> . #'helpful-function)))
</pre>
</div>

<p>
<code>which-key</code> 可以在按下快捷键的时候自动提示你接下来可能的快捷键. 比如按下 <code>C-h</code>, 就会提示接下来你按 <code>v</code>, <code>f</code>, <code>k</code> 等可以查看哪种类型的帮助. 如果把鼠标悬停在选项上也会在浮窗中显示对应命令的帮助. 
</p>

<p>
<code>keycast</code> 则会显示当前你使用的快捷键及对应的命令名. 它有4种显示的位置. 代码中我们选择在 <code>headrer-line</code> , 也就是 Emacs 窗口的最上方显示. 如果大家想在别的地方显示, 比如模式栏, 可以把 <code>(keycast-header-line-mode 1)</code> 改成 <code>(keycast-mode-line-mode 1)</code>. 
</p>

<p>
这两个插件可以帮助新手快速熟悉 Emacs 的快捷键和命令. 对于老用户来说, 也可以帮你快速熟悉新安装的插件. 我自己平时也是常开的.
</p>

<p>
<code>helpful</code> 则优化了帮助界面的信息显示, 包括更多有用的信息和高亮.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-h:26217d61-7d61-4de6-ab17-cc409963629b" class="outline-5">
<h5 id="h:26217d61-7d61-4de6-ab17-cc409963629b">更好的补全界面</h5>
<div class="outline-text-5" id="text-h:26217d61-7d61-4de6-ab17-cc409963629b">
<p>
<code>vertico + marginalia + orderless</code>
</p>
<ul class="org-ul">
<li>tab 补全</li>
<li>C-n/C-p 上下浏览备选项</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="h:1766fdc2-c921-42a0-936a-e7f175e28010"></a>插件组合2: 更好的补全界面<br>
<div class="outline-text-6" id="text-h:1766fdc2-c921-42a0-936a-e7f175e28010">
<p>
在 Emacs 中输入命令或打开文件, 切换缓冲区等等都会用到小缓冲区补全. 第二组插件是针对小缓冲区补全的. 代码如下
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> vertico <span style="color: #b22222;">; </span><span style="color: #b22222;">&#31446;&#24335;&#23637;&#24320;&#23567;&#32531;&#20914;&#21306;
</span>  <span style="color: #483d8b;">:custom</span> (verticle-cycle t)
  <span style="color: #483d8b;">:config</span> (vertico-mode))

(<span style="color: #a020f0;">use-package</span> marginalia <span style="color: #b22222;">; </span><span style="color: #b22222;">&#26356;&#22810;&#20449;&#24687;
</span>  <span style="color: #483d8b;">:config</span> (marginalia-mode))

(<span style="color: #a020f0;">use-package</span> orderless <span style="color: #b22222;">; </span><span style="color: #b22222;">&#20081;&#24207;&#34917;&#20840;
</span>  <span style="color: #483d8b;">:custom</span>
  (completion-styles '(orderless basic))
  (completion-category-defaults nil)
  (completion-category-overrides '((file (styles partial-completion)))))
</pre>
</div>

<p>
<code>vertico</code> 把每个补全选项放在单独的一行, 配合 <code>marginalia</code> 会在每个选项的右边加入更多相关信息.
</p>

<p>
在小缓冲区中输入时, 我们可以按 <code>&lt;tab&gt;</code> 补全当前的输入. 加入 <code>vertico</code> 之后, 我们可以用 <code>C-n</code> 和 <code>C-p</code> 或者上下移动键来选择不同的补全选项. <code>C-n</code> 和 <code>C-p</code> 也是 Emacs 中上下移动光标的快捷键.
</p>

<p>
最后的 <code>orderless</code> 允许我们在小缓冲区补全时忽略单词的顺序. 例如, 如果我们输入 <code>M-x</code>, 想要匹配 <code>find-file</code> 命令, 在默认情况下必须先输入 <code>find</code>, 再输入 <code>file</code> 才能找到 <code>find-file</code>. 如果你用了 <code>orderless</code>, 则可以通过 <code>file find</code> 找到, 或者部分的单词 <code>fil fin &lt;tab&gt;</code> 找到. 
</p>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:a11e5e50-fca1-48df-8754-bdd178875e07" class="outline-4">
<h4 id="h:a11e5e50-fca1-48df-8754-bdd178875e07">开始用emacs写LaTex</h4>
<div class="outline-text-4" id="text-h:a11e5e50-fca1-48df-8754-bdd178875e07">
<p>
最基本的LaTeX设置
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/latex-hook</span> ()
  (turn-on-cdlatex) 
  (turn-on-reftex)) 
(<span style="color: #a020f0;">use-package</span> cdlatex
  <span style="color: #483d8b;">:load-path</span> <span style="color: #8b2252;">"lisp/"</span> <span style="color: #b22222;">; </span><span style="color: #b22222;">&#38656;&#35201;&#25163;&#21160;&#20174;&#32593;&#30424;&#25110; https://github.com/cdominik/cdlatex/blob/master/cdlatex.el &#19979;&#36733; cdlatex.el &#25991;&#20214;, &#24182;&#32622;&#20110; ~/.emacs.d/lisp/ &#25991;&#20214;&#22841;&#19979;
</span>  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33509;&#20351;&#29992; straight, &#27880;&#37322;&#21069;&#19968;&#34892;, &#24182;&#21462;&#28040;&#19979;&#19968;&#34892;&#27880;&#37322;:
</span>  <span style="color: #b22222;">;; </span><span style="color: #b22222;">:straight (:host github :repo "cdominik/cdlatex" )
</span>  )
(<span style="color: #a020f0;">use-package</span> tex
  <span style="color: #483d8b;">:ensure</span> auctex
  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33509;&#20351;&#29992; straight, &#27880;&#37322;&#21069;&#19968;&#34892;, &#24182;&#21462;&#28040;&#19979;&#19968;&#34892;&#27880;&#37322;:
</span>  <span style="color: #b22222;">;; </span><span style="color: #b22222;">:straight auctex
</span>  <span style="color: #483d8b;">:custom</span>
  (TeX-parse-self t) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#33258;&#21160;&#35299;&#26512; tex &#25991;&#20214;
</span>  (TeX-PDF-mode t) 
  (TeX-DVI-via-PDFTeX t)
<span style="color: #483d8b;">:config</span> 
  (<span style="color: #a020f0;">setq-default</span> TeX-master t) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#40664;&#35748;&#35810;&#38382;&#20027;&#25991;&#20214;
</span>  (add-hook 'LaTeX-mode-hook 'my-latex-hook)) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#21152;&#36733;LaTeX&#27169;&#24335;&#35774;&#32622;</span>
</pre>
</div>


<p>
关于 <code>cdlatex</code> 的安装, 要注意的是, 它并不在任何的软件源时. 如果使用 <code>package.el</code>, 你需要手动下载这个文件 (<code>github</code> 或者我网盘里的备份), 并用 <code>:load-path</code> 关键字指定文件的目录. 如果是 <code>straight</code>, 则需要我们指定 <code>github</code> 源码的网址.
</p>

<p>
<code>AucTeX</code> 是通过 <code>use-package tex</code> 激活的. 因为不同名的问题, 我们要额外加入 <code>:ensure auctex</code> 或 <code>:straight auctex</code>. 另外, 其实 Emacs 已经内置了 <code>AucTeX</code>, 但不一定是最新版本, 我们这里的 <code>use-package</code> 则会把它更新到最新版.
</p>
</div>
</div>
</div>
<div id="outline-container-h:8389c942-5bf6-4d87-a349-8e84b0f6f700" class="outline-3">
<h3 id="h:8389c942-5bf6-4d87-a349-8e84b0f6f700">附录1-emacs最强内置pdf阅读功能pdf-tools简介</h3>
<div class="outline-text-3" id="text-h:8389c942-5bf6-4d87-a349-8e84b0f6f700">
<p>
Emacs额外依赖软件库：<a href="https://www.jianguoyun.com/p/DTiBwxMQ856tCxiflP0EIAA">https://www.jianguoyun.com/p/DTiBwxMQ856tCxiflP0EIAA</a>
</p>

<p>
Emacs配置：<a href="https://gitee.com/mickey991/emacs-config">https://gitee.com/mickey991/emacs-config</a>
</p>

<p>
B站专栏：Emacs中pdf-tools的安装与配置指南 - 哔哩哔哩 (bilibili.com)
</p>

<p>
Gitee笔记: <a href="https://mickey991.gitee.io/elatex/easy-latex-writing-ap01-pdf-tools">https://mickey991.gitee.io/elatex/easy-latex-writing-ap01-pdf-tools</a>
</p>
</div>
<div id="outline-container-h:616f0b19-37d8-46bc-a4c8-2d2f328a07ca" class="outline-4">
<h4 id="h:616f0b19-37d8-46bc-a4c8-2d2f328a07ca">使用 <code>pdf-tools</code> 的理由</h4>
<div class="outline-text-4" id="text-h:616f0b19-37d8-46bc-a4c8-2d2f328a07ca">
<p>
在用 Emacs 编写 LaTeX 文档的过程中, 你是否&#x2026;
</p>
<ul class="org-ul">
<li>预览 pdf 需要来回在编辑器和 pdf 阅读器之间切换?</li>
<li>pdf 阅读器想实现一些新功能?</li>
<li>想给 pdf 阅读器的常用功能定义新的快捷键?</li>
</ul>

<p>
又或者, 你想用 Emacs 做读书笔记, 需要同时:
</p>
<ul class="org-ul">
<li>输入大量的数学符号</li>
<li>对 pdf 文件进行批注</li>
<li>同步 Emacs 笔记文件和 pdf 文件批注的位置</li>
</ul>

<p>
<code>pdf-tools</code> 可以完美实现这些目标.
</p>
</div>
</div>
<div id="outline-container-h:862371e6-b622-485a-88a4-a26db3b88756" class="outline-4">
<h4 id="h:862371e6-b622-485a-88a4-a26db3b88756"><code>pdf-tools</code> 的优点</h4>
<div class="outline-text-4" id="text-h:862371e6-b622-485a-88a4-a26db3b88756">
<p>
与 <code>DocView</code> (Emacs 中内置的 pdf 阅读器) 比较
</p>

<ul class="org-ul">
<li><code>DocView</code>: 不清晰, 阅读效果差, 读取速度慢</li>
<li><code>pdf-tools</code>:
<ul class="org-ul">
<li>速度快, 图片渲染效果好</li>
<li>正常鼠标操作 + 大量 (可自定义) 快捷键</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:62daa29e-5491-4841-b951-0cd58f457251" class="outline-4">
<h4 id="h:62daa29e-5491-4841-b951-0cd58f457251">演示</h4>
<div class="outline-text-4" id="text-h:62daa29e-5491-4841-b951-0cd58f457251">
<p>
功能: 
</p>
<ul class="org-ul">
<li>基础的 pdf 阅读功能应有尽有, 包括超链接跳转和返回, 展开目录等</li>
<li>与 <code>auctex</code> 配合使用, 支持对编译后 pdf 进行正向/反向搜索</li>
<li>pdf 批注, 高亮, 下划线 (可保存在 pdf 文件上)</li>
</ul>

<p>
使用场景 {#使用场景}
</p>
<ul class="org-ul">
<li>编写 <code>latex</code> 文档</li>
<li>配合 <code>org-noter</code> 在 pdf 上做读书笔记</li>
</ul>
</div>
</div>
<div id="outline-container-h:ded96e05-c594-45f1-95f3-9d1b79e0375e" class="outline-4">
<h4 id="h:ded96e05-c594-45f1-95f3-9d1b79e0375e">安装流程</h4>
<div class="outline-text-4" id="text-h:ded96e05-c594-45f1-95f3-9d1b79e0375e">
<p>
<a href="https://github.com/vedang/pdf-tools">https://github.com/vedang/pdf-tools</a>
</p>

<p>
分为两部分
</p>
<ul class="org-ul">
<li>内部安装pdf-tools包</li>
<li>外部分装epdfinfo.exe 因为emacs任何图片处理都需要外在的软件支持。</li>
</ul>
</div>
<div id="outline-container-h:9662e52b-a896-402f-9653-f95b25469fb5" class="outline-5">
<h5 id="h:9662e52b-a896-402f-9653-f95b25469fb5">Emacs 包的安装</h5>
<div class="outline-text-5" id="text-h:9662e52b-a896-402f-9653-f95b25469fb5">
<ul class="org-ul">
<li><p>
保证 =melpa-stable` 在 Emacs 包的列表中
</p>

<p>
可以通过查看 `package-archives` 变量进行确认
</p></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(require <span style="color: #8b2252;">'package) ;; Emacs &#21253;&#31649;&#29702;&#22120;
(setq package-check-signature nil) ;; &#22914;&#26524;&#26377;&#31614;&#21517;&#39564;&#35777;&#38382;&#39064;, &#21487;&#20197;&#35774;&#32622;&#19981;&#26816;&#26597;&#31614;&#21517;
(setq package-archives '</span>((<span style="color: #8b2252;">"elpa"</span> . <span style="color: #8b2252;">"http://tromey.com/elpa/"</span>)
                         (<span style="color: #8b2252;">"melpa-stable"</span> . <span style="color: #8b2252;">"https://stable.melpa.org/packages/"</span>) ;; &#19979;&#36733; pdf-tools &#21482;&#38656;&#35201;&#36825;&#20010;
                         (<span style="color: #8b2252;">"melpa"</span> . <span style="color: #8b2252;">"https://melpa.org/packages/"</span>)
                         (<span style="color: #8b2252;">"gnu"</span> . <span style="color: #8b2252;">"http://elpa.gnu.org/packages/"</span>)))
</pre>
</div>

<ul class="org-ul">
<li>用 M-x package-refresh-contents 刷新包</li>
<li>用 M-x package-list-package 打开 Emacs 包的列表</li>
<li>用 C-s pdf-tools找到 `pdf-tools`</li>
<li>安装 `melpa-stable` 版本  (2023.3: `melpa` 版本仍有 bug)</li>
</ul>

<p>
验证：M-x pdf-tools-install 提示安装epdfinfo，这里C-g不安装。
</p>
</div>
</div>
<div id="outline-container-h:491f3678-75a3-4afa-bb16-795df60a0b4a" class="outline-5">
<h5 id="h:491f3678-75a3-4afa-bb16-795df60a0b4a"><code>epdfinfo</code> 的安装</h5>
<div class="outline-text-5" id="text-h:491f3678-75a3-4afa-bb16-795df60a0b4a">
<p>
<code>epdfinfo.exe</code> 及其它一些依赖文件 (例如 libpopper-version.dl) 可以帮助 Emacs 读取 pdf 文件
</p>

<p>
两种方法
</p>

<ul class="org-ul">
<li>把预编译好的文件直接放进 Emacs 的安装目录 (将上传一个可用的版本:   <a href="https://www.jianguoyun.com/p/DTiBwxMQ856tCxiflP0EIAA">https://www.jianguoyun.com/p/DTiBwxMQ856tCxiflP0EIAA</a>)</li>
<li>window 利用 msys2 推荐</li>
<li>苹果操作系统： brew</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="h:5bdab0ec-d22b-45aa-955c-bc1185173f41"></a>用 <code>msys2</code> 安装 <code>epdfinfo</code><br>
<div class="outline-text-6" id="text-h:5bdab0ec-d22b-45aa-955c-bc1185173f41">
<p>
<b>什么是 <code>msys2</code> ?</b>
</p>

<p>
可以将许多开源程序本地化编译为 Windows 程序的平台
</p>

<p>
优点
</p>

<ul class="org-ul">
<li>软件管理和升级方便</li>
<li>Emacs 一些高阶功能依赖的不少开源程序都能在上面下载</li>
<li>其它可以安装的开源软件:
Git, Emacs, texlive, gcc, python &#x2026;</li>
</ul>


<p>
<b>步骤</b>
</p>

<ul class="org-ul">
<li>到 <code>msys2</code> 官网上 <a href="https://www.msys2.org/">https://www.msys2.org/</a> 下载安装程序 <code>msys2-x86_x64-&lt;date&gt;.exe</code>. 默认安装目录为 <code>C:/msys64/</code>.</li>
<li>打开 <code>C:/msys64/</code> 下 <code>mingw64.exe</code>. 会弹出一个命令行终端</li>
<li>在命令行终端中输入</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">pacman -S mingw-w64-x86_64-emacs-pdf-tools-server
</pre>
</div>

<ul class="org-ul">
<li>以上命令可以在
<ul class="org-ul">
<li>(<a href="https://packages.msys2.org/package/mingw-w64-x86_64-emacs-pdf-tools-server?repo=mingw64">https://packages.msys2.org/package/mingw-w64-x86_64-emacs-pdf-tools-server?repo=mingw64</a>)找到.</li>
</ul></li>
<li>确认并安装所有依赖包.</li>
<li>安装完成后, 你应该能在 <code>C:\msys64\mingw64\bin</code> 中找到 <code>epdfinfo.exe</code>.</li>
<li>将 <code>C:\msys64\mingw64\bin</code> 加入环境变量 <code>PATH</code></li>
<li>打开emacs 打开pdf文件，M-x pdf-tools-install 使用pdf-tools打开pdf文件。 状态栏显示PDFVIEW</li>
</ul>

<p>
同样的安装也适用于emacs 和 texlive本身。
</p>
</div>
</li>
<li><a id="h:cf283ee6-65e0-4f8b-8dec-ae7360113c10"></a>Macos 安装epdinfo<br>
<div class="outline-text-6" id="text-h:cf283ee6-65e0-4f8b-8dec-ae7360113c10">
<div class="org-src-container">
<pre class="src src-sh">brew update
brew install poppler automake
</pre>
</div>

<ul class="org-ul">
<li>打开emacs 打开pdf文件，M-x pdf-tools-install 使用pdf-tools打开pdf文件</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:65365aa3-74cf-4b8f-89c9-ee494573603a" class="outline-4">
<h4 id="h:65365aa3-74cf-4b8f-89c9-ee494573603a">基本配置</h4>
<div class="outline-text-4" id="text-h:65365aa3-74cf-4b8f-89c9-ee494573603a">
</div>
<div id="outline-container-h:2da769ad-8482-4972-8748-593e12d978ab" class="outline-5">
<h5 id="h:2da769ad-8482-4972-8748-593e12d978ab">启动 <code>pdf-tools</code></h5>
<div class="outline-text-5" id="text-h:2da769ad-8482-4972-8748-593e12d978ab">
<p>
在 <code>init.el</code> 文件中加入
</p>

<div class="org-src-container">
<pre class="src src-sh">(pdf-tools-install)
</pre>
</div>

<p>
如果想延迟启动 (如打开 pdf 文件后再启动, 节省 Emacs 启动时间), 可以用下面的代码替换
</p>

<div class="org-src-container">
<pre class="src src-sh">(pdf-loader-install)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b8136e69-c0bd-4e26-aaad-ce31aafca052" class="outline-5">
<h5 id="h:b8136e69-c0bd-4e26-aaad-ce31aafca052">配合 <code>AucTeX</code> 使用的配置</h5>
<div class="outline-text-5" id="text-h:b8136e69-c0bd-4e26-aaad-ce31aafca052">
<p>
保持不变的设置
</p>

<div class="org-src-container">
<pre class="src src-sh">(setq TeX-PDF-mode t)
(setq TeX-source-correlate-mode t) ;; &#32534;&#35793;&#21518;&#24320;&#21551;&#27491;&#21453;&#21521;&#25628;&#32034;
(setq TeX-source-correlate-method <span style="color: #8b2252;">'synctex) ;; &#27491;&#21453;&#21521;&#25628;&#32034;&#30340;&#25191;&#34892;&#26041;&#24335;
(setq TeX-source-correlate-start-server t) ;; &#19981;&#20877;&#35810;&#38382;&#26159;&#21542;&#24320;&#21551;&#26381;&#21153;&#22120;&#20197;&#25191;&#34892;&#21453;&#21521;&#25628;&#32034;</span>
</pre>
</div>

<p>
使用 <code>Sumatra PDF</code> 的配置
</p>

<div class="org-src-container">
<pre class="src src-sh">(setq TeX-view-program-list
 <span style="color: #8b2252;">'(("Sumatra PDF" ("\"C:/Program Files/SumatraPDF/SumatraPDF.exe\" -reuse-instance" (mode-io-correlate " -forward-search %b %n ") " %o"))))
(assq-delete-all (quote output-pdf) TeX-view-program-selection)
(add-to-list '</span>TeX-view-program-selection <span style="color: #8b2252;">'(output-pdf "Sumatra PDF")</span>
</pre>
</div>

<p>
<code>pdf-tools</code> 的配置
</p>

<div class="org-src-container">
<pre class="src src-sh">(setq TeX-view-program-selection <span style="color: #8b2252;">'((output-pdf "PDF Tools"))) ;; &#29992;pdf-tools &#25171;&#24320; pdf
(add-hook '</span>TeX-after-compilation-finished-functions
          <span style="color: #b22222;">#</span><span style="color: #b22222;">'TeX-revert-document-buffer) ;; &#22312;&#23436;&#25104;&#32534;&#35793;&#21518;&#21047;&#26032; pdf &#25991;&#20214;</span>
</pre>
</div>

<p>
生效过程：
</p>
<ul class="org-ul">
<li>修改好emacs配置文件，保存，M-x eval-buffer</li>
<li>打开tex文件，C-c C-n 刷新tex文件，C-x 3 分割成2个窗口</li>
<li>C-c C-c 编译后生成pdf文件， C-c C-v 打开pdf</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:97e7d59c-2f48-4779-83ad-e1e5415d5295" class="outline-4">
<h4 id="h:97e7d59c-2f48-4779-83ad-e1e5415d5295">操作与个性化: 移动</h4>
<div class="outline-text-4" id="text-h:97e7d59c-2f48-4779-83ad-e1e5415d5295">
<ul class="org-ul">
<li>向下/上小滑动: 鼠标滚轮, C-n / C-p</li>
<li>向下/上大滑动: space / S-space</li>
<li>向后/前翻页: n /p</li>
</ul>

<p>
我的设置: 尽量把移动绑定在左手 (awsd), 空出右手进行鼠标操作.
</p>

<div class="org-src-container">
<pre class="src src-sh">(define-key pdf-view-mode-map
  <span style="color: #8b2252;">"d"</span> <span style="color: #8b2252;">'pdf-view-next-page-command) ;; &#21521;&#21518;&#32763;&#39029;
(define-key pdf-view-mode-map
  "a" '</span>pdf-view-previous-page-command) ;; &#21521;&#21069;&#32763;&#39029;
(define-key pdf-view-mode-map
  <span style="color: #8b2252;">"s"</span> <span style="color: #8b2252;">'pdf-view-scroll-up-or-next-page) ;; &#21521;&#19979;&#28369;&#21160;
(define-key pdf-view-mode-map
  "w" '</span>pdf-view-scroll-down-or-previous-page) ;; &#21521;&#19978;&#28369;&#21160;
</pre>
</div>
</div>
</div>
<div id="outline-container-h:1a383ded-b9ce-414d-b1e3-d3ed006c88bb" class="outline-4">
<h4 id="h:1a383ded-b9ce-414d-b1e3-d3ed006c88bb">操作与个性化-批注</h4>
<div class="outline-text-4" id="text-h:1a383ded-b9ce-414d-b1e3-d3ed006c88bb">
<ul class="org-ul">
<li>高亮: 右键菜单Add markup annotation -&gt; highlight, 或 C-C C-a h (h=highlight)</li>
<li>直线下划线: 右键菜单, 或 C-c C-a u (u=underline)</li>
<li>波浪下划线: 右键菜单, 或 C-c C-a s (s=squiggly)</li>
<li>文字批注: 右键菜单Add text annotation, 或 C-c C-a t (t=text)</li>
<li>删除批注: 右键菜单, 或 C-c C-a D (d=delete)</li>
</ul>

<p>
我的设置简化按键:
</p>

<div class="org-src-container">
<pre class="src src-sh">(require <span style="color: #8b2252;">'pdf-annot)
(define-key pdf-annot-minor-mode-map (kbd "C-a a") '</span>pdf-annot-add-highlight-markup-annotation) ;; &#39640;&#20142;
(define-key pdf-annot-minor-mode-map (kbd <span style="color: #8b2252;">"C-a s"</span>) <span style="color: #8b2252;">'pdf-annot-add-squiggly-markup-annotation) ;; &#27874;&#28010;&#32447;
(define-key pdf-annot-minor-mode-map (kbd "C-a u") '</span>pdf-annot-add-underline-markup-annotation) ;; &#19979;&#21010;&#32447;
(define-key pdf-annot-minor-mode-map (kbd <span style="color: #8b2252;">"C-a d"</span>) <span style="color: #8b2252;">'pdf-annot-delete) ;; &#21024;&#38500;</span>
</pre>
</div>

<p>
对于多个一个字母的键绑定，用kbd
</p>

<p>
这样做的好处：
</p>
<ul class="org-ul">
<li>左手负责移动pdf、对选中字段执行命令</li>
<li>右手负责点一些区域</li>
</ul>
</div>
</div>
<div id="outline-container-h:af00624a-e548-44a0-9f4d-5b6999726e6e" class="outline-4">
<h4 id="h:af00624a-e548-44a0-9f4d-5b6999726e6e">操作与个性化-文档跳转</h4>
<div class="outline-text-4" id="text-h:af00624a-e548-44a0-9f4d-5b6999726e6e">
<ul class="org-ul">
<li>展示目录: o
<ul class="org-ul">
<li>跳到目录位置: enter / M-enter</li>
<li>在开了2个窗口时，M-enter 跳到指定pdf位置并关闭大纲</li>
</ul></li>
<li>关闭目录: q</li>
<li>返回上一个位置: l  所有操作会被记录，按l返回上一个操作位置</li>
<li>跳到下一个位置: r</li>
</ul>

<p>
这里重新绑定常用的返回功能 (小知识: 在 <code>Sumatra PDF</code> 里对应 Alt-right)
</p>

<div class="org-src-container">
<pre class="src src-sh">(require <span style="color: #8b2252;">'pdf-history)
(define-key pdf-history-minor-mode-map "b" '</span>pdf-history-backward)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:74e235d6-f68a-4743-baad-687d9e7517f5" class="outline-4">
<h4 id="h:74e235d6-f68a-4743-baad-687d9e7517f5">操作与个性化-放缩</h4>
<div class="outline-text-4" id="text-h:74e235d6-f68a-4743-baad-687d9e7517f5">
<ul class="org-ul">
<li>放大/缩小: + / -</li>
<li>放大到页宽/页高/屏幕: W / H / P</li>
<li>重置: 0</li>
</ul>

<p>
打开 pdf 文件时自动放缩
</p>

<div class="org-src-container">
<pre class="src src-sh">(add-hook <span style="color: #8b2252;">'pdf-view-mode-hook '</span>pdf-view-fit-width-to-window) ;; &#33258;&#21160;&#25918;&#22823;&#21040;&#39029;&#23485;
</pre>
</div>

<ul class="org-ul">
<li>图像旋转 R</li>
<li>帮助 h</li>
</ul>
</div>
</div>
<div id="outline-container-h:4d54670f-e6fe-41a8-90e3-beb602f99f39" class="outline-4">
<h4 id="h:4d54670f-e6fe-41a8-90e3-beb602f99f39">其它可能出现的 bug</h4>
<div class="outline-text-4" id="text-h:4d54670f-e6fe-41a8-90e3-beb602f99f39">
</div>
<div id="outline-container-h:0a3ac31b-696c-4ef0-a437-38787881808c" class="outline-5">
<h5 id="h:0a3ac31b-696c-4ef0-a437-38787881808c">无法进行高亮-划线等</h5>
<div class="outline-text-5" id="text-h:0a3ac31b-696c-4ef0-a437-38787881808c">
<p>
这可能是安装了 2023 年后 pdf-tools 的版本导致的. 可以从 M-x package-list-package 界面中确认是从 melpa-stable 中安装的
</p>
</div>
</div>
<div id="outline-container-h:e1197536-0fa7-4604-b96d-acf169c04975" class="outline-5">
<h5 id="h:e1197536-0fa7-4604-b96d-acf169c04975">形同 <code>(invalid-function pdf-view-current-page)</code> 的错误信息</h5>
<div class="outline-text-5" id="text-h:e1197536-0fa7-4604-b96d-acf169c04975">
<p>
这是因为在 28.x 以后的 Emacs 版本中会开启本地化编译 (native compilation), 而 pdf-tools 中有一些语法过时了, 在本地化编译时会报错. 如果这个 bug 不解决的话, 不影响 pdf-tools 的使用, 但是会稍微降低 pdf 渲染的速度.
</p>

<ul class="org-ul">
<li>如何确认你的 Emacs 版本支持本地化编译</li>
</ul>

<p>
用 <code>C-h v enter system-configuration-options enter</code> 查询, 如果变量包含字段 <code>--with-native-compilation</code> , 则说明当前版本支持本地化编译
</p>

<p>
本地化编译后的文件会放在 <code>.emacs.d/eln-cache/</code> 中, 以 <code>.elc</code> 结尾.
</p>

<ul class="org-ul">
<li>解决方法</li>
</ul>

<p>
如果在上面的目录下已经产生了 <code>pdf-*.elc</code> 文件, 请先删除.
</p>

<ul class="org-ul">
<li>完全禁用本地化编译</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">(setq no-native-compile t)
</pre>
</div>

<ul class="org-ul">
<li>只禁止 <code>pdf-tools</code> 的本地化编译</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(setq native-comp-deferred-compilation-deny-list <span style="color: #8b2252;">'(".*pdf.*"))</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:e953cf9b-e2d0-44aa-8e0b-7248850dcbb1" class="outline-4">
<h4 id="h:e953cf9b-e2d0-44aa-8e0b-7248850dcbb1">完整配置</h4>
<div class="outline-text-4" id="text-h:e953cf9b-e2d0-44aa-8e0b-7248850dcbb1">
<p>
windows:
</p>

<div class="org-src-container">
<pre class="src src-sh">(pdf-tools-install)

(setq native-comp-deferred-compilation-deny-list <span style="color: #8b2252;">'(".*pdf.*"))
(setq TeX-view-program-selection '</span>((output-pdf <span style="color: #8b2252;">"PDF Tools"</span>))) ;; &#29992;pdf-tools &#25171;&#24320; pdf
(add-hook <span style="color: #8b2252;">'TeX-after-compilation-finished-functions
          #'</span>TeX-revert-document-buffer) ;; &#22312;&#23436;&#25104;&#32534;&#35793;&#21518;&#21047;&#26032; pdf &#25991;&#20214;

(define-key pdf-view-mode-map <span style="color: #8b2252;">"d"</span> <span style="color: #8b2252;">'pdf-view-next-page-command) ;; &#21521;&#21518;&#32763;&#39029;
(define-key pdf-view-mode-map "a" '</span>pdf-view-previous-page-command) ;; &#21521;&#21069;&#32763;&#39029;
(define-key pdf-view-mode-map <span style="color: #8b2252;">"s"</span> <span style="color: #8b2252;">'pdf-view-scroll-up-or-next-page) ;; &#21521;&#19979;&#28369;&#21160;
(define-key pdf-view-mode-map "w" '</span>pdf-view-scroll-down-or-previous-page) ;; &#21521;&#19978;&#28369;&#21160;

(require <span style="color: #8b2252;">'pdf-annot)
(define-key pdf-annot-minor-mode-map (kbd "C-a a") '</span>pdf-annot-add-highlight-markup-annotation) ;; &#39640;&#20142;
(define-key pdf-annot-minor-mode-map (kbd <span style="color: #8b2252;">"C-a s"</span>) <span style="color: #8b2252;">'pdf-annot-add-squiggly-markup-annotation) ;; &#27874;&#28010;&#32447;
(define-key pdf-annot-minor-mode-map (kbd "C-a u") '</span>pdf-annot-add-underline-markup-annotation) ;; &#19979;&#21010;&#32447;
(define-key pdf-annot-minor-mode-map (kbd <span style="color: #8b2252;">"C-a d"</span>) <span style="color: #8b2252;">'pdf-annot-delete) ;; &#21024;&#38500;

(require '</span>pdf-history)
(define-key pdf-history-minor-mode-map <span style="color: #8b2252;">"b"</span> <span style="color: #8b2252;">'pdf-history-backward)

(add-hook '</span>pdf-view-mode-hook <span style="color: #8b2252;">'pdf-view-fit-width-to-window) ;; &#33258;&#21160;&#25918;&#22823;&#21040;&#39029;&#23485;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7b07a7c8-b1e0-4b06-9deb-7ad0639d335c" class="outline-4">
<h4 id="h:7b07a7c8-b1e0-4b06-9deb-7ad0639d335c">相关资源</h4>
<div class="outline-text-4" id="text-h:7b07a7c8-b1e0-4b06-9deb-7ad0639d335c">
<ul class="org-ul">
<li><code>pdf-tools</code> 的 <code>Github</code> 仓库: <a href="https://github.com/vedang/pdf-tools">https://github.com/vedang/pdf-tools</a></li>
<li><code>msys2</code> 官网 <a href="https://www.msys2.org/">https://www.msys2.org/</a></li>
<li><code>epdfinfo.exe</code> 可用版本:  <a href="https://www.jianguoyun.com/p/DTiBwxMQ856tCxiflP0EIAA">https://www.jianguoyun.com/p/DTiBwxMQ856tCxiflP0EIAA</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:50dd8609-4e01-4dca-9cf0-982bdb862237" class="outline-3">
<h3 id="h:50dd8609-4e01-4dca-9cf0-982bdb862237">附录2-如何优雅地预览数学公式(prettify-symbols-mode)</h3>
<div class="outline-text-3" id="text-h:50dd8609-4e01-4dca-9cf0-982bdb862237">
</div>
<div id="outline-container-h:ce990adf-f40b-4266-b373-dd461b14d512" class="outline-4">
<h4 id="h:ce990adf-f40b-4266-b373-dd461b14d512">所见即所得的实现方式</h4>
<div class="outline-text-4" id="text-h:ce990adf-f40b-4266-b373-dd461b14d512">
<p>
文本编辑中的两个要素
</p>
<ul class="org-ul">
<li>文本本身</li>
<li>文本的格式</li>
</ul>
</div>
<div id="outline-container-h:baa74a9f-9be9-450d-939e-949b49d1b1b2" class="outline-5">
<h5 id="h:baa74a9f-9be9-450d-939e-949b49d1b1b2">pdf 文件预览: 正向与逆向搜索</h5>
<div class="outline-text-5" id="text-h:baa74a9f-9be9-450d-939e-949b49d1b1b2">
<p>
<a href="https://www.bilibili.com/video/BV1pg4y1s7Z9/">
【Emacs+LaTeX教程】Emacs最强内置pdf阅读功能pdf-tools简介</a>
</p>

<p>
缺点
</p>
<ul class="org-ul">
<li>需要大屏幕</li>
<li>如果编译错误就无法预览</li>
</ul>
</div>
</div>
<div id="outline-container-h:6b5514a1-5e07-497a-a62d-000f5be7f0f7" class="outline-5">
<h5 id="h:6b5514a1-5e07-497a-a62d-000f5be7f0f7">使用 <code>preview-latex</code></h5>
<div class="outline-text-5" id="text-h:6b5514a1-5e07-497a-a62d-000f5be7f0f7">
<p>
<a href="https://www.bilibili.com/video/BV1H4411a7fD/">
【教程】LaTeX+Emacs从零开始2-6节：所见即所得之Preview-latex</a>
</p>

<p>
缺点
</p>
<ul class="org-ul">
<li>需要手动执行编译: 常用键 <code>C-c C-p C-p</code></li>
<li>代码的可读性不强</li>
</ul>
</div>
</div>
<div id="outline-container-h:13eade1d-4662-45cc-a06f-6b0015c3eb3a" class="outline-5">
<h5 id="h:13eade1d-4662-45cc-a06f-6b0015c3eb3a">使用 <code>prettify-symbols-mode</code></h5>
<div class="outline-text-5" id="text-h:13eade1d-4662-45cc-a06f-6b0015c3eb3a">
<p>
M-x prettify-symbols-mode
</p>

<p>
启动之后emacs会将buffer中大多数的latex宏定义的数学符号映秀到相应的unicode字符输出。
</p>

<p>
日常使用可以将 prieview latex 和 prettify 结合起来，因为prettify的效果已经非常好了，所以我们也可以降低使用preview latex 的频率。
</p>

<p>
优点
</p>
<ul class="org-ul">
<li>不需要手动触发</li>
<li>没有编译过程, 不会报错</li>
<li>提高了代码的可读性</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:b0a57210-7287-49dc-af6b-a0c8623f9cb9" class="outline-4">
<h4 id="h:b0a57210-7287-49dc-af6b-a0c8623f9cb9">如何设置</h4>
<div class="outline-text-4" id="text-h:b0a57210-7287-49dc-af6b-a0c8623f9cb9">
<p>
版本要求
</p>
<ul class="org-ul">
<li>Emacs &gt;= 25</li>
<li>AucTex &gt;= 13.1.10 (可通过 <code>M-x package-list-package</code> 中查找 <code>auctex</code> 查看)</li>
</ul>
</div>
<div id="outline-container-h:3a8b3d98-4b9b-48e4-9e1a-714c7c57c15d" class="outline-5">
<h5 id="h:3a8b3d98-4b9b-48e4-9e1a-714c7c57c15d">临时打开</h5>
<div class="outline-text-5" id="text-h:3a8b3d98-4b9b-48e4-9e1a-714c7c57c15d">
<p>
<code>M-x prettify-symbols-mode</code>
</p>
</div>
</div>
<div id="outline-container-h:d83ae0c9-5e14-4108-a1fb-6203d1312c60" class="outline-5">
<h5 id="h:d83ae0c9-5e14-4108-a1fb-6203d1312c60"><code>init.el</code> 文件设置</h5>
<div class="outline-text-5" id="text-h:d83ae0c9-5e14-4108-a1fb-6203d1312c60">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-latex-hook</span> ()
  (prettify-symbols-mode t))
(add-hook 'LaTeX-mode-hook 'my-latex-hook)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b6bbbae1-db47-4d46-94ac-7f9bc4792199" class="outline-5">
<h5 id="h:b6bbbae1-db47-4d46-94ac-7f9bc4792199">字体设置</h5>
<div class="outline-text-5" id="text-h:b6bbbae1-db47-4d46-94ac-7f9bc4792199">
<p>
保证 Unicode 数学符号可以正确显示
</p>
<div class="org-src-container">
<pre class="src src-elisp">(set-fontset-font <span style="color: #8b2252;">"fontset-default"</span> 'mathematical <span style="color: #8b2252;">"Cambria Math"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:18943232-6e85-4fa0-bf97-79b5ad6ef530" class="outline-5">
<h5 id="h:18943232-6e85-4fa0-bf97-79b5ad6ef530">自动展开</h5>
<div class="outline-text-5" id="text-h:18943232-6e85-4fa0-bf97-79b5ad6ef530">
<p>
设置自动展开光标附近的宏命令.
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> prettify-symbols-unprettify-at-point t)
</pre>
</div>

<p>
C-x C-e 直接加载这个命令
</p>

<p>
tips: 如果只想删除刚输入的一个宏命令, 最快的方法是用 <code>C-/</code> 撤消, 而不是一个个字符删除. 
</p>
</div>
</div>
</div>
<div id="outline-container-h:c39fd737-e1f6-47cd-9ccc-621dbd16fd2a" class="outline-4">
<h4 id="h:c39fd737-e1f6-47cd-9ccc-621dbd16fd2a">加入自己的符号</h4>
<div class="outline-text-4" id="text-h:c39fd737-e1f6-47cd-9ccc-621dbd16fd2a">
<p>
将 <code>("&lt;latex 宏命令&gt;" . &lt;unicode 编码&gt;)</code> 加入列表中
</p>
<ul class="org-ul">
<li>latex 宏命令一般以 "<code>\\</code>" 开头, 表示一个普通的 "<code>\</code>".</li>
<li>unicode 编码以 "<code>#x</code>" 表示是16进制数字, 否则就是10进制</li>
<li>常用编码表: <a href="https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode">https://en.wikipedia.org/wiki/Mathematical_operators_and_symbols_in_Unicode</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">#x&#24320;&#22836;&#20026;16&#36827;&#21046;&#32534;&#30721;
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">tex-mode</span>)
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/more-prettified-symbols</span> ()
  (mapc (<span style="color: #a020f0;">lambda</span> (pair) (<span style="color: #a020f0;">cl-pushnew</span> pair tex--prettify-symbols-alist))
        '((<span style="color: #8b2252;">"\\Z"</span> . 8484) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22823;&#22810;&#25968;&#20154;&#22312;latex&#20013;&#20250;&#29992; \Z, \Q, \N, \R &#34920;&#31034;&#25968;&#22495;
</span>          (<span style="color: #8b2252;">"\\Q"</span> . 8474)
          (<span style="color: #8b2252;">"\\N"</span> . 8469)
          (<span style="color: #8b2252;">"\\R"</span> . 8477)
          (<span style="color: #8b2252;">"\\eps"</span> . 949)
          (<span style="color: #8b2252;">"\\ONE"</span> . #x1D7D9)
          (<span style="color: #8b2252;">"\\mathbb{S}"</span> . #x1D54A)
          (<span style="color: #8b2252;">"\\PP"</span> . #x2119) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20010;&#20154;&#38656;&#35201;, &#32463;&#24120;&#35201;&#20351;&#29992;P&#21644;E&#30340;&#25968;&#23398;&#23383;&#20307;
</span>          (<span style="color: #8b2252;">"\\P"</span> . #x1D5AF )
          (<span style="color: #8b2252;">"\\Pp"</span> . #x1D40F)
          (<span style="color: #8b2252;">"\\E"</span> . #x1D5A4)
          (<span style="color: #8b2252;">"\\Ee"</span> . #x1D404)
          (<span style="color: #8b2252;">"\\EE"</span> . #x1D53C )
          (<span style="color: #8b2252;">"\\Fc"</span> . #x2131)
          (<span style="color: #8b2252;">"\\Nc"</span> . #x1D4A9))))
(my/more-prettified-symbols)
</pre>
</div>



<p>
个人加入编码的原则
</p>
<ul class="org-ul">
<li>原列表中没有的编码</li>
<li>像 <code>\N</code> , <code>\Z</code> 等大多数人使用的宏命令, 这样可以减少与他人合作的障碍</li>
<li>进一步简化自己的常用命令, 像上面的各种 <code>E</code>, <code>P</code>.</li>
</ul>
</div>
</div>
<div id="outline-container-h:e2cb32e4-c69e-4e93-bb67-08839125c435" class="outline-4">
<h4 id="h:e2cb32e4-c69e-4e93-bb67-08839125c435">LaTeX 相关设置汇总</h4>
<div class="outline-text-4" id="text-h:e2cb32e4-c69e-4e93-bb67-08839125c435">
<div class="org-src-container">
<pre class="src src-elisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20197;&#19979;&#20026;LaTeX mode&#30456;&#20851;&#35774;&#32622;
</span>(<span style="color: #a020f0;">setq-default</span> TeX-master nil) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#32534;&#35793;&#26102;&#38382;&#35810;&#20027;&#25991;&#20214;&#21517;&#31216;
</span>(<span style="color: #a020f0;">setq</span> TeX-parse-selt t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23545;&#26032;&#25991;&#20214;&#33258;&#21160;&#35299;&#26512;(usepackage, bibliograph, newtheorem&#31561;&#20449;&#24687;)
</span><span style="color: #b22222;">;; </span><span style="color: #b22222;">PDF&#27491;&#21521;&#25628;&#32034;&#30456;&#20851;&#35774;&#32622;
</span>(<span style="color: #a020f0;">setq</span> TeX-PDF-mode t) 
(<span style="color: #a020f0;">setq</span> TeX-source-correlate-mode t) 
(<span style="color: #a020f0;">setq</span> TeX-source-correlate-method 'synctex)

(<span style="color: #a020f0;">setq</span> TeX-view-program-selection '((output-pdf <span style="color: #8b2252;">"PDF Tools"</span>))) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#29992;pdf-tools &#25171;&#24320; pdf
</span>(add-hook 'TeX-after-compilation-finished-functions
          #'TeX-revert-document-buffer) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22312;&#23436;&#25104;&#32534;&#35793;&#21518;&#21047;&#26032; pdf &#25991;&#20214;
</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25171;&#24320;TeX&#25991;&#20214;&#26102;&#24212;&#35813;&#21152;&#36733;&#30340;mode/&#25191;&#34892;&#30340;&#21629;&#20196;
</span>(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-latex-hook</span> ()
  (turn-on-cdlatex) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#36733;cdlatex
</span>  (outline-minor-mode) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#36733;outline mode
</span>  (prettify-symbols-mode t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#23558;&#23439;&#23450;&#20041;&#30340;&#25968;&#23398;&#31526;&#21495;&#26144;&#31168;&#21040;&#30456;&#24212;&#30340;unicode&#23383;&#31526;&#36755;&#20986;
</span>  (turn-on-reftex)  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#36733;reftex
</span>  (outline-hide-body)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25171;&#24320;&#25991;&#20214;&#26102;&#21482;&#26174;&#31034;&#31456;&#33410;&#26631;&#39064;
</span>
(add-hook 'LaTeX-mode-hook 'my-latex-hook)

<span style="color: #b22222;">;; </span><span style="color: #b22222;">prettify
</span>(<span style="color: #a020f0;">setq</span> prettify-symbols-unprettify-at-point t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#35774;&#32622;&#33258;&#21160;&#23637;&#24320;&#20809;&#26631;&#38468;&#36817;&#30340;&#23439;&#21629;&#20196;
</span>(set-fontset-font <span style="color: #8b2252;">"fontset-default"</span> 'mathematical <span style="color: #8b2252;">"Cambria Math"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20445;&#35777; Unicode &#25968;&#23398;&#31526;&#21495;&#21487;&#20197;&#27491;&#30830;&#26174;&#31034;
</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#26174;&#31034;&#30340;&#31526;&#21495;
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">tex-mode</span>)
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my/more-prettified-symbols</span> ()
  (mapc (<span style="color: #a020f0;">lambda</span> (pair) (<span style="color: #a020f0;">cl-pushnew</span> pair tex--prettify-symbols-alist))
        '((<span style="color: #8b2252;">"\\Z"</span> . 8484) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22823;&#22810;&#25968;&#20154;&#22312;latex&#20013;&#20250;&#29992; \Z, \Q, \N, \R &#34920;&#31034;&#25968;&#22495;
</span>          (<span style="color: #8b2252;">"\\Q"</span> . 8474)
          (<span style="color: #8b2252;">"\\N"</span> . 8469)
          (<span style="color: #8b2252;">"\\R"</span> . 8477)
          (<span style="color: #8b2252;">"\\eps"</span> . 949)
          (<span style="color: #8b2252;">"\\ONE"</span> . #x1D7D9)
          (<span style="color: #8b2252;">"\\mathbb{S}"</span> . #x1D54A)
          (<span style="color: #8b2252;">"\\PP"</span> . #x2119) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#20010;&#20154;&#38656;&#35201;, &#32463;&#24120;&#35201;&#20351;&#29992;P&#21644;E&#30340;&#25968;&#23398;&#23383;&#20307;
</span>          (<span style="color: #8b2252;">"\\P"</span> . #x1D5AF )
          (<span style="color: #8b2252;">"\\Pp"</span> . #x1D40F)
          (<span style="color: #8b2252;">"\\E"</span> . #x1D5A4)
          (<span style="color: #8b2252;">"\\Ee"</span> . #x1D404)
          (<span style="color: #8b2252;">"\\EE"</span> . #x1D53C )
          (<span style="color: #8b2252;">"\\Fc"</span> . #x2131)
          (<span style="color: #8b2252;">"\\Nc"</span> . #x1D4A9))))
(my/more-prettified-symbols)

</pre>
</div>
</div>
</div>
</div>
</section>
<section id="outline-container-h:9c60eecd-4696-41da-b328-2b11ab7110ad" class="outline-2">
<h2 id="h:9c60eecd-4696-41da-b328-2b11ab7110ad">emacs上搭建终生个人知识库</h2>
<div class="outline-text-2" id="text-h:9c60eecd-4696-41da-b328-2b11ab7110ad">
<p>
本系列讲解如何围绕 org-roam 在 Emacs 上实现双链笔记与搭建个人知识库.
</p>
</div>
<div id="outline-container-h:dd3de6b9-0484-4fb6-b735-114b213412e1" class="outline-3">
<h3 id="h:dd3de6b9-0484-4fb6-b735-114b213412e1">org-noter配置使用</h3>
<div class="outline-text-3" id="text-h:dd3de6b9-0484-4fb6-b735-114b213412e1">
</div>
<div id="outline-container-h:7b63b1c4-ca5b-4e0d-a72d-3d33b05fe51e" class="outline-4">
<h4 id="h:7b63b1c4-ca5b-4e0d-a72d-3d33b05fe51e">org-noter 是什么?</h4>
<div class="outline-text-4" id="text-h:7b63b1c4-ca5b-4e0d-a72d-3d33b05fe51e">
<ul class="org-ul">
<li>实现功能: 用一个 <code>.org</code> 笔记文件作为书本页边空间的延展, 记录任何信息, 包括截图, 数学公式, 代码等</li>
<li><code>pdf</code> 窗口和 <code>org</code> 窗口双向同步
<ul class="org-ul">
<li>在浏览 <code>pdf</code> 文件时, 笔记窗口光标会跟随到相应位置</li>
<li>在笔记文件中移动光标, <code>pdf</code> 文件会跟随滚动</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:9aacc4f7-3e1a-4267-95ed-74c00be43c17" class="outline-4">
<h4 id="h:9aacc4f7-3e1a-4267-95ed-74c00be43c17">选择 org-noter 的理由</h4>
<div class="outline-text-4" id="text-h:9aacc4f7-3e1a-4267-95ed-74c00be43c17">
<p>
&#x2026; 或者选择 <code>org</code> 文件的理由
</p>

<ul class="org-ul">
<li>电子笔记: 无纸化, 便携, 可检索</li>
<li>纯文本格式, 易于保存和同步 (如用 <code>Git</code>)</li>
<li>基于 <code>org-mode</code> 的强大功能和生态
<ul class="org-ul">
<li>诞生于 2003 年 (Markdown 诞生于 2004 年)</li>
<li><code>org-mode</code> 是 Emacs 中最强大的插件</li>
<li>天生为笔记而生. 核心是"大纲式浏览" + "标记语言" + "任务管理"</li>
<li>可以输出成 <code>markdown</code>, <code>html</code>, <code>latex</code>, <code>odt</code> 等多种格式</li>
<li>本身支持 LaTeX 公式的编辑与预览</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:ed0685c9-d4e3-4a95-a001-0d0eae05e5a5" class="outline-4">
<h4 id="h:ed0685c9-d4e3-4a95-a001-0d0eae05e5a5">安装</h4>
<div class="outline-text-4" id="text-h:ed0685c9-d4e3-4a95-a001-0d0eae05e5a5">
<p>
github: <a href="https://github.com/org-noter/org-noter">https://github.com/org-noter/org-noter</a>
</p>

<ul class="org-ul">
<li><code>org-mode</code>: Emacs 自带, 可以通过 <code>M-x package-list-package</code> 更新到 <code>Melpa</code> 最新版</li>
<li><code>pdf-tools</code>: 阅读 <code>pdf</code> 必备:</li>
<li><code>org-noter</code>: <code>M-x package-list-package</code> 安装 <code>Melpa</code> 最新版
<ul class="org-ul">
<li>2023年3月更新内容
<ul class="org-ul">
<li>2维笔记定位</li>
<li><code>djvu</code>, <code>epub</code> 文件支持</li>
<li>批注小标题优化</li>
</ul></li>
<li>如果安装了 <code>use-package</code>, 可将以下代码加入 <code>init.el</code> 自动安装</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-noter
  <span style="color: #483d8b;">:ensure</span> t )
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ff72f03b-a59e-4ded-a36c-915729bee0d8" class="outline-4">
<h4 id="h:ff72f03b-a59e-4ded-a36c-915729bee0d8">基本操作</h4>
<div class="outline-text-4" id="text-h:ff72f03b-a59e-4ded-a36c-915729bee0d8">
</div>
<div id="outline-container-h:003d10df-3222-45de-81e4-01f137180c05" class="outline-5">
<h5 id="h:003d10df-3222-45de-81e4-01f137180c05">打开 <code>org-noter</code></h5>
<div class="outline-text-5" id="text-h:003d10df-3222-45de-81e4-01f137180c05">
<p>
<code>org-noter</code> 打开需要执行 <code>M-x org-noter</code> 命令. 有两种方式
</p>
<ul class="org-ul">
<li><p>
从 <code>pdf</code> 文件打开
</p>

<p>
需要指定 <code>org</code> 文件名及路径. 这时会自动生成一个 <code>org</code> 文件, 并在 <code>org</code> 文件中保存 <code>pdf</code> 文件的路径名
</p></li>

<li><p>
从 <code>org</code> 文件打开
</p>

<p>
这里 <code>org</code> 文件里须包含 <code>pdf</code> 文件的路径名, 一般来说是由第一种方式生成的 <code>org</code> 文件.
</p></li>
</ul>

<p>
在打开的noter界面中PROPERTIES记录了这个PDF文件信息，下一次可以从org文件中打开org-noter。
</p>

<p>
未来的计划: 结合 <code>org-roam</code> + <code>org-roam-bibtex</code> + <code>Zotero</code>,  我们可以生成一个包含 pdf 路径的 <code>org-noter</code> 读书笔记模板
</p>
<ul class="org-ul">
<li>作为 <code>org-noter</code> 的笔记文件使用</li>
<li>作为个人知识库一个节点被引用</li>
</ul>
</div>
</div>
<div id="outline-container-h:fbd23a74-47f3-4aa4-9062-bd3e5eac1e49" class="outline-5">
<h5 id="h:fbd23a74-47f3-4aa4-9062-bd3e5eac1e49">大纲导入及 <code>org-mode</code> 基本操作</h5>
<div class="outline-text-5" id="text-h:fbd23a74-47f3-4aa4-9062-bd3e5eac1e49">
<p>
在 pdf 界面, <code>M-x org-noter-create-skeleton</code> tab 选择outline 可以导入 <code>pdf</code> 大纲
</p>

<p>
<b>小技巧</b>: 在 <code>pdf-tools</code> 中, <code>o</code> / <code>q</code> 可以显示/关闭大纲.
</p>

<p>
<code>org-mode</code> 常用快捷键:
</p>
<ul class="org-ul">
<li><p>
<code>&lt;tab&gt;</code> : 展开/折叠光标下标题, 进行如下循环:
</p>

<p>
"只显示标题" -&gt; "显示子标题" -&gt; "显示子标题内容" -&gt; "只显示标题"
</p></li>

<li><code>&lt;shift&gt;-&lt;tab&gt;</code>: 同时展开/折叠所有标题</li>
<li><code>M-&lt;left&gt;</code> / <code>M-&lt;right&gt;</code> : 当前标题升级/降级</li>
<li><code>M-S-&lt;left&gt;</code> / <code>M-S-&lt;right&gt;</code>: 当前标题及其子标题升级/降级</li>
</ul>
</div>
</div>
<div id="outline-container-h:e249c5c0-cd07-4a90-b701-8ab51baf1700" class="outline-5">
<h5 id="h:e249c5c0-cd07-4a90-b701-8ab51baf1700">插入笔记</h5>
<div class="outline-text-5" id="text-h:e249c5c0-cd07-4a90-b701-8ab51baf1700">
<p>
<code>org-noter</code> 通过记录页码及位置保持笔记文件与 <code>pdf</code> 文件的同步. 根据定位的精度, 在 <code>pdf</code> 界面, 有3种插入笔记方式
</p>
<dl class="org-dl">
<dt>方法1</dt><dd>按 <code>i</code> 在当前页插入笔记 (page note)</dd>
<dt>方法2</dt><dd>按 <code>M-i</code> 在鼠标点击位置插入笔记 (precise note)</dd>
<dt>方法3</dt><dd>选中文字后,
<ul class="org-ul">
<li>按 <code>i</code> 插入笔记，~C-u i~ pdf选中高亮并插入笔记</li>
<li>按 <code>&lt;tab&gt;</code> 插入笔记，  <code>C-u &lt;tab&gt;</code> 高亮并插入笔记。如果文字很短直接做为标题；如文字比较长则作为引用放笔记中，标题用默认的标题</li>
<li>按 <code>M-i</code> 插入笔记， <code>C-u M-i</code> 高亮并插入笔记</li>
</ul></dd>
</dl>

<p>
在笔记中还可以使用 <code>cdlatex</code> 编辑数学公式, 以及用 <code>org-download</code> 插入截图. 请到最后查看这些功能的基本设置.
</p>
</div>
</div>
<div id="outline-container-h:2691e700-4e39-4d68-a3fc-482903b7a661" class="outline-5">
<h5 id="h:2691e700-4e39-4d68-a3fc-482903b7a661">位置同步</h5>
<div class="outline-text-5" id="text-h:2691e700-4e39-4d68-a3fc-482903b7a661">
<ul class="org-ul">
<li><code>pdf</code> -&gt; <code>org</code>: 自动</li>
<li><code>org</code> -&gt; <code>pdf</code>: 手动
<ul class="org-ul">
<li><code>M-p</code> / <code>M-.</code> / <code>M-n</code>: 上一/当前/下一页笔记</li>
<li><code>C-M-p</code> / <code>C-M-.</code> / <code>C-M-n</code>: 上一/当前/下一条笔记</li>
<li>以上命令也可以在 <code>pdf</code> 界面中使用</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:27358173-d474-486d-9644-9aa2554c2aac" class="outline-4">
<h4 id="h:27358173-d474-486d-9644-9aa2554c2aac">高级设置</h4>
<div class="outline-text-4" id="text-h:27358173-d474-486d-9644-9aa2554c2aac">
</div>
<div id="outline-container-h:e3929c85-5973-40fa-82c1-d107e202f429" class="outline-5">
<h5 id="h:e3929c85-5973-40fa-82c1-d107e202f429">默认笔记目录</h5>
<div class="outline-text-5" id="text-h:e3929c85-5973-40fa-82c1-d107e202f429">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-notes-search-path '(<span style="color: #8b2252;">"your/path/to/note-directory/"</span> <span style="color: #8b2252;">"2nd-path"</span>  <span style="color: #8b2252;">"3rd-path"</span>))
</pre>
</div>
<p>
设置后, 从 pdf 文件中使用 <code>org-noter</code> 命令会自动在上述目录中寻找与文件名同名的 <code>.org</code> 笔记文件.
</p>

<p>
两种 <code>org-noter</code> 使用模式
</p>
<ul class="org-ul">
<li>(推荐) 笔记在不同的 <code>.org</code> 文件中</li>
<li>所有笔记在同一个 <code>.org</code> 文件中: 将上述变量设置为一个文件名</li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-notes-search-path '(<span style="color: #8b2252;">"your/path/to/notes.org"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9d38fc35-5456-417b-940a-148532748290" class="outline-5">
<h5 id="h:9d38fc35-5456-417b-940a-148532748290">自动保存上次位置</h5>
<div class="outline-text-5" id="text-h:9d38fc35-5456-417b-940a-148532748290">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-auto-save-last-location t)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:98613a53-4553-4d10-b3d4-86ecc6bb7353" class="outline-5">
<h5 id="h:98613a53-4553-4d10-b3d4-86ecc6bb7353">选中文字后插入笔记自动高亮</h5>
<div class="outline-text-5" id="text-h:98613a53-4553-4d10-b3d4-86ecc6bb7353">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-highlight-selected-text t)
</pre>
</div>

<p>
这是全局设置. 如果想对某一条笔记临时启用或禁用, 可以使用 <code>C-u</code> 前缀.
</p>

<p>
例如: 当前高亮默认设置为 <code>t</code>, 但当前笔记不想高亮文字, 可以使用 <code>C-u M-e</code> 插入 <code>precise note</code>
</p>
</div>
</div>
<div id="outline-container-h:1df63afc-4030-481b-afa6-bbde5ae23e0c" class="outline-5">
<h5 id="h:1df63afc-4030-481b-afa6-bbde5ae23e0c">长文本和短文本</h5>
<div class="outline-text-5" id="text-h:1df63afc-4030-481b-afa6-bbde5ae23e0c">
<ul class="org-ul">
<li>短文本默认标题为全文</li>
<li>长文本默认标题为 <code>Note for page XXX</code></li>
</ul>

<p>
修改长/短文本标准:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-max-short-selected-text-length 20) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#20026; 80</span>
</pre>
</div>

<p>
修改短文本默认标题:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-default-heading-title <span style="color: #8b2252;">"&#31532; $p$ &#39029;&#30340;&#31508;&#35760;"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:a193bb90-990e-4d10-b065-7ddfe2cc3e13" class="outline-5">
<h5 id="h:a193bb90-990e-4d10-b065-7ddfe2cc3e13">修改快捷键</h5>
<div class="outline-text-5" id="text-h:a193bb90-990e-4d10-b065-7ddfe2cc3e13">
<div class="org-src-container">
<pre class="src src-elisp">(global-set-key (kbd <span style="color: #8b2252;">"C-c n n"</span>) 'org-noter) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24555;&#36895;&#25171;&#24320;org-noter&#65292;&#19982; org-roam &#37197;&#21512;
</span>(define-key org-noter-doc-mode-map (kbd <span style="color: #8b2252;">"e"</span>) 'org-noter-insert-note) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#20837;&#24038;&#25163;&#38190;&#20301;
</span>(define-key org-noter-doc-mode-map (kbd <span style="color: #8b2252;">"M-e"</span>) 'org-noter-insert-precise-note) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#20837;&#24038;&#25163;&#38190;&#20301;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:91762969-087a-470d-9fd3-b322d1408793" class="outline-5">
<h5 id="h:91762969-087a-470d-9fd3-b322d1408793">代码汇总</h5>
<div class="outline-text-5" id="text-h:91762969-087a-470d-9fd3-b322d1408793">
<p>
自定义设置的全部代码
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> org-noter-notes-search-path '(<span style="color: #8b2252;">"your/path/to/note-directory/"</span>)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#31508;&#35760;&#36335;&#24452;
</span>(<span style="color: #a020f0;">setq</span> org-noter-auto-save-last-location t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#20445;&#23384;&#19978;&#27425;&#38405;&#35835;&#20301;&#32622;
</span>(<span style="color: #a020f0;">setq</span> org-noter-max-short-selected-text-length 20) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#20026; 80
</span>(<span style="color: #a020f0;">setq</span> org-noter-default-heading-title <span style="color: #8b2252;">"&#31532; $p$ &#39029;&#30340;&#31508;&#35760;"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#30701;&#26631;&#39064;&#26684;&#24335;
</span>(global-set-key (kbd <span style="color: #8b2252;">"C-c n n"</span>) 'org-noter) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#19982; org-roam &#37197;&#21512;
</span>(define-key org-noter-doc-mode-map (kbd <span style="color: #8b2252;">"e"</span>) 'org-noter-insert-note) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#20837;&#24038;&#25163;&#38190;&#20301;
</span>(define-key org-noter-doc-mode-map (kbd <span style="color: #8b2252;">"M-e"</span>) 'org-noter-insert-precise-note) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#20837;&#24038;&#25163;&#38190;&#20301;</span>
</pre>
</div>

<p>
将上述代码写在 <code>use-package</code> 代码块中:
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-noter
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom</span>
  (org-noter-notes-search-path '(<span style="color: #8b2252;">"your/path/to/note-directory/"</span>)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#31508;&#35760;&#36335;&#24452;
</span>  (org-noter-auto-save-last-location t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#20445;&#23384;&#19978;&#27425;&#38405;&#35835;&#20301;&#32622;
</span>  (org-noter-max-short-selected-text-length 20) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#20026; 80
</span>  (org-noter-default-heading-title <span style="color: #8b2252;">"&#31532; $p$ &#39029;&#30340;&#31508;&#35760;"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#30701;&#26631;&#39064;&#26684;&#24335;
</span>  <span style="color: #483d8b;">:bind</span>
  ((<span style="color: #8b2252;">"C-c n n"</span> . org-noter) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#19982; org-roam &#37197;&#21512;
</span>   <span style="color: #483d8b;">:map</span> org-noter-doc-mode-map <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21152;&#20837;&#24038;&#25163;&#38190;&#20301;
</span>   (<span style="color: #8b2252;">"e"</span> . org-noter-insert-note)
   (<span style="color: #8b2252;">"M-e"</span> . org-noter-insert-precise-note)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:76da4863-5f39-4145-829a-b6d311e3e09d" class="outline-4">
<h4 id="h:76da4863-5f39-4145-829a-b6d311e3e09d">LaTeX 公式</h4>
<div class="outline-text-4" id="text-h:76da4863-5f39-4145-829a-b6d311e3e09d">
<p>
<code>org-mode</code> 中与 LaTex 有关的设置
</p>
<div class="org-src-container">
<pre class="src src-elisp">  (<span style="color: #a020f0;">use-package</span> org
    <span style="color: #483d8b;">:defer</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24310;&#36831;&#21152;&#36733;
</span>    <span style="color: #483d8b;">:custom</span>
    (org-highlight-latex-and-related '(native latex entities)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">LaTeX &#39640;&#20142;&#35774;&#32622;
</span>    (org-pretty-entities t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">LaTeX &#20195;&#30721;&#30340; prettify
</span>    (org-pretty-entities-include-sub-superscripts nil) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#19981;&#38544;&#34255; LaTeX &#30340;&#19978;&#19979;&#26631;&#26356;&#23481;&#26131;&#32534;&#36753;
</span>    (org-format-latex-options
     '(<span style="color: #483d8b;">:foreground</span> default <span style="color: #483d8b;">:background</span> default <span style="color: #483d8b;">:scale</span> 1.8 <span style="color: #483d8b;">:html-foreground</span> <span style="color: #8b2252;">"Black"</span> <span style="color: #483d8b;">:html-background</span> <span style="color: #8b2252;">"Transparent"</span> <span style="color: #483d8b;">:html-scale</span> 1.0 <span style="color: #483d8b;">:matchers</span> (<span style="color: #8b2252;">"begin"</span> <span style="color: #8b2252;">"$1"</span> <span style="color: #8b2252;">"$"</span> <span style="color: #8b2252;">"$$"</span> <span style="color: #8b2252;">"</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">"</span> <span style="color: #8b2252;">"\\["</span>))) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22686;&#22823;&#20844;&#24335;&#39044;&#35272;&#30340;&#22270;&#29255;&#22823;&#23567;
</span>    <span style="color: #483d8b;">:config</span>
    (add-hook 'org-mode-hook #'org-cdlatex-mode) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25171;&#24320; cdlatex
</span>)
</pre>
</div>

<p>
<code>cdlatex</code> 的设置可以参考我的视频
</p>
<ul class="org-ul">
<li><a href="https://www.bilibili.com/video/BV134411v7jn/">【教程】 LaTeX+Emacs 从零开始2-2节: cdLaTeX 简介</a></li>
<li><a href="https://www.bilibili.com/video/BV1Z4411Y7F7/">【教程】 LaTeX+Emacs从零开始2-4节：cdLaTeX自定义设置</a></li>
</ul>

<p>
我会在另一期教程中详细介绍 <code>org-mode</code> 中 <code>LaTeX</code> 编辑的设置. 
</p>
</div>
</div>
<div id="outline-container-h:42f64eb8-22ca-434a-83b7-0577e20753ce" class="outline-4">
<h4 id="h:42f64eb8-22ca-434a-83b7-0577e20753ce">截图功能</h4>
<div class="outline-text-4" id="text-h:42f64eb8-22ca-434a-83b7-0577e20753ce">
<p>
需要借助 <code>org-download</code> 实现. 在这里只给出实现截图功能的设置代码, 以后的教程再详细讲解.
</p>

<p>
使用方法
</p>

<ul class="org-ul">
<li>使用系统截图工具 (<code>Windows</code> 下用 <code>&lt;Win&gt;+&lt;shift&gt;+s</code>) 将截图保存到剪贴板</li>
<li>用 <code>C-M-y</code> (绑定了 <code>org-download-clipboard</code> 函数) 将剪贴板中图片粘贴到 <code>org</code> 文件中.</li>
</ul>

<p>
安装方法  
</p>
<ul class="org-ul">
<li><code>Linux</code> / <code>MacOS</code>
<ul class="org-ul">
<li>安装截图工具 snipaste</li>
<li>用以下 <code>use-package</code> 代码安装及设置</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-download
  <span style="color: #483d8b;">:ensure</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#20174; melpa &#19978;&#23433;&#35013;
</span>  <span style="color: #483d8b;">:defer</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24310;&#36831;&#21152;&#36733;
</span>  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #483d8b;">:map</span> org-mode-map
        (<span style="color: #8b2252;">"C-M-y"</span> . org-download-clipboard)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#32465;&#23450;&#20174;&#21098;&#36148;&#29256;&#31896;&#36148;&#25130;&#22270;&#30340;&#24555;&#25463;&#38190;
</span>  <span style="color: #483d8b;">:custom</span>
  (org-download-heading-lvl 1) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#29992;&#19968;&#32423;&#26631;&#39064;&#32473;&#25130;&#22270;&#25991;&#20214;&#21629;&#21517;
</span>  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq</span> org-download-image-attr-list
        '(<span style="color: #8b2252;">"#+ATTR_HTML: :width 80% :align center"</span>))
  (<span style="color: #a020f0;">setq-default</span> org-download-image-dir <span style="color: #8b2252;">"./images"</span>)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#29992;&#21516;&#32423; ./img &#30446;&#24405;&#25918;&#32622;&#25130;&#22270;&#25991;&#20214;</span>
</pre>
</div>


<ul class="org-ul">
<li><code>Windows</code>
<ul class="org-ul">
<li><p>
需要安装 <code>ImageMagick</code>, 并保证 <code>magick.exe</code> 在 <code>PATH</code> 变量的路径中
</p>

<p>
用 <code>msys2</code> 安装
</p>

<div class="org-src-container">
<pre class="src src-sh">pacman -S mingw-w64-x86_64-imagemagick
</pre>
</div></li>

<li>从<a href="https://github.com/abo-abo/org-download/blob/acc9622968cb4d0027cd3478c374191597c18ea4/org-download.el%20%E6%88%96">这里</a>或网盘下载 <code>org-download.el</code> 文件, 置于你的 <code>.emacs.d</code> 文件夹合适的路径中 (如 <code>~/.emacs.d/lisp/</code>)</li>

<li><p>
使用以下 <code>use-package</code> 代码及设置
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-download
  <span style="color: #483d8b;">:ensure</span> async <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22240;&#20026;&#19981;&#26159;&#20174;melpa&#23433;&#35013;, &#38656;&#35201;&#25163;&#21160;&#20445;&#35777;async&#23433;&#35013;
</span>  <span style="color: #483d8b;">:defer</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#24310;&#36831;&#21152;&#36733;
</span>  <span style="color: #483d8b;">:load-path</span> <span style="color: #8b2252;">"~/.emacs.d/lisp/"</span>
  <span style="color: #483d8b;">:bind</span>
  (<span style="color: #483d8b;">:map</span> org-mode-map
        (<span style="color: #8b2252;">"C-M-y"</span> . org-download-clipboard)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#32465;&#23450;&#20174;&#21098;&#36148;&#29256;&#31896;&#36148;&#25130;&#22270;&#30340;&#24555;&#25463;&#38190;
</span>  <span style="color: #483d8b;">:custom</span>
  (org-download-heading-lvl 1) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#29992;&#19968;&#32423;&#26631;&#39064;&#32473;&#25130;&#22270;&#25991;&#20214;&#21629;&#21517;
</span>  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">setq-default</span> org-download-image-dir <span style="color: #8b2252;">"./images"</span>)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#29992;&#21516;&#32423; ./img &#30446;&#24405;&#25918;&#32622;&#25130;&#22270;&#25991;&#20214;</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:db39e03d-927c-47e7-8b05-4076ab0dfbab" class="outline-3">
<h3 id="h:db39e03d-927c-47e7-8b05-4076ab0dfbab">什么是双链笔记与org-roam初始体验</h3>
<div class="outline-text-3" id="text-h:db39e03d-927c-47e7-8b05-4076ab0dfbab">
</div>
<div id="outline-container-h:c5a0d63e-23ed-4464-9f7d-1ee007023b76" class="outline-4">
<h4 id="h:c5a0d63e-23ed-4464-9f7d-1ee007023b76">什么是笔记?</h4>
<div class="outline-text-4" id="text-h:c5a0d63e-23ed-4464-9f7d-1ee007023b76">
<p>
笔记核心功能:
</p>
<ul class="org-ul">
<li>输入: 记录</li>
<li>输出: 信息的提取与归纳</li>
</ul>

<p>
笔记类型举例
</p>
<ul class="org-ul">
<li>课堂笔记</li>
<li>学习心得, 复习笔记</li>
<li>读书笔记</li>
<li>数学草稿</li>
<li>科研日志, 灵感</li>
<li>教程/食谱/日记等, 例如: "如何安装Emacs", "如何做红烧肉"</li>
</ul>
<p>
&#x2026;
</p>
</div>
</div>
<div id="outline-container-h:33919bf5-356d-4f09-b857-ab1f16abd456" class="outline-4">
<h4 id="h:33919bf5-356d-4f09-b857-ab1f16abd456">信息提取</h4>
<div class="outline-text-4" id="text-h:33919bf5-356d-4f09-b857-ab1f16abd456">
<p>
从笔记高效地提取信息很难
</p>
<ul class="org-ul">
<li>纸质笔记
<ul class="org-ul">
<li>优点: 简单</li>
<li>缺点: 不能检索</li>
</ul></li>
<li>电子笔记: <code>LaTeX</code>, <code>org</code>, <code>markdown</code> 等
<ul class="org-ul">
<li>优点: 可全文搜索, 读取信息能力大大提高</li>
<li>缺点: 思考的过程, 知识间的联系难以体现.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:e07eb5fe-e397-47f2-a118-9dc0884a1b87" class="outline-4">
<h4 id="h:e07eb5fe-e397-47f2-a118-9dc0884a1b87">传统笔记的局限性</h4>
<div class="outline-text-4" id="text-h:e07eb5fe-e397-47f2-a118-9dc0884a1b87">
<ul class="org-ul">
<li>自上而下的树状结构
<ul class="org-ul">
<li>树状结构无处不在: 图书馆目录, 文件夹, 书本章节段落</li>
</ul></li>
<li>缺陷
<ul class="org-ul">
<li>输入: 初始分类难</li>
<li>输出: 不利于发现联系</li>
</ul></li>
<li>传统笔记的完美形式就是一本书</li>
<li>但是现代人遇到问题第一反应不是去翻书, 而是用搜索引擎或 ChatGPT.</li>
</ul>
</div>
</div>
<div id="outline-container-h:803980d3-13ff-47e6-b4f2-e9b4062904c5" class="outline-4">
<h4 id="h:803980d3-13ff-47e6-b4f2-e9b4062904c5">理想的笔记模型</h4>
<div class="outline-text-4" id="text-h:803980d3-13ff-47e6-b4f2-e9b4062904c5">
<ul class="org-ul">
<li>双链笔记: <code>原子化笔记</code> + <code>网状结构</code> 
<ul class="org-ul">
<li>原子化笔记: 将笔记拆分成独立, 完整的小条目</li>
<li>网状结构: 用 <code>链接</code> 串连笔记, 自下而上生成结构</li>
</ul></li>
<li>原型: 卡片盒笔记 (Zettlekasten)
<ul class="org-ul">
<li>卢曼 (Luhmann, 1927-1988): 德国社会学家</li>
<li>卢曼从1952年左右开始构建卡片盒笔记, 最后笔记包含9万余条目</li>
<li>卢曼一生发表了50本著作与550篇论文</li>
</ul></li>
<li>现代实现方式: 双链笔记/个人知识库软件 (2020年前后)
<ul class="org-ul">
<li><code>Roam Research</code>, <code>Obsidian</code>, <code>Logseq</code>, <code>Notion</code> &#x2026;</li>
<li>在 Emacs 中: 基于 <code>org-roam</code> 的知识管理系统</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:de7ba321-d5d3-443e-ae8a-c738c19f8761" class="outline-4">
<h4 id="h:de7ba321-d5d3-443e-ae8a-c738c19f8761">为什么选择 <code>org-roam</code></h4>
<div class="outline-text-4" id="text-h:de7ba321-d5d3-443e-ae8a-c738c19f8761">
<p>
&#x2026; 而不是 <del>Roam Research</del>, <del>Obsedian</del>, <del>Logseq</del>, <del>Notion</del>, &#x2026;
</p>
</div>
<div id="outline-container-h:29025c0c-2a99-42a1-9a23-48ce271b8421" class="outline-5">
<h5 id="h:29025c0c-2a99-42a1-9a23-48ce271b8421">我个人的笔记需求</h5>
<div class="outline-text-5" id="text-h:29025c0c-2a99-42a1-9a23-48ce271b8421">
<ul class="org-ul">
<li>简洁但强大的笔记功能, 包含 LaTeX 数学公式, 交叉引用</li>

<li>支持双链笔记</li>
<li>能与文献管理软件如 <code>Zotero</code> 整合</li>
<li>可视化界面; 易于导出为其它形式</li>
</ul>
</div>
</div>
<div id="outline-container-h:9e9ce931-921b-4d12-826b-a7125f560688" class="outline-5">
<h5 id="h:9e9ce931-921b-4d12-826b-a7125f560688">笔记软件比较</h5>
<div class="outline-text-5" id="text-h:9e9ce931-921b-4d12-826b-a7125f560688">
<ul class="org-ul">
<li><code>Roam Research</code>: 创建于2020.1., 双链+图形界面, 订阅制 (基础版 180＄/年)</li>
<li><code>Obsidian</code>: 创建于 2020.3. 基于 <code>Markdown</code> 文件, 有强大插件生态, 基础版免费, 全平台使用</li>
<li><code>Logseq</code>: 创建于 2020. 开源, 基于 <code>Markdown</code> 或 <code>org</code> 文件. 与 <code>Obsedian</code> 非常像</li>
<li><code>org-mode</code> + <code>Emacs</code>
<ul class="org-ul">
<li>本身强大的文本处理能力与笔记生态</li>
<li>个性化设置</li>
<li>与其它工作流程的整合</li>
<li>底层结构是纯文本, 易于保存和导出</li>
<li>开源软件, 永久免费, 强大的插件生态, 上限和自由度很高</li>
<li>终生个人知识库: 平台也需要有强大的生命力, Emacs 有近40年历史</li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:828fbd93-d6ec-4d36-967a-264da0c6bb75" class="outline-4">
<h4 id="h:828fbd93-d6ec-4d36-967a-264da0c6bb75">个人知识库的构建</h4>
<div class="outline-text-4" id="text-h:828fbd93-d6ec-4d36-967a-264da0c6bb75">
<ul class="org-ul">
<li>核心: 笔记间的 <code>链接</code></li>
<li>笔记类型
<ul class="org-ul">
<li>灵感笔记 (fleeting note)</li>
<li>文献笔记 (literature note)</li>
<li>永久笔记 (pernament note)</li>
</ul></li>
</ul>

<p>
前2种笔记类型相当于基础信息的输入，输入基础信息后把他们整理成永久笔记，并且在永久笔记之间添加合适的链接。用双链笔记工具发现有着密切联系的笔记。
</p>

<ul class="org-ul">
<li>自下而上生成结构: 一组产生密切联系的笔记自然而然形成一个主题, 一个主题可以形成一条新的永久笔记并与其它笔记产生联系. 主题的结合可以产生新的主题, 如此反复.</li>
<li>与个人 wiki 的区别:
个人知识库不仅仅是知识的记录, 还有对知识的归纳和提炼 &#x2013; 这由我们建立的 <code>链接</code> 体现</li>
<li>参考资料
<ul class="org-ul">
<li><span class="underline">How to take smart notes</span>: Sönke Ahrens</li>
<li>(中文版) <a href="https://book.douban.com/subject/35503571/">卡片笔记写作法</a>.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:23a70a8f-792e-4d13-830d-150a44a1ae0e" class="outline-4">
<h4 id="h:23a70a8f-792e-4d13-830d-150a44a1ae0e">主要内容</h4>
<div class="outline-text-4" id="text-h:23a70a8f-792e-4d13-830d-150a44a1ae0e">
<ul class="org-ul">
<li>本期
<ul class="org-ul">
<li>安装与基本设置</li>
<li>今天以后大家可以用 <code>org-roam</code> 记录学习 <code>org-roam</code> 的笔记</li>
</ul></li>
<li>与 <code>Zotero</code> 文献管理整合 (<code>org-ref</code>, <code>helm-bibtex</code>, <code>org-roam-bibtex</code>)</li>
<li>与 <code>org-noter</code> 整合</li>
<li>笔记模板设置</li>
<li><code>org</code> 笔记流程优化
<ul class="org-ul">
<li>数学公式 (<code>org-cdlatex</code>, <code>org-preview</code>)</li>
<li>自动补全 (<code>company</code>)</li>
<li>中文输入法 (<code>pyim</code>)</li>
<li>交叉引用 (<code>org-ref</code>)</li>
<li><code>org</code> 界面优化 (<code>org-modern</code>, <code>org-face</code> &#x2026;)</li>
</ul></li>
<li>项目管理</li>
<li>任务管理 (<code>org-agenda</code>)</li>
<li>日记系统 (<code>org-roam-daily</code>)</li>
<li>可视化 (<code>org-roam-ui</code>)</li>
<li>导出设置</li>
</ul>
<p>
&#x2026;&#x2026;  
</p>
</div>
</div>
<div id="outline-container-h:4a203fc2-10f3-490c-a2a7-4f8ecebb810e" class="outline-4">
<h4 id="h:4a203fc2-10f3-490c-a2a7-4f8ecebb810e">org-roam 安装</h4>
<div class="outline-text-4" id="text-h:4a203fc2-10f3-490c-a2a7-4f8ecebb810e">
<p>
以Emacs 28为准
</p>
<ul class="org-ul">
<li><code>gcc</code> 编译器: 用于编译 <code>emacsql-sqlite</code> (Emacs 29后应该不再需要)
<ul class="org-ul">
<li><p>
<code>Windows</code> 下可通过 <code>msys2</code> 安装 (推荐), 并保证在系统可执行文件目录下
</p>

<div class="org-src-container">
<pre class="src src-shell">pacman -S mingw-w64-x86_64-gcc
</pre>
</div></li>

<li><code>Linux</code> 或 <code>MacOS</code> 下大概率系统自带</li>
</ul></li>
<li><code>org-roam</code> 插件
<ul class="org-ul">
<li>用内置的 <code>package-el</code> 安装: <code>M-x package-install &lt;return&gt; org-roam &lt;return&gt;</code></li>
<li><code>use-package</code> 模块中 <code>:ensure t</code> (见后面示例)</li>
</ul></li>
<li><code>org-roam-ui</code> 插件
<ul class="org-ul">
<li>用内置的 <code>package-el</code> 安装: <code>M-x package-install &lt;return&gt; org-roam-ui &lt;return&gt;</code></li>
<li><code>use-package</code> 模块中 <code>:ensure t</code> (见后面示例)</li>
</ul></li>
<li><code>emacsql-sqlite</code>
<ul class="org-ul">
<li>安装后第一次加载 <code>org-roam</code>, Emacs 会提示正在编译 <code>emacsql-sqlite</code>, 请耐心等待.</li>
<li>编译成功后系统中会找到类似 <code>.emacs.d/elpa/emacsql-sqlite-XXXXX/sqlite</code> 的目录</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:308b8480-7395-43c4-81f5-83f00fba4bd6" class="outline-4">
<h4 id="h:308b8480-7395-43c4-81f5-83f00fba4bd6">基本设置</h4>
<div class="outline-text-4" id="text-h:308b8480-7395-43c4-81f5-83f00fba4bd6">
<ul class="org-ul">
<li>笔记目录: 需要提前手动创建, 要易于同步;</li>
<li>日记设置: 目录与快捷键</li>
<li><p>
快捷键: 使用任何一个将会启动 <code>org-roam</code>
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-roam
  <span style="color: #483d8b;">:ensure</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#23433;&#35013;
</span>  <span style="color: #483d8b;">:custom</span>
  (org-roam-directory <span style="color: #8b2252;">"~/roam-notes/"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#31508;&#35760;&#30446;&#24405;, &#25552;&#21069;&#25163;&#21160;&#21019;&#24314;&#22909;
</span>  (org-roam-dailies-directory <span style="color: #8b2252;">"daily/"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#26085;&#35760;&#30446;&#24405;, &#19978;&#19968;&#30446;&#24405;&#30340;&#30456;&#23545;&#36335;&#24452;
</span>  (org-roam-db-gc-threshold most-positive-fixnum) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25552;&#39640;&#24615;&#33021;
</span>  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-c n f"</span> . org-roam-node-find)
         <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#22914;&#26524;&#20320;&#30340;&#20013;&#25991;&#36755;&#20837;&#27861;&#20250;&#25318;&#25130;&#38750; ctrl &#24320;&#22836;&#30340;&#24555;&#25463;&#38190;, &#20063;&#21487;&#32771;&#34385;&#31867;&#20284;&#22914;&#19979;&#30340;&#35774;&#32622;
</span>         <span style="color: #b22222;">;; </span><span style="color: #b22222;">("C-c C-n C-f" . org-roam-node-find) 
</span>         (<span style="color: #8b2252;">"C-c n i"</span> . org-roam-node-insert)
         (<span style="color: #8b2252;">"C-c n c"</span> . org-roam-capture)
         (<span style="color: #8b2252;">"C-c n l"</span> . org-roam-buffer-toggle) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26174;&#31034;&#21518;&#38142;&#31383;&#21475;
</span>         (<span style="color: #8b2252;">"C-c n u"</span> . org-roam-ui-mode)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#27983;&#35272;&#22120;&#20013;&#21487;&#35270;&#21270;
</span>  <span style="color: #483d8b;">:bind-keymap</span>
  (<span style="color: #8b2252;">"C-c n d"</span> . org-roam-dailies-map) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26085;&#35760;&#33756;&#21333;
</span>  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-roam-dailies</span>)  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21551;&#29992;&#26085;&#35760;&#21151;&#33021;
</span>  (org-roam-db-autosync-mode)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21551;&#21160;&#26102;&#33258;&#21160;&#21516;&#27493;&#25968;&#25454;&#24211;
</span>
(<span style="color: #a020f0;">use-package</span> org-roam-ui
  <span style="color: #483d8b;">:ensure</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#23433;&#35013;
</span>  <span style="color: #483d8b;">:after</span> org-roam  
  <span style="color: #483d8b;">:custom</span>
  (org-roam-ui-sync-theme t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21516;&#27493; Emacs &#20027;&#39064;
</span>  (org-roam-ui-follow t) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#31508;&#35760;&#33410;&#28857;&#36319;&#38543;
</span>  (org-roam-ui-update-on-save t)) 
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-h:cb44de56-81b8-4698-b598-3ee4b11ddc3a" class="outline-4">
<h4 id="h:cb44de56-81b8-4698-b598-3ee4b11ddc3a">创建笔记及链接</h4>
<div class="outline-text-4" id="text-h:cb44de56-81b8-4698-b598-3ee4b11ddc3a">
<p>
创建链接是最基础也是最重要的功能!
</p>

<ul class="org-ul">
<li><p>
<code>org-roam-capture</code> (快捷键 <code>C-c n c</code>)
</p>

<p>
创建一条新笔记. 未来可以预设不同主题的默认模板. 每一条笔记就是一个 <code>org</code> 文件
</p></li>

<li><p>
<code>org-roam-find</code> (快捷键 <code>C-c n f</code>)
</p>

<p>
通过关键词查找笔记并跳转
</p></li>

<li><p>
<code>org-roam-insert</code> (快捷键 <code>C-c n i</code>)
</p>

<p>
插入一条笔记的链接
</p>

<ul class="org-ul">
<li>在查找笔记时利用 <code>org-roam-find</code> 的界面</li>
<li>若笔记不存在, 则利用 <code>org-roam-capture</code> 的界面创建笔记</li>
</ul></li>

<li>删除笔记: 直接删除笔记文件即可, 如 <code>M-x delete-file</code>
<ul class="org-ul">
<li>更新数据库：~org-roam-db-sync~</li>
</ul></li>
<li>ui界面： <code>C-c n u</code></li>
<li><code>org-mode</code> 内链接跳转: 鼠标点击或 <code>C-c C-o</code> (<code>org-open-at-point</code>)</li>
<li><p>
加入标签: 普通的标签可以看作一个特殊的笔记条目, 可以用 <code>org-roam-insert</code> 去插入一些以关键字为标题的笔记充当标签.
</p>

<p>
一个通用惯例是在笔记头部用 <code>org</code> 的列表格式罗列标签, 如
</p>
<div class="org-src-container">
<pre class="src src-sh">- tag :: &lt;tag-1&gt;, &lt;tag-2&gt;, &lt;tag-3&gt;
</pre>
</div></li>
</ul>

<p>
以后我们也可以把这一行加入笔记模板
</p>
</div>
</div>
<div id="outline-container-h:b2b4f81f-5d81-4b01-b765-4e74395ebdd8" class="outline-4">
<h4 id="h:b2b4f81f-5d81-4b01-b765-4e74395ebdd8">优化 minibuffer 补全界面</h4>
<div class="outline-text-4" id="text-h:b2b4f81f-5d81-4b01-b765-4e74395ebdd8">
<p>
<code>vertico</code> + <code>orderless</code>
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> vertico <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#34917;&#20840;&#30028;&#38754;&#20248;&#21270;
</span>  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:config</span>
  (vertico-mode))
(<span style="color: #a020f0;">use-package</span> orderless <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26080;&#24207;&#25628;&#32034;
</span>  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom</span>
  (completion-styles '(orderless basic))
  (completion-category-defaults nil)
  (completion-category-overrides '((file (styles partial-completion)))))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:19a72626-654d-48c1-837e-838375fa30ae" class="outline-4">
<h4 id="h:19a72626-654d-48c1-837e-838375fa30ae">同步</h4>
<div class="outline-text-4" id="text-h:19a72626-654d-48c1-837e-838375fa30ae">
<ul class="org-ul">
<li><code>org-roam</code> 的笔记文件是纯文本文件, 用任意网盘同步即可
<ul class="org-ul">
<li>不同机器上要设置好 <code>org-roam-directory</code> 变量 (或者直接放在网盘目录下)</li>
<li>也可以用 <code>git</code> 同步: 可控制文件类型, 版本控制</li>
</ul></li>
<li>一般不需要同步数据库文件 <code>org-roam.db</code>. 
<ul class="org-ul">
<li>此数据库文件保存了链接信息, 一般保存在 <code>./emacs.d/</code> 目录下</li>
<li>当笔记条目很多的时候, 这个文件会很大</li>
<li>在不同的机器上可以根据 <code>org</code> 文件自动生成的 (<code>(org-roam-db-autosync-mode)</code>)</li>
</ul></li>
<li>数据库更新
<ul class="org-ul">
<li>自动更新: 通过 <code>(org-roam-db-autosync-mode)</code> 实现</li>
<li>手动更新
<ul class="org-ul">
<li>执行 <code>M-x org-roam-db-sync</code></li>
<li><code>Windows</code> 下执行这一命令可能会出现 <code>Error ....... Selecting deleted buffer</code> 的错误信息. 只要 <code>emacs-sqlite</code> 已经正常安装, 无视这条错误信息并再次执行 <code>org-roam-db-sync</code> 即可.</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:125312ec-c908-467c-a430-4973bfa88e75" class="outline-4">
<h4 id="h:125312ec-c908-467c-a430-4973bfa88e75">结语</h4>
<div class="outline-text-4" id="text-h:125312ec-c908-467c-a430-4973bfa88e75">
<blockquote>
<p>
A complex system that works is invariably found to have evolved from a simple system that worked. A complex system designed from scratch never works and cannot be patched up to make it work. You have to start over with a working simple system. &#x2013; Gall's Law
</p>
</blockquote>

<ul class="org-ul">
<li>卡片盒笔记是一种全新的笔记模式, 需要学习和练习才能掌握</li>
<li>特点是链接, 链接, 链接
<ul class="org-ul">
<li>链接帮助笔记自发地形成结构</li>
<li>链接是我们思想的结晶</li>
</ul></li>
<li>我的 Emacs 设置可以在 <a href="https://gitee.com/mickey991/emacs-latex/tree/master/my-emacs-config">https://gitee.com/mickey991/emacs-latex/tree/master/my-emacs-config</a> 找到.</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:e3bdca2b-d096-49de-92c0-657357e13257" class="outline-3">
<h3 id="h:e3bdca2b-d096-49de-92c0-657357e13257">zotero很简单实用的科研文献管理</h3>
<div class="outline-text-3" id="text-h:e3bdca2b-d096-49de-92c0-657357e13257">
<p>
本期我们将介绍如何整合 Zotero 文献管理与 <code>org-roam</code> 双链笔记系统, 包括在 <code>org-roam</code> 笔记中插入 Zotero 文献引用, 打开 Zotero 文献 PDF 并用 <code>org-noter</code> 做读书笔记, 以及将读书笔记加入 <code>org-roam</code> 个人知识库等. 
</p>




<p>
在什么是双链笔记与 org-roam 初体验 中, 我们介绍了个人知识库与卡片盒笔记的基本概念. 卢曼的卡片盒笔记系统大致将笔记分为3类: 灵感笔记, 文献笔记与永久笔记. 我们的学习和科研也离不开大量文献的阅读. 因此, 如何在我们的笔记系统中加入与文献或文献笔记的联系就至关重要. 今天我将给大家一款简单实用的文献管理软件: <code>Zotero</code>. <code>Zotero</code> 可以帮助我们收集文献的引用信息, 以及管理文献的 <code>pdf</code> 全文. 下一期我们将介绍如何把 Zotero 整合到 <code>org-roam</code> 的工作流程中. 我使用 <code>Zotero</code> 也有10年时间了, 这绝对是一个对科研帮助很大的工具. 
</p>
</div>
<div id="outline-container-h:0dd6879d-0795-4bde-ba14-93c17b561e12" class="outline-4">
<h4 id="h:0dd6879d-0795-4bde-ba14-93c17b561e12">历史</h4>
<div class="outline-text-4" id="text-h:0dd6879d-0795-4bde-ba14-93c17b561e12">
<p>
<code>Zotero</code> 原本是火狐 (Firefox) 浏览器中的一个插件, 用于从网页上读取文献信息或保存网络快照等, 在火狐上可以直接使用, 而在其它浏览器上需要配合浏览器插件. 2017 年 <code>Zotero 5.0</code> 发布, <code>Zotero</code> 成为一个独立的软件. 在所有浏览器中使用都需要同时运行 <code>Zotero</code>.
</p>
</div>
</div>
<div id="outline-container-h:8607f218-96d6-475c-8aaf-97e425fe1b70" class="outline-4">
<h4 id="h:8607f218-96d6-475c-8aaf-97e425fe1b70">安装</h4>
<div class="outline-text-4" id="text-h:8607f218-96d6-475c-8aaf-97e425fe1b70">
<p>
<code>Zotero</code> 和它的浏览器插件 (<code>Zotero Connector</code>) 都可以从它的<a href="https://www.zotero.org/download/">官网</a>上下载. <code>Zotero</code> 的PC端支持 Windows, MacOS, Linux 等系统, 移动端暂时只支持苹果系统, 但在安卓上有第三方软件. 浏览器插件支持 Edge, Chrome, Safari 以及 Firefox 等主流浏览器.
</p>
</div>
</div>
<div id="outline-container-h:5b872085-0737-42b5-b423-fc9a3f5ad478" class="outline-4">
<h4 id="h:5b872085-0737-42b5-b423-fc9a3f5ad478">软件界面</h4>
<div class="outline-text-4" id="text-h:5b872085-0737-42b5-b423-fc9a3f5ad478">
<ul class="org-ul">
<li>zotero 界面</li>
</ul>

<p>
收藏夹 - 文献列表 - 文献信息
</p>

<ul class="org-ul">
<li>收集夹功能
<ul class="org-ul">
<li>同一文献可以属于不同收藏夹</li>
<li>同一收藏夹内文献可以导出成 <code>.bib</code> 或其它文件</li>
<li>小技巧：按 ctrl 并手动手动文献，左侧会高亮文献所在收藏夹</li>
</ul></li>

<li>文献可以有 <code>pdf</code> 文件作为附件
<ul class="org-ul">
<li>双击文献可以用 zotero 内置 pdf 阅读器打开 pdf文件</li>
<li>内置阅读器支持高亮、批注等</li>
<li>也可以设置别的默认阅读器</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:06140b87-38f6-4156-9781-011464097657" class="outline-4">
<h4 id="h:06140b87-38f6-4156-9781-011464097657">基本使用方法</h4>
<div class="outline-text-4" id="text-h:06140b87-38f6-4156-9781-011464097657">
<p>
<code>Zotero</code> 的界面从左至右分为3部分. 中间是文献列表, 右边是当前选中文献的信息, 包括标题, 作者等. 具体的信息类型会根据文献的类别, 如期刊文献, 书藉, 网页, 学位论文等, 而有所有不同. 最左边是用户自己设置的收藏夹 (collection), 可以嵌套, 用于文献的整理和分类. 
</p>

<p>
同一个文献可以出现在多个不同的收藏夹. 把文献加入收藏夹的方式很简单: 用鼠标拖动文献至指定的收藏夹即可.
这里有一个小技巧, 按住 <code>&lt;ctrl&gt;</code> 并点击文献, 左边一栏就会高亮文献出现的所有收藏夹.
</p>

<p>
除了按照主题分类文献外, 我也常会把同一研究课题相关的文献放在同一个收藏夹. 当需要撰写课题相关的论文时, 可以使用 <code>Zotero</code> 的导出功能, 将同一个收藏夹内的参考文献信息导出成 <code>.bib</code> 文件. 如果不用 <code>LaTeX</code> 进行写作, 也可以导出成其它常见格式用于论文写作. 导出文献非常灵活, 你也可以 选中任意数目的文献, 然后鼠标右键菜单中选择导出即可.
</p>

<p>
文献可以有附件, 一般是 <code>pdf</code>. 这里的 <code>pdf</code> 文件既可以是下载文献信息时 <code>Zotero</code> 自动下载的, 也可以是你手动添加的. 当文献有 <code>pdf</code> 附件时, 只要双击就能在 <code>Zotero</code> 的内置 <code>pdf</code> 阅读器内打开. 最新的 <code>pdf</code> 阅读器效果还是很不错的, 可以高亮批注等等, 也可以与 <code>Zotero</code> 其它文献阅读功能配合, 当然我们最终会使用 <code>Emacs</code> 中的 <code>org-noter</code> 来进行文献阅读. 你也可以设置用电脑上其它的 <code>pdf</code> 阅读器打开 <code>pdf</code> 的默认阅读器.
</p>
</div>
</div>
<div id="outline-container-h:ef474a18-cc24-4109-8af2-06ffbde4cefe" class="outline-4">
<h4 id="h:ef474a18-cc24-4109-8af2-06ffbde4cefe">向 Zotero 中加入文献</h4>
<div class="outline-text-4" id="text-h:ef474a18-cc24-4109-8af2-06ffbde4cefe">
<p>
<code>Zotero</code> 的强大就在于它加入文献的方式非常灵活. 主要用下面3种方式.
</p>
<ol class="org-ol">
<li>通过浏览器中的 <code>Zotero Connector</code> 插件</li>
<li>通过文献的标识码</li>
<li>通过本地的 <code>pdf</code> 文件</li>
</ol>

<p>
在第一种方法中, 打开任意包含文献的网站 (最好是期刊官网), 点击 <code>Zotero</code> 插件的图标就可以自动读取网页上的文献信息. 
</p>

<p>
如果网站上允许下载 <code>pdf</code> 全文, <code>Zotero</code> 还会自动下载. 对于普通网页, <code>Zotero</code> 默认会保存网页快照. 这在10年前网速和流量短缺时是一很有用的功能, 可以在有限的时间内快速保存网页以便以后阅读, 如今用处不大了.
</p>

<p>
第二种方法支持的标识码包括 <code>DOI</code>, <code>ISBN</code>, <code>Arxiv ID</code> 等. 点击 <code>Zotero</code> 文献列表上左起第二个画笔的小图标, 输入标识码, 就可以自动下载文献和 <code>pdf</code> 文件.
</p>

<p>
这里推荐大家尽量使用前两种方式下载, 因为这样可以保证你在论文写作时, 所引用的参考文献的信息是准确无误的. 这里首要是保证文献信息的来源准确. 当你有了文献信息后, 也可 c 通过其它手段下载 <code>pdf</code> 全文, 然后在 <code>Zotero</code> 中用右键点击文献, 选择添加 <code>pdf</code> 附件 (attachment).
</p>

<p>
如果实在不得已, 你也可以采用第三种方法: 手动从本地的 <code>pdf</code> 文件创建一个文献条目. 方法是点击文献列表上左起第一个绿色的加号, 选择 <code>Store copy of file</code>. <code>Zotero</code> 会尝试从 <code>pdf</code> 文件中读取文献的信息并生成一个文献条目. 
</p>

<p>
我们在使用中重复添加一个文献是很常见的, 比如说你可能几年前找过这个文献, 但你忘记了, 后来又在做另一个课题的时候碰到了. 在 <code>Zotero</code> 中有一个很方便的功能, 可以快速整合不同版本的文献信息. 点击左侧收藏夹最下面的 <code>Duplicate Items</code>, 就会显示文献库中所有重复的条目. 我们可以手动选择保留哪一个版本的标题, 作者, 期刊信息等, 然后选择 <code>Merge</code>, 将不同版本的文献合并成同一个条目.
</p>
</div>
</div>
<div id="outline-container-h:806f54fd-37c9-4f76-9b97-5d56ff9b69b7" class="outline-4">
<h4 id="h:806f54fd-37c9-4f76-9b97-5d56ff9b69b7">功能小结</h4>
<div class="outline-text-4" id="text-h:806f54fd-37c9-4f76-9b97-5d56ff9b69b7">
<p>
总结起来, Zotero 实现了如下核心功能
</p>
<ul class="org-ul">
<li>收集并整理文献信息</li>
<li>根据需要导出文献引用信息</li>
<li>管理文献 <code>pdf</code></li>
</ul>

<p>
因为 <code>Zotero</code> 还有一个强大的生态, 所以它的功能远不止上面介绍的这些. 我平时使用更多是把 <code>Zotero</code> 作为个人资料库里文献管理的一个入口, <code>Zotero</code> 的其它功能也可以在 <code>Emacs</code> 中更好地实现. 但是在这里还是要向大家介绍两个非常实用的 <code>Zotero</code> 插件: <code>Better BibTeX</code> 和 <code>ZotFile</code>.
</p>

<p>
<code>Better BibTeX</code> 可以优化导出 <code>.bib</code> 文件时引用键名的生成, 还可以对导出的 <code>.bib</code> 文件实时更新. 它也是 <code>Zotero</code> 与其它笔记软件, 如 <code>Org-Roam</code>, <code>Obsidian</code>, <code>Roam Research</code> 等进行交互的必备插件.
</p>

<p>
<code>ZotFile</code> 补充了一些 <code>pdf</code> 文件管理的功能. 它可以自动对 <code>pdf</code> 附近按自定义规则重命名, 并用个人网盘同步, 解决 <code>Zotero</code> 的同步问题.
</p>
</div>
</div>
<div id="outline-container-h:f4fd35d6-6eca-458b-8766-b5ff85af50cc" class="outline-4">
<h4 id="h:f4fd35d6-6eca-458b-8766-b5ff85af50cc">插件安装方法</h4>
<div class="outline-text-4" id="text-h:f4fd35d6-6eca-458b-8766-b5ff85af50cc">
<p>
要安装 <code>Zotero</code> 插件, 我们首先在它的插件网站上下载对应的 <code>.xpi</code> 格式文件, 然后打开 <code>Tools</code> -&gt;  <code>add-ons</code> , 选择从文件进行安装即可. 
</p>
</div>
</div>
<div id="outline-container-h:c6531986-9c0d-409b-97a6-926996ee9566" class="outline-4">
<h4 id="h:c6531986-9c0d-409b-97a6-926996ee9566"><code>Better BibTex</code> 设置</h4>
<div class="outline-text-4" id="text-h:c6531986-9c0d-409b-97a6-926996ee9566">
<p>
<code>Better BibTex</code> 的设置在 <code>Edit</code> -&gt; <code>Preference</code> 下.
</p>

<p>
首先修改引用键名的格式. 比如这里我推荐的一个设置是 <code>authorsAlpha+year+shorttitle(3,3)</code>
</p>
<ul class="org-ul">
<li><code>authorsAlpha</code>: 采用 <code>bibtex</code> 中的 <code>alpha</code> 风格; 单作者取姓的前3字母, 2个以上取首字母</li>
<li><code>year</code>: 4位数字年份</li>
<li><code>shorttitle(m,n)</code>: 标题前 m 个单词, 其中前 n 个单词首字母大写</li>
</ul>

<p>
大家可以在 <a href="https://retorque.re/zotero-better-bibtex/citing/">https://retorque.re/zotero-better-bibtex/citing/</a> 中找到更多的设置
</p>

<p>
键名设置的原则是在突出重要信息的前提下尽量简短. 也方便有时我们直接在 <code>pdf</code> 文件目录进行搜索 (如在手机和平板上).
</p>

<p>
第二, 为了保证键名的唯一性, 大家可以在下面勾选 <code>across all libraries</code>.
</p>

<p>
最后, 我们可以设置 <code>Better BibTeX</code> 自动更新导出的 <code>.bib</code> 文件. 当我们选中一个收藏夹并且导出时, 选择 <code>Better BibTeX</code> 格式, 并且勾选下面的 "自动更新". 然后, 我们在 <code>Better BibTeX</code> 的设置的 <code>Automatic Export</code> 这一页就可以看到刚刚导出的 <code>.bib</code> 文件了.
</p>

<p>
我们可以把更新的频率选为 <code>On change</code>, 即随时更新. 
</p>
</div>
</div>
<div id="outline-container-h:d5743d10-043d-42a8-bb6f-8f85e979175c" class="outline-4">
<h4 id="h:d5743d10-043d-42a8-bb6f-8f85e979175c"><code>Zotfile</code> 同步设置</h4>
<div class="outline-text-4" id="text-h:d5743d10-043d-42a8-bb6f-8f85e979175c">
<p>
在 <code>Edit</code> -&gt; <code>Preference</code> -&gt; <code>Sync</code> 下面, 大家可以注册并登录 <code>Zotero</code> 帐号实现不同设备间的同步. 但是 <code>Zotero</code> 的免费空间只有500M, 这对于 <code>pdf</code> 文件的同步是不够的. 所以建议大家用下面介绍的 <code>ZotFile</code> 同步 <code>pdf</code> 附件, 而让 <code>Zotero</code> 只负责同步文献信息.
</p>

<p>
<code>Better BibTeX</code> 的键名无法同步, 但是只要规则相同, 产生的键名是一样的. 在新机器上建议大家先设置好 <code>Better BibTeX</code> 的键名规则, 再登录 <code>Zotero</code> 帐号同步文献信息. 如果已经同步了文献信息, 则需要手动更新所有的 <code>Better BibTeX</code> 键名, 大的文献库需要几分钟的时间. 
</p>

<p>
下面我们讲解 <code>Zotfile</code> 的设置. 设置界面在 <code>Tools</code> -&gt; <code>ZotFile Preference</code> 菜单下.
</p>

<p>
第一步,  我们设置在 <code>General Settings</code> -&gt; <code>Custom Locations</code> 下设置一个同步目录. 这里你可以设置为个人网盘里一个子目录. 下面还有一个是否使用子文件夹的选项, 没必要勾选, 因为子文件夹不方便搜索, 而且 <code>Zotero</code> 本身的收藏夹功能已经对文献做好分类了. 存储时没必要再分一次类.
</p>

<p>
第二步, 我们给 <code>ZotFile</code> 设置一个统一的命名规则, 用于给新添加的 <code>pdf</code> 文件重命名. 设置在 <code>Renaming Rules</code> 下面. 这里推荐使用 <code>%b</code>,  即采用了之前 <code>BibTeX</code> 的键名作为文件名.
</p>

<p>
3步, 因为 <code>ZotFile</code> 可以自动给 所以我们要设置一个d. 利于我们在不同机器上的使用.  这样设置也可以方便笔记软件在读取 <code>.bib</code> 文件时能通过键名更快地找到对应的 <code>pdf</code> 文件. 也方便我们自己的查打.
</p>

<p>
最后, 我们在 <code>Advanced Settings</code> -&gt; <code>automatically rename new attachment</code> 中选择 <code>alwasy rename</code>. 这样可以对对 <code>Zotero</code> 自动下载的 <code>pdf</code> 文件自动重命名并移动至我们的个人网盘中.  如果你是手动加入的 <code>pdf</code> 文件, 也可以手动重命名并移动 <code>pdf</code> 文件. 方法是右键点击文献条目, 选择 <code>rename and move</code> .
</p>
</div>
</div>
<div id="outline-container-h:93172027-2ee2-49fe-87ce-6c8e7db32939" class="outline-4">
<h4 id="h:93172027-2ee2-49fe-87ce-6c8e7db32939">结语</h4>
<div class="outline-text-4" id="text-h:93172027-2ee2-49fe-87ce-6c8e7db32939">
<p>
以上就是 <code>Zotero</code> 的基本设置. 下次我们会介绍如何在 <code>org-roam</code> 笔记流程中整合 <code>Zotero</code>, 包括
</p>

<ul class="org-ul">
<li><code>Emcas</code> 中读取 <code>Zotero</code> 文献数据库并进行引用</li>
<li>每一条引用的 <code>Zotero</code> 文献建立一则 <code>org-roam</code> 笔记</li>
<li>将上述笔记作为 <code>org-noter</code> 笔记文件, 在 <code>Emacs</code> 中阅读 <code>Zotero</code> 文献的 <code>pdf</code> 附件</li>
</ul>

<p>
关于 <code>org-roam</code> 和 <code>org-noter</code> 大家可以参考我的视频 <a href="https://www.bilibili.com/video/BV1qV4y1Z7h9/">BV1qV4y1Z7h9</a> 与 <a href="https://www.bilibili.com/video/BV1Tc411s7Tu/">BV1Tc411s7Tu</a>.   
</p>
</div>
</div>
</div>
<div id="outline-container-h:c1452d1c-7224-40a8-9cbb-fbb8981ffdd5" class="outline-3">
<h3 id="h:c1452d1c-7224-40a8-9cbb-fbb8981ffdd5">如何把zotero整合到org-roam笔记流</h3>
<div class="outline-text-3" id="text-h:c1452d1c-7224-40a8-9cbb-fbb8981ffdd5">
</div>
<div id="outline-container-h:c620765d-5e04-4df9-b515-29e060cbf838" class="outline-4">
<h4 id="h:c620765d-5e04-4df9-b515-29e060cbf838">前言</h4>
<div class="outline-text-4" id="text-h:c620765d-5e04-4df9-b515-29e060cbf838">
<p>
作为 Emacs 和 Zotero 的重度老用户, 将 Emacs 的笔记功能与 Zotero 文献管理整合是我一直以来的梦想. 这次在学习使用 <code>org-roam</code> 的过程中, 终于在 <code>org-roam</code> 的框架下找到了一套成熟的工作流程. 这是我搭建个人知识库的最后一块重要拼图, 也让我毫无顾虑地把所有的笔记都投入到 <code>org-roam</code> 中. 这里非常高兴能与大家分享实现过程.
</p>
</div>
<div id="outline-container-h:4138c562-8532-429d-9798-618d2e8be56b" class="outline-5">
<h5 id="h:4138c562-8532-429d-9798-618d2e8be56b">为什么不用 Zotero 做笔记?</h5>
<div class="outline-text-5" id="text-h:4138c562-8532-429d-9798-618d2e8be56b">
<p>
Zotero 本身可以做文献笔记, 如果配合像 <code>Zotero Better Notes</code> (<a href="https://github.com/windingwind/zotero-better-notes/blob/master/UserGuideCN.md">见这里</a>) 也能实现 <code>markdown</code> 格式双链笔记. 但是 Zotero 毕竟不是一个好的文本编辑器, 做笔记的效率无法与 Emacs 媲美. 尤其在 LaTeX 数学公式输入上, Emacs 属于第一档的编辑器 (同一档其它选项包括 <a href="https://code.visualstudio.com/">VScode</a>, <a href="https://neovim.io/">Neovim</a>, <a href="https://www.sublimetext.com/">Sublime</a>). 几乎所有编辑 <code>.tex</code> 文件的操作技巧 (参考视频<a href="https://www.bilibili.com/video/BV1Xk4y1a7Gp/">BV1Xk4y1a7Gp</a>) 都可以无缝对接到 <code>org</code> 或 <code>markdown</code> 笔记文件中. 更别说 Emacs 还可以轻松拓展到其它任务中.
</p>
</div>
</div>
<div id="outline-container-h:a0579bcc-9c29-46bc-8fb6-329631d45b4f" class="outline-5">
<h5 id="h:a0579bcc-9c29-46bc-8fb6-329631d45b4f">为什么不用 Emacs 管理文献?</h5>
<div class="outline-text-5" id="text-h:a0579bcc-9c29-46bc-8fb6-329631d45b4f">
<p>
确实, Zotero 在整个工作流程中只是负责下载文献信息和 PDF 文件. 这些事情看起来很简单, 但是 Zotero 确实比 Emacs 做得好. Emacs 不适合复杂的浏览网页, 下载等操作; 时至今日, Emacs 中浏览网页也没有简单的实现方案. 有时候, 文献下载还需要使用代理. Zotero 可以很好地处理文献下载中会出现的种的场景. 另外, 使用网盘同步 Zotero 文件后, 在手机或平板上也能轻松阅读 PDF 文献, 这是 Zotero 的方便之处. 
</p>
</div>
</div>
</div>
<div id="outline-container-h:3bdebcff-c1f0-442e-a3d7-20a006f3c3f4" class="outline-4">
<h4 id="h:3bdebcff-c1f0-442e-a3d7-20a006f3c3f4">工作流程示例</h4>
<div class="outline-text-4" id="text-h:3bdebcff-c1f0-442e-a3d7-20a006f3c3f4">
<p>
插入文献笔记流程如下. 具体可见视频中演示. 
</p>
<ul class="org-ul">
<li>在 <code>org-roam</code> 笔记中, 执行命令 <code>M-x orb-insert-link</code> (快捷键建议: <code>C-c n k</code>) 开始插入一则文献笔记.</li>
<li>在 <code>helm-bibtex</code> (或 <code>ivy-bibtex</code>) 的文献搜索界面中, 输入关键词定位文献, 回车确认.</li>
<li>进入 <code>org-roam</code> 模板选择界面, 选择预先设置好的文献笔记模板</li>
<li>进入 <code>capture</code> 界面, 此后步骤与正常笔记一样</li>
<li>这样创建的笔记有多重功能
<ul class="org-ul">
<li>是普通的 <code>org-roam</code> 双链笔记</li>
<li>在笔记界面执行 <code>M-x org-noter</code> (快捷键建议: <code>C-c n n</code>) 可打开 <code>org-noter</code> 界面.</li>
<li>在笔记界面执行 <code>M-x orb-note-action</code> (快捷键建议: <code>C-c n a</code>) 可执行其它一些操作, 如打开文献网址, 复制文献 <code>bibtex</code> 条目等.</li>
</ul></li>
</ul>

<p>
当一则文献笔记创建后, 可以采用 <code>C-c n i</code> 或 <code>C-n n k</code> 插入链接. 区别是
</p>
<ul class="org-ul">
<li><code>C-c n i</code> (<code>M-x org-roam-node-insert</code>): 默认链接名是文件名, 也就是文献标题</li>
<li><code>C-c n k</code>: 默认链接名可以是引用键名</li>
</ul>
</div>
</div>
<div id="outline-container-h:eb4390da-2326-43f0-8d04-cbcb4e735db0" class="outline-4">
<h4 id="h:eb4390da-2326-43f0-8d04-cbcb4e735db0">用到的 Emacs 插件</h4>
<div class="outline-text-4" id="text-h:eb4390da-2326-43f0-8d04-cbcb4e735db0">
<p>
我们使用了许多插件相互配合才实现了最后的效果. 这里不同插件的设置环环相扣, 所以有必要在一开始对每个插件的角色和功能做一个梳理.
</p>

<ul class="org-ul">
<li><code>Zotero</code>
<ul class="org-ul">
<li>用 <code>Better BibTeX</code> 导出文献数据至 <code>bib</code> 文件</li>
<li>用 <code>ZotFile</code> 保存 PDF 文件 (一般是网盘文件夹)</li>
</ul></li>
<li><code>helm/ivy-bibtex</code>:
<ul class="org-ul">
<li>将上面 <code>bib</code> 文件的信息读入 Emacs, 并提取文献的标题, 作者, 引用键名等</li>
<li>提供搜索文献信息的界面</li>
</ul></li>
<li><p>
<code>org-roam</code>:
</p>

<p>
准备一个符合 <code>org-noter</code> 的笔记格式的  <code>org-roam</code> 模板
</p></li>

<li><code>org-roam-bibtex</code> + <code>org-roam</code>
<ul class="org-ul">
<li>利用提取的文献信息和上面的模板生成一则 <code>org-roam</code> 笔记</li>
<li>其它一些操作, 如打开文献网址, 打开文献 <code>bibtex</code> 条目等</li>
</ul></li>
<li><p>
<code>org-noter</code> + <code>pdf-tools</code>
</p>

<p>
打开 <code>org-roam</code> 笔记中的 PDF 文件并阅读, 做读书笔记.
</p></li>
</ul>


<p>
关于 <code>org-noter</code> 和 <code>pdf-tools</code> 的设置请参考:
</p>
<ul class="org-ul">
<li><a href="https://www.bilibili.com/video/BV1pg4y1s7Z9/">【Emacs+LaTeX教程】Emacs最强内置pdf阅读器pdf-tools简介</a></li>
<li><a href="https://www.bilibili.com/video/BV1Tc411s7Tu/">【从零搭建Emacs个人知识库】org-noter配置及使用</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:6ef80391-7c20-4748-a936-bbf4261ec869" class="outline-4">
<h4 id="h:6ef80391-7c20-4748-a936-bbf4261ec869">代码</h4>
<div class="outline-text-4" id="text-h:6ef80391-7c20-4748-a936-bbf4261ec869">
<ul class="org-ul">
<li><p>
这部分代码建立在 <code>org-roam</code> 的基础设置上, 大家可以参考
</p>

<p>
<a href="https://www.bilibili.com/video/BV1Tc411s7Tu/">【从零搭建Emacs个人知识库】org-noter配置及使用</a> 
</p></li>

<li><p>
设置代码中大量使用了 <code>use-package</code> 的功能. 如果想了解 <code>use-package</code> 的基本使用, 可以参考
</p>

<p>
<a href="https://www.bilibili.com/video/BV1nm4y117gn/">【省时省力写LaTeX】新手Emacs快速配置与插件管理</a> 
</p></li>
</ul>
</div>
<div id="outline-container-h:d476c59d-ca1e-4029-b083-784499c4f9af" class="outline-5">
<h5 id="h:d476c59d-ca1e-4029-b083-784499c4f9af"><code>helm-bibtex</code> / <code>ivy-bibtex</code> 相关设置</h5>
<div class="outline-text-5" id="text-h:d476c59d-ca1e-4029-b083-784499c4f9af">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">setq</span> zot_bib '(<span style="color: #8b2252;">"~/Nutstore/1/Nutstore/Zotero-Library/Better BibTeX Export/My Library.bib"</span>
                <span style="color: #8b2252;">"&lt;&#21478;&#19968;&#20010;Zotero bib &#25991;&#20214;&gt;.bib"</span>) <span style="color: #b22222;">; </span><span style="color: #b22222;">Zotero &#29992; Better BibTeX &#23548;&#20986;&#30340; .bib &#25991;&#20214;. &#21487;&#20197;&#26159;&#22810;&#20010;&#25991;&#20214;
</span>      zot_pdf <span style="color: #8b2252;">"~/Nutstore/1/Nutstore/Zotero-Library"</span> <span style="color: #b22222;">; </span><span style="color: #b22222;">Zotero &#30340; ZotFile &#21516;&#27493;&#25991;&#20214;&#22841;
</span>      org_refs <span style="color: #8b2252;">"~/repos/notes/ref/"</span> ) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#30340; org-roam &#25991;&#29486;&#31508;&#35760;&#30446;&#24405;. &#25105;&#30340; org-roam &#26681;&#30446;&#24405;&#26159; ~/repos/notes
</span>
(<span style="color: #a020f0;">use-package</span> helm-bibtex <span style="color: #b22222;">; </span><span style="color: #b22222;">&#36825;&#37324;&#20063;&#21487;&#20197;&#29992; ivy-bibtex &#26367;&#25442; helm-bibtex
</span>  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:custom</span>
  (bibtex-completion-notes-path org_refs)
  (bibtex-completion-bibliography zot_bib)
  (bibtex-completion-library-path zot_pdf))
</pre>
</div>

<p>
这里我们设置了3个变量, 需要大家根据自己的情况调整. 
</p>
<ul class="org-ul">
<li><code>zot_bib</code>: Zotero 导出的 <code>bib</code> 文件. 这里可以有多个文件.</li>
<li><code>zot_pdf</code>: Zotero 的 PDF 文件目录. 这需要 <code>ZotFile</code> 插件</li>
<li><code>org_refs</code>: 自定义的文献笔记目录. 设置单独一个文献笔记目录便于我们管理. 这里我放在了 <code>org-roam</code> 主目录的下一级目录, 也会自动被 <code>org-roam</code> 的数据库收录.</li>
</ul>

<p>
关于 Zotero 两个插件 <code>Better BibTeX</code> 和 <code>ZotFile</code> 的设置, 大家可以参考视频
</p>
</div>
</div>
<div id="outline-container-h:bf7b13bf-5b85-4e84-87a1-50768f5266ac" class="outline-5">
<h5 id="h:bf7b13bf-5b85-4e84-87a1-50768f5266ac"><code>org-roam-bibtex</code> 设置</h5>
<div class="outline-text-5" id="text-h:bf7b13bf-5b85-4e84-87a1-50768f5266ac">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-roam-bibtex
  <span style="color: #483d8b;">:ensure</span> t
  <span style="color: #483d8b;">:after</span> org-roam
  <span style="color: #483d8b;">:hook</span> (org-roam-mode . org-roam-bibtex-mode)i
  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-c n k"</span> . orb-insert-link)
         (<span style="color: #8b2252;">"C-c n a"</span> . orb-note-action))
  <span style="color: #483d8b;">:custom</span>
  (orb-insert-interface 'helm-bibtex) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#19982;&#19978;&#38754; helm-bibtex/ivy-bibtex &#30340;&#36873;&#25321;&#20445;&#25345;&#19968;&#33268;
</span>  (orb-insert-link-description 'citekey) <span style="color: #b22222;">; </span><span style="color: #b22222;">&#40664;&#35748;&#26159;&#29992;&#26631;&#39064;, &#20294;&#26159;&#35770;&#25991;&#30340;&#26631;&#39064;&#19968;&#33324;&#24456;&#38271;, &#19981;&#36866;&#21512;&#20316;&#20026;&#31508;&#35760;&#38142;&#25509;&#30340;&#21517;&#23383;
</span>  (orb-preformat-keywords
   '(<span style="color: #8b2252;">"citekey"</span> <span style="color: #8b2252;">"title"</span> <span style="color: #8b2252;">"url"</span> <span style="color: #8b2252;">"author-or-editor"</span> <span style="color: #8b2252;">"keywords"</span> <span style="color: #8b2252;">"file"</span>))
  (orb-process-file-keyword t)
  (orb-attached-file-extensions '(<span style="color: #8b2252;">"pdf"</span>)))
</pre>
</div>

<p>
大家可以根据需要设置两个快捷键. 
</p>
</div>
<ul class="org-ul">
<li><a id="h:c26ae7b3-0800-4f06-8a95-a41adc194270"></a><code>org-roam</code> 设置<br>
<div class="outline-text-6" id="text-h:c26ae7b3-0800-4f06-8a95-a41adc194270">
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #a020f0;">use-package</span> org-roam
  <span style="color: #483d8b;">:ensure</span> t <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#33258;&#21160;&#23433;&#35013;
</span>  <span style="color: #483d8b;">:custom</span>
  (org-roam-directory <span style="color: #8b2252;">"~/repos/notes/"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#31508;&#35760;&#30446;&#24405;, &#25552;&#21069;&#25163;&#21160;&#21019;&#24314;&#22909;
</span>  (org-roam-dailies-directory <span style="color: #8b2252;">"daily/"</span>) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#40664;&#35748;&#26085;&#35760;&#30446;&#24405;, &#19978;&#19968;&#30446;&#24405;&#30340;&#30456;&#23545;&#36335;&#24452;
</span>  (org-roam-db-gc-threshold most-positive-fixnum) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#25552;&#39640;&#24615;&#33021;
</span>  <span style="color: #483d8b;">:bind</span> ((<span style="color: #8b2252;">"C-c n f"</span> . org-roam-node-find)
         (<span style="color: #8b2252;">"C-c n i"</span> . org-roam-node-insert)
         (<span style="color: #8b2252;">"C-c n c"</span> . org-roam-capture)
         (<span style="color: #8b2252;">"C-c n l"</span> . org-roam-buffer-toggle) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26174;&#31034;&#21518;&#38142;&#31383;&#21475;
</span>         (<span style="color: #8b2252;">"C-c n u"</span> . org-roam-ui-mode)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#27983;&#35272;&#22120;&#20013;&#21487;&#35270;&#21270;
</span>  <span style="color: #483d8b;">:bind-keymap</span>
  (<span style="color: #8b2252;">"C-c n d"</span> . org-roam-dailies-map) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#26085;&#35760;&#33756;&#21333;
</span>  <span style="color: #483d8b;">:config</span>
  (<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org-roam-dailies</span>)  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21551;&#29992;&#26085;&#35760;&#21151;&#33021;
</span>  <span style="color: #b22222;">;;</span><span style="color: #b22222;">============= &#26032;&#22686;&#20869;&#23481; =================
</span>  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#19979;&#38754;&#30340; (setq my/ref-template ...) &#21487;&#20197;&#25918;&#21040; use-package &#20195;&#30721;&#22359;&#20043;&#22806;
</span>  (<span style="color: #a020f0;">setq</span> my/ref-template
        (concat <span style="color: #8b2252;">"#+FILETAGS: reading research \n"</span>
                <span style="color: #8b2252;">"- tags :: %^{keywords} \n"</span>
                <span style="color: #8b2252;">"* %^{title}\n"</span>
                <span style="color: #8b2252;">":PROPERTIES:\n"</span>
                <span style="color: #8b2252;">":Custom_ID: %^{citekey}\n"</span>
                <span style="color: #8b2252;">":URL: %^{url}\n"</span>
                <span style="color: #8b2252;">":AUTHOR: %^{author-or-editor}\n"</span>
                <span style="color: #8b2252;">":NOTER_DOCUMENT: ~/Nutstore/1/Nutstore/Zotero-Library/%^{citekey}.pdf\n"</span>
                <span style="color: #8b2252;">":NOTER_PAGE:\n"</span>
                <span style="color: #8b2252;">":END:"</span>)) 
  (add-to-list 'org-roam-capture-templates
               `(<span style="color: #8b2252;">"r"</span> <span style="color: #8b2252;">"Zotero &#25991;&#29486;&#27169;&#26495;"</span> plain <span style="color: #b22222;">; </span><span style="color: #b22222;">&#25991;&#29486;&#31508;&#35760;&#27169;&#26495;
</span>                 ,my/ref-template 
                 <span style="color: #483d8b;">:target</span>
                 (file+head <span style="color: #8b2252;">"ref/${citekey}.org"</span> <span style="color: #8b2252;">"#+title: ${title}\n"</span>)))
  <span style="color: #b22222;">;;</span><span style="color: #b22222;">============= &#26032;&#22686;&#20869;&#23481;&#32467;&#26463; =================
</span>  (org-roam-db-autosync-mode)) <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#21551;&#21160;&#26102;&#33258;&#21160;&#21516;&#27493;&#25968;&#25454;&#24211;</span>
</pre>
</div>

<p>
这里我们要在 <code>org-roam</code> 的 <code>use-package</code> 代码块中增加文献笔记模板, 新增部分已经标出.
</p>

<p>
为了方便, 我们先定义了名为 <code>my/ref-template</code> 的字符串来存放我们模板的主体部分. 利用 <code>concat</code> 函数, 我们进一步把一个长字符串按行, 也就是末尾的换行符 <code>\n</code>, 切割成一些短字符串.
</p>

<p>
这里以 <code>:NOTER_DOCUMENT:</code> 开始的行是我们写入 PDF 文件路径的地方. 
</p>

<p>
之前我们推荐在 Zotero 中用引用键名作为 PDF 文件名. 所以这里的 <code>%^{citakey}.pdf</code> 就是文献的 PDF 文件. 大家需要手动调整前面的文件夹路径. 它应该是你的 <code>ZotFile</code> 同步文件夹.
</p>

<p>
模板在 <code>* %^{title}\n</code> 之后的部分都是 <code>org-noter</code> 需要的信息, 不建议大家修改. 这一行之前的部分大家可以自由发挥. 比如这里我加了两行. 以 <code>#+FILETAGS:</code> 开始的行是 <code>org-roam</code> 笔记的标签. 这种方式定义的标签是可以在 <code>C-c n f</code> 的界面中作为关键字被搜索的. 我用这种方式给不同用途的笔记分类. 第二行以 <code>- tags ::</code> 则是放置文献的自带的关键词. 在普通的 <code>org-roam</code> 笔记中, 我们一般也用这种格式加入那些作为标签功能的笔记链接.
</p>

<p>
被那么之前就是文件路径, 大家要保证这就是你存放 PDF 的路径. 第二个是笔记文件名, 这里我把所有的文献笔记放在 ref 子文件夹下. 大家如果有别的名字. 也一定要修改.
</p>

<p>
接下来的 <code>add-to-list</code> 函数就是加入一个文献笔记模板了. 这里第一个参数是 <code>"r"</code> , 是你在选择界面你的文献模板的快捷键. 第二个字符串是说明信息. 然后是我们刚刚设置的模板主体部分. 注意这里前面有一个逗号, 而最前面有一个反引号 <code>`</code> .  这样 Emacs 才会把我们设置的变量识别为一个字符串, 否则就只是一个叫 <code>my/ref-template</code> 的符号.
</p>

<p>
最后, 在 <code>file+head</code> 之后, 第一个字符串是笔记文件的文件名. 我们需要在文件名中加入一开始 <code>org_refs</code> 对应的文件路径. 这里的路径是从 <code>org-roam</code> 主目录算起的相对路径. 
</p>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:23a56a7f-68e8-4160-8707-871b9ed28682" class="outline-4">
<h4 id="h:23a56a7f-68e8-4160-8707-871b9ed28682"><code>helm-bibtex</code> 搜索指南</h4>
<div class="outline-text-4" id="text-h:23a56a7f-68e8-4160-8707-871b9ed28682">
<p>
最后简单介绍 <code>helm-bibtex</code> 的一些搜索规则
</p>
<ul class="org-ul">
<li>所有关键字以空格分开. 默认可以搜索标题, 作者, 年份, 作品类型, 引用键名</li>
<li>关键字前加 <code>!</code> 表示取否定. 例如 <code>brown !motion</code> 不会匹配 <code>browian motion</code>, 但可以匹配 <code>browian web</code>.</li>
<li>全小写的关键字可以匹配大小写, 但是所有关键字中包含至少一个大写字母, 则必须大小写精确匹配. 例如: <code>Brown motion</code> 可以匹配 <code>Brownian motion</code>, 但不能匹配 <code>Brownian Motion</code>, <code>brownian motion</code>. 但是 <code>brown motion</code> 就可以匹配以上所有选项</li>
<li>支持正则表达式. 常用的有
<ul class="org-ul">
<li><code>.?</code> 表示零个或一个字符</li>
<li><code>.*</code> 表示零个或多个字符</li>
<li><code>201[2-8]</code> 可以匹配 2012 年至 2018 年的文献, <code>19[6-8]</code> 可以匹配 1960 年至 1989 年的文献.</li>
<li><code>brown \(web\|motion\)</code> 可以匹配 <code>brownian web</code> 或者 <code>brownian motion</code>.</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="outline-container-h:f703a27e-e1cb-492a-820e-8c0b851fe891" class="outline-2">
<h2 id="h:f703a27e-e1cb-492a-820e-8c0b851fe891">参考</h2>
<div class="outline-text-2" id="text-h:f703a27e-e1cb-492a-820e-8c0b851fe891">
<ul class="org-ul">
<li>B站：<a href="https://space.bilibili.com/314984514">金色飞贼小米</a></li>
</ul>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
