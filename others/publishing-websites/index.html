<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Website: 博客搭建</title>
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/distro-htmlize.css">
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Website: 博客搭建</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:6bd678f2-26d2-4e09-a981-7e4cbdab33b8">1. 使用Github Pages 和 jekyll 搭建个人站点</a>
<ul>
<li><a href="#h:e9315127-03ec-45ea-add1-e94674ffe5a8">1.1. 建立Github仓库</a>
<ul>
<li><a href="#h:fd5b273b-8ce4-46e9-bc9d-5cfe5a534142">1.1.1. 设置仓库开启Github Pages</a></li>
</ul>
</li>
<li><a href="#h:01bb0c3b-8b99-4ad9-8050-56bf6890fa8c">1.2. 配置 Jekyll</a>
<ul>
<li><a href="#h:b46b23c9-55c4-4525-aab9-771f46721c3c">1.2.1. 添加 Jekyll 主题</a></li>
<li><a href="#h:0f5de656-9962-4038-a2c3-c1f656b4a993">1.2.2. jekyll的目录结构</a></li>
<li><a href="#h:a186ecae-a56c-48c7-a3ca-fdf1478cfac7">1.2.3. jekyll的模板编程语言Liquid的使用</a></li>
<li><a href="#h:87097efe-340a-40bd-b5a3-f5af52c11992">1.2.4. 使用 _config.yml 文件设置 jekyll</a></li>
<li><a href="#h:bf921260-7443-464d-b51f-77e80cd2d4a1">1.2.5. _layouts模板配置</a></li>
<li><a href="#h:6f1846cb-c400-402d-9fac-15fca8b85278">1.2.6. md 和 html 页面编写</a></li>
<li><a href="#h:8c59ff09-3fe8-4d3a-8456-a0631d4ce563">1.2.7. 博客文章编写和管理</a></li>
</ul>
</li>
<li><a href="#h:a9d7ad0b-25e4-4bfa-8cbc-d4377d166463">1.3. Github Pages的限制</a></li>
<li><a href="#h:233b3881-bbf1-4268-bdc3-d38476dffd1c">1.4. 范例</a></li>
</ul>
</li>
<li><a href="#h:336186e1-70a8-4c3e-b461-a735d737f446">2. 使用 hugo 搭建个人站点</a>
<ul>
<li><a href="#h:29e912ee-a052-4d0c-8ee4-6460edfae1fd">2.1. 安装 Hugo</a></li>
<li><a href="#h:25cad691-dd9c-41bd-8a44-6f056e7bf90f">2.2. 创建一个新的网站</a></li>
<li><a href="#h:31057f8a-dff2-4724-a048-c2d6a934056d">2.3. 添加主题和生成站点</a></li>
<li><a href="#h:b6e0290a-6171-4ce6-a964-da861d486d94">2.4. github创建github page</a>
<ul>
<li><a href="#h:e6b8e4f7-6759-4aaf-ae7d-eaa30083e13e">2.4.1. Docsy Hugo 主题</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:ff19b662-2083-404b-be78-339110db6e3b">3. Gitbook</a>
<ul>
<li><a href="#h:dbb5c61f-9dc7-4edc-bae2-9bcde8ebcc1c">3.1. 安装 gitbook-cli</a></li>
<li><a href="#h:456e43a8-e6b1-4c60-95b1-8165e356f305">3.2. 制作电子书</a></li>
</ul>
</li>
<li><a href="#h:97b92168-009e-4785-b292-027aa6c776b1">4. 使用 Zola 搭建个人站点</a></li>
<li><a href="#h:82210a22-6e74-45d8-9ae3-6e7fdb869663">5. 使用 Org Mode 搭建个人站点</a></li>
<li><a href="#h:d4b8754e-a790-4f1b-ab46-cce03983b993">6. 使用 MkDocs 搭建个人文档站点</a>
<ul>
<li><a href="#h:6bcc1bdd-451a-4047-b4cf-9bfedab99580">6.1. 基础</a></li>
</ul>
</li>
<li><a href="#h:3a2b3610-cd86-4bd3-a230-1a288d383eb4">7. 使用 Github Issue 作为站点</a></li>
<li><a href="#h:e673c06f-1dec-440e-bedd-bcc7eaca3108">8. CDN加速</a>
<ul>
<li><a href="#h:d00d61d1-4016-4645-b946-86aead9938ba">8.1. 使用 Cloudflare 免费加速 GitHub Pages 页面</a></li>
<li><a href="#h:8392ef71-0121-4b41-aeea-f7c3951243d4">8.2. 使用 Netlify 免费加速 GitHub Pages 页面</a></li>
</ul>
</li>
<li><a href="#h:360702e7-ed52-4da9-94df-53389f230339">9. 文本</a>
<ul>
<li><a href="#h:fe1f9aaf-733e-455d-8e35-3dabaa88fbb6">9.1. Markdown</a></li>
<li><a href="#h:2bf5e85f-e3ce-46ac-840f-4feedad9ecaa">9.2. ReStructuredText</a></li>
<li><a href="#h:f8d8229c-996c-4c22-b919-50591272379d">9.3. Org</a></li>
<li><a href="#h:3fea3970-2b10-410d-a92e-1d1823775458">9.4. Texinfo</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<p>
摘要：本文将会全面介绍一下
</p>

<ul class="org-ul">
<li><a href="#h:6bd678f2-26d2-4e09-a981-7e4cbdab33b8">使用Github Pages 和 jekyll 搭建个人站点</a></li>
<li><a href="#h:336186e1-70a8-4c3e-b461-a735d737f446">使用 hugo 搭建个人站点</a></li>
<li><a href="#h:ff19b662-2083-404b-be78-339110db6e3b">使用Gitbook搭建个人站点</a></li>
<li><a href="#h:97b92168-009e-4785-b292-027aa6c776b1">使用 Zola 搭建个人站点</a></li>
<li><a href="#h:82210a22-6e74-45d8-9ae3-6e7fdb869663">使用 Org Mode 搭建个人站点</a></li>
<li><a href="#h:d4b8754e-a790-4f1b-ab46-cce03983b993">使用 MkDocs 搭建个人文档站点</a></li>
<li><a href="#h:3a2b3610-cd86-4bd3-a230-1a288d383eb4">使用 Github Issue 作为站点</a></li>
<li><a href="#h:e673c06f-1dec-440e-bedd-bcc7eaca3108">CDN加速</a></li>
</ul>
<section id="outline-container-h:6bd678f2-26d2-4e09-a981-7e4cbdab33b8" class="outline-2">
<h2 id="h:6bd678f2-26d2-4e09-a981-7e4cbdab33b8"><span class="section-number-2">1.</span> <a href="#h:6bd678f2-26d2-4e09-a981-7e4cbdab33b8">使用Github Pages 和 jekyll 搭建个人站点</a></h2>
<div class="outline-text-2" id="text-h:6bd678f2-26d2-4e09-a981-7e4cbdab33b8">
<p>
本文将会全面介绍一下如何使用 <code>Github Pages + jekyll</code> 搭建个人站点，所
谓 <code>极简</code> 的意思就是不用使用 git 和本地构建 jekll 服务，直接在 Github 网
站上编辑设置即可，但会涉及到 jekll 的一些配置和编程控制。
</p>

<p>
参网站模板：&lt;<a href="https://scottcgi.github.io">https://scottcgi.github.io</a>&gt; 使用了 github 内置的主题修改
而成。
</p>
</div>
<div id="outline-container-h:e9315127-03ec-45ea-add1-e94674ffe5a8" class="outline-3">
<h3 id="h:e9315127-03ec-45ea-add1-e94674ffe5a8"><span class="section-number-3">1.1.</span> <a href="#h:e9315127-03ec-45ea-add1-e94674ffe5a8">建立Github仓库</a></h3>
<div class="outline-text-3" id="text-h:e9315127-03ec-45ea-add1-e94674ffe5a8">
<p>
首先到 &lt;<a href="https://github.com/new%3E">https://github.com/new%3E</a> ，创建一个仓库。仓库名称有固定的格式：
<code>username.github.io</code>
</p>

<p>
其中 <code>username</code> 必须是Github账户的用户名（我的是 jaspervincent ），
github.io 是固定的，这个地址将会成为个人站点的网站地址。另外，我们可以
勾选 <code>Add a README file</code> ，让仓库自动创建一个 README.md 文件，我们用它
来做站点的首页（当然也可以不创建，后面自行创建，或是建立index.html也行）。
</p>

<p>
注意：
</p>
<ul class="org-ul">
<li><code>username.github.io</code> 是 github 默认分配给你的域名，同名仓库即代表着
默认网站内容。</li>
<li>其他仓库就会成为 <code>username.github.io</code> 的子站点，比如访问地址会是：
<code>username.github.io/仓库名称</code></li>
</ul>
</div>
<div id="outline-container-h:fd5b273b-8ce4-46e9-bc9d-5cfe5a534142" class="outline-4">
<h4 id="h:fd5b273b-8ce4-46e9-bc9d-5cfe5a534142"><span class="section-number-4">1.1.1.</span> <a href="#h:fd5b273b-8ce4-46e9-bc9d-5cfe5a534142">设置仓库开启Github Pages</a></h4>
<div class="outline-text-4" id="text-h:fd5b273b-8ce4-46e9-bc9d-5cfe5a534142">
<p>
进入仓库设置界面 <code>Settings</code> ，如果仓库名写错，可以在这重新修改仓库名。
</p>

<p>
在 <code>Settings</code> 页面下有 <code>Pages</code> 的设置选项进入 Github Pages 设置页。
</p>

<ul class="org-ul">
<li><code>Build and deployment</code> 有 2 种 CICD 构建方式：
<code>Deploy from a branch</code> 从分支构建发布和 <code>Github Actions</code> 自动构建。
自动构建需要写固定的脚本。</li>
<li><code>Custom domain</code> 设置 CNAME 信息，就可以用我们自己的域名访问了。</li>
</ul>


<p>
构建方式默认为 <code>Deploy from a branch</code> ，我们自定义用哪个分支构建：
</p>

<ul class="org-ul">
<li><code>master branch</code> 是使用主分支也是默认的，来作为站点内容。</li>
<li><code>gh-pages branch</code> 是项目新建一个分支命名为这个，使用这个分支来做站点内容。</li>
<li><code>master branch/docs folder</code> 是使用主分支的docs文件夹来作为站点内容。</li>
<li><code>None</code> 就是禁用Github Pages。</li>
</ul>

<p>
注意：如果是 <code>username.github.io</code> 只能使用主分支，其它仓库项目可以选择
其它两个。
</p>

<p>
同时官方给出来了<a href="https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/adding-a-theme-to-your-github-pages-site-using-jekyll">添加 Jekyll 主题</a>的帮助文档。
</p>
</div>
</div>
</div>
<div id="outline-container-h:01bb0c3b-8b99-4ad9-8050-56bf6890fa8c" class="outline-3">
<h3 id="h:01bb0c3b-8b99-4ad9-8050-56bf6890fa8c"><span class="section-number-3">1.2.</span> <a href="#h:01bb0c3b-8b99-4ad9-8050-56bf6890fa8c">配置 Jekyll</a></h3>
<div class="outline-text-3" id="text-h:01bb0c3b-8b99-4ad9-8050-56bf6890fa8c">
</div>
<div id="outline-container-h:b46b23c9-55c4-4525-aab9-771f46721c3c" class="outline-4">
<h4 id="h:b46b23c9-55c4-4525-aab9-771f46721c3c"><span class="section-number-4">1.2.1.</span> <a href="#h:b46b23c9-55c4-4525-aab9-771f46721c3c">添加 Jekyll 主题</a></h4>
<div class="outline-text-4" id="text-h:b46b23c9-55c4-4525-aab9-771f46721c3c">
<p>
使用要使用受“<a href="https://pages.github.com/themes/">支持的主题</a>”
</p>

<p>
在仓库中创建 <code>_config.yml</code> 文件，添加一行信息
<code>theme: jekyll-theme-THEME-NAME</code> ，将 THEME-NAME 替换为主题名称，如
<code>theme: jekyll-theme-modernist</code>
</p>

<p>
到这里网站就最简单的设置完成了，接下来只需要把 markdown 文件和 html 文
件放入仓库就可以展示了。比如在 <code>jekyll-website</code> 仓库中新建 <code>REAMDE.md</code>
文件
</p>
<div class="org-src-container">
<pre class="src src-md"># Jekyll-website
List
- [Blog](https://jaspervincent.github.io)
</pre>
</div>

<p>
访问 <a href="https://jaspervincent.github.io/jekyll-website">https://jaspervincent.github.io/jekyll-website</a> 查看效果
</p>

<p>
另外，更多主题可以参看这两个地址：
</p>
<ul class="org-ul">
<li>jekyll themes <a href="http://jekyllthemes.org/">http://jekyllthemes.org/</a></li>
<li>jekyll wiki site <a href="https://github.com/jekyll/jekyll/wiki/sites">https://github.com/jekyll/jekyll/wiki/sites</a>。</li>
</ul>

<p>
如果想自定义，可以把官方主题仓库拷贝过来，从默认配置文件修改。
</p>
</div>
</div>
<div id="outline-container-h:0f5de656-9962-4038-a2c3-c1f656b4a993" class="outline-4">
<h4 id="h:0f5de656-9962-4038-a2c3-c1f656b4a993"><span class="section-number-4">1.2.2.</span> <a href="#h:0f5de656-9962-4038-a2c3-c1f656b4a993">jekyll的目录结构</a></h4>
<div class="outline-text-4" id="text-h:0f5de656-9962-4038-a2c3-c1f656b4a993">
<p>
我们只需要关注几个核心的目录结构如下（可以自己创建）：
</p>

<ul class="org-ul">
<li><code>_config.yml</code> 全局配置文件</li>
<li><code>_layouts</code> 存放页面模板，md或html文件的内容会填充模板</li>
<li><code>_includes</code> 可以复用在其它页面被 include 的 html 页面</li>
<li><code>_posts</code> 博客文章页面
有 index ，默认启用 README.md 文件</li>
<li><code>_sass</code> 存放样式表</li>
<li><code>assets</code> 原生的资源文件
<ul class="org-ul">
<li><code>js</code></li>
<li><code>css</code></li>
<li><code>image</code></li>
</ul></li>
<li><code>index.html, index.md, README.md</code> 首页 index.html 优先级最高，如果没</li>
<li><code>自定义文件和目录</code></li>
</ul>

<p>
更多更详细的目录结构参看jekyll官网：<a href="https://jekyllrb.com/docs/structure">https://jekyllrb.com/docs/structure</a>
</p>
</div>
</div>
<div id="outline-container-h:a186ecae-a56c-48c7-a3ca-fdf1478cfac7" class="outline-4">
<h4 id="h:a186ecae-a56c-48c7-a3ca-fdf1478cfac7"><span class="section-number-4">1.2.3.</span> <a href="#h:a186ecae-a56c-48c7-a3ca-fdf1478cfac7">jekyll的模板编程语言Liquid的使用</a></h4>
<div class="outline-text-4" id="text-h:a186ecae-a56c-48c7-a3ca-fdf1478cfac7">
<ul class="org-ul">
<li>变量 <code>{{ variable }}</code> 被嵌入在页面中，会在静态页面生成的时候被替换成
具体的数值。常用的全局变量对象有： <code>site</code> 和 <code>page</code> 。这两个对象有很
多默认自带的属性，比如： <code>{{ site.time }}</code> ， <code>{ page.url }}</code> 。更多
的默认值参看： &lt;<a href="https://jekyllrb.com/docs/variables">https://jekyllrb.com/docs/variables</a>&gt;。</li>

<li><code>site</code> 对象对应的就是网站范围，自定义变量放在 <code>_config.yml</code> 中，比如
<code>title:标题</code> 使用 <code>{ site.title }}</code> 访问。</li>

<li><p>
<code>page</code> 对象对应的是单个页面，自定义变量放在每个页面的最开头，比如：
</p>

<div class="org-src-container">
<pre class="src src-md">---
 myNum:100
 myStr:我是字符串
---
</pre>
</div>

<p>
使用 <code>{{ page.myNum }}</code> 和 <code>{{ page.myStr }}</code> 访问。
</p>

<p>
如定义默认 page 变量
</p>
<div class="org-src-container">
<pre class="src src-sh">---
layout: post
title: 5&#24180;
categories: [Business, Linux]
---
</pre>
</div></li>

<li><p>
条件判断语句，更多详见：<a href="https://shopify.github.io/liquid/tags/control-flow">https://shopify.github.io/liquid/tags/control-flow</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">{% if site.title == <span class="org-string">'Awesome Shoes'</span> %}
  These shoes are awesome!
{% endif %}

{% if site.name == <span class="org-string">'kevin'</span> %}
  Hey Kevin!
{% elsif site.name == <span class="org-string">'anonymous'</span> %}
  Hey Anonymous!
{% else %}
  Hi Stranger!
{% endif %}
</pre>
</div></li>

<li><p>
循环迭代，更多详见：<a href="https://shopify.github.io/liquid/tags/iteration">https://shopify.github.io/liquid/tags/iteration</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">{% for product<span class="org-keyword"> in</span> collection.products %}
  {{ product.title }}
{% endfor %}
</pre>
</div></li>

<li><p>
默认函数，可以对变量进行一些处理，比如大小写转化、数学运算、格式化、
排序等等，在 Liquid 中叫做 Filters。比如 <code>{{ "Hello World!" | downca
  se }}</code> 转换字符串为小写。更多内置函数详见：<a href="https://jekyllrb.com/docs/liquid/filters">https://jekyllrb.com/docs/liquid/filters</a>
</p>
<div class="org-src-container">
<pre class="src src-sh">// &#23450;&#20041; count &#21464;&#37327;&#65292;&#35745;&#31639;&#25152;&#26377;&#25991;&#31456;&#23383;&#25968;
{% assign <span class="org-variable-name">count</span> = 0 %}
{% for post<span class="org-keyword"> in</span> site.posts %}
{% assign <span class="org-variable-name">single_count</span> = post.content | strip_html | strip_newlines | remove: <span class="org-string">" "</span> | size %}
{% assign <span class="org-variable-name">count</span> = count | plus: single_count %}
{% endfor %}

{{ site.posts.size }}&#31687;&#25991;&#31456;
{{ count }}&#23383;

// &#36755;&#20986;&#26085;&#26399;&#65292;&#38656;&#35201;&#25991;&#20214;&#25353;&#25351;&#23450;&#26041;&#24335;&#21629;&#21517; YEAR-MONTH-DAY-title.MARKUP
// 2011-12-31-new-years-eve-is-awesome.md
// https://jekyllrb.com/docs/posts/
{{ post.date | date: <span class="org-string">"%Y-%m-%d"</span> }}
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-h:87097efe-340a-40bd-b5a3-f5af52c11992" class="outline-4">
<h4 id="h:87097efe-340a-40bd-b5a3-f5af52c11992"><span class="section-number-4">1.2.4.</span> <a href="#h:87097efe-340a-40bd-b5a3-f5af52c11992">使用 _config.yml 文件设置 jekyll</a></h4>
<div class="outline-text-4" id="text-h:87097efe-340a-40bd-b5a3-f5af52c11992">
<p>
我们就可以配置一些默认的属性来控制 jekyll 的编译过程。
更多详细的内置属性详见：<a href="https://jekyllrb.com/docs/configuration/default">https://jekyllrb.com/docs/configuration/default</a>
</p>

<p>
同时我们可以自定变量，会自动绑定到 <code>site</code> 对象上，比如我们可以把导航配
置到 _config.yml 中：
</p>

<p>
默认站点访问 / 就可以，如果是子站点，需要仓库名加上 如 /jekyll-website。
</p>

<ul class="org-ul">
<li>网站地址变量： <code>site.url</code> 即主站 https 地址</li>
<li>网站基本路径变量为： <code>site.baseurl</code> 主站仓库变量值为 / ，子站变量值为
/仓库名</li>
<li><code>page.url</code> 值为 <code>文件名.html</code></li>
</ul>


<div class="org-src-container">
<pre class="src src-sh">title      : jasperVincent&#30340;&#39033;&#30446;&#21015;&#34920;
lang       : zh
description: &#32534;&#31243;&#20889;&#20316;
copyright  : &#169; 2021 jasperVincent All Rights Reserved
theme: jekyll-theme-modernist

nav:
 - name: &#20013;&#25991;
   link: /jekyll-website
 - name: &#25424;&#36192;
   link: /jekyll-website/donations/
 - name: En
   link: /jekyll-website/about/
</pre>
</div>

<p>
调用变量，使用 markdown 文件或者 html 文件都可以，如 REAME.md 添加内容:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Jekyll-website
</span>List
- [Blog](https://jaspervincent.github.io)
- [jekyll-website](https://jaspervincent.github.io/jekyll-website)
- [hugo-website](https://jaspervincent.github.io/hugo-website)

- [jekyll-&#24402;&#26723;]({{ site.url }}{{ site.baseurl }}/archive.html)
- [hugo-&#24402;&#26723;](https://jaspervincent.github.io/hugo-website/tags/)

&lt;nav&gt;
  site.url: {{ site.url }}&lt;br&gt;
  site.baseurl: {{ site.baseurl }}&lt;br&gt;
  page.url: {{ page.url }} &lt;br&gt;
  
  {% assign <span class="org-variable-name">baseurl</span> = <span class="org-string">"/jekyll-website"</span> | join: page.url %}
  baseurl: {{ baseurl }}&lt;br&gt;
  
  {% for item<span class="org-keyword"> in</span> site.nav %}
    &lt;a <span class="org-variable-name">href</span>=<span class="org-string">"{{ item.link }}"</span> 
      {% if  <span class="org-variable-name">baseurl</span> == item.link %} <span class="org-variable-name">style</span>=<span class="org-string">"color: red;"</span> {% endif %}
    &gt;
      {{ item.name }} -- 
    &lt;/a&gt;
  {% endfor %}
&lt;/nav&gt;

</pre>
</div>

<p>
等构建完成访问看看效果。
</p>

<p>
当然，我们也可以把一些数据单独放入一个 <code>yml</code> 文件，然后放在固定的数据
文件夹 <code>_data</code> 下，比如 <code>_data/navigation.yml</code> ，这样访问这个文件的数
据对象就是 <code>site.data.navigation</code> 。
</p>
</div>
</div>
<div id="outline-container-h:bf921260-7443-464d-b51f-77e80cd2d4a1" class="outline-4">
<h4 id="h:bf921260-7443-464d-b51f-77e80cd2d4a1"><span class="section-number-4">1.2.5.</span> <a href="#h:bf921260-7443-464d-b51f-77e80cd2d4a1">_layouts模板配置</a></h4>
<div class="outline-text-4" id="text-h:bf921260-7443-464d-b51f-77e80cd2d4a1">
<p>
<code>_layouts</code> 文件夹存放的是页面模板，默认需要一个 <code>default.html</code> ， 就是
说，layout 提供一个页面的布局框架，这是固定的模式，包括样式、结构、布
局、脚本控制等等。然后，我们在用其它 md 或 html 文件去动态填充这个框架，
这样就形成了一个完整的页面。
</p>

<p>
比如从官方主题仓库中 <code>default.html</code> 内容复制，在自己仓库中创建 <code>_layou
ts/default.html</code> 修改一下：
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span class="org-keyword">!doctype</span> html&gt;
&lt;<span class="org-function-name">html</span> <span class="org-variable-name">lang</span>=<span class="org-string">"{{ page.lang | default: site.lang }}"</span>&gt;
  &lt;<span class="org-function-name">head</span>&gt;
    &lt;<span class="org-function-name">meta</span> <span class="org-variable-name">charset</span>=<span class="org-string">"utf-8"</span>&gt;
    &lt;<span class="org-function-name">meta</span> <span class="org-variable-name">http-equiv</span>=<span class="org-string">"X-UA-Compatible"</span> <span class="org-variable-name">content</span>=<span class="org-string">"IE=edge"</span>&gt;

    {% seo %}

    &lt;<span class="org-function-name">link</span> <span class="org-variable-name">rel</span>=<span class="org-string">"icon"</span> <span class="org-variable-name">href</span>=<span class="org-string">"https://avatars0.githubusercontent.com/u/1797320"</span> <span class="org-variable-name">type</span>=<span class="org-string">"image/x-icon"</span> <span class="org-variable-name">title</span>=<span class="org-string">"scottcgi"</span>&gt;
    &lt;<span class="org-function-name">link</span> <span class="org-variable-name">rel</span>=<span class="org-string">"stylesheet"</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ 'https://scottcgi.github.io/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"</span>&gt;

    &lt;<span class="org-function-name">script</span> <span class="org-variable-name">src</span>=<span class="org-string">"{{ '/assets/js/scale.fix.js' | relative_url }}"</span>&gt;&lt;/<span class="org-function-name">script</span>&gt;
    &lt;<span class="org-function-name">meta</span> <span class="org-variable-name">name</span>=<span class="org-string">"viewport"</span> <span class="org-variable-name">content</span>=<span class="org-string">"width=device-width, initial-scale=1, user-scalable=no"</span>&gt;

  &lt;/<span class="org-function-name">head</span>&gt;
  &lt;<span class="org-function-name">body</span>&gt;
    &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"wrapper"</span>&gt;
      &lt;<span class="org-function-name">header</span> {% unless site.description or site.github.project_tagline %} <span class="org-variable-name">class</span>=<span class="org-string">"without-description"</span> {% endunless %}&gt;
        &lt;<span class="org-function-name">h1</span>&gt;<span class="org-underline"><span class="org-bold">{{ site.title | default: site.github.repository_name }}</span></span>&lt;/<span class="org-function-name">h1</span>&gt; 
        &lt;<span class="org-function-name">p</span>&gt;{{ page.description | default: site.description }}&lt;/<span class="org-function-name">p</span>&gt;
        {% assign baseurl =  site.baseurl | join: page.url %}

        &lt;<span class="org-function-name">ul</span>&gt;
        {% for item in site.nav %}
          {% if baseurl == item.link %}
            &lt;<span class="org-function-name">li</span> <span class="org-variable-name">style</span>=<span class="org-string">"background-color:#069"</span>&gt;
              &lt;<span class="org-function-name">a</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ item.link }}"</span>&gt;
                &lt;<span class="org-function-name">strong</span>&gt;<span class="org-bold">{{ item.name }}</span>&lt;/<span class="org-function-name">strong</span>&gt;
              &lt;/<span class="org-function-name">a</span>&gt;
            &lt;/<span class="org-function-name">li</span>&gt;
          {% else %}
            &lt;<span class="org-function-name">li</span>&gt;&lt;<span class="org-function-name">a</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ item.link }}"</span>&gt;{{ item.name }}&lt;/<span class="org-function-name">a</span>&gt;&lt;/<span class="org-function-name">li</span>&gt;
          {% endif %}
        {% endfor %}
            &lt;<span class="org-function-name">li</span>&gt;&lt;<span class="org-function-name">a</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.baseurl }}/feed.xml"</span>&gt;Feed RSS&lt;/<span class="org-function-name">a</span>&gt;&lt;/<span class="org-function-name">li</span>&gt;
            &lt;<span class="org-function-name">li</span>&gt;&lt;<span class="org-function-name">a</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.github.repository_url }}"</span>&gt;View On &lt;<span class="org-function-name">strong</span>&gt;<span class="org-bold">GitHub</span>&lt;/<span class="org-function-name">strong</span>&gt;&lt;/<span class="org-function-name">a</span>&gt;&lt;/<span class="org-function-name">li</span>&gt;
        &lt;/<span class="org-function-name">ul</span>&gt;
      &lt;/<span class="org-function-name">header</span>&gt;
      &lt;<span class="org-function-name">section</span>&gt;

      {{ content }}

      &lt;/<span class="org-function-name">section</span>&gt;
    &lt;/<span class="org-function-name">div</span>&gt;

    &lt;<span class="org-function-name">footer</span>&gt;
      &lt;<span class="org-function-name">p</span>&gt;{{ site.copyright | default: "copyright not found in _config.yml" }}&lt;/<span class="org-function-name">p</span>&gt;
    &lt;/<span class="org-function-name">footer</span>&gt;
  &lt;/<span class="org-function-name">body</span>&gt;
&lt;/<span class="org-function-name">html</span>&gt;
</pre>
</div>

<ul class="org-ul">
<li><code>{% seo %}</code> 是jekyll的一个插件提供的seo优化，
详情在这里：<a href="https://github.com/jekyll/jekyll-seo-tag">https://github.com/jekyll/jekyll-seo-tag</a></li>
<li>核心在于 <code>{{ content }}</code> 这个变量是内置的，会用我们的md或html页面填
充这部分内容。</li>
<li>其它的，我们看到会大量使用变量和流程控制代码，来填充模板的方方面面。</li>
<li>于是，填充模板的内容，一方面是来自读取配置文件的变量，一方面是来自
<code>_includes</code> 的页面，还有就是来自 <code>{{ content }}</code> 对应的页面。</li>
</ul>

<p>
当然，我们也可以不使用 <code>{{ content }}</code> 来填充模板，而是使用 <code>_includes</code>
的页面来代替 <code>{{ content }}</code> ，但这样不够灵活，因为使用 <code>{{ content }}</code> ，
我们可以在每个页面单独设置对应的 <code>layout</code> 模板。
</p>
</div>
</div>
<div id="outline-container-h:6f1846cb-c400-402d-9fac-15fca8b85278" class="outline-4">
<h4 id="h:6f1846cb-c400-402d-9fac-15fca8b85278"><span class="section-number-4">1.2.6.</span> <a href="#h:6f1846cb-c400-402d-9fac-15fca8b85278">md 和 html 页面编写</a></h4>
<div class="outline-text-4" id="text-h:6f1846cb-c400-402d-9fac-15fca8b85278">
<p>
站点内容页面，可以使用 markdown 或 html 来编写，但 markdown 编写的 md
文件，在浏览器地址访问的时候依然使用html文件后缀。推荐使用 markdown 来
书写内容，语法参见：<a href="https://help.github.com/articles/basic-writing-and-formatting-syntax">Github md 示例</a> 和<a href="https://guides.github.com/features/mastering-markdown">Github md教程</a>。比如下面这个
</p>

<p>
about.md 页面：
</p>

<div class="org-src-container">
<pre class="src src-md">---
layout: default
title: About
description: linux Engine Developer
permalink: /about/
lang: en
---
# About page

This page tells you a little bit about me.
</pre>
</div>

<ul class="org-ul">
<li><code>layout: default</code> 告诉jekyll这个页面使用哪个模板，即这个页面会放入哪
个模板的 <code>{{ content }}</code> 。当然，我们可以在 <code>_layouts</code> 文件夹下提供
多个不同的模板，然后根据需要不同的页面使用不同的 <code>layout</code> 。</li>

<li><code>permalink</code> 固定连接 页面可以放在任意位置和目录，访问的时候从站点域
名开始，带上目录名称，再次注意需要使用 html 结尾。如果想要自定义浏览
器的访问路径，可以参看详细设置：<a href="https://jekyllrb.com/docs/permalinks">permalinks</a>。</li>
</ul>
</div>
</div>
<div id="outline-container-h:8c59ff09-3fe8-4d3a-8456-a0631d4ce563" class="outline-4">
<h4 id="h:8c59ff09-3fe8-4d3a-8456-a0631d4ce563"><span class="section-number-4">1.2.7.</span> <a href="#h:8c59ff09-3fe8-4d3a-8456-a0631d4ce563">博客文章编写和管理</a></h4>
<div class="outline-text-4" id="text-h:8c59ff09-3fe8-4d3a-8456-a0631d4ce563">
<p>
我们自然可以新建目录，提交文章，然后添加一个文章列表页面。但我们也可以
把这些交给jekyll的内置机制来完成，因为它提供了一些方便的内置文章管理功能。
</p>

<ul class="org-ul">
<li><p>
<code>_posts</code> 文件夹是内置的放置文章的目录，我们可以将固定格式
<code>year-moth-day-name.md</code> 名称的 md 文件放到这里。
</p>

<p>
比如 <code>_posts/2011-12-31-new-years.md</code> ：
</p>

<div class="org-src-container">
<pre class="src src-sh">---
layout: post
title: New
categories: [Think]
---

&#36825;&#26159;&#19968;&#31687;&#21338;&#23458;&#25991;&#31456;&#12290;
</pre>
</div></li>

<li><p>
接下来我们需要添加 <code>post</code> 的模板， <code>_layouts/post.html</code> 。
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span class="org-keyword">!DOCTYPE</span> html&gt;

&lt;<span class="org-function-name">html</span>&gt;
    <span class="org-comment-delimiter">&lt;!--</span><span class="org-comment">
    &lt;head&gt;
        % include header.html %

        &lt;link rel="stylesheet" href="{{site.url}}/styles/font.css"&gt;
        &lt;link rel="stylesheet" media="screen and (min-width: 600px)" href="{{site.url}}/styles/post.css"&gt;
        &lt;link rel="stylesheet" media="screen and (max-width: 600px)" href="{{site.url}}/styles/post_mobile.css"&gt;
        &lt;link rel="stylesheet" media="screen and (min-width: 600px)" href="{{site.url}}/styles/navigatebar.css"&gt;
        &lt;link rel="stylesheet" media="screen and (max-width: 600px)" href="{{site.url}}/styles/navigatebar_mobile.css"&gt;
        &lt;link rel="stylesheet" href="{{site.url}}/theme/highlight.css"&gt;
    &lt;/head&gt;
</span><span class="org-comment-delimiter">--&gt;</span>
    &lt;<span class="org-function-name">body</span>&gt;
        <span class="org-comment-delimiter">&lt;!-- </span><span class="org-comment">% include navigatebar.html %</span><span class="org-comment-delimiter"> --&gt;</span>

        &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"site-masthead"</span>&gt;
          &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"container"</span>&gt;
            &lt;<span class="org-function-name">nav</span> <span class="org-variable-name">class</span>=<span class="org-string">"nav"</span>&gt;
              &lt;<span class="org-function-name">a</span> <span class="org-variable-name">class</span>=<span class="org-string">"nav-link"</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.url }}{{site.baseurl}}/index.html"</span>&gt;Home&lt;/<span class="org-function-name">a</span>&gt;
              &lt;<span class="org-function-name">a</span> <span class="org-variable-name">class</span>=<span class="org-string">"nav-link"</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.url }}{{site.baseurl}}/tags.html"</span>&gt;Tags&lt;/<span class="org-function-name">a</span>&gt;
              &lt;<span class="org-function-name">a</span> <span class="org-variable-name">class</span>=<span class="org-string">"nav-link"</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.url }}{{site.baseurl}}/about/"</span>&gt;About&lt;/<span class="org-function-name">a</span>&gt;
              &lt;<span class="org-function-name">a</span> <span class="org-variable-name">class</span>=<span class="org-string">"nav-link"</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.url }}{{site.baseurl}}/feed.xml"</span>&gt;Feeds RSS&lt;/<span class="org-function-name">a</span>&gt;
            &lt;/<span class="org-function-name">nav</span>&gt;
          &lt;/<span class="org-function-name">div</span>&gt;
        &lt;/<span class="org-function-name">div</span>&gt;

        &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"slogan"</span>&gt;
          &#12300;&#29983;&#27963;&#21487;&#20197;&#26356;&#31616;&#21333;, &#27426;&#36814;&#26469;&#21040;&#25105;&#30340;&#24320;&#28304;&#19990;&#30028;&#12301;
        &lt;/<span class="org-function-name">div</span>&gt;
      
        &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"content-area"</span>&gt;
            &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"title"</span>&gt;
                {{ page.title }}
            &lt;/<span class="org-function-name">div</span>&gt;
            &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"category-area"</span>&gt;
                &#12300;{% for category in page.categories %}
                &lt;<span class="org-function-name">a</span> <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.url }}{{ site.baseurl }}/tags.html#{{ category }}"</span>&gt;
                    &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"category"</span>&gt;
                        {{ category }}
                    &lt;/<span class="org-function-name">div</span>&gt;
                &lt;/<span class="org-function-name">a</span>&gt;
                {% endfor %}&#12301;
            &lt;/<span class="org-function-name">div</span>&gt;
            &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"char-counter"</span>&gt;
              {{ page.date | date: "<span class="org-variable-name">%Y-%m-%d</span>" }} {{ page.content | strip_html | strip_newlines | remove: " " | size }}&#23383;
            &lt;/<span class="org-function-name">div</span>&gt;
            &lt;<span class="org-function-name">div</span> <span class="org-variable-name">class</span>=<span class="org-string">"content"</span>&gt;
                {{ content }}
            &lt;/<span class="org-function-name">div</span>&gt;
        &lt;/<span class="org-function-name">div</span>&gt;
    &lt;/<span class="org-function-name">body</span>&gt;
&lt;/<span class="org-function-name">html</span>&gt;
</pre>
</div></li>
</ul>



<ul class="org-ul">
<li><p>
最后，我们还需要编写一个博客文章列表的页面，用来展示所有的文章。比如
在根目录新建 <code>archive.html</code> 页面：
</p>

<div class="org-src-container">
<pre class="src src-sh">---
layout: default
title: Blog
---

&lt;h1&gt;Latest Posts&lt;/h1&gt;

&lt;ul&gt;
{% for post<span class="org-keyword"> in</span> site.posts %}
  &lt;li&gt;
    &lt;h2&gt;&lt;a <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.baseurl }}{{ post.url }}"</span>&gt;{{ post.title }}&lt;/a&gt;&lt;/h2&gt;
    &lt;p&gt;{{ post.excerpt }}&lt;/p&gt;
  &lt;/li&gt;
{% endfor %}
&lt;/ul&gt;

<span class="org-comment-delimiter">#</span><span class="org-comment">------------------
</span>
&lt;ul&gt;
  &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"char-total-counter"</span> <span class="org-variable-name">style</span>=<span class="org-string">"display: flex;justify-content: flex-end;margin-right: 20px;"</span>&gt;
    {% assign <span class="org-variable-name">count</span> = 0 %}
    {% for post<span class="org-keyword"> in</span> site.posts %}
    {% assign <span class="org-variable-name">single_count</span> = post.content | strip_html | strip_newlines | remove: <span class="org-string">" "</span> | size %}
    {% assign <span class="org-variable-name">count</span> = count | plus: single_count %}
    {% endfor %}

    {{ site.posts.size }}&#31687;&#25991;&#31456;
    {{ count }}&#23383;
  &lt;/div&gt;

  {% for post<span class="org-keyword"> in</span> site.posts %}

  &lt;li <span class="org-variable-name">class</span>=<span class="org-string">"post-line"</span>&gt;
    &lt;a
      <span class="org-variable-name">class</span>=<span class="org-string">"post-title"</span>
      <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.baseurl }}{{ post.url }}"</span>&gt;
      {{ post.title }}
    &lt;/a&gt;

    &lt;a <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.baseurl }}{{ post.url }}"</span>&gt;
      &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"post-summary"</span>&gt;
        {{ post.content | strip_html | truncate: 80, <span class="org-string">" ..."</span> }}
      &lt;/div&gt;
    &lt;/a&gt;
    &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"post-info"</span> <span class="org-variable-name">style</span>=<span class="org-string">"display: flex;justify-content: space-between;"</span>&gt;
      &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"category-area"</span>&gt;
        {% for category<span class="org-keyword"> in</span> post.categories %}
        &lt;a <span class="org-variable-name">href</span>=<span class="org-string">"{{ site.url }}{{ site.baseurl }}/tags.html#{{ category }}"</span>&gt;
          &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"category"</span>&gt;
            {{ category }}
          &lt;/div&gt;
        &lt;/a&gt;
        {% endfor %}
      &lt;/div&gt;
      &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"right-info-area"</span> <span class="org-variable-name">style</span>=<span class="org-string">"display: flex;"</span>&gt;
        &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"char-counter"</span>&gt;
          {{ post.content | strip_html | strip_newlines | remove: <span class="org-string">" "</span> | size }}&#23383;
        &lt;/div&gt;

        &lt;div <span class="org-variable-name">class</span>=<span class="org-string">"post-date"</span>&gt;
          {{ post.date | date: <span class="org-string">"%Y-%m-%d"</span> }}
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/li&gt;

  {% endfor %}

&lt;/ul&gt;
</pre>
</div>

<ul class="org-ul">
<li><code>site.posts</code> jekyll会自动生成=_posts=目录的对象。</li>
<li><code>post.url</code> jekyll会自动会设置在=_posts=目录下的页面url。</li>
<li><code>post.title</code> 默认是md文件名称，但也可以在文章页面自定义 <code>title: 我的文章自定义名称</code> 。</li>
<li><code>post.excerpt</code> 默认是文章第一段的摘要文字。</li>
</ul></li>

<li><p>
文章连接地址格式化 permalink
</p>

<p>
默认的 <code>post.url</code> 为 <code>permalink: /:categories/:year/:month/:day/:title:output_ext</code>
</p>

<p>
在 <code>_config.yml</code> 中添加：
</p>

<div class="org-src-container">
<pre class="src src-sh">collections:
  posts:
    permalink: /:year/:month/:day/:title/
</pre>
</div>

<p>
更多官方文档： <a href="https://jekyllrb.com/docs/permalinks/#global">https://jekyllrb.com/docs/permalinks/#global</a>
</p></li>

<li><p>
订阅插件
</p>

<p>
在 <code>_config.yml</code> 中添加：
</p>

<div class="org-src-container">
<pre class="src src-sh">plugins:
  - jekyll-feed
</pre>
</div>

<p>
在网站网站下生成 feed.xml 文件
</p></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:a9d7ad0b-25e4-4bfa-8cbc-d4377d166463" class="outline-3">
<h3 id="h:a9d7ad0b-25e4-4bfa-8cbc-d4377d166463"><span class="section-number-3">1.3.</span> <a href="#h:a9d7ad0b-25e4-4bfa-8cbc-d4377d166463">Github Pages的限制</a></h3>
<div class="outline-text-3" id="text-h:a9d7ad0b-25e4-4bfa-8cbc-d4377d166463">
<p>
Github Pages 并不是无限存储和无限流量的静态站点服务，一些限制如下：
</p>

<ul class="org-ul">
<li>内容存储不能超过1GB。</li>
<li>每个月100GB流量带宽。</li>
<li>每小时编译构建次数不超过10次。（在线修改重新编译并未发现这个限制）</li>
<li>更多参看官方说明：<a href="https://help.github.com/articles/what-is-github-pages/#usage-limits">usage-limits</a>。</li>
</ul>
</div>
</div>
<div id="outline-container-h:233b3881-bbf1-4268-bdc3-d38476dffd1c" class="outline-3">
<h3 id="h:233b3881-bbf1-4268-bdc3-d38476dffd1c"><span class="section-number-3">1.4.</span> <a href="#h:233b3881-bbf1-4268-bdc3-d38476dffd1c">范例</a></h3>
<div class="outline-text-3" id="text-h:233b3881-bbf1-4268-bdc3-d38476dffd1c">
<p>
index.md文件内容
</p>

<div class="org-src-container">
<pre class="src src-sh">- [jasperVincent&#21338;&#23458;](http://xuchangwei.com)
- [&#25991;&#26723;](https://jaspervincent.github.io/pic)
- [&#20010;&#20154;&#20171;&#32461;](https://me.xuchangwei.com)
</pre>
</div>


<p>
访问网站<a href="https://jaspervincent.github.io/">https://jaspervincent.github.io/</a>
</p>



<p>
pages/donations.md文件内容
</p>

<pre class="example" id="org54649d8">
---
description: 万物皆比特，一切可编码，宇宙是计算。
title: 捐赠
permalink: /donations/
---
如果您觉得本博客的原创博文或我维护的开源项目对您有用，可以考虑通过捐赠来支持本博客。

#### 免责声明
1. 本博客致力于知识和技术分享，不以盈利为目的，是个人维护的独立博客；
2. 本人不对本博客的更新和维护周期做任何承诺；
3. 捐赠者的捐赠行为完全自愿，本人与各捐赠者之间不构成购买或雇佣关系；
4. 收到的捐赠款项由本人完全支配，本人没有义务对款项的用途做解释；
5. 除非特别注明，本人会在该页面列出捐赠者的姓名、捐赠日期以及捐赠金额，并承诺不向任何组织或个人透漏其他身份信息；

#### 捐赠方式
对于无独立经济来源的学生而言，不推荐进行大额捐赠。
</pre>


<figure id="org7ced441">
<img src="././images/webchat-ali-pay.jpg" alt="webchat-ali-pay.jpg">

<figcaption><span class="figure-number">Figure 1: </span>webchat-ali-pay</figcaption>
</figure>

<pre class="example" id="orgbb0b339">
注意事项：

1. 请尽量留言以表明自己是为seisman博客捐赠，以免与我的其它交易混淆；
2. 偶尔交易提醒会忘记加入到以下列表中。如有遗漏，可以给 seisman.info@gmail 发邮件告知。
3. 微信支付不再提供支付者信息，故而姓名处只能填写“微信用户”。如果你想列出自己的名字， 请在转账时填写备注或邮件告知。

#### 捐赠名单
本博客自开通捐赠以来收到的捐赠款项在下表列出。捐赠者信息由支付宝或微信提供，若您不希望列出自己的姓名， 请在捐赠时说明或在捐赠后邮件联系。

合计

2021年: 0元
</pre>

<p>
<b><a href="https://jekyllrb.com/">Jekyll</a> 网站博客</b> ：
</p>
<ul class="org-ul">
<li><a href="https://github.com/manateelazycat/manateelazycat.github.io">https://github.com/manateelazycat/manateelazycat.github.io</a></li>
<li><a href="https://gitlab.com/protesilaos/protesilaos.gitlab.io">https://gitlab.com/protesilaos/protesilaos.gitlab.io</a></li>
<li><a href="https://github.com/seisman/seisman.github.io">https://github.com/seisman/seisman.github.io</a></li>
<li><a href="https://github.com/scottcgi/scottcgi.github.io">https://github.com/scottcgi/scottcgi.github.io</a></li>
</ul>
</div>
</div>
</section>
<section id="outline-container-h:336186e1-70a8-4c3e-b461-a735d737f446" class="outline-2">
<h2 id="h:336186e1-70a8-4c3e-b461-a735d737f446"><span class="section-number-2">2.</span> <a href="#h:336186e1-70a8-4c3e-b461-a735d737f446">使用 hugo 搭建个人站点</a></h2>
<div class="outline-text-2" id="text-h:336186e1-70a8-4c3e-b461-a735d737f446">
</div>
<div id="outline-container-h:29e912ee-a052-4d0c-8ee4-6460edfae1fd" class="outline-3">
<h3 id="h:29e912ee-a052-4d0c-8ee4-6460edfae1fd"><span class="section-number-3">2.1.</span> <a href="#h:29e912ee-a052-4d0c-8ee4-6460edfae1fd">安装 Hugo</a></h3>
<div class="outline-text-3" id="text-h:29e912ee-a052-4d0c-8ee4-6460edfae1fd">
<p>
如果你是 Windows 用户：
</p>

<p>
下载地址：<a href="https://github.com/gohugoio/hugo/releases">https://github.com/gohugoio/hugo/releases</a>
</p>

<p>
如果你是 Mac 用户：
</p>

<div class="org-src-container">
<pre class="src src-text">brew install hugo
</pre>
</div>

<p>
安装完后自行配置环境变量，引用hugo命令
</p>

<p>
查看hugo版本 <code>hugo version</code>
</p>
</div>
</div>
<div id="outline-container-h:25cad691-dd9c-41bd-8a44-6f056e7bf90f" class="outline-3">
<h3 id="h:25cad691-dd9c-41bd-8a44-6f056e7bf90f"><span class="section-number-3">2.2.</span> <a href="#h:25cad691-dd9c-41bd-8a44-6f056e7bf90f">创建一个新的网站</a></h3>
<div class="outline-text-3" id="text-h:25cad691-dd9c-41bd-8a44-6f056e7bf90f">
<p>
在工作目录中打开命令行终端，如 windos cmd。
</p>

<p>
输入命令： <code>hugo new site blog</code>
</p>

<div class="org-src-container">
<pre class="src src-sh">$ hugo new site blog
Congratulations! Your new Hugo site was created<span class="org-keyword"> in</span> D:\github\tmp\blog.

Just a few more steps...

1. Change the current directory to D:\github\tmp\blog.
2. Create or install a theme:
   - Create a new theme with the command <span class="org-string">"hugo new theme &lt;THEMENAME&gt;"</span>
   - Install a theme from https://themes.gohugo.io/
3. Edit hugo.toml, setting the <span class="org-string">"theme"</span> property to the theme name.
4. Create new content with the command <span class="org-string">"hugo new content &lt;SECTIONNAME&gt;\&lt;FILENAME&gt;.&lt;FORMAT&gt;"</span>.
5. Start the embedded web server with the command <span class="org-string">"hugo server --buildDrafts"</span>.

See documentation at https://gohugo.io/.
</pre>
</div>


<p>
以上命令行会创建一个新的文件夹 blog，该文件夹下包含 Hugo 最基本目录结
构，其中blog_test目录下文件如下：
</p>

<div class="org-src-container">
<pre class="src src-sh">.
&#9500;&#9472;&#9472; archetypes/
&#9474;   &#9492;&#9472;&#9472; default.md
&#9500;&#9472;&#9472; assets/
&#9500;&#9472;&#9472; content/
&#9500;&#9472;&#9472; data/
&#9500;&#9472;&#9472; i18n/
&#9500;&#9472;&#9472; layouts/
&#9500;&#9472;&#9472; static/
&#9500;&#9472;&#9472; themes/
&#9492;&#9472;&#9472; hugo.toml         &lt;-- site configuration
</pre>
</div>

<p>
根据要求，您可能希望将站点配置组织到子目录中：
</p>

<div class="org-src-container">
<pre class="src src-sh">&#9500;&#9472;&#9472; archetypes/
&#9474;   &#9492;&#9472;&#9472; default.md
&#9500;&#9472;&#9472; assets/
&#9500;&#9472;&#9472; config/           &lt;-- site configuration
&#9474;   &#9492;&#9472;&#9472; _default/
&#9474;       &#9492;&#9472;&#9472; hugo.toml
&#9500;&#9472;&#9472; content/
&#9500;&#9472;&#9472; data/
&#9500;&#9472;&#9472; i18n/
&#9500;&#9472;&#9472; layouts/
&#9500;&#9472;&#9472; static/
&#9492;&#9472;&#9472; themes/
</pre>
</div>

<p>
生成文件包含几个文件夹 和 1个全局配置文件，下面依次对这7个文件做相应的说明。
</p>

<dl class="org-dl">
<dt>archetypes/ 目录</dt><dd><p>
新建文章时默认模板，当使用 <code>hugo new 新建文章</code> 时会生成默认模板格式的文
件，该文件夹配置的优先级高于文件夹 theme/ 下相应主题的 /archetypes
设置。一般情况下，/archetypes 下仅包含default.md文件，内容为：
</p>

<pre class="example" id="org85beb8d">
---
title: "{{ replace .Name "-" " " | title }}"
date: {{ .Date }}
draft: true
---
</pre>

<p>
当使用 <code>hugo new 新建文章</code> 时，文章头部默认会有以上这段内容。其中包含
标题（根据文件名推断而来）、日期及draft属性，一般我们会把draft属性去
掉（ <del>draft: true</del> ），draft是草稿的意思，一般有这个属性的md文件不会生成
显示，若不删除，则在生成网页时需通过 <code>hugo -D</code> 强制显示。或者我们还
可以直接使用主题里帮我们设置好了的 /archetypes 配置
</p></dd>

<dt>hugo.toml 文件</dt><dd>该文件为站点全局配置文件。该文件 <b>非常重要</b> ，直接决定网站最终的显示
元素和布局。同时 hugo.yaml、hugo.json 格式</dd>

<dt>config 目录</dt><dd>该 config 目录包含站点配置，可能拆分为多个子目录和文件。对于配置最少
的项目或不需要在不同环境中表现不同的项目，在项目根目录中命名 hugo.to
ml 的单个配置文件就足够了。查看详细资料</dd>

<dt>content/ 目录</dt><dd>存放个人blog内容的目录，即我们所有写的文章都应存放在content目录下，
也是Hugo默认的内容目录，类似于hexo的source 。我们应该重点组织好conte
nt目录内的内容，后期在切换网页框架时（因为Web的开源框架也在日益升级
迭代），也只需迁移content目录里的内容即可。</dd>

<dt>data/ 目录</dt><dd>存储Hugo框架在生成网页时使用到的配置文件，类似于hexo的source/_data ，
该文件夹默认为空。最好不要自己手动设置这个目录的配置，保持默认为空或
者使用主题里设置好了的配置。</dd>

<dt>layouts/ 目录</dt><dd>存储 .html 网页内容的生成模板，该文件夹的优先级高于文件夹 theme/ 下
相应主题下的 /layouts ，该文件夹默认为空。一般不从事Web前端的开发，
对于新手来说自己组织有点困难，通常保持该文件夹为空或者使用主题里设置
好了的配置。</dd>

<dt>static/ 目录</dt><dd>存储 images、CSS和JS等静态文件，当使用Hugo创建生成网页时，该目录下的
文件会直接copy到 <i>public 目录下。该文件夹的优先级高于文件夹 theme</i>
下相应主题下的 /static 文件夹，该文件夹默认为空。一般不从事Web前端的
开发，对于新手来写CSS和JS脚本会有点困难，我这里是直接应用主题里自带
的 /static 。</dd>

<dt>themes/ 目录</dt><dd>存放网站主题的目录，themes目录下的每个子目录代表一个主题，可以在
config.toml中通过参数theme指定主题（主题即theme目录下的子目录的名字）。</dd>
</dl>

<p>
更多细节： <a href="https://gohugo.io/getting-started/directory-structure/">https://gohugo.io/getting-started/directory-structure/</a>
</p>
</div>
</div>
<div id="outline-container-h:31057f8a-dff2-4724-a048-c2d6a934056d" class="outline-3">
<h3 id="h:31057f8a-dff2-4724-a048-c2d6a934056d"><span class="section-number-3">2.3.</span> <a href="#h:31057f8a-dff2-4724-a048-c2d6a934056d">添加主题和生成站点</a></h3>
<div class="outline-text-3" id="text-h:31057f8a-dff2-4724-a048-c2d6a934056d">
<p>
官方主题 <a href="https://themes.gohugo.io/">https://themes.gohugo.io/</a> 。这是使用主题 <a href="https://github.com/yihui/hugo-xmin">hugo-xmin</a>
</p>

<p>
XMin 主题总共包含大约 130 行代码，包括 HTML 模板和 CSS 中的代码（也计算空行）。
</p>

<p>
主要关注 3 个文件，即 config.toml、content/ 和 themes/ 。其余文件夹（a
rchetypes/、 data/ 、layouts/ 和 static/ ）在默认生成的情况下都为空文
件夹，这些影响布局的属性主要依赖主题文件夹（即 themes/ ）对应主题的相
应的配置值，下面主要介绍配置主题和生成博客的过程。
</p>

<p>
<b>下载主题</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">&#23433;&#35013;&#20027;&#39064;&#21040;blog&#30446;&#24405;&#37324;&#30340;themes&#25991;&#20214;&#22841;
</span><span class="org-builtin">cd</span> blog
git clone https://github.com/yihui/hugo-xmin.git themes/hugo-xmin
<span class="org-comment-delimiter">#</span><span class="org-comment">git clone https://github.com/flysnow-org/maupassant-hugo themes/maupassant
</span><span class="org-comment-delimiter">#</span><span class="org-comment">git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke
</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&#21024;&#38500;&#40664;&#35748;&#37197;&#32622;
</span>rm -f hugo.toml
</pre>
</div>

<p>
默认样式是没有的，直接把themes/hugo-xmin/exampleSite下的文件覆盖到blog
目录下，将 config.yaml 重命名为 hugo.yaml。
</p>

<p>
<b>hugo.yaml 文件配置</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">&#32593;&#31449;&#30340;&#26681;URL&#65292;&#38656;&#20462;&#25913;&#25104;&#33258;&#24049;&#30340;
</span>baseurl: <span class="org-string">"/"</span> <span class="org-comment-delimiter">#</span><span class="org-comment">&#26041;&#20415;&#26412;&#22320;&#35843;&#35797;
</span><span class="org-comment-delimiter">#</span><span class="org-comment">baseurl: "https://jaspervincent.github.io/hugo-website"
</span><span class="org-comment-delimiter"># </span><span class="org-comment">&#32593;&#31449;&#40664;&#35748;&#30340;&#35821;&#35328;&#65292;&#25105;&#19968;&#33324;&#26159;&#40664;&#35748;&#20540;
</span>languageCode: <span class="org-string">"en-us"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&#39318;&#39029;&#30340;&#26631;&#39064;&#65292;&#38656;&#20462;&#25913;&#25104;&#33258;&#24049;&#30340;
</span>title: <span class="org-string">"hugo-website"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">&#36825;&#37324;&#26159;&#20351;&#29992;&#30340;&#20027;&#39064;&#26159;hugo-xmin&#65292;&#32593;&#39029;&#30340;&#24067;&#23616;&#23558;&#20351;&#29992;&#23545;&#24212;&#20027;&#39064;&#30340;archetypes&#12289;layouts&#21644;static&#37197;&#32622;
</span>theme: <span class="org-string">"hugo-xmin"</span>

params:
  footer: <span class="org-string">"&amp;copy; [Jasper Hsu](https://jaspervincent.github.io/hugo-website) 2023 -- {Year} | 
  [Github](https://github.com/jaspervincent) | [RSS](https://jaspervincent.github.io/hugo-website/index.xml) |
  [CC-BY-NC-ND 4.0](https://creativecommons.org/licenses/by-nc-nd/4.0/)"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">&#26495;&#22359;&#21270;&#20998;&#65292;weight&#23545;&#24212;&#22312;&#39029;&#38754;&#19978;&#26174;&#31034;&#30340;&#27425;&#24207;&#12290;
</span><span class="org-comment-delimiter">#</span><span class="org-comment">menu</span>
</pre>
</div>

<p>
<b>添加文章</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">&#28155;&#21152;&#25991;&#31456;&#65292;&#20250;&#22312;content&#30446;&#24405;&#19979;&#21019;&#24314;posts/my-first-post.md
</span><span class="org-builtin">cd</span> blog
hugo new post/my-first-post.md
hugo new post/second.md
</pre>
</div>

<p>
文章内容
</p>

<div class="org-src-container">
<pre class="src src-text">---
title: "Test"
date: 2021-01-28T03:29:09+08:00
draft: false # &#36825;&#37324;&#26159;&#21542;&#20026;&#33609;&#31295;&#65292;&#21542;
tags: ["test"]
categories: ["test"]
url: "/2019/12/18/test.html"
---

### hello world
</pre>
</div>

<p>
second.md
</p>
<div class="org-src-container">
<pre class="src src-text">---
title: Second page
author: Jasper Hsu
date: '1999-06-13'
tags: ["Test"]
categories:
  - Test
slug: a-quick-note
---

## Second
</pre>
</div>

<p>
<b>本地测试</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">windows
</span>hugo server -D
<span class="org-comment-delimiter"># </span><span class="org-comment">&#21551;&#21160;&#26412;&#22320;&#26381;&#21153;&#65292;&#26681;&#25454;&#26174;&#31034;&#27983;&#35272;&#22120;&#35775;&#38382;http://localhost:1313/
</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">linux
</span>hugo server --bind=<span class="org-string">"0.0.0.0"</span> -v -w -p 8080 -b http://xuchangwei.com
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b6e0290a-6171-4ce6-a964-da861d486d94" class="outline-3">
<h3 id="h:b6e0290a-6171-4ce6-a964-da861d486d94"><span class="section-number-3">2.4.</span> <a href="#h:b6e0290a-6171-4ce6-a964-da861d486d94">github创建github page</a></h3>
<div class="outline-text-3" id="text-h:b6e0290a-6171-4ce6-a964-da861d486d94">
<p>
<b>创建仓库</b>
</p>

<p>
最好仓库名为账号名+github.io形式，这是为
<a href="https://github.com/jaspervincent/hugo-website">https://github.com/jaspervincent/hugo-website</a>
</p>

<p>
<b>初始化hugo</b>
</p>

<p>
可以用git命令克隆下来，我这里使用github
desktop克隆代码，并用vs打开本地目录
</p>

<div class="org-src-container">
<pre class="src src-sh">hugo --theme=hugo-xmin <span class="org-comment-delimiter"># </span><span class="org-comment">blog&#30446;&#24405;&#19979;&#29983;&#20135;public&#25991;&#20214;&#22841;</span>
</pre>
</div>

<p>
<b>上传到github 仓库</b>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter">#  </span><span class="org-comment">hugo.yaml &#25991;&#20214;&#65292;&#25214;&#21040; baseurl&#65292;&#22635;&#20837;github&#20179;&#24211;&#22320;&#22336;
</span>baseurl: <span class="org-string">"https://jaspervincent.github.io/hugo-website"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">&#25171;&#21253;&#32593;&#31449;&#21040;/docs&#30446;&#24405;&#65292;&#20197;&#21518;&#26377;&#26032;&#25991;&#31456;&#65292;&#27599;&#27425;&#37117;&#35201;&#25171;&#21253;&#19968;&#19979;
</span><span class="org-comment-delimiter">#</span><span class="org-comment">hugo -d docs
</span><span class="org-comment-delimiter">#</span><span class="org-comment">&#31532;&#19968;&#27425;&#21457;&#24067;&#32593;&#31449;&#26102;&#65292;&#20179;&#24211;&#20013;&#36873;&#35774;&#32622;"setting"&#65292;&#23558;github page &#29983;&#25928;&#36335;&#24452;&#25351;&#23450;&#20026;/docs
</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">&#19978;&#20256;github
</span><span class="org-builtin">cd</span> public
git init
git add .
git commit -m <span class="org-string">"first commit"</span>
git remote add origin git@github.com:jaspervincent/hugo-website.git

git push -u origin master
</pre>
</div>

<p>
第一次发布网站时，仓库中选设置”setting”，将github page 生效路径指定为/
</p>

<p>
现在访问看看效果，<a href="https://jaspervincent.github.io/hugo-website/">https://jaspervincent.github.io/hugo-website/</a>
</p>

<p>
到此，建站完成。
</p>

<p>
参考：
</p>
<ul class="org-ul">
<li><a href="https://gohugo.io/getting-started/quick-start/">https://gohugo.io/getting-started/quick-start/</a></li>
<li><a href="https://yihui.org/">https://yihui.org/</a></li>
</ul>
</div>
<div id="outline-container-h:e6b8e4f7-6759-4aaf-ae7d-eaa30083e13e" class="outline-4">
<h4 id="h:e6b8e4f7-6759-4aaf-ae7d-eaa30083e13e"><span class="section-number-4">2.4.1.</span> <a href="#h:e6b8e4f7-6759-4aaf-ae7d-eaa30083e13e">Docsy Hugo 主题</a></h4>
<div class="outline-text-4" id="text-h:e6b8e4f7-6759-4aaf-ae7d-eaa30083e13e">
<ul class="org-ul">
<li><a href="https://github.com/google/docsy#readme">https://github.com/google/docsy#readme</a></li>
</ul>

<p>
<b>准备</b>
</p>

<ul class="org-ul">
<li>安装最新版本的 Hugo“扩展”版本。如果从 Hugo 发行版页面安装，请确保下载支持 SCSS 的 extended 版本。
<ul class="org-ul">
<li><a href="https://github.com/gohugoio/hugo/releases">https://github.com/gohugoio/hugo/releases</a></li>
</ul></li>
</ul>


<div class="org-src-container">
<pre class="src src-sh">hugo version <span class="org-comment-delimiter">#</span><span class="org-comment">&#35831;&#26816;&#26597;&#24744;&#30340;&#29256;&#26412;&#65292;&#20250;&#30475;&#21040; Extende
</span>go version <span class="org-comment-delimiter"># </span><span class="org-comment">1.12 &#25110;&#32773;&#26356;&#39640;&#29256;&#26412;</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
安装 PostCSS ，以便网站构建可以创建最终的 CSS 资产。您可以通过从项目的根目录运行以下命令在本地安装它
</p>

<div class="org-src-container">
<pre class="src src-sh">npm install --save-dev autoprefixer
npm install --save-dev postcss-cli

<span class="org-comment-delimiter">#</span><span class="org-comment">&#20174;&#29256;&#26412; 8 &#24320;&#22987; postcss-cli &#65292;&#24744;&#36824;&#24517;&#39035;&#21333;&#29420;&#23433;&#35013; postcss &#65306;
</span>npm install -D postcss
</pre>
</div></li>
</ul>

<p>
<b>示例</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">git clone --depth 1 --branch v0.9.1 https://github.com/google/docsy-example.git my-new-site
<span class="org-builtin">cd</span>  my-new-site
hugo server
</pre>
</div>

<p>
浏览器访问<a href="http://localhost:1313">http://localhost:1313</a>
</p>


<p>
参考网站：
</p>
<ul class="org-ul">
<li><a href="https://github.com/kubernetes/website">https://github.com/kubernetes/website</a></li>
</ul>
</div>
</div>
</div>
</section>
<section id="outline-container-h:ff19b662-2083-404b-be78-339110db6e3b" class="outline-2">
<h2 id="h:ff19b662-2083-404b-be78-339110db6e3b"><span class="section-number-2">3.</span> <a href="#h:ff19b662-2083-404b-be78-339110db6e3b">Gitbook</a></h2>
<div class="outline-text-2" id="text-h:ff19b662-2083-404b-be78-339110db6e3b">
<p>
gitbook 是一个基于 Node.js 的命令行工具
</p>

<p>
安装 node.js
</p>

<p>
下载地址： <a href="https://nodejs.org/en/">https://nodejs.org/en/</a>
找到对应平台的版本安装即可
</p>

<p>
node.js 换成 v12 版本
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">&#37197;&#32622;&#29615;&#22659;&#21464;&#37327;
</span><span class="org-builtin">echo</span> <span class="org-string">'export PATH=$PATH:/usr/local/node/bin'</span> &gt;&gt; ~/.bash_profile
<span class="org-builtin">source</span> ~/.bash_profile

<span class="org-comment-delimiter"># </span><span class="org-comment">&#39564;&#35777; node &#29256;&#26412;
</span>node -v

<span class="org-comment-delimiter"># </span><span class="org-comment">&#23448;&#26041;&#28304;&#19979;&#36733;&#22826;&#24930;&#65292;&#20999;&#25442;&#20026;&#22269;&#20869;&#28304;
</span>npm install -g cnpm --registry=https://registry.npm.taobao.org
<span class="org-comment-delimiter"># </span><span class="org-comment">npm&#25442;&#28304;
</span>npm config set <span class="org-variable-name">registry</span>=http://registry.npm.taobao.org -g
</pre>
</div>
</div>
<div id="outline-container-h:dbb5c61f-9dc7-4edc-bae2-9bcde8ebcc1c" class="outline-3">
<h3 id="h:dbb5c61f-9dc7-4edc-bae2-9bcde8ebcc1c"><span class="section-number-3">3.1.</span> <a href="#h:dbb5c61f-9dc7-4edc-bae2-9bcde8ebcc1c">安装 gitbook-cli</a></h3>
<div class="outline-text-3" id="text-h:dbb5c61f-9dc7-4edc-bae2-9bcde8ebcc1c">
<p>
Node.js 都会默认安装 npm （node包管理工具），执行以下命令安装 GitBook:
</p>

<p>
<code>npm install -g gitbook-cli</code>
</p>

<p>
查看 cli 版本信息
</p>

<p>
<code>gitbook --version</code>
</p>

<p>
<b>报错修改</b>
</p>
<pre class="example" id="org13ba91a">
C:\Users\jasper\AppData\Roaming\npm\node_modules\gitbook-cli\node_modules_npm@5.1.0@npm\node_modules\graceful-fs\polyfills.js
// fs.stat = statFix(fs.stat) // fs.fstat = statFix(fs.fstat) //
fs.lstat = statFix(fs.lstat)
</pre>

<p>
<b>也可以手动指定gitbook安装版本</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">gitbook ls-remote <span class="org-comment-delimiter"># </span><span class="org-comment">&#26597;&#30475;&#25152;&#26377;&#29256;&#26412;&#20449;&#24687; gitbook fetch 3.2.3 # &#25351;&#23450;&#29256;&#26412;&#23433;&#35013;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:456e43a8-e6b1-4c60-95b1-8165e356f305" class="outline-3">
<h3 id="h:456e43a8-e6b1-4c60-95b1-8165e356f305"><span class="section-number-3">3.2.</span> <a href="#h:456e43a8-e6b1-4c60-95b1-8165e356f305">制作电子书</a></h3>
<div class="outline-text-3" id="text-h:456e43a8-e6b1-4c60-95b1-8165e356f305">
<pre class="example" id="orgd6bffb2">
# 初始化目录
mkdir ebook
cd ebook
gitbook init # 文件夹里会多两个文件 
#README.md（书籍的介绍在这个文件里）
#SUMMARY.md（书籍的目录结构在这里配置）
</pre>

<p>
编辑md文件，向文件添加内容
</p>

<p>
语法：中括号里是这个目录的名字，小括号里是路径。
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Summary
</span>
* [Introduction](README.md)
* [&#21069;&#35328;](readme.md)
* [&#31532;&#19968;&#31456;](part1/README.md)
    * [&#31532;&#19968;&#33410;](part1/1.md)
    * [&#31532;&#20108;&#33410;](part1/2.md)
    * [&#31532;&#19977;&#33410;](part1/3.md)
    * [&#31532;&#22235;&#33410;](part1/4.md)
* [&#31532;&#20108;&#31456;](part2/README.md)
* [&#31532;&#19977;&#31456;](part3/README.md)
* [&#31532;&#22235;&#31456;](part4/README.md)
</pre>
</div>

<p>
写完目录后再次执行 <code>gitbook init</code> ，Gitbook 会查找 SUMMARY.md 中描述的
目录和文件，如果没有则会创建。
</p>

<p>
运行gitbook 预览这本书:
</p>

<div class="org-src-container">
<pre class="src src-sh">gitbook serve
Live reload server started on port: 35729
... ... 
Serving book on http://localhost:4000  
<span class="org-comment-delimiter"># </span><span class="org-comment">&#40664;&#35748;&#30417;&#21548;&#22312;&#26412;&#22320;4000&#31471;&#21475;&#65292;&#21487;&#20197;&#36827;&#34892;&#35775;&#38382;&#21644;&#27979;&#35797;</span>
</pre>
</div>

<p>
生成电子书
</p>

<p>
导出电子书，需要用到calibre插件，下载地址：<a href="https://calibre-ebook.com/download">https://calibre-ebook.com/download</a>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#26500;&#24314;&#38745;&#24577;web&#39029;&#38754;
gitbook build

<span class="org-comment-delimiter"># </span><span class="org-comment">&#23433;&#35013;calibre&#25554;&#20214;
</span><span class="org-comment-delimiter"># </span><span class="org-comment">linux
</span>sudo -v &amp;&amp; wget -nv -O- https://download.calibre-ebook.com/linux-installer.sh | sudo sh /dev/stdin
<span class="org-comment-delimiter"># </span><span class="org-comment">&#39318;&#20808;&#25171;&#24320;&#20320;&#31508;&#35760;&#25991;&#20214;&#22841;&#19979;&#30340;book.json&#25991;&#20214;&#65292;&#27809;&#26377;&#23601;&#33258;&#24049;&#21019;&#24314;&#19968;&#20010;
</span><span class="org-comment-delimiter">#</span><span class="org-comment">&#23558;&#20197;&#19979;&#20195;&#30721;&#22797;&#21046;&#36827;&#21435;
</span>{
  <span class="org-string">"plugins"</span>: [<span class="org-string">"summary"</span>]
}
gitbook install

<span class="org-comment-delimiter"># </span><span class="org-comment">&#23548;&#20986;&#30005;&#23376;&#20070;
</span>gitbook pdf  <span class="org-comment-delimiter"># </span><span class="org-comment">&#29983;&#25104;pdf&#26684;&#24335;&#30005;&#23376;&#20070;
</span>gitbook modi <span class="org-comment-delimiter"># </span><span class="org-comment">&#29983;&#25104;mobi&#26684;&#24335;&#30005;&#23376;&#20070;
</span>gitbook epub <span class="org-comment-delimiter"># </span><span class="org-comment">&#29983;&#25104;epub&#26684;&#24335;&#30005;&#23376;&#20070;</span>
</pre>
</div>

<p>
插件使用
</p>

<p>
gitbook的插件大部分都在 npm 上，可以访问 npm 官网查看搜索插件<a href="https://www.npmjs.com/">https://www.npmjs.com/</a>
</p>

<p>
首先打开你笔记文件夹下的book.json文件
</p>

<p>
book.json 是 gitbook 的配置文件，包括插件的配置文件，通过插件可以丰富电子书的功能
</p>

<div class="org-src-container">
<pre class="src src-sh">1, &#8220;title&#8221;: &#8220;&#21069;&#31471;&#23478;&#26063;&#38598;&#38182;&#8221;,
2, &#8220;description&#8221;: &#8220;&#37325;&#23398;&#21069;&#31471;&#65292;&#26803;&#29702;&#33258;&#24049;&#30340;&#21069;&#31471;&#26684;&#23616;&#8221;,
3, &#8220;author&#8221;: &#8220;&#36144;&#25342;&#22777;&#20808;&#29983;&#8221;,
4, &#8220;language&#8221;: &#8220;zh-hans&#8221;, // &#31616;&#20307;&#20013;&#25991;
5, &#25554;&#20214;&#21015;&#34920;
</pre>
</div>

<p>
theme-default 插件地址: <a href="https://plugins.gitbook.com/plugin/theme-default">https://plugins.gitbook.com/plugin/theme-default</a>
</p>

<p>
theme-default 是 3.0.0。引入的默认主题,大多数插件针对的都是默认主题,如
果切换到其他主题或者自定义主题,可能会造成某些情况下不兼容,甚至报错
</p>

<p>
范例：
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-string">"pluginsConfig"</span>: {
    <span class="org-string">"theme-default"</span>: {
        <span class="org-string">"showLevel"</span>: true
    }
}
</pre>
</div>

<p>
gitbook-plugin-icp 用于在首页页脚区域添加 icp 网站备案信息的 Gitbook
插件
</p>

<ol class="org-ol">
<li>在 <code>pluginsConfig</code> ,将 <code>number</code> 值设置为您自己的 icp 网站备案编号.</li>
<li>在 <code>pluginsConfig</code> , <code>label</code> 或 <code>link</code>
值是可选的,默认情况下,链接地址为 <a href="http://www.beian.miit.gov.cn/">http://www.beian.miit.gov.cn/</a> .</li>
</ol>

<div class="org-src-container">
<pre class="src src-sh">{
    <span class="org-string">"plugins"</span>: [<span class="org-string">"icp"</span>],
    <span class="org-string">"pluginsConfig"</span>: {
        <span class="org-string">"icp"</span>: {
            <span class="org-string">"number"</span>: <span class="org-string">"&#27993;ICP&#22791;18042346&#21495;"</span>
        }
    }
}
</pre>
</div>

<pre class="example" id="orgce191cd">
{
    "plugins": ["icp"],
    "pluginsConfig": {
        "icp": {
            "label": "YOUR OWN ICP LABEL",
            "number": "YOUR OWN ICP NUMBER",
            "link":"YOUR OWN ICP LINK"
        }
    }
}
</pre>

<p>
范例
</p>

<pre class="example" id="orgd05b21e">
"plugins": [
  "-lunr", "-search", "search-pro", // 删除默认搜索功能，添加中文高级搜索
  "back-to-top-button", // 回到顶部
  "chapter-fold", // 导航目录折叠
  "expandable-chapters-small", // 左侧章节目录可折叠
  "code", // 代码添加行号
  "copy-code-button", // 代码添加复制按钮
  "advanced-emoji",
  "splitter", // 侧边栏宽度可调节
  "-sharing", "sharing-plus", // 增加分享功能
  "tbfed-pagefooter", // 添加底部页脚
  "adsense", // 广告
  "donate" // 打赏功能
 ],
</pre>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-back-to-top-button &#22238;&#21040;&#39030;&#37096;
</span>npm install gitbook-plugin-back-to-top-button

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-chapter-fold &#23548;&#33322;&#30446;&#24405;&#25240;&#21472;
</span>npm install gitbook-plugin-chapter-fold

<span class="org-comment-delimiter"># </span><span class="org-comment">expandable-chapters-small &#24038;&#20391;&#31456;&#33410;&#30446;&#24405;&#21487;&#25240;&#21472;
</span>npm install gitbook-plugin-expandable-chapters-small

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-code &#20195;&#30721;&#28155;&#21152;&#34892;&#21495;
</span>npm install gitbook-plugin-code
<span class="org-string">"pluginsConfig"</span>: {
        <span class="org-string">"code"</span>: {
        <span class="org-string">"copyButtons"</span>: false
    }
  }

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-copy-code-button &#20195;&#30721;&#22359;&#22797;&#21046;&#25353;&#38062;
</span>npm install gitbook-plugin-copy-code-button

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-search-pro &#39640;&#32423;&#25628;&#32034;&#65292;&#25903;&#25345;&#20013;&#25991;
</span>npm install gitbook-plugin-search-pro

<span class="org-comment-delimiter">#</span><span class="org-comment">gitbook-plugin-advanced-emoji &#25903;&#25345;emoji&#34920;&#24773;
</span>npm install gitbook-plugin-advanced-emoji

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-github &#21491;&#19978;&#35282;&#28155;&#21152;github&#22270;&#26631;
</span>npm install gitbook-plugin-github
<span class="org-string">"pluginsConfig"</span>: {
      <span class="org-string">"github"</span>: {
          <span class="org-string">"url"</span>: <span class="org-string">"https://github.com/zhangjikai"</span>
      }
  }

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-splitter &#20391;&#36793;&#26639;&#23485;&#24230;&#21487;&#35843;&#33410;
</span>npm install gitbook-plugin-splitter

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-sharing-plus &#20998;&#20139;,&#27604;&#40664;&#35748;&#30340;&#20998;&#20139;&#21151;&#33021;&#22810;
</span>npm install gitbook-plugin-sharing-plus

<span class="org-comment-delimiter"># </span><span class="org-comment">gitbook-plugin-tbfed-pagefooter &#39029;&#33050;&#65292;&#29256;&#26435;&#20449;&#24687;
</span>npm install gitbook-plugin-tbfed-pagefooter

<span class="org-comment-delimiter"># </span><span class="org-comment">npm install gitbook-plugin-donate &#25171;&#36175;&#25554;&#20214;
</span>npm install gitbook-plugin-donate

<span class="org-comment-delimiter"># </span><span class="org-comment">npm install gitbook-plugin-change_girls &#21487;&#33258;&#21160;&#20999;&#25442;&#30340;&#32972;&#26223;
</span>npm install gitbook-plugin-change_girls
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">book.json
</span>{
    <span class="org-string">"title"</span>: <span class="org-string">"learn &#23398;&#20064; by Jasper Hsu(&#24464;&#38271;&#20255;)"</span>,
    <span class="org-string">"description"</span>: <span class="org-string">"learn &#23398;&#20064; by Jasper Hsu(&#24464;&#38271;&#20255;)"</span>,
    <span class="org-string">"author"</span>: <span class="org-string">"Jasper Hsu(&#24464;&#38271;&#20255;)"</span>,
    <span class="org-string">"language"</span>: <span class="org-string">"zh-hans"</span>, 
    <span class="org-string">"link"</span>: {
        <span class="org-string">"sidebar"</span>: {
            <span class="org-string">"HOME"</span>: <span class="org-string">"https://www.baidu.com"</span>
        }
    },
    <span class="org-string">"plugins"</span>: [
        <span class="org-string">"-lunr"</span>, <span class="org-string">"-search"</span>, <span class="org-string">"search-pro"</span>,
        <span class="org-string">"back-to-top-button"</span>,
        <span class="org-string">"chapter-fold"</span>,
        <span class="org-string">"expandable-chapters-small"</span>,
        <span class="org-string">"code"</span>,
        <span class="org-string">"copy-code-button"</span>,
        <span class="org-string">"advanced-emoji"</span>,
        <span class="org-string">"splitter"</span>,
        <span class="org-string">"-sharing"</span>, <span class="org-string">"sharing-plus"</span>,
        <span class="org-string">"tbfed-pagefooter"</span>,
        <span class="org-string">"favicon@^0.0.2"</span>,
        <span class="org-string">"donate"</span>
    ],
    <span class="org-string">"pluginsConfig"</span>: {
        <span class="org-string">"code"</span>: {
            <span class="org-string">"copyButtons"</span>: true
        },
        <span class="org-string">"github"</span>: {
            <span class="org-string">"url"</span>: <span class="org-string">"https://github.com/zhengliming"</span>
        },
        <span class="org-string">"tbfed-pagefooter"</span>: {
            <span class="org-string">"copyright"</span>:<span class="org-string">"&lt;p&gt;&lt;a href=https://xuchangwei.com&gt;&#24464;&#38271;&#20255;&#30340;&#20010;&#20154;&#21338;&#23458;&lt;/a&gt; | &lt;a href=https://www.cncf.io/&gt;&#21152;&#20837;&#20113;&#21407;&#29983;&#31038;&#21306;&lt;/a&gt;&lt;/p&gt;Copyright &#169; 2021 | Distributed under &lt;a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&gt;CC BY 4.0&lt;/a&gt; | &lt;a href=https://xuhcangwei.com&gt;xuchangwei.com&lt;/a&gt;"",
            "</span>modify_label<span class="org-string">": "</span>Updated at <span class="org-string">",
            "</span>modify_format<span class="org-string">": "</span>YYYY-MM-DD HH:mm:ss<span class="org-string">"
        },
        "</span>favicon<span class="org-string">": {
            "</span>shortcut<span class="org-string">": "</span>favicon.ico<span class="org-string">",
            "</span>bookmark<span class="org-string">": "</span>favicon.ico<span class="org-string">"
        },
        "</span>donate<span class="org-string">": {
            "</span>wechat<span class="org-string">": "</span>./images/11.jpg<span class="org-string">",
            "</span>alipay<span class="org-string">": "</span>./images/22.jpg<span class="org-string">",
            "</span>title<span class="org-string">": "",
            "</span>button<span class="org-string">": "</span>&#36175;<span class="org-string">",
            "</span>alipayText<span class="org-string">": "</span>&#25903;&#20184;&#23453;&#25171;&#36175;<span class="org-string">",
            "</span>wechatText<span class="org-string">": "</span>&#24494;&#20449;&#25171;&#36175;<span class="org-string">"
        },
        "</span>change_girls<span class="org-string">" : {
            "</span>time<span class="org-string">" : 10,
            "</span>urls<span class="org-string">" : [
                "</span>girlUrl1<span class="org-string">", "</span>girlUrl2<span class="org-string">"
            ]
        },
        "</span>sharing<span class="org-string">": {
            "</span>douban<span class="org-string">": false,
            "</span>facebook<span class="org-string">": false,
            "</span>google<span class="org-string">": true,
            "</span>hatenaBookmark<span class="org-string">": false,
            "</span>instapaper<span class="org-string">": false,
            "</span>line<span class="org-string">": true,
            "</span>linkedin<span class="org-string">": true,
            "</span>messenger<span class="org-string">": false,
            "</span>pocket<span class="org-string">": false,
            "</span>qq<span class="org-string">": false,
            "</span>qzone<span class="org-string">": true,
            "</span>stumbleupon<span class="org-string">": false,
            "</span>twitter<span class="org-string">": false,
            "</span>viber<span class="org-string">": false,
            "</span>vk<span class="org-string">": false,
            "</span>weibo<span class="org-string">": true,
            "</span>whatsapp<span class="org-string">": false,
            "</span>all<span class="org-string">": [
                "</span>douban<span class="org-string">", "</span>facebook<span class="org-string">", "</span>google<span class="org-string">", "</span>hatenaBookmark<span class="org-string">", 
                "</span>instapaper<span class="org-string">", "</span>linkedin<span class="org-string">","</span>twitter<span class="org-string">", "</span>weibo<span class="org-string">", 
                "</span>messenger<span class="org-string">","</span>qq<span class="org-string">", "</span>qzone<span class="org-string">","</span>viber<span class="org-string">","</span>vk<span class="org-string">","</span>weibo<span class="org-string">",
                "</span>pocket<span class="org-string">", "</span>stumbleupon<span class="org-string">","</span>whatsapp<span class="org-string">"
            ]
        }
    }
}</span>
</pre>
</div>

<p>
参考：
</p>
<ul class="org-ul">
<li><a href="https://www.jianshu.com/p/d9f93763340a">https://www.jianshu.com/p/d9f93763340a</a></li>
<li><a href="https://huangzhongde.cn/post/2020-02-18-gitbook-generate-ebook/">https://huangzhongde.cn/post/2020-02-18-gitbook-generate-ebook/</a></li>
<li><a href="https://github.com/huweihuang/kubernetes-notes/blob/master/book.json">https://github.com/huweihuang/kubernetes-notes/blob/master/book.json</a></li>
</ul>
</div>
</div>
</section>
<section id="outline-container-h:97b92168-009e-4785-b292-027aa6c776b1" class="outline-2">
<h2 id="h:97b92168-009e-4785-b292-027aa6c776b1"><span class="section-number-2">4.</span> <a href="#h:97b92168-009e-4785-b292-027aa6c776b1">使用 Zola 搭建个人站点</a></h2>
<div class="outline-text-2" id="text-h:97b92168-009e-4785-b292-027aa6c776b1">
<p>
Rust web 开发框架，静态网站生成器，类似于 Hugo、Pelican 和 Jekyll。
高度兼容的 Markdown 规范。
</p>

<p>
官方： <a href="https://www.getzola.org/">https://www.getzola.org/</a> 
</p>

<p>
CentOS
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">install
</span>sudo yum install epel-release
sudo yum install snapd
sudo systemctl enable --now snapd.socket
sudo ln -s /var/lib/snapd/snap /snap
sudo snap install zola --edge
<span class="org-comment-delimiter"># </span><span class="org-comment">env
</span><span class="org-builtin">echo</span> <span class="org-string">'PATH=/var/lib/snapd/snap/bin:$PATH'</span> &gt;&gt; /etc/profile
<span class="org-builtin">source</span> /etc/profile
<span class="org-comment-delimiter"># </span><span class="org-comment">check
</span><span class="org-comment-delimiter"># </span><span class="org-comment">zola --version
</span>zola 0.18.0
</pre>
</div>

<p>
使用
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">zola init myblog
</span>Welcome to Zola!
Please answer a few questions to get started quickly.
Any choices made can be changed by modifying the <span class="org-sh-quoted-exec">`config.toml`</span> file later.
&gt; What is the URL of your site? (https://example.com): 
&gt; Do you want to enable Sass compilation? [Y/n]:      
&gt; Do you want to enable syntax highlighting? [y/N]: 
&gt; Do you want to build a search index of the content? [y/N]: 

<span class="org-comment-delimiter"># </span><span class="org-comment">tree myblog/
</span>myblog/
&#9500;&#9472;&#9472; config.toml
&#9500;&#9472;&#9472; content
&#9500;&#9472;&#9472; sass
&#9500;&#9472;&#9472; static
&#9500;&#9472;&#9472; templates
&#9492;&#9472;&#9472; themes

<span class="org-comment-delimiter"># </span><span class="org-comment">cd myblog/
</span><span class="org-comment-delimiter"># </span><span class="org-comment">zola  serve -i 0.0.0.0
</span>Web server is available at http://0.0.0.0:1111
</pre>
</div>

<p>
主题： <a href="https://www.getzola.org/themes/">https://www.getzola.org/themes/</a>
</p>

<p>
abridge 主题： <a href="https://www.getzola.org/themes/abridge/">https://www.getzola.org/themes/abridge/</a>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Install Abridge
</span>git clone https://github.com/jieiku/abridge.git themes/abridge

<span class="org-comment-delimiter"># </span><span class="org-comment">Configuration
</span>rsync themes/abridge/.gitignore .gitignore
rsync themes/abridge/config.toml config.toml
rsync themes/abridge/content/_index.md content/
rsync -r themes/abridge/COPY-TO-ROOT-SASS/* sass/
rsync themes/abridge/netlify.toml netlify.toml
rsync themes/abridge/package_abridge.js package_abridge.js
rsync themes/abridge/package.json package.json

sed -i <span class="org-string">'s/^#theme = "abridge"/theme = "abridge"/'</span> config.toml

<span class="org-comment-delimiter"># </span><span class="org-comment">Add new content
</span>rsync -r themes/abridge/content .

<span class="org-comment-delimiter"># </span><span class="org-comment">Run the project
</span>zola serve --interface 0.0.0.0 --base-url {&#20986;&#21475;IP|&#22495;&#21517;}
<span class="org-comment-delimiter"># </span><span class="org-comment">zola serve --open
</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">Web server is available at http://0.0.0.0:1111</span>
</pre>
</div>

<ul class="org-ul">
<li>config.toml 包含所有配置值的基本配置。</li>
<li>content/_index.md 需要设置分页。</li>
<li>COPY-TO-ROOT-SASS/abridge.scss 重写以自定义 Abridge 变量。</li>
<li>netlify.toml 使用 Netlfiy 部署存储库的设置。</li>
<li>package_abridge.js 节点脚本到：更新 PWA 中的缓存文件列表、缩小 js、捆绑 js</li>
<li>package.json 在 nosearch、elasticlunr、tinysearch、stork 之间切换。</li>
</ul>
</div>
</section>
<section id="outline-container-h:82210a22-6e74-45d8-9ae3-6e7fdb869663" class="outline-2">
<h2 id="h:82210a22-6e74-45d8-9ae3-6e7fdb869663"><span class="section-number-2">5.</span> <a href="#h:82210a22-6e74-45d8-9ae3-6e7fdb869663">使用 Org Mode 搭建个人站点</a></h2>
<div class="outline-text-2" id="text-h:82210a22-6e74-45d8-9ae3-6e7fdb869663">
<p>
Org Mode 是 <a href="https://www.gnu.org/software/emacs/">Emacs</a> 内置的最强力的插件，没有之一。可以用来做 GTD，博客/Wiki工具，写书，写论文等。
</p>

<p>
缺点：插入图片显示比较困难
</p>

<p>
官网： <a href="https://orgmode.org/">https://orgmode.org/</a>
</p>

<p>
在 Emacs 里通过 Org mode 写博客也有很多方式，如以下两种方式：
</p>

<ul class="org-ul">
<li>通过 Org Mode 自带的 ox-publish 机制导出为静态 HTML 站点</li>
<li>通过 ox-hugo 插件，利用 hugo 的强大功能导出为好看的博客</li>
</ul>

<p>
<b>通过 ox-publish 写博客</b>
</p>

<ul class="org-ul">
<li>用户手册：<a href="https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html">https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html</a></li>
</ul>

<p>
我们需要对 ox-publish 做一些基础的配置： 
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">require</span> '<span class="org-constant">ox-publish</span>)
(<span class="org-keyword">setq</span> org-html-validation-link nil)

(<span class="org-keyword">setq</span> org-publish-project-alist
      '(
        <span class="org-comment-delimiter">;; </span><span class="org-comment">notes component
</span>        (<span class="org-string">"site-orgs"</span>
         <span class="org-builtin">:base-directory</span> <span class="org-string">"~/site/org"</span>
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:html-link-home</span> <span class="org-string">"index.html"</span>
         <span class="org-builtin">:publishing-directory</span> <span class="org-string">"~/site-html/"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html
         <span class="org-builtin">:headline-levels</span> 5
         <span class="org-builtin">:auto-preamble</span> t
         <span class="org-builtin">:auto-sitemap</span> t
         <span class="org-builtin">:sitemap-filename</span> <span class="org-string">"sitemap.org"</span>
         <span class="org-builtin">:sitemap-title</span> <span class="org-string">"Sitemap"</span>
         )
        <span class="org-comment-delimiter">;; </span><span class="org-comment">static component
</span>        (<span class="org-string">"site-static"</span>
         <span class="org-builtin">:base-directory</span> <span class="org-string">"~/site/static/"</span>
         <span class="org-builtin">:base-extension</span> <span class="org-string">"css</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">js</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">png</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">jpg</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">gif</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">pdf</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">mp3</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">ogg</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string">swf"</span>
         <span class="org-builtin">:publishing-directory</span> <span class="org-string">"~/site-html/static/"</span>
         <span class="org-builtin">:recursive</span> t
         <span class="org-builtin">:publishing-function</span> org-publish-attachment
         )
        <span class="org-comment-delimiter">;; </span><span class="org-comment">publish component
</span>        (<span class="org-string">"site"</span> <span class="org-builtin">:components</span> (<span class="org-string">"site-orgs"</span> <span class="org-string">"site-static"</span>))
        ))
</pre>
</div>

<p>
代码很容易理解，一部分处理 org 文件，一部分处理静态文件，发布只需要执行 org-publish ，选择对应的项目即可。
</p>

<p>
注意：'<code>--batch</code>' 以批处理模式运行，没有显示界面，因此只有基本的样式定义，只会包含非常基础的颜色样式。见 <a href="https://orgmode.org/worg/org-faq.html#preserving-faces-during-batch-export">How can I preserve faces when I export an agenda from the command line?</a> <a href="https://exuanbo.xyz/wiki/#orga2e591f">gongzhitaao/ orgcss</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">org-html-htmlize-generate-css-for-agenda</span> ()
  <span class="org-doc">"Create the CSS for all font definitions in the current Emacs session.
Unlike `</span><span class="org-doc"><span class="org-constant">org-html-htmlize-generate-css</span></span><span class="org-doc">', do not prepend
`</span><span class="org-doc"><span class="org-constant">org-html-htmlize-font-prefix</span></span><span class="org-doc">' to face names."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">require</span> '<span class="org-constant">ox-html</span>)
  (<span class="org-keyword">let</span> ((org-html-htmlize-font-prefix <span class="org-string">""</span>))
    (org-html-htmlize-generate-css)))
</pre>
</div>

<p>
键入 <code>M-x org-html-htmlize-generate-css-for-agenda RET</code> 这将生成 一个 <code>&lt;style&gt;......&lt;/style&gt;</code> 部分，你可以手动复制到样式文件中：
</p>

<p>
可以使用 <a href="https://github.com/gongzhitaao/orgcss">orgcss</a> 
</p>

<p>
org mode 网站：
</p>
<ul class="org-ul">
<li>danliden: <a href="https://www.danliden.com/posts/20211203-this-site.html">Made with Org-Mode</a> git: <a href="https://github.com/djliden/djliden.github.io/blob/main/build-site.el">build-site.el</a></li>
<li>to1ne: git <a href="https://gitlab.com/to1ne/blog/blob/master/elisp/publish.el">publish.el</a></li>
<li>distro: <a href="https://distro.tube/kb/org-publish.html">Publishing Org-mode files to HTML</a> git: <a href="https://gitlab.com/dwt1/distro.tube/-/blob/master/kb/org-publish.org">org-publish.org</a></li>
<li>systemcrafters: <a href="https://systemcrafters.net/publishing-websites-with-org-mode/building-the-site/">Build Your Website with Org Mode</a> git: <a href="https://codeberg.org/SystemCrafters/systemcrafters-site">systemcrafters-site</a></li>
<li>地瓜先生集: git: <a href="https://github.com/dongdigua/dongdigua.github.io/blob/main/org/publish_config.el">dongdigua.github.io</a></li>
<li>taxodium: <a href="https://taxodium.ink/org-publish-blog.html">使用 org-publish 发布博客</a> <a href="https://taxodium.ink/use-pagefind-to-search-blog.html">pagefind 添加博客搜索功能</a></li>
<li>zhangjiee: <a href="https://www.zhangjiee.com/blog/2019/build-site-with-org-mode.html">使用 org-mode 搭建网站</a></li>
<li>dirtysalt: <a href="https://dirtysalt.github.io/html/use-emacs-org-mode-to-build-site.html">用Emacs Org-Mode来建站</a></li>
<li>ogbe: <a href="https://ogbe.net/blog/blogging_with_org">Blogging using org-mode (and nothing else)</a></li>
<li>gh0bww1: <a href="https://egh0bww1.com/posts/2023-11-11-make-me-a-blog-break-here/">怎么弄个自己的 blog – 暂且告一段落</a></li>
</ul>
</div>
</section>
<section id="outline-container-h:d4b8754e-a790-4f1b-ab46-cce03983b993" class="outline-2">
<h2 id="h:d4b8754e-a790-4f1b-ab46-cce03983b993"><span class="section-number-2">6.</span> <a href="#h:d4b8754e-a790-4f1b-ab46-cce03983b993">使用 MkDocs 搭建个人文档站点</a></h2>
<div class="outline-text-2" id="text-h:d4b8754e-a790-4f1b-ab46-cce03983b993">
<ul class="org-ul">
<li>官方文档： <a href="https://squidfunk.github.io/mkdocs-material/">https://squidfunk.github.io/mkdocs-material/</a></li>
</ul>

<p>
<b>准备</b>
</p>

<ul class="org-ul">
<li>Python 已经安装</li>
<li>VS code 用户编写文件</li>
</ul>
</div>
<div id="outline-container-h:6bcc1bdd-451a-4047-b4cf-9bfedab99580" class="outline-3">
<h3 id="h:6bcc1bdd-451a-4047-b4cf-9bfedab99580"><span class="section-number-3">6.1.</span> <a href="#h:6bcc1bdd-451a-4047-b4cf-9bfedab99580">基础</a></h3>
<div class="outline-text-3" id="text-h:6bcc1bdd-451a-4047-b4cf-9bfedab99580">
<p>
<b>创建 github 仓库</b>
</p>

<p>
访问 <a href="https://github.com/new">https://github.com/new</a> 创建仓库并定义名称，这里是 mkdocs-website。勾选添加一个 README 文件，添加 .gitignore 过滤规则选 Python，添加 GPL 许可证。
</p>

<p>
将仓库克隆到本地
</p>
<div class="org-src-container">
<pre class="src src-sh">git clone git@github.com:jaspervincent/mkdocs-website.git
<span class="org-builtin">cd</span> mkdoc-wesite
</pre>
</div>

<p>
<b>创建 Python 虚拟环境</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">python -m venv venv
<span class="org-builtin">source</span> venv/bin/activate  <span class="org-comment-delimiter">#</span><span class="org-comment">.\venv\Scripts\activate.bat  windows
</span>pip --version

pip install mkdocs-material
</pre>
</div>

<p>
<b>创建 Mkdoc 网站</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">code . <span class="org-comment-delimiter"># </span><span class="org-comment">&#29992; vscode &#25171;&#24320;&#39033;&#30446;&#26681;&#25991;&#20214;&#22841;</span>
</pre>
</div>

<p>
在 vs code 终端菜单中选择新建一个终端，并输入命令
</p>

<div class="org-src-container">
<pre class="src src-sh">mkdocs new . <span class="org-comment-delimiter"># </span><span class="org-comment">&#21019;&#24314;&#31449;&#28857;&#65292;&#21516;&#26102;&#20250;&#29983;&#25104; 2 &#20010;&#26032;&#25991;&#20214;
</span>
INFO    -  Writing config file: .\mkdocs.yml
INFO    -  Writing initial docs: .\docs\index.md
</pre>
</div>

<ul class="org-ul">
<li>docs/index.md 初始索引文件</li>
<li>mkdocs.yml</li>
</ul>

<p>
<b>运行 mkdoc 网站</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">mkdocs serve
</pre>
</div>

<p>
浏览器访问 <a href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a>  默认主题
</p>

<p>
<b>安装 Material 插件</b>
</p>

<p>
编辑 mkdocs.yaml 文件
</p>
<div class="org-src-container">
<pre class="src src-yaml">site_name: Mkdocs website
theme:
  name: material
</pre>
</div>

<p>
保存后自动生效。
</p>

<p>
<b>添加新特性</b>
</p>

<p>
编辑 mkdocs.yaml 文件
</p>
<div class="org-src-container">
<pre class="src src-yaml">site_name: Mkdocs website
theme:
  name: material
  features:
    - navigation.tabs
    - navigation.sections
    - toc.integrate
    - navigation.top
    - search.suggest
    - search.highlight
    - content.tabs.link
    - content.code.annotation
    - content.code.copy #代码复制
  language: en
  palette: #调色板
    - scheme: default
      toggle:
        icon: material/toggle-switch-off-outline 
        name: Switch to dark mode
      primary: indigo #teal
      accent: indigo #purple 
    - scheme: slate 
      toggle:
        icon: material/toggle-switch
        name: Switch to light mode    
      primary: indigo #teal
      accent: indigo #lime
</pre>
</div>

<p>
<b>添加页面</b>
</p>

<p>
在 docs 目录下创建新文件， page2.md
</p>
<div class="org-src-container">
<pre class="src src-markdown"># Page 2

## Another heading

Some more example text
</pre>
</div>

<p>
<b>添加社交图标</b>
</p>

<p>
编辑 mkdocs.yaml 文件
</p>
<div class="org-src-container">
<pre class="src src-yaml">extra:
  social: # 社交
    - icon: fontawesome/brands/github-alt
      link: https://github.com/jaspervincent/mkdocs-website
    - icon: fontawesome/brands/twitter
      link: https://twitter.com/TheJamesWillett
    - icon: fontawesome/brands/linkedin
      link: https://www.linkedin.com/in/willettjames/
</pre>
</div>

<p>
<b>添加著作版权</b>
</p>

<p>
编辑 mkdocs.yaml 文件
</p>
<div class="org-src-container">
<pre class="src src-yaml">copyright: |
  &amp;copy; 2024 &lt;a href="https://github.com/jaspervincent"  target="_blank" rel="noopener"&gt;Jasper Hsu&lt;/a&gt;
</pre>
</div>

<p>
<b>配置 markdown 扩展代码高亮</b>
</p>

<p>
编辑 mkdocs.yaml 文件
</p>
<div class="org-src-container">
<pre class="src src-yaml">markdown_extensions:
  - pymdownx.highlight:
      anchor_linenums: true
  - pymdownx.inlinehilite
  - pymdownx.snippets
  - admonition
  - pymdownx.arithmatex:
      generic: true
  - footnotes
  - pymdownx.details
  - pymdownx.superfences
  - pymdownx.mark
  - attr_list
  - pymdownx.emoji:
      emoji_index: !!python/name:materialx.emoji.twemoji
      emoji_generator: !!python/name:materialx.emoji.to_svg
</pre>
</div>

<p>
修改 docs/index.md 文件验证代码高亮
</p>

<div class="org-src-container">
<pre class="src src-markdown"># Mkdocs-website

For full documentation visit [mkdocs.org](https://www.mkdocs.org/)

## Code Annotation Examples

### Codeblocks 代码块

Some `Code` goes here.

### Plain codeblock 普通代码块

```
Some code here
def myfunction()
// some comment
```

#### Code for a specific language 特定语言的代码

Some more code with the `py` at the start:

```py
import tensorflow as tf
def whatever()
```
#### With a title 带标题

```py title="bubble_sort.py"
def bubble_sort(items):
    for i in range(len(items)):
        for j in range(len(items) - 1 - i):
            if items[j] &gt; items[j + 1]:
                items[j], items[j + 1] = items[j + 1], items[j]
```

#### With line numbers 有行号

```py linenums="1"
def bubble_sort(items):
    for i in range(len(items)):
        for j in range(len(items) - 1 - i):
            if items[j] &gt; items[j + 1]:
                items[j], items[j + 1] = items[j + 1], items[j]
```

#### Highlighting lines 突出显示行

```py hl_lines="2 3"
def bubble_sort(items):
    for i in range(len(items)):
        for j in range(len(items) - 1 - i):
            if items[j] &gt; items[j + 1]:
                items[j], items[j + 1] = items[j + 1], items[j]
```
</pre>
</div>

<p>
<b>添加图标和 Emojs 表情符号</b>
</p>

<p>
修改 docs/index.md 文件验证代码高亮
</p>

<div class="org-src-container">
<pre class="src src-markdown">## Icons and Emojs

:smile: 

:fontawesome-regular-face-laugh-wink:

:fontawesome-brands-twitter:{ .twitter }

:octicons-heart-fill-24:{ .heart }
</pre>
</div>

<p>
<b>Github Pages 发布</b>
</p>

<p>
项目根目录创建文件夹 <code>.github/workflows</code> ，创建 <code>ci.yaml</code> 文件
</p>

<div class="org-src-container">
<pre class="src src-yaml">name: ci 
on:
  push:
    branches:
      - master 
      - main
permissions:
  contents: write
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: 3.x
      - uses: actions/cache@v2
        with:
          key: ${{ github.ref }}
          path: .cache
      - run: pip install mkdocs-material
      - run: pip install pillow cairosvg
      - run: mkdocs gh-deploy --force
</pre>
</div>

<p>
终端命令输入如下命令，提交
</p>
<div class="org-src-container">
<pre class="src src-sh">git add .
git commit -m <span class="org-string">"first commit"</span>
git push origin main
</pre>
</div>

<p>
浏览器访问 github 仓库， 点击 Settings &#x2013;&gt; pages，Branch 选 gh-pages 分支，保存
</p>

<p>
构建结构后，访问 <a href="https://jaspervincent.github.io/mkdocs-website">https://jaspervincent.github.io/mkdocs-website</a>
</p>

<p>
MkDoc 网站：
</p>
<ul class="org-ul">
<li><a href="https://kubernetes-sigs.github.io/aws-load-balancer-controller">https://kubernetes-sigs.github.io/aws-load-balancer-controller</a></li>
<li><a href="https://kubernetes.github.io/ingress-nginx/">https://kubernetes.github.io/ingress-nginx/</a></li>
<li><a href="https://csdiy.wiki/">https://csdiy.wiki/</a></li>
</ul>
</div>
</div>
</section>
<section id="outline-container-h:3a2b3610-cd86-4bd3-a230-1a288d383eb4" class="outline-2">
<h2 id="h:3a2b3610-cd86-4bd3-a230-1a288d383eb4"><span class="section-number-2">7.</span> <a href="#h:3a2b3610-cd86-4bd3-a230-1a288d383eb4">使用 Github Issue 作为站点</a></h2>
<div class="outline-text-2" id="text-h:3a2b3610-cd86-4bd3-a230-1a288d383eb4">
<p>
基本概念
</p>

<ul class="org-ul">
<li>issue：每个 issue 即是一篇博文</li>
<li>labels：对应博文的 tags</li>
<li>milestone：对应博文的 categories</li>
</ul>

<p>
主要场景，如文章的发布、更新、删除都可以完成，操作上十分方便
</p>

<ul class="org-ul">
<li>写一篇文章时，可以利用 GitHub Issues 强大的编辑功能，支持 Markdown，所见即所得</li>
<li>发布文章时，2 步：
<ul class="org-ul">
<li>1）添加的 label 为 post；带有 post 标签的 issues 才会导出为博客。</li>
<li>2）关闭 issue，开始博文发布流程。</li>
</ul></li>
<li>更新文章时，3 步
<ul class="org-ul">
<li>1）重新打开 issue</li>
<li>2）编辑对应的 issue</li>
<li>3）关闭 issue</li>
</ul></li>
<li>删除文章时，3 步
<ul class="org-ul">
<li>1）重新打开 issue</li>
<li>2）移除标签 post</li>
<li>3）关闭 issue</li>
</ul></li>
</ul>

<p>
Issue 网站：
</p>
<ul class="org-ul">
<li><a href="https://github.com/dylanninin/dylanninin.com/issues/72">https://github.com/dylanninin/dylanninin.com/issues/72</a></li>
<li><a href="https://github.com/toFrankie/blog/issues/327">https://github.com/toFrankie/blog/issues/327</a></li>
</ul>
</div>
</section>
<section id="outline-container-h:e673c06f-1dec-440e-bedd-bcc7eaca3108" class="outline-2">
<h2 id="h:e673c06f-1dec-440e-bedd-bcc7eaca3108"><span class="section-number-2">8.</span> <a href="#h:e673c06f-1dec-440e-bedd-bcc7eaca3108">CDN加速</a></h2>
<div class="outline-text-2" id="text-h:e673c06f-1dec-440e-bedd-bcc7eaca3108">
</div>
<div id="outline-container-h:d00d61d1-4016-4645-b946-86aead9938ba" class="outline-3">
<h3 id="h:d00d61d1-4016-4645-b946-86aead9938ba"><span class="section-number-3">8.1.</span> <a href="#h:d00d61d1-4016-4645-b946-86aead9938ba">使用 Cloudflare 免费加速 GitHub Pages 页面</a></h3>
<div class="outline-text-3" id="text-h:d00d61d1-4016-4645-b946-86aead9938ba">
<p>
网站托管由github pages 迁移到 <a href="https://pages.cloudflare.com">https://pages.cloudflare.com</a>
</p>
<ul class="org-ul">
<li>点击“创建应用程序”</li>
<li>找到"Looking to deploy Pages? Get started" ，点击Get started
<ul class="org-ul">
<li>自动跳转至 "<a href="https://dash.cloudflare.com/xxxxxxxx/workers-and-pages/create/pages">https://dash.cloudflare.com/xxxxxxxx/workers-and-pages/create/pages</a>"</li>
<li>导入git存储库即可</li>
</ul></li>
<li>部署完后，自定义域名。</li>
</ul>
</div>
</div>
<div id="outline-container-h:8392ef71-0121-4b41-aeea-f7c3951243d4" class="outline-3">
<h3 id="h:8392ef71-0121-4b41-aeea-f7c3951243d4"><span class="section-number-3">8.2.</span> <a href="#h:8392ef71-0121-4b41-aeea-f7c3951243d4">使用 Netlify 免费加速 GitHub Pages 页面</a></h3>
<div class="outline-text-3" id="text-h:8392ef71-0121-4b41-aeea-f7c3951243d4">
<p>
通过Netlify为GitHub Pages页面提供免费加速，可以显著提升国内访问速度，同时享受自动部署和CDN加速的便利。以下是具体操作步骤：
</p>

<p>
步骤 1：注册并登录Netlify
</p>
<ul class="org-ul">
<li>打开 <a href="https://www.netlify.com/">Netlify官网</a>。</li>
<li>使用GitHub账号注册并登录。</li>
<li>登录后，点击右上角 “Add new site”，选择 “Import an existing project”。</li>
</ul>

<p>
步骤 2：关联GitHub仓库
</p>
<ul class="org-ul">
<li>在Netlify中选择 GitHub 作为代码托管平台。</li>
<li>授权Netlify访问你的GitHub仓库（可以选择特定仓库授权）。</li>
<li>在授权完成后，选择你想要加速的GitHub Pages仓库。</li>
</ul>

<p>
步骤 3：配置部署设置
</p>
<ul class="org-ul">
<li>在 “Branch to deploy” 中选择部署分支（通常为 main 或 master）。</li>
<li>如果是静态网站，无需填写构建命令和发布目录，直接点击 “Deploy site”。</li>
<li>部署完成后，Netlify会生成一个随机的二级域名（如 example.netlify.app）。</li>
</ul>

<p>
步骤 4：绑定自定义域名（可选）
</p>
<ul class="org-ul">
<li>在Netlify后台点击 “Domain management”，选择 '<code>Production domains-&gt;Add domain alias</code>'。</li>
<li>输入你的自定义域名，添加CNAME记录，指向Netlify生成的二级域名。如 <code>abc.xx.com CNAME example.netlify.app</code></li>
<li>验证DNS配置后，Netlify会自动申请SSL证书，为你的自定义域名启用HTTPS。</li>
</ul>

<p>
步骤 5：自动同步与更新
</p>
<ul class="org-ul">
<li>每次将代码推送到GitHub仓库时，Netlify会自动拉取最新代码并重新部署，无需手动操作。</li>
</ul>

<p>
优势与提示
</p>
<ul class="org-ul">
<li>CDN加速：Netlify默认启用全球CDN，大幅提升国内访问速度。</li>
<li>免费服务：提供100GB/月流量和免费HTTPS证书，非常适合个人博客或小型项目。</li>
<li>如果需要更高性能，可以将图片等资源单独托管到其他CDN服务。</li>
<li>通过以上步骤，你的GitHub Pages页面将获得显著的访问速度提升，同时保持简单易用的部署流程。</li>
</ul>
</div>
</div>
</section>
<section id="outline-container-h:360702e7-ed52-4da9-94df-53389f230339" class="outline-2">
<h2 id="h:360702e7-ed52-4da9-94df-53389f230339"><span class="section-number-2">9.</span> <a href="#h:360702e7-ed52-4da9-94df-53389f230339">文本</a></h2>
<div class="outline-text-2" id="text-h:360702e7-ed52-4da9-94df-53389f230339">
</div>
<div id="outline-container-h:fe1f9aaf-733e-455d-8e35-3dabaa88fbb6" class="outline-3">
<h3 id="h:fe1f9aaf-733e-455d-8e35-3dabaa88fbb6"><span class="section-number-3">9.1.</span> <a href="#h:fe1f9aaf-733e-455d-8e35-3dabaa88fbb6">Markdown</a></h3>
<div class="outline-text-3" id="text-h:fe1f9aaf-733e-455d-8e35-3dabaa88fbb6">
<p>
Markdown 是一种轻量级标记语言，可用于向纯文本文档添加格式元素。Markdown 由 John Gruber 于 2004 年创建，现在是世界上最受欢迎的标记语言之一。
</p>

<p>
参考：
</p>
<ul class="org-ul">
<li>官方文档： <a href="https://www.markdownguide.org/basic-syntax/">https://www.markdownguide.org/basic-syntax/</a></li>
<li><a href="https://docs.github.com/zh/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax">github markdown</a></li>
<li><a href="https://www.appinn.com/markdown/">Markdown 语法说明 (简体中文版)</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:2bf5e85f-e3ce-46ac-840f-4feedad9ecaa" class="outline-3">
<h3 id="h:2bf5e85f-e3ce-46ac-840f-4feedad9ecaa"><span class="section-number-3">9.2.</span> <a href="#h:2bf5e85f-e3ce-46ac-840f-4feedad9ecaa">ReStructuredText</a></h3>
<div class="outline-text-3" id="text-h:2bf5e85f-e3ce-46ac-840f-4feedad9ecaa">
<p>
reStructuredText 是扩展名为.rst的纯文本文件，含义为"重新构建的文本""，也被简称为：RST或reST；是Python编程语言的Docutils项目的一部分，Python Doc-SIG (Documentation Special Interest Group)。该项目类似于Java的JavaDoc或Perl的POD项目。 Docutils 能够从Python程序中提取注释和信息，格式化成程序文档。
</p>

<p>
.rst 文件是轻量级标记语言的一种，被设计为容易阅读和编写的纯文本，并且可以借助Docutils这样的程序进行文档处理，也可以转换为HTML或PDF等多种格式，或由Sphinx-Doc这样的程序转换为LaTex、man等更多格式。
</p>

<p>
RST 和 MD 之间的选择取决于您项目的特定需求和个人喜好。如果您需要更复杂的格式和文档结构，RST 可能是更好的选择。但是，如果您更喜欢更简单的语法以及与各种工具和平台的更大兼容性，那么 MD 可能是您的不二之选。
</p>

<p>
实例：
</p>
<ul class="org-ul">
<li><a href="https://github.com/torvalds/linux/blob/master/Documentation/index.rst">linux 内核文档</a>： <a href="https://www.kernel.org/doc/html/latest/index.html">https://www.kernel.org/doc/html/latest/index.html</a></li>
</ul>

<p>
参考：
</p>
<ul class="org-ul">
<li>官方文档： <a href="https://docutils.sourceforge.io/docs/user/rst/quickstart.html">https://docutils.sourceforge.io/docs/user/rst/quickstart.html</a>
<ul class="org-ul">
<li><a href="https://docutils.sourceforge.io/docs/user/rst/quickref.html">https://docutils.sourceforge.io/docs/user/rst/quickref.html</a></li>
</ul></li>
<li><a href="https://www.megengine.org.cn/doc/stable/zh/development/docs/restructuredtext.html">语法入门（中文版）</a></li>
</ul>
</div>
</div>
<div id="outline-container-h:f8d8229c-996c-4c22-b919-50591272379d" class="outline-3">
<h3 id="h:f8d8229c-996c-4c22-b919-50591272379d"><span class="section-number-3">9.3.</span> <a href="#h:f8d8229c-996c-4c22-b919-50591272379d">Org</a></h3>
<div class="outline-text-3" id="text-h:f8d8229c-996c-4c22-b919-50591272379d">
<p>
实例：
</p>
<ul class="org-ul">
<li><a href="https://github.com/bzg/org-mode/blob/main/doc/org-guide.org">https://github.com/bzg/org-mode/blob/main/doc/org-guide.org</a></li>
</ul>

<p>
参考：
</p>
<ul class="org-ul">
<li>官方文档： <a href="https://orgmode.org/manual/index.html">https://orgmode.org/manual/index.html</a>
<ul class="org-ul">
<li>入门中文版：<a href="https://orgmode.org/zh-CN/quickstart.html">https://orgmode.org/zh-CN/quickstart.html</a></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-h:3fea3970-2b10-410d-a92e-1d1823775458" class="outline-3">
<h3 id="h:3fea3970-2b10-410d-a92e-1d1823775458"><span class="section-number-3">9.4.</span> <a href="#h:3fea3970-2b10-410d-a92e-1d1823775458">Texinfo</a></h3>
<div class="outline-text-3" id="text-h:3fea3970-2b10-410d-a92e-1d1823775458">
<p>
参考：
</p>
<ul class="org-ul">
<li>官方文档：<a href="https://www.gnu.org/software/texinfo/manual/texinfo/">https://www.gnu.org/software/texinfo/manual/texinfo/</a></li>
</ul>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
