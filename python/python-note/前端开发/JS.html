<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Python: WEB开发-JS</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>技术</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>阅读</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/archives.html class=nobracket data-astro-cid-pux6a34n>归档</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>友链</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>关于</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              🏆 欢迎来到本站：
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>。
              <strong>希望这里有你感兴趣的内容</strong>。
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">Python: WEB开发-JS</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:e822f8fd-d1b8-48d6-8917-98b0388511d7">JS1</a>
<ul>
<li><a href="#h:db67aa42-855d-41b8-8cbe-e025cf6a51ef">基础语法</a>
<ul>
<li><a href="#h:6f09e44b-7878-4d24-a9eb-ca6c838eb4cd">文档</a></li>
<li><a href="#h:8eedb157-9f63-4889-88c2-283a40c0cf9f">注释</a></li>
<li><a href="#h:9fcb9543-3578-41c4-b072-db9b4b4bb400">常量和变量</a>
<ul>
<li><a href="#h:a0e3978a-0f03-4e2c-94e6-b625fc54a87d">标识符</a></li>
<li><a href="#h:b42411a2-fa96-48f5-a0e8-15d3a0850d40">声明</a></li>
<li><a href="#h:15fff643-910e-4299-998e-6358ef949616">函数</a></li>
</ul>
</li>
<li><a href="#h:e88a3ccf-6ced-448d-8add-c01e5fb28dd5">数据类型</a>
<ul>
<li><a href="#h:43820bdc-7b8c-4c7e-ac14-218a06348be7">类型转换</a></li>
</ul>
</li>
<li><a href="#h:e4ce2195-5dff-4a2e-a47a-f1aaf2f6a159">字符串</a>
<ul>
<li><a href="#h:64ef2711-1b40-43fa-8d0c-a4b425f20bd7">转义字符</a></li>
<li><a href="#h:2d7c4945-819f-4843-bc8a-604bda679ecf">字符串操作方法</a></li>
</ul>
</li>
<li><a href="#h:69f649aa-80a2-4862-8690-0648cac81cef">数值型number</a></li>
<li><a href="#h:b8c21c8f-a20d-4951-b9c8-fa30fe9f4045">Symbol类型</a></li>
<li><a href="#h:e21314e4-7d1c-443b-8984-0b96b587875d">运算符</a>
<ul>
<li><a href="#h:765fddb2-f4de-495d-87fc-a86c16ada099">算数运算符</a></li>
<li><a href="#h:eecbea81-d109-4d6e-a79b-3443b34bbc7c">比较运算符</a></li>
<li><a href="#h:9fd20a49-f98e-4acf-a8f6-73c935f02f90">逻辑运算符</a></li>
<li><a href="#h:a745a2a5-139d-4872-89e9-7e740fe2d80a">位运算</a></li>
<li><a href="#h:56b88c14-9d9b-4af7-9eca-b338f318e802">三元运算符</a></li>
<li><a href="#h:61489258-5592-4e94-b8bb-4b808d46ab5e">逗号操作符</a></li>
<li><a href="#h:38dd4f04-6caf-4c22-ad51-05ed84b5c076">其他</a></li>
<li><a href="#h:b1ebbec4-30ca-47f6-b0b4-191f68ea344d">运算符优先级</a></li>
</ul>
</li>
<li><a href="#h:18c7dba0-67a4-45b7-bed3-da6c65727eb6">表达式</a></li>
</ul>
</li>
<li><a href="#h:f611f328-4bb6-4707-91c1-44d3410bce28">JS语法</a>
<ul>
<li><a href="#h:97c685a3-05dd-4374-acac-5ffd3dd41222">语句块</a></li>
<li><a href="#h:a791da39-acac-45f5-ac5f-a32b2f13f92f">流程控制</a>
<ul>
<li><a href="#h:6ecc70fe-ee71-4de0-b6f1-871fc043d712">条件分支</a></li>
<li><a href="#h:d689402d-4a5c-4965-95d1-dd0af2f93200">switch…case分支语句</a></li>
<li><a href="#h:62445082-4b6a-4af7-af38-3c0e34f79ab2">for循环</a></li>
<li><a href="#h:64c50b1f-631b-4082-85b6-4cff03aca102">while循环 和 do…while循环</a></li>
<li><a href="#h:54cc66ab-3afc-4618-8f89-55c8b31930f0">练习-九九乘法表</a></li>
<li><a href="#h:57bc3bfa-6542-4023-8255-b3135631087c">for…in循环</a></li>
<li><a href="#h:1d696522-5a63-481c-a8bc-8ad7560e46e4">for…of 循环</a></li>
<li><a href="#h:1b53ba24-d0d7-44c0-931d-55f2fde0c6db">break 、 continue</a></li>
<li><a href="#h:72624493-8884-4ddb-8347-43105722ef5e">for迭代的差别</a></li>
</ul>
</li>
<li><a href="#h:b3e25dbc-8d3e-44a7-b8c9-343d90966ffb">Symbols类型</a>
<ul>
<li><a href="#h:cc5d9e99-b53d-4a4b-9128-5c59d05028ef">作为对象的属性key</a></li>
<li><a href="#h:625b8935-19f2-4ad2-9db0-89897e8b37dd">构建常量</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:05b5dc34-a818-498d-a2a2-c29ce4acea96">JS语法-函数与异常</a>
<ul>
<li><a href="#h:72c8ad0d-32fc-4f0e-ad4d-9cab5d87009e">函数</a></li>
<li><a href="#h:eb983c26-a25c-4d2b-b262-bba00d72534d">函数表达式</a>
<ul>
<li><a href="#h:9bcb71bc-3b8e-46f4-93a9-ad45bf9a0bff">匿名函数</a></li>
<li><a href="#h:5643f159-cb78-471d-ae84-8327e6726aeb">有名字的函数表达式</a></li>
<li><a href="#h:52f00b97-9c47-425e-a995-8a1f8fe682ba">函数、匿名函数、函数表达式的差异</a></li>
</ul>
</li>
<li><a href="#h:494b61c0-a728-408a-9f06-3724d3634fab">高阶函数</a>
<ul>
<li><a href="#h:2d948535-916b-4c2b-bd1f-97127a7ddf80">练习-完成一个map函数</a></li>
</ul>
</li>
<li><a href="#h:0d2caa73-ee29-4fe4-82b2-d4da3456f5f4">箭头函数</a>
<ul>
<li><a href="#h:a05a8e13-7e4b-4205-91c7-f33d229bccf3">箭头函数参数</a></li>
<li><a href="#h:10cfc9ce-644a-44d7-bfc3-0291279d84d8">箭头函数返回值</a></li>
</ul>
</li>
<li><a href="#h:9ab4afb9-39c2-424b-b7e2-09111c75da5f">函数参数</a>
<ul>
<li><a href="#h:16625f01-e87b-408f-861c-fb10f97b9133">普通参数</a></li>
<li><a href="#h:161de25d-2630-42bd-8db3-eb40e07811a5">可变参数(rest parameters剩余参数)</a></li>
<li><a href="#h:7e67188a-ecf5-4942-8a6a-cd139692f487">arguments对象</a></li>
<li><a href="#h:d4dc1722-7e29-4c69-beb2-280c59354fe7">参数解构</a></li>
<li><a href="#h:e447d8be-a4ad-490f-9014-5101150c1505">函数返回值</a></li>
</ul>
</li>
<li><a href="#h:e6b0aa00-876f-42a1-b28b-e1d4cbaf2955">作用域</a>
<ul>
<li><a href="#h:8d9a1a33-ab6d-405f-ae56-752366926c1a">严格模式</a></li>
</ul>
</li>
<li><a href="#h:eec2e4d5-e4c0-4e52-9483-a3da0bb67b33">异常</a>
<ul>
<li><a href="#h:4457670f-12c7-4ee6-9f8b-dae129776bc9">抛出异常</a></li>
<li><a href="#h:d4ea4eea-d924-4473-b711-0f0e8c151a80">捕获异常</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:6a816782-9253-4ee6-912e-536271dc0243">JS对象模型</a>
<ul>
<li><a href="#h:b12ecfa1-1506-47be-9ee3-58a35a656574">定义类</a>
<ul>
<li><a href="#h:08d0f270-ca49-4739-be05-d43bba1f4a1f">字面式声明方式</a></li>
<li><a href="#h:c9644a0a-53a7-4d7c-b83d-4185acb8f16f">ES6之前——构造器</a></li>
<li><a href="#h:1d304894-4bfc-4ecf-9c06-742b19142e3c">ES6中的class</a></li>
<li><a href="#h:9932c9ad-8cfa-4fe0-917a-37d690e808fb">this的坑</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:976bc71b-5cba-4501-83b6-f2afc7f23502">HTML</a></li>
<li><a href="#h:55ca5d94-8182-42f1-99c7-3911c6b2e9a0">CSS</a></li>
<li><a href="#h:d629072f-b540-4b6a-8f8c-d0a79207da00">JS2</a>
<ul>
<li><a href="#h:1d1c6d0f-f4ea-4776-aa42-e4f3964015d2">JS-解构及数组对象操作</a>
<ul>
<li><a href="#h:ee0d183b-5006-4f7e-a5cc-eeeccb73a2d8">列表解构</a></li>
<li><a href="#h:961ed842-3ea3-4f7d-b7f8-81260f278192">参数解构</a></li>
<li><a href="#h:ea4149e0-1e4b-4f1c-9630-0db381cd4b0a">数组解构</a></li>
<li><a href="#h:ed4f3766-d8a2-4aae-b2dd-1ebbc376fbc5">对象解构</a></li>
<li><a href="#h:ca830c5d-a4e1-4ac6-832c-bcdb64777c4b">复杂解构</a>
<ul>
<li><a href="#h:5552601b-afbc-4af0-88b3-eb5b42cff2d2">嵌套数组</a></li>
<li><a href="#h:d6d9cc62-0f0e-40c3-ba64-0c97c1da59ef">对象</a></li>
</ul>
</li>
<li><a href="#h:0a79e473-7b55-4a5e-b8d3-0558ab3cdd2c">数组的操作</a></li>
<li><a href="#h:ec320fdc-27cd-446d-938c-a89cd716daf7">数组练习</a></li>
<li><a href="#h:5ffc57a1-3fbf-486b-a04f-62d619c8c455">对象的操作</a></li>
</ul>
</li>
<li><a href="#h:11081fa2-4d2f-4f71-82be-21c5f42e1858">JS &#x2013; Promise对象</a>
<ul>
<li><a href="#h:b0c1f114-16c3-4c1e-a1b9-b074f3c45249">概念</a>
<ul>
<li><a href="#h:8e40a602-3c7e-4ab6-9d4f-f050c032ce4a">executor</a></li>
<li><a href="#h:5f46c6ed-1422-4c44-b9e4-d32cc87bd1a8">Promise的状态</a></li>
<li><a href="#h:459aaa4a-5d6b-4276-9680-9fe9cd4e9060">Promise.then(onFulfilled, onRejected)</a></li>
<li><a href="#h:40d2f1dd-6102-4f67-85b0-7ad8e2dffc06">catch(onRejected)</a></li>
</ul>
</li>
<li><a href="#h:e53e24c4-ec10-4da6-90cc-8472209252e0">原理实验</a>
<ul>
<li><a href="#h:8476f14f-1c7a-4670-8848-e840cb71144f">都不处理，then不传递参数</a></li>
<li><a href="#h:6a59876b-feb1-486c-a6ab-d5f8bad0df05">处理</a></li>
<li><a href="#h:e8f59e06-3265-459d-a38c-a9d9becc3ee9">都处理</a></li>
<li><a href="#h:9eb40655-a68b-4dc1-a9a7-20913e9f6338">实例：链式调用</a></li>
</ul>
</li>
<li><a href="#h:a5d0f87b-d6d8-4bfc-b0a4-8dbbcf371905">异步实例</a></li>
</ul>
</li>
<li><a href="#h:6a8756c6-27ac-4d40-b0d0-493fbc8dff00">JS-高阶对象、高阶类或称Mixin模式</a>
<ul>
<li><a href="#h:e43bafea-c121-4960-a9e1-b73fd5344dd4">继承实现</a>
<ul>
<li><a href="#h:c0b2e5a6-1e68-47a2-85d2-bff1449fdb80">完整继承的代码</a></li>
</ul>
</li>
<li><a href="#h:487356dd-836b-4c25-903a-19cb78e62132">高阶对象实现</a>
<ul>
<li><a href="#h:5de73a39-8649-4387-8323-4963953ab8bd">Mixin类</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#h:0c33f955-e003-437e-98e1-67141801ac41">JS &#x2013; 模块化(babel转译工具)</a>
<ul>
<li><a href="#h:67d7912c-51c8-4144-b141-7a89f38b684c">概念</a></li>
<li><a href="#h:5358d6e1-b634-405e-bbbf-cdc521b6df48">ES6模块化</a>
<ul>
<li><a href="#h:c70d113e-8df4-4ec4-b424-564ea3d101c1">导出</a></li>
<li><a href="#h:40f483de-da5e-4cb9-bcbc-d4d2037b2060">导入</a></li>
</ul>
</li>
<li><a href="#h:4aa7b7ef-d526-4cf3-a412-20c5c2cbc79f">转译工具</a>
<ul>
<li><a href="#h:c3f0c81b-b34a-40c5-8281-2d44109daa8a">babel</a></li>
<li><a href="#h:95190a0c-a2f2-460a-b00c-ae3ef8956c0f">预设</a></li>
<li><a href="#h:6209cb87-eb29-4247-bc11-c69ded2f924c">离线转译安装配置</a></li>
</ul>
</li>
<li><a href="#h:3f02874f-47c1-4ed0-92ca-bb2e73a5030d">导入导出</a>
<ul>
<li><a href="#h:6e4b491d-e733-4315-98c1-772d24106e2d">缺省导入导出</a></li>
<li><a href="#h:cea74577-1ca0-4cc8-9728-b677060ccea9">命名导入导出</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Python</a></li>
</ul>
<section id="outline-container-h:e822f8fd-d1b8-48d6-8917-98b0388511d7" class="outline-2">
<h2 id="h:e822f8fd-d1b8-48d6-8917-98b0388511d7">JS1</h2>
<div class="outline-text-2" id="text-h:e822f8fd-d1b8-48d6-8917-98b0388511d7">
</div>
<div id="outline-container-h:db67aa42-855d-41b8-8cbe-e025cf6a51ef" class="outline-3">
<h3 id="h:db67aa42-855d-41b8-8cbe-e025cf6a51ef">基础语法</h3>
<div class="outline-text-3" id="text-h:db67aa42-855d-41b8-8cbe-e025cf6a51ef">
</div>
<div id="outline-container-h:6f09e44b-7878-4d24-a9eb-ca6c838eb4cd" class="outline-4">
<h4 id="h:6f09e44b-7878-4d24-a9eb-ca6c838eb4cd">文档</h4>
<div class="outline-text-4" id="text-h:6f09e44b-7878-4d24-a9eb-ca6c838eb4cd">
<p>
搜索MDN，Mozilla Developer Network，提供非常完善HTML、CSS、JS等的技术资料。
<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript</a>
</p>

<p>
指南 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide</a> 非常好的JS文档。
</p>

<p>
使用任何一种文本编辑器，都可以开发JS，此次使用微软的Visual Studio Code进行开发。
</p>
</div>
</div>
<div id="outline-container-h:8eedb157-9f63-4889-88c2-283a40c0cf9f" class="outline-4">
<h4 id="h:8eedb157-9f63-4889-88c2-283a40c0cf9f">注释</h4>
<div class="outline-text-4" id="text-h:8eedb157-9f63-4889-88c2-283a40c0cf9f">
<p>
和C、Java一样
</p>
<ul class="org-ul">
<li>//  #单行注释</li>
<li><i>* 注释 *</i>  #多行注释，也可以用在语句中</li>
</ul>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #8b2252;">/**</span>
<span style="color: #8b2252;"> * aaa</span>
<span style="color: #8b2252;"> * bbb</span>
<span style="color: #8b2252;"> */</span>

str = <span style="color: #8b2252;">'hello'</span> +  <span style="color: #b22222;">/* </span><span style="color: #b22222;">comment</span><span style="color: #b22222;"> */</span> <span style="color: #8b2252;">'abc'</span>;
console.log(str);
console.log(<span style="color: #8b2252;">'hello'</span> +  <span style="color: #b22222;">/* </span><span style="color: #b22222;">comment</span><span style="color: #b22222;"> */</span> <span style="color: #8b2252;">'abc'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21333;&#34892;&#27880;&#37322;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9fcb9543-3578-41c4-b072-db9b4b4bb400" class="outline-4">
<h4 id="h:9fcb9543-3578-41c4-b072-db9b4b4bb400">常量和变量</h4>
<div class="outline-text-4" id="text-h:9fcb9543-3578-41c4-b072-db9b4b4bb400">
</div>
<div id="outline-container-h:a0e3978a-0f03-4e2c-94e6-b625fc54a87d" class="outline-5">
<h5 id="h:a0e3978a-0f03-4e2c-94e6-b625fc54a87d">标识符</h5>
<div class="outline-text-5" id="text-h:a0e3978a-0f03-4e2c-94e6-b625fc54a87d">
<p>
标识符必须是字母、下划线、美元符号$和数字，但必须是字母、下划线、美元符号开头，依然是不能数字开头就行
标识符区分大小写
</p>
</div>
</div>
<div id="outline-container-h:b42411a2-fa96-48f5-a0e8-15d3a0850d40" class="outline-5">
<h5 id="h:b42411a2-fa96-48f5-a0e8-15d3a0850d40">声明</h5>
<div class="outline-text-5" id="text-h:b42411a2-fa96-48f5-a0e8-15d3a0850d40">
<ul class="org-ul">
<li>var 声明一个变量。不能突破函数作用域</li>
<li>let 推荐，声明一个块作用域中的局部变量。小范围使用，不能突破大括号作用域，更加不能突破函数作用域</li>
<li>const 声明一个常量。常量不允许改变, 常量不能分开写，必须立即赋值</li>
</ul>

<p>
JS中的变量声明和初始化是可以分开的
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">d</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21482;&#26159;&#22768;&#26126;&#65292;a d&#20026;undefined</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">b</span>
console.log(1,a,b)

a = 1
b = <span style="color: #8b2252;">'a string'</span>
console.log(2,a,b)

<span style="color: #b22222;">//</span><span style="color: #b22222;">const c // &#19981;&#21487;&#20197;</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">c</span> = 100 <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24120;&#37327;&#24517;&#39035;&#22768;&#26126;&#26102;&#36171;&#20540;&#65292;&#20043;&#21518;&#19981;&#33021;&#20877;&#25913;</span>
console.log(c)
<span style="color: #b22222;">//</span><span style="color: #b22222;">c = 200 // &#19981;&#21487;&#20197;&#26356;&#25913;</span>
</pre>
</div>

<pre class="example" id="orgdcbc49d">
var y //只是声明，y值为undefined
var x = 5 // 规范的声明并初始化，声明全局或局部变量。
z = 6 //不规范的初始化，不推荐。在严格模式下会产生异常。在赋值之前不能引用，因为它没有声明。一旦这样赋值就是全局作用域
</pre>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(x, y);  <span style="color: #b22222;">//</span><span style="color: #b22222;">x, y&#22768;&#26126;&#25552;&#21319;&#20102;&#12290;&#20294;&#27809;&#20160;&#20040;&#24847;&#20041;&#65292;&#20165;&#20316;&#26469;&#21028;&#26029;</span>

a = 5;     <span style="color: #b22222;">// </span><span style="color: #b22222;">&#38544;&#24335;&#22768;&#26126;,&#19981;&#20250;&#26377;&#25552;&#21319;</span>
console.log(a); 

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>;  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21482;&#26159;&#22768;&#26126;&#65292;&#21160;&#24577;&#24369;&#31867;&#22411;&#35821;&#35328;&#65292;&#22768;&#26126;&#24182;&#19981;&#20195;&#34920;&#32473;&#23450;&#31867;&#22411;&#12290;&#22768;&#26126;&#25552;&#21319;</span>
console.log(x, y);
a = <span style="color: #8b2252;">'abc'</span>;
console.log(a);
<span style="color: #b22222;">// </span><span style="color: #b22222;">ES javascript &#36229;&#38598; Typescript &#20013;&#25903;&#25345;&#20102;&#31867;&#22411;</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">z</span> = 789; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#19981;&#20250;&#22768;&#26126;&#25552;&#21319;</span>
console.log(z);
z = 123;
console.log(z);

<span style="color: #b22222;">// </span><span style="color: #b22222;">const c;   // &#19981;&#21487;&#20197;</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">c</span> = 100 <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24120;&#37327;&#24517;&#39035;&#22768;&#26126;&#26102;&#36171;&#20540;&#65292;&#20043;&#21518;&#19981;&#33021;&#20877;&#25913;&#12290;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">js&#20013;&#25512;&#33616;&#22914;&#26524;&#27492;&#26631;&#35782;&#31526;&#19981;&#20877;&#25913;&#21464;&#25351;&#21521;&#30340;&#20869;&#23481;&#65292;&#25512;&#33616;&#20351;&#29992;&#24120;&#37327;</span>
console.log(c)
<span style="color: #b22222;">//</span><span style="color: #b22222;">c = 200     // &#19981;&#21487;&#20197;&#26356;&#25913;</span>
</pre>
</div>

<p>
返回结果
</p>
<div class="org-src-container">
<pre class="src src-sh">undefined undefined
5
undefined undefined
abc
789
123
</pre>
</div>
</div>
</div>
<div id="outline-container-h:15fff643-910e-4299-998e-6358ef949616" class="outline-5">
<h5 id="h:15fff643-910e-4299-998e-6358ef949616">函数</h5>
<div class="outline-text-5" id="text-h:15fff643-910e-4299-998e-6358ef949616">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">a</span>() {
    x = 100; <span style="color: #b22222;">// </span><span style="color: #b22222;">global&#21464;&#37327;&#65292;&#19981;&#35201;&#29992;&#65292;&#19981;&#22909;&#65292;&#20005;&#26684;&#27169;&#24335;&#30452;&#25509;&#25253;&#38169;</span>
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">y</span>;   <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23616;&#37096;&#21464;&#37327;&#65292;&#20316;&#29992;&#22495;&#22312;&#20989;&#25968;&#20013;</span>
    y = 200; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23616;&#37096;&#21464;&#37327;</span>
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">z</span> = 300;
    console.log(x, y, z);
}

a();
console.log(x);
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(z) //&#26410;&#22768;&#26126;&#21464;&#37327;z&#65292;&#25253;&#24322;&#24120;</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">y = 200 // &#19981;&#33021;&#22768;&#26126;&#25552;&#21319;</span>
<span style="color: #b22222;">//</span><span style="color: #b22222;">let y = 200 // &#19981;&#33021;&#22768;&#26126;&#25552;&#21319;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">var y = 300; a(); // var&#22768;&#26126;&#25552;&#21319;hoisting</span>
</pre>
</div>

<p>
var会把变量提升到全局或当前函数作用域。
</p>

<p>
常量的选择
</p>
<ul class="org-ul">
<li>如果明确知道一个标识符定义后不再修改，应该尽量声明成const常量，减少被修改的风险，减少Bug</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:e88a3ccf-6ced-448d-8add-c01e5fb28dd5" class="outline-4">
<h4 id="h:e88a3ccf-6ced-448d-8add-c01e5fb28dd5">数据类型</h4>
<div class="outline-text-4" id="text-h:e88a3ccf-6ced-448d-8add-c01e5fb28dd5">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">名称</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">number</td>
<td class="org-left">数值型，包括整型和浮点型</td>
</tr>

<tr>
<td class="org-left">boolean</td>
<td class="org-left">布尔型，true和false</td>
</tr>

<tr>
<td class="org-left">string</td>
<td class="org-left">字符串。需用单双引号、反引号</td>
</tr>

<tr>
<td class="org-left">null</td>
<td class="org-left">只有一个值null</td>
</tr>

<tr>
<td class="org-left">undefined</td>
<td class="org-left">变量声明未赋值的；对象未定义的属性</td>
</tr>

<tr>
<td class="org-left">symbol</td>
<td class="org-left">ES6 新引入类型</td>
</tr>

<tr>
<td class="org-left">object类型</td>
<td class="org-left">是以上基本类型的复合类型，是容器</td>
</tr>
</tbody>
</table>

<p>
ES是动态语言，弱类型语言。
</p>

<p>
虽然先声明了变量，但变量可以重新赋值为任何类型。
</p>

<p>
动态语言：
变量使用时无需事先声明类型
弱类型语言：
字符串加整型，不报错就是弱类型
console.log('a' + 1) // a1
虽然先声明了变量，但是变量可以重新赋值任何类型
</p>

<p>
对象的定义
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = {a:100}
console.log(a.a) <span style="color: #b22222;">// </span><span style="color: #b22222;">100</span>

b = 200
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = {b}
console.log(c.b) <span style="color: #b22222;">// </span><span style="color: #b22222;">200</span>

d = 1000
e = 2000
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">f</span> = {d, e}
console.log(f) <span style="color: #b22222;">// </span><span style="color: #b22222;">{ d: 1000, e: 2000 }</span>
</pre>
</div>
</div>
<div id="outline-container-h:43820bdc-7b8c-4c7e-ac14-218a06348be7" class="outline-5">
<h5 id="h:43820bdc-7b8c-4c7e-ac14-218a06348be7">类型转换</h5>
<div class="outline-text-5" id="text-h:43820bdc-7b8c-4c7e-ac14-218a06348be7">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#22411;&#36716;&#25442;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#24369;&#31867;&#22411;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23383;&#31526;&#20018;</span>
console.log(<span style="color: #8b2252;">'====string===='</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#37117;&#34987;&#38544;&#24335;&#36716;&#25442;&#20026;string&#31867;&#22411;&#28982;&#21518;&#25340;&#25509;</span>
console.log(a = 3 + 8, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">3hello string</span>
console.log(a = <span style="color: #008b8b;">null</span> + <span style="color: #8b2252;">'hello'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">nullhello string</span>
console.log(a = <span style="color: #008b8b;">undefined</span> + <span style="color: #8b2252;">'hello'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">undefinedhello string</span>
console.log(a = <span style="color: #008b8b;">true</span> + <span style="color: #8b2252;">'hello'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">truehello string</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25968;&#23383;</span>
console.log(<span style="color: #8b2252;">'====number===='</span>)  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#37117;&#38544;&#24335;&#36716;&#25442;&#20026;&#25968;&#20540;&#28982;&#21518;&#20570;&#25968;&#20540;&#21152;&#27861;</span>
console.log(a = <span style="color: #008b8b;">null</span> + 8, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">8 'number'</span>
console.log(a = <span style="color: #008b8b;">undefined</span> + 8, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN 'number' //undefined&#27809;&#27861;&#36716;&#25442;&#25104;&#19968;&#20010;&#23545;&#24212;&#30340;&#25968;&#23383; Not a Number</span>
console.log(a = <span style="color: #008b8b;">true</span> + 8, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">9 'number'</span>
console.log(a = <span style="color: #008b8b;">false</span> + 8, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">8 'number'</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#24067;&#23572;</span>
console.log(<span style="color: #8b2252;">'====bool===='</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#37117;&#38544;&#24335;&#36716;&#25442;&#20026;&#25968;&#20540;</span>
console.log(a = <span style="color: #008b8b;">null</span> + <span style="color: #008b8b;">true</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">1 'number'</span>
console.log(a = <span style="color: #008b8b;">null</span> + <span style="color: #008b8b;">false</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">0 'number'</span>
console.log(a = <span style="color: #008b8b;">undefined</span> + <span style="color: #008b8b;">true</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN 'number' //undefined&#27809;&#27861;&#36716;&#25442;&#25104;&#19968;&#20010;&#23545;&#24212;&#30340;&#25968;&#23383;</span>
console.log(a = <span style="color: #008b8b;">undefined</span> + <span style="color: #008b8b;">false</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN 'number'</span>
console.log(a = <span style="color: #008b8b;">null</span> &amp; <span style="color: #008b8b;">true</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">0 'number' //&#20301;&#19982;&amp;; &#20301;&#25110;|</span>
console.log(a = <span style="color: #008b8b;">undefined</span> &amp; <span style="color: #008b8b;">true</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">0 'number'</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#30701;&#36335; and &amp;&amp;    or ||   not !</span>
console.log(a = <span style="color: #008b8b;">null</span> &amp;&amp; <span style="color: #008b8b;">true</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">null 'object' //&#36923;&#36753;&#36816;&#31639;&#31526;&#65292;null &#30452;&#25509;&#23601;&#26159;false&#30701;&#36335;</span>
console.log(a = <span style="color: #008b8b;">false</span> &amp;&amp; <span style="color: #008b8b;">null</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">false 'boolean'</span>
console.log(a = <span style="color: #008b8b;">false</span> &amp;&amp; <span style="color: #8b2252;">'hello'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">false 'boolean'</span>
console.log(a = <span style="color: #008b8b;">true</span> &amp;&amp; <span style="color: #8b2252;">'hello'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">hello string</span>
console.log(a = <span style="color: #008b8b;">true</span> &amp;&amp; <span style="color: #8b2252;">''</span> &amp;&amp; <span style="color: #8b2252;">'abc'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">//  </span><span style="color: #b22222;">string</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#19968;&#20010;&#65306;&#36923;&#36753;&#36816;&#31639;&#31526;&#65292;null &#30452;&#25509;&#23601;&#26159;false&#30701;&#36335;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#20108;&#20010;&#65306;&#36923;&#36753;&#36816;&#31639;&#31526;&#65292;false&#30701;&#36335;&#36820;&#22238;false</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#19977;&#20010;&#65306;boolean</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#19977;&#20010;&#65306;&#23383;&#31526;&#20018;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#20116;&#20010;&#65306;&#36820;&#22238;&#30340;&#26159;&#31354;&#23383;&#31526;&#20018;&#65292;&#30475;&#19981;&#35265;&#12290;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">null</span>
console.log(<span style="color: #8b2252;">'====null===='</span>)
console.log(a = <span style="color: #008b8b;">null</span> + <span style="color: #008b8b;">undefined</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN 'number'</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#30701;&#36335;&#34917;&#20805;  {} [] &#37117;&#19981;&#33021;&#20687;Python&#19968;&#26679;&#25226;&#23427;&#24403;&#20316;False&#26469;&#30475;&#65292;&#23427;&#20204;&#37117;&#26159;&#23545;&#35937;&#65292;&#24403;&#30495;&#30475;</span>
console.log(a = [] &amp;&amp; <span style="color: #8b2252;">'abc'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">abc string</span>
console.log(a = {} &amp;&amp; <span style="color: #8b2252;">'abc'</span>, <span style="color: #a020f0;">typeof</span>(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">abc string</span>
</pre>
</div>

<p>
弱类型，不需要强制类型转换，会隐式类型转换。
</p>

<p>
NaN，即Not a Number，转换数字失败。它和任何值都不等，和自己也不等，只能使用Number.isNaN(NaN)判断。
</p>

<p>
总结：
</p>
<ul class="org-ul">
<li>遇到字符串，加号就是拼接字符串，所有非字符串隐式转换为字符串。</li>
<li>如果没有字符串，加号把其他所有类型都当数字处理，非数字类型隐式转换为数字。undefined特殊，因为它都没有定义值，所以转换数字失败得到一个特殊值NaN。</li>
<li>如果运算符是逻辑运算符，短路符，返回就是短路时的类型。没有隐式转换。</li>
<li>除非你十分明确，否则不要依赖隐式转换。写代码的时候，往往为了程序的健壮，请显式转换。</li>
</ul>

<p>
注意：
以上的原则不要死记，忘了就实验，或者显式的类型转换
</p>
</div>
</div>
</div>
<div id="outline-container-h:e4ce2195-5dff-4a2e-a47a-f1aaf2f6a159" class="outline-4">
<h4 id="h:e4ce2195-5dff-4a2e-a47a-f1aaf2f6a159">字符串</h4>
<div class="outline-text-4" id="text-h:e4ce2195-5dff-4a2e-a47a-f1aaf2f6a159">
<p>
将一个值使用’ 单引号或者 "双引号 引用起来就是字符串。
</p>

<p>
<b>ES6提供了反引号</b> 定义一个字符串，可以支持多行，还支持插值
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">"abc"</span>;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">b</span> = <span style="color: #8b2252;">"135\t\r\n"</span>;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = <span style="color: #8b2252;">`line1</span>
<span style="color: #8b2252;">line2</span>
<span style="color: #8b2252;">line3</span>
<span style="color: #8b2252;">`</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25903;&#25345;&#22810;&#34892;</span>
console.log(c);

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23383;&#31526;&#20018;&#25554;&#20540;,&#35201;&#27714;&#22312;&#21453;&#24341;&#21495;&#23383;&#31526;&#20018;&#20013;.python3.6&#25903;&#25345;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">name</span> = <span style="color: #8b2252;">"tom"</span>,
  age = 19;
console.log(<span style="color: #8b2252;">`my name is ${name}. I am ${age * 2}`</span>);
</pre>
</div>

<p>
返回结果
</p>
<div class="org-src-container">
<pre class="src src-sh">line1
line2
line3

my name is tom. I am 38
</pre>
</div>
</div>
<div id="outline-container-h:64ef2711-1b40-43fa-8d0c-a4b425f20bd7" class="outline-5">
<h5 id="h:64ef2711-1b40-43fa-8d0c-a4b425f20bd7">转义字符</h5>
<div class="outline-text-5" id="text-h:64ef2711-1b40-43fa-8d0c-a4b425f20bd7">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">名称</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">\0</td>
<td class="org-left">ASCII 0，Null字符，空字符</td>
</tr>

<tr>
<td class="org-left">\b</td>
<td class="org-left">退格符</td>
</tr>

<tr>
<td class="org-left">\f</td>
<td class="org-left">换页符</td>
</tr>

<tr>
<td class="org-left">\n</td>
<td class="org-left">换行符</td>
</tr>

<tr>
<td class="org-left">\r</td>
<td class="org-left">回车符</td>
</tr>

<tr>
<td class="org-left">\t</td>
<td class="org-left">Tab(制表符)</td>
</tr>

<tr>
<td class="org-left">\v</td>
<td class="org-left">垂直制表符</td>
</tr>

<tr>
<td class="org-left">’</td>
<td class="org-left">单引号</td>
</tr>

<tr>
<td class="org-left">"</td>
<td class="org-left">双引号</td>
</tr>

<tr>
<td class="org-left">\</td>
<td class="org-left">反斜杠字符 ( \ )</td>
</tr>

<tr>
<td class="org-left">\XXX</td>
<td class="org-left">由从0到377最多三位八进制数XXX表示的Latin-1字符。例如，\251是版本符号的八进制序列</td>
</tr>

<tr>
<td class="org-left">\xXX</td>
<td class="org-left">由从00到FF的两位十六进制数字XX表示的Latin-1字符。例如，\xA49是版本符号的十六进制序列</td>
</tr>

<tr>
<td class="org-left">\uXXXX</td>
<td class="org-left">由四位十六进制数字XXXX表示的Unicode字符。例如，\u00A9是版本符号的Unicode序列。见Unicode escape sequences(Unicode 转义字符)</td>
</tr>

<tr>
<td class="org-left">\u{XXXXX}</td>
<td class="org-left">Unicode代码点（code point）转义字符。例如，\u{2f804}相当于Uicode转义字符, \uD87E\uDC04的简写</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-h:2d7c4945-819f-4843-bc8a-604bda679ecf" class="outline-5">
<h5 id="h:2d7c4945-819f-4843-bc8a-604bda679ecf">字符串操作方法</h5>
<div class="outline-text-5" id="text-h:2d7c4945-819f-4843-bc8a-604bda679ecf">
<p>
字符串操作方法很多，但和Python类似
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">test</span> = <span style="color: #8b2252;">"Python"</span>;
console.log(test.charAt(2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">t &#32034;&#24341;</span>
console.log(test[2]); <span style="color: #b22222;">// </span><span style="color: #b22222;">t  &#32034;&#24341; &#24120;&#29992;</span>
console.log(test.toUpperCase()); <span style="color: #b22222;">// </span><span style="color: #b22222;">PYTHON</span>
console.log(test.concat(<span style="color: #8b2252;">".org"</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">Python.org &#23383;&#31526;&#20018;&#25340;&#25509;</span>
console.log(test.concat(<span style="color: #8b2252;">'-'</span>, <span style="color: #8b2252;">"org"</span>) + <span style="color: #8b2252;">'.cn'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">Python-org.cn &#23383;&#31526;&#20018;&#25340;&#25509;</span>
console.log(test.slice(3)); <span style="color: #b22222;">// </span><span style="color: #b22222;">hon &#20999;&#29255;,&#25903;&#25345;&#36127;&#32034;&#24341;</span>
console.log(test.slice(3, 5)); <span style="color: #b22222;">// </span><span style="color: #b22222;">ho [3, 5)&#21069;&#21253;&#21518;&#19981;&#21253;</span>
console.log(test.slice(-2, -1)); <span style="color: #b22222;">// </span><span style="color: #b22222;">o</span>
console.log(test.slice(-2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">on</span>
console.log(test.repeat(3)); <span style="color: #b22222;">// </span><span style="color: #b22222;">PythonPythonPython &#23383;&#31526;&#20018;&#37325;&#22797;</span>
console.log(test.endsWith(<span style="color: #8b2252;">"n"</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log(test.endsWith(<span style="color: #8b2252;">"P"</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(test.search(<span style="color: #8b2252;">"t"</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
console.log(test.length); <span style="color: #b22222;">// </span><span style="color: #b22222;">6 &#38271;&#24230;</span>


<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">url</span> = <span style="color: #8b2252;">"www.python.org"</span>;
console.log(url.split(<span style="color: #8b2252;">"."</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 'www', 'python', 'org' ]</span>
console.log(url.split(<span style="color: #8b2252;">"."</span>, 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 'www', 'python' ] &#20998;&#21106;&#20960;&#27425;</span>
console.log(<span style="color: #8b2252;">'a+b+c'</span>.split(<span style="color: #8b2252;">/\w/</span>)) <span style="color: #b22222;">// </span><span style="color: #b22222;">[ '', '+', '+', '' ] &#27491;&#21017;&#34920;&#36798;&#24335;&#20998;&#21106;</span>
console.log(url.substr(7, 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">ho  &#36820;&#22238;&#23383;&#31526;&#20018;&#20174;&#20309;&#22788;&#24320;&#22987;,&#21462;&#22810;&#38271; &#23558;&#24223;&#24323;</span>
console.log(url.substring(7, 10)); <span style="color: #b22222;">//</span><span style="color: #b22222;">hon &#36820;&#22238;&#23376;&#20018;,&#20174;&#20309;&#22788;&#24320;&#22987;,&#21040;&#20160;&#20040;&#20026;&#27490;,&#21069;&#21253;&#21518;&#19981;&#21253;</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"python.hon"</span>;
console.log(s.indexOf(<span style="color: #8b2252;">"ho"</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>
console.log(s.indexOf(<span style="color: #8b2252;">"ho"</span>, 4)); <span style="color: #b22222;">// </span><span style="color: #b22222;">7</span>
console.log(s.replace(<span style="color: #8b2252;">".hon"</span>, <span style="color: #8b2252;">".com"</span>)); <span style="color: #b22222;">// </span><span style="color: #b22222;">python.com &#23383;&#31526;&#20018;&#26367;&#25442;</span>
s = <span style="color: #8b2252;">"\tpyt hon \r\n"</span>;
console.log(s.trim()); <span style="color: #b22222;">// </span><span style="color: #b22222;">pyt hon &#21435;&#38500;&#20004;&#31471;&#30340;&#31354;&#30333;&#23383;&#31526;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">trimLeft&#12289;trimRight&#26159;&#38750;&#26631;&#20989;&#25968;&#65292;&#23569;&#29992;</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:69f649aa-80a2-4862-8690-0648cac81cef" class="outline-4">
<h4 id="h:69f649aa-80a2-4862-8690-0648cac81cef">数值型number</h4>
<div class="outline-text-4" id="text-h:69f649aa-80a2-4862-8690-0648cac81cef">
<p>
在JS中，数据均为双精度浮点型范围只能在-(2^53 -1) 和 2^53 -1之间，整型也不例外。
</p>

<p>
数字类型还有三种符号值
</p>
<ul class="org-ul">
<li>+Infinity（正无穷）</li>
<li>-Infinity（负无穷）</li>
<li>NaN (not-a-number非数字)</li>
</ul>


<ul class="org-ul">
<li>二进制0b0010、0B110。</li>
<li>八进制0755。注意0855，将被认作十进制，因为8不在八进制中。ES6中最好使用0o前缀表示八进制。</li>
<li>十六进制0xAA、0Xff。</li>
<li>指数表示1E3（1000），2e-2（0.02）</li>
</ul>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 1 + <span style="color: #008b8b;">undefined</span>;
console.log(a); <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN</span>
console.log(a == <span style="color: #008b8b;">NaN</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(<span style="color: #008b8b;">NaN</span> == <span style="color: #008b8b;">NaN</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(Number.isNaN(a)) <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">b</span> = 1 / 2;
console.log(b, <span style="color: #a020f0;">typeof</span> b); <span style="color: #b22222;">// </span><span style="color: #b22222;">0.5 number</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = 1 / 0;
console.log(c, <span style="color: #a020f0;">typeof</span> c); <span style="color: #b22222;">// </span><span style="color: #b22222;">Infinity number &#27491;&#26080;&#31351;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">d</span> = -1 / 0;
console.log(c, <span style="color: #a020f0;">typeof</span> d); <span style="color: #b22222;">// </span><span style="color: #b22222;">-Infinity number &#36127;&#26080;&#31351;</span>
</pre>
</div>


<p>
常用属性
</p>
<div class="org-src-container">
<pre class="src src-js">console.log(Number.MAX_VALUE); <span style="color: #b22222;">// </span><span style="color: #b22222;">1.7976931348623157e+308</span>
console.log(Number.MAX_SAFE_INTEGER); <span style="color: #b22222;">// </span><span style="color: #b22222;">9007199254740991</span>
console.log(Number.MIN_VALUE); <span style="color: #b22222;">// </span><span style="color: #b22222;">5e-324</span>
console.log(Number.POSITIVE_INFINITY); <span style="color: #b22222;">// </span><span style="color: #b22222;">Infinity &#27491;&#26080;&#31351;</span>
console.log(Number.NEGATIVE_INFINITY); <span style="color: #b22222;">// </span><span style="color: #b22222;">-Infinity &#36127;&#26080;&#31351;</span>
console.log(Number.<span style="color: #008b8b;">NaN</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN &#38750;&#25968;&#23383;</span>
</pre>
</div>

<p>
数字的方法
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">方法</th>
<th scope="col" class="org-left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Number.parseFloat()</td>
<td class="org-left">把字符串参数解析成浮点数，和全局方法 parseFloat() 作用一致</td>
</tr>

<tr>
<td class="org-left">Number.parseInt()</td>
<td class="org-left">把字符串解析成特定基数对应的整型数字，和全局方法 parseInt() 作用一致</td>
</tr>

<tr>
<td class="org-left">Number.isFinite()</td>
<td class="org-left">判断传递的值是否为有限数字</td>
</tr>

<tr>
<td class="org-left">Number.isInteger()</td>
<td class="org-left">判断传递的值是否为整数</td>
</tr>

<tr>
<td class="org-left">Number.isNaN()</td>
<td class="org-left">判断传递的值是否为 NaN</td>
</tr>
</tbody>
</table>

<p>
范例：
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 0x712;
console.log(Number.MAX_SAFE_INTEGER); <span style="color: #b22222;">// </span><span style="color: #b22222;">9007199254740991</span>
console.log(Number.isNaN(<span style="color: #008b8b;">NaN</span>));  <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log(Number.<span style="color: #008b8b;">NaN</span> == Number.<span style="color: #008b8b;">NaN</span>);  <span style="color: #b22222;">// </span><span style="color: #b22222;">false  NaN&#19981;&#33021;&#29992;&#31561;&#20540;&#26469;&#20570; &#21482;&#33021;&#29992;&#21028;&#26029;&#26469;&#20570;</span>
</pre>
</div>


<p>
内置数学对象Math
</p>
<ul class="org-ul">
<li>Math提供了绝对值、对数指数运算、三角函数运算、最大值、最小值、随机数、开方等运算函数，提供了PI值</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">console.log(Math.PI, Math.E, Math.log2(16), Math.sqrt(2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">3.141592653589793 2.718281828459045 4 1.4142135623730951</span>
console.log(Math.pow(2, 3), 2 ** 3, 2 ** 0.5); <span style="color: #b22222;">// </span><span style="color: #b22222;">8 8 1.4142135623730951</span>
console.log(Math.abs(-1)); <span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
console.log(Math.random()); <span style="color: #b22222;">// </span><span style="color: #b22222;">(0,1)&#20043;&#38388;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b8c21c8f-a20d-4951-b9c8-fa30fe9f4045" class="outline-4">
<h4 id="h:b8c21c8f-a20d-4951-b9c8-fa30fe9f4045">Symbol类型</h4>
<div class="outline-text-4" id="text-h:b8c21c8f-a20d-4951-b9c8-fa30fe9f4045">
<p>
ES6提供Symbol类型，内建原生类型。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">s</span> = Symbol();
console.log(s); <span style="color: #b22222;">// </span><span style="color: #b22222;">Symbol()</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">s3</span> = Symbol();
console.log(s3); <span style="color: #b22222;">// </span><span style="color: #b22222;">Symbol()</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">s1</span> = Symbol(<span style="color: #8b2252;">'key1'</span>);
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">s2</span> = Symbol(<span style="color: #8b2252;">'key2'</span>);
console.log(s1, s2); <span style="color: #b22222;">// </span><span style="color: #b22222;">Symbol(key1) Symbol(key2)</span>
console.log(s1 === s2); <span style="color: #b22222;">// </span><span style="color: #b22222;">false Symbol&#20540;&#26159;&#21807;&#19968;&#30340;</span>
console.log(<span style="color: #a020f0;">typeof</span> s1); <span style="color: #b22222;">// </span><span style="color: #b22222;">symbol</span>
</pre>
</div>

<p>
1、作为对象的属性key
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">s</span> = Symbol();
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">t</span> = <span style="color: #8b2252;">'abc'</span>;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = {
    [s]:<span style="color: #8b2252;">'xyz'</span>, <span style="color: #b22222;">// </span><span style="color: #b22222;">symbol&#20570;key, &#27880;&#24847;&#35201;&#20351;&#29992;&#20013;&#25324;&#21495;&#65292;&#36825;&#20010;key&#19968;&#23450;&#21807;&#19968;</span>
    t:<span style="color: #8b2252;">'ttt'</span>,
    [t]:<span style="color: #8b2252;">'ooo'</span>, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20013;&#25324;&#21495;&#20869;&#21487;&#35745;&#31639;</span>
    1:<span style="color: #8b2252;">'111'</span>, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25968;&#23383;&#20570;key, &#20250;&#34987;&#33258;&#21160;&#36716;&#25442;&#20026;&#23383;&#31526;&#20018;</span>
}

console.log(a); <span style="color: #b22222;">// </span><span style="color: #b22222;">{ [Symbol()]: 'xyz', t: 'ttt', abc: 'ooo' }</span>
console.log(a[s]); <span style="color: #b22222;">// </span><span style="color: #b22222;">xyz</span>
a[s] = 2000;
console.log(a[s]); <span style="color: #b22222;">// </span><span style="color: #b22222;">2000</span>
console.log(a.abc, a.t, a[1], a[<span style="color: #8b2252;">'abc'</span>], a[Symbol()]); <span style="color: #b22222;">// </span><span style="color: #b22222;">ooo ttt 111 ooo undefined</span>
</pre>
</div>

<p>
2、构建常量
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#20197;&#21069;&#29992;&#27861;&#12290;&#20854;&#23454;&#26377;&#21464;&#37327;&#21517;&#23601;&#21487;&#20197;&#30693;&#36947;&#20195;&#34920;&#20160;&#20040;&#24847;&#24605;</span>
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">COLOR_RED</span> = <span style="color: #8b2252;">'RED'</span>;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">COLOR_BLUE</span> = <span style="color: #8b2252;">'BLUE'</span>;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">COLOR_BLACK</span> = <span style="color: #8b2252;">'BLACK'</span>;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">COLOR_GREEN</span> = <span style="color: #8b2252;">'GREEN'</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#29616;&#22312;&#29992;&#27861;</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">COLOR_RED</span> = Symbol();
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">COLOR_BLUE</span> = Symbol();
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">COLOR_BLACK</span> = Symbol();
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">COLOR_GREEN</span> = Symbol();
</pre>
</div>

<p>
应用
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">color</span> = {
  RED: 1,
  BLUE: 2,
  BLACK: 3,
  GREEN: 4,
};

RED = 1;
BLUE = 2;

console.log(color.BLACK); <span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">newColor</span> = {
  ...color,
  RED: Symbol(),
  BLACK: Symbol(),
};
console.log(newColor);  <span style="color: #b22222;">// </span><span style="color: #b22222;">{ RED: Symbol(), BLUE: 2, BLACK: Symbol(), GREEN: 4 }</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e21314e4-7d1c-443b-8984-0b96b587875d" class="outline-4">
<h4 id="h:e21314e4-7d1c-443b-8984-0b96b587875d">运算符</h4>
<div class="outline-text-4" id="text-h:e21314e4-7d1c-443b-8984-0b96b587875d">
</div>
<div id="outline-container-h:765fddb2-f4de-495d-87fc-a86c16ada099" class="outline-5">
<h5 id="h:765fddb2-f4de-495d-87fc-a86c16ada099">算数运算符</h5>
<div class="outline-text-5" id="text-h:765fddb2-f4de-495d-87fc-a86c16ada099">
<ul class="org-ul">
<li>+ - * / %等运算符和Python一样</li>
<li>parseInt 直接截取 整数部分</li>
<li>Math.ceil 向上取整</li>
<li>Math.floor 向下取整</li>
<li>Math.round
<ul class="org-ul">
<li>6入，取绝对值更大的值。1.6取2，-1.6取-2</li>
<li>4舍，取绝对值更小的值。1.4取1，-1.4取-1</li>
<li>5，取数轴向右离自己最近的整数。</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-js">console.log(1 / 2);
console.log(1 / 0);
console.log(5 % 3);

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25972;&#38500; pareseInt Math.floor Math.ceil Math.round</span>
console.log(parseInt(1 / 2), parseInt(3 / 2), parseInt(5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">0 1 2</span>
console.log(parseInt(-1 / 2), parseInt(-3 / 2), parseInt(-5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">-0 -1 -2</span>
console.log(<span style="color: #8b2252;">'-'</span>.repeat(30));

console.log(Math.floor(1 / 2), Math.floor(3 / 2), Math.floor(5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">0 1 2</span>
console.log(Math.floor(-1 / 2), Math.floor(-3 / 2), Math.floor(-5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">-1 -2 -3</span>
console.log(<span style="color: #8b2252;">'-'</span>.repeat(30));

console.log(Math.ceil(1 / 2), Math.ceil(3 / 2), Math.ceil(5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">1 2 3</span>
console.log(Math.ceil(-1 / 2), Math.ceil(-3 / 2), Math.ceil(-5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">-0 -1 -2</span>
console.log(<span style="color: #8b2252;">'-'</span>.repeat(30));

<span style="color: #b22222;">// </span><span style="color: #b22222;">round &#27491;&#25968;&#22235;&#33293;&#20116;&#20837;&#65307;  &#36127;&#25968;&#22235;&#33293;&#20845;&#20837;&#65292;&#20116;&#21521;&#19978;</span>
console.log(Math.round(1 / 2), Math.round(3 / 2), Math.round(5 / 2)); <span style="color: #b22222;">// </span><span style="color: #b22222;">1 2 3</span>
console.log(Math.round(-1 / 2), Math.round(-3 / 2), Math.round(-5 / 2));  <span style="color: #b22222;">// </span><span style="color: #b22222;">-0 -1 -2</span>
</pre>
</div>


<p>
++ 和 –
</p>
<ul class="org-ul">
<li>单目运算符，代表变量自增、自减</li>
<li>i++ 先用i，用完之后i再自增加1</li>
<li>++i i先自增，再使用i</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 0;
console.log(a++); <span style="color: #b22222;">// </span><span style="color: #b22222;">0 a++ &#20808;&#29992;&#21518;&#21152;</span>
console.log(a++); <span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
console.log(++a); <span style="color: #b22222;">// </span><span style="color: #b22222;">3 ++a &#20808;&#21152;&#21518;&#29992;</span>
console.log(a); <span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>

i = 0;
a = ++i + i++ + i++ + i; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31561;&#20215;&#20110; (++i) + (i++) + (i++) + i</span>
console.log(a); <span style="color: #b22222;">//  </span><span style="color: #b22222;">/ 1 + 1 + 2 + 3 =7</span>
</pre>
</div>

<p>
1、单目运算符优先级高于双目运算符
</p>

<p>
2、加号+是双目运算符，两边的表达式必须先计算好
</p>
</div>
</div>
<div id="outline-container-h:eecbea81-d109-4d6e-a79b-3443b34bbc7c" class="outline-5">
<h5 id="h:eecbea81-d109-4d6e-a79b-3443b34bbc7c">比较运算符</h5>
<div class="outline-text-5" id="text-h:eecbea81-d109-4d6e-a79b-3443b34bbc7c">
<pre class="example" id="orgacfd777">
&gt;        &lt;      &gt;=   &lt;= 没有什么区别
!=      == 
!==     ===

== 宽松相等，进行类型转换，隐式类型转换
=== 严格相等，不进行类型转换，内容相等，类型相等
安全代码，建议使用 三等号
</pre>

<div class="org-src-container">
<pre class="src src-js">console.log(100 &gt; 200); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(100 &gt; <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(300 &gt; <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log(1000 &gt; <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log(<span style="color: #8b2252;">"1000"</span> &gt; 200); <span style="color: #b22222;">//  </span><span style="color: #b22222;">true</span>
console.log(<span style="color: #8b2252;">"100"</span> &gt; <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(<span style="color: #8b2252;">"1000"</span> &gt; <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#22411;&#36716;&#25442;&#22833;&#36133; &#20026;false</span>
console.log(1000 &gt; <span style="color: #8b2252;">"200a"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(1000 &gt; <span style="color: #8b2252;">"0a"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(1000 &gt; <span style="color: #8b2252;">"a"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(1000 &gt; <span style="color: #008b8b;">NaN</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(1000 &lt; <span style="color: #008b8b;">NaN</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">&#23485;&#26494;&#27604;&#36739;</span>
console.log(100 == 200); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(100 == <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(200 == <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
<span style="color: #8b2252;">/ /</span>&#20005;&#26684;&#27604;&#36739; ===
console.log(200 === <span style="color: #8b2252;">"200"</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9fd20a49-f98e-4acf-a8f6-73c935f02f90" class="outline-5">
<h5 id="h:9fd20a49-f98e-4acf-a8f6-73c935f02f90">逻辑运算符</h5>
<div class="outline-text-5" id="text-h:9fd20a49-f98e-4acf-a8f6-73c935f02f90">
<pre class="example" id="org2f51e67">
&amp;&amp; 、|| 、 !与、或、非
这些运算符和其他高级语言都一样，支持短路
</pre>
</div>
</div>
<div id="outline-container-h:a745a2a5-139d-4872-89e9-7e740fe2d80a" class="outline-5">
<h5 id="h:a745a2a5-139d-4872-89e9-7e740fe2d80a">位运算</h5>
<div class="outline-text-5" id="text-h:a745a2a5-139d-4872-89e9-7e740fe2d80a">
<pre class="example" id="org245e33a">
&amp; | ^ ~ &lt;&lt; &gt;&gt;
位与、位或、异或、取反、左移、右移，和Python一样
异或，相异出1
</pre>
</div>
</div>
<div id="outline-container-h:56b88c14-9d9b-4af7-9eca-b338f318e802" class="outline-5">
<h5 id="h:56b88c14-9d9b-4af7-9eca-b338f318e802">三元运算符</h5>
<div class="outline-text-5" id="text-h:56b88c14-9d9b-4af7-9eca-b338f318e802">
<div class="org-src-container">
<pre class="src src-sh">&#26465;&#20214;&#34920;&#36798;&#24335;?&#30495;&#20540;:&#20551;&#20540;

&#31561;&#20215;&#20110;&#31616;&#21333;&#30340;if...else&#32467;&#26500;

<span style="color: #a020f0;">if</span> (&#26465;&#20214;&#34920;&#36798;&#24335;) {
    &#30495;&#20540;
}
<span style="color: #a020f0;">else</span> { 
    &#20551;&#20540;
}
</pre>
</div>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">python&#20013; &#30495;&#20540; if test else &#20551;&#20540;  c/javascript&#20013; test?&#30495;&#20540;:&#20551;&#20540;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">?: &#26159;&#19977;&#20803;&#36816;&#31639;&#31526;&#65292;&#19977;&#30446;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 50;
console.log(a &gt; 100?<span style="color: #8b2252;">'&gt;100'</span>:<span style="color: #8b2252;">'&lt;=100'</span>);
console.log(a &gt; 100?<span style="color: #8b2252;">'&gt;100'</span>:(a &gt; 50?<span style="color: #8b2252;">'&gt;50'</span>:<span style="color: #8b2252;">'&lt;=50'</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-h:61489258-5592-4e94-b8bb-4b808d46ab5e" class="outline-5">
<h5 id="h:61489258-5592-4e94-b8bb-4b808d46ab5e">逗号操作符</h5>
<div class="outline-text-5" id="text-h:61489258-5592-4e94-b8bb-4b808d46ab5e">
<p>
JS运行多个表达式写在一起
</p>

<p>
return 会返回最后一个变量的值
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">v</span>;
v = 6, <span style="color: #008b8b;">true</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">python&#20013;&#65292;&#36887;&#21495;&#20248;&#21270;&#32423;&#39640;&#20110;=&#12290;&#31867;c&#20013;&#65292;&#36887;&#21495;&#20248;&#21270;&#32423;&#20302;&#20110;=</span>
console.log(v); <span style="color: #b22222;">// </span><span style="color: #b22222;">6</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 4 + 5,
  b = <span style="color: #008b8b;">true</span>,
  c = a &gt; 20 ? <span style="color: #8b2252;">"t"</span> : <span style="color: #8b2252;">"f"</span>;
console.log(a, b, c); <span style="color: #b22222;">// </span><span style="color: #b22222;">9 true 'f'</span>

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">test</span>() {
  <span style="color: #a020f0;">return</span> 3, a + b, c = a++; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36887;&#21495;&#34920;&#36798;&#24335;&#65292;&#36820;&#22238;&#26368;&#21518;&#19968;&#20010;&#34920;&#36798;&#24335;&#30340;&#20540;</span>
}

console.log(test()); <span style="color: #b22222;">// </span><span style="color: #b22222;">9</span>
console.log(c); <span style="color: #b22222;">// </span><span style="color: #b22222;">9</span>
console.log(a); <span style="color: #b22222;">// </span><span style="color: #b22222;">10</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:38dd4f04-6caf-4c22-ad51-05ed84b5c076" class="outline-5">
<h5 id="h:38dd4f04-6caf-4c22-ad51-05ed84b5c076">其他</h5>
<div class="outline-text-5" id="text-h:38dd4f04-6caf-4c22-ad51-05ed84b5c076">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">名称</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">instanceof</td>
<td class="org-left">判断是否属于指定类型</td>
</tr>

<tr>
<td class="org-left">typeof</td>
<td class="org-left">返回类型字符串</td>
</tr>

<tr>
<td class="org-left">delete</td>
<td class="org-left">delete操作符, 删除一个对象(an object)或一个对象的属性(an object’s property)或者一个数组中某一个键值(an element at a specified index in an array)</td>
</tr>

<tr>
<td class="org-left">in</td>
<td class="org-left">如果指定的属性在对象内，则返回true</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-js">console.log(<span style="color: #8b2252;">'a'</span> <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">String</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log(1 <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">Number</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">&#26500;&#36896;&#23454;&#20363;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">String</span>(<span style="color: #8b2252;">'a'</span>);
console.log(a, a <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">String</span>,) ; <span style="color: #b22222;">// </span><span style="color: #b22222;">[String: 'a'] true</span>
console.log(b = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Number</span>(1), b <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">Number</span>) ; <span style="color: #b22222;">// </span><span style="color: #b22222;">[Number: 1] true</span>

console.log([] <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">Array</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log([] <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">Object</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log({} <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">Array</span>)  <span style="color: #b22222;">// </span><span style="color: #b22222;">false</span>
console.log({} <span style="color: #a020f0;">instanceof</span> <span style="color: #228b22;">Object</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>

console.log(<span style="color: #a020f0;">typeof</span> <span style="color: #8b2252;">'a'</span>, <span style="color: #a020f0;">typeof</span> <span style="color: #8b2252;">'a'</span> == <span style="color: #8b2252;">'string'</span>);  <span style="color: #b22222;">// </span><span style="color: #b22222;">string true</span>
console.log(<span style="color: #a020f0;">typeof</span> 1, <span style="color: #a020f0;">typeof</span> 1 == <span style="color: #8b2252;">'number'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">number true</span>
console.log(<span style="color: #a020f0;">typeof</span> a, <span style="color: #a020f0;">typeof</span> a == <span style="color: #8b2252;">'string'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">object false</span>
console.log(<span style="color: #a020f0;">typeof</span> b, <span style="color: #a020f0;">typeof</span> b == <span style="color: #8b2252;">'number'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">object false</span>
console.log(<span style="color: #a020f0;">typeof</span> a, <span style="color: #a020f0;">typeof</span> a === <span style="color: #8b2252;">'object'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">object true</span>
</pre>
</div>

<p>
instanceof 要求必须明确使用类型定义变量，就是对象必须是new关键字声明创建的。它可以用于继承关系的判断。
</p>

<p>
typeof就是返回对象的类型字符串。
</p>

<p>
delete 删除对象、属性、数组元素
</p>
<ul class="org-ul">
<li>删了数组的元素，个数不会少，会补充undefined</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">x = 42; <span style="color: #b22222;">//</span><span style="color: #b22222;">&#38544;&#24335;&#22768;&#26126;</span>
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">y</span> = 43;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">z</span> = 60;
myobj = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Number</span>();
myobj.h = 4; <span style="color: #b22222;">// </span><span style="color: #b22222;">create property h</span>
console.log(<span style="color: #a020f0;">delete</span> x); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true (can delete if declared implicitly)</span>
console.log(<span style="color: #a020f0;">delete</span> y); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns false (cannot delete if declared with var)</span>
console.log(<span style="color: #a020f0;">delete</span> z); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns false</span>
console.log(<span style="color: #a020f0;">delete</span> Math.PI); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns false (cannot delete predefined properties)</span>
console.log(<span style="color: #a020f0;">delete</span> myobj.z); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true (can delete user-defined properties)</span>
console.log(<span style="color: #a020f0;">delete</span> myobj); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true (can delete if declared implicitly)</span>
console.log(<span style="color: #8b2252;">"~~~~~~~~~~~~~~~~~~~~"</span>);

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">trees</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Array</span>(<span style="color: #8b2252;">"redwood"</span>, <span style="color: #8b2252;">"bay"</span>, <span style="color: #8b2252;">"cedar"</span>, <span style="color: #8b2252;">"oak"</span>, <span style="color: #8b2252;">"maple"</span>);
<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 0; i &lt; trees.length; i++) console.log(trees[i]); <span style="color: #b22222;">// </span><span style="color: #b22222;">for&#24490;&#29615;&#20013;&#21482;&#26377;&#19968;&#26465;&#35821;&#21477;&#65292;{}&#21487;&#20197;&#30465;&#30053;</span>
console.log(<span style="color: #8b2252;">"=================="</span>);
<span style="color: #a020f0;">delete</span> trees[3]; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25968;&#32452;&#20013;&#20803;&#32032;&#34987;&#21024;&#38500;&#65292;&#20294;&#31354;&#30528;&#30340;&#20301;&#32622;&#26159;undefined</span>
<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">i</span> = 0; i &lt; trees.length; i++) console.log(trees[i]);
</pre>
</div>

<p>
返回结果
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">true</span>
<span style="color: #483d8b;">false</span>
<span style="color: #483d8b;">false</span>
<span style="color: #483d8b;">false</span>
<span style="color: #483d8b;">true</span>
<span style="color: #483d8b;">true</span>
~~~~~~~~~~~~~~~~~~~~
redwood
bay
cedar
oak
maple
==================
redwood
bay
cedar
undefined
maple
</pre>
</div>


<p>
in 判断属性是否在对象内
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">Custom objects</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">mycar</span> = {
  color: <span style="color: #8b2252;">"red"</span>,
  year: 1998,
};
console.log(<span style="color: #8b2252;">"color"</span> <span style="color: #a020f0;">in</span> mycar); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true</span>
console.log(<span style="color: #8b2252;">"model"</span> <span style="color: #a020f0;">in</span> mycar); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns false</span>
console.log(<span style="color: #8b2252;">"year"</span> <span style="color: #a020f0;">in</span> mycar); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js">console.log(<span style="color: #8b2252;">'~~~~~~~~~~~~~~~~~~~~'</span>)

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">trees</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Array</span>(<span style="color: #8b2252;">"redwood"</span>, <span style="color: #8b2252;">"bay"</span>, <span style="color: #8b2252;">"cedar"</span>, <span style="color: #8b2252;">"oak"</span>, <span style="color: #8b2252;">"maple"</span>);
console.log(0 <span style="color: #a020f0;">in</span> trees); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true &#65292;0&#22312;&#25968;&#32452;&#23545;&#35937;&#30340;index&#20013;</span>
console.log(3 <span style="color: #a020f0;">in</span> trees); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true &#65292;3&#22312;&#25968;&#32452;&#23545;&#35937;&#30340;index&#20013;</span>
console.log(6 <span style="color: #a020f0;">in</span> trees); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns false&#65292;6&#19981;&#22312;&#25968;&#32452;&#23545;&#35937;&#30340;index&#20013;</span>
console.log(<span style="color: #8b2252;">"bay"</span> <span style="color: #a020f0;">in</span> trees); <span style="color: #b22222;">// </span><span style="color: #b22222;">return false&#65292;bay&#19981;&#26159;&#23646;&#24615;&#65292;&#23427;&#26159;&#20540;</span>
console.log(<span style="color: #8b2252;">"length"</span> <span style="color: #a020f0;">in</span> trees); <span style="color: #b22222;">// </span><span style="color: #b22222;">returns true&#65292;length&#26159;&#23545;&#35937;&#30340;&#23646;&#24615;</span>
console.log(<span style="color: #8b2252;">'~~~~~~~~~~~~~~~~~~~~'</span>)
<span style="color: #a020f0;">delete</span> trees[3];
console.log(3 <span style="color: #a020f0;">in</span> trees); <span style="color: #b22222;">// </span><span style="color: #b22222;">return false</span>
<span style="color: #a020f0;">for</span>(<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">i</span>=0;i&lt;trees.length;i++)
 console.log(trees[i]);

<span style="color: #b22222;">//</span><span style="color: #b22222;">in &#21028;&#26029;&#30340;&#26159;&#23646;&#24615;&#22312;&#19981;&#22312;&#65292;&#25968;&#32452;&#26469;&#35828;&#32034;&#24341;&#21644;length&#37117;&#26159;&#23646;&#24615;</span>
</pre>
</div>

<p>
返回结果
</p>
<div class="org-src-container">
<pre class="src src-sh">~~~~~~~~~~~~~~~~~~~~
<span style="color: #483d8b;">true</span>
<span style="color: #483d8b;">true</span>
<span style="color: #483d8b;">false</span>
<span style="color: #483d8b;">false</span>
<span style="color: #483d8b;">true</span>
~~~~~~~~~~~~~~~~~~~~
<span style="color: #483d8b;">false</span>
redwood
bay
cedar
undefined
maple
</pre>
</div>

<p>
pop
</p>
<ul class="org-ul">
<li>可以pop掉，删除最后一个元素</li>
<li>长度会变短，元素会移除</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">trees</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Array</span>(<span style="color: #8b2252;">"redwood"</span>, <span style="color: #8b2252;">"bay"</span>, <span style="color: #8b2252;">"cedar"</span>, <span style="color: #8b2252;">"oak"</span>);
<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">i</span> = 0; i &lt; trees.length; i++) 
    console.log(trees[i]);
console.log(<span style="color: #8b2252;">"============="</span>);

trees.pop();
<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">i</span> = 0; i &lt; trees.length; i++) 
    console.log(trees[i]);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">redwood
bay
cedar
oak
=============
redwood
bay
cedar
</pre>
</div>
</div>
</div>
<div id="outline-container-h:b1ebbec4-30ca-47f6-b0b4-191f68ea344d" class="outline-5">
<h5 id="h:b1ebbec4-30ca-47f6-b0b4-191f68ea344d">运算符优先级</h5>
<div class="outline-text-5" id="text-h:b1ebbec4-30ca-47f6-b0b4-191f68ea344d">
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_precedence#table">js运算符优先级</a>
</p>

<p>
运算符由高到低，顺序如下
</p>

<pre class="example" id="org5d32af1">
. []
() new
! ~ - + ++ -- typeof void delete
* / %
+ -
&lt;&lt; &gt;&gt; &gt;&gt;&gt;
&lt; &lt;= &gt; &gt;= in instanceof
== != === !==
&amp; 位与
^ 异或
|  位或
&amp;&amp;
||
?: 三目运算符
= += -= *= /= %= &lt;&lt;= &gt;&gt;= &gt;&gt;&gt;= &amp;= ^= |=
,
</pre>

<p>
单目 &gt; 双目 &gt; 三目 &gt; 赋值 &gt; 逗号
</p>

<p>
逗号运算符优先级最低，比赋值语句还低。
</p>

<p>
记不住，就使用括号。
</p>
</div>
</div>
</div>
<div id="outline-container-h:18c7dba0-67a4-45b7-bed3-da6c65727eb6" class="outline-4">
<h4 id="h:18c7dba0-67a4-45b7-bed3-da6c65727eb6">表达式</h4>
<div class="outline-text-4" id="text-h:18c7dba0-67a4-45b7-bed3-da6c65727eb6">
<p>
基本表达式，和Python差不多。
</p>

<p>
解析式也和Python的相似，但在ES6中非标准不推荐使用。
</p>

<p>
生成器推荐使用生成器函数，ES6开始支持。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span>* <span style="color: #0000ff;">inc</span>() {
  <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> = 0,
    y = 7;
  <span style="color: #a020f0;">while</span> (<span style="color: #008b8b;">true</span>) {
    <span style="color: #a020f0;">yield</span> x++;
    <span style="color: #a020f0;">if</span> (!y--) <span style="color: #a020f0;">return</span> 100;
  }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">gen</span> = inc(); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#29983;&#25104;&#22120;&#20989;&#25968;&#35843;&#29992;&#21518;&#65292;&#36820;&#22238;&#19968;&#20010;&#24816;&#24615;&#30340;&#29983;&#25104;&#22120;&#23545;&#35937;</span>
console.log(gen);
<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 10; i++) {
  console.log(gen.next()); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#20351;&#29992;&#35813;&#23545;&#35937;&#30340;next&#26041;&#27861;&#65292;&#36820;&#22238;&#19968;&#20010;&#23545;&#35937;&#65292;&#21253;&#21547;value&#21644;done&#23646;&#24615;</span>
} 
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">{ value: 0, done: false }
{ value: 1, done: false }
{ value: 2, done: false }
{ value: 3, done: false }
{ value: 4, done: false }
{ value: 5, done: false }
{ value: 6, done: false }
{ value: 7, done: false }
{ value: 100, done: true }
{ value: undefined, done: true }
</pre>
</div>

<p>
每次调用next()方法返回一个对象，这个对象包含2个属性：value和done，value属性表示本次
yield表达式的返回值，done属性为布尔类型。done是false表示后续还有yield语句执行，如果
执行完成或者return后，done为true.
</p>
</div>
</div>
</div>
<div id="outline-container-h:f611f328-4bb6-4707-91c1-44d3410bce28" class="outline-3">
<h3 id="h:f611f328-4bb6-4707-91c1-44d3410bce28">JS语法</h3>
<div class="outline-text-3" id="text-h:f611f328-4bb6-4707-91c1-44d3410bce28">
</div>
<div id="outline-container-h:97c685a3-05dd-4374-acac-5ffd3dd41222" class="outline-4">
<h4 id="h:97c685a3-05dd-4374-acac-5ffd3dd41222">语句块</h4>
<div class="outline-text-4" id="text-h:97c685a3-05dd-4374-acac-5ffd3dd41222">
<p>
JS使用大括号构成语句块。
ES6 之前语句块是没有作用域的，从ES6开始支持 块作用域 ，let只能在块作用域内可见
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">hello</span>(){
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 1;
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">b</span> = 2;
    c = 3
}

<span style="color: #a020f0;">if</span> (1){
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">d</span> = 4;  <span style="color: #b22222;">//</span><span style="color: #b22222;">&#19981;&#33021;&#31361;&#30772;&#20989;&#25968;&#12289;{}&#22359;&#20316;&#29992;&#22495;&#21517;</span>
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">e</span> = 5; <span style="color: #b22222;">//</span><span style="color: #b22222;">&#24403;&#21069;&#20316;&#29992;&#22495;&#65292;&#19981;&#33021;&#31361;&#30772;&#20989;&#25968;</span>
    f = 6 <span style="color: #b22222;">//</span><span style="color: #b22222;">&#20840;&#23616;&#20316;&#29992;&#22495;</span>
    <span style="color: #a020f0;">if</span> (<span style="color: #008b8b;">true</span>){
        console.log(d) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#35265;</span>
        console.log(e) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#35265;</span>
        console.log(f) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#35265;</span>
        console.log(<span style="color: #8b2252;">'----------'</span>)
        g = 10
        <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">h</span> = 11
    }
}


<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(a) &#19981;&#21487;&#35265;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(b) &#19981;&#21487;&#35265;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(c) &#19981;&#21487;&#35265;&#65292;&#20989;&#25968;&#20026;&#25191;&#34892;</span>

hello()
console.log(c) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22359;&#20316;&#29992;&#22495;&#38544;&#24335;&#22768;&#26126;&#65292;&#21487;&#35265;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(d) // &#22359;&#20316;&#29992;&#22495;&#20351;&#29992;let&#65292;&#19981;&#21487;&#35265;;&#20294;&#26159;&#22359;&#22806;&#30340;d&#21487;&#35265;</span>
console.log(e)) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22359;&#20316;&#29992;&#22495;&#20351;&#29992;var&#65292;&#21487;&#35265;</span>
console.log(f)) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22359;&#20316;&#29992;&#22495;&#38544;&#24335;&#22768;&#26126;&#65292;&#21487;&#35265;</span>
console.log(g)) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#35265;</span>
console.log(h)) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#35265;</span>
</pre>
</div>

<pre class="example" id="orgabf8aeb">
let 不能突破函数、{ } 块作用域
var 不能突破函数作用域
c = 3 隐式申明，为全局作用域
</pre>
</div>
</div>
<div id="outline-container-h:a791da39-acac-45f5-ac5f-a32b2f13f92f" class="outline-4">
<h4 id="h:a791da39-acac-45f5-ac5f-a32b2f13f92f">流程控制</h4>
<div class="outline-text-4" id="text-h:a791da39-acac-45f5-ac5f-a32b2f13f92f">
</div>
<div id="outline-container-h:6ecc70fe-ee71-4de0-b6f1-871fc043d712" class="outline-5">
<h5 id="h:6ecc70fe-ee71-4de0-b6f1-871fc043d712">条件分支</h5>
<div class="outline-text-5" id="text-h:6ecc70fe-ee71-4de0-b6f1-871fc043d712">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">if</span> (cond1){

}
<span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> (cond2) {

}
<span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> (cond3) {

}
<span style="color: #a020f0;">else</span> {

}
</pre>
</div>

<pre class="example" id="org130d611">
条件的False等效
    false
     undefined
     null
     0
     NaN
    空字符串
    
其它值都将被视为True
</pre>
</div>
</div>
<div id="outline-container-h:d689402d-4a5c-4965-95d1-dd0af2f93200" class="outline-5">
<h5 id="h:d689402d-4a5c-4965-95d1-dd0af2f93200">switch…case分支语句</h5>
<div class="outline-text-5" id="text-h:d689402d-4a5c-4965-95d1-dd0af2f93200">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">switch</span> (expression) {
    <span style="color: #a020f0;">case</span> label_1:
        statements_1
        [<span style="color: #a020f0;">break</span>;]
    <span style="color: #a020f0;">case</span> label_2:
        statements_2
        [<span style="color: #a020f0;">break</span>;]

    ...
    <span style="color: #a020f0;">default</span>:
        statements_def
        [<span style="color: #a020f0;">break</span>;]
}
</pre>
</div>

<p>
当进入case语句后，如果没有break语句，会产生穿透现象；一直穿透到break语句结束; 如果一直没有，将把代码执行完.
</p>

<p>
穿透问题，一定要在case中恰当的使用break语句，否则就会继续顺序向下执行
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> = 5; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25442;&#25104;1&#35797;&#19968;&#35797;</span>
<span style="color: #a020f0;">switch</span> (x) {
  <span style="color: #a020f0;">case</span> 0:
    console.log(<span style="color: #8b2252;">"zero"</span>);
    <span style="color: #a020f0;">break</span>;
  <span style="color: #a020f0;">case</span> 1:
    console.log(<span style="color: #8b2252;">"one"</span>);
  <span style="color: #a020f0;">case</span> 2:
    console.log(<span style="color: #8b2252;">"two"</span>);
  <span style="color: #a020f0;">case</span> 3:
    console.log(<span style="color: #8b2252;">"three"</span>);
    <span style="color: #a020f0;">break</span>;
  <span style="color: #a020f0;">case</span> 5:
  <span style="color: #a020f0;">case</span> 4:
    console.log(<span style="color: #8b2252;">"four"</span>);
  <span style="color: #a020f0;">default</span>:
    console.log(<span style="color: #8b2252;">"other"</span>);
  <span style="color: #b22222;">// </span><span style="color: #b22222;">break;</span>
}
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">four
other

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22914;&#26524;x = 2&#65292;&#25191;&#34892;&#32467;&#26524;&#20026;</span>
two
three
</pre>
</div>

<p>
switch&#x2026;case语句都可以写成多分支结构。
</p>
</div>
</div>
<div id="outline-container-h:62445082-4b6a-4af7-af38-3c0e34f79ab2" class="outline-5">
<h5 id="h:62445082-4b6a-4af7-af38-3c0e34f79ab2">for循环</h5>
<div class="outline-text-5" id="text-h:62445082-4b6a-4af7-af38-3c0e34f79ab2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">C&#39118;&#26684;for&#24490;&#29615;</span>
<span style="color: #a020f0;">for</span> ([initialExpression]; [condition]; [incrementExpression]) <span style="color: #b22222;">//</span><span style="color: #b22222;">setup&#25191;&#34892;&#19968;&#27425;; &#27599;&#27425;&#27604;&#36739;, true&#25165;&#20250;&#36827;&#34892;&#24490;&#29615;;  &#27599;&#27425;&#20570;&#23436;&#24490;&#29615;&#20307;&#21518;&#35201;&#20570;&#30340;&#20107;post</span>
{
    statement
}
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 5; i++) {
  console.log(i);
}
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">x</span> = 0, <span style="color: #a0522d;">y</span> = 9; x &lt; 5; x++, y--) {
  console.log(<span style="color: #8b2252;">`${x * y}`</span>);
}
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 10; i += 3) {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27493;&#38271;</span>
  console.log(i);
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">for (;;); // for&#24490;&#29615;&#29256;&#27515;&#24490;&#29615; &#31561;&#20215;for(;;){}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:64c50b1f-631b-4082-85b6-4cff03aca102" class="outline-5">
<h5 id="h:64c50b1f-631b-4082-85b6-4cff03aca102">while循环 和 do…while循环</h5>
<div class="outline-text-5" id="text-h:64c50b1f-631b-4082-85b6-4cff03aca102">
<p>
条件满足，进入循环，条件为真，继续循环
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">while</span> (condition)
    statement
</pre>
</div>

<p>
先进入do语句循环，然后判断，为真就继续循环
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">do</span>
    statement
<span style="color: #a020f0;">while</span> (condition);
</pre>
</div>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">while (1){  //&#27515;&#24490;&#29615;</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">while (true);</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">do {;} while(true) //&#27515;&#24490;&#29615;</span>
</pre>
</div>

<p>
let x = 5
while  (x&#x2013;){
    console.log(x);
}
console.log('<code>~~~~~~~~</code>')
do {
    console.log(x)
}
while(x++&lt;5)
</p>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> = 5;
<span style="color: #a020f0;">while</span> (x--) {
  console.log(x);
}
console.log(<span style="color: #8b2252;">"~~~~~~~~~~"</span>);
<span style="color: #a020f0;">do</span> {
  console.log(x); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20174;-1&#24320;&#22987;</span>
} <span style="color: #a020f0;">while</span> (x++ &lt; 5);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">4
3
2
1
0
~~~~~~~~~~
-1
0
1
2
3
4
5
</pre>
</div>
</div>
</div>
<div id="outline-container-h:54cc66ab-3afc-4618-8f89-55c8b31930f0" class="outline-5">
<h5 id="h:54cc66ab-3afc-4618-8f89-55c8b31930f0">练习-九九乘法表</h5>
<div class="outline-text-5" id="text-h:54cc66ab-3afc-4618-8f89-55c8b31930f0">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 1; i &lt; 10; i++) {
  line = <span style="color: #8b2252;">""</span>;
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">j</span> = 1; j &lt;= i; j++) {
    line += j + <span style="color: #8b2252;">"*"</span> + i + <span style="color: #8b2252;">"="</span> + j * i + <span style="color: #8b2252;">" "</span>;
    <span style="color: #b22222;">// </span><span style="color: #b22222;">line += `${j}*${i}=${i*j?'t':'f'} `</span>
  }
  console.log(line);
}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:57bc3bfa-6542-4023-8255-b3135631087c" class="outline-5">
<h5 id="h:57bc3bfa-6542-4023-8255-b3135631087c">for…in循环</h5>
<div class="outline-text-5" id="text-h:57bc3bfa-6542-4023-8255-b3135631087c">
<p>
对象操作语句for&#x2026;in用来遍历对象的属性
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">for</span> (variable <span style="color: #a020f0;">in</span> object) {
    statements
}
</pre>
</div>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#25968;&#32452;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">arr</span> = [10, 20, 30, 40];

console.log(arr[1]); <span style="color: #b22222;">// </span><span style="color: #b22222;">20</span>
console.log(10 <span style="color: #a020f0;">in</span> arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">false in&#23646;&#24615;</span>
console.log(0 <span style="color: #a020f0;">in</span> arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">true arr[0]</span>
console.log(<span style="color: #8b2252;">"length"</span> <span style="color: #a020f0;">in</span> arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> <span style="color: #a020f0;">in</span> arr) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36941;&#21382;&#23545;&#35937;&#23646;&#24615;</span>
  console.log(x); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#32034;&#24341;(&#23646;&#24615;)</span>
}
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">index</span> <span style="color: #a020f0;">in</span> arr) {
  console.log(<span style="color: #8b2252;">`${index} : ${arr[index]}`</span>); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25554;&#20540;</span>
}
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #b22222;">// </span><span style="color: #b22222;">C&#39118;&#26684;</span>
<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 0; i &lt; arr.length; i++) {
  console.log(arr[i]);
}
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23545;&#35937;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">obj</span> = {
  a: 1,
  b: <span style="color: #8b2252;">"hello"</span>,
  c: <span style="color: #008b8b;">true</span>,
};

console.log(obj.a);
console.log(obj[<span style="color: #8b2252;">"b"</span>]); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23545;&#35937;&#23646;&#24615;&#24403;&#32034;&#24341;&#35775;&#38382;</span>
console.log(obj.d); <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined</span>
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> <span style="color: #a020f0;">in</span> obj) {
  console.log(x); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23646;&#24615;&#21517;</span>
}
console.log(<span style="color: #8b2252;">"-"</span>.repeat(30));

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">key</span> <span style="color: #a020f0;">in</span> obj) {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#25968;&#32452;&#30340;index</span>
  console.log(<span style="color: #8b2252;">`${key} : ${obj[key]}`</span>);
}
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">20
<span style="color: #483d8b;">false</span>
<span style="color: #483d8b;">true</span>
<span style="color: #483d8b;">true</span>
------------------------------
0
1
2
3
------------------------------
0 : 10
1 : 20
2 : 30
3 : 40
------------------------------
10
20
30
40
------------------------------
1
hello
undefined
------------------------------
a
b
c
------------------------------
a : 1
b : hello
c : true
</pre>
</div>

<p>
for in 循环返回的是索引或者key，需要间接访问到值。
</p>

<p>
数组反正返回的是索引，C风格for循环操作可能方便点。根据个人喜好选择。
</p>

<p>
对象用for in合适。
</p>
</div>
</div>
<div id="outline-container-h:1d696522-5a63-481c-a8bc-8ad7560e46e4" class="outline-5">
<h5 id="h:1d696522-5a63-481c-a8bc-8ad7560e46e4">for…of 循环</h5>
<div class="outline-text-5" id="text-h:1d696522-5a63-481c-a8bc-8ad7560e46e4">
<p>
ES6的新语法
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">arr</span> = [1, 2, 3, 4, 5];
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">obj</span> = {
  a: 1,
  b: <span style="color: #8b2252;">"hello"</span>,
  c: <span style="color: #008b8b;">true</span>,
};

<span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> <span style="color: #a020f0;">of</span> arr) { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#36820;&#22238;&#25968;&#32452;&#20803;&#32032;</span>
  console.log(i);
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">for (let i of obj) { // &#24322;&#24120;&#65292;&#19981;&#21487;&#20197;&#36845;&#20195;</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">console.log(i);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
</pre>
</div>

<p>
注意 for &#x2026; of 不能迭代一个普通对象
</p>

<p>
原因是，of后面必须是一个迭代器（TypeError: obj[Symbol.iterator] is not a function）
</p>

<p>
可类比python中的for in，例如for x in [ ]
</p>
</div>
</div>
<div id="outline-container-h:1b53ba24-d0d7-44c0-931d-55f2fde0c6db" class="outline-5">
<h5 id="h:1b53ba24-d0d7-44c0-931d-55f2fde0c6db">break 、 continue</h5>
<div class="outline-text-5" id="text-h:1b53ba24-d0d7-44c0-931d-55f2fde0c6db">
<p>
break 结束当前循环
</p>

<p>
continue 中断当前循环，直接进入下一次循环
</p>
</div>
</div>
<div id="outline-container-h:72624493-8884-4ddb-8347-43105722ef5e" class="outline-5">
<h5 id="h:72624493-8884-4ddb-8347-43105722ef5e">for迭代的差别</h5>
<div class="outline-text-5" id="text-h:72624493-8884-4ddb-8347-43105722ef5e">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">sum</span>(<span style="color: #a0522d;">arr</span>) {
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> <span style="color: #a020f0;">in</span> arr) {<span style="color: #b22222;">// </span><span style="color: #b22222;">&#36941;&#21382;index&#25110;&#23545;&#35937;&#23646;&#24615;</span>
    console.log(x, <span style="color: #a020f0;">typeof</span> x, arr[x]);
  }
  console.log(<span style="color: #8b2252;">"------------------"</span>);
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> <span style="color: #a020f0;">of</span> arr) {<span style="color: #b22222;">// </span><span style="color: #b22222;">&#36941;&#21382;&#20803;&#32032;</span>
    console.log(x, <span style="color: #a020f0;">typeof</span> x);
  }
  console.log(<span style="color: #8b2252;">"------------------"</span>);
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> = 0; x &lt; arr.length; x++) {<span style="color: #b22222;">// </span><span style="color: #b22222;">&#33258;&#24049;&#23450;&#20041;&#32034;&#24341;&#25968;&#20540;&#36941;&#21382;</span>
    console.log(x, <span style="color: #a020f0;">typeof</span> x, arr[x]);
  }
}

sum([3, 6, 9]);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">0 string 3
1 string 6
2 string 9
------------------
3 number
6 number
9 number
------------------
0 number 3
1 number 6
2 number 9
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:b3e25dbc-8d3e-44a7-b8c9-343d90966ffb" class="outline-4">
<h4 id="h:b3e25dbc-8d3e-44a7-b8c9-343d90966ffb">Symbols类型</h4>
<div class="outline-text-4" id="text-h:b3e25dbc-8d3e-44a7-b8c9-343d90966ffb">
<p>
ES6提供Symbol类型，内建原生类型
symbol值是唯一的
</p>

<p>
let sym1 <code>Symbol()
let sym2 = Symbol('key1')
let sym3 = Symbol('key2')
console.log(sym2 =</code> sym3) //false
</p>
</div>
<div id="outline-container-h:cc5d9e99-b53d-4a4b-9128-5c59d05028ef" class="outline-5">
<h5 id="h:cc5d9e99-b53d-4a4b-9128-5c59d05028ef">作为对象的属性key</h5>
<div class="outline-text-5" id="text-h:cc5d9e99-b53d-4a4b-9128-5c59d05028ef">
<p>
let s = Symbol()
let t = 'abc'
let a = {
    [s]:'xyz', // symbol做key，注意要使用中括号，这个key一定唯一
    t:'tt',
    [t]:'oo'
}
</p>

<p>
console.log(a)
console.log(a[s])
a[s] = 2000
console.log(a[s])
</p>

<p>
// 执行结果
{ t: 'tt', abc: 'oo', [Symbol()]: 'xyz' }
xyz
2000
</p>
</div>
</div>
<div id="outline-container-h:625b8935-19f2-4ad2-9db0-89897e8b37dd" class="outline-5">
<h5 id="h:625b8935-19f2-4ad2-9db0-89897e8b37dd">构建常量</h5>
<div class="outline-text-5" id="text-h:625b8935-19f2-4ad2-9db0-89897e8b37dd">
<p>
以前的用法
var COLOR_RED = 'RED';
var COLOR_ORANGE = 'ORANGE';
var COLOR_YELLOW = 'YELLOW';
var COLOR_GREEN = 'GREEN';
var COLOR_BLUE = 'BLUE';
var COLOR_VIOLET = 'VIOLET';
</p>

<p>
现在的用法
const COLOR_RED = Symbol();
const COLOR_ORANGE = Symbol();
const COLOR_YELLOW = Symbol();
const COLOR_GREEN = Symbol();
const COLOR_BLUE = Symbol();
const COLOR_VIOLET = Symbol();
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-h:05b5dc34-a818-498d-a2a2-c29ce4acea96" class="outline-3">
<h3 id="h:05b5dc34-a818-498d-a2a2-c29ce4acea96">JS语法-函数与异常</h3>
<div class="outline-text-3" id="text-h:05b5dc34-a818-498d-a2a2-c29ce4acea96">
</div>
<div id="outline-container-h:72c8ad0d-32fc-4f0e-ad4d-9cab5d87009e" class="outline-4">
<h4 id="h:72c8ad0d-32fc-4f0e-ad4d-9cab5d87009e">函数</h4>
<div class="outline-text-4" id="text-h:72c8ad0d-32fc-4f0e-ad4d-9cab5d87009e">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">&#20989;&#25968;&#21517;</span>(<span style="color: #a0522d;">&#21442;&#25968;&#21015;&#34920;</span>) {
    &#20989;&#25968;&#20307;;
    <span style="color: #a020f0;">return</span> &#36820;&#22238;&#20540;;
}

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">add</span>(<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>){
    <span style="color: #a020f0;">return</span> x+y;
}
console.log(add(3,5));
</pre>
</div>
</div>
</div>
<div id="outline-container-h:eb983c26-a25c-4d2b-b262-bba00d72534d" class="outline-4">
<h4 id="h:eb983c26-a25c-4d2b-b262-bba00d72534d">函数表达式</h4>
<div class="outline-text-4" id="text-h:eb983c26-a25c-4d2b-b262-bba00d72534d">
<p>
使用表达式来定义函数，表达式中的函数名可以省略，如果这个函数名不省略，也只能用在此函数内部
</p>
</div>
<div id="outline-container-h:9bcb71bc-3b8e-46f4-93a9-ad45bf9a0bff" class="outline-5">
<h5 id="h:9bcb71bc-3b8e-46f4-93a9-ad45bf9a0bff">匿名函数</h5>
<div class="outline-text-5" id="text-h:9bcb71bc-3b8e-46f4-93a9-ad45bf9a0bff">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">add</span> = <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>){
    <span style="color: #a020f0;">return</span> x + y;
};
console.log(add(4, 6)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:5643f159-cb78-471d-ae84-8327e6726aeb" class="outline-5">
<h5 id="h:5643f159-cb78-471d-ae84-8327e6726aeb">有名字的函数表达式</h5>
<div class="outline-text-5" id="text-h:5643f159-cb78-471d-ae84-8327e6726aeb">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">sub</span> = <span style="color: #a020f0;">function</span> fn(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>) {
    <span style="color: #a020f0;">return</span> x -y;
}
console.log(sub(5, 3))
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(fn(3, 2)) // fn &#21482;&#33021;&#29992;&#22312;&#20989;&#25968;&#20869;&#37096;</span>
</pre>
</div>

<p>
内部使用，相当于递归调用
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">sub</span> = <span style="color: #a020f0;">function</span> fn(<span style="color: #a0522d;">n</span>) {
    <span style="color: #a020f0;">if</span> (n===1) <span style="color: #a020f0;">return</span> n;
    <span style="color: #a020f0;">return</span> n + fn(--n) <span style="color: #b22222;">// </span><span style="color: #b22222;">fn &#21482;&#33021;&#22312;&#20989;&#25968;&#20869;&#37096;&#20351;&#29992;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">return n===1?n:n+fn(--n)</span>
}
console.log(sub(4))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:52f00b97-9c47-425e-a995-8a1f8fe682ba" class="outline-5">
<h5 id="h:52f00b97-9c47-425e-a995-8a1f8fe682ba">函数、匿名函数、函数表达式的差异</h5>
<div class="outline-text-5" id="text-h:52f00b97-9c47-425e-a995-8a1f8fe682ba">
<p>
函数和匿名函数，本质上都是一样的，都是函数对象，只不过函数有自己的标识符——函数名，匿名函数需要借助其它的标识符而已。
</p>

<p>
区别在于，函数会声明提升，函数表达式不会。
</p>

<div class="org-src-container">
<pre class="src src-js">console.log(add(4,6))
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21311;&#21517;&#20989;&#25968;</span>
<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">add</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>){ <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22768;&#26126;&#25552;&#21319;</span>
    <span style="color: #a020f0;">return</span> x + y;
};

<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(sub(5, 3)); // sub &#26410;&#23450;&#20041;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#26377;&#21517;&#23383;&#30340;&#20989;&#25968;&#34920;&#36798;&#24335;</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">sub</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>){
    <span style="color: #a020f0;">return</span> x - y;
};
console.log(sub(5, 3));
</pre>
</div>

<p>
养成基本习惯，函数在声明定义后使用，不要用声明提升。
</p>
</div>
</div>
</div>
<div id="outline-container-h:494b61c0-a728-408a-9f06-3724d3634fab" class="outline-4">
<h4 id="h:494b61c0-a728-408a-9f06-3724d3634fab">高阶函数</h4>
<div class="outline-text-4" id="text-h:494b61c0-a728-408a-9f06-3724d3634fab">
<p>
高阶函数：函数作为参数或返回一个函数
</p>

<p>
完成一个计数器counter
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">counter</span> = <span style="color: #a020f0;">function</span>(){
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = 0
    <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">function</span>(){
        <span style="color: #a020f0;">return</span> ++c;
    };
};

<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">c</span> = counter()
console.log(c()) <span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
console.log(c()) <span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
console.log(c()) <span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>
</pre>
</div>


<p>
另附counter的生成器版本，仅供参考
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">counter</span> = (<span style="color: #a020f0;">function</span> * () {
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = 1
    <span style="color: #a020f0;">while</span> (<span style="color: #008b8b;">true</span>) {
         <span style="color: #a020f0;">yield</span> c++
    }
})()

console.log(counter.next())
console.log(counter.next())
console.log(counter.next())
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">{ value: 1, done: false }
{ value: 2, done: false }
{ value: 3, done: false }
</pre>
</div>
</div>
<div id="outline-container-h:2d948535-916b-4c2b-bd1f-97127a7ddf80" class="outline-5">
<h5 id="h:2d948535-916b-4c2b-bd1f-97127a7ddf80">练习-完成一个map函数</h5>
<div class="outline-text-5" id="text-h:2d948535-916b-4c2b-bd1f-97127a7ddf80">
<p>
完成一个map函数：可以对某一个数组的元素进行某种处理
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">map</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">func</span>, <span style="color: #a0522d;">iterable</span>) {
  <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">newArr</span> = [];
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">v</span> <span style="color: #a020f0;">of</span> iterable) {
    newArr.push(func(v))
  }
  <span style="color: #a020f0;">return</span> newArr;
}

console.log(map(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">x</span>) { <span style="color: #a020f0;">return</span> x + 1}, [1, 2, 3]));
</pre>
</div>

<p>
方法2
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">map</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">func</span>, <span style="color: #a0522d;">iterable</span>) {
  <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">newArr</span> = [];
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">index</span> <span style="color: #a020f0;">in</span> iterable) {
    newArr[index] = func(iterable[index]);
  }
  <span style="color: #a020f0;">return</span> newArr;
}

console.log(map(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">x</span>) { <span style="color: #a020f0;">return</span> x + 1}, [1, 2, 3])); <span style="color: #b22222;">//</span><span style="color: #b22222;">[ 2, 3, 4 ]</span>
console.log(map(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">x</span>) { <span style="color: #a020f0;">return</span> x++}, [1, 2, 3])); <span style="color: #b22222;">//</span><span style="color: #b22222;">[ 1, 2, 3 ]</span>
console.log(map(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">x</span>) { <span style="color: #a020f0;">return</span> ++x}, [1, 2, 3])); <span style="color: #b22222;">//</span><span style="color: #b22222;">[ 2, 3, 4 ]</span>
console.log(map(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">x</span>) { <span style="color: #a020f0;">return</span> x += 1}, [1, 2, 3])); <span style="color: #b22222;">//</span><span style="color: #b22222;">[ 2, 3, 4 ]</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:0d2caa73-ee29-4fe4-82b2-d4da3456f5f4" class="outline-4">
<h4 id="h:0d2caa73-ee29-4fe4-82b2-d4da3456f5f4">箭头函数</h4>
<div class="outline-text-4" id="text-h:0d2caa73-ee29-4fe4-82b2-d4da3456f5f4">
<p>
箭头函数就是匿名函数，它是一种更加精简的格式。
</p>

<p>
将上例中的函数更改为箭头函数
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">map</span> = <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">arr</span>,<span style="color: #a0522d;">fn</span>){
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">newarr</span> = [];
    <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> <span style="color: #a020f0;">in</span> arr){
        newarr[i] = fn(arr[i]);
    }
    <span style="color: #a020f0;">return</span> newarr
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20197;&#19979;&#19977;&#34892;&#31561;&#20215;</span>
console.log(map([1,2,3,4], (x) =&gt; {<span style="color: #a020f0;">return</span> x*2}));
console.log(map([1,2,3,4], x =&gt; {<span style="color: #a020f0;">return</span> x*2}));
console.log(map([1,2,3,4], x =&gt; x*2));
</pre>
</div>
</div>
<div id="outline-container-h:a05a8e13-7e4b-4205-91c7-f33d229bccf3" class="outline-5">
<h5 id="h:a05a8e13-7e4b-4205-91c7-f33d229bccf3">箭头函数参数</h5>
<div class="outline-text-5" id="text-h:a05a8e13-7e4b-4205-91c7-f33d229bccf3">
<ul class="org-ul">
<li>如果一个函数没有参数，使用()</li>
<li>如果只有一个参数，参数列表可以省略小括号()</li>
<li>多个参数不能省略小括号，且使用逗号间隔</li>
</ul>
</div>
</div>
<div id="outline-container-h:10cfc9ce-644a-44d7-bfc3-0291279d84d8" class="outline-5">
<h5 id="h:10cfc9ce-644a-44d7-bfc3-0291279d84d8">箭头函数返回值</h5>
<div class="outline-text-5" id="text-h:10cfc9ce-644a-44d7-bfc3-0291279d84d8">
<ul class="org-ul">
<li>如果函数体部分有多行，就需要使用{}，如果有返回值使用return</li>
<li>如果只有一行语句，可以同时省略大括号和return</li>
<li><p>
只要有return语句，就不能省略大括号
</p>

<p>
console.log(map([1,2,3,4], x =&gt; {return ++x})) ，有return必须有大括号
</p></li>

<li><p>
如果只有一条非return语句，加上大括号，函数就成了无返回值
</p>

<p>
console.log(map([1,2,3,4], x =&gt; {x*2})); 加上了大括号，它不等价于x =&gt;{return x*2}
</p>

<p>
因此，记住 x =&gt; x*2 这种正确的形式就行
</p></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:9ab4afb9-39c2-424b-b7e2-09111c75da5f" class="outline-4">
<h4 id="h:9ab4afb9-39c2-424b-b7e2-09111c75da5f">函数参数</h4>
<div class="outline-text-4" id="text-h:9ab4afb9-39c2-424b-b7e2-09111c75da5f">
</div>
<div id="outline-container-h:16625f01-e87b-408f-861c-fb10f97b9133" class="outline-5">
<h5 id="h:16625f01-e87b-408f-861c-fb10f97b9133">普通参数</h5>
<div class="outline-text-5" id="text-h:16625f01-e87b-408f-861c-fb10f97b9133">
<p>
一个参数占一个位置，支持默认参数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">add</span> = (x, y) =&gt; x + y
console.log(add(4, 5)) <span style="color: #b22222;">// </span><span style="color: #b22222;">9</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#20540;</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">add1</span> = (x, y=5) =&gt; x + y
console.log(add1(4, 7)) <span style="color: #b22222;">// </span><span style="color: #b22222;">11</span>
console.log(add1(4)) <span style="color: #b22222;">// </span><span style="color: #b22222;">9</span>
</pre>
</div>

<p>
测试下面代码
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">add</span> = (x=6, y) =&gt; x + y

console.log(add()) <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN</span>
console.log(add(1)) <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN</span>
console.log(add(y=2, z=3)) <span style="color: #b22222;">// </span><span style="color: #b22222;">5</span>
console.log(add(3, 4, 5, 6)) <span style="color: #b22222;">// </span><span style="color: #b22222;">7</span>
</pre>
</div>

<p>
观察上面diamagnetic执行结果，原因
</p>

<ul class="org-ul">
<li>JS中并没有Python中的关键字传参</li>
<li><b>JS只是做参数位置的对应</b></li>
<li>JS并不限制默认参数的位置</li>
<li>JS传参个数超范围，多余的参数不影响函数调用</li>
</ul>

<p>
add2(y=2,z=3)相当于add2(2,3)，因为JS没有关键字传参，但是它的赋值表达式有值值，y=2就是2，z=3就是3
</p>

<p>
建议，默认参数写到后面，这是一个好的习惯
</p>
</div>
</div>
<div id="outline-container-h:161de25d-2630-42bd-8db3-eb40e07811a5" class="outline-5">
<h5 id="h:161de25d-2630-42bd-8db3-eb40e07811a5">可变参数(rest parameters剩余参数)</h5>
<div class="outline-text-5" id="text-h:161de25d-2630-42bd-8db3-eb40e07811a5">
<p>
JS使用…表示可变参数（Python用*收集多个参数）
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">sum</span> = <span style="color: #a020f0;">function</span> (...args){
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">result</span> = 0;
    console.log(...args) <span style="color: #b22222;">// </span><span style="color: #b22222;">3 6 9 &#21442;&#25968;&#35299;&#26500;</span>
    <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> <span style="color: #a020f0;">in</span> args){
        result += args[x]
    };
    <span style="color: #a020f0;">return</span> result
};

console.log(sum(3, 6, 9)) <span style="color: #b22222;">// </span><span style="color: #b22222;">18</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:7e67188a-ecf5-4942-8a6a-cd139692f487" class="outline-5">
<h5 id="h:7e67188a-ecf5-4942-8a6a-cd139692f487">arguments对象</h5>
<div class="outline-text-5" id="text-h:7e67188a-ecf5-4942-8a6a-cd139692f487">
<p>
函数的所有参数会被保存在一个arguments的键值对对象中
</p>

<p>
(function (p1, &#x2026;args) {
    console.log(p1)
    console.log(args)
    console.log('-----------&#x2013;&#x2014;')
    console.log(arguments) <i>/ 对象
    for (let x of arguments) /</i> 该对象可以使用of
        console.log(x);
})('abc', 1,3,5)
</p>

<div class="org-src-container">
<pre class="src src-js">(<span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">p1</span>, ...<span style="color: #a0522d;">args</span>) {
  console.log(p1);
  console.log(args);
  console.log(<span style="color: #8b2252;">"----------------"</span>);
  console.log(<span style="color: #008b8b;">arguments</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23545;&#35937;</span>
  <span style="color: #a020f0;">for</span> (<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> <span style="color: #a020f0;">of</span> <span style="color: #008b8b;">arguments</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35813;&#23545;&#35937;&#21487;&#20197;&#20351;&#29992;of</span>
    console.log(x);
})(<span style="color: #8b2252;">"abc"</span>, 1, 3, 5);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">abc
[ 1, 3, 5 ]
----------------
[Arguments] { <span style="color: #8b2252;">'0'</span>: <span style="color: #8b2252;">'abc'</span>, <span style="color: #8b2252;">'1'</span>: 1, <span style="color: #8b2252;">'2'</span>: 3, <span style="color: #8b2252;">'3'</span>: 5 }
abc
1
3
5
</pre>
</div>

<p>
ES6之前，arguments是唯一可变参数的实现。
</p>

<p>
ES6开始，不推荐，建议使用可变参数。为了兼容而保留。
</p>

<p>
注意，使用箭头函数，取到的arguments不是我们想要的，如下
</p>

<div class="org-src-container">
<pre class="src src-js">((x, ...args) =&gt; {
    console.log(args);
    console.log(x);
    console.log(<span style="color: #008b8b;">arguments</span>);
})(...[1,2,3,4])
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">[ 2, 3, 4 ]
1
[Arguments] {
  <span style="color: #8b2252;">'0'</span>: {},
  <span style="color: #8b2252;">'1'</span>: [Function: require] {
    resolve: [Function: resolve] { paths: [Function: paths] },
    main: {
      id: <span style="color: #8b2252;">'.'</span>,
      path: <span style="color: #8b2252;">'D:\\project\\pyproj\\trae'</span>,
      exports: {},
      filename: <span style="color: #8b2252;">'D:\\project\\pyproj\\trae\\index.js'</span>,
      loaded: false,
      children: [],
      paths: [Array],
      [Symbol(kIsMainSymbol)]: true,
      [Symbol(kIsCachedByESMLoader)]: false,
      [Symbol(kIsExecuting)]: true
    },
    extensions: [Object: null prototype] {
      <span style="color: #8b2252;">'.js'</span>: [Function (anonymous)],
      <span style="color: #8b2252;">'.json'</span>: [Function (anonymous)],
      <span style="color: #8b2252;">'.node'</span>: [Function (anonymous)]
    },
    cache: [Object: null prototype] {
      <span style="color: #8b2252;">'D:\\project\\pyproj\\trae\\index.js'</span>: [Object]
    }
  },
  <span style="color: #8b2252;">'2'</span>: {
    id: <span style="color: #8b2252;">'.'</span>,
    path: <span style="color: #8b2252;">'D:\\project\\pyproj\\trae'</span>,
    exports: {},
    filename: <span style="color: #8b2252;">'D:\\project\\pyproj\\trae\\index.js'</span>,
    loaded: false,
    children: [],
    paths: [
      <span style="color: #8b2252;">'D:\\project\\pyproj\\trae\\node_modules'</span>,
      <span style="color: #8b2252;">'D:\\project\\pyproj\\node_modules'</span>,
      <span style="color: #8b2252;">'D:\\project\\node_modules'</span>,
      <span style="color: #8b2252;">'D:\\node_modules'</span>
    ],
    [Symbol(kIsMainSymbol)]: true,
    [Symbol(kIsCachedByESMLoader)]: false,
    [Symbol(kIsExecuting)]: true
  },
  <span style="color: #8b2252;">'3'</span>: <span style="color: #8b2252;">'D:\\project\\pyproj\\trae\\index.js'</span>,
  <span style="color: #8b2252;">'4'</span>: <span style="color: #8b2252;">'D:\\project\\pyproj\\trae'</span>
}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d4dc1722-7e29-4c69-beb2-280c59354fe7" class="outline-5">
<h5 id="h:d4dc1722-7e29-4c69-beb2-280c59354fe7">参数解构</h5>
<div class="outline-text-5" id="text-h:d4dc1722-7e29-4c69-beb2-280c59354fe7">
<p>
和Python类似，Js提供了参数解构，依然使用了&#x2026;符号来解构
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">add</span> = (x, y) =&gt; {console.log(x, y);<span style="color: #a020f0;">return</span> x + y;};
console.log(add(...[100, 200])); <span style="color: #b22222;">// </span><span style="color: #b22222;">300</span>
console.log(add(...[100, 200, 300, 3, 5, 3])); <span style="color: #b22222;">// </span><span style="color: #b22222;">300</span>
console.log(add(...[100])); <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN</span>
</pre>
</div>

<p>
Js支持参数解构，不需要解构后的值个数和参数个数对应
</p>
</div>
</div>
<div id="outline-container-h:e447d8be-a4ad-490f-9014-5101150c1505" class="outline-5">
<h5 id="h:e447d8be-a4ad-490f-9014-5101150c1505">函数返回值</h5>
<div class="outline-text-5" id="text-h:e447d8be-a4ad-490f-9014-5101150c1505">
<p>
python 中可以使用 return 1,2 返回多值，本质上也是一个值，就是一个元组。Js中呢
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">add</span> = (x, y) =&gt; {<span style="color: #a020f0;">return</span> x,y};  <span style="color: #b22222;">// </span><span style="color: #b22222;">,&#36887;&#21495;&#34920;&#36798;&#24335;&#30340;&#20540;&#31561;&#20110;&#26368;&#21518;&#19968;&#20010;</span>
console.log(add(4,100)); <span style="color: #b22222;">// </span><span style="color: #b22222;">100</span>
</pre>
</div>

<p>
表达式的值
</p>
<ul class="org-ul">
<li>类C的语言，都有一个概念——表达式的值</li>
<li>赋值表达式的值：等号右边的值</li>
<li>逗号表达式的值：类C语言，都支持逗号表达式，逗号表达式的值，就是最后一个表达式的值</li>
</ul>


<p>
范例-表达式的值
</p>
<div class="org-src-container">
<pre class="src src-js">a = ((x = 5), (y = 6), <span style="color: #008b8b;">true</span>);
console.log(a); <span style="color: #b22222;">//</span><span style="color: #b22222;">true</span>

b = (123, <span style="color: #008b8b;">true</span>, (z = <span style="color: #8b2252;">"test"</span>));
console.log(b); <span style="color: #b22222;">// </span><span style="color: #b22222;">test</span>

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">c</span>() {
  <span style="color: #a020f0;">return</span> (x = 5), (y = 6), <span style="color: #008b8b;">true</span>, <span style="color: #8b2252;">"ok"</span>;
}

console.log(c()); <span style="color: #b22222;">// </span><span style="color: #b22222;">ok</span>
</pre>
</div>

<p>
所以，JS的函数返回值依然是单值
</p>
</div>
</div>
</div>
<div id="outline-container-h:e6b0aa00-876f-42a1-b28b-e1d4cbaf2955" class="outline-4">
<h4 id="h:e6b0aa00-876f-42a1-b28b-e1d4cbaf2955">作用域</h4>
<div class="outline-text-4" id="text-h:e6b0aa00-876f-42a1-b28b-e1d4cbaf2955">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#20013;&#21464;&#37327;&#30340;&#20316;&#29992;&#22495;</span>
<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">test</span>(){
    a = 100;
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">b</span> = 200; 
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = 300;
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20808;&#35201;&#36816;&#34892;test&#20989;&#25968;</span>
test()
console.log(a);
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(b); // &#19981;&#21487;&#35265;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(c); // &#19981;&#21487;&#35265;</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22359;&#20316;&#29992;&#22495;&#20013;&#21464;&#37327;</span>
<span style="color: #a020f0;">if</span> (1){
    a = 100; 
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">b</span> = 200; 
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = 300;
}

console.log(a);
console.log(b);
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(c); // &#19981;&#21487;&#35265;  </span>
</pre>
</div>

<p>
function是函数的定义，是一个独立的作用域，其中定义的变量在函数外不可见。
</p>

<p>
var a = 100 可以提升声明，也可以突破非函数的块作用域。
</p>

<p>
a = 100 隐式声明不能提升声明，在“严格模式”下会出错，但是可以把变量隐式声明为全局变量。建议少用。
</p>

<p>
let a = 100 不能提升声明，而且不能突破任何的块作用域。推荐使用。
</p>

<p>
范例-作用域
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">show</span>(<span style="color: #a0522d;">i</span>, <span style="color: #a0522d;">arg</span>) {
  console.log(i, arg)
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20316;&#29992;&#22495;&#27979;&#35797;</span>
x = 500;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">j</span> = <span style="color: #8b2252;">'jjjj'</span>;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">k</span> = <span style="color: #8b2252;">'kkkk'</span>;

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">fn</span>(){
  <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">z</span> = 400;
  {
      <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">o</span> = 100; <span style="color: #b22222;">// </span><span style="color: #b22222;">var &#20316;&#29992;&#22495;&#24403;&#21069;&#19978;&#19979;&#25991;</span>
      show(1, x); <span style="color: #b22222;">// </span><span style="color: #b22222;">500</span>
      t = <span style="color: #8b2252;">'free'</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27492;&#35821;&#21477;&#25191;&#34892;&#21518;&#65292;t&#20316;&#29992;&#22495;&#23601;&#26159;&#20840;&#23616;&#30340;&#65292;&#19981;&#25512;&#33616;</span>
      <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p</span> = 200;
  }
  <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">y</span> = 300;
  show(2,z); <span style="color: #b22222;">// </span><span style="color: #b22222;">400</span>
  show(3,x); <span style="color: #b22222;">// </span><span style="color: #b22222;">500</span>
  show(4,o); <span style="color: #b22222;">// </span><span style="color: #b22222;">100</span>
  show(5,t); <span style="color: #b22222;">// </span><span style="color: #b22222;">free</span>
  <span style="color: #b22222;">//</span><span style="color: #b22222;">show(6,p); // &#24322;&#24120;&#65292;let&#20986;&#19981;&#26469;&#19978;&#19968;&#20010;&#35821;&#21477;&#22359;</span>
  {
      show(7,y); <span style="color: #b22222;">// </span><span style="color: #b22222;">300</span>
      show(8,o); <span style="color: #b22222;">// </span><span style="color: #b22222;">100</span>
      show(9,t); <span style="color: #b22222;">// </span><span style="color: #b22222;">free</span>
      {
          show(10,o);  <span style="color: #b22222;">// </span><span style="color: #b22222;">100</span>
          show(11,t);   <span style="color: #b22222;">// </span><span style="color: #b22222;">free</span>
          show(12,z);   <span style="color: #b22222;">// </span><span style="color: #b22222;">400</span>
      }
  }

  j = <span style="color: #8b2252;">'aaaa'</span>;
  <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">k</span> = <span style="color: #8b2252;">'bbbb'</span>;
  show(20, j); <span style="color: #b22222;">// </span><span style="color: #b22222;">aaaa</span>
  show(21, k); <span style="color: #b22222;">// </span><span style="color: #b22222;">bbbb</span>
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20808;&#25191;&#34892;&#20989;&#25968;</span>
fn()

show(22, j); <span style="color: #b22222;">// </span><span style="color: #b22222;">aaaa</span>
show(23, k); <span style="color: #b22222;">// </span><span style="color: #b22222;">kkkk</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">show(13,y); // &#24322;&#24120;&#65292;y&#21482;&#33021;&#23384;&#22312;&#20110;&#23450;&#20041;&#30340;&#19978;&#19979;&#25991;&#20013;&#65292;&#20986;&#19981;&#20102;&#20989;&#25968;</span>
show(14,t); <span style="color: #b22222;">// </span><span style="color: #b22222;">free &#20840;&#23616;&#65292;&#20294;&#26159;&#20005;&#26684;&#27169;&#24335;&#20250;&#25243;&#24322;&#24120;</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">show(15,o) // &#30475;&#19981;&#21040;o&#65292;&#24322;&#24120;&#21407;&#22240;&#21516;y</span>

show(16,z); <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined &#21464;&#37327;&#22768;&#26126;&#25552;&#21319;&#65292;var&#22768;&#26126;&#20102;z&#65292;&#20294;&#26159;&#27492;&#26102;&#36824;&#27809;&#26377;&#36171;&#20540;</span>
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">z</span> = 10;

<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">m</span> = 1
<span style="color: #b22222;">//</span><span style="color: #b22222;">m = 2 // &#24120;&#37327;&#19981;&#21487;&#20197;&#37325;&#26032;&#36171;&#20540;</span>
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">1 500
2 400
3 500
4 100
5 free
7 300
8 100
9 free
10 100
11 free
12 400
20 aaaa
21 bbbb
22 aaaa
23 kkkk
14 free
16 undefined
</pre>
</div>
</div>
<div id="outline-container-h:8d9a1a33-ab6d-405f-ae56-752366926c1a" class="outline-5">
<h5 id="h:8d9a1a33-ab6d-405f-ae56-752366926c1a">严格模式</h5>
<div class="outline-text-5" id="text-h:8d9a1a33-ab6d-405f-ae56-752366926c1a">
<p>
使用"use strict";，这条语句放到函数的首行，或者js脚本首行
</p>
</div>
</div>
</div>
<div id="outline-container-h:eec2e4d5-e4c0-4e52-9483-a3da0bb67b33" class="outline-4">
<h4 id="h:eec2e4d5-e4c0-4e52-9483-a3da0bb67b33">异常</h4>
<div class="outline-text-4" id="text-h:eec2e4d5-e4c0-4e52-9483-a3da0bb67b33">
</div>
<div id="outline-container-h:4457670f-12c7-4ee6-9f8b-dae129776bc9" class="outline-5">
<h5 id="h:4457670f-12c7-4ee6-9f8b-dae129776bc9">抛出异常</h5>
<div class="outline-text-5" id="text-h:4457670f-12c7-4ee6-9f8b-dae129776bc9">
<p>
Js的异常语法和Java相同，使用throw关键字抛出。
</p>

<p>
使用throw关键字可以抛出任意对象的异常
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Error</span>(<span style="color: #8b2252;">'new error'</span>);
<span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'Ref Error'</span>);
<span style="color: #a020f0;">throw</span> 1;
<span style="color: #a020f0;">throw</span> <span style="color: #8b2252;">'not ok'</span>;
<span style="color: #a020f0;">throw</span> [1, 2, 3];
<span style="color: #a020f0;">throw</span> {<span style="color: #8b2252;">'a'</span>:1};
<span style="color: #a020f0;">throw</span> () =&gt; {}; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;</span>
</pre>
</div>


<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">py: try except finally; raise</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">js: try catch finally; throw</span>

<span style="color: #a020f0;">try</span> {
    console.log(<span style="color: #8b2252;">'try begin~~~~'</span>)
    <span style="color: #b22222;">// </span><span style="color: #b22222;">throw new Error('&#36825;&#26159;&#20010;&#24322;&#24120;') // &#25243;&#20986;&#24322;&#24120;</span>
    <span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'&#24341;&#29992;&#24322;&#24120;'</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25243;&#20986;&#24322;&#24120;</span>
    console.log(<span style="color: #8b2252;">'try end~~~~'</span>)
} <span style="color: #a020f0;">finally</span> {
    console.log(<span style="color: #8b2252;">'fin'</span>)
}
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">try begin~~~~
fin
D:\project\pyproj\trae\t1.js:7
    throw new ReferenceError(<span style="color: #8b2252;">'&#36825;&#26159;&#20010;&#24322;&#24120;'</span>) // &#25243;&#20986;&#24322;&#24120;
    ^

ReferenceError: &#36825;&#26159;&#20010;&#24322;&#24120;
    at Object.&lt;anonymous&gt; (D:\project\pyproj\trae\t1.js:7:11)
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d4ea4eea-d924-4473-b711-0f0e8c151a80" class="outline-5">
<h5 id="h:d4ea4eea-d924-4473-b711-0f0e8c151a80">捕获异常</h5>
<div class="outline-text-5" id="text-h:d4ea4eea-d924-4473-b711-0f0e8c151a80">
<p>
try&#x2026;catch 语句捕获异常
</p>

<p>
try&#x2026;catch&#x2026;finally 语句捕获异常，finally保证最终一定执行
</p>

<p>
注意这里的catch不支持类型，也就是说至多一个catch语句
</p>

<p>
可以在catch的语句块内，自行处理异常
</p>

<p>
范例-捕获异常
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">try</span> {
    console.log(<span style="color: #8b2252;">'try begin~~~~'</span>)
    <span style="color: #b22222;">// </span><span style="color: #b22222;">throw new Error('&#36825;&#26159;&#20010;&#24322;&#24120;') // &#25243;&#20986;&#24322;&#24120;</span>
    <span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'&#24341;&#29992;&#24322;&#24120;'</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25243;&#20986;&#24322;&#24120;</span>
    console.log(<span style="color: #8b2252;">'try end~~~~'</span>)
} <span style="color: #a020f0;">catch</span> { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#36825;&#20010;&#24322;&#24120;&#34987;&#25429;&#33719;&#24182;&#21305;&#37197;&#19978;&#20102;</span>
    console.log(<span style="color: #8b2252;">'cath U'</span>)
} <span style="color: #a020f0;">finally</span> {
    console.log(<span style="color: #8b2252;">'fin'</span>)
}
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">try begin~~~~
cath U
fin
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">py: try except finally; raise</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">js: try catch finally; throw</span>

<span style="color: #a020f0;">try</span> {
    console.log(<span style="color: #8b2252;">'try begin~~~~'</span>)
    <span style="color: #b22222;">// </span><span style="color: #b22222;">throw new Error('&#36825;&#26159;&#20010;&#24322;&#24120;') // &#25243;&#20986;&#24322;&#24120;</span>
    <span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'&#24341;&#29992;&#24322;&#24120;'</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25243;&#20986;&#24322;&#24120;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">throw 1 // &#25243;&#20986;&#24322;&#24120;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">throw ()=&gt;{} // [] 'abc' &#36825;&#20123;&#37117;&#26159;&#23545;&#35937;&#65292;&#23545;&#35937;&#37117;&#21487;&#20197;&#25243;&#20986;&#65292;&#19981;&#24314;&#35758;&#36825;&#20040;&#20570;</span>
    console.log(<span style="color: #8b2252;">'try end~~~~'</span>)
} <span style="color: #a020f0;">catch</span> (err) { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#36825;&#20010;&#24322;&#24120;&#34987;&#25429;&#33719;&#24182;&#21305;&#37197;&#19978;&#20102; err&#23601;&#26159;&#36825;&#20010;&#24322;&#24120;&#23545;&#35937;&#65292;&#27809;&#26377;&#31867;&#22411;</span>
    console.log(<span style="color: #8b2252;">'cath U'</span>)
    console.log(err)
    console.log(<span style="color: #a020f0;">typeof</span> err) <span style="color: #b22222;">// </span><span style="color: #b22222;">object</span>
    console.log(err.name) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24322;&#24120;&#30340;&#21517;&#23383;&#12290; ReferenceError</span>
    console.log(err.constructor.name) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#20010;&#23545;&#35937;&#37324;&#37117;&#20250;&#26377;&#20010;&#26500;&#36896;&#22120;&#65292;&#26500;&#36896;&#22120;&#30340;&#21517;&#23383;&#12290; ReferenceError</span>
    console.log(err.message) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24322;&#24120;&#30340;&#25551;&#36848;&#12290;&#24341;&#29992;&#24322;&#24120;</span>
    console.log(err.stack) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24322;&#24120;&#30340;&#26632;&#20449;&#24687;&#65292;&#24322;&#24120;&#30340;&#35843;&#29992;&#26632;&#65292;&#24322;&#24120;&#30340;&#35843;&#29992;&#38142;&#65292;&#24322;&#24120;&#30340;&#20256;&#25773;&#36335;&#24452;</span>

} <span style="color: #a020f0;">finally</span> {
    console.log(<span style="color: #8b2252;">'fin'</span>)
}
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">try begin~~~~
cath U
ReferenceError: &#24341;&#29992;&#24322;&#24120;
    at Object.&lt;anonymous&gt; (D:\project\pyproj\trae\t1.js:7:11)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)
    at node:internal/main/run_main_module:36:49
object
ReferenceError
ReferenceError
&#24341;&#29992;&#24322;&#24120;
ReferenceError: &#24341;&#29992;&#24322;&#24120;
    at Object.&lt;anonymous&gt; (D:\project\pyproj\trae\t1.js:7:11)
    at Module._compile (node:internal/modules/cjs/loader:1554:14)
    at Object..js (node:internal/modules/cjs/loader:1706:10)
    at Module.load (node:internal/modules/cjs/loader:1289:32)
    at Function._load (node:internal/modules/cjs/loader:1108:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:220:24)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:170:5)
    at node:internal/main/run_main_module:36:49
fin
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-h:6a816782-9253-4ee6-912e-536271dc0243" class="outline-3">
<h3 id="h:6a816782-9253-4ee6-912e-536271dc0243">JS对象模型</h3>
<div class="outline-text-3" id="text-h:6a816782-9253-4ee6-912e-536271dc0243">
<p>
JavaScript 是一种基于原型（Prototype）的面向对象语言，而不是基于类的面向对象语言。
</p>

<p>
C++、Java有类Class和实例Instance的概念，类是一类事物的抽象，而实例则是类的实体。
</p>

<p>
JS是基于原型的语言，它只有原型对象的概念。原型对象就是一个模板，新的对
象从这个模板构建从而获取最初的属性。任何对象在运行时可以动态的增加属性。
而且，任何一个对象都可以作为另一个对象的原型，这样后者就可以共享前者的
属性。
</p>
</div>
<div id="outline-container-h:b12ecfa1-1506-47be-9ee3-58a35a656574" class="outline-4">
<h4 id="h:b12ecfa1-1506-47be-9ee3-58a35a656574">定义类</h4>
<div class="outline-text-4" id="text-h:b12ecfa1-1506-47be-9ee3-58a35a656574">
</div>
<div id="outline-container-h:08d0f270-ca49-4739-be05-d43bba1f4a1f" class="outline-5">
<h5 id="h:08d0f270-ca49-4739-be05-d43bba1f4a1f">字面式声明方式</h5>
<div class="outline-text-5" id="text-h:08d0f270-ca49-4739-be05-d43bba1f4a1f">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">obj</span> = {
    property_1: value_1, <span style="color: #b22222;">// </span><span style="color: #b22222;">property_# &#21487;&#20197;&#26159;&#19968;&#20010;&#26631;&#35782;&#31526;...</span>
    2: value_2, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25110;&#19968;&#20010;&#25968;&#23383;...</span>
    [<span style="color: #8b2252;">"property"</span> +3]: value_3, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25110;&#19968;&#20010;&#21487;&#35745;&#31639;&#30340;key&#21517;...</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">...,</span>
    <span style="color: #8b2252;">"property n"</span>: value_n <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25110;&#19968;&#20010;&#23383;&#31526;&#20018;</span>
};
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = 1;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">b</span> = <span style="color: #8b2252;">'abc'</span>;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">c</span> = [1, 2, 3];
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">d</span> = x =&gt; x * 2;

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">obj</span> = {
    <span style="color: #8b2252;">'a'</span>: 100, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24341;&#21495;&#19981;&#30465;&#30053;&#26126;&#30830;&#20351;&#29992;&#35813;&#23383;&#31526;&#20018;&#20026;&#23646;&#24615;&#21517;</span>
    b:b,     <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24341;&#21495;&#21487;&#20197;&#30465;&#65292;&#20294;&#20294;&#20381;&#28982;&#36716;&#25442;&#20026;&#23383;&#31526;&#20018;&#20026;&#23646;&#24615;&#21517;</span>
    [b]:[b],  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35745;&#31639;b&#30340;&#20540;&#28982;&#21518;&#36716;&#25442;&#20026;&#23383;&#31526;&#20018;&#20026;&#23646;&#24615;&#21517;</span>
    3:200,  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23558;3&#36716;&#25442;&#20026;&#23383;&#31526;&#20018;&#20026;&#23646;&#24615;&#21517;</span>
    [a]:200,
    c, <span style="color: #b22222;">//</span><span style="color: #b22222;">&#31561;&#20215;&#20110;c:c</span>
    d, <span style="color: #b22222;">//</span><span style="color: #b22222;">&#31561;&#20215;&#20110;d:d</span>
}
console.log(obj);
console.log(obj.d(10));
<span style="color: #b22222;">// </span><span style="color: #b22222;">for (let s in obj)</span>
<span style="color: #b22222;">//     </span><span style="color: #b22222;">console.log(s, typeof (s), obj[s], typeof (obj[s]));</span>
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">{
  <span style="color: #8b2252;">'1'</span>: 200,
  <span style="color: #8b2252;">'3'</span>: 200,
  a: 100,
  b: <span style="color: #8b2252;">'abc'</span>,
  abc: [ <span style="color: #8b2252;">'abc'</span> ],
  c: [ 1, 2, 3 ],
  d: [Function: d]
}
20
1 string 200 number
3 string 200 number
a string 100 number
b string abc string
abc string [ <span style="color: #8b2252;">'abc'</span> ] object
c string [ 1, 2, 3 ] object
d string [Function: d] <span style="color: #a020f0;">function</span>
</pre>
</div>

<p>
这种方法也称作字面值创建对象，Js 1.2开始支持。
</p>

<p>
对象的键key只能是字符串类型，最后都会被转换成字符串。
</p>
</div>
</div>
<div id="outline-container-h:c9644a0a-53a7-4d7c-b83d-4185acb8f16f" class="outline-5">
<h5 id="h:c9644a0a-53a7-4d7c-b83d-4185acb8f16f">ES6之前——构造器</h5>
<div class="outline-text-5" id="text-h:c9644a0a-53a7-4d7c-b83d-4185acb8f16f">
<p>
1、定义一个函数（构造器）对象，函数名首字母大写
</p>

<p>
2、使用this定义属性
</p>

<p>
3、使用new和构造器创建一个新对象
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Point</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>) {
    <span style="color: #008b8b;">this</span>.x = x; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23545;&#20110;&#31867;&#30340;&#23454;&#20363;&#26469;&#35828;&#65292;this&#27704;&#36828;&#25351;&#21521;&#23454;&#20363;&#33258;&#36523;</span>
    <span style="color: #008b8b;">this</span>.y = y;
    console.log(<span style="color: #8b2252;">'Point ~~~~'</span>)
}
console.log(Point);
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point</span>(4, 5); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20986;&#22522;&#20110;Point&#31867;&#22411;&#30340;&#23454;&#20363;</span>
console.log(p1);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">[Function: Point]
Point ~~~~
Point { x: 4, y: 5 }
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Point</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>) {
    <span style="color: #008b8b;">this</span>.x = x; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23545;&#20110;&#31867;&#30340;&#23454;&#20363;&#26469;&#35828;&#65292;this&#27704;&#36828;&#25351;&#21521;&#23454;&#20363;&#33258;&#36523;</span>
    <span style="color: #008b8b;">this</span>.y = y;
    console.log(<span style="color: #8b2252;">'Point ~~~~'</span>)
    <span style="color: #008b8b;">this</span>.showme = <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">self</span>) {console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y); console.log(<span style="color: #008b8b;">this</span> === self)};
}
console.log(Point);
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point</span>(4, 5); 
<span style="color: #b22222;">// </span><span style="color: #b22222;">new&#26500;&#36896;&#20986;&#22522;&#20110;Point&#31867;&#22411;&#30340;&#23454;&#20363;; </span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#26524;&#27809;&#26377;new&#23601;&#26159;&#26222;&#36890;&#20989;&#25968;Point&#34987;&#35843;&#29992;&#19968;&#27425;&#65292;&#29305;&#21035;&#27880;&#24847;this&#23601;&#19981;&#26159;&#20320;&#24819;&#35201;&#30340;&#20102;</span>
console.log(p1);
console.log(p1.showme);
p1.showme(p1);
console.log(<span style="color: #8b2252;">'---------------'</span>)
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">[Function: Point]
Point ~~~~
Point { x: 4, y: 5, showme: [Function (anonymous)] }
[Function (anonymous)]
Point { x: 4, y: 5, showme: [Function (anonymous)] } 4 5
<span style="color: #483d8b;">true</span>
---------------
</pre>
</div>

<p>
继承
</p>
<div class="org-src-container">
<pre class="src src-js"> <span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Point</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>) {
    <span style="color: #008b8b;">this</span>.x = x; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23545;&#20110;&#31867;&#30340;&#23454;&#20363;&#26469;&#35828;&#65292;this&#27704;&#36828;&#25351;&#21521;&#23454;&#20363;&#33258;&#36523;</span>
    <span style="color: #008b8b;">this</span>.y = y;
    console.log(<span style="color: #8b2252;">'Point ~~~~'</span>)
    <span style="color: #008b8b;">this</span>.showme = <span style="color: #a020f0;">function</span>() {console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y)};
}
<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Point3D</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>, <span style="color: #a0522d;">z</span>) {
    Point.call(<span style="color: #008b8b;">this</span>, x, y); <span style="color: #b22222;">// </span><span style="color: #b22222;">call&#25226;&#24403;&#21069;&#23454;&#20363;this&#27880;&#20837;</span>
    <span style="color: #008b8b;">this</span>.z = z;
    console.log(<span style="color: #8b2252;">'Point3D ++++'</span>)
    <span style="color: #008b8b;">this</span>.showme = <span style="color: #a020f0;">function</span>() {console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y, <span style="color: #008b8b;">this</span>.z)}; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35206;&#30422;</span>
}
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(10, 11, 12);
console.log(p2);
p2.showme();
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">Point ~~~~
Point3D ++++
Point3D { x: 10, y: 11, showme: [Function (anonymous)], z: 12 }
Point3D { x: 10, y: 11, showme: [Function (anonymous)], z: 12 } 10 11 12
</pre>
</div>

<p>
new 构建一个新的通用对象，new操作符会将新对象的this值传递给Point3D构造器函数，函数为这个对象创建z属性。
</p>

<p>
从上句话知道，new后得到一个对象，使用这个对象的this来调用构造器，那么如何执行“基类”的构造器方法呢？
使用Point3D对象的this来执行Point的构造器，所以使用call方法，传入子类的this。
</p>

<p>
最终，构造完成后，将对象赋给p2。
</p>

<p>
注意：如果不使用new关键字，就是一次普通的函数调用，this不代表实例。
</p>
</div>
</div>
<div id="outline-container-h:1d304894-4bfc-4ecf-9c06-742b19142e3c" class="outline-5">
<h5 id="h:1d304894-4bfc-4ecf-9c06-742b19142e3c">ES6中的class</h5>
<div class="outline-text-5" id="text-h:1d304894-4bfc-4ecf-9c06-742b19142e3c">
<p>
从ES6开始，新提供了class关键字，使得创建对象更加简单、清晰。
</p>
<ol class="org-ol">
<li>类定义使用class关键字。创建的本质上还是函数，是一个特殊的函数</li>
<li>一个类只能拥有一个名为constructor的构造器方法。如果没有显式的定义一个构造方法，则会添加一个默认的constuctor方法</li>
<li>继承使用extends关键字</li>
<li>一个构造器可以使用super关键字来调用一个父类的构造函数</li>
<li>类没有私有属性</li>
</ol>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#22522;&#31867;&#23450;&#20041;</span>
<span style="color: #a020f0;">class</span> Point {
    constructor(x, y) <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26500;&#36896;&#22120;</span><span style="color: #b22222;">*/</span> {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
    }
    show() <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26041;&#27861;</span><span style="color: #b22222;">*/</span> {
        console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y);
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point</span>(10, 11)
p1.show()
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32487;&#25215;</span>
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point {
    constructor(x, y, z) {
        <span style="color: #a020f0;">super</span>(x, y);
        <span style="color: #008b8b;">this</span>.z = z;
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(20, 21, 22);
p2.show()

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">Point { x: 10, y: 11 } 10 11</span>
<span style="color: #b22222;">Point3D { x: 20, y: 21, z: 22 } 20 21</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">class</span> Point{
    constructor(x, y) {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
    }
    show(){
        console.log(<span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y);
    }
}
console.log(Point, <span style="color: #a020f0;">typeof</span> Point);
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point</span>(40, 50);
console.log(p1)
p1.show();
console.log(<span style="color: #8b2252;">'++++++++++++++'</span>)

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23376;&#31867;</span>
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point{ 
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#26524;&#33258;&#24049;&#19981;&#23454;&#29616;&#26500;&#36896;&#22120;&#65292;&#40664;&#35748;&#20250;&#25552;&#20379;&#19968;&#20010;&#65292;&#32780;&#19988;&#20869;&#37096;&#20351;&#29992;super&#30340;&#26500;&#36896;&#22120;</span>
    constructor (x, y, z) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23376;&#31867;&#19981;&#20889;&#20063;&#32610;&#65292;&#20889;&#20102;&#23601;&#24471;&#29992;super&#65292;&#19981;&#20294;&#35201;&#20889;super&#65292;&#36824;&#35201;&#20889;&#22312;&#26368;&#21069;&#38754;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">Must call super constructor in derived class before accessing 'this' or returning from derived constructor</span>
        <span style="color: #a020f0;">super</span>(x, y); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26032;&#35821;&#27861;&#36890;&#36807;super&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;&#65292;&#20351;&#29992;&#30340;&#36824;&#26159;&#24403;&#21069;&#30340;this</span>
        <span style="color: #008b8b;">this</span>.z = z;
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(10, 11, 12);
console.log(p2);
p2.show();
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">[class Point] <span style="color: #a020f0;">function</span>
Point { x: 40, y: 50 }
40 50
++++++++++++++
Point3D { x: 10, y: 11, z: 12 }
10 11
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="h:548c976b-606a-4027-a087-dfcbfc42173f"></a>重写方法<br>
<div class="outline-text-6" id="text-h:548c976b-606a-4027-a087-dfcbfc42173f">
<p>
子类Point3D的show方法，需要重写
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">class</span> Point{
    constructor(x, y) {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
    }
    show(){
        console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y);
    }
}
console.log(Point, <span style="color: #a020f0;">typeof</span> Point);
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point</span>(40, 50);
console.log(p1)
p1.show();
console.log(<span style="color: #8b2252;">'++++++++++++++'</span>)

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23376;&#31867;</span>
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point{ 
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#26524;&#33258;&#24049;&#19981;&#23454;&#29616;&#26500;&#36896;&#22120;&#65292;&#40664;&#35748;&#20250;&#25552;&#20379;&#19968;&#20010;&#65292;&#32780;&#19988;&#20869;&#37096;&#20351;&#29992;super&#30340;&#26500;&#36896;&#22120;</span>
    constructor (x, y, z) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23376;&#31867;&#19981;&#20889;&#20063;&#32610;&#65292;&#20889;&#20102;&#23601;&#24471;&#29992;super&#65292;&#19981;&#20294;&#35201;&#20889;super&#65292;&#36824;&#35201;&#20889;&#22312;&#26368;&#21069;&#38754;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">Must call super constructor in derived class before accessing 'this' or returning from derived constructor</span>
        <span style="color: #a020f0;">super</span>(x, y); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26032;&#35821;&#27861;&#36890;&#36807;super&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;&#65292;&#20351;&#29992;&#30340;&#36824;&#26159;&#24403;&#21069;&#30340;this</span>
        <span style="color: #008b8b;">this</span>.z = z;
    }
    show() { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#37325;&#20889;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log('@@@@@@@@@')</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">super.show();</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(this.z);</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log('@@@@@@@@@')</span>
        console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y, <span style="color: #008b8b;">this</span>.z);
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(10, 11, 12);
console.log(p2);
p2.show();
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">[class Point] <span style="color: #a020f0;">function</span>
Point { x: 40, y: 50 }
Point { x: 40, y: 50 } 40 50
++++++++++++++
Point3D { x: 10, y: 11, z: 12 }
Point3D { x: 10, y: 11, z: 12 } 10 11 12
</pre>
</div>

<p>
子类中直接重写父类的方法即可。
</p>

<p>
如果需要使用父类的方法，使用super.method()的 方式调用
</p>

<p>
使用箭头函数重写上面的方法
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#22522;&#31867;&#23450;&#20041;</span>
<span style="color: #a020f0;">class</span> Point {
    constructor(x, y) <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26500;&#36896;&#22120;</span><span style="color: #b22222;">*/</span> {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
        <span style="color: #b22222;">//</span><span style="color: #b22222;">this.show = function () {console.log(this,this.x,this.y)};</span>
        <span style="color: #008b8b;">this</span>.show = () =&gt; console.log(<span style="color: #8b2252;">'Point'</span>);
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32487;&#25215;</span>
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point {
    constructor(x, y, z) {
        <span style="color: #a020f0;">super</span>(x, y);
        <span style="color: #008b8b;">this</span>.z = z;
        <span style="color: #008b8b;">this</span>.show = () =&gt; console.log(<span style="color: #8b2252;">'Point3D'</span>);
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(20, 21, 22);
p2.show(); <span style="color: #b22222;">// </span><span style="color: #b22222;">Point3D</span>
</pre>
</div>

<p>
从运行结果来看，箭头函数也支持子类的覆盖
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#22522;&#31867;&#23450;&#20041;</span>
<span style="color: #a020f0;">class</span> Point {
    constructor(x, y) <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26500;&#36896;&#22120;</span><span style="color: #b22222;">*/</span> {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
        <span style="color: #008b8b;">this</span>.show = () =&gt; console.log(<span style="color: #8b2252;">'Point'</span>);
    }
    <span style="color: #b22222;">// </span><span style="color: #b22222;">show() /*&#26041;&#27861;*/ {     </span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(this,this.x,this.y);     </span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32487;&#25215;</span>
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point {
    constructor(x, y, z) {
        <span style="color: #a020f0;">super</span>(x, y);
        <span style="color: #008b8b;">this</span>.z = z;
        <span style="color: #b22222;">//</span><span style="color: #b22222;">this.show = () =&gt; console.log('Point3D');</span>
    }
    show() { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#37325;&#20889;</span>
        console.log(<span style="color: #8b2252;">'Point3D'</span>);
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(20, 21, 22);
p2.show(); <span style="color: #b22222;">// </span><span style="color: #b22222;">Point</span>
</pre>
</div>

<p>
上例优先使用了父类的属性show
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#22522;&#31867;&#23450;&#20041;</span>
<span style="color: #a020f0;">class</span> Point {
    constructor(x, y) <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26500;&#36896;&#22120;</span><span style="color: #b22222;">*/</span> {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
        <span style="color: #b22222;">//</span><span style="color: #b22222;">this.show = () =&gt; console.log('Point');</span>
    }
    show() <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26041;&#27861;</span><span style="color: #b22222;">*/</span> {
        console.log(<span style="color: #008b8b;">this</span>, <span style="color: #008b8b;">this</span>.x, <span style="color: #008b8b;">this</span>.y);
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32487;&#25215;</span>
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point {
    constructor(x, y, z) {
        <span style="color: #a020f0;">super</span>(x, y);
        <span style="color: #008b8b;">this</span>.z = z;
        <span style="color: #008b8b;">this</span>.show = () =&gt; console.log(<span style="color: #8b2252;">'Point3D'</span>);
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(20, 21, 22);
p2.show(); <span style="color: #b22222;">// </span><span style="color: #b22222;">Point3D</span>
</pre>
</div>

<p>
优先使用了子类的属性
</p>

<p>
总结
</p>
<ul class="org-ul">
<li>父类、子类使用同一种方式类定义属性或者方法，子类覆盖父类</li>
<li>访问同名属性或方法时，优先使用属性。
<ul class="org-ul">
<li>即，子类如果没有showme属性，就用父类或者自己覆盖的</li>
</ul></li>
</ul>
</div>
</li>
<li><a id="h:70f56c4c-ea3e-4994-91cd-89ba8f60a286"></a>静态属性和静态方法<br>
<div class="outline-text-6" id="text-h:70f56c4c-ea3e-4994-91cd-89ba8f60a286">
<p>
在方法名前加上static，就是静态方法
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">class</span> Add {
    <span style="color: #a020f0;">static</span> xyz = <span style="color: #8b2252;">'abcde'</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#38745;&#24577;&#23646;&#24615;</span>
    constructor(x, y) {
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
        console.log(<span style="color: #8b2252;">'Add ~~~~'</span>);
    }
    <span style="color: #a020f0;">static</span> print() {
        console.log(<span style="color: #008b8b;">this</span>.x, <span style="color: #8b2252;">'****'</span>, <span style="color: #008b8b;">this</span>); <span style="color: #b22222;">//</span><span style="color: #b22222;">this&#26159;&#35841;&#65311;Add&#31867;&#33258;&#36523;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22312;class&#23450;&#20041;&#30340;&#31867;&#30340;&#38745;&#24577;&#26041;&#27861;&#20013;, this&#34920;&#31034;Add&#31867;&#33258;&#36523;</span>
        console.log(<span style="color: #008b8b;">this</span>.xyz); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22312;&#38745;&#24577;&#26041;&#27861;&#20013;&#21482;&#33021;&#20351;&#29992;&#38745;&#24577;&#23646;&#24615;</span>
    }
}

console.log(Add)
Add.print(); <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined &#30456;&#24403;&#20110;Python&#20013;&#30340;&#31867;&#26041;&#27861;</span>
console.log(Add.xyz); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#30456;&#24403;&#20110;Python&#20013;&#30340;&#31867;&#23646;&#24615;</span>
console.log(<span style="color: #8b2252;">'-'</span>.repeat(30))

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Add</span>(8, 9);
console.log(x);
console.log(x.print); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23454;&#20363;&#19981;&#33021;&#35775;&#38382;&#30452;&#25509;&#35775;&#38382;&#38745;&#24577;&#26041;&#27861;&#65292;&#21644;C++&#12289;Java&#19968;&#33268;</span>
console.log(x.constructor.print); 
x.constructor.print() <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23454;&#20363;&#21487;&#20197;&#36890;&#36807;constructor&#35775;&#38382;&#38745;&#24577;&#26041;&#27861;</span>
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">[class Add] { xyz: <span style="color: #8b2252;">'abcde'</span> }
undefined **** [class Add] { xyz: <span style="color: #8b2252;">'abcde'</span> }
abcde
abcde
------------------------------
Add ~~~~
Add { x: 8, y: 9 }
undefined
[Function: print]
undefined **** [class Add] { xyz: <span style="color: #8b2252;">'abcde'</span> }
abcde
</pre>
</div>

<p>
静态方法中的this是Add类，而不是Add的实例
</p>

<p>
注意：静态的概念和Python的静态不同，相当于Python中的类变量
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-h:9932c9ad-8cfa-4fe0-917a-37d690e808fb" class="outline-5">
<h5 id="h:9932c9ad-8cfa-4fe0-917a-37d690e808fb">this的坑</h5>
<div class="outline-text-5" id="text-h:9932c9ad-8cfa-4fe0-917a-37d690e808fb">
<p>
虽然Js和 C++ 、Java一样有this，但是Js的表现是不同的。
</p>

<p>
原因在于， C++ 、Java是静态编译型语言，this是编译期绑定，而Js是动态语言，运行期绑定。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">this &#30340;&#22353;</span>

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">school</span> = {
    name: <span style="color: #8b2252;">'js'</span>,
    <span style="color: #0000ff;">getName</span>: <span style="color: #a020f0;">function</span>() {
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        console.log(<span style="color: #008b8b;">this</span>);
        console.log(<span style="color: #008b8b;">this</span>.name);
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">function</span>() { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
            console.log(<span style="color: #8b2252;">'++++'</span>);
            console.log(globalThis); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20840;&#23616;&#23545;&#35937; nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
            console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
            console.log(<span style="color: #008b8b;">this</span>.name);
            console.log(<span style="color: #8b2252;">'++++'</span>);
        }
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">fn</span> = school.getName(); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#23450;&#20041;&#26102; this &#25351;&#21521;&#30340;&#26159;&#23450;&#20041;&#26102;&#30340;&#20316;&#29992;&#22495;</span>
fn();
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">~~~~
{ name: <span style="color: #8b2252;">'js'</span>, getName: [Function: getName] }
js
~~~~
++++
&lt;ref *1&gt; Object [global] {
  global: [Circular *1],
  clearImmediate: [Function: clearImmediate],
  setImmediate: [Function: setImmediate] {
    [Symbol(nodejs.util.promisify.custom)]: [Getter]
  },
  clearInterval: [Function: clearInterval],
  clearTimeout: [Function: clearTimeout],
  setInterval: [Function: setInterval],
  setTimeout: [Function: setTimeout] {
    [Symbol(nodejs.util.promisify.custom)]: [Getter]
  },
  queueMicrotask: [Function: queueMicrotask],
  structuredClone: [Getter/Setter],
  atob: [Getter/Setter],
  btoa: [Getter/Setter],
  performance: [Getter/Setter],
  fetch: [Function: fetch],
  navigator: [Getter],
  crypto: [Getter]
}
<span style="color: #483d8b;">true</span>
undefined
++++
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Point</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>) {
    <span style="color: #008b8b;">this</span>.x = x;
    <span style="color: #008b8b;">this</span>.y = y;
    console.log(<span style="color: #8b2252;">'P ++++'</span>);
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p3</span> = Point(1, 2);  <span style="color: #b22222;">//</span><span style="color: #b22222;">&#27809;&#26377;new&#65292;&#23601;&#26159;&#26222;&#36890;&#20989;&#25968;&#35843;&#29992;&#65292;this&#25351;&#21521;&#30340;&#26159;&#20840;&#23616;&#23545;&#35937;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(p3.x); // &#24322;&#24120;&#25253;&#38169; TypeError: Cannot read properties of undefined (reading 'x')</span>
console.log(p3); <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined &#27809;&#26377;&#36820;&#22238;&#20540;&#65292;&#25152;&#20197;&#26159;undefined</span>
console.log(globalThis.x); <span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
console.log(globalThis.y); <span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
</pre>
</div>

<p>
这就是函数调用的时候，调用方式不同，this对应的对象不同，它已经不是C++、Java的指向实例本身了
</p>

<p>
this的问题，这是历史遗留问题，新版只能保留且兼容了
而我们在使用时，有时候需要明确的让this必须是我们期望的对象，如何解决这个问题呢？
</p>
</div>
<ul class="org-ul">
<li><a id="h:9f3e91be-8181-4b5f-9073-ce12906739b6"></a>1、显式传入<br>
<div class="outline-text-6" id="text-h:9f3e91be-8181-4b5f-9073-ce12906739b6">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">school</span> = {
    name: <span style="color: #8b2252;">'js'</span>,
    <span style="color: #0000ff;">getName</span>: <span style="color: #a020f0;">function</span>() {
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        console.log(<span style="color: #008b8b;">this</span>);
        console.log(<span style="color: #008b8b;">this</span>.name);
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">that</span>) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
            console.log(<span style="color: #8b2252;">'++++'</span>);
            <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(globalThis); // nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
            console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
            console.log(that.name);
            console.log(<span style="color: #8b2252;">'++++'</span>);
        }
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">fn</span> = school.getName(); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#23450;&#20041;&#26102; this &#25351;&#21521;&#30340;&#26159;&#23450;&#20041;&#26102;&#30340;&#20316;&#29992;&#22495;</span>
fn(school);

<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">~~~~</span>
<span style="color: #b22222;">{ name: 'js', getName: [Function: getName] }</span>
<span style="color: #b22222;">js</span>
<span style="color: #b22222;">~~~~</span>
<span style="color: #b22222;">++++</span>
<span style="color: #b22222;">true</span>
<span style="color: #b22222;">js</span>
<span style="color: #b22222;">++++</span>
<span style="color: #b22222;"> */</span>
</pre>
</div>

<p>
通过主动传入对象，这样就避开了this的问题。
</p>

<p>
严格模式，函数中this是undefined。新版本中建议使用globalThis来统一全局变量。
</p>
</div>
</li>
<li><a id="h:d1adc640-27cd-4155-8334-2a244137fd27"></a>2、ES3（ES-262第三版）引入了apply、call方法<br>
<div class="outline-text-6" id="text-h:d1adc640-27cd-4155-8334-2a244137fd27">
<ul class="org-ul">
<li>apply、call方法都是函数对象的方法，第一参数都是传入对象引入的</li>
<li>apply传其他参数需要使用数组</li>
<li>call传其他参数需要使用可变参数收集</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">school</span> = {
    name: <span style="color: #8b2252;">'js'</span>,
    <span style="color: #0000ff;">getName</span>: <span style="color: #a020f0;">function</span>() {
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        console.log(<span style="color: #008b8b;">this</span>);
        console.log(<span style="color: #008b8b;">this</span>.name);
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">t1</span>, <span style="color: #a0522d;">t2</span>) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
            console.log(<span style="color: #8b2252;">'++++'</span>);
            <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(globalThis); // nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
            console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
            console.log(<span style="color: #008b8b;">this</span>.name);
            console.log(t1, t2);
            console.log(<span style="color: #8b2252;">'++++'</span>);
        }
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">1 that</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let fn = school.getName(); </span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn(school);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">2 ES6 call apply &#20989;&#25968;&#23545;&#35937;&#25317;&#26377;&#30340;2&#20010;&#26041;&#27861;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">fn</span> = school.getName();
fn.call(school, 101, 102); <span style="color: #b22222;">// </span><span style="color: #b22222;">call&#26041;&#27861;&#20462;&#25913;&#24403;&#21069;&#23545;&#35937;this&#25351;&#38024;&#65292;&#21518;&#38754;&#21442;&#25968;&#26159;&#21097;&#20313;&#21464;&#37327;</span>
fn.apply(school, [200, 205]); <span style="color: #b22222;">// </span><span style="color: #b22222;">apply&#20462;&#25913;this&#65292;&#21518;&#38754;&#21442;&#25968;&#19981;&#26159;&#21097;&#20313;&#21464;&#37327;&#65292;&#25226;&#25152;&#26377;&#23454;&#21442;&#25918;&#21040;&#25968;&#32452;&#20013;&#20256;&#20837;</span>
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">~~~~
{ name: <span style="color: #8b2252;">'js'</span>, getName: [Function: getName] }
js
~~~~
++++
<span style="color: #483d8b;">false</span>
js
101 102
++++
++++
<span style="color: #483d8b;">false</span>
js
200 205
++++
</pre>
</div>

<p>
call的理解
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Point</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>) {
    <span style="color: #008b8b;">this</span>.x = x;
    <span style="color: #008b8b;">this</span>.y = y;
    console.log(<span style="color: #8b2252;">'P ++++'</span>);
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">t1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Object</span>();
console.log(t1); <span style="color: #b22222;">// </span><span style="color: #b22222;">{}</span>

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">t2</span> = Point.call(t1, 7, 8);
console.log(t1); <span style="color: #b22222;">// </span><span style="color: #b22222;">{ x: 7, y: 8 } t1&#23545;&#35937;&#30340;&#23646;&#24615;&#34987;&#25913;&#21464;&#20102;</span>
console.log(t2); <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined &#35843;&#29992;&#30340;&#36820;&#22238;&#20540;&#26159;undefined</span>
</pre>
</div>
</div>
</li>
<li><a id="h:213a3e81-7014-468a-8deb-6ff5e35f097a"></a>3、ES5 引入了bind方法<br>
<div class="outline-text-6" id="text-h:213a3e81-7014-468a-8deb-6ff5e35f097a">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">this &#30340;&#22353;</span>

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">school</span> = {
    name: <span style="color: #8b2252;">'js'</span>,
    <span style="color: #0000ff;">getName</span>: <span style="color: #a020f0;">function</span>() {
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        console.log(<span style="color: #008b8b;">this</span>);
        console.log(<span style="color: #008b8b;">this</span>.name);
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">t1</span>, <span style="color: #a0522d;">t2</span>) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
            console.log(<span style="color: #8b2252;">'++++'</span>);
            <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(globalThis); // nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
            console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">// </span><span style="color: #b22222;">true</span>
            console.log(<span style="color: #008b8b;">this</span>.name);
            console.log(t1, t2);
            console.log(<span style="color: #8b2252;">'++++'</span>);
        }
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">1 that</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let fn = school.getName(); </span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn(school);</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">2 ES6 call apply &#20989;&#25968;&#23545;&#35937;&#25317;&#26377;&#30340;2&#20010;&#26041;&#27861;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let fn = school.getName();</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn.call(school, 101, 102); // call&#26041;&#27861;&#20462;&#25913;&#24403;&#21069;&#23545;&#35937;this&#25351;&#38024;&#65292;&#21518;&#38754;&#21442;&#25968;&#26159;&#21097;&#20313;&#21464;&#37327;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn.apply(school, [200, 205]); // apply&#20462;&#25913;this&#65292;&#21518;&#38754;&#21442;&#25968;&#19981;&#26159;&#21097;&#20313;&#21464;&#37327;&#65292;&#25226;&#25152;&#26377;&#23454;&#21442;&#25918;&#21040;&#25968;&#32452;&#20013;&#20256;&#20837;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">3 ES5 bind &#25512;&#33616;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">fn</span> = school.getName();
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">newfunc</span> = fn.bind(school); <span style="color: #b22222;">// </span><span style="color: #b22222;">Function.bind(this: Function, thisArg: any, ...argArray: any[]):</span>
console.log(newfunc); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#65292;bound &#32465;&#23450;&#12290;&#31867;&#20284;python&#20013;partial&#32465;&#23450;&#21442;&#25968;&#65292;&#36820;&#22238;&#26032;&#20989;&#25968;</span>
newfunc(300, 305);
newfunc(400, 405);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">~~~~
{ name: <span style="color: #8b2252;">'js'</span>, getName: [Function: getName] }
js
~~~~
[Function: bound ]
++++
<span style="color: #483d8b;">false</span>
js
300 305
++++
++++
<span style="color: #483d8b;">false</span>
js
400 405
++++
</pre>
</div>

<p>
apply、call方法，参数不同，调用时传入this
bind方法是为函数先绑定this，调用时直接用
</p>
</div>
</li>
<li><a id="h:8c1c1df7-7dbc-4fe6-9b23-cb69d66f6d1c"></a>4、ES6引入支持this的箭头函数<br>
<div class="outline-text-6" id="text-h:8c1c1df7-7dbc-4fe6-9b23-cb69d66f6d1c">
<p>
ES6 新技术，就不需要兼容this问题
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">this &#30340;&#22353;</span>

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">school</span> = {
    name: <span style="color: #8b2252;">'js'</span>,
    <span style="color: #0000ff;">getName</span>: <span style="color: #a020f0;">function</span>() { 
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        console.log(<span style="color: #008b8b;">this</span>);
        console.log(<span style="color: #008b8b;">this</span>.name);
        console.log(<span style="color: #8b2252;">'~~~~'</span>);
        <span style="color: #a020f0;">return</span> (t1, t2) =&gt; { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
            console.log(<span style="color: #8b2252;">'++++'</span>);
            <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(globalThis); // nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
            console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">//</span><span style="color: #b22222;">false</span>
            console.log(<span style="color: #008b8b;">this</span>.name);
            console.log(t1, t2);
            console.log(<span style="color: #8b2252;">'++++'</span>);
        }
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">1 that</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let fn = school.getName(); </span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn(school);</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">2 ES6 call apply &#20989;&#25968;&#23545;&#35937;&#25317;&#26377;&#30340;2&#20010;&#26041;&#27861;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let fn = school.getName();</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn.call(school, 101, 102); // call&#26041;&#27861;&#20462;&#25913;&#24403;&#21069;&#23545;&#35937;this&#25351;&#38024;&#65292;&#21518;&#38754;&#21442;&#25968;&#26159;&#21097;&#20313;&#21464;&#37327;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">fn.apply(school, [200, 205]); // apply&#20462;&#25913;this&#65292;&#21518;&#38754;&#21442;&#25968;&#19981;&#26159;&#21097;&#20313;&#21464;&#37327;&#65292;&#25226;&#25152;&#26377;&#23454;&#21442;&#25918;&#21040;&#25968;&#32452;&#20013;&#20256;&#20837;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">3 ES5 bind &#25512;&#33616;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let fn = school.getName();</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let newfunc = fn.bind(school); // Function.bind(this: Function, thisArg: any, ...argArray: any[]):</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(newfunc); // &#20989;&#25968;&#65292;bound &#32465;&#23450;&#12290;&#31867;&#20284;python&#20013;partial&#32465;&#23450;&#21442;&#25968;&#65292;&#36820;&#22238;&#26032;&#20989;&#25968;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">newfunc(300, 305);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">newfunc(400, 405);</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">4 ES6 &#31661;&#22836;&#20989;&#25968;. &#26032;&#35821;&#27861;&#21644;&#32769;&#35821;&#27861;&#22312;this&#19978;&#22788;&#29702;&#19981;&#21516;</span>
school.getName()(500, 505);
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">~~~~
{ name: <span style="color: #8b2252;">'js'</span>, getName: [Function: getName] }
js
~~~~
++++
<span style="color: #483d8b;">false</span>
js
500 505
++++
</pre>
</div>

<p>
以上解决this问题的方法，bind方法最常用
</p>
</div>
</li>
<li><a id="h:4bcc44fa-756b-404d-ac78-00df5e852d82"></a>5、使用类<br>
<div class="outline-text-6" id="text-h:4bcc44fa-756b-404d-ac78-00df5e852d82">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">this &#30340;&#22353;</span>
<span style="color: #a020f0;">class</span> School {
   constructor() {
        <span style="color: #008b8b;">this</span>.name = <span style="color: #8b2252;">'js'</span>;
   } 
   getName() {
    console.log(<span style="color: #8b2252;">'~~~~'</span>);
    console.log(<span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>.name);
    console.log(<span style="color: #8b2252;">'~~~~'</span>);
    <span style="color: #a020f0;">return</span> () =&gt; { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
        console.log(<span style="color: #8b2252;">'++++'</span>);
        console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">//</span><span style="color: #b22222;">nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
        console.log(<span style="color: #008b8b;">this</span>.name);
        console.log(<span style="color: #8b2252;">'++++'</span>);
    }
   }
}

<span style="color: #a020f0;">new</span> <span style="color: #228b22;">School</span>().getName()();


<span style="color: #a020f0;">class</span> School2 {
    constructor() {
         <span style="color: #008b8b;">this</span>.name = <span style="color: #8b2252;">'js'</span>;
    } 
    getName() {
     console.log(<span style="color: #8b2252;">'~~~~'</span>);
     console.log(<span style="color: #008b8b;">this</span>);
     console.log(<span style="color: #008b8b;">this</span>.name);
     console.log(<span style="color: #8b2252;">'~~~~'</span>);
     <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">function</span>() { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20989;&#25968;&#22312;&#20869;&#37096;&#20351;&#29992;this&#30340;&#35805;&#65292;&#24448;&#24448;&#23601;&#26159;global&#23545;&#35937;</span>
         console.log(<span style="color: #8b2252;">'++++'</span>);
         console.log(<span style="color: #008b8b;">this</span> === globalThis); <span style="color: #b22222;">//</span><span style="color: #b22222;">nodejs &#20013;&#21483;golabal; &#27983;&#35272;&#22120;&#20013; window; ES6 globalThis</span>
         console.log(<span style="color: #008b8b;">this</span>.name);
         console.log(<span style="color: #8b2252;">'++++'</span>);
     }
    }
 }

<span style="color: #b22222;">// </span><span style="color: #b22222;">new School2().getName()();// &#25253;&#38169; TypeError: Cannot read properties of undefined (reading 'name')</span>
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">school</span> = {name: <span style="color: #8b2252;">'aaaa'</span>};
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">School2</span>().getName().bind(school)();
</pre>
</div>

<p>
执行结果
</p>
<div class="org-src-container">
<pre class="src src-sh">~~~~
School { name: <span style="color: #8b2252;">'js'</span> }
js
~~~~
++++
<span style="color: #483d8b;">false</span>
js
++++
~~~~
School2 { name: <span style="color: #8b2252;">'js'</span> }
js
~~~~
++++
<span style="color: #483d8b;">false</span>
aaaa
++++
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</section>
<section id="outline-container-h:976bc71b-5cba-4501-83b6-f2afc7f23502" class="outline-2">
<h2 id="h:976bc71b-5cba-4501-83b6-f2afc7f23502">HTML</h2>
<div class="outline-text-2" id="text-h:976bc71b-5cba-4501-83b6-f2afc7f23502">
<p>
<a href="HTML.html">HTML</a>
</p>
</div>
</section>
<section id="outline-container-h:55ca5d94-8182-42f1-99c7-3911c6b2e9a0" class="outline-2">
<h2 id="h:55ca5d94-8182-42f1-99c7-3911c6b2e9a0">CSS</h2>
<div class="outline-text-2" id="text-h:55ca5d94-8182-42f1-99c7-3911c6b2e9a0">
<p>
<a href="CSS.html">CSS</a>
</p>
</div>
</section>
<section id="outline-container-h:d629072f-b540-4b6a-8f8c-d0a79207da00" class="outline-2">
<h2 id="h:d629072f-b540-4b6a-8f8c-d0a79207da00">JS2</h2>
<div class="outline-text-2" id="text-h:d629072f-b540-4b6a-8f8c-d0a79207da00">
</div>
<div id="outline-container-h:1d1c6d0f-f4ea-4776-aa42-e4f3964015d2" class="outline-3">
<h3 id="h:1d1c6d0f-f4ea-4776-aa42-e4f3964015d2">JS-解构及数组对象操作</h3>
<div class="outline-text-3" id="text-h:1d1c6d0f-f4ea-4776-aa42-e4f3964015d2">
<p>
JS的解构很灵活，参考
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator</a>
</p>
</div>
<div id="outline-container-h:ee0d183b-5006-4f7e-a5cc-eeeccb73a2d8" class="outline-4">
<h4 id="h:ee0d183b-5006-4f7e-a5cc-eeeccb73a2d8">列表解构</h4>
<div class="outline-text-4" id="text-h:ee0d183b-5006-4f7e-a5cc-eeeccb73a2d8">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">parts</span> = [<span style="color: #8b2252;">'shoulder'</span>, <span style="color: #8b2252;">'knees'</span>];
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">lyrics</span> = [<span style="color: #8b2252;">'head'</span>, ...parts, <span style="color: #8b2252;">'and'</span>, <span style="color: #8b2252;">'toes'</span>]; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20351;&#29992;...&#35299;&#26500;</span>
console.log(lyrics) <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 'head', 'shoulder', 'knees', 'and', 'toes' ]</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:961ed842-3ea3-4f7d-b7f8-81260f278192" class="outline-4">
<h4 id="h:961ed842-3ea3-4f7d-b7f8-81260f278192">参数解构</h4>
<div class="outline-text-4" id="text-h:961ed842-3ea3-4f7d-b7f8-81260f278192">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">arr</span> = [1, 2]
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">arr1</span> = [...arr]
<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">f</span>(<span style="color: #a0522d;">x</span>, <span style="color: #a0522d;">y</span>, <span style="color: #a0522d;">z</span>) {
    console.log(x + y + z)
}
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">args</span> = [2, 3, 4];

f(...arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">NaN</span>
f(...args); <span style="color: #b22222;">// </span><span style="color: #b22222;">9</span>
f(...[<span style="color: #8b2252;">'a'</span>, <span style="color: #8b2252;">'b'</span>]); <span style="color: #b22222;">// </span><span style="color: #b22222;">abundefined</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ea4149e0-1e4b-4f1c-9630-0db381cd4b0a" class="outline-4">
<h4 id="h:ea4149e0-1e4b-4f1c-9630-0db381cd4b0a">数组解构</h4>
<div class="outline-text-4" id="text-h:ea4149e0-1e4b-4f1c-9630-0db381cd4b0a">
<p>
JS的数组解构非常强大
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">arr</span> = [10,20,30];
<span style="color: #b22222;">// </span><span style="color: #b22222;">let a,b,c = arr; //&#36887;&#21495;&#34920;&#36798;&#24335;&#20248;&#21270;&#32423;&#26368;&#20302;&#12290; c&#34987;&#36171;&#20540;&#20026;&#25968;&#32452;</span>
<span style="color: #a020f0;">let</span> [<span style="color: #a0522d;">x</span>,<span style="color: #a0522d;">y</span>,<span style="color: #a0522d;">z</span>] = arr;
console.log(x, y, z); <span style="color: #b22222;">//</span><span style="color: #b22222;">10 20 30</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20002;&#24323;&#21464;&#37327;</span>
<span style="color: #a020f0;">const</span> [,<span style="color: #a0522d;">b</span>,] = arr;
console.log(2,b); <span style="color: #b22222;">//</span><span style="color: #b22222;">2 20</span>
<span style="color: #b22222;">//</span><span style="color: #b22222;">b = 5 // &#24322;&#24120;&#65292;b&#22768;&#26126;&#20026;const</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23569;&#20110;&#25968;&#32452;&#20803;&#32032;</span>
<span style="color: #a020f0;">const</span> [<span style="color: #a0522d;">d</span>,<span style="color: #a0522d;">e</span>] = arr;
console.log(3,d,e); <span style="color: #b22222;">//</span><span style="color: #b22222;">3 10 20</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#22810;&#20110;&#25968;&#32452;&#20803;&#32032;</span>
<span style="color: #a020f0;">const</span> [<span style="color: #a0522d;">m</span>,<span style="color: #a0522d;">n</span>,<span style="color: #a0522d;">o</span>,<span style="color: #a0522d;">p</span>] = arr
console.log(4,m,n,o,p); <span style="color: #b22222;">//</span><span style="color: #b22222;">4 10 20 30 undefined</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#21464;&#21464;&#37327;</span>
<span style="color: #a020f0;">const</span> [f,...args] = arr
console.log(5,f); <span style="color: #b22222;">//</span><span style="color: #b22222;">5 10</span>
console.log(5,args); <span style="color: #b22222;">//</span><span style="color: #b22222;">5 [20,30]</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25903;&#25345;&#40664;&#35748;&#20540;</span>
<span style="color: #a020f0;">const</span> [j=1,k,,,l=10] = arr
console.log(j,k,l); <span style="color: #b22222;">//</span><span style="color: #b22222;">10 20 10</span>
</pre>
</div>

<p>
解构的时候，变量从左到右和元素对齐，可变参数放到最右边。
</p>

<p>
能对应到数据就返回数据，对应不到数据的返回默认值，如果没有默认值返回undefined
</p>
</div>
</div>
<div id="outline-container-h:ed4f3766-d8a2-4aae-b2dd-1ebbc376fbc5" class="outline-4">
<h4 id="h:ed4f3766-d8a2-4aae-b2dd-1ebbc376fbc5">对象解构</h4>
<div class="outline-text-4" id="text-h:ed4f3766-d8a2-4aae-b2dd-1ebbc376fbc5">
<p>
简单对象解构，非常有用
</p>

<div class="org-src-container">
<pre class="src src-js">
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">obj</span> = {
    a:100,
    b:200,
    c:300,
    e: [1,2,3]
}

<span style="color: #a020f0;">let</span> {x, y, z} = obj;
console.log(x,y,z); <span style="color: #b22222;">//</span><span style="color: #b22222;">undefined undefined undefined &#23427;&#30340;key&#23545;&#24212;&#19981;&#19978;&#65292;&#25152;&#20197;&#26159;undefined</span>

<span style="color: #a020f0;">const</span> {a, b, c} = obj;
console.log(a,b,c); <span style="color: #b22222;">//</span><span style="color: #b22222;">100 200 300 &#23427;&#30340;key&#23545;&#24212;&#19978;&#20102;&#65292;&#25152;&#20197;&#26159;100 200 300</span>

<span style="color: #a020f0;">var</span> {a: <span style="color: #a0522d;">m</span>, b: <span style="color: #a0522d;">n</span>, c:<span style="color: #a0522d;">cc</span>} = obj; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21305;&#37197;obj&#20013;&#30340;key&#20570;&#21035;&#21517;&#12290;&#37325;&#21629;&#21517;</span>
console.log(m, n, cc); <span style="color: #b22222;">// </span><span style="color: #b22222;">100 200 300</span>

<span style="color: #a020f0;">var</span> {a: M, c: N, d: D = <span style="color: #8b2252;">'python'</span>} = obj; <span style="color: #b22222;">//</span><span style="color: #b22222;">obj&#20013;&#27809;&#26377;d&#65292; &#32473;d&#20570;&#21035;&#21517;&#24182;&#32570;&#30465;&#20540;</span>
console.log(M, N, D); <span style="color: #b22222;">// </span><span style="color: #b22222;">100 300 'python'</span>

<span style="color: #a020f0;">const</span> {e:[,<span style="color: #a0522d;">f</span>]} = obj;
console.log(f); <span style="color: #b22222;">//</span><span style="color: #b22222;">2 &#25968;&#32452;&#35299;&#26500;&#36171;&#20540;</span>
</pre>
</div>

<p>
解构时，需要提供对象的属性名，会根据属性名找到对应的值。没有找到的返回缺省值，没有缺省值则返回undefined
</p>
</div>
</div>
<div id="outline-container-h:ca830c5d-a4e1-4ac6-832c-bcdb64777c4b" class="outline-4">
<h4 id="h:ca830c5d-a4e1-4ac6-832c-bcdb64777c4b">复杂解构</h4>
<div class="outline-text-4" id="text-h:ca830c5d-a4e1-4ac6-832c-bcdb64777c4b">
</div>
<div id="outline-container-h:5552601b-afbc-4af0-88b3-eb5b42cff2d2" class="outline-5">
<h5 id="h:5552601b-afbc-4af0-88b3-eb5b42cff2d2">嵌套数组</h5>
<div class="outline-text-5" id="text-h:5552601b-afbc-4af0-88b3-eb5b42cff2d2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">arr</span> = [1, [2, 3], 4];
<span style="color: #a020f0;">const</span> [<span style="color: #a0522d;">a</span>, [<span style="color: #a0522d;">b</span>, <span style="color: #a0522d;">c</span>], <span style="color: #a0522d;">d</span>] = arr;  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#19968;&#19968;&#23545;&#24212;</span>
console.log(a, b, c, d); <span style="color: #b22222;">//</span><span style="color: #b22222;">1 2 3 4</span>

<span style="color: #a020f0;">const</span> [<span style="color: #a0522d;">e</span>, <span style="color: #a0522d;">f</span>] = arr;
console.log(e, f); <span style="color: #b22222;">//</span><span style="color: #b22222;">1 [ 2, 3 ]</span>

<span style="color: #a020f0;">const</span> [g, h, i, j = 18] = arr;
console.log(g, h, i, j); <span style="color: #b22222;">//</span><span style="color: #b22222;">1 [ 2, 3 ] 4 18</span>

<span style="color: #a020f0;">const</span> [k, ...l] = arr;  <span style="color: #b22222;">//</span><span style="color: #b22222;">&#21097;&#20313;&#24517;&#38656;&#22312;&#26368;&#21518;</span>
console.log(k, l); <span style="color: #b22222;">//</span><span style="color: #b22222;">1 [ [ 2, 3 ], 4 ]</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d6d9cc62-0f0e-40c3-ba64-0c97c1da59ef" class="outline-5">
<h5 id="h:d6d9cc62-0f0e-40c3-ba64-0c97c1da59ef">对象</h5>
<div class="outline-text-5" id="text-h:d6d9cc62-0f0e-40c3-ba64-0c97c1da59ef">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">data</span> = {
    a: 100,
    b: [
        {
            c: 200,
            d: [],
            a: 300
        },
        {
            c: 1200,
            d: [1],
            a: 1300
        },
    ],
    c: 500
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25552;&#21462;3&#20010;a&#20986;&#26469;</span>
<span style="color: #a020f0;">var</span> { a: <span style="color: #a0522d;">m</span>, b: [{ a: <span style="color: #a0522d;">n</span> }, { a: <span style="color: #a0522d;">n1</span> }] } = data;
console.log(m, n, n1) <span style="color: #b22222;">//  </span><span style="color: #b22222;">100 300 1300</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:0a79e473-7b55-4a5e-b8d3-0558ab3cdd2c" class="outline-4">
<h4 id="h:0a79e473-7b55-4a5e-b8d3-0558ab3cdd2c">数组的操作</h4>
<div class="outline-text-4" id="text-h:0a79e473-7b55-4a5e-b8d3-0558ab3cdd2c">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">方法</td>
<td class="org-left">描述</td>
</tr>

<tr>
<td class="org-left">push(…items)</td>
<td class="org-left">尾部增加多个元素</td>
</tr>

<tr>
<td class="org-left">pop()</td>
<td class="org-left">移除最后一个元素，并返回它</td>
</tr>

<tr>
<td class="org-left">map</td>
<td class="org-left">引入处理函数来处理数组中每一个元素，返回新的数组</td>
</tr>

<tr>
<td class="org-left">filter</td>
<td class="org-left">引入处理函数处理数组中每一个元素，此处理函数返回true的元素保留，</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">否则该元素被过滤掉，保留的元素构成新的数组返回</td>
</tr>

<tr>
<td class="org-left">foreach</td>
<td class="org-left">迭代所有元素，无返回值</td>
</tr>
</tbody>
</table>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">arr</span> = [1, 2, 3, 4, 5];
<span style="color: #b22222;">// </span><span style="color: #b22222;">map filter &#36941;&#21382; push //c for index // for in index // for of value</span>
arr.push(6, 7);
console.log(arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 1, 2, 3, 4, 5, 6, 7 ]</span>
arr.pop()  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21024;&#38500;&#26368;&#21518;&#19968;&#20010;&#20803;&#32032; -1 pop</span>
console.log(arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 1, 2, 3, 4, 5, 6 ]</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">map</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">powerArr</span> = arr.map(x =&gt; x * x); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#19968;&#20010;&#26032;&#25968;&#32452;&#65292;&#21407;&#25968;&#32452;&#19981;&#21464;</span>
console.log(powerArr); <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 1, 4, 9, 16, 25, 36 ]</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">filter &#21482;&#20570;&#21028;&#26029;</span>
console.log(arr.filter(x =&gt; x % 2 == 0)) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26032;&#25968;&#32452; [ 2, 4, 6 ]</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">forEach</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">newarr</span> = arr.forEach(x =&gt; x + 10); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26080;&#36820;&#22238;&#20540;</span>
console.log(newarr, arr); <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined [ 1, 2, 3, 4, 5, 6 ]</span>

narr = []
arr.forEach(x =&gt; narr.push(x + 10)); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#21487;&#20197;&#23558;&#25968;&#25454;push&#21040;&#26032;&#25968;&#32452;narr&#20013; </span>
console.log(narr); <span style="color: #b22222;">// </span><span style="color: #b22222;">[ 11, 12, 13, 14, 15, 16 ]</span>

<span style="color: #b22222;">//</span><span style="color: #b22222;">forEcho((value, index, arr) =&gt; {})</span>
<span style="color: #b22222;">//</span><span style="color: #b22222;">forEach&#29992;&#32034;&#24341;, &#31532;&#19968;&#20010;&#21442;&#25968;&#26159;&#20540; &#31532;&#20108;&#20010;&#21442;&#25968;&#26159;&#32034;&#24341;</span>
arr.forEach((value, index, t) =&gt; {
    console.log(value, index, t); <span style="color: #b22222;">// </span><span style="color: #b22222;">1 0 [ 1, 2, 3, 4, 5, 6 ] 2 1 [ 1, 2, 3, 4, 5, 6 ] ...</span>
    narr[index] = arr[index] + 10;
})
console.log(narr); <span style="color: #b22222;">//</span><span style="color: #b22222;">[ 11, 12, 13, 14, 15, 16 ]</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:ec320fdc-27cd-446d-938c-a89cd716daf7" class="outline-4">
<h4 id="h:ec320fdc-27cd-446d-938c-a89cd716daf7">数组练习</h4>
<div class="outline-text-4" id="text-h:ec320fdc-27cd-446d-938c-a89cd716daf7">
<p>
有一个数组 const arr = [1, 2, 3, 4, 5]; ，要求算出所有元素平方值，且输出平方值是偶数且大于10的平方值
</p>

<p>
效率偏差
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">arr</span> = [1, 2, 3, 4, 5]
console.log(arr.map(x =&gt; x * x).filter(x =&gt; x % 2 === 0).filter(x =&gt; x &gt; 10));
</pre>
</div>

<p>
应该先过滤,再求值比较好
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">arr</span> = [1, 2, 3, 4, 5]
<span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
console.log(arr.filter(x =&gt; x % 2 === 0).map(x =&gt; x * x).filter(x =&gt; x &gt; 10)); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20808;&#36807;&#28388;&#20943;&#23569;&#36845;&#20195;&#27425;&#25968;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
s = Math.sqrt(10) <span style="color: #b22222;">// </span><span style="color: #b22222;">10&#24320;&#26041;&#31639;&#19968;&#27425;</span>
console.log(arr.filter(x =&gt; x &gt; s &amp;&amp; !(x % 2)).map(x =&gt; x * x))
console.log(arr.filter(x =&gt; x &gt; s &amp;&amp; !(x &amp; 1)).map(x =&gt; x * x))

<span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">newarr</span> = []
arr.forEach(x =&gt; {
    <span style="color: #a020f0;">if</span> (x &gt; s &amp;&amp; !(x &amp; 1)) newarr.push(x * x);
})
console.log(newarr);
</pre>
</div>
</div>
</div>
<div id="outline-container-h:5ffc57a1-3fbf-486b-a04f-62d619c8c455" class="outline-4">
<h4 id="h:5ffc57a1-3fbf-486b-a04f-62d619c8c455">对象的操作</h4>
<div class="outline-text-4" id="text-h:5ffc57a1-3fbf-486b-a04f-62d619c8c455">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<tbody>
<tr>
<td class="org-left">Object的静态方法</td>
<td class="org-left">描述</td>
</tr>

<tr>
<td class="org-left">Object.keys(obj)</td>
<td class="org-left">ES5开始支持。返回所有key</td>
</tr>

<tr>
<td class="org-left">Object.values(obj)</td>
<td class="org-left">返回所有值，试验阶段，支持较差</td>
</tr>

<tr>
<td class="org-left">Object.entries(obj)</td>
<td class="org-left">返回所有值，试验阶段，支持较差</td>
</tr>

<tr>
<td class="org-left">Object.assign(target, …sources)</td>
<td class="org-left">使用多个source对象，来填充target对象，返回target对象</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">obj</span> = {
    a: 100,
    b: 200,
    c: 300
};

console.log(Object.keys(obj)); <span style="color: #b22222;">// </span><span style="color: #b22222;">key&#65292;ES5</span>
console.log(Object.values(obj)); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20540;&#65292;&#23454;&#39564;&#24615;</span>
console.log(Object.entries(obj)); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#38190;&#20540;&#23545;&#65292;&#23454;&#39564;&#24615;</span>
</pre>
</div>

<p>
assign
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">o1</span> = Object.assign({}, obj);
<span style="color: #b22222;">//</span><span style="color: #b22222;">&#26159;&#19981;&#26159;&#21516;&#19968;&#23545;&#35937;</span>
console.log(o1 === obj); <span style="color: #b22222;">//</span><span style="color: #b22222;">false</span>
console.log(o1); <span style="color: #b22222;">//</span><span style="color: #b22222;">{ a: 100, b: 200, c: [ 1, 2, 3 ] }</span>
console.log(obj); <span style="color: #b22222;">//</span><span style="color: #b22222;">{ a: 100, b: 200, c: [ 1, 2, 3 ] }</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">o2</span> = Object.assign({}, obj, {a:1000,b:<span style="color: #8b2252;">'abc'</span>}, {d:[100,200,300]}<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#26032;&#22686;</span><span style="color: #b22222;">*/</span>);
console.log(o2) <span style="color: #b22222;">//</span><span style="color: #b22222;">{ a: 1000, b: 'abc', c: [ 1, 2, 3 ], d: [ 100, 200, 300 ] } </span>
<span style="color: #b22222;">//</span><span style="color: #b22222;">&#36825;&#37324;&#26377;&#27973;&#25335;&#36125;&#21527;&#65311;&#26377;</span>
obj.c[1] = <span style="color: #8b2252;">'abc'</span>;
console.log(o1) <span style="color: #b22222;">// </span><span style="color: #b22222;">{ a: 100, b: 200, c: [ 1, 'abc', 3 ] }</span>
console.log(o2) <span style="color: #b22222;">// </span><span style="color: #b22222;">{ a: 1000, b: 'abc', c: [ 1, 'abc', 3 ], d: [ 100, 200, 300 ] }</span>
console.log(obj) <span style="color: #b22222;">//</span><span style="color: #b22222;">{ a: 100, b: 200, c: [ 1, 'abc', 3 ] }</span>
</pre>
</div>

<p>
包装一个对象
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">o3</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Object</span>(obj);  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21516;&#19968;&#23545;&#35937;</span>
console.log(obj === o3); <span style="color: #b22222;">//</span><span style="color: #b22222;">true</span>
console.log(obj == o3); <span style="color: #b22222;">//</span><span style="color: #b22222;">true</span>
obj.c[1] = 500;
console.log(o3.c); <span style="color: #b22222;">//</span><span style="color: #b22222;">[1,500,3]</span>
obj.a = 10000;
console.log(obj === o3); <span style="color: #b22222;">//</span><span style="color: #b22222;">true</span>
</pre>
</div>

<p>
浅拷贝是普通存在的。
</p>
</div>
</div>
</div>
<div id="outline-container-h:11081fa2-4d2f-4f71-82be-21c5f42e1858" class="outline-3">
<h3 id="h:11081fa2-4d2f-4f71-82be-21c5f42e1858">JS &#x2013; Promise对象</h3>
<div class="outline-text-3" id="text-h:11081fa2-4d2f-4f71-82be-21c5f42e1858">
<p>
文档：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide#promise">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide#promise</a>
</p>
</div>
<div id="outline-container-h:b0c1f114-16c3-4c1e-a1b9-b074f3c45249" class="outline-4">
<h4 id="h:b0c1f114-16c3-4c1e-a1b9-b074f3c45249">概念</h4>
<div class="outline-text-4" id="text-h:b0c1f114-16c3-4c1e-a1b9-b074f3c45249">
<p>
ES6开始支持。
</p>

<p>
Promise对象用于一个异步操作的最终完成（包括成功和失败）及结果值的表示。
</p>

<p>
简单说，就是处理异步请求的。
</p>

<p>
之所以叫做Promise，就是我承诺做这件事，如果成功则怎么处理，失败则怎么处理。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#35821;&#27861;</span>
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>(
    <span style="color: #b22222;">/* </span><span style="color: #b22222;">&#19979;&#38754;&#23450;&#20041;&#30340;&#20989;&#25968;&#26159;executor</span><span style="color: #b22222;"> */</span>
    <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">resolve</span>, <span style="color: #a0522d;">reject</span>) {...}
);
</pre>
</div>

<p>
范例：快速理解Promise
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>((resolve, reject) =&gt; { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#26377;&#25104;&#21151;&#30340;&#32467;&#26524;&#65292;&#22833;&#36133;&#26377;&#22833;&#36133;&#30340;&#29702;&#30001;</span>
  <span style="color: #8b2252;">/** &#21442;&#25968;&#35828;&#26126;</span>
<span style="color: #8b2252;">   * resolve, reject &#36825;&#26159;&#24418;&#21442;&#65292;&#20195;&#34920;&#26410;&#26469;&#26377;js&#24341;&#25806;&#25552;&#20379;&#27880;&#20837;2&#20010;&#23545;&#24212;&#30340;&#20989;&#25968;</span>
<span style="color: #8b2252;">   * resolve &#21333;&#21442;&#20989;&#25968;&#65307;reject &#21333;&#21442;&#20989;&#25968;</span>
<span style="color: #8b2252;">   * &#36825;&#20004;&#20010;&#20989;&#25968;&#20114;&#26021;&#65292;&#29992;&#20102;&#20854;&#20013;&#19968;&#20010;&#65292;&#21478;&#19968;&#20010;&#20877;&#29992;&#20063;&#27809;&#26377;&#20219;&#20309;&#29992;&#22788;</span>
<span style="color: #8b2252;">   * &#25191;&#34892;&#22120;&#26159;&#19968;&#20010;&#31243;&#24207;&#21592;&#20889;&#22909;&#30340;&#20989;&#25968;&#65292;&#20869;&#37096;&#20808;&#20132;&#32473;Promise&#20570;&#30340;&#20107;&#24773;&#65292;&#26368;&#21518;&#19968;&#23450;&#35201;&#36873;&#25321;resolve&#25110;&#32773;reject&#20013;&#30340;&#19968;&#20010;&#35843;&#29992;&#19968;&#19979;</span>
<span style="color: #8b2252;">   * &#35843;&#29992;&#26102;&#20182;&#20204;&#37117;&#26159;&#21333;&#21442;&#20989;&#25968;&#65292;resolve(value)&#35843;&#29992;&#36820;&#22238;fulfiled&#29366;&#24577;&#34920;&#31034;&#25104;&#21151;&#65307; reject(reason)&#35843;&#29992;&#36820;&#22238;rejected&#29366;&#24577;&#34920;&#31034;&#22833;&#36133;</span>
<span style="color: #8b2252;">   * &#22914;&#26524;executor&#25191;&#34892;&#26102;&#25243;&#20986;&#24322;&#24120;&#65292;promise&#36820;&#22238;rejected&#29366;&#24577;</span>
<span style="color: #8b2252;">   * &#21019;&#24314;Promise&#20250;&#31435;&#21363;&#25191;&#34892;executor</span>
<span style="color: #8b2252;">   */</span>
  console.log(<span style="color: #8b2252;">"executor &#25191;&#34892;&#20102;"</span>);
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#20010;&#22320;&#26041;&#26377;&#24456;&#22810;&#20195;&#30721;&#65292;&#22823;&#32422;&#38656;&#35201;n&#31186;&#26102;&#38388;</span>
  <span style="color: #b22222;">// </span><span style="color: #b22222;">try{}catch{}</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">resolve("&#25104;&#21151;&#20102;");</span>
    reject(<span style="color: #8b2252;">'&#20219;&#21153;&#22833;&#36133;&#20102;'</span>);
    <span style="color: #b22222;">// </span><span style="color: #b22222;">throw new Error('wrong wrong wrong');</span>
  console.log(<span style="color: #8b2252;">"executor bye~~~"</span>);
});

console.log(p1, <span style="color: #8b2252;">'++++++++++++++++'</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#20284;&#20110;python __str__ &#34920;&#36798;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">Promise { '&#25104;&#21151;&#20102;' } &#31561;&#20215;&#20110; Promise { &lt;fulfiled&gt; '&#25104;&#21151;&#20102;' }  &#23574;&#25324;&#21495;&#20013;&#26159;&#29366;&#24577;&#65292;fulfiled &#34920;&#31034;&#25104;&#21151;&#65292;rejected &#34920;&#31034;&#22833;&#36133;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">Promise { &lt;rejected&gt; '&#20219;&#21153;&#22833;&#36133;&#20102;' }</span>
</pre>
</div>
</div>
<div id="outline-container-h:8e40a602-3c7e-4ab6-9d4f-f050c032ce4a" class="outline-5">
<h5 id="h:8e40a602-3c7e-4ab6-9d4f-f050c032ce4a">executor</h5>
<div class="outline-text-5" id="text-h:8e40a602-3c7e-4ab6-9d4f-f050c032ce4a">
<ul class="org-ul">
<li>executor 是一个带有 resolve 和 reject 两个参数的函数。</li>
<li>executor 函数在Promise构造函数执行时立即执行，被传递resolve和reject函数（executor 函数在Promise构造函数返回新建对象前被调用）。</li>
<li>executor 内部通常会执行一些异步操作，一旦完成，可以调用resolve函数来将promise状态改成fulfilled即完成，或者在发生错误时将它的状态改为rejected即失败。</li>
<li>如果在executor函数中抛出一个错误，那么该promise 状态为rejected。executor函数的返回值被忽略。</li>
<li>executor中，resolve或reject只能执行其中一个函数</li>
</ul>
</div>
</div>
<div id="outline-container-h:5f46c6ed-1422-4c44-b9e4-d32cc87bd1a8" class="outline-5">
<h5 id="h:5f46c6ed-1422-4c44-b9e4-d32cc87bd1a8">Promise的状态</h5>
<div class="outline-text-5" id="text-h:5f46c6ed-1422-4c44-b9e4-d32cc87bd1a8">
<ul class="org-ul">
<li>pending: 初始状态，不是成功或失败状态</li>
<li>fulfilled: 意味着操作成功完成</li>
<li>rejected: 意味着操作失败</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">setInterval(<span style="color: #a020f0;">function</span>[, delay]); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#38388;&#38548;&#22810;&#23569;&#27627;&#31186;&#23601;&#25191;&#34892;&#20989;&#25968;&#19968;&#27425;&#65292;&#24490;&#29615;&#25191;&#34892;</span>
setTimeout(<span style="color: #a020f0;">function</span>[, delay]); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31561;&#24453;&#22810;&#23569;&#27627;&#31186;&#23601;&#25191;&#34892;&#20989;&#25968;&#19968;&#27425;&#65292;&#32467;&#26463;</span>
delay  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24310;&#26102;&#65292;&#32570;&#30465;0&#65292;&#31435;&#21363;&#25191;&#34892;</span>
<span style="color: #a020f0;">function</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24310;&#26102;&#21040;&#30340;&#26102;&#20505;&#25191;&#34892;&#30340;&#20989;&#25968;</span>
</pre>
</div>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js">setInterval(() =&gt; {
        console.log(<span style="color: #8b2252;">"+++++"</span>)
    }, 3000)
console.log(<span style="color: #8b2252;">"abc"</span>)
setInterval(() =&gt; {
    console.log(<span style="color: #8b2252;">"~~~~"</span>)
}, 3000)
console.log(<span style="color: #8b2252;">"xyz"</span>)

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;&#26377;&#24182;&#34892;&#25928;&#26524;</span>
<span style="color: #b22222;">abc</span>
<span style="color: #b22222;">xyz</span>
<span style="color: #b22222;">+++++</span>
<span style="color: #b22222;">~~~~</span>
<span style="color: #b22222;">+++++</span>
<span style="color: #b22222;">~~~~</span>
<span style="color: #b22222;">+++++</span>
<span style="color: #b22222;">~~~~</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>((resolve, reject) =&gt; { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#26377;&#25104;&#21151;&#30340;&#32467;&#26524;&#65292;&#22833;&#36133;&#26377;&#22833;&#36133;&#30340;&#29702;&#30001;</span>
    <span style="color: #8b2252;">/** &#21442;&#25968;&#35828;&#26126;</span>
<span style="color: #8b2252;">     * resolve, reject &#36825;&#26159;&#24418;&#21442;&#65292;&#20195;&#34920;&#26410;&#26469;&#26377;js&#24341;&#25806;&#25552;&#20379;&#27880;&#20837;2&#20010;&#23545;&#24212;&#30340;&#20989;&#25968;</span>
<span style="color: #8b2252;">     * resolve &#21333;&#21442;&#20989;&#25968;&#65307;reject &#21333;&#21442;&#20989;&#25968;</span>
<span style="color: #8b2252;">     * &#36825;&#20004;&#20010;&#20989;&#25968;&#20114;&#26021;&#65292;&#29992;&#20102;&#20854;&#20013;&#19968;&#20010;&#65292;&#21478;&#19968;&#20010;&#20877;&#29992;&#20063;&#27809;&#26377;&#20219;&#20309;&#29992;&#22788;</span>
<span style="color: #8b2252;">     * &#25191;&#34892;&#22120;&#26159;&#19968;&#20010;&#31243;&#24207;&#21592;&#20889;&#22909;&#30340;&#20989;&#25968;&#65292;&#20869;&#37096;&#20808;&#20132;&#32473;Promise&#20570;&#30340;&#20107;&#24773;&#65292;&#26368;&#21518;&#19968;&#23450;&#35201;&#36873;&#25321;resolve&#25110;&#32773;reject&#20013;&#30340;&#19968;&#20010;&#35843;&#29992;&#19968;&#19979;</span>
<span style="color: #8b2252;">     * &#35843;&#29992;&#26102;&#20182;&#20204;&#37117;&#26159;&#21333;&#21442;&#20989;&#25968;&#65292;resolve(value)&#35843;&#29992;&#36820;&#22238;fulfiled&#29366;&#24577;&#34920;&#31034;&#25104;&#21151;&#65307; reject(reason)&#35843;&#29992;&#36820;&#22238;rejected&#29366;&#24577;&#34920;&#31034;&#22833;&#36133;</span>
<span style="color: #8b2252;">     * &#22914;&#26524;executor&#25191;&#34892;&#26102;&#25243;&#20986;&#24322;&#24120;&#65292;promise&#36820;&#22238;rejected&#29366;&#24577;</span>
<span style="color: #8b2252;">     * &#21019;&#24314;Promise&#20250;&#31435;&#21363;&#25191;&#34892;executor</span>
<span style="color: #8b2252;">     */</span>
    console.log(<span style="color: #8b2252;">"executor &#25191;&#34892;&#20102;"</span>);
    setTimeout(() =&gt; {
        console.log(<span style="color: #8b2252;">'3s pass'</span>);
        resolve(<span style="color: #8b2252;">'sucess'</span>); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#20102;</span>
    }, 3000); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#19981;&#38459;&#22622;&#65292;&#31435;&#21363;&#36820;&#22238;</span>
    console.log(<span style="color: #8b2252;">"executor bye~~~"</span>);
  });

<span style="color: #b22222;">// </span><span style="color: #b22222;">Promise { '&#25104;&#21151;&#20102;' } &#31561;&#20215;&#20110; Promise { &lt;fulfiled&gt; '&#25104;&#21151;&#20102;' }  &#23574;&#25324;&#21495;&#20013;&#26159;&#29366;&#24577;&#65292;fulfiled &#34920;&#31034;&#25104;&#21151;&#65292;rejected &#34920;&#31034;&#22833;&#36133;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">Promise { &lt;rejected&gt; '&#20219;&#21153;&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">Promise { &lt;pending&gt; } &#20934;&#22791;&#30528;&#25253;&#21578;&#32467;&#26524;&#65292;&#27491;&#22312;&#25191;&#34892;&#20013;</span>
setInterval(() =&gt;{
    console.log(p1, <span style="color: #8b2252;">'++++'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
}, 1000) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#38548;1s &#25191;&#34892;&#19968;&#27425;</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;</span>
<span style="color: #b22222;">executor &#25191;&#34892;&#20102;</span>
<span style="color: #b22222;">executor bye~~~</span>
<span style="color: #b22222;">Promise { &lt;pending&gt; } ++++</span>
<span style="color: #b22222;">Promise { &lt;pending&gt; } ++++</span>
<span style="color: #b22222;">3s pass</span>
<span style="color: #b22222;">Promise { 'sucess' } ++++</span>
<span style="color: #b22222;">Promise { 'sucess' } ++++</span>
<span style="color: #b22222;">Promise { 'sucess' } ++++</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:459aaa4a-5d6b-4276-9680-9fe9cd4e9060" class="outline-5">
<h5 id="h:459aaa4a-5d6b-4276-9680-9fe9cd4e9060">Promise.then(onFulfilled, onRejected)</h5>
<div class="outline-text-5" id="text-h:459aaa4a-5d6b-4276-9680-9fe9cd4e9060">
<p>
then的返回值是一个新的promise对象。参数是2个函数，根据当前Promise对象
的状态来调用不同的函数，fulfilled走onFulfilled函数，rejected走
onRejected函数。
</p>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>((resolve, reject) =&gt; { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#26377;&#25104;&#21151;&#30340;&#32467;&#26524;&#65292;&#22833;&#36133;&#26377;&#22833;&#36133;&#30340;&#29702;&#30001;</span>
    <span style="color: #8b2252;">/** &#21442;&#25968;&#35828;&#26126;</span>
<span style="color: #8b2252;">    * resolve, reject &#36825;&#26159;&#24418;&#21442;&#65292;&#20195;&#34920;&#26410;&#26469;&#26377;js&#24341;&#25806;&#25552;&#20379;&#27880;&#20837;2&#20010;&#23545;&#24212;&#30340;&#20989;&#25968;</span>
<span style="color: #8b2252;">    * resolve &#21333;&#21442;&#20989;&#25968;&#65307;reject &#21333;&#21442;&#20989;&#25968;</span>
<span style="color: #8b2252;">    * &#36825;&#20004;&#20010;&#20989;&#25968;&#20114;&#26021;&#65292;&#29992;&#20102;&#20854;&#20013;&#19968;&#20010;&#65292;&#21478;&#19968;&#20010;&#20877;&#29992;&#20063;&#27809;&#26377;&#20219;&#20309;&#29992;&#22788;</span>
<span style="color: #8b2252;">    * &#25191;&#34892;&#22120;&#26159;&#19968;&#20010;&#31243;&#24207;&#21592;&#20889;&#22909;&#30340;&#20989;&#25968;&#65292;&#20869;&#37096;&#20808;&#20132;&#32473;Promise&#20570;&#30340;&#20107;&#24773;&#65292;&#26368;&#21518;&#19968;&#23450;&#35201;&#36873;&#25321;resolve&#25110;&#32773;reject&#20013;&#30340;&#19968;&#20010;&#35843;&#29992;&#19968;&#19979;</span>
<span style="color: #8b2252;">    * &#35843;&#29992;&#26102;&#20182;&#20204;&#37117;&#26159;&#21333;&#21442;&#20989;&#25968;&#65292;resolve(value)&#35843;&#29992;&#36820;&#22238;fulfiled&#29366;&#24577;&#34920;&#31034;&#25104;&#21151;&#65307; reject(reason)&#35843;&#29992;&#36820;&#22238;rejected&#29366;&#24577;&#34920;&#31034;&#22833;&#36133;</span>
<span style="color: #8b2252;">    * &#22914;&#26524;executor&#25191;&#34892;&#26102;&#25243;&#20986;&#24322;&#24120;&#65292;promise&#36820;&#22238;rejected&#29366;&#24577;</span>
<span style="color: #8b2252;">    * &#21019;&#24314;Promise&#20250;&#31435;&#21363;&#25191;&#34892;executor</span>
<span style="color: #8b2252;">    * Promise { '&#25104;&#21151;&#20102;' } &#31561;&#20215;&#20110; Promise { &lt;fulfiled&gt; '&#25104;&#21151;&#20102;' }  </span>
<span style="color: #8b2252;">      Promise { &lt;rejected&gt; '&#20219;&#21153;&#22833;&#36133;&#20102;' }</span>
<span style="color: #8b2252;">      Promise { &lt;pending&gt; } &#20934;&#22791;&#30528;&#25253;&#21578;&#32467;&#26524;&#65292;&#27491;&#22312;&#25191;&#34892;&#20013;</span>
<span style="color: #8b2252;">    */</span>
    console.log(<span style="color: #8b2252;">"executor &#25191;&#34892;&#20102;"</span>);
    setTimeout(() =&gt; {
        console.log(<span style="color: #8b2252;">'3s pass'</span>);
        <span style="color: #b22222;">// </span><span style="color: #b22222;">resolve('&#25104;&#21151;&#20102;');</span>
        reject(<span style="color: #8b2252;">'&#22833;&#36133;&#20102;'</span>);
    }, 3000); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#19981;&#38459;&#22622;&#65292;&#31435;&#21363;&#36820;&#22238;</span>
    console.log(<span style="color: #8b2252;">"executor bye~~~"</span>);
  });

<span style="color: #b22222;">/* </span><span style="color: #b22222;">then&#21482;&#26159;&#35774;&#32622;&#22238;&#35843;&#20989;&#25968;&#65292;&#31435;&#21363;&#36820;&#22238;&#65292;&#24322;&#27493;&#30340;</span>
<span style="color: #b22222;">* then&#36820;&#22238;&#19968;&#20010;&#26032;Promise&#23545;&#35937;&#65292;p1&#25191;&#34892;&#32467;&#26463;&#20102;&#65292;&#36820;&#22238;fulfiled&#25110;&#32773;rejected&#29366;&#24577;&#20102;</span>
<span style="color: #b22222;">*/</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = p1.then(
    value =&gt; {console.log(<span style="color: #8b2252;">'&#25104;&#21151;&#22238;&#35843;&#25191;&#34892;'</span>, value); <span style="color: #a020f0;">return</span> 1111;}, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#65292;&#22788;&#29702;fulfiled&#29366;&#24577;</span>
    reason =&gt; {console.log(<span style="color: #8b2252;">'&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;'</span>, reason); <span style="color: #a020f0;">return</span> 2222}, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#65292;&#22788;&#29702;rejected&#29366;&#24577;</span>
)
setInterval(() =&gt;{
    console.log(p1, <span style="color: #8b2252;">'++++'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
    console.log(p2, <span style="color: #8b2252;">'----'</span>); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
}, 1000) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#38548;1s &#25191;&#34892;&#19968;&#27425;</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;</span>
<span style="color: #b22222;">executor &#25191;&#34892;&#20102;</span>
<span style="color: #b22222;">executor bye~~~</span>
<span style="color: #b22222;">Promise { &lt;pending&gt; } ++++</span>
<span style="color: #b22222;">Promise { &lt;pending&gt; } ----</span>
<span style="color: #b22222;">Promise { &lt;pending&gt; } ++++</span>
<span style="color: #b22222;">Promise { &lt;pending&gt; } ----</span>
<span style="color: #b22222;">3s pass</span>
<span style="color: #b22222;">&#22833;&#36133;&#22238;&#35843;&#25191;&#34892; &#22833;&#36133;&#20102;</span>
<span style="color: #b22222;">Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' } ++++</span>
<span style="color: #b22222;">Promise { 2222 } ----</span>
<span style="color: #b22222;">Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' } ++++</span>
<span style="color: #b22222;">Promise { 2222 } ----</span>
<span style="color: #b22222;">Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' } ++++</span>
<span style="color: #b22222;">Promise { 2222 } ----</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:40d2f1dd-6102-4f67-85b0-7ad8e2dffc06" class="outline-5">
<h5 id="h:40d2f1dd-6102-4f67-85b0-7ad8e2dffc06">catch(onRejected)</h5>
<div class="outline-text-5" id="text-h:40d2f1dd-6102-4f67-85b0-7ad8e2dffc06">
<p>
为当前Promise对象添加一个拒绝回调onRejected函数，返回一个新的Promise对象.
</p>

<p>
Promise 提供2个方法：
</p>
<ul class="org-ul">
<li>Promise.resolve(value) 返回 状态为fulfilled的Promise对象</li>
<li>Promise.reject(reason)返回 状态为rejected状态的Promise对象</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:e53e24c4-ec10-4da6-90cc-8472209252e0" class="outline-4">
<h4 id="h:e53e24c4-ec10-4da6-90cc-8472209252e0">原理实验</h4>
<div class="outline-text-4" id="text-h:e53e24c4-ec10-4da6-90cc-8472209252e0">
</div>
<div id="outline-container-h:8476f14f-1c7a-4670-8848-e840cb71144f" class="outline-5">
<h5 id="h:8476f14f-1c7a-4670-8848-e840cb71144f">都不处理，then不传递参数</h5>
<div class="outline-text-5" id="text-h:8476f14f-1c7a-4670-8848-e840cb71144f">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">//</span><span style="color: #b22222;">....</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = p1.then(
    <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined, undefined &#22312;then&#20013;&#27809;&#26377;&#23545;p1&#30340;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#22788;&#29702;&#20989;&#25968;&#23450;&#20041;&#65292;p1&#25104;&#21151;&#23601;&#26159;p2&#25104;&#21151;&#65292;p2&#30340;&#29366;&#24577;&#21644;value&#21644;p1&#19968;&#26679;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">value =&gt; {console.log('&#25104;&#21151;&#22238;&#35843;&#25191;&#34892;', value); return 1111;}, // &#20989;&#25968;&#65292;&#22788;&#29702;fulfiled&#29366;&#24577;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">reason =&gt; {console.log('&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;', reason); return 2222}, // &#20989;&#25968;&#65292;&#22788;&#29702;rejected&#29366;&#24577;</span>
)
setInterval(() =&gt;{
    console.log(<span style="color: #8b2252;">'p1 +++'</span>, p1); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
    console.log(<span style="color: #8b2252;">'p2 ---'</span>, p2); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
}, 1000) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#38548;1s &#25191;&#34892;&#19968;&#27425;</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;</span>
<span style="color: #b22222;">executor &#25191;&#34892;&#20102;</span>
<span style="color: #b22222;">executor bye~~~</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">3s pass</span>
<span style="color: #b22222;">p1 +++ Promise { '&#25104;&#21151;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { '&#25104;&#21151;&#20102;' }</span>
<span style="color: #b22222;">p1 +++ Promise { '&#25104;&#21151;&#20102;' }</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6a59876b-feb1-486c-a6ab-d5f8bad0df05" class="outline-5">
<h5 id="h:6a59876b-feb1-486c-a6ab-d5f8bad0df05">处理</h5>
<div class="outline-text-5" id="text-h:6a59876b-feb1-486c-a6ab-d5f8bad0df05">
<p>
then没有成功参数，只有失败
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>((resolve, reject) =&gt; { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#26377;&#25104;&#21151;&#30340;&#32467;&#26524;&#65292;&#22833;&#36133;&#26377;&#22833;&#36133;&#30340;&#29702;&#30001;</span>
    console.log(<span style="color: #8b2252;">"executor &#25191;&#34892;&#20102;"</span>);
    setTimeout(() =&gt; {
        console.log(<span style="color: #8b2252;">'3s pass'</span>);
        <span style="color: #b22222;">// </span><span style="color: #b22222;">resolve('&#25104;&#21151;&#20102;');</span>
        reject(<span style="color: #8b2252;">'&#22833;&#36133;&#20102;'</span>);
    }, 3000); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#19981;&#38459;&#22622;&#65292;&#31435;&#21363;&#36820;&#22238;</span>
    console.log(<span style="color: #8b2252;">"executor bye~~~"</span>);
  });

<span style="color: #b22222;">/* </span><span style="color: #b22222;">then&#21482;&#26159;&#35774;&#32622;&#22238;&#35843;&#20989;&#25968;&#65292;&#31435;&#21363;&#36820;&#22238;&#65292;&#24322;&#27493;&#30340;</span>
<span style="color: #b22222;">* then&#36820;&#22238;&#19968;&#20010;&#26032;Promise&#23545;&#35937;&#65292;p1&#25191;&#34892;&#32467;&#26463;&#20102;&#65292;&#36820;&#22238;fulfiled&#25110;&#32773;rejected&#29366;&#24577;&#20102;</span>
<span style="color: #b22222;">* &#22312;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#26550;&#35774;&#20989;&#25968;&#20013;&#65292;&#36820;&#22238;&#20540;&#24456;&#37325;&#35201;&#12290;&#22914;&#26524;&#27809;&#26377;&#20889;&#23601;&#26159;return undefined&#65292;&#31561;&#20215;&#20110;resolve(undefined)</span>
<span style="color: #b22222;">*/</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = p1.then(
    <span style="color: #b22222;">// </span><span style="color: #b22222;">1 undefined, undefined &#22312;then&#20013;&#27809;&#26377;&#23545;p1&#30340;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#22788;&#29702;&#20989;&#25968;&#23450;&#20041;&#65292;p1&#25104;&#21151;&#23601;&#26159;p2&#25104;&#21151;&#65292;p2&#30340;&#29366;&#24577;&#21644;value&#21644;p1&#19968;&#26679;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">2 undefined, reason =&gt;{} &#22833;&#36133;&#23450;&#20041; p1&#25104;&#21151;&#21017;p2&#25104;&#21151;&#65307;p1&#22833;&#36133;&#21017;p2&#25104;&#21151;&#20102;&#65292;return Promise.resolve(undefined)</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">value =&gt; {console.log('&#25104;&#21151;&#22238;&#35843;&#25191;&#34892;', value); return 1111;}, // &#20989;&#25968;&#65292;&#22788;&#29702;fulfiled&#29366;&#24577;</span>
    <span style="color: #008b8b;">undefined</span>,
    reason =&gt; {console.log(<span style="color: #8b2252;">'&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;'</span>, reason); <span style="color: #a020f0;">return</span> Promise.resolve(<span style="color: #008b8b;">undefined</span>)}, <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#65292;&#22788;&#29702;rejected&#29366;&#24577;</span>
)
setInterval(() =&gt;{
    console.log(<span style="color: #8b2252;">'p1 +++'</span>, p1); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
    console.log(<span style="color: #8b2252;">'p2 ---'</span>, p2); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
}, 1000) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#38548;1s &#25191;&#34892;&#19968;&#27425;</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;</span>
<span style="color: #b22222;">executor &#25191;&#34892;&#20102;</span>
<span style="color: #b22222;">executor bye~~~</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">3s pass</span>
<span style="color: #b22222;">&#22833;&#36133;&#22238;&#35843;&#25191;&#34892; &#22833;&#36133;&#20102;</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { undefined }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { undefined }</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>

<p>
then 只有成功没有失败参数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>((resolve, reject) =&gt; { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#26377;&#25104;&#21151;&#30340;&#32467;&#26524;&#65292;&#22833;&#36133;&#26377;&#22833;&#36133;&#30340;&#29702;&#30001;</span>
    console.log(<span style="color: #8b2252;">"executor &#25191;&#34892;&#20102;"</span>);
    setTimeout(() =&gt; {
        console.log(<span style="color: #8b2252;">'3s pass'</span>);
        <span style="color: #b22222;">// </span><span style="color: #b22222;">resolve('&#25104;&#21151;&#20102;');</span>
        reject(<span style="color: #8b2252;">'&#22833;&#36133;&#20102;'</span>);
    }, 3000); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#19981;&#38459;&#22622;&#65292;&#31435;&#21363;&#36820;&#22238;</span>
    console.log(<span style="color: #8b2252;">"executor bye~~~"</span>);
  });

<span style="color: #b22222;">/* </span><span style="color: #b22222;">then&#21482;&#26159;&#35774;&#32622;&#22238;&#35843;&#20989;&#25968;&#65292;&#31435;&#21363;&#36820;&#22238;&#65292;&#24322;&#27493;&#30340;</span>
<span style="color: #b22222;">* then&#36820;&#22238;&#19968;&#20010;&#26032;Promise&#23545;&#35937;&#65292;p1&#25191;&#34892;&#32467;&#26463;&#20102;&#65292;&#36820;&#22238;fulfiled&#25110;&#32773;rejected&#29366;&#24577;&#20102;</span>
<span style="color: #b22222;">* &#22312;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#26550;&#35774;&#20989;&#25968;&#20013;&#65292;&#36820;&#22238;&#20540;&#24456;&#37325;&#35201;&#12290;&#22914;&#26524;&#27809;&#26377;&#20889;&#23601;&#26159;return undefined&#65292;&#31561;&#20215;&#20110;resolve(undefined)</span>
<span style="color: #b22222;">*/</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = p1.then(
    <span style="color: #b22222;">// </span><span style="color: #b22222;">1 undefined, undefined &#22312;then&#20013;&#27809;&#26377;&#23545;p1&#30340;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#22788;&#29702;&#20989;&#25968;&#23450;&#20041;&#65292;p1&#25104;&#21151;&#23601;&#26159;p2&#25104;&#21151;&#65292;p2&#30340;&#29366;&#24577;&#21644;value&#21644;p1&#19968;&#26679;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">2 undefined, reason =&gt;{} &#22833;&#36133;&#23450;&#20041; p1&#25104;&#21151;&#21017;p2&#25104;&#21151;&#65307;p1&#22833;&#36133;&#21017;p2&#25104;&#21151;&#20102;&#65292;return Promise.resolve(undefined0)</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">2 value =&gt;{}, undefined &#25104;&#21151;&#23450;&#20041;&#65292;p1&#25104;&#21151;&#21017;p2 resolve(undefined); p1&#22833;&#36133;&#19981;&#22788;&#29702;&#65292;&#21017;p2&#36319;&#38543;p1&#29366;&#24577;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined,</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">reason =&gt; {console.log('&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;', reason); return Promise.resolve(undefined)}, // &#20989;&#25968;&#65292;&#22788;&#29702;rejected&#29366;&#24577;</span>
    value =&gt; {console.log(<span style="color: #8b2252;">'&#25104;&#21151;&#22238;&#35843;&#25191;&#34892;'</span>, value); <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">undefined</span>;}, <span style="color: #b22222;">// </span><span style="color: #b22222;">, undefined</span>
).<span style="color: #a020f0;">catch</span>(
    reason =&gt; {console.log(<span style="color: #8b2252;">'&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;'</span>, reason); <span style="color: #a020f0;">return</span> Promise.resolve(<span style="color: #008b8b;">undefined</span>)} <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#65292;&#22788;&#29702;rejected&#29366;&#24577;</span>
)
setInterval(() =&gt;{
    console.log(<span style="color: #8b2252;">'p1 +++'</span>, p1); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
    console.log(<span style="color: #8b2252;">'p2 ---'</span>, p2); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
}, 1000) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#38548;1s &#25191;&#34892;&#19968;&#27425;</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;</span>
<span style="color: #b22222;">executor &#25191;&#34892;&#20102;</span>
<span style="color: #b22222;">executor bye~~~</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">3s pass</span>
<span style="color: #b22222;">&#22833;&#36133;&#22238;&#35843;&#25191;&#34892; &#22833;&#36133;&#20102;</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { undefined }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { undefined }</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e8f59e06-3265-459d-a38c-a9d9becc3ee9" class="outline-5">
<h5 id="h:e8f59e06-3265-459d-a38c-a9d9becc3ee9">都处理</h5>
<div class="outline-text-5" id="text-h:e8f59e06-3265-459d-a38c-a9d9becc3ee9">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>((resolve, reject) =&gt; { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#25104;&#21151;&#26377;&#25104;&#21151;&#30340;&#32467;&#26524;&#65292;&#22833;&#36133;&#26377;&#22833;&#36133;&#30340;&#29702;&#30001;</span>
    console.log(<span style="color: #8b2252;">"executor &#25191;&#34892;&#20102;"</span>);
    setTimeout(() =&gt; {
        console.log(<span style="color: #8b2252;">'3s pass'</span>);
        <span style="color: #b22222;">// </span><span style="color: #b22222;">resolve('&#25104;&#21151;&#20102;');</span>
        reject(<span style="color: #8b2252;">'&#22833;&#36133;&#20102;'</span>);
    }, 3000); <span style="color: #b22222;">//</span><span style="color: #b22222;">&#19981;&#38459;&#22622;&#65292;&#31435;&#21363;&#36820;&#22238;</span>
    console.log(<span style="color: #8b2252;">"executor bye~~~"</span>);
  });

<span style="color: #b22222;">/* </span><span style="color: #b22222;">then&#21482;&#26159;&#35774;&#32622;&#22238;&#35843;&#20989;&#25968;&#65292;&#31435;&#21363;&#36820;&#22238;&#65292;&#24322;&#27493;&#30340;</span>
<span style="color: #b22222;">* then&#36820;&#22238;&#19968;&#20010;&#26032;Promise&#23545;&#35937;&#65292;p1&#25191;&#34892;&#32467;&#26463;&#20102;&#65292;&#36820;&#22238;fulfiled&#25110;&#32773;rejected&#29366;&#24577;&#20102;</span>
<span style="color: #b22222;">* &#22312;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#26550;&#35774;&#20989;&#25968;&#20013;&#65292;&#36820;&#22238;&#20540;&#24456;&#37325;&#35201;&#12290;&#22914;&#26524;&#27809;&#26377;&#20889;&#23601;&#26159;return undefined&#65292;&#31561;&#20215;&#20110;resolve(undefined)</span>
<span style="color: #b22222;">*/</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p2</span> = p1.then(
    <span style="color: #b22222;">// </span><span style="color: #b22222;">1 undefined, undefined &#22312;then&#20013;&#27809;&#26377;&#23545;p1&#30340;&#25104;&#21151;&#25110;&#22833;&#36133;&#30340;&#22788;&#29702;&#20989;&#25968;&#23450;&#20041;&#65292;p1&#25104;&#21151;&#23601;&#26159;p2&#25104;&#21151;&#65292;p2&#30340;&#29366;&#24577;&#21644;value&#21644;p1&#19968;&#26679;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">2 undefined, reason =&gt;{} &#22833;&#36133;&#23450;&#20041; p1&#25104;&#21151;&#21017;p2&#25104;&#21151;&#65307;p1&#22833;&#36133;&#21017;p2&#25104;&#21151;&#20102;&#65292;return Promise.resolve(undefined0)</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">2 value =&gt;{}, undefined &#25104;&#21151;&#23450;&#20041;&#65292;p1&#25104;&#21151;&#21017;p2 resolve(undefined); p1&#22833;&#36133;&#19981;&#22788;&#29702;&#65292;&#21017;p2&#36319;&#38543;p1&#29366;&#24577;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">undefined,</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">reason =&gt; {console.log('&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;', reason); return Promise.resolve(undefined)}, // &#20989;&#25968;&#65292;&#22788;&#29702;rejected&#29366;&#24577;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">value =&gt; {console.log('&#25104;&#21151;&#22238;&#35843;&#25191;&#34892;', value); return Promise.reject(777);}, // , undefined</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">3 value =&gt;{},reason =&gt;{}</span>
    value =&gt; {console.log(<span style="color: #8b2252;">'&#25104;&#21151;&#22238;&#35843;&#25191;&#34892;'</span>, value); 
        <span style="color: #b22222;">// </span><span style="color: #b22222;">return Promise.resolve(undefined) //&#40664;&#35748;&#35843;&#29992;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">return Promise.reject(777)</span>
    },
    reason =&gt; {console.log(<span style="color: #8b2252;">'&#22833;&#36133;&#22238;&#35843;&#25191;&#34892;'</span>, reason); 
        <span style="color: #b22222;">// </span><span style="color: #b22222;">return Promise.resolve(undefined) //&#40664;&#35748;&#35843;&#29992;</span>
    }
)
setInterval(() =&gt;{
    console.log(<span style="color: #8b2252;">'p1 +++'</span>, p1); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
    console.log(<span style="color: #8b2252;">'p2 ---'</span>, p2); <span style="color: #b22222;">// </span><span style="color: #b22222;">__str__ &#34920;&#36798;</span>
}, 1000) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27599;&#38548;1s &#25191;&#34892;&#19968;&#27425;</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;&#65306;</span>
<span style="color: #b22222;">executor &#25191;&#34892;&#20102;</span>
<span style="color: #b22222;">executor bye~~~</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">p2 --- Promise { &lt;pending&gt; }</span>
<span style="color: #b22222;">3s pass</span>
<span style="color: #b22222;">&#22833;&#36133;&#22238;&#35843;&#25191;&#34892; &#22833;&#36133;&#20102;</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { undefined }</span>
<span style="color: #b22222;">p1 +++ Promise { &lt;rejected&gt; '&#22833;&#36133;&#20102;' }</span>
<span style="color: #b22222;">p2 --- Promise { undefined }</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:9eb40655-a68b-4dc1-a9a7-20913e9f6338" class="outline-5">
<h5 id="h:9eb40655-a68b-4dc1-a9a7-20913e9f6338">实例：链式调用</h5>
<div class="outline-text-5" id="text-h:9eb40655-a68b-4dc1-a9a7-20913e9f6338">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">myPromise</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">resolve</span>, <span style="color: #a0522d;">reject</span>){ 
    console.log(<span style="color: #8b2252;">'do sth.'</span>)
    setTimeout(()=&gt;{
      console.log(<span style="color: #8b2252;">'~~~~~'</span>)
      resolve(<span style="color: #8b2252;">'ok'</span>);
      <span style="color: #b22222;">//</span><span style="color: #b22222;">reject('error');</span>
    }, 3000); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24310;&#26102;3&#31186;&#25191;&#34892;&#19968;&#27425;&#32467;&#26463;</span>
  })

  <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">pro1</span> = myPromise.then( 
    value =&gt; {<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#22914;&#26524;&#25104;&#21151;&#21017;&#26174;&#31034;&#32467;&#26524;</span><span style="color: #b22222;">*/</span>
      console.log(1, <span style="color: #8b2252;">'successful'</span>);
      <span style="color: #a020f0;">return</span> 1111;
    },
    reason =&gt; {<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#22914;&#26524;&#22833;&#36133;&#21017;&#26174;&#31034;&#21407;&#22240;</span><span style="color: #b22222;">*/</span> 
      console.log(2, <span style="color: #8b2252;">'failed'</span>);
      <span style="color: #a020f0;">return</span> 2222;
    }
  )

  <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">pro2</span> = myPromise.<span style="color: #a020f0;">catch</span>(reason=&gt;{
    console.log(3, reason)
  })

  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24320;&#22987;&#38142;&#24335;&#35843;&#29992;</span>
  pro2.then( 
    value =&gt; console.log(4, value), <span style="color: #b22222;">// </span><span style="color: #b22222;">value&#26159;&#20160;&#20040;&#65311;</span>
     reason =&gt; console.log(5, reason) <span style="color: #b22222;">// </span><span style="color: #b22222;">reason&#26159;&#20160;&#20040;&#65311;</span>
  ).then(
    value =&gt; {
      console.log(6, value) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24050;&#32463;&#19981;&#26159;pro2&#23545;&#35937;&#20102;&#65292;value&#26159;&#20160;&#20040;</span>
      <span style="color: #a020f0;">return</span> Promise.reject(<span style="color: #8b2252;">'pro2 =&gt; new Promise object rejected'</span>);
     }
  ).<span style="color: #a020f0;">catch</span>(
    reason =&gt; {
      console.log(7, reason);
       <span style="color: #a020f0;">return</span> Promise.resolve(reason + <span style="color: #8b2252;">' *'</span>)
    }
  ).then(
    value =&gt; console.log(8, value), <span style="color: #b22222;">// </span><span style="color: #b22222;">value&#26159;&#20160;&#20040;&#65311;</span>
    reason =&gt; console.log(9, reason) <span style="color: #b22222;">// </span><span style="color: #b22222;">reason&#26159;&#20160;&#20040;&#65311;</span>
  ) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#30340;&#26159;&#20160;&#20040;&#65311;</span>

  <span style="color: #b22222;">/*</span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">  do sth.</span>
<span style="color: #b22222;">  ~~~~~</span>
<span style="color: #b22222;">  1 'successful'</span>
<span style="color: #b22222;">  4 'ok'</span>
<span style="color: #b22222;">  6 undefined</span>
<span style="color: #b22222;">  7 'pro2 =&gt; new Promise object rejected'</span>
<span style="color: #b22222;">  8 'pro2 =&gt; new Promise object rejected *'</span>
<span style="color: #b22222;">  */</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:a5d0f87b-d6d8-4bfc-b0a4-8dbbcf371905" class="outline-4">
<h4 id="h:a5d0f87b-d6d8-4bfc-b0a4-8dbbcf371905">异步实例</h4>
<div class="outline-text-4" id="text-h:a5d0f87b-d6d8-4bfc-b0a4-8dbbcf371905">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">runAsync</span>() {
    <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Promise</span>(<span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">resolve</span>, <span style="color: #a0522d;">reject</span>) {
        <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24322;&#27493;&#25805;&#20316;   </span>
        setTimeout(<span style="color: #a020f0;">function</span> () {
            console.log(<span style="color: #8b2252;">'do sth...'</span>);
            resolve(<span style="color: #8b2252;">'ok...'</span>);
        }, 3000);
    });
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;</span>
runAsync().then(
    value =&gt; {
        console.log(value);
        <span style="color: #a020f0;">return</span> Promise.reject(value + <span style="color: #8b2252;">'*'</span>);
    }
).<span style="color: #a020f0;">catch</span>(
    reason =&gt; {
        console.log(reason);
        <span style="color: #a020f0;">return</span> Promise.resolve(reason + <span style="color: #8b2252;">'*'</span>);
    }
).then(
    value =&gt; {
        console.log(value);
        console.log(<span style="color: #8b2252;">'Promise END'</span>);
    }
)

console.log(<span style="color: #8b2252;">'==== FIN ===='</span>);

<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">==== FIN ====</span>
<span style="color: #b22222;">do sth...</span>
<span style="color: #b22222;">ok...</span>
<span style="color: #b22222;">ok...*</span>
<span style="color: #b22222;">ok...**</span>
<span style="color: #b22222;">Promise END</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:6a8756c6-27ac-4d40-b0d0-493fbc8dff00" class="outline-3">
<h3 id="h:6a8756c6-27ac-4d40-b0d0-493fbc8dff00">JS-高阶对象、高阶类或称Mixin模式</h3>
<div class="outline-text-3" id="text-h:6a8756c6-27ac-4d40-b0d0-493fbc8dff00">
<p>
Mixin模式，混合模式。
</p>

<p>
JS是基于对象的，类和对象都是对象模板。
</p>

<p>
混合mixin，指的是将一个对象的全部或者部分拷贝到另一个对象上去。其实就是属性。
</p>

<p>
可以将多个类或对象混合成一个类或对象。
</p>
</div>
<div id="outline-container-h:e43bafea-c121-4960-a9e1-b73fd5344dd4" class="outline-4">
<h4 id="h:e43bafea-c121-4960-a9e1-b73fd5344dd4">继承实现</h4>
<div class="outline-text-4" id="text-h:e43bafea-c121-4960-a9e1-b73fd5344dd4">
<p>
继承：子子孙孙都有基类的功能
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">class</span> Serialization {
    constructor() {
        console.log(<span style="color: #8b2252;">'Serialization constructor~~~'</span>);
        <span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">typeof</span> (<span style="color: #008b8b;">this</span>.stringify) !== <span style="color: #8b2252;">'function'</span>) { <span style="color: #b22222;">//</span><span style="color: #b22222;">&#21487;&#20197;&#23545;&#23545;&#35937;&#20570;&#22686;&#24378;</span>
            <span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'should define stringify.'</span>);
        }
    }
}

<span style="color: #a020f0;">class</span> Point <span style="color: #a020f0;">extends</span> Serialization {
    constructor(x, y) {
        console.log(<span style="color: #8b2252;">'Point Constructor~~~~'</span>);
        <span style="color: #a020f0;">super</span>(); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#26500;&#36896;&#22120;</span>
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
    }
}

<span style="color: #b22222;">//</span><span style="color: #b22222;">s = new Serialization(); // &#26500;&#36896;Serialization&#22833;&#36133;</span>
<span style="color: #b22222;">//</span><span style="color: #b22222;">p = new Point(4,5); // &#26500;&#36896;&#23376;&#31867;&#23545;&#35937;&#26102;&#65292;&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;&#25191;&#34892;&#20063;&#20250;&#22833;&#36133;</span>
</pre>
</div>

<p>
父类构造函数中，要求具有属性是stringify的序列化函数，如果没有则抛出异常
</p>
</div>
<div id="outline-container-h:c0b2e5a6-1e68-47a2-85d2-bff1449fdb80" class="outline-5">
<h5 id="h:c0b2e5a6-1e68-47a2-85d2-bff1449fdb80">完整继承的代码</h5>
<div class="outline-text-5" id="text-h:c0b2e5a6-1e68-47a2-85d2-bff1449fdb80">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">class</span> Serialization {
    constructor() {
        console.log(<span style="color: #8b2252;">'Serialization constructor~~~'</span>);
        <span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">typeof</span> (<span style="color: #008b8b;">this</span>.stringify) !== <span style="color: #8b2252;">'function'</span>) {
            <span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'should define stringify.'</span>);
        }
    }
}
<span style="color: #a020f0;">class</span> Point <span style="color: #a020f0;">extends</span> Serialization {
    constructor(x, y) {
        console.log(<span style="color: #8b2252;">'Point Constructor~~~~'</span>);
        <span style="color: #a020f0;">super</span>(); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#26500;&#36896;&#22120;</span>
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
    }
    stringify() {
        <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">`&lt;Point x=${this.x}, y=${this.y}&gt;`</span>
    }
}
<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> Point {
    constructor(x, y, z) {
        <span style="color: #a020f0;">super</span>(x, y);
        <span style="color: #008b8b;">this</span>.z = z;
    }
    stringify() {
        <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">`&lt;Point x=${this.x}, y=${this.y}, z=${this.z}&gt;`</span>
    }
}

p = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point</span>(4, 5);
console.log(p.stringify())
p3d = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(7, 8, 9);
console.log(p3d.stringify());

<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">Point Constructor~~~~</span>
<span style="color: #b22222;">Serialization constructor~~~</span>
<span style="color: #b22222;">&lt;Point x=4, y=5&gt;</span>
<span style="color: #b22222;">Point Constructor~~~~</span>
<span style="color: #b22222;">Serialization constructor~~~</span>
<span style="color: #b22222;">&lt;Point x=7, y=8, z=9&gt;</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:487356dd-836b-4c25-903a-19cb78e62132" class="outline-4">
<h4 id="h:487356dd-836b-4c25-903a-19cb78e62132">高阶对象实现</h4>
<div class="outline-text-4" id="text-h:487356dd-836b-4c25-903a-19cb78e62132">
<p>
将类的继承构建成箭头函数
</p>

<p>
// 普通的继承
class A extends Object { };
console.log(A);
</p>

<p>
// 匿名类
const A1 = class {
    constructor(x) {
        this.x = x;
    }
}
console.log(A1);
console.log(new A1(100).x);
</p>

<p>
// 匿名继承
const B = class extends Object {
    constructor() {
        super();
        console.log('B constructor');
    }
};
console.log(B);
b = new B();
console.log(b);
</p>

<p>
<i>/ 箭头函数，参数是类，返回值也是类
/</i> 把上例中的Object看成参数
const x = (Sup) =&gt; {
    return class extends Sup {
        constructor() {
            super();
            console.log('C constructor');
        }
    };
}
</p>

<p>
// 演化成下面的形式
const C = Sup =&gt; class extends Sup {
    constructor() {
        super();
        console.log('C constructor');
    }
};
</p>

<p>
<i>/cls = new C(Object); /</i> 不可以new，因为C是一个普通函数，它的返回值是一个带constructor的类
cls = C(A); // 调用它返回一个类，一个带constructor的class
console.log(cls);
c = new cls();
console.log(c);
</p>

<p>
<i>/ 其它写法
c1 = new (C(Object))(); /</i> new优先级太高了，所有后面要加括号才能先调用
</p>

<p>
<i>* 执行结果
[Function: A]
[Function: A1]
100
[Function: B]
B constructor
B {}
[Function: A]
C constructor
A {}
C constructor
*</i>
</p>

<p>
说到底，上面的C这个函数，本质上就是传入一个基类，然后通过基类继承构造一个新的类。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">class A {}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">class B extends Object {}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">const C = class D {}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(A, B, C);</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">const E = class extends Object {}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">function fn() {</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">// let E = class extends Object {</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">//   show() {</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">//     console.log('****');</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">//   }</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">// }</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">// return E;</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">return class extends Object {</span>
<span style="color: #b22222;">//     </span><span style="color: #b22222;">show() {</span>
<span style="color: #b22222;">//       </span><span style="color: #b22222;">console.log('****');</span>
<span style="color: #b22222;">//     </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">let Cls = fn();</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(Cls);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">new Cls().show();</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">// new (fn())().show();</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">/* &#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">[class (anonymous) extends Object]</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">****</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">*/</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">function fn(X=Object) {</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">return class extends X {</span>
<span style="color: #b22222;">//     </span><span style="color: #b22222;">show() {</span>
<span style="color: #b22222;">//       </span><span style="color: #b22222;">console.log('****');</span>
<span style="color: #b22222;">//     </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(fn);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">let Cls = fn(Object);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(Cls);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">/* &#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">[Function: fn]</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">[class (anonymous) extends Object]</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">*/</span>


<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21464;&#21270;&#19968;&#19979;</span>
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">wrapper</span> = SupCls =&gt; {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#26032;&#30340;&#23376;&#31867;</span>
  <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">class</span> <span style="color: #a020f0;">extends</span> SupCls  {
    show() {
      console.log(<span style="color: #8b2252;">'****'</span>);
    }
  }
}
<span style="color: #b22222;">// </span><span style="color: #b22222;">function wrapper(Supcls) {</span>
<span style="color: #b22222;">//   </span><span style="color: #b22222;">return class extends Supcls {} // &#26032;&#30340;&#23376;&#31867;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1. &#24418;&#21442; &#20256;&#20837;&#30340;&#26159;&#20160;&#20040;&#31867;&#22411; &#31867;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">2. &#36820;&#22238;&#20540;&#65292;&#36820;&#22238;&#20160;&#20040;&#31867;&#22411; &#31867;&#65292;&#26032;&#30340;&#23376;&#31867;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#39640;&#38454;&#31867;&#65292;&#39640;&#38454;&#23545;&#35937;</span>

console.log(wrapper);
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Cls</span> = wrapper(Object);
console.log(Cls);
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">Cls</span>().show();
<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">[Function: wrapper]</span>
<span style="color: #b22222;">[class (anonymous) extends Object]</span>
<span style="color: #b22222;">****</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
<div id="outline-container-h:5de73a39-8649-4387-8323-4963953ab8bd" class="outline-5">
<h5 id="h:5de73a39-8649-4387-8323-4963953ab8bd">Mixin类</h5>
<div class="outline-text-5" id="text-h:5de73a39-8649-4387-8323-4963953ab8bd">
<p>
缺什么能力 补什么能力
</p>

<p>
可以改造上面序列化的例子
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">const</span> <span style="color: #a0522d;">SerializationMixin</span> = Sup =&gt; <span style="color: #a020f0;">class</span> <span style="color: #a020f0;">extends</span> Sup {
    constructor(...args) {
        console.log(<span style="color: #8b2252;">'SerializationMixin constructor~~~'</span>);
        <span style="color: #a020f0;">super</span>(...args);
        <span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">typeof</span> (<span style="color: #008b8b;">this</span>.stringify) !== <span style="color: #8b2252;">'function'</span>) {
            <span style="color: #a020f0;">throw</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ReferenceError</span>(<span style="color: #8b2252;">'should define stringify.'</span>);
        }
    }
}

<span style="color: #a020f0;">class</span> Point {
    constructor(x, y) {
        console.log(<span style="color: #8b2252;">'Point Constructor~~~~'</span>);
        <span style="color: #008b8b;">this</span>.x = x;
        <span style="color: #008b8b;">this</span>.y = y;
    }
}

<span style="color: #a020f0;">class</span> Point3D <span style="color: #a020f0;">extends</span> SerializationMixin(Point) {
    constructor(x, y, z) {
        <span style="color: #a020f0;">super</span>(x, y); <span style="color: #b22222;">// </span><span style="color: #b22222;">super&#26159;Serialization(Point)&#21253;&#35013;&#36807;&#30340;&#26032;&#31867;&#22411;</span>
        <span style="color: #008b8b;">this</span>.z = z;
    }
    stringify() {
        <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">`&lt;Point3D ${this.x}.${this.y}.${this.z}&gt;`</span>;
    }
}

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">p3d</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Point3D</span>(70, 80, 90);
console.log(p3d.stringify());

<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524;</span>
<span style="color: #b22222;">SerializationMixin constructor~~~</span>
<span style="color: #b22222;">Point Constructor~~~~</span>
<span style="color: #b22222;">&lt;Point3D 70.80.90&gt;</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>

<p>
注意：
</p>

<p>
Serialization(Point)这一步实际上是一个匿名箭头函数调用，返回了一个新的类型，Point3D继承自这个新的匿名类型，增强了功能。
</p>

<p>
React框架大量使用了这种Mixin技术。
</p>

<p>
Serialization(Point)传入的参数是类，返回值也是一个类，这就是高阶类。
</p>

<p>
本质上就是把一个类包装后返回一个增强的包装供其他类使用。
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-h:0c33f955-e003-437e-98e1-67141801ac41" class="outline-3">
<h3 id="h:0c33f955-e003-437e-98e1-67141801ac41">JS &#x2013; 模块化(babel转译工具)</h3>
<div class="outline-text-3" id="text-h:0c33f955-e003-437e-98e1-67141801ac41">
</div>
<div id="outline-container-h:67d7912c-51c8-4144-b141-7a89f38b684c" class="outline-4">
<h4 id="h:67d7912c-51c8-4144-b141-7a89f38b684c">概念</h4>
<div class="outline-text-4" id="text-h:67d7912c-51c8-4144-b141-7a89f38b684c">
<p>
ES6之前，JS没有出现模块化系统。因为它在设计之初根本没有想到今天的JS应用场景。
</p>

<p>
JS主要在前端的浏览器中使用，js文件下载缓存到客户端，在浏览器中执行。
</p>

<p>
比如简单的表单本地验证，漂浮一个广告。
</p>

<p>
服务器端使用ASP、JSP等动态网页技术，将动态生成数据嵌入一个HTML模板，里
面夹杂着JS后使用 &lt;script&gt; 标签，返回浏览器端执行。 &lt;script&gt; 还可以使用
src属性，发起一个GET请求返回一个js文件，嵌入到当前页面执行环境中执行。
</p>

<p>
这时候的JS只是一些简单函数和语句的组合。
</p>


<p>
2005年之后，随着Google大量使用了AJAX技术之后，可以异步请求服务器端数据，带来了前端交互的巨大变化。
前端功能需求越来越多，代码也越来也多。随着js文件的增多，灾难性的后果产生了：
</p>

<ul class="org-ul">
<li>众多js文件通过 &lt;script&gt; 引入到当前页面中，每一个js文件发起一个GET请求，众多的js文件都需要返回到浏览器端。网络开销成本颇高</li>
<li>习惯了随便写，js脚本中各种 <b>全局变量污染</b> ，函数名冲突</li>
<li>JS脚本加载有顺序，JS文件中的代码之间的依赖关系（依赖前后顺序、相互依赖）</li>
</ul>

<p>
亟待模块化的出现。
</p>

<p>
2008年V8引擎发布，2009年诞生了Nodejs，支持服务端JS编程。使用JS编程的项目规模越来越大，没有模块化是不可想像的。
</p>

<p>
之后社区中诞生诸多模块化解决方案。
</p>


<p>
CommonJS规范（2009年），使用全局require函数导入模块，将所有对象约束在模块对象内部，使用exports导出指定的对象。
</p>

<p>
最早这种规范是用在Nodejs后端的，后来又向前端开发移植，这样浏览器端开发也可以使用CommonJS了。
</p>


<p>
AMD（Asynchronous Module Definition）异步模块定义，这是由社区提出的一
种浏览器端模块化标准。使用异步方式加载模块，模块的加载不影响它后面语句
的执行。所有依赖这个模块的语句，都需要定义在一个回调函数，回调函数中使
用模块的变量和函数，等模块加载完成之后，这个回调函数才会执行，就可以安
全的使用模块的资源了。其实现就是AMD/RequireJs。AMD虽然是异步，但是会预
先加载和执行。目前应用较少。
</p>

<p>
CMD（Common Module Definition），使用seajs，作者是淘宝前端玉伯，兼容并包解决了RequireJs的问题
CMD推崇as lazy as possible，尽可能的懒加载。
</p>

<p>
由于社区的模块化呼声很高，ES6开始提供支持模块的语法，但是浏览器目前支持还不够。
</p>
</div>
</div>
<div id="outline-container-h:5358d6e1-b634-405e-bbbf-cdc521b6df48" class="outline-4">
<h4 id="h:5358d6e1-b634-405e-bbbf-cdc521b6df48">ES6模块化</h4>
<div class="outline-text-4" id="text-h:5358d6e1-b634-405e-bbbf-cdc521b6df48">
<p>
ES6中模块自动采用严格模式。
</p>

<ul class="org-ul">
<li>import语句，导入另一个模块导出的绑定。</li>
<li>export语句，从模块中导出函数、对象、值的，供其它模块import导入用。</li>
</ul>
</div>
<div id="outline-container-h:c70d113e-8df4-4ec4-b424-564ea3d101c1" class="outline-5">
<h5 id="h:c70d113e-8df4-4ec4-b424-564ea3d101c1">导出</h5>
<div class="outline-text-5" id="text-h:c70d113e-8df4-4ec4-b424-564ea3d101c1">
<p>
建立一个模块目录src，然后在这个目录下新建一个moda.js，内容如下：
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20986;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">default</span> <span style="color: #a020f0;">class</span> A{
    constructor(x){
        <span style="color: #008b8b;">this</span>.x = x;
    }
    show(){
        console.log(<span style="color: #008b8b;">this</span>.x);
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23548;&#20986;&#20989;&#25968;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">function</span> foo(){
    console.log(<span style="color: #8b2252;">'foo function'</span>);
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23548;&#20986;&#24120;&#37327;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">const</span> <span style="color: #a0522d;">CONSTA</span> = <span style="color: #8b2252;">'aaa'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-h:40f483de-da5e-4cb9-bcbc-d4d2037b2060" class="outline-5">
<h5 id="h:40f483de-da5e-4cb9-bcbc-d4d2037b2060">导入</h5>
<div class="outline-text-5" id="text-h:40f483de-da5e-4cb9-bcbc-d4d2037b2060">
<p>
其它模块中导入语句如下
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> {CONSTA, foo} from <span style="color: #8b2252;">"./moda"</span>;
<span style="color: #a020f0;">import</span> * as mod_a from <span style="color: #8b2252;">"./moda"</span>;
</pre>
</div>

<p>
VS Code可以很好的语法支持了，但是运行环境，包括V8引擎，都不能很好的支持模块化语法
</p>
</div>
</div>
</div>
<div id="outline-container-h:4aa7b7ef-d526-4cf3-a412-20c5c2cbc79f" class="outline-4">
<h4 id="h:4aa7b7ef-d526-4cf3-a412-20c5c2cbc79f">转译工具</h4>
<div class="outline-text-4" id="text-h:4aa7b7ef-d526-4cf3-a412-20c5c2cbc79f">
<p>
转译就是从一种语言代码转换到另一个语言代码，当然也可以从高版本转译到低版本的支持语句。
</p>


<p>
由于JS存在不同版本，不同浏览器兼容的问题，如何解决对语法的支持问题？
</p>

<p>
使用transpiler转译工具解决对语法的支持问题。
</p>
</div>
<div id="outline-container-h:c3f0c81b-b34a-40c5-8281-2d44109daa8a" class="outline-5">
<h5 id="h:c3f0c81b-b34a-40c5-8281-2d44109daa8a">babel</h5>
<div class="outline-text-5" id="text-h:c3f0c81b-b34a-40c5-8281-2d44109daa8a">
<p>
开发中可以使用较新的ES6语法，通过转译器转换为指定的某些版本代码。
</p>

<p>
官网 <a href="http://babeljs.io/">http://babeljs.io/</a>
</p>

<p>
参考7.x文档 <a href="https://babeljs.io/docs/">https://babeljs.io/docs/</a>
</p>

<p>
打开Try it out，测试一段代码
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> * <span style="color: #0000ff;">counter</span>(){
    <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">i</span> = 0; 
    <span style="color: #a020f0;">while</span>(<span style="color: #008b8b;">true</span>) 
        <span style="color: #a020f0;">yield</span> (++i);
}

g = counter();
console.log(g.next().value);
</pre>
</div>
</div>
</div>
<div id="outline-container-h:95190a0c-a2f2-460a-b00c-ae3ef8956c0f" class="outline-5">
<h5 id="h:95190a0c-a2f2-460a-b00c-ae3ef8956c0f">预设</h5>
<div class="outline-text-5" id="text-h:95190a0c-a2f2-460a-b00c-ae3ef8956c0f">
<p>
有如下一些预设presets，我们先看看有哪些，一会儿再进行预设的安装和配置。
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">presets&#65306;</span>
babel-preset-env &#24403;&#21069;&#29615;&#22659;&#25903;&#25345;&#30340;&#20195;&#30721;&#65292;&#26032;target
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21487;&#20197;&#26367;&#20195;&#19979;&#38754;&#30340;&#20960;&#20010;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">ES2015&#36716;&#30721;&#35268;&#21017;</span>
npm install --save-dev babel-preset-es2015

<span style="color: #b22222;">#</span><span style="color: #b22222;">react&#36716;&#30721;&#35268;&#21017;</span>
npm install --save-dev babel-preset-react

<span style="color: #b22222;">#</span><span style="color: #b22222;">ES7&#19981;&#21516;&#38454;&#27573;&#35821;&#27861;&#25552;&#26696;&#30340;&#36716;&#30721;&#35268;&#21017;&#65288;&#20849;&#26377;4&#20010;&#38454;&#27573;&#65289;&#65292;&#36873;&#35013;&#19968;&#20010;</span>
npm install --save-dev babel-preset-stage-0
npm install --save-dev babel-preset-stage-1
npm install --save-dev babel-preset-stage-2
npm install --save-dev babel-preset-stage-3
</pre>
</div>
</div>
</div>
<div id="outline-container-h:6209cb87-eb29-4247-bc11-c69ded2f924c" class="outline-5">
<h5 id="h:6209cb87-eb29-4247-bc11-c69ded2f924c">离线转译安装配置</h5>
<div class="outline-text-5" id="text-h:6209cb87-eb29-4247-bc11-c69ded2f924c">
</div>
<ul class="org-ul">
<li><a id="h:d920c306-6711-45ca-9ed1-77663b988033"></a>1、初始化npm<br>
<div class="outline-text-6" id="text-h:d920c306-6711-45ca-9ed1-77663b988033">
<p>
在项目目录中使用
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#30446;&#24405;&#32467;&#26500;</span>
D:.
&#9500;&#9472;lib <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36755;&#20986;&#30446;&#24405;</span>
&#9492;&#9472;src <span style="color: #b22222;">#</span><span style="color: #b22222;">&#28304;&#30721;&#30446;&#24405;</span>
        t1.js
        t2.js

PS D:\project\pyprojs\trae\mypro&gt; npm init
Use <span style="color: #ff00ff;">`npm install &lt;pkg&gt;`</span> afterwards to install a package and
save it as a dependency<span style="color: #a020f0;"> in</span> the package.json file.


Press ^C at any time to quit.
package name: (mypro) test
version: (1.0.0)
description:            <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25551;&#36848;</span>
entry point: (index.js) <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20837;&#21475;</span>
test command:           <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27979;&#35797;&#21629;&#20196;</span>
git repository:
keywords:
author: jasper
license: (ISC) MIT      <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35768;&#21487;&#35777;</span>
About to write to D:\project\pyprojs\trae\mypro\package.json:

{
  <span style="color: #8b2252;">"name"</span>: <span style="color: #8b2252;">"test"</span>,
  <span style="color: #8b2252;">"version"</span>: <span style="color: #8b2252;">"1.0.0"</span>,
  <span style="color: #8b2252;">"main"</span>: <span style="color: #8b2252;">"index.js"</span>,
  <span style="color: #8b2252;">"directories"</span>: {
    <span style="color: #8b2252;">"lib"</span>: <span style="color: #8b2252;">"lib"</span>
  },
  <span style="color: #8b2252;">"scripts"</span>: {
    <span style="color: #8b2252;">"test"</span>: <span style="color: #8b2252;">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  },
  <span style="color: #8b2252;">"author"</span>: <span style="color: #8b2252;">"jasper"</span>,
  <span style="color: #8b2252;">"license"</span>: <span style="color: #8b2252;">"MIT"</span>,
  <span style="color: #8b2252;">"description"</span>: <span style="color: #8b2252;">""</span>
}


Is this OK? (yes) y


<span style="color: #b22222;">#</span><span style="color: #b22222;">&#30446;&#24405;&#32467;&#26500;</span>
D:.
&#9474;  package.json
&#9474;
&#9500;&#9472;lib
&#9492;&#9472;src
        t1.js
        t2.js

cat package.json
{
  <span style="color: #8b2252;">"name"</span>: <span style="color: #8b2252;">"test"</span>,
  <span style="color: #8b2252;">"version"</span>: <span style="color: #8b2252;">"1.0.0"</span>,
  <span style="color: #8b2252;">"main"</span>: <span style="color: #8b2252;">"index.js"</span>,
  <span style="color: #8b2252;">"directories"</span>: {
    <span style="color: #8b2252;">"lib"</span>: <span style="color: #8b2252;">"lib"</span>
  },
  <span style="color: #8b2252;">"scripts"</span>: {
    <span style="color: #8b2252;">"test"</span>: <span style="color: #8b2252;">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  },
  <span style="color: #8b2252;">"author"</span>: <span style="color: #8b2252;">"jasper"</span>,
  <span style="color: #8b2252;">"license"</span>: <span style="color: #8b2252;">"MIT"</span>,
  <span style="color: #8b2252;">"description"</span>: <span style="color: #8b2252;">""</span>
}

<span style="color: #b22222;">#</span><span style="color: #b22222;">package.json &#26681;&#30446;&#24405;, &#36825;&#20010;&#25991;&#20214;&#24456;&#37325;&#35201;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20808;&#23545;&#39033;&#30446;&#21021;&#22987;&#21270;&#65292;&#25165;&#21487;&#20197;&#20351;&#29992;babel</span>
</pre>
</div>

<p>
在项目根目录下会生成package.json文件，内容就是上面花括号的内容
</p>
</div>
</li>
<li><a id="h:5181f51a-22bb-43e5-9a84-b0fb1487317d"></a>2、设置镜像<br>
<div class="outline-text-6" id="text-h:5181f51a-22bb-43e5-9a84-b0fb1487317d">
<p>
为了连接国内的服务器，当前项目创建一个配置 .npmrc文件
</p>
<ul class="org-ul">
<li>可以放在全局配置下，所有人用</li>
<li>可以放到用户家目录中，当前用户下所有项目使用</li>
<li>可以放到项目根目录中，当前项目用（推荐此种做法）</li>
</ul>

<p>
参考 <a href="https://developer.aliyun.com/mirror/NPM">https://developer.aliyun.com/mirror/NPM</a>
</p>

<p>
本次放到项目根目录中，内容如下 registry=<a href="https://registry.npmmirror.com">https://registry.npmmirror.com</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#25918;&#22312;&#24403;&#21069;&#39033;&#30446;&#19979;&#65292;&#20248;&#21270;&#35835;&#21462;.npmrc&#20869;&#23481;</span>
<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">"registry=https://registry.npmmirror.com"</span> &gt; .npmrc
</pre>
</div>
</div>
</li>
<li><a id="h:0d1f07b6-5971-463a-b0af-abfd13dd85fe"></a>3、安装<br>
<div class="outline-text-6" id="text-h:0d1f07b6-5971-463a-b0af-abfd13dd85fe">
<p>
项目根目录下执行
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">babel7 &#24320;&#21457;&#26102;&#20381;&#36182;</span>
npm install --save-dev @babel/core @babel/cli 
<span style="color: #b22222;">#</span><span style="color: #b22222;">npm install --save-dev @babel/core @babel/cli @babel/preset-env</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#23545;&#24212;package.json&#19979;&#28155;&#21152;&#24320;&#21457;&#26102;&#20381;&#36182;&#65292;"devDependencies": </span>

PS D:\project\pyprojs\trae\mypro&gt; npm list
test@1.0.0 D:\project\pyprojs\trae\mypro
&#9500;&#9472;&#9472; @babel/cli@7.27.2
&#9492;&#9472;&#9472; @babel/core@7.27.1

<span style="color: #b22222;">#</span><span style="color: #b22222;">babel6</span>
npm install babel-core babel-cli --save-dev
</pre>
</div>

<pre class="example" id="org5bd2dc3">
--save-dev说明
当你为你的模块安装一个依赖模块时，正常情况下你得先安装他们（在模块根目
录下npm install module-name），然后连同版本号手动将他们添加到模块配置
文件package.json中的依赖里（dependencies）。开发用

--save和--save-dev可以省掉你手动修改package.json文件的步骤
spm install module-name --save 自动把模块和版本号添加到dependencies部分。部署运行时用
spm install module-name --save-dev 自动把模块和版本号添加到devdependencies部分


-g 安装全局，非万不得，不要使用
没有加 -g 默认安装到当前项目中
</pre>

<p>
安装完后，在项目根目录下出现 node_modules目录 ，里面有babel相关模块及依赖的模块。
</p>
</div>
</li>
<li><a id="h:43566894-9307-4537-b5bb-fe1422b21e0d"></a>4、配置babel和安装预设<br>
<div class="outline-text-6" id="text-h:43566894-9307-4537-b5bb-fe1422b21e0d">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">babel7</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#39033;&#30446;&#30340;&#26681;&#30446;&#24405;&#20013;&#21019;&#24314;&#19968;&#20010;&#21517;&#20026; babel.config.json</span>
{
  <span style="color: #8b2252;">"presets"</span>: [
    [
      <span style="color: #8b2252;">"@babel/preset-env"</span>,
      {
        <span style="color: #8b2252;">"targets"</span>: {
          <span style="color: #8b2252;">"edge"</span>: <span style="color: #8b2252;">"17"</span>,
          <span style="color: #8b2252;">"firefox"</span>: <span style="color: #8b2252;">"60"</span>,
          <span style="color: #8b2252;">"chrome"</span>: <span style="color: #8b2252;">"67"</span>,
          <span style="color: #8b2252;">"safari"</span>: <span style="color: #8b2252;">"11.1"</span>
        },
        <span style="color: #8b2252;">"useBuiltIns"</span>: <span style="color: #8b2252;">"usage"</span>,
        <span style="color: #8b2252;">"corejs"</span>: <span style="color: #8b2252;">"3.6.5"</span>
      }
    ]
  ]
}
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#24517;&#39035;&#38024;&#23545;&#35201;&#25903;&#25345;&#30340;&#27983;&#35272;&#22120;&#23545;&#20854;&#36827;&#34892;&#35843;&#25972;&#12290;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">babel6</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#30446;&#24405;&#26681;&#30446;&#24405;&#19979;&#21019;&#24314; .babelrc &#25991;&#20214;&#65292;Json&#26684;&#24335;</span>
{  <span style="color: #8b2252;">"presets"</span>: [<span style="color: #8b2252;">"env"</span>] }
</pre>
</div>

<p>
env 可以根据当前环境自动选择. 安装依赖
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">babel7</span>
npm install --save-dev @babel/preset-env
npm install --save core-js

<span style="color: #b22222;">#</span><span style="color: #b22222;">babel6</span>
npm install babel-preset-env --save-dev
</pre>
</div>

<p>
然后运行这个命令，把你所有的代码从 src 目录编译到 lib目录：
</p>
<div class="org-src-container">
<pre class="src src-sh">./node_modules/.bin/babel src --out-dir lib
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;&#32773;&#29992; npx babel src -d lib</span>
</pre>
</div>
</div>
</li>
<li><a id="h:96097642-9712-464e-87f0-ddff14389e8f"></a>5、准备目录<br>
<div class="outline-text-6" id="text-h:96097642-9712-464e-87f0-ddff14389e8f">
<p>
项目根目录下建立src和lib目录
</p>
<ul class="org-ul">
<li>src 是源码目录</li>
<li>lib 是目标目录</li>
<li>public 是静态目录</li>
</ul>
</div>
</li>
<li><a id="h:1637d711-7779-4615-b62e-583681328ad3"></a>6、修改package.json<br>
<div class="outline-text-6" id="text-h:1637d711-7779-4615-b62e-583681328ad3">
<p>
替换为 scripts 的部分
</p>

<div class="org-src-container">
<pre class="src src-sh">{
  <span style="color: #8b2252;">"name"</span>: <span style="color: #8b2252;">"test"</span>,
  <span style="color: #8b2252;">"version"</span>: <span style="color: #8b2252;">"1.0.0"</span>,
  <span style="color: #8b2252;">"main"</span>: <span style="color: #8b2252;">"index.js"</span>,
  <span style="color: #8b2252;">"directories"</span>: {
    <span style="color: #8b2252;">"lib"</span>: <span style="color: #8b2252;">"lib"</span>
  },
  <span style="color: #8b2252;">"scripts"</span>: {
    <span style="color: #8b2252;">"build"</span>:<span style="color: #8b2252;">"babel src -d lib"</span>
  },
  <span style="color: #8b2252;">"author"</span>: <span style="color: #8b2252;">"jasper"</span>,
  <span style="color: #8b2252;">"license"</span>: <span style="color: #8b2252;">"MIT"</span>,
  <span style="color: #8b2252;">"description"</span>: <span style="color: #8b2252;">""</span>,
  <span style="color: #8b2252;">"devDependencies"</span>: {
    <span style="color: #8b2252;">"@babel/cli"</span>: <span style="color: #8b2252;">"^7.27.2"</span>,
    <span style="color: #8b2252;">"@babel/core"</span>: <span style="color: #8b2252;">"^7.27.1"</span>,
    <span style="color: #8b2252;">"@babel/preset-env"</span>: <span style="color: #8b2252;">"^7.27.2"</span>
  }
}
</pre>
</div>

<p>
babel src -d lib 意思是从src目录中转译后的文件输出到lib目录
</p>

<p>
这样就可以在项目根下，用命令执行了。
</p>
<div class="org-src-container">
<pre class="src src-sh">npm run build <span style="color: #b22222;">#</span><span style="color: #b22222;">&#30456;&#24403;&#20110;&#20570;scripts&#20013;&#30340;build&#21629;&#20196;&#12290;&#36825;&#37324;&#26159; babel src -d lib</span>
</pre>
</div>
</div>
</li>
<li><a id="h:edb5ba74-08a9-4f4c-8795-92ff036b6e6c"></a>7、准备js文件<br>
<div class="outline-text-6" id="text-h:edb5ba74-08a9-4f4c-8795-92ff036b6e6c">
<p>
在src中的moda.js文件
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20986;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">default</span> <span style="color: #a020f0;">class</span> A{
  constructor(x){
      <span style="color: #008b8b;">this</span>.x = x;
  }
  show(){
      console.log(<span style="color: #008b8b;">this</span>.x)
  }
}

<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">function</span> foo(){
  console.log(<span style="color: #8b2252;">'foo function'</span>)
}

<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">const</span> <span style="color: #a0522d;">constV</span> = 1234
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">x</span> = 2345;
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">let</span> <span style="color: #a0522d;">y</span> = 3456;
</pre>
</div>

<p>
src目录下新建index.js
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> A, {foo, constV, x, y} from <span style="color: #8b2252;">'./t1.js'</span>;

foo()
console.log(constV, x, y);

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">a</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">A</span>(<span style="color: #8b2252;">'abc'</span>);
<span style="color: #b22222;">// </span><span style="color: #b22222;">a.show();</span>
console.log(a.x);
</pre>
</div>

<p>
直接在VS Code的环境下执行出错。估计很难有能够正常运行的环境。所以，要转译为ES5的代码。
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#22312;&#39033;&#30446;&#26681;&#30446;&#24405;&#19979;&#25191;&#34892;&#21629;&#20196;</span>
npm run build
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21487;&#20197;&#22312;lib&#25991;&#20214;&#22841;&#20013;&#30475;&#21040;&#65292;2&#20010;&#25991;&#20214;&#34987;&#36716;&#35793;</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36816;&#34892;&#25991;&#20214;</span>
node lib/index.js
</pre>
</div>


<p>
使用babel等转译器转译JS非常流行.
</p>

<p>
开发者可以在高版本中使用新的语法特性，提高开发效率，把兼容性问题交给转译器处理。
</p>

<p>
npx是包之心器命令从npm 5.2开始提供。npx可以直接执行已经安装过的包的命令，而不用配置package.json中的run-script。
</p>

<div class="org-src-container">
<pre class="src src-sh">npx babel src -d lib
node lib/index.js
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-h:3f02874f-47c1-4ed0-92ca-bb2e73a5030d" class="outline-4">
<h4 id="h:3f02874f-47c1-4ed0-92ca-bb2e73a5030d">导入导出</h4>
<div class="outline-text-4" id="text-h:3f02874f-47c1-4ed0-92ca-bb2e73a5030d">
<p>
导出代码都在src/moda.js中，导入代码都写在src/index.js中
</p>
</div>
<div id="outline-container-h:6e4b491d-e733-4315-98c1-772d24106e2d" class="outline-5">
<h5 id="h:6e4b491d-e733-4315-98c1-772d24106e2d">缺省导入导出</h5>
<div class="outline-text-5" id="text-h:6e4b491d-e733-4315-98c1-772d24106e2d">
<p>
只允许一个缺省导出，缺省导出可以是变量、函数、类，但不能使用let、var、const关键字作为默认导出
</p>

<ul class="org-ul">
<li>缺省导入的时候，可以自己重新命名，可以不需要和缺省导出时的名称一致，但最好一致.</li>
<li>缺省导入，不需要在import后使用花括号</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20986; &#21311;&#21517;&#20989;&#25968;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">default</span> <span style="color: #a020f0;">function</span>(){
    console.log(<span style="color: #8b2252;">'default export function'</span>)
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20837;</span>
<span style="color: #a020f0;">import</span> defaultFunc from <span style="color: #8b2252;">'/.moda'</span>
defaultFunc();



<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20986; &#21629;&#21517;&#20989;&#25968;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">default</span> <span style="color: #a020f0;">function</span> xyz(){
    console.log(<span style="color: #8b2252;">'default export function'</span>)
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20837;</span>
<span style="color: #a020f0;">import</span> defaultFunc from <span style="color: #8b2252;">'./moda'</span>
defaultFunc();
</pre>
</div>
</div>
</div>
<div id="outline-container-h:cea74577-1ca0-4cc8-9728-b677060ccea9" class="outline-5">
<h5 id="h:cea74577-1ca0-4cc8-9728-b677060ccea9">命名导入导出</h5>
<div class="outline-text-5" id="text-h:cea74577-1ca0-4cc8-9728-b677060ccea9">
<p>
导出举例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#32570;&#30465;&#23548;&#20986;&#31867;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">default</span> <span style="color: #a020f0;">class</span> {
    constructor(x) {
        <span style="color: #008b8b;">this</span>.x = x;
    }
    show() {
        console.log(<span style="color: #008b8b;">this</span>.x);
    }
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21629;&#21517;&#23548;&#20986; &#20989;&#25968;</span>
<span style="color: #a020f0;">export</span> <span style="color: #a020f0;">function</span> foo() {
    console.log(<span style="color: #8b2252;">'regular foo()'</span>);
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20989;&#25968;&#23450;&#20041;</span>
<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">bar</span>() {
    console.log(<span style="color: #8b2252;">'regular bar()'</span>);
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21464;&#37327;&#24120;&#37327;&#23450;&#20041;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">x</span> = 100;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">y</span> = 200;
<span style="color: #a020f0;">const</span> <span style="color: #a0522d;">z</span> = 300;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23548;&#20986;</span>
<span style="color: #a020f0;">export</span> { bar, x, y, z };
</pre>
</div>

<p>
导入举例
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">as &#35774;&#32622;&#21035;&#21517;</span>
<span style="color: #a020f0;">import</span> defaultCls, { foo, bar, x, y, z as CONST_C } from <span style="color: #8b2252;">'./moda'</span>;

foo();
bar();
console.log(x); <span style="color: #b22222;">// </span><span style="color: #b22222;">x&#21482;&#35835;&#65292;&#19981;&#21487;&#20462;&#25913;&#65292;x++&#24322;&#24120;</span>
console.log(y); <span style="color: #b22222;">// </span><span style="color: #b22222;">y&#21482;&#35835;</span>
console.log(CONST_C);
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">defaultCls</span>(1000).show();
</pre>
</div>


<p>
也可以使用下面的形式，导入所有导出，但是会定义一个新的名词空间。使用名词空间可以避免冲突
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> * as newmod from <span style="color: #8b2252;">'./mod'</span>;

newmod.foo();
newmod.bar();
<span style="color: #a020f0;">new</span> newmod.<span style="color: #a020f0;">default</span>(2000).show();
</pre>
</div>

<p>
范例
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #b22222;">// </span><span style="color: #b22222;">import DefaultCls, {foo, constV as v, x, y} from './t1.js';</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">foo()</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(v, x, y);</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">let a = new DefaultCls('abc');</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">// a.show();</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(a.x);</span>

<span style="color: #a020f0;">import</span> * as newMod from <span style="color: #8b2252;">'./t1.js'</span>;  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23548;&#20837;&#25152;&#26377;&#25918;&#20837;&#23545;&#35937;&#20013;</span>
console.log(newMod);
console.log(<span style="color: #a020f0;">new</span> newMod.<span style="color: #a020f0;">default</span>(<span style="color: #8b2252;">'abc'</span>).x)
console.log(newMod.x, newMod.y, newMod.constV)
newMod.foo()
<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#25191;&#34892;&#32467;&#26524; npx babel src -d lib; node lib/t2.js</span>
<span style="color: #b22222;">{</span>
<span style="color: #b22222;">  constV: 1234,</span>
<span style="color: #b22222;">  default: [class A],</span>
<span style="color: #b22222;">  foo: [Function: foo],</span>
<span style="color: #b22222;">  x: 2345,</span>
<span style="color: #b22222;">  y: 3456</span>
<span style="color: #b22222;">}</span>
<span style="color: #b22222;">abc</span>
<span style="color: #b22222;">2345 3456 1234</span>
<span style="color: #b22222;">foo function</span>
<span style="color: #b22222;">*/</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
