<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Python: WEBå¼€å‘-react</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>æŠ€æœ¯</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>é˜…è¯»</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/archives.html class=nobracket data-astro-cid-pux6a34n>å½’æ¡£</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>å‹é“¾</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>å…³äº</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              ğŸ† æ¬¢è¿æ¥åˆ°æœ¬ç«™ï¼š
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>ã€‚
              <strong>å¸Œæœ›è¿™é‡Œæœ‰ä½ æ„Ÿå…´è¶£çš„å†…å®¹</strong>ã€‚
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">Python: WEBå¼€å‘-react</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#h:e0381a37-bb3c-4bb1-a725-474027b2d6c5">Reacté¡¹ç›®æ„å»º</a>
<ul>
<li><a href="#h:6fc6f19f-fa12-4802-b7cf-3819929b346d">é¡¹ç›®ä¾èµ–å®‰è£…</a></li>
<li><a href="#h:ea76929b-7b4e-4ca8-a3d9-12ce04e469de">é¡¹ç›®æ•´ä½“è¯´æ˜</a></li>
<li><a href="#h:e6f89ae0-205c-4c90-9f90-9a1c4bbbffd7">é…ç½®æ–‡ä»¶è¯¦è§£</a>
<ul>
<li><a href="#h:7d264ecd-4183-4b21-bf1d-ce3239e43e88">package.json</a>
<ul>
<li><a href="#h:a0b2b3d6-c86d-4fef-a822-f837c2cee0f9">ç‰ˆæœ¬ç®¡ç†</a></li>
<li><a href="#h:e42b6099-8e41-4501-91eb-3479e7ce5735">é¡¹ç›®è„šæœ¬ç®¡ç†</a></li>
<li><a href="#h:7f24e2a6-c84b-4a25-b351-45a4880b2810">é¡¹ç›®ä¾èµ–</a></li>
<li><a href="#h:fb206ef9-fcae-47bf-9312-67e9c9b1c5ee">å¼€å‘æ˜¯ä¾èµ–</a></li>
<li><a href="#h:dfbff546-bd1c-4167-a14b-62fad09fad2e">è¿è¡Œæ—¶ä¾èµ–</a></li>
</ul>
</li>
<li><a href="#h:50c5bf12-8214-49d3-8dfc-4e79763f0077">babelé…ç½®</a></li>
<li><a href="#h:f16a60ec-1cfc-4d02-b521-e2fb6bc95523">webpacké…ç½®</a>
<ul>
<li><a href="#h:8219a6b4-0337-453b-ad8a-0c3f996d1161">webpack.config.dev.js</a></li>
</ul>
</li>
<li><a href="#h:261941f1-01ae-4538-a3e3-3464508cda47">vscodeé…ç½®</a></li>
</ul>
</li>
<li><a href="#h:154d9e8c-2715-49e1-a6e1-179f0a5a4cfa">å¯åŠ¨é¡¹ç›®</a></li>
</ul>
</li>
<li><a href="#h:475cc518-6293-441a-8315-fcdbfd8eb82a">ReactæŠ€æœ¯</a>
<ul>
<li><a href="#h:cde2f5cb-f82a-4ded-8475-4b3ef8d7cb23">ç®€ä»‹</a>
<ul>
<li><a href="#h:788d552b-1e2f-461b-8b71-1c697467cbc8">Virtual DOM</a></li>
<li><a href="#h:4e7cd2f0-8325-4578-92bd-001d6a6494dc">æ”¯æŒJSXè¯­æ³•</a></li>
</ul>
</li>
<li><a href="#h:9e2e3ddb-61c5-4071-91fc-07ab02fcb1e5">æµ‹è¯•ç¨‹åº</a>
<ul>
<li><a href="#h:513ec94d-6b4a-47a6-9f02-9774a8583a0f">ç¨‹åºè§£é‡Š</a></li>
</ul>
</li>
<li><a href="#h:acbb7e3f-6f06-4d6e-b19a-dc8df3561f65">JSXè§„èŒƒ</a></li>
<li><a href="#h:7ef6fa73-f71b-49b0-8344-faeb4a6067c3">ç»„ä»¶çŠ¶æ€state **</a>
<ul>
<li><a href="#h:a3379f82-ab16-43e6-9aa5-f720a2c59163">å¤æ‚çš„çŠ¶æ€ä¾‹å­</a></li>
<li><a href="#h:fdd6bb5a-e2b5-4701-b0e9-6195a510de3b">HTML DOMçš„JavaScriptäº‹ä»¶</a></li>
</ul>
</li>
<li><a href="#h:250d3c93-4e40-4ade-bbf4-2634d3244f2a">å±æ€§props</a></li>
<li><a href="#h:8ce34831-173d-47cb-82ac-159709a552df">å•å‘æ•°æ®æµ</a></li>
<li><a href="#h:cb17f0b3-0c0b-486f-8f7c-8dbe43d45b03">æ„é€ å™¨constructor</a></li>
<li><a href="#h:0164d06c-7b64-4ea8-afd1-6e4fdb8d5140">ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</a></li>
<li><a href="#h:d4ca3e0f-3b96-4fc0-b642-9d8a9bce90c3">å‡½æ•°å¼ç»„ä»¶</a></li>
<li><a href="#h:b868542a-7890-4a14-be44-7b643600401e">é«˜é˜¶ç»„ä»¶</a>
<ul>
<li><a href="#h:aabac657-b75e-4d67-8805-f6e05bdb8cf2">è£…é¥°å™¨</a></li>
<li><a href="#h:8eda4a1c-bcc1-4ce2-be44-e7c241682f75">å¸¦å‚è£…é¥°å™¨</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Python</a></li>
</ul>
<section id="outline-container-h:e0381a37-bb3c-4bb1-a725-474027b2d6c5" class="outline-2">
<h2 id="h:e0381a37-bb3c-4bb1-a725-474027b2d6c5">Reacté¡¹ç›®æ„å»º</h2>
<div class="outline-text-2" id="text-h:e0381a37-bb3c-4bb1-a725-474027b2d6c5">
</div>
<div id="outline-container-h:6fc6f19f-fa12-4802-b7cf-3819929b346d" class="outline-3">
<h3 id="h:6fc6f19f-fa12-4802-b7cf-3819929b346d">é¡¹ç›®ä¾èµ–å®‰è£…</h3>
<div class="outline-text-3" id="text-h:6fc6f19f-fa12-4802-b7cf-3819929b346d">
<p>
å°†é¡¹ç›®å¼€å‘åŸºç¡€æ–‡ä»¶ react-mobx-starter-master.zip è§£å‹ç¼©ï¼Œå¹¶ç”¨è¿™ä¸ªç›®å½•ä½œä¸ºé¡¹ç›®æ ¹ç›®å½•ã€‚
</p>

<p>
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå°±ä¼šè‡ªåŠ¨æŒ‰ç…§package.jsonçš„é…ç½®å®‰è£…ä¾èµ–æ¨¡å—ã€‚
</p>
<div class="org-src-container">
<pre class="src src-sh">npm install <span style="color: #b22222;">#</span><span style="color: #b22222;">&#25110;&#32773; $ npm i</span>
</pre>
</div>

<p>
å®‰è£…å®Œæˆåï¼Œä¼šç”Ÿæˆä¸€ä¸ªç›®å½• node_modules ï¼Œé‡Œé¢æ˜¯å®‰è£…çš„æ‰€æœ‰ä¾èµ–çš„æ¨¡å—
</p>
</div>
</div>
<div id="outline-container-h:ea76929b-7b4e-4ca8-a3d9-12ce04e469de" class="outline-3">
<h3 id="h:ea76929b-7b4e-4ca8-a3d9-12ce04e469de">é¡¹ç›®æ•´ä½“è¯´æ˜</h3>
<div class="outline-text-3" id="text-h:ea76929b-7b4e-4ca8-a3d9-12ce04e469de">
<p>
é¡¹ç›®ç›®å½•ç»“æ„
</p>
<div class="org-src-container">
<pre class="src src-js">.
&#9500;&#9472;&#9472; .babelrc
&#9500;&#9472;&#9472; .gitignore
&#9500;&#9472;&#9472; index.html #&#27979;&#35797;&#26102;&#29992;&#30340;
&#9500;&#9472;&#9472; jsconfig.json
&#9500;&#9472;&#9472; LICENSE
&#9500;&#9472;&#9472; .npmrc
&#9500;&#9472;&#9472; <span style="color: #a020f0;">package</span>.json
&#9500;&#9472;&#9472; README.md
&#9500;&#9472;&#9472; src
&#9474; &#9500;&#9472;&#9472; App.js
&#9474; &#9500;&#9472;&#9472; AppState.js
&#9474; &#9500;&#9472;&#9472; index.html #&#25171;&#21253;&#26102;&#29992;&#30340;
&#9474; &#9492;&#9472;&#9472; index.js
&#9500;&#9472;&#9472; node_modules
&#9474; &#9500;&#9472;&#9472; ...
&#9500;&#9472;&#9472; webpack.config.dev.js
&#9492;&#9472;&#9472; webpack.config.prod.js
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e6f89ae0-205c-4c90-9f90-9a1c4bbbffd7" class="outline-3">
<h3 id="h:e6f89ae0-205c-4c90-9f90-9a1c4bbbffd7">é…ç½®æ–‡ä»¶è¯¦è§£</h3>
<div class="outline-text-3" id="text-h:e6f89ae0-205c-4c90-9f90-9a1c4bbbffd7">
</div>
<div id="outline-container-h:7d264ecd-4183-4b21-bf1d-ce3239e43e88" class="outline-4">
<h4 id="h:7d264ecd-4183-4b21-bf1d-ce3239e43e88">package.json</h4>
<div class="outline-text-4" id="text-h:7d264ecd-4183-4b21-bf1d-ce3239e43e88">
<p>
$ npm init äº§ç”Ÿçš„æ–‡ä»¶ï¼Œé‡Œé¢è®°å½•é¡¹ç›®ä¿¡æ¯ï¼Œæ‰€æœ‰é¡¹ç›®ä¾èµ–
</p>
</div>
<div id="outline-container-h:a0b2b3d6-c86d-4fef-a822-f837c2cee0f9" class="outline-5">
<h5 id="h:a0b2b3d6-c86d-4fef-a822-f837c2cee0f9">ç‰ˆæœ¬ç®¡ç†</h5>
<div class="outline-text-5" id="text-h:a0b2b3d6-c86d-4fef-a822-f837c2cee0f9">
<p>
å¯æŒ‡å®šåˆ°å¯¹åº”çš„gitä»“åº“
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"repository"</span>: { 
    <span style="color: #8b2252;">"type"</span>: <span style="color: #8b2252;">"git"</span>, 
    <span style="color: #8b2252;">"url"</span>: <span style="color: #8b2252;">"https://192.168.124.135/react-mobx/react-mobx-starter.git"</span>
}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:e42b6099-8e41-4501-91eb-3479e7ce5735" class="outline-5">
<h5 id="h:e42b6099-8e41-4501-91eb-3479e7ce5735">é¡¹ç›®è„šæœ¬ç®¡ç†</h5>
<div class="outline-text-5" id="text-h:e42b6099-8e41-4501-91eb-3479e7ce5735">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"scripts"</span>: {
    <span style="color: #8b2252;">"test"</span>: <span style="color: #8b2252;">"jest"</span>,
    <span style="color: #8b2252;">"start"</span>: <span style="color: #8b2252;">"webpack-dev-server --config webpack.config.dev.js --hot --inline"</span>,
    <span style="color: #8b2252;">"build"</span>: <span style="color: #8b2252;">"rimraf dist &amp;&amp; webpack -p --config webpack.config.prod.js"</span>
}
</pre>
</div>

<p>
scriptså±æ€§æ˜¯ä¸€ä¸ªå­—å…¸æè¿°ï¼Œkeyæ˜¯åå­—ï¼Œvalueæ˜¯èƒ½å¤Ÿè®©npmè¿è¡Œçš„è„šæœ¬å†…å®¹ã€‚
</p>

<p>
è¿è¡Œæ—¶åªè¦è¾“å…¥ <code>npm run key_name</code> å³å¯ã€‚
</p>

<p>
start æŒ‡å®šå¯åŠ¨webpackçš„dev serverå¼€å‘ç”¨WEB Serverï¼Œ
ä¸»è¦æä¾›2ä¸ªåŠŸèƒ½ï¼šé™æ€æ–‡ä»¶æ”¯æŒã€è‡ªåŠ¨åˆ·æ–°å’Œ <b>çƒ­æ›¿æ¢HMR(Hot Module replacement)</b> ã€‚å¯¹åº” <code>npm run start</code>
</p>

<ul class="org-ul">
<li>&#x2013;hot å¯åŠ¨HMR
<ul class="org-ul">
<li>HRMå¯ä»¥åœ¨åº”ç”¨ç¨‹åºè¿è¡Œä¸­æ›¿æ¢ã€æ·»åŠ ã€åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡è½½é¡µé¢ï¼ŒåªæŠŠå˜åŒ–éƒ¨åˆ†æ›¿æ¢æ‰ã€‚ä¸ä½¿ç”¨HMRåˆ™è‡ªåŠ¨åˆ·æ–°ä¼šå¯¼è‡´è¿™ä¸ªé¡µé¢åˆ·æ–°</li>
</ul></li>

<li>&#x2013;inline é»˜è®¤æ¨¡å¼, ä½¿ç”¨HMRçš„æ—¶å€™å»ºè®®å¼€å¯inlineæ¨¡å¼ã€‚çƒ­æ›¿æ¢æ—¶ä¼šæœ‰æ¶ˆæ¯æ˜¾ç¤ºåœ¨æ§åˆ¶å°</li>
</ul>

<p>
build ä½¿ç”¨webpackæ„å»ºæ‰“åŒ…ã€‚å¯¹åº” <code>npm run build</code>
</p>
</div>
</div>
<div id="outline-container-h:7f24e2a6-c84b-4a25-b351-45a4880b2810" class="outline-5">
<h5 id="h:7f24e2a6-c84b-4a25-b351-45a4880b2810">é¡¹ç›®ä¾èµ–</h5>
<div class="outline-text-5" id="text-h:7f24e2a6-c84b-4a25-b351-45a4880b2810">
<p>
devDependencies å¼€å‘æ—¶ä¾èµ–ï¼Œä¸ä¼šæ‰“åŒ…åˆ°ç›®æ ‡æ–‡ä»¶ä¸­ã€‚å¯¹åº” <code>npm install xxx --save-dev</code>
</p>

<p>
ä¾‹å¦‚babelçš„ä¸€äº›ä¾èµ–ï¼Œåªæ˜¯ä¸ºäº†å¸®æˆ‘ä»¬è½¬è¯‘ä»£ç ï¼Œæ²¡æœ‰å¿…è¦å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒä¸­.
</p>

<p>
dependencies è¿è¡Œæ—¶ä¾èµ–ï¼Œä¼šæ‰“åŒ…åˆ°é¡¹ç›®ä¸­ã€‚å¯¹åº” <code>npm install xxx --save</code>
</p>
</div>
</div>
<div id="outline-container-h:fb206ef9-fcae-47bf-9312-67e9c9b1c5ee" class="outline-5">
<h5 id="h:fb206ef9-fcae-47bf-9312-67e9c9b1c5ee">å¼€å‘æ˜¯ä¾èµ–</h5>
<div class="outline-text-5" id="text-h:fb206ef9-fcae-47bf-9312-67e9c9b1c5ee">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8b2252;">"devDependencies"</span>: {
    <span style="color: #8b2252;">"babel-core"</span>: <span style="color: #8b2252;">"^6.24.1"</span>,
    <span style="color: #8b2252;">"babel-jest"</span>: <span style="color: #8b2252;">"^19.0.0"</span>,
    <span style="color: #8b2252;">"babel-loader"</span>: <span style="color: #8b2252;">"^6.4.1"</span>,
    <span style="color: #8b2252;">"babel-plugin-transform-decorators-legacy"</span>: <span style="color: #8b2252;">"^1.3.4"</span>,
    <span style="color: #8b2252;">"babel-plugin-transform-runtime"</span>: <span style="color: #8b2252;">"^6.23.0"</span>,
    <span style="color: #8b2252;">"babel-preset-env"</span>: <span style="color: #8b2252;">"^1.4.0"</span>,
    <span style="color: #8b2252;">"babel-preset-react"</span>: <span style="color: #8b2252;">"^6.24.1"</span>,
    <span style="color: #8b2252;">"babel-preset-stage-0"</span>: <span style="color: #8b2252;">"^6.24.1"</span>,
    <span style="color: #8b2252;">"css-loader"</span>: <span style="color: #8b2252;">"^0.28.0"</span>,
    <span style="color: #8b2252;">"html-webpack-plugin"</span>: <span style="color: #8b2252;">"^2.28.0"</span>,
    <span style="color: #8b2252;">"jest"</span>: <span style="color: #8b2252;">"^19.0.2"</span>,
    <span style="color: #8b2252;">"less"</span>: <span style="color: #8b2252;">"^2.7.2"</span>,
    <span style="color: #8b2252;">"less-loader"</span>: <span style="color: #8b2252;">"^4.0.3"</span>,
    <span style="color: #8b2252;">"react-hot-loader"</span>: <span style="color: #8b2252;">"^4.3.12"</span>,
    <span style="color: #8b2252;">"rimraf"</span>: <span style="color: #8b2252;">"^2.6.2"</span>,
    <span style="color: #8b2252;">"source-map"</span>: <span style="color: #8b2252;">"^0.5.6"</span>,
    <span style="color: #8b2252;">"source-map-loader"</span>: <span style="color: #8b2252;">"^0.2.1"</span>,
    <span style="color: #8b2252;">"style-loader"</span>: <span style="color: #8b2252;">"^0.16.1"</span>,
    <span style="color: #8b2252;">"uglify-js"</span>: <span style="color: #8b2252;">"^2.8.22"</span>,
    <span style="color: #8b2252;">"webpack"</span>: <span style="color: #8b2252;">"^2.4.1"</span>,
    <span style="color: #8b2252;">"webpack-dev-server"</span>: <span style="color: #8b2252;">"^2.4.2"</span>
}
</pre>
</div>

<p>
ç‰ˆæœ¬å·æŒ‡å®š
</p>
<ul class="org-ul">
<li>ç‰ˆæœ¬å· ï¼Œåªå®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„</li>
<li>~ç‰ˆæœ¬å· ï¼Œä¾‹å¦‚ ~1.2.3 è¡¨ç¤ºå®‰è£…1.2.xä¸­æœ€æ–°ç‰ˆæœ¬ï¼Œä¸ä½äº1.2.3ï¼Œä½†ä¸èƒ½å®‰è£…1.3.x</li>
<li>^ç‰ˆæœ¬å· ï¼Œä¾‹å¦‚ ^2.4.1 è¡¨ç¤ºå®‰è£…2.x.xæœ€æ–°ç‰ˆæœ¬ä¸ä½äº2.4.1</li>
<li>latest ï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬</li>
<li>1.2.xæˆ–1.x</li>
<li>* ä»»æ„ç‰ˆæœ¬</li>
<li>1.2.7 || &gt;=1.2.9 &lt;2.0.0, å¯ä»¥å®‰è£…1.2.7ï¼Œæˆ–è€…1.2.9æœ¬èº«æˆ–è€…ä¹‹ä¸Šçš„1.2.xç‰ˆæœ¬ï¼Œä½†ä¸èƒ½æ˜¯2.xç‰ˆæœ¬ã€‚</li>
</ul>

<p>
babel è½¬è¯‘
</p>
<ul class="org-ul">
<li>å› ä¸ºå¼€å‘ç”¨äº†å¾ˆå¤šES6è¯­æ³•ã€‚ä»6.xå¼€å§‹babelæ‹†åˆ†æˆå¾ˆå¤šæ’ä»¶ï¼Œéœ€è¦ä»€ä¹ˆå¼•å…¥ä»€ä¹ˆã€‚</li>
<li>babel-core æ ¸å¿ƒ</li>
<li>babel-loader webpackçš„loaderï¼Œwebpackæ˜¯åŸºäºloaderè£…è½½å™¨çš„ã€‚æŠŠHTML,CSS,JS,å›¾ç‰‡,å­—ä½“ç­‰èµ„æºçœ‹åšæ¨¡å—ï¼Œå°±å¯ä»¥åƒ
JSä¸€æ ·åŠ è½½è¿™äº›æ¨¡å—ã€‚æ–‡ä»¶ç±»å‹ä¸åŒï¼Œå°±éœ€è¦å„ç§å„æ ·çš„loaderã€‚babel-loaderåŠ è½½ES6+ä»£ç è½¬æ¢ä¸ºES5.</li>
<li>babel-preset-xxx é¢„è®¾çš„è½¬æ¢æ’ä»¶</li>
<li>babel-plugin-transform-decorators-legacy ä¸‹é¢çš„è¯¾ç¨‹ç”¨åˆ°äº†è£…é¥°å™¨ï¼Œè¿™ä¸ªæ’ä»¶å°±æ˜¯è½¬æ¢è£…é¥°å™¨ç”¨çš„</li>
</ul>

<p>
cssæ ·å¼ç›¸å…³
</p>
<ul class="org-ul">
<li>css-loaderã€style-loaderæ ·å¼è¡¨åŠ è½½å™¨</li>
<li>lessã€less-loaderæ˜¯å¯¹lessæ–‡ä»¶çš„æ”¯æŒ</li>
<li>react-hot-loader æ˜¯reactçƒ­åŠ è½½æ’ä»¶ï¼Œå¸Œæœ›æ”¹åŠ¨ä¿å­˜åï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šç›´æ¥åé¦ˆå‡ºæ¥ï¼Œä¸éœ€è¦æ‰‹åŠ¨åˆ·æ–°</li>
</ul>

<p>
source-mapæ–‡ä»¶æ‰“åŒ…ï¼Œjsä¼šåˆå¹¶æˆ–è€…å‹ç¼©ï¼Œæ²¡æ³•è°ƒè¯•ï¼Œç”¨å®ƒæ¥çœ‹jsåŸæ–‡ä»¶æ˜¯ä»€ä¹ˆã€‚source-map-loaderä¹Ÿéœ€webpackçš„ loader
</p>

<p>
webpack æ‰“åŒ…å·¥å…·ï¼Œ2.4.1 å‘å¸ƒäº2017å¹´4æœˆï¼Œå½“å‰2.7.0å‘å¸ƒäº2017å¹´7æœˆã€‚
</p>

<p>
webpack-dev-server å¯åŠ¨ä¸€ä¸ªå¼€å‘æ—¶ç”¨çš„server
</p>
</div>
</div>
<div id="outline-container-h:dfbff546-bd1c-4167-a14b-62fad09fad2e" class="outline-5">
<h5 id="h:dfbff546-bd1c-4167-a14b-62fad09fad2e">è¿è¡Œæ—¶ä¾èµ–</h5>
<div class="outline-text-5" id="text-h:dfbff546-bd1c-4167-a14b-62fad09fad2e">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #8b2252;">"dependencies"</span>: {
    <span style="color: #8b2252;">"antd"</span>: <span style="color: #8b2252;">"^3.10.9"</span>,
    <span style="color: #8b2252;">"axios"</span>: <span style="color: #8b2252;">"^0.16.1"</span>,
    <span style="color: #8b2252;">"babel-polyfill"</span>: <span style="color: #8b2252;">"^6.23.0"</span>,
    <span style="color: #8b2252;">"babel-runtime"</span>: <span style="color: #8b2252;">"^6.23.0"</span>,
    <span style="color: #8b2252;">"mobx"</span>: <span style="color: #8b2252;">"^4.6.0"</span>,
    <span style="color: #8b2252;">"mobx-react"</span>: <span style="color: #8b2252;">"^5.4.2"</span>,
    <span style="color: #8b2252;">"react"</span>: <span style="color: #8b2252;">"^16.6.3"</span>,
    <span style="color: #8b2252;">"react-dom"</span>: <span style="color: #8b2252;">"^16.6.3"</span>,
    <span style="color: #8b2252;">"react-router"</span>: <span style="color: #8b2252;">"^4.3.1"</span>,
    <span style="color: #8b2252;">"react-router-dom"</span>: <span style="color: #8b2252;">"^4.3.1"</span>
}
</pre>
</div>

<ul class="org-ul">
<li>antd å³ ant designï¼ŒåŸºäºreactå®ç°ï¼Œèš‚èšé‡‘æœå¼€æºçš„reactçš„UIåº“ã€‚åšä¸­åå°ç®¡ç†éå¸¸æ–¹ä¾¿.</li>
<li>axios å¼‚æ­¥è¯·æ±‚æ”¯æŒã€‚</li>
<li>polyfill è§£å†³æµè§ˆå™¨apiä¸æ”¯æŒçš„é—®é¢˜ã€‚å†™å¥½polyfillå°±è®©ä½ çš„æµè§ˆå™¨æ”¯æŒï¼Œå¸®ä½ æŠ¹å¹³å·®å¼‚åŒ–</li>

<li>reactå¼€å‘çš„ä¸»æ¡†æ¶</li>
<li>react-dom æ”¯æŒDOM</li>
<li>react-router æ”¯æŒè·¯ç”±</li>
<li>react-router-dom DOMç»‘å®šè·¯ç”±</li>

<li>mobx çŠ¶æ€ç®¡ç†åº“ï¼Œé€æ˜åŒ–ã€‚</li>
<li>mobx-react mobxå’Œreactç»“åˆçš„æ¨¡å—ã€‚reactå’Œmobxæ˜¯ä¸€ä¸ªå¼ºå¼ºè”åˆ</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:50c5bf12-8214-49d3-8dfc-4e79763f0077" class="outline-4">
<h4 id="h:50c5bf12-8214-49d3-8dfc-4e79763f0077">babelé…ç½®</h4>
<div class="outline-text-4" id="text-h:50c5bf12-8214-49d3-8dfc-4e79763f0077">
<p>
.babelrc babelè½¬è¯‘çš„é…ç½®æ–‡ä»¶
</p>

<div class="org-src-container">
<pre class="src src-js">{
  <span style="color: #8b2252;">"presets"</span>: [
    <span style="color: #8b2252;">"react"</span>,
    <span style="color: #8b2252;">"env"</span>,
    <span style="color: #8b2252;">"stage-0"</span>
  ],
  <span style="color: #8b2252;">"plugins"</span>: [
    <span style="color: #8b2252;">"transform-decorators-legacy"</span>, 
    <span style="color: #8b2252;">"transform-runtime"</span>,
    <span style="color: #8b2252;">"react-hot-loader/babel"</span>
  ]
}
</pre>
</div>
</div>
</div>
<div id="outline-container-h:f16a60ec-1cfc-4d02-b521-e2fb6bc95523" class="outline-4">
<h4 id="h:f16a60ec-1cfc-4d02-b521-e2fb6bc95523">webpacké…ç½®</h4>
<div class="outline-text-4" id="text-h:f16a60ec-1cfc-4d02-b521-e2fb6bc95523">
<p>
webpack-react: <a href="https://webpack.js.org/awesome-webpack/#react">https://webpack.js.org/awesome-webpack/#react</a>
</p>
</div>
<div id="outline-container-h:8219a6b4-0337-453b-ad8a-0c3f996d1161" class="outline-5">
<h5 id="h:8219a6b4-0337-453b-ad8a-0c3f996d1161">webpack.config.dev.js</h5>
<div class="outline-text-5" id="text-h:8219a6b4-0337-453b-ad8a-0c3f996d1161">
<p>
è¿™æ˜¯ä¸€ä¸ªç¬¦åˆCommonjsçš„æ¨¡å—
</p>

<p>
module.exports å¯¼å‡º
</p>

<ul class="org-ul">
<li><p>
devtool:'source-map'
</p>

<p>
ç”ŸæˆåŠå¦‚ä½•ç”Ÿæˆsource-mapæ–‡ä»¶ã€‚
</p>

<p>
source-mapé€‚åˆç”Ÿæˆç¯å¢ƒä½¿ç”¨ï¼Œä¼šç”Ÿæˆå®ŒæˆSourcemapç‹¬ç«‹æ–‡ä»¶ã€‚
</p>

<p>
ç”±äºåœ¨Bundleä¸­æ·»åŠ äº†å¼•ç”¨æ³¨é‡Šï¼Œæ‰€ä»¥å¼€å‘å·¥å…·çŸ¥é“å¦‚ä½•æ‰¾åˆ°Sourcemapã€‚
</p></li>

<li><p>
entryå…¥å£
</p>

<p>
æè¿°å…¥å£ã€‚webpackä¼šä»å…¥å£å¼€å§‹ï¼Œæ‰¾å‡ºç›´æ¥æˆ–é—´æ¥çš„æ¨¡å—å’Œåº“æ„å»ºä¾èµ–æ ‘ï¼Œæœ€åè¾“å‡ºä¸ºbundlesæ–‡ä»¶ä¸­ã€‚
</p>

<p>
entryå¦‚æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®šä¹‰å°±æ˜¯å…¥å£æ–‡ä»¶
</p>

<p>
å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­æœ€åä¸€é¡¹æ˜¯å…¥å£æ–‡ä»¶ï¼Œå…¶ä»–é¡¹å…ˆåŠ è½½ï¼Œå¯ä»¥é…ç½®çš„çƒ­åŠ è½½æ’ä»¶æ¥è‡ªå·±åˆ·æ–°é¡µé¢ã€‚
</p>

<p>
å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æ”¯æŒå¤šå…¥å£ã€‚ä¹Ÿå¯æ˜¯å‡½æ•°ï¼Œè¿”å›ä»¥ä¸Šçš„å­—ç¬¦ä¸²æˆ–æ•°ç»„æˆ–å¯¹è±¡ï¼Œå¥½å¤„æ˜¯åŠ¨æ€ç”Ÿæˆã€‚
</p></li>

<li><p>
outputè¾“å‡º
</p>

<p>
å‘Šè¯‰webpackè¾“å‡ºbundlesåˆ°å“ªé‡Œå»ï¼Œå¦‚ä½•å‘½åã€‚
</p>

<p>
filenameå®šä¹‰è¾“å‡ºçš„bundleçš„åç§°
</p>

<p>
path è¾“å‡ºç›®å½•æ˜¯ __dirname+'dist' ï¼Œåå­—å«åš bundle.js ã€‚ __dirname æ˜¯nodejsä¸­è·å–å½“å‰jsæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•å
</p>

<p>
publicPath å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„ï¼Œä¸€èˆ¬ä¼šä»¥/ç»“å°¾ã€‚/assets/è¡¨ç¤ºç½‘ç«™æ ¹ç›®å½•ä¸‹assetsç›®å½•ä¸‹
</p></li>

<li><p>
resolveè§£æ
</p>

<p>
è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚
</p>

<p>
extensions è‡ªåŠ¨è§£ææ‰©å±•åã€‚'.js'çš„æ„æ€æ˜¯ï¼Œå¦‚æœç”¨æˆ·å¯¼å…¥æ¨¡å—çš„æ—¶å€™ä¸å¸¦æ‰©å±•åï¼Œå®ƒå°è¯•è¡¥å…¨
</p></li>

<li><p>
module æ¨¡å—
</p>

<p>
å¦‚ä½•å¤„ç†ä¸åŒçš„æ¨¡å—
</p>

<p>
rules åŒ¹é…è¯·æ±‚çš„è§„åˆ™ï¼Œä»¥åº”ç”¨ä¸åŒçš„åŠ è½½å™¨ã€è§£æå™¨ç­‰
</p></li>
</ul>


<div class="org-src-container">
<pre class="src src-js">module: {
    rules: [
        {
            test: <span style="color: #8b2252;">/\.js$/</span>,
            exclude: <span style="color: #8b2252;">/node_modules/</span>,
            use: [
                { loader: <span style="color: #8b2252;">'babel-loader'</span> }
            ]
        }, {
            test: <span style="color: #8b2252;">/\.css$/</span>,
            use: [
                { loader: <span style="color: #8b2252;">"style-loader"</span> },
                { loader: <span style="color: #8b2252;">"css-loader"</span> },
            ]
         }, 
         {
            test: <span style="color: #8b2252;">/\.less$/</span>,
            use: [
                 { loader: <span style="color: #8b2252;">"style-loader"</span> },
                 { loader: <span style="color: #8b2252;">"css-loader"</span> },
                 { loader: <span style="color: #8b2252;">"less-loader"</span> }
            ]
        }
    ]
},
</pre>
</div>

<p>
test åŒ¹é…æ¡ä»¶çš„
</p>

<pre class="example" id="orgb21884b">
exclude æ’é™¤çš„ï¼Œ /node_modules/æ‰“åŒ…æ’é™¤ç›®å½•ã€‚è¿™ä¸€å¥ä¸€å®šè¦æœ‰ï¼Œå¦åˆ™ï¼Œç¼–
è¯‘å°±æŠŠè¿™ä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ä¹Ÿæ‹¿è¿›æ¥äº†ï¼Œå·¨å¤§æ— æ¯”ã€‚

use ä½¿ç”¨æ¨¡å—çš„UseEntriesåˆ—è¡¨ä¸­çš„loader

rulesä¸­å¯¹.jsç»“å°¾çš„ä½†ä¸åœ¨node_modulesç›®å½•çš„æ–‡ä»¶ä½¿ç”¨è½¬è¯‘babel-loader
</pre>

<p>
åŠ è½½å™¨ï¼šå€’ç€å†™ï¼Œå…ˆåº”ç”¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ª
</p>

<pre class="example" id="orge44f51a">
style-loaderé€šè¿‡ &lt;style&gt; æ ‡ç­¾æŠŠcssæ·»åŠ åˆ°DOMä¸­
css-loader åŠ è½½css
less-loader å¯¹lessçš„æ”¯æŒ
</pre>

<p>
<b>LESS</b>
</p>

<p>
CSSå¥½å¤„ç®€å•æ˜“å­¦ï¼Œä½†æ˜¯åå¤„æ˜¯æ²¡æœ‰æ¨¡å—åŒ–ã€å¤ç”¨çš„æ¦‚å¿µï¼Œå› ä¸ºå®ƒä¸æ˜¯è¯­è¨€ã€‚
</p>

<p>
LESSæ˜¯ä¸€é—¨CSSçš„é¢„å¤„ç†è¯­è¨€ï¼Œæ‰©å±•äº†CSSï¼Œå¢åŠ äº†å˜é‡ã€Mixinã€å‡½æ•°ç­‰å¼€å‘è¯­è¨€çš„ç‰¹æ€§ï¼Œä»è€Œç®€åŒ–äº†CSSçš„ç¼–å†™ã€‚
</p>

<p>
LESSæœ¬èº«æ˜¯ä¸€å¥—è¯­æ³•è§„åˆ™åŠè§£æå™¨ï¼Œå°†å†™å¥½çš„LESSè§£ææˆCSSã€‚LESSå¯ä»¥ä½¿ç”¨åœ¨æµè§ˆå™¨ç«¯å’ŒæœåŠ¡å™¨ç«¯ã€‚
</p>

<p>
èŒƒä¾‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #b22222;">/*</span><span style="color: #b22222;">test.less</span><span style="color: #b22222;">*/</span>
<span style="color: #483d8b;">@color</span>: <span style="color: #ffffff; background-color: #4D926F;">#4D926F</span>; 

<span style="color: #0000ff;">#header</span> { 
     <span style="color: #a020f0;">color</span>: <span style="color: #483d8b;">@color</span>; 
} 
<span style="color: #0000ff;">h2</span> { 
    <span style="color: #a020f0;">color</span>: <span style="color: #483d8b;">@color</span>; 
}
</pre>
</div>

<p>
å¯ä»¥ä½¿ç”¨è§£ææˆå¦‚ä¸‹çš„CSS
</p>
<div class="org-src-container">
<pre class="src src-sh">PS D:\project\pyproj\trae\react-mobx-starter-master&gt; ./node_modules/.bin/lessc test.less       
<span style="color: #b22222;">#</span><span style="color: #b22222;">header {</span>
  color: <span style="color: #b22222;">#</span><span style="color: #b22222;">4D926F;</span>
}
h2 {
  color: <span style="color: #b22222;">#</span><span style="color: #b22222;">4D926F;</span>
}
</pre>
</div>

<p>
LESSåœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨LESSç¼–è¯‘å™¨ï¼Œ $ npm install less ï¼Œæœ¬é¡¹ç›®ç›®å½•å·²ç»å®‰è£…è¿‡äº†
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#32534;&#35793;&#36755;&#20986;&#21040;&#25511;&#21046;&#21488;</span>
node_modules/.bin/lessc test.less
npx lessc test.less

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#32534;&#35793;&#36755;&#20986;&#21040;&#25991;&#20214;</span>
node_modules/.bin/lessc test.less test.css
npx lessc test.less test.css
</pre>
</div>

<p>
<b>pluginsï¼šwebpackçš„æ’ä»¶</b>
</p>

<div class="org-src-container">
<pre class="src src-js">plugins: [
        <span style="color: #a020f0;">new</span> <span style="color: #228b22;">webpack.optimize.OccurrenceOrderPlugin</span>(<span style="color: #008b8b;">true</span>),
        <span style="color: #a020f0;">new</span> <span style="color: #228b22;">webpack.HotModuleReplacementPlugin</span>(),
        <span style="color: #a020f0;">new</span> <span style="color: #228b22;">webpack.DefinePlugin</span>({<span style="color: #8b2252;">'process.env'</span>: {NODE_ENV: JSON.stringify(<span style="color: #8b2252;">'development'</span>)}})
</pre>
</div>

<ul class="org-ul">
<li>HotModuleReplacementPlugin å¼€å¯HMR</li>
<li>DefinePlugin å…¨å±€å¸¸é‡é…ç½®</li>
</ul>

<p>
devServerï¼Œå¼€å‘ç”¨server
</p>

<div class="org-src-container">
<pre class="src src-js">devServer: {
     compress: <span style="color: #008b8b;">true</span>,
     port: 3000,
     publicPath: <span style="color: #8b2252;">'/assets/'</span>,
     hot: <span style="color: #008b8b;">true</span>,
     inline: <span style="color: #008b8b;">true</span>,
     historyApiFallback: <span style="color: #008b8b;">true</span>,
     stats: {
        chunks: <span style="color: #008b8b;">false</span>
     },
     proxy: {
         <span style="color: #8b2252;">'/api'</span>: {
             target: <span style="color: #8b2252;">'http://127.0.0.1:8000'</span>,
             changeOrigin: <span style="color: #008b8b;">true</span>,
             pathRewrite: {<span style="color: #8b2252;">'^/api'</span>:<span style="color: #8b2252;">''</span>}
        }
    }
}
</pre>
</div>

<pre class="example" id="org93afd31">
compress å¯åŠ¨gzip
port å¯åŠ¨ç«¯å£3000
hot å¯ç”¨HMR
proxyæŒ‡å®šè®¿é—®/api å¼€å¤´URLéƒ½ä»£ç†åˆ° http://127.0.0.1:8000 å»
</pre>
</div>
</div>
</div>
<div id="outline-container-h:261941f1-01ae-4538-a3e3-3464508cda47" class="outline-4">
<h4 id="h:261941f1-01ae-4538-a3e3-3464508cda47">vscodeé…ç½®</h4>
<div class="outline-text-4" id="text-h:261941f1-01ae-4538-a3e3-3464508cda47">
<p>
jsconfig.jsonæ˜¯vscodeçš„é…ç½®æ–‡ä»¶ï¼Œè¦†ç›–å½“å‰é…ç½®
</p>

<p>
ä»¥ä¸Šæ˜¯æ‰€æœ‰é…ç½®æ–‡ä»¶çš„è§£é‡Šã€‚æ‹¿åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹åï¼Œéœ€è¦ä¿®æ”¹nameé¡¹ç›®åç§°ã€
versionç‰ˆæœ¬ã€descriptionæè¿°ï¼Œéœ€è¦ä¿®æ”¹repositoryä»“åº“åœ°å€ï¼Œéœ€è¦ä¿®æ”¹
authorä½œè€…ã€licenseè®¸å¯è¯ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ä¿®æ”¹å¥½ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹å¼€å‘äº†ã€‚
</p>
</div>
</div>
</div>
<div id="outline-container-h:154d9e8c-2715-49e1-a6e1-179f0a5a4cfa" class="outline-3">
<h3 id="h:154d9e8c-2715-49e1-a6e1-179f0a5a4cfa">å¯åŠ¨é¡¹ç›®</h3>
<div class="outline-text-3" id="text-h:154d9e8c-2715-49e1-a6e1-179f0a5a4cfa">
<p>
åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œä½¿ç”¨
</p>
<div class="org-src-container">
<pre class="src src-sh">$ npm run start &#25110; npm start

<span style="color: #b22222;">#</span><span style="color: #b22222;">package.json  start&#28909;&#21152;&#36733;&#36873;&#39033;--hot   --open &#33258;&#21160;&#25171;&#24320;&#27983;&#35272;&#22120;</span>
  <span style="color: #8b2252;">"scripts"</span>: {
    <span style="color: #8b2252;">"test"</span>: <span style="color: #8b2252;">"jest"</span>,
    <span style="color: #8b2252;">"start"</span>: <span style="color: #8b2252;">"webpack-dev-server --config webpack.config.dev.js --hot --inline --open"</span>,
    <span style="color: #8b2252;">"build"</span>: <span style="color: #8b2252;">"webpack -p --config webpack.config.prod.js"</span>
  },
</pre>
</div>

<p>
å¯åŠ¨æˆåŠŸåº”è¯¥å°±å¯ä»¥è®¿é—®äº†.
</p>

<p>
webpackä½¿ç”¨babelè½¬è¯‘ã€æ‰“åŒ…ï¼Œè¾ƒä¸ºè€—æ—¶ï¼Œéœ€è¦ç­‰ä¸€ä¼šå„¿
</p>
</div>
</div>
</section>
<section id="outline-container-h:475cc518-6293-441a-8315-fcdbfd8eb82a" class="outline-2">
<h2 id="h:475cc518-6293-441a-8315-fcdbfd8eb82a">ReactæŠ€æœ¯</h2>
<div class="outline-text-2" id="text-h:475cc518-6293-441a-8315-fcdbfd8eb82a">
</div>
<div id="outline-container-h:cde2f5cb-f82a-4ded-8475-4b3ef8d7cb23" class="outline-3">
<h3 id="h:cde2f5cb-f82a-4ded-8475-4b3ef8d7cb23">ç®€ä»‹</h3>
<div class="outline-text-3" id="text-h:cde2f5cb-f82a-4ded-8475-4b3ef8d7cb23">
<p>
Reactæ˜¯Facebookå¼€å‘å¹¶å¼€æºçš„å‰ç«¯æ¡†æ¶ã€‚
</p>

<p>
å½“æ—¶ä»–ä»¬çš„å›¢é˜Ÿåœ¨å¸‚é¢ä¸Šæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„MVCæ¡†æ¶ï¼Œå°±è‡ªå·±å†™äº†ä¸€ä¸ªJsæ¡†æ¶ï¼Œç”¨æ¥æ¶è®¾Instagramï¼ˆå›¾ç‰‡åˆ†äº«ç¤¾äº¤ç½‘ç»œï¼‰ã€‚2013å¹´Reactå¼€æºã€‚
</p>

<p>
Reactè§£å†³çš„æ˜¯å‰ç«¯MVCæ¡†æ¶ä¸­çš„Viewè§†å›¾å±‚çš„é—®é¢˜ã€‚
</p>
</div>
<div id="outline-container-h:788d552b-1e2f-461b-8b71-1c697467cbc8" class="outline-4">
<h4 id="h:788d552b-1e2f-461b-8b71-1c697467cbc8">Virtual DOM</h4>
<div class="outline-text-4" id="text-h:788d552b-1e2f-461b-8b71-1c697467cbc8">
<p>
DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹Document Object Modelï¼‰
</p>


<figure id="org396d98a">
<img src="./images/img_20250513_212850.png" alt="img_20250513_212850.png" width="70%">

</figure>


<p>
å°†ç½‘é¡µå†…æ‰€æœ‰å†…å®¹æ˜ å°„åˆ°ä¸€æ£µæ ‘å‹ç»“æ„çš„å±‚çº§å¯¹è±¡æ¨¡å‹ä¸Šï¼Œæµè§ˆå™¨æä¾›å¯¹DOMçš„
æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥æ˜¯ç”¨è„šæœ¬è°ƒç”¨DOM APIæ¥åŠ¨æ€çš„ä¿®æ”¹DOMç»“ç‚¹ï¼Œä»è€Œè¾¾åˆ°ä¿®æ”¹ç½‘é¡µ
çš„ç›®çš„ï¼Œè¿™ç§ä¿®æ”¹æ˜¯æµè§ˆå™¨ä¸­å®Œæˆï¼Œæµè§ˆå™¨ä¼šæ ¹æ®DOMçš„æ”¹å˜é‡ç»˜æ”¹å˜çš„DOMç»“ç‚¹
éƒ¨åˆ†ã€‚
</p>

<p>
ä¿®æ”¹DOMé‡æ–°æ¸²æŸ“ä»£ä»·å¤ªé«˜ï¼Œå‰ç«¯æ¡†æ¶ä¸ºäº†æé«˜æ•ˆç‡ï¼Œå°½é‡å‡å°‘DOMçš„é‡ç»˜ï¼Œæå‡º
äº†Virtual DOMã€‚Virtual DOMæ˜¯ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œæ€§èƒ½æ›´é«˜ã€‚æ‰€æœ‰çš„ä¿®æ”¹éƒ½
æ˜¯å…ˆç”Ÿæˆä¸€ä¸ªæ–°çš„Virtual DOMï¼Œé€šè¿‡æ¯”è¾ƒç®—æ³•æ¯”è¾ƒæ–°æ—§Virtual DOMï¼Œå¾—åˆ°å·®å¼‚
åŒ–VirtualDOMï¼Œå°†è¿™éƒ¨åˆ†å·®å¼‚æ›´æ–°åˆ°æµè§ˆå™¨DOMï¼Œæµè§ˆå™¨åªéœ€è¦æ¸²æŸ“è¿™éƒ¨åˆ†å˜åŒ–
å°±è¡Œäº†ã€‚
</p>

<p>
Reactå®ç°äº†DOM Diffç®—æ³•å¯ä»¥é«˜æ•ˆæ¯”å¯¹Virtual DOM
</p>
</div>
</div>
<div id="outline-container-h:4e7cd2f0-8325-4578-92bd-001d6a6494dc" class="outline-4">
<h4 id="h:4e7cd2f0-8325-4578-92bd-001d6a6494dc">æ”¯æŒJSXè¯­æ³•</h4>
<div class="outline-text-4" id="text-h:4e7cd2f0-8325-4578-92bd-001d6a6494dc">
<p>
JSXæ˜¯ä¸€ç§JavaScriptå’ŒXMLæ··å†™çš„è¯­æ³•ï¼Œæ˜¯JavaScriptçš„æ‰©å±•
</p>

<div class="org-src-container">
<pre class="src src-js">React.render(
    &lt;div&gt; 
        &lt;div&gt; 
            &lt;div&gt;content&lt;/div&gt; 
        &lt;/div&gt; 
    &lt;/div&gt;, 
    document.getElementById(<span style="color: #8b2252;">'example'</span>)
);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-h:9e2e3ddb-61c5-4071-91fc-07ab02fcb1e5" class="outline-3">
<h3 id="h:9e2e3ddb-61c5-4071-91fc-07ab02fcb1e5">æµ‹è¯•ç¨‹åº</h3>
<div class="outline-text-3" id="text-h:9e2e3ddb-61c5-4071-91fc-07ab02fcb1e5">
<p>
æ›¿æ¢ /src/index.js ä¸ºä¸‹é¢çš„ä»£ç 
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component { 
    render() {
        <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Hello World</span>&lt;/<span style="color: #0000ff;">div</span>&gt;;
    }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span>/&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
ä¿å­˜æ–‡ä»¶åï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘ï¼Œå¹¶é‡æ–°è£…è½½åˆ·æ–°æµè§ˆå™¨ç«¯é¡µé¢
</p>
</div>
<div id="outline-container-h:513ec94d-6b4a-47a6-9f02-9774a8583a0f" class="outline-4">
<h4 id="h:513ec94d-6b4a-47a6-9f02-9774a8583a0f">ç¨‹åºè§£é‡Š</h4>
<div class="outline-text-4" id="text-h:513ec94d-6b4a-47a6-9f02-9774a8583a0f">
<p>
import React from 'react'; å¯¼å…¥reactæ¨¡å—ã€‚
</p>

<p>
import ReactDOM from 'react-dom'; å¯¼å…¥reactçš„DOMæ¨¡å—ã€‚
</p>


<p>
class Root extends React.Component ç»„ä»¶ç±»å®šä¹‰ï¼Œä»React.Componentç±»ä¸Šç»§æ‰¿ã€‚è¿™ä¸ªç±»ç”ŸæˆJSXElementå¯¹è±¡å³Reactå…ƒç´ 
render() æ¸²æŸ“å‡½æ•°ã€‚è¿”å›ç»„ä»¶ä¸­æ¸²æŸ“çš„å†…å®¹ã€‚æ³¨æ„ï¼Œåªèƒ½è¿”å›å”¯ä¸€ ä¸€ä¸ªé¡¶çº§å…ƒç´ å›å»ã€‚
</p>

<p>
ReactDom.render(&lt;Root/&gt;, document.getElementById('root')); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯JSXElementå¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯DOMçš„Elementå…ƒç´ ã€‚å°†Reactå…ƒç´ æ·»åŠ åˆ°DOMçš„Elementå…ƒç´ ä¸­å¹¶æ¸²æŸ“ã€‚
</p>

<p>
è¿˜å¯ä»¥ä½¿ç”¨React.createElementåˆ›å»ºreactå…ƒç´ ï¼Œç¬¬ä¸€å‚æ•°æ˜¯Reactç»„ä»¶æˆ–è€…ä¸€ä¸ªHTMLçš„æ ‡ç­¾åç§°ï¼ˆä¾‹å¦‚divã€spanï¼‰ã€‚
</p>

<p>
æ”¹å†™åä»£ç ä¸º
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;
<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  render() {
    <span style="color: #b22222;">//</span><span style="color: #b22222;">return &lt;div&gt;Hello World&lt;/div&gt;;</span>
    <span style="color: #a020f0;">return</span> React.createElement(<span style="color: #8b2252;">'div'</span>, <span style="color: #008b8b;">null</span>, <span style="color: #8b2252;">'Hello World'</span>);
  }
}
<span style="color: #b22222;">//</span><span style="color: #b22222;">ReactDom.render(&lt;Root/&gt;, document.getElementById('root'));</span>
ReactDom.render(React.createElement(Root), document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
å¾ˆæ˜æ˜¾JSXæ›´ç®€æ´æ˜“æ‡‚ï¼Œæ¨èä½¿ç”¨JSXè¯­æ³•
</p>

<p>
å¢åŠ ä¸€ä¸ªå­å…ƒç´ 
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> SubEle <span style="color: #a020f0;">extends</span> React.Component {
  render() {
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Sub content</span>&lt;/<span style="color: #0000ff;">div</span>&gt;;
  }
}

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  render() {
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">h2</span>&gt;<span style="color: #000000; background-color: #ffffff;">Hello World</span>&lt;/<span style="color: #0000ff;">h2</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">SubEle</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span> &gt;);
  }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>


<p>
æ³¨æ„ï¼š
</p>
<ul class="org-ul">
<li>Reactç»„ä»¶çš„renderå‡½æ•°returnï¼Œåªèƒ½æ˜¯ä¸€ä¸ªé¡¶çº§å…ƒç´ </li>
<li>JSXè¯­æ³•æ˜¯XMLï¼Œè¦æ±‚æ‰€æœ‰å…ƒç´ å¿…é¡»é—­åˆï¼Œæ³¨æ„ &lt;br /&gt; ä¸èƒ½å†™æˆ &lt;br&gt;</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:acbb7e3f-6f06-4d6e-b19a-dc8df3561f65" class="outline-3">
<h3 id="h:acbb7e3f-6f06-4d6e-b19a-dc8df3561f65">JSXè§„èŒƒ</h3>
<div class="outline-text-3" id="text-h:acbb7e3f-6f06-4d6e-b19a-dc8df3561f65">
<p>
Reactå¿«é€Ÿå…¥é—¨ï¼š<a href="https://zh-hans.react.dev/learn">https://zh-hans.react.dev/learn</a>
</p>

<ul class="org-ul">
<li>çº¦å®šæ ‡ç­¾ä¸­é¦–å­—æ¯å°å†™å°±æ˜¯htmlæ ‡è®°ï¼Œé¦–å­—æ¯å¤§å†™å°±æ˜¯ç»„ä»¶</li>
<li>è¦æ±‚ä¸¥æ ¼çš„HTMLæ ‡è®°ï¼Œè¦æ±‚æ‰€æœ‰æ ‡ç­¾éƒ½å¿…é¡»é—­åˆ</li>
<li>brä¹Ÿåº”è¯¥å†™æˆ &lt;br /&gt; ï¼Œ/å‰ç•™ä¸€ä¸ªç©ºæ ¼</li>
<li>å•è¡Œçœç•¥å°æ‹¬å·ï¼Œå¤šè¡Œè¯·ä½¿ç”¨å°æ‹¬å·</li>
<li>å…ƒç´ æœ‰åµŒå¥—ï¼Œå»ºè®®å¤šè¡Œï¼Œæ³¨æ„ç¼©è¿›</li>
<li>JSXè¡¨è¾¾å¼ï¼šè¡¨è¾¾å¼ä½¿ç”¨{}æ‹¬èµ·æ¥ï¼Œå¦‚æœå¤§æ‹¬å·å†…ä½¿ç”¨äº†å¼•å·ï¼Œä¼šå½“åšå­—ç¬¦ä¸²å¤„ç†ï¼Œä¾‹å¦‚ &lt;div&gt;{'2&gt;1?true:false'}&lt;/div&gt; é‡Œé¢çš„è¡¨è¾¾å¼æˆäº†å­—ç¬¦ä¸²</li>
</ul>
</div>
</div>
<div id="outline-container-h:7ef6fa73-f71b-49b0-8344-faeb4a6067c3" class="outline-3">
<h3 id="h:7ef6fa73-f71b-49b0-8344-faeb4a6067c3">ç»„ä»¶çŠ¶æ€state **</h3>
<div class="outline-text-3" id="text-h:7ef6fa73-f71b-49b0-8344-faeb4a6067c3">
<p>
æ¯ä¸€ä¸ªReactç»„ä»¶éƒ½æœ‰ä¸€ä¸ªçŠ¶æ€å±æ€§stateï¼Œå®ƒæ˜¯ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼Œå¯ä»¥ä¸ºå®ƒå®šä¹‰å±æ€§æ¥ä¿å­˜å€¼ã€‚
</p>

<p>
å¦‚æœçŠ¶æ€å˜åŒ–äº†ï¼Œä¼šè§¦å‘UIçš„é‡æ–°æ¸²æŸ“ã€‚ä½¿ç”¨setState()æ–¹æ³•å¯ä»¥ä¿®æ”¹stateå€¼ã€‚
</p>

<p>
æ³¨æ„ï¼šstateæ˜¯æ¯ä¸ªç»„ä»¶è‡ªå·±å†…éƒ¨ä½¿ç”¨çš„ï¼Œæ˜¯ç»„ä»¶è‡ªå·±çš„å±æ€§ã€‚å¿…é¡»æ˜¯stateï¼Œä¸èƒ½æ˜¯å…¶å®ƒåå­—ã€‚
</p>

<p>
ä¾ç„¶ä¿®æ”¹/src/index.js
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;state&#23545;&#35937;</span>
  state = {domain: <span style="color: #8b2252;">'cici.com'</span>, host: <span style="color: #8b2252;">'www'</span>} <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20989;&#25968;&#20013;&#23450;&#20041;state </span>
  render() { <span style="color: #b22222;">// </span><span style="color: #b22222;">render &#29992;&#26469;&#21576;&#29616;state&#25110;props&#20540;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">this.state.host = 'python'; // &#21487;&#20197;&#20462;&#25913;&#23646;&#24615;&#20540;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">this.setState({host:'python'}); //&#19981;&#21487;&#23545;&#36824;&#22312;&#26356;&#26032;&#20013;&#30340;state&#20351;&#29992;setSate. state&#25913;&#21464;&#20250;&#32487;&#32493;&#24341;&#36215;render, &#36882;&#24402;&#20102;</span>
    <span style="color: #b22222;">//</span><span style="color: #b22222;">Warning: setState(...): Cannot update during an existing state transition (such as within `render` or another component's constructor).</span>
    setTimeout(()=&gt; <span style="color: #008b8b;">this</span>.setState({host:<span style="color: #008b8b;">this</span>.state.host + <span style="color: #8b2252;">'*'</span>}), 3000)
    console.log(<span style="color: #8b2252;">'Root render ~~~~'</span>)
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      Welcome to </span>{<span style="color: #008b8b;">this</span>.state.host}<span style="color: #000000; background-color: #ffffff;">.</span>{<span style="color: #008b8b;">this</span>.state.domain}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
  }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>


<p>
å¦‚æœå°† Â·this.state.host = â€˜pythonâ€™Â· æ”¹ä¸º Â·this.setState({host:'python'});Â· å°±ä¼šå‡ºè­¦å‘Šã€‚
</p>

<p>
å¯ä»¥ä½¿ç”¨å»¶æ—¶å‡½æ•° setTimeout(() =&gt; this.setState({ host: 'python' }), 5000); å³å¯ã€‚
</p>

<p>
ä½¿ç”¨å»¶æ—¶å‡½æ•°å¥½å—ï¼Ÿ ä¸å¥½ï¼Œä¸€èˆ¬ä¸æ¨èè¿™ä¹ˆåšï¼Œä½†æ˜¯å®ƒç¡®å®ä¸é€’å½’ã€‚
</p>
</div>
<div id="outline-container-h:a3379f82-ab16-43e6-9aa5-f720a2c59163" class="outline-4">
<h4 id="h:a3379f82-ab16-43e6-9aa5-f720a2c59163">å¤æ‚çš„çŠ¶æ€ä¾‹å­</h4>
<div class="outline-text-4" id="text-h:a3379f82-ab16-43e6-9aa5-f720a2c59163">
<p>
å…ˆçœ‹ä¸€ä¸ªç½‘é¡µ
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #0000ff;">html</span>&gt;
&lt;<span style="color: #0000ff;">head</span>&gt;
    &lt;<span style="color: #0000ff;">script</span> <span style="color: #a0522d;">type</span>=<span style="color: #8b2252;">"text/javascript"</span>&gt;
        function getEventTrigger(e) {
            x = e.target; // &#20174;&#20107;&#20214;&#20013;&#33719;&#21462;&#20803;&#32032;
            alert("&#35302;&#21457;&#30340;&#20803;&#32032;&#30340;id&#26159;&#65306;" + x.id);
        }
    &lt;/<span style="color: #0000ff;">script</span>&gt;
&lt;/<span style="color: #0000ff;">head</span>&gt;
&lt;<span style="color: #0000ff;">body</span>&gt;
    &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"t1"</span> <span style="color: #a0522d;">onmousedown</span>=<span style="color: #8b2252;">"getEventTrigger(event)"</span>&gt;
        &#28857;&#20987;&#36825;&#21477;&#35805;&#65292;&#20250;&#35302;&#21457;&#19968;&#20010;&#20107;&#20214;&#65292;&#24182;&#24377;&#20986;&#19968;&#20010;&#35686;&#31034;&#26694;
    &lt;/<span style="color: #0000ff;">div</span>&gt;
&lt;/<span style="color: #0000ff;">body</span>&gt;
&lt;/<span style="color: #0000ff;">html</span>&gt;
</pre>
</div>

<p>
divçš„idæ˜¯t1ï¼Œé¼ æ ‡æŒ‰ä¸‹äº‹ä»¶æ†ç»‘äº†ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦é¼ æ ‡åœ¨å¯¹è±¡ä¸ŠæŒ‰ä¸‹å°±ä¼šè§¦å‘è°ƒç”¨getEventTriggerå‡½æ•°ï¼Œæµè§ˆå™¨ä¼šé€ç»™å®ƒä¸€ä¸ªå‚æ•°eventã€‚eventæ˜¯äº‹ä»¶å¯¹è±¡ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶ï¼ŒeventåŒ…å«è§¦å‘è¿™ä¸ªäº‹ä»¶çš„å¯¹è±¡
</p>
</div>
</div>
<div id="outline-container-h:fdd6bb5a-e2b5-4701-b0e9-6195a510de3b" class="outline-4">
<h4 id="h:fdd6bb5a-e2b5-4701-b0e9-6195a510de3b">HTML DOMçš„JavaScriptäº‹ä»¶</h4>
<div class="outline-text-4" id="text-h:fdd6bb5a-e2b5-4701-b0e9-6195a510de3b">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">å±æ€§</th>
<th scope="col" class="org-left">æ­¤äº‹ä»¶å‘ç”Ÿåœ¨ä½•æ—¶</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">onabort</td>
<td class="org-left">å›¾åƒçš„åŠ è½½è¢«ä¸­æ–­</td>
</tr>

<tr>
<td class="org-left">onblur</td>
<td class="org-left">å…ƒç´ å¤±å»ç„¦ç‚¹</td>
</tr>

<tr>
<td class="org-left">onchange</td>
<td class="org-left">åŸŸçš„å†…å®¹è¢«æ”¹å˜</td>
</tr>

<tr>
<td class="org-left">onclickï¼ˆå¸¸ç”¨ï¼‰</td>
<td class="org-left">å½“ç”¨æˆ·ç‚¹å‡»æŸä¸ªå¯¹è±¡æ—¶è°ƒç”¨çš„äº‹ä»¶å¥æŸ„</td>
</tr>

<tr>
<td class="org-left">ondblclick</td>
<td class="org-left">å½“ç”¨æˆ·åŒå‡»æŸä¸ªå¯¹è±¡æ—¶è°ƒç”¨çš„äº‹ä»¶å¥æŸ„</td>
</tr>

<tr>
<td class="org-left">onerror</td>
<td class="org-left">åœ¨åŠ è½½æ–‡æ¡£æˆ–å›¾åƒæ—¶å‘ç”Ÿé”™è¯¯</td>
</tr>

<tr>
<td class="org-left">onfocus</td>
<td class="org-left">å…ƒç´ è·å¾—ç„¦ç‚¹. ä¾‹å¦‚æ–‡æœ¬æ¡†ä¸­å…‰æ ‡åœ¨é‡Œé¢æ—¶èšç„¦äº†</td>
</tr>

<tr>
<td class="org-left">onkeydown</td>
<td class="org-left">æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹</td>
</tr>

<tr>
<td class="org-left">onkeypress</td>
<td class="org-left">æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹å¹¶æ¾å¼€</td>
</tr>

<tr>
<td class="org-left">onkeyup</td>
<td class="org-left">æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æ¾å¼€</td>
</tr>

<tr>
<td class="org-left">onload</td>
<td class="org-left">ä¸€å¼ é¡µé¢æˆ–ä¸€å¹…å›¾åƒå®ŒæˆåŠ è½½</td>
</tr>

<tr>
<td class="org-left">onmousedown</td>
<td class="org-left">é¼ æ ‡æŒ‰é’®è¢«æŒ‰ä¸‹</td>
</tr>

<tr>
<td class="org-left">onmousemove</td>
<td class="org-left">é¼ æ ‡è¢«ç§»åŠ¨</td>
</tr>

<tr>
<td class="org-left">onmouseout</td>
<td class="org-left">é¼ æ ‡ä»æŸå…ƒç´ ç§»å¼€</td>
</tr>

<tr>
<td class="org-left">onmouseover</td>
<td class="org-left">é¼ æ ‡ç§»åˆ°æŸå…ƒç´ ä¹‹ä¸Š</td>
</tr>

<tr>
<td class="org-left">onmouseup</td>
<td class="org-left">é¼ æ ‡æŒ‰é”®è¢«æ¾å¼€</td>
</tr>

<tr>
<td class="org-left">onreset</td>
<td class="org-left">é‡ç½®æŒ‰é’®è¢«ç‚¹å‡»</td>
</tr>

<tr>
<td class="org-left">onresize</td>
<td class="org-left">çª—å£æˆ–æ¡†æ¶è¢«é‡æ–°è°ƒæ•´å¤§å°</td>
</tr>

<tr>
<td class="org-left">onselect</td>
<td class="org-left">æ–‡æœ¬è¢«é€‰ä¸­</td>
</tr>

<tr>
<td class="org-left">onsubmit</td>
<td class="org-left">ç¡®è®¤æŒ‰é’®è¢«ç‚¹å‡»</td>
</tr>

<tr>
<td class="org-left">onunload</td>
<td class="org-left">ç”¨æˆ·é€€å‡ºé¡µé¢</td>
</tr>
</tbody>
</table>

<p>
ä½¿ç”¨Reactå®ç°ä¸Šé¢çš„ä¼ ç»Ÿçš„HTML
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;
<span style="color: #a020f0;">class</span> Toggle <span style="color: #a020f0;">extends</span> React.Component {

  state = { flag: <span style="color: #008b8b;">true</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#20013;&#23450;&#20041;state </span>
  handleClick(event) {
    console.log(event.target.id);
    console.log(event.target === <span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>.state);
    <span style="color: #008b8b;">this</span>.setState({ flag: !<span style="color: #008b8b;">this</span>.state.flag });
  }

  render() {<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#27880;&#24847;&#19968;&#23450;&#35201;&#32465;&#23450;this onClick&#20889;&#25104;&#23567;&#39548;&#23792;</span><span style="color: #b22222;"> */</span>
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"t1"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}&gt;
<span style="color: #000000; background-color: #ffffff;">      &#28857;&#20987;&#36825;&#21477;&#35805;&#65292;&#20250;&#35302;&#21457;&#19968;&#20010;&#20107;&#20214;&#12290;</span>{<span style="color: #008b8b;">this</span>.state.flag.toString()}
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;;
  }
}
<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;&#23545;&#35937;</span>
  state = { p1: <span style="color: #8b2252;">'www.python'</span>, p2: <span style="color: #8b2252;">'.org'</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20989;&#25968;&#20013;&#23450;&#20041;state </span>
  render() {
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Welcome to </span>{<span style="color: #008b8b;">this</span>.state.p1}{<span style="color: #008b8b;">this</span>.state.p2}&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Toggle</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }
}
ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
Toggleç±»
</p>
<ul class="org-ul">
<li>å®ƒæœ‰è‡ªå·±çš„stateå±æ€§ï¼Œå°±ç»™ç»„ä»¶è‡ªèº«å¢åŠ å±æ€§çš„ã€‚</li>
<li>å½“renderå®Œæˆåï¼Œç½‘é¡µä¸Šæœ‰ä¸€ä¸ªdivæ ‡ç­¾ï¼Œdivæ ‡ç­¾å¯¹è±¡æ†ç»‘äº†ä¸€ä¸ªclickäº‹ä»¶çš„å¤„ç†å‡½æ•°</li>
<li>å¦‚æœé€šè¿‡ç‚¹å‡»å·¦é”®ï¼Œå°±è§¦å‘äº†clickæ–¹æ³•å…³è”çš„handleClickå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°é‡Œå°†çŠ¶æ€å€¼æ”¹å˜
<ul class="org-ul">
<li>ä½¿ç”¨this.state.flag = !this.state.flag æ–¹å¼æ”¹å˜ï¼Œä¸ä¼šè§¦å‘renderå‡½æ•°æ‰§è¡Œ</li>
<li>ä½¿ç”¨this.setState({flag: !this.state.flag}) æ–¹å¼ï¼Œä¼šè§¦å‘è¯¥ç»„ä»¶å’Œå…¶å­ç»„ä»¶renderå‡½æ•°æ‰§è¡Œã€‚</li>
</ul></li>
</ul>

<p>
æ³¨æ„
</p>
<ul class="org-ul">
<li>{this.handleClick.bind(this)}ï¼Œä¸èƒ½å¤–åŠ å¼•å·</li>
<li>this.handleClick.bind(this) ä¸€å®šè¦ç»‘å®šthisï¼Œå¦åˆ™å½“è§¦å‘æ†ç»‘çš„å‡½æ•°æ—¶ï¼Œthisæ˜¯å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å†³å®šçš„ï¼Œthiså·²ç»ä¸æ˜¯è§¦å‘äº‹ä»¶çš„å¯¹è±¡ã€‚
æˆ–å°†handleClickå®šä¹‰ä¸ºç®­å¤´å‡½æ•°ä¹Ÿèƒ½è§£å†³thisé—®é¢˜ã€‚</li>
<li>console.log(event.target.id)ï¼Œå–å›çš„äº§ç”Ÿäº‹ä»¶çš„å¯¹è±¡çš„idï¼Œä½†æ˜¯è¿™ä¸æ˜¯æˆ‘
ä»¬å°è£…çš„ç»„ä»¶å¯¹è±¡ã€‚æ‰€ä»¥ï¼Œconsole.log(event.target===this)æ˜¯falseã€‚æ‰€
ä»¥è¿™é‡Œä¸€å®šè¦ç”¨thisï¼Œè€Œè¿™ä¸ªthisæ˜¯é€šè¿‡ç»‘å®šæ¥çš„</li>
<li>thiså†™åœ¨ç±»ä¸­ï¼Œå§‹ç»ˆæŒ‡çš„æ˜¯Reactç»„ä»¶å®ä¾‹æœ¬èº«</li>
</ul>

<p>
Reactä¸­çš„äº‹ä»¶
</p>
<ul class="org-ul">
<li>ä½¿ç”¨å°é©¼å³°å‘½å</li>
<li>ä½¿ç”¨JSXè¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼ä¸­æŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°</li>
<li>ä¸èƒ½ä½¿ç”¨return falseï¼Œå¦‚æœè¦é˜»æ­¢äº‹ä»¶é»˜è®¤è¡Œä¸ºï¼Œä½¿ç”¨event.preventDefault()</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-h:250d3c93-4e40-4ade-bbf4-2634d3244f2a" class="outline-3">
<h3 id="h:250d3c93-4e40-4ade-bbf4-2634d3244f2a">å±æ€§props</h3>
<div class="outline-text-3" id="text-h:250d3c93-4e40-4ade-bbf4-2634d3244f2a">
<p>
propså°±æ˜¯ç»„ä»¶çš„å±æ€§propertiesã€‚
</p>

<p>
æŠŠReactç»„ä»¶å½“åšæ ‡ç­¾ä½¿ç”¨ï¼Œå¯ä»¥ä¸ºå…¶å¢åŠ å±æ€§ï¼Œå¦‚ä¸‹
</p>
<div class="org-src-container">
<pre class="src src-js">&lt;Toggle name=<span style="color: #8b2252;">"school"</span> parent={<span style="color: #008b8b;">this</span>} /&gt;
</pre>
</div>

<p>
ä¸ºä¸Šé¢çš„Toggleå…ƒç´ å¢åŠ å±æ€§ï¼š
</p>
<ul class="org-ul">
<li>name = "school" ï¼Œè¿™ä¸ªå±æ€§ä¼šä½œä¸ºä¸€ä¸ªå•ä¸€çš„å¯¹è±¡ä¼ é€’ç»™ç»„ä»¶ï¼ŒåŠ å…¥åˆ°ç»„ä»¶çš„propså±æ€§ä¸­</li>
<li>parent = {this} ï¼Œæ³¨æ„è¿™ä¸ªthisæ˜¯åœ¨Rootå…ƒç´ ä¸­ï¼ŒæŒ‡çš„æ˜¯Rootç»„ä»¶æœ¬èº«ã€‚parentå±æ€§æ˜¯æˆ‘ä»¬è‡ªå·±æ·»åŠ çš„ã€‚</li>
<li>ä½¿ç”¨JSXè¯­æ³•ä¸ºToggleå¢åŠ å­å…ƒç´ ï¼Œè¿™äº›å­å…ƒç´ ä¹Ÿä¼šè¢«åŠ å…¥Toggleç»„ä»¶çš„props.childrenä¸­ã€‚
å¦‚æœè¦æ˜¾ç¤ºè¿™äº›å†…å®¹ï¼Œå°±å¿…é¡»åœ¨Toggleç»„ä»¶ä¸­ä»propsä¸­æå–å‡ºæ¥ã€‚</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> Toggle <span style="color: #a020f0;">extends</span> React.Component {
  state = { flag: <span style="color: #008b8b;">true</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#20013;&#23450;&#20041;state </span>
  handleClick(event) {
    console.log(event.target.id);
    console.log(event.target === <span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>.state);
    <span style="color: #008b8b;">this</span>.setState({ flag: !<span style="color: #008b8b;">this</span>.state.flag });
  }

  render() {<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#27880;&#24847;&#19968;&#23450;&#35201;&#32465;&#23450;this onClick&#20889;&#25104;&#23567;&#39548;&#23792;</span><span style="color: #b22222;"> */</span>
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"t1"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}
      <span style="color: #a0522d;">style</span>={{backgroundColor:<span style="color: #8b2252;">'white'</span>, margin: <span style="color: #8b2252;">'10'</span> + <span style="color: #8b2252;">'px'</span>}}
    &gt;
<span style="color: #000000; background-color: #ffffff;">      &#28857;&#20987;&#36825;&#21477;&#35805;&#65292;&#20250;&#35302;&#21457;&#19968;&#20010;&#20107;&#20214;&#12290;</span>{<span style="color: #008b8b;">this</span>.state.flag.toString()}&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      &#26174;&#31034;props</span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>{<span style="color: #008b8b;">this</span>.props.name}<span style="color: #000000; background-color: #ffffff;"> : </span>{<span style="color: #008b8b;">this</span>.props.parent.state.p1}{<span style="color: #008b8b;">this</span>.props.parent.state.p2}
<span style="color: #000000; background-color: #ffffff;">      </span>{<span style="color: #008b8b;">this</span>.props.children}
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;;
  }
}

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;&#23545;&#35937; </span>
  state = { p1: <span style="color: #8b2252;">'www.python'</span>, p2: <span style="color: #8b2252;">'.org'</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20989;&#25968;&#20013;&#23450;&#20041;state</span>
  render() {
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span>  <span style="color: #a0522d;">style</span>={{backgroundColor: <span style="color: #8b2252;">'#f0f0f0'</span>}}&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Welcome to </span>{<span style="color: #008b8b;">this</span>.state.p1}{<span style="color: #008b8b;">this</span>.state.p2}&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Toggle</span> <span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"school"</span> <span style="color: #a0522d;">parent</span>={<span style="color: #008b8b;">this</span>}&gt;{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#33258;&#23450;&#20041;2&#20010;&#23646;&#24615;&#36890;&#36807;props&#20256;&#32473;Toggle&#32452;&#20214;&#23545;&#35937;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#23376;&#20803;&#32032;&#36890;&#36807;props.children&#35775;&#38382;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;<span style="color: #0000ff;">span</span>&gt;<span style="color: #000000; background-color: #ffffff;">&#25105;&#26159;Toggle&#20803;&#32032;&#30340;&#23376;&#20803;&#32032;</span>&lt;/<span style="color: #0000ff;">span</span>&gt;{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#23376;&#20803;&#32032;&#36890;&#36807;props.children&#35775;&#38382;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;/<span style="color: #0000ff;">Toggle</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>


<p>
å°è¯•ä¿®æ”¹propsä¸­çš„å±æ€§å€¼ï¼Œä¼šæŠ›å‡º TypeError: Cannot assign to read only property 'name' of object '#&lt;Object&gt;'å¼‚å¸¸ã€‚ä¹Ÿå°±æ˜¯è¯´propsåœ¨ç»„ä»¶å†…éƒ¨ä¸èƒ½ä¿®æ”¹ï¼Œåªè¯»ã€‚
</p>

<p>
èŒƒä¾‹ï¼šå¤æ‚ç‚¹çš„
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> Sub <span style="color: #a020f0;">extends</span> React.Component {
  render() {<span style="color: #b22222;">// </span><span style="color: #b22222;">render &#29992;&#26469;&#21576;&#29616;state&#25110;props&#20540;</span>
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">sub content ++++</span>&lt;/<span style="color: #0000ff;">div</span>&gt;
  }
}

<span style="color: #a020f0;">class</span> Toggle <span style="color: #a020f0;">extends</span> React.Component {
  state = { flag: <span style="color: #008b8b;">true</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#20013;&#23450;&#20041;state </span>

  handleClick(e) {
    console.log(<span style="color: #8b2252;">'toggle handle click ~~~~'</span>)
    <span style="color: #b22222;">// </span><span style="color: #b22222;">e.preventDefault(); // &#38459;&#27490;&#40664;&#35748;&#20107;&#20214;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(e.target);</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(e.target.id);</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">console.log(this) //this &#30340;&#22353;</span>
    <span style="color: #008b8b;">this</span>.setState({ flag: !<span style="color: #008b8b;">this</span>.state.flag });
    <span style="color: #008b8b;">this</span>.props.parent.setState({host: <span style="color: #008b8b;">this</span>.props.parent.state.host + <span style="color: #8b2252;">'@'</span>})
  }

  render() {<span style="color: #b22222;">// </span><span style="color: #b22222;">render &#29992;&#26469;&#21576;&#29616;state&#25110;props&#20540;</span>
    console.log(<span style="color: #8b2252;">'Toggle render ~~~~'</span>)
    console.log(<span style="color: #008b8b;">this</span>.state, <span style="color: #008b8b;">this</span>.props)
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"toggle"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}
      <span style="color: #a0522d;">style</span>={{backgroundColor:<span style="color: #8b2252;">'white'</span>, margin: <span style="color: #8b2252;">'10'</span> + <span style="color: #8b2252;">'px'</span>}}
    &gt;
<span style="color: #000000; background-color: #ffffff;">      &#25105;&#26159;&#23376;&#32452;&#20214;Toggle. Flag = </span>{<span style="color: #008b8b;">this</span>.state.flag.toString()}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      &#23376;&#32452;&#20214;&#21306;&#22495;&#26174;&#31034;props = </span>{<span style="color: #008b8b;">this</span>.props.school}<span style="color: #000000; background-color: #ffffff;"> - </span>{<span style="color: #008b8b;">this</span>.props.parent.state.host}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">style</span>={{width:<span style="color: #8b2252;">'80%'</span>, border:<span style="color: #8b2252;">'1px solid red'</span>}}&gt;
<span style="color: #000000; background-color: #ffffff;">        Toggle&#30340;&#23376;&#20803;&#32032;&#26174;&#31034;&#21306;&#22495;: </span>{<span style="color: #008b8b;">this</span>.props.children}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
  }
}

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  state = { domain: <span style="color: #8b2252;">'cici.com'</span>, host: <span style="color: #8b2252;">'www'</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20989;&#25968;&#20013;&#23450;&#20041;state</span>

  handleClick(e) {
    console.log(<span style="color: #8b2252;">'root click'</span>)
    <span style="color: #008b8b;">this</span>.setState({host:<span style="color: #008b8b;">this</span>.state.host + <span style="color: #8b2252;">'*'</span>})
  }
  render() {
    console.log(<span style="color: #8b2252;">'Root render ++++'</span>)
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span>  <span style="color: #a0522d;">style</span>={{backgroundColor: <span style="color: #8b2252;">'#f0f0f0'</span>}} 
      <span style="color: #a0522d;">onDoubleClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}&gt;
<span style="color: #000000; background-color: #ffffff;">        Welcome to </span>{<span style="color: #008b8b;">this</span>.state.host}<span style="color: #000000; background-color: #ffffff;">.</span>{<span style="color: #008b8b;">this</span>.state.domain}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Toggle</span> <span style="color: #a0522d;">school</span>=<span style="color: #8b2252;">'python'</span> <span style="color: #a0522d;">parent</span>={<span style="color: #008b8b;">this</span>}&gt;
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">toggle&#30340;&#23376;&#20803;&#32032;</span>
<span style="color: #000000; background-color: #ffffff;">            </span>&lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">cell</span>&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">&#31532;&#20108;&#20010;&#23376;&#20803;&#32032;</span>
<span style="color: #000000; background-color: #ffffff;">            </span>&lt;<span style="color: #0000ff;">Sub</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;/<span style="color: #0000ff;">Toggle</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-h:8ce34831-173d-47cb-82ac-159709a552df" class="outline-3">
<h3 id="h:8ce34831-173d-47cb-82ac-159709a552df">å•å‘æ•°æ®æµ</h3>
<div class="outline-text-3" id="text-h:8ce34831-173d-47cb-82ac-159709a552df">
<ul class="org-ul">
<li>stateæ˜¯ç§æœ‰privateçš„å±äºç»„ä»¶è‡ªå·±çš„å±æ€§ï¼Œç»„ä»¶å¤–æ— æ³•ç›´æ¥è®¿é—®ã€‚å¯ä»¥ä¿®æ”¹stateï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨setStateæ–¹æ³•ã€‚</li>
<li>propsæ˜¯å…¬æœ‰publicå±æ€§ï¼Œç»„ä»¶å¤–ä¹Ÿå¯ä»¥è®¿é—®ï¼Œä½†ç»„ä»¶å†…åªè¯»ã€‚</li>
<li>propsæ˜¯ä¸€ç§ç»„ä»¶å¤–éƒ¨ä¼ å…¥å‘ç»„ä»¶å†…éƒ¨ä¼ å…¥æ•°æ®çš„ä¸€ç§æ–¹å¼ï¼Œåªä¸è¿‡é‡‡ç”¨æ ‡ç­¾å±æ€§çš„æ–¹å¼ã€‚</li>
<li>åœ¨Reactä¸­ï¼Œæ•°æ®åªèƒ½ç”±å¤–å±‚é€šè¿‡propsä¼ é€’ç»™å†…å±‚ã€‚è¿™ç§ç§°ä¸ºå•å‘æ•°æ®æµSingle Data Flowã€‚</li>
</ul>
</div>
</div>
<div id="outline-container-h:cb17f0b3-0c0b-486f-8f7c-8dbe43d45b03" class="outline-3">
<h3 id="h:cb17f0b3-0c0b-486f-8f7c-8dbe43d45b03">æ„é€ å™¨constructor</h3>
<div class="outline-text-3" id="text-h:cb17f0b3-0c0b-486f-8f7c-8dbe43d45b03">
<p>
ä½¿ç”¨ES6çš„æ„é€ å™¨ï¼Œè¦æä¾›ä¸€ä¸ªå‚æ•°propsï¼Œå¹¶æŠŠè¿™ä¸ªå‚æ•°ä½¿ç”¨superä¼ é€’ç»™çˆ¶ç±»
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;
<span style="color: #a020f0;">class</span> Toggle <span style="color: #a020f0;">extends</span> React.Component {
  <span style="color: #b22222;">//</span><span style="color: #b22222;">state = { flag: true }; // &#31867;&#20013;&#23450;&#20041;state</span>
  constructor(props) {
    <span style="color: #a020f0;">super</span>(props); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#19968;&#23450;&#35201;&#35843;&#29992;super&#29238;&#31867;&#26500;&#36896;&#22120;&#65292;&#21542;&#21017;&#25253;&#38169;</span>
    <span style="color: #008b8b;">this</span>.state = { flag: <span style="color: #008b8b;">true</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#20013;&#23450;&#20041;state</span>
  }

  handleClick(event) {
    console.log(event.target.id);
    console.log(event.target === <span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>);
    console.log(<span style="color: #008b8b;">this</span>.state);
    <span style="color: #008b8b;">this</span>.setState({ flag: !<span style="color: #008b8b;">this</span>.state.flag });
  }

  render() {<span style="color: #b22222;">/* </span><span style="color: #b22222;">&#27880;&#24847;&#19968;&#23450;&#35201;&#32465;&#23450;this onClick&#20889;&#25104;&#23567;&#39548;&#23792;</span><span style="color: #b22222;"> */</span>
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"t1"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}&gt;
<span style="color: #000000; background-color: #ffffff;">      &#28857;&#20987;&#36825;&#21477;&#35805;&#65292;&#20250;&#35302;&#21457;&#19968;&#20010;&#20107;&#20214;&#12290;</span>{<span style="color: #008b8b;">this</span>.state.flag.toString()}&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      &#26174;&#31034;props</span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>{<span style="color: #008b8b;">this</span>.props.name}<span style="color: #000000; background-color: #ffffff;"> : </span>{<span style="color: #008b8b;">this</span>.props.parent.state.p1}{<span style="color: #008b8b;">this</span>.props.parent.state.p2}
<span style="color: #000000; background-color: #ffffff;">      </span>{<span style="color: #008b8b;">this</span>.props.children}
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;;
  }
}

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;&#23545;&#35937; </span>
  state = { p1: <span style="color: #8b2252;">'www.python'</span>, p2: <span style="color: #8b2252;">'.org'</span> }; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20989;&#25968;&#20013;&#23450;&#20041;state </span>

  render() {
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Welcome to </span>{<span style="color: #008b8b;">this</span>.state.p1}{<span style="color: #008b8b;">this</span>.state.p2}&lt;/<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Toggle</span> <span style="color: #a0522d;">name</span>=<span style="color: #8b2252;">"school"</span> <span style="color: #a0522d;">parent</span>={<span style="color: #008b8b;">this</span>}&gt;{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#33258;&#23450;&#20041;2&#20010;&#23646;&#24615;&#36890;&#36807;props&#20256;&#32473;Toggle&#32452;&#20214;&#23545;&#35937;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#23376;&#20803;&#32032;&#36890;&#36807;props.children&#35775;&#38382;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">          </span>&lt;<span style="color: #0000ff;">span</span>&gt;<span style="color: #000000; background-color: #ffffff;">&#25105;&#26159;Toggle&#20803;&#32032;&#30340;&#23376;&#20803;&#32032;</span>&lt;/<span style="color: #0000ff;">span</span>&gt;{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#23376;&#20803;&#32032;&#36890;&#36807;props.children&#35775;&#38382;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;/<span style="color: #0000ff;">Toggle</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }
}
ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>
</div>
</div>
<div id="outline-container-h:0164d06c-7b64-4ea8-afd1-6e4fdb8d5140" class="outline-3">
<h3 id="h:0164d06c-7b64-4ea8-afd1-6e4fdb8d5140">ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<div class="outline-text-3" id="text-h:0164d06c-7b64-4ea8-afd1-6e4fdb8d5140">
<p>
ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¯åˆ†æˆä¸‰ä¸ªçŠ¶æ€ï¼š
</p>
<ul class="org-ul">
<li>Mountingï¼šå·²æ’å…¥çœŸå® DOM</li>
<li>Updatingï¼šæ­£åœ¨è¢«é‡æ–°æ¸²æŸ“</li>
<li>Unmountingï¼šå·²ç§»å‡ºçœŸå® DOM</li>
</ul>

<p>
ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ï¼Œè¯´æ˜åœ¨ä¸åŒæ—¶æœºè®¿é—®ç»„ä»¶ï¼Œç»„ä»¶æ­£å¤„åœ¨ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒçŠ¶æ€ä¸Šã€‚
</p>

<p>
åœ¨ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€è®¿é—®ï¼Œå°±äº§ç”Ÿä¸åŒçš„æ–¹æ³•ã€‚
</p>

<p>
ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•å¦‚ä¸‹ï¼š
</p>
<ul class="org-ul">
<li>è£…è½½ç»„ä»¶è§¦å‘
<ul class="org-ul">
<li>componentWillMount åœ¨æ¸²æŸ“å‰è°ƒç”¨ï¼Œåªä¼šåœ¨è£…è½½ä¹‹å‰è°ƒç”¨ä¸€æ¬¡ã€‚æ­¤æ–¹æ³•åœ¨V17å³å°†è¿‡æœŸã€‚å»ºè®®åœ¨constructorä¸­åˆå§‹åŒ–stateã€‚</li>
<li>componentDidMount : åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“åè°ƒç”¨ï¼Œåªåœ¨å®¢æˆ·ç«¯ã€‚ä¹‹åç»„ä»¶å·²ç»ç”Ÿ
æˆäº†å¯¹åº”çš„DOMç»“æ„ï¼Œå¯ä»¥é€šè¿‡this.getDOMNode()æ¥è¿›è¡Œè®¿é—®ã€‚ å¦‚æœä½ æƒ³
å’Œå…¶ä»–JavaScriptæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è°ƒç”¨setTimeout,
setIntervalæˆ–è€…å‘é€A JAXè¯·æ±‚ç­‰æ“ä½œ(é˜²æ­¢å¼‚éƒ¨æ“ä½œé˜»å¡UI)ã€‚åªåœ¨è£…è½½å®Œ
æˆåè°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨renderä¹‹åã€‚</li>
</ul></li>

<li>æ›´æ–°ç»„ä»¶è§¦å‘ã€‚è¿™äº›æ–¹æ³•ä¸ä¼šåœ¨é¦–æ¬¡renderç»„ä»¶çš„å‘¨æœŸè°ƒç”¨
<ul class="org-ul">
<li>componentWillReceiveProps(nextProps) åœ¨ç»„ä»¶æ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„propæ—¶è¢«è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•åœ¨åˆå§‹åŒ–renderæ—¶ä¸ä¼šè¢«è°ƒç”¨ã€‚åœ¨V17ä¸­ä¹Ÿå³å°†è¿‡æœŸã€‚</li>
<li>shouldComponentUpdate(nextProps,nextState)è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚åœ¨ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„propsæˆ–è€…stateæ—¶è¢«è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶æˆ–è€…ä½¿ç”¨forceUpdateæ—¶ä¸è¢«è°ƒç”¨ã€‚
<ul class="org-ul">
<li>å¯ä»¥åœ¨ä½ ç¡®è®¤ä¸éœ€è¦æ›´æ–°ç»„ä»¶æ—¶ä½¿ç”¨</li>
<li>å¦‚æœè®¾ç½®ä¸ºfalseï¼Œå°±æ˜¯ä¸å…è®¸æ›´æ–°ç»„ä»¶ï¼Œé‚£ä¹ˆcomponentWillUpdateã€componentDidUpdateä¸ä¼šæ‰§è¡Œ</li>
</ul></li>
<li>componentWillUpdate(nextProps, nextState) åœ¨ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„propsæˆ–è€…stateä½†è¿˜æ²¡æœ‰renderæ—¶è¢«è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶ä¸ä¼šè¢«è°ƒç”¨ã€‚åœ¨V17ä¸­ä¹Ÿå³å°†è¿‡æœŸã€‚</li>
<li>componentDidUpdate(prevProps, prevState) åœ¨ç»„ä»¶å®Œæˆæ›´æ–°åç«‹å³è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶ä¸ä¼šè¢«è°ƒç”¨ã€‚</li>
</ul></li>

<li>å¸è½½ç»„ä»¶è§¦å‘
<ul class="org-ul">
<li>componentWillUnmountåœ¨ç»„ä»¶ä» DOM ä¸­ç§»é™¤çš„æ—¶å€™ç«‹åˆ»è¢«è°ƒç”¨</li>
</ul></li>
</ul>



<figure id="orga7b2de7">
<img src="./images/img_20250515_160508.png" alt="img_20250515_160508.png" width="90%">

</figure>

<p>
ç”±å›¾å¯çŸ¥
constructoræ„é€ å™¨æ˜¯æœ€æ—©æ‰§è¡Œçš„å‡½æ•°
</p>

<p>
ç»„ä»¶æ„å»ºå¥½ä¹‹åï¼Œå¦‚æœæ›´æ–°ç»„ä»¶çš„stateæˆ–propsï¼ˆæ³¨æ„åœ¨ç»„ä»¶å†…propsæ˜¯åªè¯»çš„ï¼‰ï¼Œå°±ä¼šåœ¨renderæ¸²æŸ“å‰è§¦å‘ä¸€ç³»åˆ—çš„ æ›´æ–°ç”Ÿå‘½å‘¨æœŸå‡½æ•°
</p>

<p>
å› æ­¤ï¼Œé‡æ–°ç¼–å†™/src/index.js
æ„é€ ä¸¤ä¸ªç»„ä»¶ï¼Œåœ¨å­ç»„ä»¶Subä¸­ï¼ŒåŠ å…¥æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°
</p>

<p>
ä¸‹é¢çš„ä¾‹å­æ·»åŠ æ˜¯è£…è½½ã€å¸è½½ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> Sub <span style="color: #a020f0;">extends</span> React.Component {
  constructor(props) {
    console.log(<span style="color: #8b2252;">'Sub constructor'</span>)
    <span style="color: #a020f0;">super</span>(props); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;   </span>
    <span style="color: #008b8b;">this</span>.state = { count: 0 };
  }

  handleClick(event) {
    <span style="color: #008b8b;">this</span>.setState({ count: <span style="color: #008b8b;">this</span>.state.count + 1 });
  }

  render() {
    console.log(<span style="color: #8b2252;">'Sub render'</span>);
    <span style="color: #a020f0;">return</span> (&lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"sub"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}&gt;
<span style="color: #000000; background-color: #ffffff;">      Sub's count = </span>{<span style="color: #008b8b;">this</span>.state.count}
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }

  componentWillMount() {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">constructor&#20043;&#21518;&#65292;&#31532;&#19968;&#27425;render&#20043;&#21069;  </span>
    console.log(<span style="color: #8b2252;">'Sub componentWillMount'</span>);
  }

  componentDidMount() {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#19968;&#27425;render&#20043;&#21518;  </span>
    console.log(<span style="color: #8b2252;">'Sub componentDidMount'</span>);
  }

  componentWillUnmount() {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#28165;&#29702;&#24037;&#20316;  </span>
    console.log(<span style="color: #8b2252;">'Sub componentWillUnmount'</span>);
  }
}

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  constructor(props) {
    console.log(<span style="color: #8b2252;">'Root Constructor'</span>)
    <span style="color: #a020f0;">super</span>(props); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;&#23545;&#35937;</span>
    <span style="color: #008b8b;">this</span>.state = {};
  }

  render() {
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Sub</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));  
</pre>
</div>


<p>
ä¸Šé¢å¯ä»¥çœ‹åˆ°é¡ºåºæ˜¯
</p>

<p>
constructor -&gt; componentWillMount -&gt; render -&gt; componentDidMount -&#x2014;stateæˆ–propsæ”¹å˜-&#x2014;&gt; render
</p>

<p>
å¢åŠ  æ›´æ–°ç»„ä»¶å‡½æ•°
</p>

<p>
ä¸ºäº†æ¼”ç¤ºpropsçš„æ”¹å˜ï¼Œä¸ºRootå…ƒç´ å¢åŠ ä¸€ä¸ªclickäº‹ä»¶å¤„ç†å‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">class</span> Sub <span style="color: #a020f0;">extends</span> React.Component {
  constructor(props) {
    console.log(<span style="color: #8b2252;">'Sub constructor'</span>)
    <span style="color: #a020f0;">super</span>(props); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;</span>
    <span style="color: #008b8b;">this</span>.state = { count: 0 };
  }

  handleClick(event) {
    <span style="color: #008b8b;">this</span>.setState({ count: <span style="color: #008b8b;">this</span>.state.count + 1 });<span style="color: #b22222;">// </span><span style="color: #b22222;">&#19981;&#35201;&#29992;++</span>
  }
  render() {
    console.log(<span style="color: #8b2252;">'Sub render'</span>);
    <span style="color: #a020f0;">return</span> (&lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">style</span>={{
      height: 200 + <span style="color: #8b2252;">'px'</span>, color: <span style="color: #8b2252;">'red'</span>, backgroundColor: <span style="color: #8b2252;">'#f0f0f0'</span>,
      padding: <span style="color: #8b2252;">'20px'</span>
    }}&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">a</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"sub"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)} <span style="color: #a0522d;">style</span>={{ backgroundColor: <span style="color: #8b2252;">'white'</span> }}&gt;
<span style="color: #000000; background-color: #ffffff;">        Sub's count = </span>{<span style="color: #008b8b;">this</span>.state.count}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">a</span>&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }

  componentWillMount() {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">constructor&#20043;&#21518;&#65292;&#31532;&#19968;&#27425;render&#20043;&#21069;</span>
    console.log(<span style="color: #8b2252;">'Sub componentWillMount'</span>);
  }

  componentDidMount() {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#19968;&#27425;render&#20043;&#21518;</span>
    console.log(<span style="color: #8b2252;">'Sub componentDidMount'</span>);
  }

  componentWillUnmount() {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#28165;&#29702;&#24037;&#20316;</span>
    console.log(<span style="color: #8b2252;">'Sub componentWillUnmount'</span>);
  }

  componentWillReceiveProps(nextProps) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">props&#21464;&#26356;&#26102;&#65292;&#25509;&#21040;&#26032;props&#20102;&#65292;&#20132;&#32473;shouldComponentUpdate&#12290;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">props&#32452;&#20214;&#20869;&#21482;&#35835;&#65292;&#21482;&#33021;&#20174;&#22806;&#37096;&#25913;&#21464;</span>
    console.log(<span style="color: #008b8b;">this</span>.props);
    console.log(nextProps);
    console.log(<span style="color: #8b2252;">'Sub componentWillReceiveProps'</span>, <span style="color: #008b8b;">this</span>.state.count);
  }

  shouldComponentUpdate(nextProps, nextState) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26159;&#21542;&#32452;&#20214;&#26356;&#26032;&#65292;props&#25110;state&#26041;&#24335;&#25913;&#21464;&#26102;&#65292;&#36820;&#22238;&#24067;&#23572;&#20540;&#65292;true&#25165;&#20250;&#26356;&#26032;</span>
    console.log(<span style="color: #8b2252;">'Sub shouldComponentUpdate'</span>, <span style="color: #008b8b;">this</span>.state.count, nextState);
    <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">true</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">return false&#23558;&#25318;&#25130;&#26356;&#26032;</span>
  }

  componentWillUpdate(nextProps, nextState) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21516;&#24847;&#26356;&#26032;&#21518;&#65292;&#30495;&#27491;&#26356;&#26032;&#21069;&#65292;&#20043;&#21518;&#35843;&#29992;render </span>
    console.log(<span style="color: #8b2252;">'Sub componentWillUpdate'</span>, <span style="color: #008b8b;">this</span>.state.count, nextState);
  }

  componentDidUpdate(prevProps, prevState) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21516;&#24847;&#26356;&#26032;&#21518;&#65292;&#30495;&#27491;&#26356;&#26032;&#21518;&#65292;&#22312;render&#20043;&#21518;&#35843;&#29992;</span>
    console.log(<span style="color: #8b2252;">'Sub componentDidUpdate'</span>, <span style="color: #008b8b;">this</span>.state.count, prevState);
  }
}

<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
  constructor(props) {
    console.log(<span style="color: #8b2252;">'Root Constructor'</span>)
    <span style="color: #a020f0;">super</span>(props); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#31867;&#26500;&#36896;&#22120;  </span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;&#19968;&#20010;&#23545;&#35937; </span>
    <span style="color: #008b8b;">this</span>.state = { flag: <span style="color: #008b8b;">true</span>, name: <span style="color: #8b2252;">'root'</span> };
  }

  handleClick(event) {
    <span style="color: #008b8b;">this</span>.setState({
      flag: !<span style="color: #008b8b;">this</span>.state.flag,
      name: <span style="color: #008b8b;">this</span>.state.flag ? <span style="color: #008b8b;">this</span>.state.name.toLowerCase() : <span style="color: #008b8b;">this</span>.state.name.toUpperCase()
    });
  }

  render() {
    <span style="color: #a020f0;">return</span> (
      &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">"app"</span> <span style="color: #a0522d;">onClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)}&gt;
<span style="color: #000000; background-color: #ffffff;">        My Name is </span>{<span style="color: #008b8b;">this</span>.state.name}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Sub</span> /&gt;<span style="color: #000000; background-color: #ffffff;"> </span>{<span style="color: #b22222;">/*</span><span style="color: #b22222;">&#29238;&#32452;&#20214;&#30340;render&#65292;&#20250;&#24341;&#36215;&#19979;&#19968;&#32423;&#32452;&#20214;&#30340;&#26356;&#26032;&#27969;&#31243;&#65292;&#23548;&#33268;props&#37325;&#26032;&#21457;&#36865;&#65292;&#21363;&#20351;&#23376;&#32452;&#20214;props&#27809;&#26377;</span>
<span style="color: #b22222;">  &#25913;&#21464;&#36807;</span><span style="color: #b22222;">*/</span>}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);
  }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>


<p>
componentWillMount ç¬¬ä¸€æ¬¡è£…è½½ï¼Œåœ¨é¦–æ¬¡renderä¹‹å‰ã€‚ä¾‹å¦‚æ§åˆ¶stateã€propsã€‚
</p>

<p>
componentDidMount ç¬¬ä¸€æ¬¡è£…è½½ç»“æŸï¼Œåœ¨é¦–æ¬¡renderä¹‹åã€‚ä¾‹å¦‚æ§åˆ¶stateã€propsã€‚
</p>


<p>
componentWillReceiveProps åœ¨ç»„ä»¶å†…éƒ¨ï¼Œpropsæ˜¯åªè¯»ä¸å¯å˜çš„ï¼Œä½†æ˜¯è¿™ä¸ªå‡½
æ•°å¯ä»¥æ¥æ”¶åˆ°æ–°çš„propsï¼Œå¯ä»¥å¯¹propsåšä¸€äº›å¤„ç†ï¼Œthis.props =
{name:â€˜rooooootâ€™};è¿™å°±æ˜¯å·æ¢æ¢æŸ±ã€‚componentWillReceivePropsè§¦å‘ï¼Œä¹Ÿ
ä¼šèµ°shouldComponentUpdateã€‚
</p>

<p>
shouldComponentUpdate åˆ¤æ–­æ˜¯å¦éœ€è¦ç»„ä»¶æ›´æ–°ï¼Œå°±æ˜¯æ˜¯å¦renderï¼Œç²¾ç¡®çš„æ§åˆ¶æ¸²æŸ“ï¼Œæé«˜æ€§èƒ½ã€‚
</p>

<p>
componentWillUpdate åœ¨é™¤äº†é¦–æ¬¡renderå¤–ï¼Œæ¯æ¬¡renderå‰æ‰§è¡Œï¼ŒcomponentDidUpdateåœ¨renderä¹‹åè°ƒç”¨ã€‚
</p>

<p>
ä¸è¿‡ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œç”¨ä¸ä¸Šè¿™äº›å‡½æ•°ï¼Œè¿™äº›é’©å­å‡½æ•°æ˜¯ä¸ºäº†ç²¾ç¡®çš„æ§åˆ¶ã€‚
</p>

<p>
ä¿®æ”¹Rootç»„ä»¶renderä¸­çš„è¿™ä¸€å¥ä¸º &lt;div id="root" onDoubleClick={this.handleClick.bind(this)}&gt; ï¼Œå¯ä»¥çœ‹åˆ°ç‚¹å‡»Subä¸­çº¢è‰²çš„æ–‡å­—ï¼ŒRootä¸ä¼šé‡ç»˜ã€‚
</p>

<p>
å¦‚æœå­ç»„ä»¶å’Œçˆ¶ç»„ä»¶ä½¿ç”¨äº†ç›¸åŒçš„äº‹ä»¶ï¼Œå¯ä»¥è®¤ä¸ºç‚¹å‡»å­ç»„ä»¶ä¹Ÿæ˜¯ç‚¹å‡»äº†çˆ¶ç»„ä»¶ï¼Œ
çˆ¶ç»„ä»¶é‡ç»˜ï¼Œå°±ä¼šæŠŠå­ç»„ä»¶propsæ›´æ–°ï¼Œå¼•èµ·å­ç»„ä»¶ç»„ä»¶æ›´æ–°æµç¨‹ï¼Œå°±ä¼šä»
componentWillReceivePropså¼€å§‹æ‰§è¡Œã€‚å¦‚æœå­ç»„ä»¶è‡ªå·±ä¿®æ”¹è‡ªå·±çš„stateï¼Œä¸ä¼š
æ‰§è¡ŒcomponentWillReceivePropsã€‚
</p>

<p>
èŒƒä¾‹ï¼š
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDOM, {render} from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">bundle.js &lt;script src="bundle.js"&gt;&lt;/script&gt;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#26410;&#26469;bundler.js&#19979;&#36733;&#24182;&#30456;&#24403;&#20110;&#36816;&#34892;&#22312;index.html&#20013;</span>
<span style="color: #a020f0;">class</span> Sub <span style="color: #a020f0;">extends</span> React.Component{ <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21482;&#35201;&#20986;&#29616;&#32452;&#20214;&#65292;&#23601;&#24517;&#39035;&#23548;&#20837;react</span>
  constructor(props) { <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26500;&#36896;&#20989;&#25968;</span>
    <span style="color: #a020f0;">super</span>(props); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992;&#29238;&#31867;&#30340;&#26500;&#36896;&#20989;&#25968;&#65292;&#24517;&#39035;&#20889;</span>
    console.log(<span style="color: #8b2252;">'&#32452;&#20214;&#23454;&#20363;&#21270;&#20102;'</span>)
    <span style="color: #008b8b;">this</span>.state = {count: 0}<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23450;&#20041;state&#29366;&#24577;</span>
  }
  componentWillMount() {
   console.log(<span style="color: #8b2252;">'&#32452;&#20214;&#23558;&#35201;&#25346;&#36733;&#21040;DOM&#19978;'</span>) 
  }

  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#31532;&#19968;&#27425;&#35843;&#29992;render</span>

  componentDidMount() {
    console.log(<span style="color: #8b2252;">'&#32452;&#20214;&#24050;&#32463;&#25346;&#36733;&#21040;DOM&#19978;'</span>)
  }
  componentWillUnmount() {
    console.log(<span style="color: #8b2252;">'&#32452;&#20214;&#24050;&#32463;&#20174;DOM&#19978;&#21368;&#36733;&#20102;'</span>) 
  }
  <span style="color: #b22222;">/////////////////////////</span>
  componentWillReceiveProps(nextProps) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">props&#21464;&#26356;&#26102;&#65292;&#25509;&#21040;&#26032;props&#20102;&#65292;&#20132;&#32473;shouldComponentUpdate&#12290;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">props&#32452;&#20214;&#20869;&#21482;&#35835;&#65292;&#21482;&#33021;&#20174;&#22806;&#37096;&#25913;&#21464;</span>
    console.log(<span style="color: #8b2252;">'&#24403;&#21069;&#20540;'</span>, <span style="color: #008b8b;">this</span>.props);
    console.log(<span style="color: #8b2252;">'&#26410;&#26469;&#35201;&#26356;&#26032;&#20540;'</span>, nextProps); <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24453;&#26356;&#26032;&#30340;props</span>
    console.log(<span style="color: #8b2252;">'componentWillReceiveProps&#65292;props&#21457;&#29983;&#20102;&#21464;&#21270;&#65292;&#27880;&#24847;pops&#30340;&#25913;&#21464;&#26469;&#33258;&#22806;&#37096;&#65292;&#20256;&#20837;'</span>)
  }
  shouldComponentUpdate(nextProps, nextState) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26159;&#21542;&#32452;&#20214;&#26356;&#26032;&#65292;props&#25110;state&#26041;&#24335;&#25913;&#21464;&#26102;&#65292;&#36820;&#22238;&#24067;&#23572;&#20540;&#65292;true&#25165;&#20250;&#26356;&#26032;</span>
    console.log(<span style="color: #8b2252;">'&#24403;&#21069;&#20540;'</span>, <span style="color: #008b8b;">this</span>.state, <span style="color: #008b8b;">this</span>.props);
    console.log(<span style="color: #8b2252;">'&#26410;&#26469;&#35201;&#26356;&#26032;&#20540;'</span>, nextState, nextProps);
    console.log(<span style="color: #8b2252;">'shouldComponentUpdate, &#30001;props&#25110;state&#21457;&#29983;&#21464;&#21270;&#24341;&#36215;&#25191;&#34892;'</span>)
    <span style="color: #b22222;">// </span><span style="color: #b22222;">return false; // &#23601;&#31639;state&#21644;props&#26377;&#26356;&#26032;&#65292;&#21040;&#24213;&#32467;&#26463;&#65292;&#19981;&#26356;&#26032;&#32452;&#20214;</span>
    <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">true</span>;
  }
  componentWillUpdate(nextProps, nextState) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21516;&#24847;&#26356;&#26032;&#21518;&#65292;&#30495;&#27491;&#26356;&#26032;&#21069;&#65292;&#20043;&#21518;&#35843;&#29992;render </span>
    console.log(<span style="color: #8b2252;">'&#24403;&#21069;&#20540;'</span>, <span style="color: #008b8b;">this</span>.state, <span style="color: #008b8b;">this</span>.props);
    console.log(<span style="color: #8b2252;">'&#26410;&#26469;&#35201;&#26356;&#26032;&#20540;'</span>, nextState, nextProps);
    <span style="color: #b22222;">// </span><span style="color: #b22222;">nextProps = {'name': 'componentWillUpdate nextProps'}</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">nextProps.name = 'python.org' // &#25913;&#20102;&#27809;&#26377;&#29992;. &#22240;&#20026;props&#21482;&#35835;</span>
    nextState.count = nextState.count + 100; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25913;&#20102;&#26377;&#25928;&#26524;</span>
    console.log(<span style="color: #8b2252;">'&#26410;&#26469;&#35201;&#26356;&#26032;&#20540;'</span>, nextState, nextProps);
    console.log(<span style="color: #8b2252;">'componentWillUpdate, &#30001;props&#25110;state&#21457;&#29983;&#21464;&#21270;&#24341;&#36215;&#25191;&#34892;'</span>)
  }

  render() {
    console.log(<span style="color: #8b2252;">'render, &#32452;&#20214;&#28210;&#26579;'</span>)
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>=<span style="color: #8b2252;">'sub'</span> 
      <span style="color: #a0522d;">onClick</span>={e =&gt; {
        <span style="color: #008b8b;">this</span>.setState({count: <span style="color: #008b8b;">this</span>.state.count + 10})
      }}
      <span style="color: #a0522d;">style</span>={{backgroundColor:<span style="color: #8b2252;">'#FFF'</span>, width:<span style="color: #8b2252;">'80%'</span>,
      margin: <span style="color: #8b2252;">'5px'</span>
    }}&gt;
<span style="color: #000000; background-color: #ffffff;">      Sub content. props = </span>{<span style="color: #008b8b;">this</span>.props.name}<span style="color: #000000; background-color: #ffffff;"> </span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      state = </span>{<span style="color: #008b8b;">this</span>.state.count}
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
  }

  componentDidUpdate(prevProps, prevState) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21516;&#24847;&#26356;&#26032;&#21518;&#65292;&#30495;&#27491;&#26356;&#26032;&#21518;&#65292;&#22312;render&#20043;&#21518;&#35843;&#29992;</span>
    console.log(<span style="color: #8b2252;">'&#24403;&#21069;&#20540;'</span>, <span style="color: #008b8b;">this</span>.state, <span style="color: #008b8b;">this</span>.props);
    console.log(<span style="color: #8b2252;">'&#19978;&#27425;&#20540;'</span>, prevState, prevProps);
    console.log(<span style="color: #8b2252;">'componentDidUpdate'</span>)
  }
}

<span style="color: #a020f0;">class</span> App <span style="color: #a020f0;">extends</span> React.Component{ 
  constructor(props) {
    <span style="color: #a020f0;">super</span>(props);
    <span style="color: #008b8b;">this</span>.state = {name: <span style="color: #8b2252;">'APP'</span>}
  }
  handleClick(e) {
    <span style="color: #008b8b;">this</span>.setState({ 
      name: <span style="color: #008b8b;">this</span>.state.name + <span style="color: #8b2252;">'*'</span>
      })
  }
  render() {
    <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> 
    <span style="color: #a0522d;">onDoubleClick</span>={<span style="color: #008b8b;">this</span>.handleClick.bind(<span style="color: #008b8b;">this</span>)} 
      <span style="color: #a0522d;">style</span>={{backgroundColor: <span style="color: #8b2252;">'#f0f0f0'</span>}}&gt;
<span style="color: #000000; background-color: #ffffff;">      Root state = </span>{<span style="color: #008b8b;">this</span>.state.name}<span style="color: #000000; background-color: #ffffff;"> </span>&lt;<span style="color: #0000ff;">br</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">Sub</span> <span style="color: #a0522d;">name</span>={<span style="color: #008b8b;">this</span>.state.name} /&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
  }
}
render(&lt;<span style="color: #0000ff;">App</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-h:d4ca3e0f-3b96-4fc0-b642-9d8a9bce90c3" class="outline-3">
<h3 id="h:d4ca3e0f-3b96-4fc0-b642-9d8a9bce90c3">å‡½æ•°å¼ç»„ä»¶</h3>
<div class="outline-text-3" id="text-h:d4ca3e0f-3b96-4fc0-b642-9d8a9bce90c3">
<p>
Reactä»15.0å¼€å§‹æ”¯æŒå‡½æ•°å¼ç»„ä»¶ï¼Œå®šä¹‰å¦‚ä¸‹
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">Root</span>(<span style="color: #a0522d;">props</span>) {
  <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;{props.schoolName}&lt;/<span style="color: #0000ff;">div</span>&gt;;
}
ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
å¼€å‘ä¸­ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œç»„ä»¶å…¶å®å¾ˆç®€å•ï¼Œä¸éœ€è¦stateçŠ¶æ€ï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚
</p>

<p>
å‡½æ•°å¼ç»„ä»¶çš„å‡½æ•°åº”è¯¥æä¾›ä¸€ä¸ªå‚æ•°propsï¼Œè¿”å›ä¸€ä¸ªReactå…ƒç´ ã€‚
</p>

<p>
å‡½æ•°å¼ç»„ä»¶çš„å‡½æ•°æœ¬èº«å°±æ˜¯renderå‡½æ•°ã€‚
</p>

<p>
æ”¹å†™ä¸Šé¢ä»£ç 
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Root</span> = props =&gt; &lt;<span style="color: #0000ff;">div</span>&gt;{props.schoolName}&lt;/<span style="color: #0000ff;">div</span>&gt;;

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
ä»¥å‰å‡½æ•°å¼ç»„ä»¶è¿˜æœ‰ä¸ªåå­—å«stateless componentsæ— çŠ¶æ€ç»„ä»¶ã€‚å½“å‰Reactå‘å¸ƒäº†16.8ï¼Œå·²ç»å¯ä»¥åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ä½¿ç”¨stateäº†ï¼Œæ‰€ä»¥å®˜æ–¹å»ºè®®å«å‡½æ•°å¼ç»„ä»¶ã€‚
</p>
</div>
</div>
<div id="outline-container-h:b868542a-7890-4a14-be44-7b643600401e" class="outline-3">
<h3 id="h:b868542a-7890-4a14-be44-7b643600401e">é«˜é˜¶ç»„ä»¶</h3>
<div class="outline-text-3" id="text-h:b868542a-7890-4a14-be44-7b643600401e">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Root</span> = props =&gt; &lt;div&gt;{props.schoolName}&lt;/div&gt;;
</pre>
</div>

<p>
å¦‚æœè¦åœ¨ä¸Šä¾‹çš„Rootç»„ä»¶è¿›è¡Œå¢å¼ºæ€ä¹ˆåŠï¼Ÿä¾‹å¦‚å°†Rootç»„ä»¶çš„divå¤–éƒ¨å†åŠ å…¥å…¶å®ƒdivã€‚
</p>

<p>
æŸ¯é‡ŒåŒ–è¿™ä¸ªWrapperå‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">Component</span>, <span style="color: #a0522d;">props</span>) {
  <span style="color: #a020f0;">return</span> (  
    &lt;div&gt;
      {props.schoolName}  
       &lt;hr /&gt;   
       &lt;Component /&gt;  
   &lt;/div&gt;
  );
};

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Root</span> = props =&gt; &lt;div&gt;{props.schoolName}&lt;/div&gt;; 
</pre>
</div>

<p>
æŸ¯é‡ŒåŒ–è¿™ä¸ªWrapperå‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">Component</span>) {
  <span style="color: #a020f0;">function</span> <span style="color: #0000ff;">_wrapper</span>(<span style="color: #a0522d;">props</span>) {
   <span style="color: #a020f0;">return</span> (
    &lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>{props.schoolName}
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">      </span>&lt;<span style="color: #0000ff;">Component</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;
  );
  }
  <span style="color: #a020f0;">return</span> _wrapper;
};

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Root</span> = props =&gt; &lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Root</span>&lt;/<span style="color: #0000ff;">div</span>&gt;;

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">NewComp</span> = Wrapper(Root) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#19968;&#20010;&#21253;&#35013;&#21518;&#30340;&#20803;&#32032;</span>

ReactDom.render(&lt;<span style="color: #0000ff;">NewComp</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span>/&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
ä¸‹é¢ä»£ç æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ— çŠ¶æ€ç»„ä»¶ï¼Œå†…éƒ¨åŒ…è£¹è¿™ä¸€ä¸ªä¼ å…¥çš„ç»„ä»¶ï¼Œå¯ä»¥çœ‹åšå¢å¼ºäº†ä¼ å…¥çš„ç»„ä»¶ã€‚
</p>

<p>
ä¼ å…¥çš„ç»„ä»¶ä½œä¸ºè¿”å›çš„æ–°ç»„ä»¶çš„å­ç»„ä»¶
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">_wrapper</span>(<span style="color: #a0522d;">props</span>) {
  <span style="color: #a020f0;">return</span> (  
   &lt;div&gt;
    {props.schoolName}   
    &lt;hr /&gt;  
    &lt;Component /&gt;  
  &lt;/div&gt;
  );
}
</pre>
</div>

<p>
é‚£ä¹ˆä¸Šé¢ä»£ç çš„Wrapperå‡½æ•°å¯ä»¥çœ‹åšå‚æ•°æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œè¿”å›ä¸€ä¸ªæ–°ç»„ä»¶ï¼Œå³é«˜é˜¶ç»„ä»¶ã€‚
</p>

<p>
ç®€åŒ–Wrapperï¼Œç®­å¤´å‡½æ•°
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">Component</span>) { 
    <span style="color: #a020f0;">return</span> (props) =&gt; { 
        <span style="color: #a020f0;">return</span> ( 
            &lt;div&gt;
                {props.schoolName}
                &lt;hr /&gt; 
                &lt;Component /&gt; 
            &lt;/div&gt;
        );
    };
};
</pre>
</div>

<p>
å†æ¬¡å˜åŒ–
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = <span style="color: #a020f0;">function</span> (<span style="color: #a0522d;">Component</span>) { 
    <span style="color: #a020f0;">return</span> props =&gt;
        ( 
        &lt;div&gt;
            {props.schoolName} 
            &lt;hr /&gt; 
            &lt;Component /&gt; 
        &lt;/div&gt;
    );
};
</pre>
</div>

<p>
å†æ¬¡å˜åŒ–
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = Component =&gt; props =&gt;
    (&lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>{props.schoolName}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Component</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Root</span> = props =&gt; &lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Root</span>&lt;/<span style="color: #0000ff;">div</span>&gt;;

<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">NewComp</span> = Wrapper(Root)

ReactDom.render(&lt;<span style="color: #0000ff;">NewComp</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>
</div>
<div id="outline-container-h:aabac657-b75e-4d67-8805-f6e05bdb8cf2" class="outline-4">
<h4 id="h:aabac657-b75e-4d67-8805-f6e05bdb8cf2">è£…é¥°å™¨</h4>
<div class="outline-text-4" id="text-h:aabac657-b75e-4d67-8805-f6e05bdb8cf2">
<p>
æ–°ç‰ˆES 2016ä¸­å¢åŠ äº†è£…é¥°å™¨çš„æ”¯æŒï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨è£…é¥°å™¨æ¥æ”¹é€ ä¸Šé¢çš„ä»£ç 
</p>

<div class="org-src-container">
<pre class="src src-js">@Wrapper <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#26159;&#19981;&#23545;&#30340;&#65292;&#35013;&#39280;&#22120;&#35013;&#39280;&#20989;&#25968;&#25110;&#31867;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Root</span> = props =&gt; &lt;div&gt;Root&lt;/div&gt;;
</pre>
</div>

<p>
ES 2016çš„è£…é¥°å™¨åªèƒ½è£…é¥°ç±»ï¼Œæ‰€ä»¥ï¼Œå°†Rootæ”¹å†™æˆç±»
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = Component =&gt; props =&gt;
    (&lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>{props.schoolName}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Component</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);

@Wrapper
<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
    render() {
        <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">Root</span>&lt;/<span style="color: #0000ff;">div</span>&gt;;
    }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
å¦‚ä½•è®©Rootä¹Ÿæ˜¾ç¤ºå‡ºschoolNameï¼Ÿ
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> = Component =&gt; props =&gt;
    (&lt;<span style="color: #0000ff;">div</span>&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>{props.schoolName}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>{<span style="color: #b22222;">/* </span><span style="color: #b22222;">&lt;Component schoolName={props.schoolName} /&gt;</span><span style="color: #b22222;"> */</span>}
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;<span style="color: #0000ff;">Component</span> {...props} /&gt;
<span style="color: #000000; background-color: #ffffff;">    </span>&lt;/<span style="color: #0000ff;">div</span>&gt;<span style="color: #000000; background-color: #ffffff;">);</span>

<span style="color: #000000; background-color: #ffffff;">@Wrapper</span>
<span style="color: #000000; background-color: #ffffff;">class Root extends React.Component </span>{
    render() {
        <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;{<span style="color: #008b8b;">this</span>.props.schoolName}&lt;/<span style="color: #0000ff;">div</span>&gt;;
    }
}

<span style="color: #000000; background-color: #ffffff;">ReactDom.render(</span>&lt;<span style="color: #0000ff;">Root</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
ä½¿ç”¨ &lt;Component {&#x2026;props} /&gt; ç›¸å½“äºç»™ç»„ä»¶å¢åŠ äº†å±æ€§ã€‚
</p>
</div>
</div>
<div id="outline-container-h:8eda4a1c-bcc1-4ce2-be44-e7c241682f75" class="outline-4">
<h4 id="h:8eda4a1c-bcc1-4ce2-be44-e7c241682f75">å¸¦å‚è£…é¥°å™¨</h4>
<div class="outline-text-4" id="text-h:8eda4a1c-bcc1-4ce2-be44-e7c241682f75">
<p>
æƒ³ç»™è£…é¥°å™¨å‡½æ•°å¢åŠ ä¸€ä¸ªidå‚æ•°
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#24102;&#21442;&#35013;&#39280;&#22120;&#20989;&#25968;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> =
    id =&gt; Component =&gt; props =&gt;
        (&lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>={id}&gt;
<span style="color: #000000; background-color: #ffffff;">            </span>{props.schoolName}
<span style="color: #000000; background-color: #ffffff;">            </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">            </span>&lt;<span style="color: #0000ff;">Component</span> {...props} /&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);

@Wrapper(<span style="color: #8b2252;">'wrapper'</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24102;&#21442;</span>
<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
    render() {
        <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span>&gt;{<span style="color: #008b8b;">this</span>.props.schoolName}&lt;/<span style="color: #0000ff;">div</span>&gt;;
    }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #a020f0;">import</span> React from <span style="color: #8b2252;">'react'</span>;
<span style="color: #a020f0;">import</span> ReactDom from <span style="color: #8b2252;">'react-dom'</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#24102;&#21442;&#35013;&#39280;&#22120;&#20989;&#25968;</span>
<span style="color: #a020f0;">let</span> <span style="color: #a0522d;">Wrapper</span> =
    (id, id2) =&gt; Component =&gt; props =&gt;
        (&lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>={id}&gt;
<span style="color: #000000; background-color: #ffffff;">            </span>{props.schoolName}
<span style="color: #000000; background-color: #ffffff;">            </span>&lt;<span style="color: #0000ff;">hr</span> /&gt;
<span style="color: #000000; background-color: #ffffff;">            </span>&lt;<span style="color: #0000ff;">Component</span> {...props} <span style="color: #a0522d;">id</span>={id2}/&gt;
<span style="color: #000000; background-color: #ffffff;">        </span>&lt;/<span style="color: #0000ff;">div</span>&gt;);

@Wrapper(<span style="color: #8b2252;">'wrapper'</span>, <span style="color: #8b2252;">'wrapp_app'</span>) <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24102;&#21442;</span>
<span style="color: #a020f0;">class</span> Root <span style="color: #a020f0;">extends</span> React.Component {
    render() {
        <span style="color: #a020f0;">return</span> &lt;<span style="color: #0000ff;">div</span> <span style="color: #a0522d;">id</span>={<span style="color: #008b8b;">this</span>.props.id}&gt;{<span style="color: #008b8b;">this</span>.props.schoolName}&lt;/<span style="color: #0000ff;">div</span>&gt;;
    }
}

ReactDom.render(&lt;<span style="color: #0000ff;">Root</span> <span style="color: #a0522d;">schoolName</span>=<span style="color: #8b2252;">"Hello World"</span> /&gt;, document.getElementById(<span style="color: #8b2252;">'root'</span>));
</pre>
</div>

<p>
é€šè¿‡ä¸Šé¢çš„æ”¹å†™ï¼Œå°±å¾—åˆ°å¸¦å‚è£…é¥°å™¨ã€‚
</p>

<p>
å¦‚æœè§‰å¾—ä¸å¥½æ¥å—ï¼Œå¯ä»¥å…ˆå†™æˆåŸå§‹çš„å½¢å¼ï¼Œç†Ÿæ‚‰äº†ç®­å¤´å‡½æ•°è¯­æ³•åï¼Œå†æ”¹æˆç²¾ç®€çš„å½¢å¼ã€‚
</p>
</div>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>æ‰“èµ</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Â© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
