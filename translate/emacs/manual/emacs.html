<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs 编辑器</title>
<meta name="generator" content="Org Mode" />
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="me" href="https://emacs.ch/@jasperhsu">
<meta name="google-adsense-account" content="ca-pub-1741779893655624">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1741779893655624" crossorigin="anonymous"></script>
<!-- from -->
<!--
<style>#back-to-top{background:#000;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:20px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:#fff;cursor:pointer;display:block;height:56px;opacity:1;outline:0;position:fixed;right:20px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:56px;z-index:1}#back-to-top svg{display:block;fill:currentColor;height:24px;margin:16px auto 0;width:24px}#back-to-top.hidden{bottom:-56px;opacity:0}</style>
-->
<link rel="stylesheet" href="/static/aandds.com/css/main.css">
<link rel="stylesheet" href="/static/aandds.com/css/drollery.min.css">
<script type="text/javascript" src="/static/aandds.com/js/main.js"></script>
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Emacs 编辑器</h1>
</header><ul class="org-ul">
<li>TAGS: <a href="../../index.html">Emacs</a></li>
</ul>

<p>
[ 最后修订与导出时间： <b>2026-01-28 20:01:42 +0800</b>  ，总字数： <b>29148</b> ]
</p>

<p>
<a href="https://www.gnu.org/software/emacs/manual/">GNU Emacs 在线手册</a>
</p>


<p>
Emacs 是一款功能先进、可扩展、可定制且自带文档的编辑器。本手册详细介绍 Emacs 的编辑使用方法及部分定制技巧，对应 GNU Emacs 30.2 版本。
</p>

<p>
GNU Emacs 官方网站：<a href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a>
</p>

<p>
如需查看其他格式的手册，请点击<a href="https://www.gnu.org/software/emacs/manual/emacs.html">此处</a>。
</p>

<p>
您也可通过自由软件基金会<a href="https://shop.fsf.org/product/emacs-manual/">FSF商店</a>购买纸质版本。
</p>

<p>
有关 Emacs 扩展开发的详细信息，请参阅《Emacs Lisp 参考手册》中的 “<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/index.html#Top">Emacs Lisp</a>” 章节。
</p>

<p>
本文档为《GNU Emacs 手册》，已更新至 Emacs 30.2 版本。
</p>

<p>
版权所有 © 1985–2025 自由软件基金会（Free Software Foundation, Inc.）
</p>

<blockquote>
<p>
您可以根据 GNU 自由文档许可证（GNU Free Documentation License）1.3 版或自由软件基金会发布的任何后续版本的条款，复制、分发和 / 或修改本文档；其中 “不可修改章节”（Invariant Sections）为《GNU 宣言》（The GNU Manifesto）、《发行条款》（Distribution）和《GNU 通用公共许可证》（GNU GENERAL PUBLIC LICENSE），“封面文字”（Front-Cover Texts）为 “一份 GNU 手册”（A GNU Manual），“封底文字”（Back-Cover Texts）如下（a）项所示。完整的许可证文本包含在标题为 “GNU 自由文档许可证”（GNU Free Documentation License）的章节中。
</p>

<p>
（a）自由软件基金会（FSF）的封底文字为：“您拥有复制和修改本 GNU 手册的自由。通过 FSF 购买副本将支持我们开发 GNU 软件并推广软件自由。”
</p>
</blockquote>

<nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#Distrib">发行说明</a></li>
<li><a href="#Intro">引言</a></li>
<li><a href="#Screen">1. 屏幕布局</a>
<ul>
<li><a href="#Point">1.1. 光标位置（Point）</a></li>
<li><a href="#Echo-Area">1.2. 回显区（Echo Area）</a></li>
<li><a href="#Mode-Line">1.3. 模式行（Mode Line）</a></li>
<li><a href="#Menu-Bar">1.4. 菜单栏（Menu Bar）</a></li>
</ul>
</li>
<li><a href="#User-Input">2. 用户输入类型</a></li>
<li><a href="#Keys">3. 按键（Keys）</a></li>
<li><a href="#Mouse-Input">4. 鼠标输入</a></li>
<li><a href="#Commands">5. 按键与命令</a></li>
<li><a href="#Other-Input">6. 触摸屏输入与虚拟键盘</a>
<ul>
<li><a href="#Touchscreens">6.1. 触摸屏上使用 Emacs</a></li>
<li><a href="#On_002dScreen-Keyboards">6.2. 搭配虚拟键盘使用 Emacs</a></li>
</ul>
</li>
<li><a href="#Entering-Emacs">7. 启动 Emacs</a></li>
<li><a href="#Exiting">8. 退出 Emacs</a></li>
<li><a href="#Basic">9. 基本编辑命令</a>
<ul>
<li><a href="#Inserting-Text">9.1. 插入文本</a></li>
<li><a href="#Moving-Point">9.2. 更改光标位置</a></li>
<li><a href="#Erasing">9.3. 删除文本</a></li>
<li><a href="#Basic-Undo">9.4. 撤销更改</a></li>
<li><a href="#Basic-Files">9.5. 文件操作</a></li>
<li><a href="#Basic-Help">9.6. 帮助功能</a></li>
<li><a href="#Blank-Lines">9.7. 空行处理</a></li>
<li><a href="#Continuation-Lines">9.8. 续行（Continuation Lines）</a></li>
<li><a href="#Position-Info">9.9. 光标位置信息</a></li>
<li><a href="#Arguments">9.10. 数字参数（Numeric Arguments）</a></li>
<li><a href="#Repeating">9.11. 重复执行命令</a></li>
</ul>
</li>
<li><a href="#Minibuffer">10. 迷你缓冲区（Minibuffer）</a>
<ul>
<li><a href="#Basic-Minibuffer">10.1. 使用迷你缓冲区</a></li>
<li><a href="#Minibuffer-File">10.2. 文件名专用迷你缓冲区</a></li>
<li><a href="#Minibuffer-Edit">10.3. 迷你缓冲区中的编辑操作</a></li>
<li><a href="#Completion">10.4. 自动补全（Completion）</a>
<ul>
<li><a href="#Completion-Example">10.4.1. 补全示例</a></li>
<li><a href="#Completion-Commands">10.4.2. 补全命令</a></li>
<li><a href="#Completion-Exit">10.4.3. 补全退出</a></li>
<li><a href="#Completion-Styles">10.4.4. 补全候选的选择规则</a></li>
<li><a href="#Completion-Options">10.4.5. 补全选项</a></li>
</ul>
</li>
<li><a href="#Minibuffer-History">10.5. 迷你缓冲区历史记录</a></li>
<li><a href="#Repetition">10.6. 重复执行迷你缓冲区命令</a></li>
<li><a href="#Passwords">10.7. 输入密码</a></li>
<li><a href="#Yes-or-No-Prompts">10.8. 确认提示（Yes or No Prompts）</a></li>
</ul>
</li>
<li><a href="#M_002dx">11. 通过名称执行命令</a></li>
<li><a href="#Help">12. 帮助功能</a>
<ul>
<li><a href="#Help-Summary">12.1. 帮助摘要</a></li>
<li><a href="#Key-Help">12.2. 按键相关文档</a></li>
<li><a href="#Name-Help">12.3. 按命令或变量名查询帮助</a></li>
<li><a href="#Apropos">12.4. 关键词检索帮助（Apropos）</a></li>
<li><a href="#Help-Mode">12.5. 帮助模式命令</a></li>
<li><a href="#Package-Keywords">12.6. 软件包关键词搜索</a></li>
<li><a href="#Language-Help">12.7. 国际语言支持相关帮助</a></li>
<li><a href="#Misc-Help">12.8. 其他帮助命令</a></li>
<li><a href="#Help-Files">12.9. 帮助文件</a></li>
<li><a href="#Help-Echo">12.10. 活动文本与工具提示帮助</a></li>
</ul>
</li>
<li><a href="#Mark">13. 标记与区域（Mark and Region）</a>
<ul>
<li><a href="#Setting-Mark">13.1. 设置标记</a></li>
<li><a href="#Marking-Objects">13.2. 标记文本对象的命令</a></li>
<li><a href="#Using-Region">13.3. 对区域执行操作</a></li>
<li><a href="#Mark-Ring">13.4. 标记环（Mark Ring）</a></li>
<li><a href="#Global-Mark-Ring">13.5. 全局标记环（Global Mark Ring）</a></li>
<li><a href="#Shift-Selection">13.6. 移位选择（Shift Selection）</a></li>
<li><a href="#Disabled-Transient-Mark">13.7. 禁用瞬时标记模式（Disabling Transient Mark Mode）</a></li>
</ul>
</li>
<li><a href="#Killing">14. 剪切与移动文本（Killing and Moving Text）</a>
<ul>
<li><a href="#Deletion-and-Killing">14.1. 删除与剪切</a>
<ul>
<li><a href="#Deletion">14.1.1. 删除操作</a></li>
<li><a href="#Killing-by-Lines">14.1.2. 按行剪切</a></li>
<li><a href="#Other-Kill-Commands">14.1.3. 其他剪切命令</a></li>
<li><a href="#Kill-Options">14.1.4. 剪切相关选项</a></li>
</ul>
</li>
<li><a href="#Yanking">14.2. 粘贴（Yanking）</a>
<ul>
<li><a href="#Kill-Ring">14.2.1. 剪切环（Kill Ring）</a></li>
<li><a href="#Earlier-Kills">14.2.2. 粘贴之前的剪切内容</a></li>
<li><a href="#Appending-Kills">14.2.3. 追加剪切内容（Appending Kills）</a></li>
</ul>
</li>
<li><a href="#Cut-and-Paste">14.3. 图形界面中的 “复制 - 粘贴” 操作</a>
<ul>
<li><a href="#Clipboard">14.3.1. 使用剪贴板</a></li>
<li><a href="#Primary-Selection">14.3.2. 与其他窗口应用程序的复制 - 粘贴</a></li>
<li><a href="#Secondary-Selection">14.3.3. 次要选择（Secondary Selection）</a></li>
</ul>
</li>
<li><a href="#Accumulating-Text">14.4. 文本累积（Accumulating Text）</a></li>
<li><a href="#Rectangles">14.5. 矩形操作（Rectangles）</a></li>
<li><a href="#CUA-Bindings">14.6. CUA 键绑定（CUA Bindings）</a></li>
</ul>
</li>
<li><a href="#Registers">15. 寄存器（Registers）</a>
<ul>
<li><a href="#Position-Registers">15.1. 在寄存器中保存位置</a></li>
<li><a href="#Text-Registers">15.2. 在寄存器中保存文本</a></li>
<li><a href="#Rectangle-Registers">15.3. 在寄存器中保存矩形</a></li>
<li><a href="#Configuration-Registers">15.4. 在寄存器中保存窗口与框架配置</a></li>
<li><a href="#Number-Registers">15.5. 在寄存器中存储数字</a></li>
<li><a href="#File-and-Buffer-Registers">15.6. 在寄存器中存储文件与缓冲区名称</a></li>
<li><a href="#Keyboard-Macro-Registers">15.7. 键盘宏寄存器（Keyboard Macro Registers）</a></li>
<li><a href="#Bookmarks">15.8. 书签（Bookmarks）</a></li>
</ul>
</li>
<li><a href="#Display">16. 显示控制</a>
<ul>
<li><a href="#Scrolling">16.1. 滚动操作</a></li>
<li><a href="#Recentering">16.2. 居中显示（Recentering）</a></li>
<li><a href="#Auto-Scrolling">16.3. 自动滚动</a></li>
<li><a href="#Horizontal-Scrolling">16.4. 水平滚动</a></li>
<li><a href="#Narrowing">16.5. 窄化显示（Narrowing）</a></li>
<li><a href="#View-Mode">16.6. 查看模式（View Mode）</a></li>
<li><a href="#Follow-Mode">16.7. 跟随模式（Follow Mode）</a></li>
<li><a href="#Faces">16.8. 文本样式（Text Faces）</a></li>
<li><a href="#Colors">16.9. 外观颜色设置</a>
<ul>
<li><a href="#Color-Names">16.9.1. 颜色名称</a></li>
<li><a href="#RGB-Triplets">16.9.2. RGB 三元组（RGB Triplets）</a></li>
</ul>
</li>
<li><a href="#Standard-Faces">16.10. 标准外观（Standard Faces）</a></li>
<li><a href="#Icons">16.11. 图标（Icons）</a></li>
<li><a href="#Text-Scale">16.12. 文本缩放（Text Scale）</a></li>
<li><a href="#Font-Lock">16.13. 字体锁定模式（Font Lock mode）</a>
<ul>
<li><a href="#Traditional-Font-Lock">16.13.1. 传统字体锁定</a></li>
<li><a href="#Parser_002dbased-Font-Lock">16.13.2. 基于解析器的字体锁定</a></li>
</ul>
</li>
<li><a href="#Highlight-Interactively">16.14. 交互式高亮（Interactive Highlighting）</a></li>
<li><a href="#Fringes">16.15. 窗口边缘（Window Fringes）</a></li>
<li><a href="#Displaying-Boundaries">16.16. 边界显示（Displaying Boundaries）</a></li>
<li><a href="#Useless-Whitespace">16.17. 无用空白字符（Useless Whitespace）</a></li>
<li><a href="#Selective-Display">16.18. 选择性显示（Selective Display）</a></li>
<li><a href="#Optional-Mode-Line">16.19. 模式行可选功能</a></li>
<li><a href="#Text-Display">16.20. 文本显示方式</a></li>
<li><a href="#Cursor-Display">16.21. 光标显示（Displaying the Cursor）</a></li>
<li><a href="#Line-Truncation">16.22. 行截断（Line Truncation）</a></li>
<li><a href="#Visual-Line-Mode">16.23. 视觉行模式（Visual Line Mode）</a></li>
<li><a href="#Display-Custom">16.24. 显示定制（Customization of Display）</a></li>
</ul>
</li>
<li><a href="#Search">17. 搜索与替换</a>
<ul>
<li><a href="#Incremental-Search">17.1. 增量搜索（Incremental Search）</a>
<ul>
<li><a href="#Basic-Isearch">17.1.1. 增量搜索基础</a></li>
<li><a href="#Repeat-Isearch">17.1.2. 重复增量搜索</a></li>
<li><a href="#Isearch-Yank">17.1.3. 增量搜索中的粘贴（Isearch Yanking）</a></li>
<li><a href="#Error-in-Isearch">17.1.4. 增量搜索错误处理</a></li>
<li><a href="#Special-Isearch">17.1.5. 增量搜索的特殊输入</a></li>
<li><a href="#Not-Exiting-Isearch">17.1.6. 不退出增量搜索</a></li>
<li><a href="#Isearch-Minibuffer">17.1.7. 迷你缓冲区搜索</a></li>
</ul>
</li>
<li><a href="#Nonincremental-Search">17.2. 非增量搜索（Nonincremental Search）</a></li>
<li><a href="#Word-Search">17.3. 单词搜索（Word Search）</a></li>
<li><a href="#Symbol-Search">17.4. 符号搜索（Symbol Search）</a></li>
<li><a href="#Regexp-Search">17.5. 正则表达式搜索（Regular Expression Search）</a></li>
<li><a href="#Regexps">17.6. 正则表达式语法</a></li>
<li><a href="#Regexp-Backslash">17.7. 正则表达式中的反斜杠</a></li>
<li><a href="#Regexp-Example">17.8. 正则表达式示例</a></li>
<li><a href="#Lax-Search">17.9. 搜索中的宽松匹配（Lax Matching During Searching）</a></li>
<li><a href="#Replace">17.10. 替换命令</a>
<ul>
<li><a href="#Unconditional-Replace">17.10.1. 无条件替换</a></li>
<li><a href="#Regexp-Replace">17.10.2. 正则表达式替换</a></li>
<li><a href="#Replacement-and-Lax-Matches">17.10.3. 替换命令与宽松匹配</a></li>
<li><a href="#Query-Replace">17.10.4. 查询替换（Query Replace）</a></li>
</ul>
</li>
<li><a href="#Other-Repeating-Search">17.11. 其他搜索与循环命令</a></li>
<li><a href="#Search-Customizations">17.12. 根据需求定制搜索</a></li>
</ul>
</li>
<li><a href="#Fixit">18. 拼写错误修正命令</a>
<ul>
<li><a href="#Undo">18.1. 撤销（Undo）</a></li>
<li><a href="#Transpose">18.2. 文本交换（Transposing Text）</a></li>
<li><a href="#Fixing-Case">18.3. 大小写转换（Case Conversion）</a></li>
<li><a href="#Spelling">18.4. 拼写检查与修正</a></li>
</ul>
</li>
<li><a href="#Keyboard-Macros">19. 键盘宏（Keyboard Macros）</a>
<ul>
<li><a href="#Basic-Keyboard-Macro">19.1. 基本使用</a></li>
<li><a href="#Keyboard-Macro-Ring">19.2. 键盘宏环（Keyboard Macro Ring）</a></li>
<li><a href="#Keyboard-Macro-Counter">19.3. 键盘宏计数器</a></li>
<li><a href="#Keyboard-Macro-Query">19.4. 带变量的宏执行（Executing Macros with Variations）</a></li>
<li><a href="#Save-Keyboard-Macro">19.5. 键盘宏的命名与保存</a></li>
<li><a href="#Edit-Keyboard-Macro">19.6. 编辑键盘宏</a></li>
<li><a href="#Keyboard-Macro-Step_002dEdit">19.7. 逐步编辑键盘宏（Stepwise Editing a Keyboard Macro）</a></li>
<li><a href="#Kmacro-Menu">19.8. 列出与编辑键盘宏</a></li>
</ul>
</li>
<li><a href="#Files">20. 文件处理</a>
<ul>
<li><a href="#File-Names">20.1. 文件名</a></li>
<li><a href="#Visiting">20.2. 打开文件（Visiting Files）</a></li>
<li><a href="#Saving">20.3. 保存文件</a>
<ul>
<li><a href="#Save-Commands">20.3.1. 保存文件命令</a></li>
<li><a href="#Backup">20.3.2. 备份文件（Backup Files）</a>
<ul>
<li><a href="#Backup-Names">20.3.2.1. 单一备份或编号备份</a></li>
<li><a href="#Backup-Deletion">20.3.2.2. 备份文件的自动删除</a></li>
<li><a href="#Backup-Copying">20.3.2.3. 复制备份与重命名备份</a></li>
</ul>
</li>
<li><a href="#Customize-Save">20.3.3. 文件保存定制</a></li>
<li><a href="#Interlocking">20.3.4. 防止同时编辑冲突</a></li>
<li><a href="#File-Shadowing">20.3.5. 文件影子（Shadowing Files）</a></li>
<li><a href="#Time-Stamps">20.3.6. 自动更新时间戳</a>
<ul>
<li><a href="#Time-Stamp-Customization">20.3.6.1. 时间戳定制</a></li>
<li><a href="#Time-Stamps-for-One-File">20.3.6.2. 强制单个文件的时间戳更新</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Reverting">20.4. 恢复缓冲区（Reverting a Buffer）</a></li>
<li><a href="#Auto-Revert">20.5. 自动恢复：保持缓冲区自动更新（Auto Revert）</a>
<ul>
<li><a href="#Non_002dFile-Buffers">20.5.1. 非文件缓冲区的自动恢复</a>
<ul>
<li><a href="#Auto-Reverting-the-Buffer-Menu">20.5.1.1. 缓冲区菜单的自动恢复</a></li>
<li><a href="#Auto-Reverting-Dired">20.5.1.2. 目录编辑器缓冲区的自动恢复（Dired buffers）</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Auto-Save">20.6. 自动保存：防止数据丢失（Auto-Saving）</a>
<ul>
<li><a href="#Auto-Save-Files">20.6.1. 自动保存文件</a></li>
<li><a href="#Auto-Save-Control">20.6.2. 自动保存控制</a></li>
<li><a href="#Recover">20.6.3. 从自动保存文件恢复数据</a></li>
</ul>
</li>
<li><a href="#File-Aliases">20.7. 文件名别名（File Name Aliases）</a></li>
<li><a href="#Directories">20.8. 文件目录（File Directories）</a></li>
<li><a href="#Comparing-Files">20.9. 文件比较</a></li>
<li><a href="#Diff-Mode">20.10. 差异模式</a></li>
<li><a href="#Copying-and-Naming">20.11. 文件的复制、命名与重命名</a></li>
<li><a href="#Misc-File-Ops">20.12. 各类文件操作</a></li>
<li><a href="#Compressed-Files">20.13. 访问压缩文件</a></li>
<li><a href="#File-Archives">20.14. 文件归档包</a></li>
<li><a href="#Remote-Files">20.15. 远程文件</a></li>
<li><a href="#Quoted-File-Names">20.16. 带引用的文件名</a></li>
<li><a href="#File-Name-Cache">20.17. 文件名缓存</a></li>
<li><a href="#File-Conveniences">20.18. 查找文件的便捷功能</a></li>
<li><a href="#Image-Mode">20.19. 查看图像文件</a></li>
<li><a href="#Filesets">20.20. 文件集（Filesets）</a></li>
</ul>
</li>
<li><a href="#Buffers">21. 多缓冲区的使用</a>
<ul>
<li><a href="#Select-Buffer">21.1. 创建与选择缓冲区</a></li>
<li><a href="#List-Buffers">21.2. 列出已有缓冲区</a></li>
<li><a href="#Misc-Buffer">21.3. 缓冲区的各类杂项操作</a></li>
<li><a href="#Kill-Buffer">21.4. 关闭缓冲区</a></li>
<li><a href="#Several-Buffers">21.5. 对多个缓冲区执行批量操作</a></li>
<li><a href="#Indirect-Buffers">21.6. 间接缓冲区</a></li>
<li><a href="#Buffer-Convenience">21.7. 缓冲区操作的便捷功能与相关定制</a>
<ul>
<li><a href="#Uniquify">21.7.1. 让缓冲区名称唯一化</a></li>
<li><a href="#Icomplete">21.7.2. 迷你缓冲区快速选择（方式）</a></li>
<li><a href="#Buffer-Menus">21.7.3. 定制缓冲区菜单</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Windows">22. 多窗口</a>
<ul>
<li><a href="#Basic-Window">22.1. Emacs 窗口的概念</a></li>
<li><a href="#Split-Window">22.2. 拆分窗口</a></li>
<li><a href="#Other-Window">22.3. 使用其他窗口</a></li>
<li><a href="#Pop-Up-Window">22.4. 在另一窗口中显示内容</a></li>
<li><a href="#Change-Window">22.5. 删除与调整窗口大小</a></li>
<li><a href="#Displaying-Buffers">22.6. 在窗口中显示缓冲区</a>
<ul>
<li><a href="#Window-Choice">22.6.1. display-buffer 函数的工作原理</a></li>
<li><a href="#Temporary-Displays">22.6.2. 显示不可编辑缓冲区</a></li>
</ul>
</li>
<li><a href="#Window-Convenience">22.7. 窗口操作的便捷功能</a></li>
<li><a href="#Tab-Line">22.8. 窗口标签栏</a></li>
<li><a href="#Window-Tool-Bar">22.9. 窗口工具栏</a></li>
</ul>
</li>
<li><a href="#Frames">23. 框架与图形界面</a>
<ul>
<li><a href="#Mouse-Commands">23.1. 编辑相关的鼠标命令</a></li>
<li><a href="#Word-and-Line-Mouse">23.2. 针对单词与行的鼠标命令</a></li>
<li><a href="#Mouse-References">23.3. 用鼠标跟随引用链接</a></li>
<li><a href="#Menu-Mouse-Clicks">23.4. 菜单相关的鼠标点击操作</a></li>
<li><a href="#Mode-Line-Mouse">23.5. 模式行鼠标命令</a></li>
<li><a href="#Creating-Frames">23.6. 创建框架</a></li>
<li><a href="#Frame-Commands">23.7. 框架命令</a></li>
<li><a href="#Fonts">23.8. 字体设置</a></li>
<li><a href="#Speedbar">23.9. 速度条框架</a></li>
<li><a href="#Multiple-Displays">23.10. 多显示器支持</a></li>
<li><a href="#Frame-Parameters">23.11. 框架参数</a></li>
<li><a href="#Scroll-Bars">23.12. 滚动条</a></li>
<li><a href="#Window-Dividers">23.13. 窗口分隔线</a></li>
<li><a href="#Drag-and-Drop">23.14. 拖放功能</a></li>
<li><a href="#Menu-Bars">23.15. 菜单栏</a></li>
<li><a href="#Tool-Bars">23.16. 工具栏</a></li>
<li><a href="#Tab-Bars">23.17. 标签栏</a></li>
<li><a href="#Dialog-Boxes">23.18. 使用对话框</a></li>
<li><a href="#Tooltips">23.19. 工具提示</a></li>
<li><a href="#Mouse-Avoidance">23.20. 鼠标避让功能</a></li>
<li><a href="#Text-Terminals">23.21. 文本终端</a></li>
<li><a href="#Text_002dOnly-Mouse">23.22. 文本终端中的鼠标使用</a></li>
</ul>
</li>
<li><a href="#International">24. 国际字符集支持</a>
<ul>
<li><a href="#International-Chars">24.1. 国际字符集简介</a></li>
<li><a href="#Language-Environments">24.2. 语言环境</a></li>
<li><a href="#Input-Methods">24.3. 输入方法</a></li>
<li><a href="#Select-Input-Method">24.4. 选择输入方法</a></li>
<li><a href="#Coding-Systems">24.5. 编码系统</a></li>
<li><a href="#Recognize-Coding">24.6. 编码系统识别</a></li>
<li><a href="#Specify-Coding">24.7. 指定文件的编码系统</a></li>
<li><a href="#Output-Coding">24.8. 为输出选择编码系统</a></li>
<li><a href="#Text-Coding">24.9. 为文件文本指定编码系统</a></li>
<li><a href="#Communication-Coding">24.10. 进程间通信的编码系统</a></li>
<li><a href="#File-Name-Coding">24.11. 文件名的编码系统</a></li>
<li><a href="#X-Coding">24.12. X 键盘输入的编码系统</a></li>
<li><a href="#Terminal-Coding">24.13. 终端 I/O 的编码系统</a></li>
<li><a href="#Fontsets">24.14. 字体集</a></li>
<li><a href="#Defining-Fontsets">24.15. 定义字体集</a></li>
<li><a href="#Modifying-Fontsets">24.16. 修改字体集</a></li>
<li><a href="#Undisplayable-Characters">24.17. 无法显示的字符</a></li>
<li><a href="#Unibyte-Mode">24.18. 单字节编辑模式</a></li>
<li><a href="#Charsets">24.19. 字符集</a></li>
<li><a href="#Bidirectional-Editing">24.20. 双向编辑</a></li>
</ul>
</li>
<li><a href="#Modes">25. 主模式与次模式</a>
<ul>
<li><a href="#Major-Modes">25.1. 主模式</a></li>
<li><a href="#Minor-Modes">25.2. 次模式</a></li>
<li><a href="#Choosing-Modes">25.3. 选择文件模式</a></li>
</ul>
</li>
<li><a href="#Indentation">26. 缩进</a>
<ul>
<li><a href="#Indentation-Commands">26.1. 缩进命令</a></li>
<li><a href="#Tab-Stops">26.2. 制表位</a></li>
<li><a href="#Just-Spaces">26.3. 制表符与空格的选择</a></li>
<li><a href="#Indent-Convenience">26.4. 缩进的便捷功能</a></li>
<li><a href="#Code-Alignment">26.5. 代码对齐</a></li>
</ul>
</li>
<li><a href="#Text">27. 自然语言相关命令</a>
<ul>
<li><a href="#Words">27.1. 单词操作</a></li>
<li><a href="#Sentences">27.2. 句子操作</a></li>
<li><a href="#Paragraphs">27.3. 段落操作</a></li>
<li><a href="#Pages">27.4. 页面操作</a></li>
<li><a href="#Quotation-Marks">27.5. 引号处理</a></li>
<li><a href="#Filling">27.6. 文本填充</a>
<ul>
<li><a href="#Auto-Fill">27.6.1. 自动填充模式</a></li>
<li><a href="#Fill-Commands">27.6.2. 显式填充命令</a></li>
<li><a href="#Fill-Prefix">27.6.3. 填充前缀</a></li>
<li><a href="#Adaptive-Fill">27.6.4. 自适应填充</a></li>
</ul>
</li>
<li><a href="#Case">27.7. 大小写转换命令</a></li>
<li><a href="#Text-Mode">27.8. 文本模式</a></li>
<li><a href="#Outline-Mode">27.9. 大纲模式</a>
<ul>
<li><a href="#Outline-Minor-Mode">27.9.1. 大纲次模式</a></li>
<li><a href="#Outline-Format">27.9.2. 大纲格式</a></li>
<li><a href="#Outline-Motion">27.9.3. 大纲移动命令</a></li>
<li><a href="#Outline-Visibility">27.9.4. 大纲可见性命令</a></li>
<li><a href="#Outline-Views">27.9.5. 多视图查看单个大纲</a></li>
<li><a href="#Foldout">27.9.6. 折叠编辑</a></li>
</ul>
</li>
<li><a href="#Org-Mode">27.10. 组织模式（Org Mode）</a>
<ul>
<li><a href="#Org-Organizer">27.10.1. 作为事务管理器的 Org 模式</a></li>
<li><a href="#Org-Authoring">27.10.2. 作为创作系统的 Org 模式</a></li>
</ul>
</li>
<li><a href="#TeX-Mode">27.11. TeX 模式</a>
<ul>
<li><a href="#TeX-Editing">27.11.1. TeX 编辑命令</a></li>
<li><a href="#LaTeX-Editing">27.11.2. LaTeX 编辑命令</a></li>
<li><a href="#TeX-Print">27.11.3. TeX 打印命令</a></li>
<li><a href="#TeX-Misc">27.11.4. TeX 模式杂项功能</a></li>
</ul>
</li>
<li><a href="#HTML-Mode">27.12. SGML 与 HTML 模式</a></li>
<li><a href="#Nroff-Mode">27.13. Nroff 模式</a></li>
<li><a href="#Enriched-Text">27.14. 富文本</a>
<ul>
<li><a href="#Enriched-Mode">27.14.1. 富文本模式</a></li>
<li><a href="#Hard-and-Soft-Newlines">27.14.2. 硬换行与软换行</a></li>
<li><a href="#Editing-Format-Info">27.14.3. 格式信息编辑</a></li>
<li><a href="#Enriched-Faces">27.14.4. 富文本中的外观样式</a></li>
<li><a href="#Enriched-Indentation">27.14.5. 富文本中的缩进</a></li>
<li><a href="#Enriched-Justification">27.14.6. 富文本中的对齐方式</a></li>
<li><a href="#Enriched-Properties">27.14.7. 设置其他文本属性</a></li>
</ul>
</li>
<li><a href="#Text-Based-Tables">27.15. 文本表格编辑</a>
<ul>
<li><a href="#Table-Definition">27.15.1. 什么是文本表格？</a></li>
<li><a href="#Table-Creation">27.15.2. 创建表格</a></li>
<li><a href="#Table-Recognition">27.15.3. 表格识别</a></li>
<li><a href="#Cell-Commands">27.15.4. 表格单元格操作命令</a></li>
<li><a href="#Cell-Justification">27.15.5. 单元格对齐方式</a></li>
<li><a href="#Table-Rows-and-Columns">27.15.6. 表格行与列操作</a></li>
<li><a href="#Table-Conversion">27.15.7. 纯文本与表格的相互转换</a></li>
<li><a href="#Table-Misc">27.15.8. 表格杂项功能</a></li>
</ul>
</li>
<li><a href="#Two_002dColumn">27.16. 双列编辑</a></li>
</ul>
</li>
<li><a href="#Programs">28. 程序编辑</a>
<ul>
<li><a href="#Program-Modes">28.1. 编程语言相关主模式</a></li>
<li><a href="#Defuns">28.2. 顶层定义（或函数定义）</a>
<ul>
<li><a href="#Left-Margin-Paren">28.2.1. 左边距约定</a></li>
<li><a href="#Moving-by-Defuns">28.2.2. 按函数定义移动</a></li>
<li><a href="#Moving-by-Sentences">28.2.3. 按句子移动</a></li>
<li><a href="#Imenu">28.2.4. 索引菜单（Imenu）</a></li>
<li><a href="#Which-Function">28.2.5. 函数名称显示模式</a></li>
</ul>
</li>
<li><a href="#Program-Indent">28.3. 程序缩进</a>
<ul>
<li><a href="#Basic-Indent">28.3.1. 基本程序缩进命令</a></li>
<li><a href="#Multi_002dline-Indent">28.3.2. 多行缩进</a></li>
<li><a href="#Lisp-Indent">28.3.3. 定制 Lisp 缩进</a></li>
<li><a href="#C-Indent">28.3.4. C 语言缩进命令</a></li>
<li><a href="#Custom-C-Indent">28.3.5. 定制 C 语言缩进</a></li>
</ul>
</li>
<li><a href="#Parentheses">28.4. 括号编辑相关命令</a>
<ul>
<li><a href="#Expressions">28.4.1. 平衡括号表达式</a></li>
<li><a href="#Moving-by-Parens">28.4.2. 在括号结构中移动</a></li>
<li><a href="#Matching">28.4.3. 括号匹配</a></li>
</ul>
</li>
<li><a href="#Comments">28.5. 注释处理</a>
<ul>
<li><a href="#Comment-Commands">28.5.1. 注释命令</a></li>
<li><a href="#Multi_002dLine-Comments">28.5.2. 多行注释</a></li>
<li><a href="#Options-for-Comments">28.5.3. 控制注释的相关选项</a></li>
</ul>
</li>
<li><a href="#Documentation">28.6. 文档查阅</a>
<ul>
<li><a href="#Info-Lookup">28.6.1. Info 文档查阅</a></li>
<li><a href="#Man-Page">28.6.2. 手册页查阅</a></li>
<li><a href="#Programming-Language-Doc">28.6.3. 编程语言文档查阅</a></li>
</ul>
</li>
<li><a href="#Hideshow">28.7. 代码折叠次模式</a></li>
<li><a href="#Symbol-Completion">28.8. 符号名称补全</a></li>
<li><a href="#MixedCase-Words">28.9. 混合大小写单词处理</a></li>
<li><a href="#Semantic">28.10. 语义分析（Semantic）</a></li>
<li><a href="#Misc-for-Programs">28.11. 其他程序编辑实用功能</a></li>
<li><a href="#C-Modes">28.12. C 语言及相关模式</a>
<ul>
<li><a href="#Motion-in-C">28.12.1. C 模式移动命令</a></li>
<li><a href="#Electric-C">28.12.2. C 语言自动缩进字符</a></li>
<li><a href="#Hungry-Delete">28.12.3. C 模式中的贪婪删除功能</a></li>
<li><a href="#Other-C-Commands">28.12.4. C 模式的其他命令</a></li>
</ul>
</li>
<li><a href="#Asm-Mode">28.13. 汇编语言模式</a></li>
<li><a href="#Fortran">28.14. Fortran 模式</a>
<ul>
<li><a href="#Fortran-Motion">28.14.1. 移动命令</a></li>
<li><a href="#Fortran-Indent">28.14.2. Fortran 缩进</a>
<ul>
<li><a href="#ForIndent-Commands">28.14.2.1. Fortran 缩进与填充命令</a></li>
<li><a href="#ForIndent-Cont">28.14.2.2. 续行</a></li>
<li><a href="#ForIndent-Num">28.14.2.3. 行号显示</a></li>
<li><a href="#ForIndent-Conv">28.14.2.4. 语法约定</a></li>
<li><a href="#ForIndent-Vars">28.14.2.5. Fortran 缩进相关变量</a></li>
</ul>
</li>
<li><a href="#Fortran-Comments">28.14.3. Fortran 注释</a></li>
<li><a href="#Fortran-Autofill">28.14.4. Fortran 模式下的自动填充</a></li>
<li><a href="#Fortran-Columns">28.14.5. Fortran 列检查</a></li>
<li><a href="#Fortran-Abbrev">28.14.6. Fortran 关键字缩写</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Building">29. 程序编译与测试</a>
<ul>
<li><a href="#Compilation">29.1. 在 Emacs 中运行编译</a></li>
<li><a href="#Compilation-Mode">29.2. 编译模式</a></li>
<li><a href="#Compilation-Shell">29.3. 编译用子 shell</a></li>
<li><a href="#Grep-Searching">29.4. 在 Emacs 中使用 Grep 搜索</a></li>
<li><a href="#Flymake">29.5. 实时语法错误检测</a></li>
<li><a href="#Debuggers">29.6. 在 Emacs 中运行调试器</a>
<ul>
<li><a href="#Starting-GUD">29.6.1. 启动 GUD 调试器</a></li>
<li><a href="#Debugger-Operation">29.6.2. 调试器操作</a></li>
<li><a href="#Commands-of-GUD">29.6.3. GUD 调试器命令</a></li>
<li><a href="#GUD-Customization">29.6.4. GUD 调试器定制</a></li>
<li><a href="#GDB-Graphical-Interface">29.6.5. GDB 图形界面</a>
<ul>
<li><a href="#GDB-User-Interface-Layout">29.6.5.1. GDB 图形界面布局</a></li>
<li><a href="#Source-Buffers">29.6.5.2. 源代码缓冲区</a></li>
<li><a href="#Breakpoints-Buffer">29.6.5.3. 断点缓冲区</a></li>
<li><a href="#Threads-Buffer">29.6.5.4. 线程缓冲区</a></li>
<li><a href="#Stack-Buffer">29.6.5.5. 堆栈缓冲区</a></li>
<li><a href="#Other-GDB-Buffers">29.6.5.6. 其他 GDB 缓冲区</a></li>
<li><a href="#Watch-Expressions">29.6.5.7. 监视表达式</a></li>
<li><a href="#Multithreaded-Debugging">29.6.5.8. 多线程调试</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Executing-Lisp">29.7. 执行 Lisp 表达式</a></li>
<li><a href="#Lisp-Libraries">29.8. Emacs Lisp 代码库</a></li>
<li><a href="#Lisp-Eval">29.9. 求值 Emacs Lisp 表达式</a></li>
<li><a href="#Lisp-Interaction">29.10. Lisp 交互缓冲区</a></li>
<li><a href="#External-Lisp">29.11. 运行外部 Lisp 解释器</a></li>
</ul>
</li>
<li><a href="#Maintaining">30. 大型程序维护</a>
<ul>
<li><a href="#Version-Control">30.1. 版本控制</a>
<ul>
<li><a href="#Introduction-to-VC">30.1.1. 版本控制简介</a>
<ul>
<li><a href="#Why-Version-Control_003f">30.1.1.1. 理解版本控制解决的问题</a></li>
<li><a href="#Version-Control-Systems">30.1.1.2. 支持的版本控制系统</a></li>
<li><a href="#VCS-Concepts">30.1.1.3. 版本控制的核心概念</a></li>
<li><a href="#VCS-Merging">30.1.1.4. 基于合并与基于锁定的版本控制</a></li>
<li><a href="#VCS-Changesets">30.1.1.5. 基于变更集与基于文件的版本控制</a></li>
<li><a href="#VCS-Repositories">30.1.1.6. 分布式与集中式代码仓库</a></li>
<li><a href="#Types-of-Log-File">30.1.1.7. 日志文件类型</a></li>
</ul>
</li>
<li><a href="#VC-Mode-Line">30.1.2. 版本控制与模式行</a></li>
<li><a href="#Basic-VC-Editing">30.1.3. 版本控制下的基本编辑</a>
<ul>
<li><a href="#VC-With-A-Merging-VCS">30.1.3.1. 基于合并的基本版本控制</a></li>
<li><a href="#VC-With-A-Locking-VCS">30.1.3.2. 基于锁定的基本版本控制</a></li>
<li><a href="#Advanced-C_002dx-v-v">30.1.3.3. C-x v v 中的高级控制</a></li>
</ul>
</li>
<li><a href="#Log-Buffer">30.1.4. 日志条目缓冲区的功能</a></li>
<li><a href="#Registering">30.1.5. 为文件注册版本控制</a></li>
<li><a href="#Old-Revisions">30.1.6. 查看与比较旧版本</a></li>
<li><a href="#VC-Change-Log">30.1.7. 版本控制变更日志</a></li>
<li><a href="#VC-Undo">30.1.8. 撤销版本控制操作</a></li>
<li><a href="#VC-Ignore">30.1.9. 忽略版本控制文件</a></li>
<li><a href="#VC-Directory-Mode">30.1.10. 版本控制目录模式</a>
<ul>
<li><a href="#VC-Directory-Buffer">30.1.10.1. 版本控制目录缓冲区</a></li>
<li><a href="#VC-Directory-Commands">30.1.10.2. 版本控制目录命令</a></li>
</ul>
</li>
<li><a href="#Branches">30.1.11. 版本控制分支</a>
<ul>
<li><a href="#Switching-Branches">30.1.11.1. 分支切换</a></li>
<li><a href="#Pulling-_002f-Pushing">30.1.11.2. 分支间的变更拉取 / 推送</a></li>
<li><a href="#Merging">30.1.11.3. 分支合并</a></li>
<li><a href="#Creating-Branches">30.1.11.4. 新建分支</a></li>
</ul>
</li>
<li><a href="#Miscellaneous-VC">30.1.12. 版本控制的杂项命令与功能</a>
<ul>
<li><a href="#Change-Logs-and-VC">30.1.12.1. 变更日志与版本控制</a></li>
<li><a href="#VC-Delete_002fRename">30.1.12.2. 删除与重命名版本控制文件</a></li>
<li><a href="#Revision-Tags">30.1.12.3. 版本标签</a></li>
<li><a href="#Version-Headers">30.1.12.4. 插入版本控制头信息</a></li>
<li><a href="#Editing-VC-Commands">30.1.12.5. 编辑版本控制命令</a></li>
<li><a href="#Preparing-Patches">30.1.12.6. 准备补丁文件</a></li>
</ul>
</li>
<li><a href="#Customizing-VC">30.1.13. 定制版本控制</a>
<ul>
<li><a href="#General-VC-Options">30.1.13.1. 通用选项</a></li>
<li><a href="#RCS-and-SCCS">30.1.13.2. RCS 与 SCCS 相关选项</a></li>
<li><a href="#CVS-Options">30.1.13.3. CVS 专用选项</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Projects">30.2. 项目管理</a>
<ul>
<li><a href="#Project-File-Commands">30.2.1. 作用于文件的项目命令</a></li>
<li><a href="#Project-Buffer-Commands">30.2.2. 作用于缓冲区的项目命令</a></li>
<li><a href="#Switching-Projects">30.2.3. 项目切换</a></li>
<li><a href="#Managing-Projects">30.2.4. 项目列表文件管理</a></li>
</ul>
</li>
<li><a href="#Change-Log">30.3. 变更日志</a>
<ul>
<li><a href="#Change-Log-Commands">30.3.1. 变更日志命令</a></li>
<li><a href="#Format-of-ChangeLog">30.3.2. 变更日志格式</a></li>
</ul>
</li>
<li><a href="#Xref">30.4. 查找标识符引用</a>
<ul>
<li><a href="#Find-Identifiers">30.4.1. 查找标识符</a>
<ul>
<li><a href="#Looking-Up-Identifiers">30.4.1.1. 标识符查阅</a></li>
<li><a href="#Xref-Commands">30.4.1.2. xref 缓冲区中的可用命令</a></li>
<li><a href="#Identifier-Search">30.4.1.3. 基于标识符的搜索与替换</a></li>
<li><a href="#List-Identifiers">30.4.1.4. 标识符查询</a></li>
</ul>
</li>
<li><a href="#Tags-Tables">30.4.2. 标签表</a>
<ul>
<li><a href="#Tag-Syntax">30.4.2.1. 源文件标签语法</a></li>
<li><a href="#Create-Tags-Table">30.4.2.2. 创建标签表</a></li>
<li><a href="#Etags-Regexps">30.4.2.3. Etags 正则表达式</a></li>
</ul>
</li>
<li><a href="#Select-Tags-Table">30.4.3. 选择标签表</a></li>
</ul>
</li>
<li><a href="#EDE">30.5. Emacs 开发环境</a></li>
<li><a href="#Emerge">30.6. 使用 Emerge 合并文件</a>
<ul>
<li><a href="#Overview-of-Emerge">30.6.1. Emerge 概述</a></li>
<li><a href="#Submodes-of-Emerge">30.6.2. Emerge 的子模式</a></li>
<li><a href="#State-of-Difference">30.6.3. 差异状态</a></li>
<li><a href="#Merge-Commands">30.6.4. 合并命令</a></li>
<li><a href="#Exiting-Emerge">30.6.5. 退出 Emerge</a></li>
<li><a href="#Combining-in-Emerge">30.6.6. 合并两个版本的内容</a></li>
<li><a href="#Fine-Points-of-Emerge">30.6.7. Emerge 的细节要点</a></li>
</ul>
</li>
<li><a href="#Bug-Reference">30.7. 漏洞引用</a></li>
</ul>
</li>
<li><a href="#Abbrevs">31. 缩写</a>
<ul>
<li><a href="#Abbrev-Concepts">31.1. 缩写概念</a></li>
<li><a href="#Defining-Abbrevs">31.2. 定义缩写</a></li>
<li><a href="#Expanding-Abbrevs">31.3. 控制缩写展开</a></li>
<li><a href="#Abbrevs-Suggestions">31.4. 缩写建议</a></li>
<li><a href="#Editing-Abbrevs">31.5. 查看与编辑缩写</a></li>
<li><a href="#Saving-Abbrevs">31.6. 保存缩写</a></li>
<li><a href="#Dynamic-Abbrevs">31.7. 动态缩写展开</a></li>
<li><a href="#Dabbrev-Customization">31.8. 定制动态缩写</a></li>
</ul>
</li>
<li><a href="#Dired">32. 目录编辑器（Dired）</a>
<ul>
<li><a href="#Dired-Enter">32.1. 进入目录编辑器</a></li>
<li><a href="#Dired-Navigation">32.2. 目录编辑器缓冲区中的导航</a></li>
<li><a href="#Dired-Deletion">32.3. 用目录编辑器删除文件</a></li>
<li><a href="#Flagging-Many-Files">32.4. 批量标记多个文件</a></li>
<li><a href="#Dired-Visiting">32.5. 在目录编辑器中打开文件</a></li>
<li><a href="#Marks-vs-Flags">32.6. 目录编辑器中的标记与标记符</a></li>
<li><a href="#Operating-on-Files">32.7. 对文件执行操作</a></li>
<li><a href="#Shell-Commands-in-Dired">32.8. 目录编辑器中的 Shell 命令</a></li>
<li><a href="#Shell-Command-Guessing">32.9. Shell 命令猜测</a></li>
<li><a href="#Transforming-File-Names">32.10. 目录编辑器中的文件名转换</a></li>
<li><a href="#Comparison-in-Dired">32.11. 目录编辑器中的文件比较</a></li>
<li><a href="#Subdirectories-in-Dired">32.12. 目录编辑器中的子目录</a></li>
<li><a href="#Subdir-Switches">32.13. 目录编辑器中的子目录开关</a></li>
<li><a href="#Subdirectory-Motion">32.14. 在子目录间移动</a></li>
<li><a href="#Hiding-Subdirectories">32.15. 隐藏子目录</a></li>
<li><a href="#Dired-Updating">32.16. 更新目录编辑器缓冲区</a></li>
<li><a href="#Dired-and-Find">32.17. 目录编辑器与 find 命令</a></li>
<li><a href="#Wdired">32.18. 编辑目录编辑器缓冲区</a></li>
<li><a href="#Image_002dDired">32.19. 在目录编辑器中查看图片缩略图</a></li>
<li><a href="#Misc-Dired-Features">32.20. 目录编辑器的其他功能</a></li>
</ul>
</li>
<li><a href="#Calendar_002fDiary">33. 日历与日记</a>
<ul>
<li><a href="#Calendar-Motion">33.1. 日历中的移动</a>
<ul>
<li><a href="#Calendar-Unit-Motion">33.1.1. 按标准时间长度移动</a></li>
<li><a href="#Move-to-Beginning-or-End">33.1.2. 星期、月份或年份的起始与结束</a></li>
<li><a href="#Specified-Dates">33.1.3. 指定日期跳转</a></li>
</ul>
</li>
<li><a href="#Scroll-Calendar">33.2. 日历滚动</a></li>
<li><a href="#Counting-Days">33.3. 天数计算</a></li>
<li><a href="#General-Calendar">33.4. 日历杂项命令</a></li>
<li><a href="#Writing-Calendar-Files">33.5. 编写日历文件</a></li>
<li><a href="#Holidays">33.6. 节假日显示</a></li>
<li><a href="#Sunrise_002fSunset">33.7. 日出日落时间</a></li>
<li><a href="#Lunar-Phases">33.8. 月相显示</a></li>
<li><a href="#Other-Calendars">33.9. 与其他日历系统的转换</a>
<ul>
<li><a href="#Calendar-Systems">33.9.1. 支持的日历系统</a></li>
<li><a href="#To-Other-Calendar">33.9.2. 转换到其他日历系统</a></li>
<li><a href="#From-Other-Calendar">33.9.3. 从其他日历系统转换</a></li>
</ul>
</li>
<li><a href="#Diary">33.10. 日记</a>
<ul>
<li><a href="#Format-of-Diary-File">33.10.1. 日记文件</a></li>
<li><a href="#Displaying-the-Diary">33.10.2. 显示日记</a></li>
<li><a href="#Date-Formats">33.10.3. 日期格式</a></li>
<li><a href="#Adding-to-Diary">33.10.4. 添加日记条目的命令</a></li>
<li><a href="#Special-Diary-Entries">33.10.5. 特殊日记条目</a></li>
<li><a href="#Appointments">33.10.6. 约会提醒</a></li>
<li><a href="#Importing-Diary">33.10.7. 日记条目的导入与导出</a></li>
</ul>
</li>
<li><a href="#Daylight-Saving">33.11. 夏令时</a></li>
<li><a href="#Time-Intervals">33.12. 时间间隔求和</a></li>
<li><a href="#Advanced-Calendar_002fDiary-Usage">33.13. 日历与日记的高级功能</a>
<ul>
<li><a href="#Calendar-Customizing">33.13.1. 定制日历</a></li>
<li><a href="#Holiday-Customizing">33.13.2. 定制节假日</a></li>
<li><a href="#Mayan-Calendar">33.13.3. 玛雅日历转换</a></li>
<li><a href="#Date-Display-Format">33.13.4. 日期显示格式</a></li>
<li><a href="#Time-Display-Format">33.13.5. 时间显示格式</a></li>
<li><a href="#Diary-Customizing">33.13.6. 定制日记</a></li>
<li><a href="#Non_002dGregorian-Diary">33.13.7. 使用非公历的日记条目</a></li>
<li><a href="#Diary-Display">33.13.8. 日记显示</a></li>
<li><a href="#Fancy-Diary-Display">33.13.9. 高级日记显示</a></li>
<li><a href="#Sexp-Diary-Entries">33.13.10. Sexp 条目与高级日记显示</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Sending-Mail">34. 发送邮件</a>
<ul>
<li><a href="#Mail-Format">34.1. 邮件缓冲区格式</a></li>
<li><a href="#Mail-Headers">34.2. 邮件头字段</a></li>
<li><a href="#Mail-Aliases">34.3. 邮件别名</a></li>
<li><a href="#Mail-Commands">34.4. 邮件命令</a>
<ul>
<li><a href="#Mail-Sending">34.4.1. 邮件发送</a></li>
<li><a href="#Header-Editing">34.4.2. 邮件头编辑</a></li>
<li><a href="#Citing-Mail">34.4.3. 邮件引用</a></li>
<li><a href="#Mail-Misc">34.4.4. 邮件杂项功能</a></li>
</ul>
</li>
<li><a href="#Mail-Signature">34.5. 邮件签名</a></li>
<li><a href="#Mail-Amusements">34.6. 邮件娱乐功能</a></li>
<li><a href="#Mail-Methods">34.7. 邮件撰写方式</a></li>
</ul>
</li>
<li><a href="#Rmail">35. 使用 Rmail 阅读邮件</a>
<ul>
<li><a href="#Rmail-Basics">35.1. Rmail 基本概念</a></li>
<li><a href="#Rmail-Scrolling">35.2. 邮件内滚动</a></li>
<li><a href="#Rmail-Motion">35.3. 邮件间移动</a></li>
<li><a href="#Rmail-Deletion">35.4. 删除邮件</a></li>
<li><a href="#Rmail-Inbox">35.5. Rmail 文件与收件箱</a></li>
<li><a href="#Rmail-Files">35.6. 多个 Rmail 文件</a></li>
<li><a href="#Rmail-Output">35.7. 将邮件复制到外部文件</a></li>
<li><a href="#Rmail-Labels">35.8. 标签</a></li>
<li><a href="#Rmail-Attributes">35.9. Rmail 属性</a></li>
<li><a href="#Rmail-Reply">35.10. 发送回复</a></li>
<li><a href="#Rmail-Summary">35.11. 摘要</a>
<ul>
<li><a href="#Rmail-Make-Summary">35.11.1. 生成摘要</a></li>
<li><a href="#Rmail-Summary-Edit">35.11.2. 在摘要中编辑</a></li>
</ul>
</li>
<li><a href="#Rmail-Sorting">35.12. Rmail 文件排序</a></li>
<li><a href="#Rmail-Display">35.13. 邮件显示</a></li>
<li><a href="#Rmail-Coding">35.14. Rmail 与编码系统</a></li>
<li><a href="#Rmail-Editing">35.15. 邮件内编辑</a></li>
<li><a href="#Rmail-Digest">35.16. 邮件摘要</a></li>
<li><a href="#Rmail-Rot13">35.17. 阅读 Rot13 加密邮件</a></li>
<li><a href="#Movemail">35.18. movemail 程序</a></li>
<li><a href="#Remote-Mailboxes">35.19. 从远程邮箱获取邮件</a></li>
<li><a href="#Other-Mailbox-Formats">35.20. 从多种格式的本地邮箱获取邮件</a></li>
</ul>
</li>
<li><a href="#Gnus">36. 使用 Gnus 处理电子邮件与新闻组</a>
<ul>
<li><a href="#Buffers-of-Gnus">36.1. Gnus 缓冲区</a></li>
<li><a href="#Gnus-Startup">36.2. Gnus 启动流程</a></li>
<li><a href="#Gnus-Group-Buffer">36.3. 使用 Gnus 组缓冲区</a></li>
<li><a href="#Gnus-Summary-Buffer">36.4. 使用 Gnus 摘要缓冲区</a></li>
</ul>
</li>
<li><a href="#Host-Security">37. 主机安全</a></li>
<li><a href="#Network-Security">38. 网络安全</a></li>
<li><a href="#Document-View">39. 文档查看</a>
<ul>
<li><a href="#DocView-Navigation">39.1. 文档查看器导航</a></li>
<li><a href="#DocView-Searching">39.2. 文档查看器搜索</a></li>
<li><a href="#DocView-Slicing">39.3. 文档查看器切片功能</a></li>
<li><a href="#DocView-Conversion">39.4. 文档查看器格式转换</a></li>
</ul>
</li>
<li><a href="#Shell">40. 从 Emacs 运行 Shell 命令</a>
<ul>
<li><a href="#Single-Shell">40.1. 单个 Shell 命令</a></li>
<li><a href="#Interactive-Shell">40.2. 交互式子 shell</a></li>
<li><a href="#Shell-Mode">40.3. Shell 模式</a></li>
<li><a href="#Shell-Prompts">40.4. Shell 提示符</a></li>
<li><a href="#Shell-History">40.5. Shell 命令历史</a>
<ul>
<li><a href="#Shell-Ring">40.5.1. Shell 历史环</a></li>
<li><a href="#Shell-History-Copying">40.5.2. Shell 历史复制</a></li>
<li><a href="#History-References">40.5.3. Shell 历史引用</a></li>
</ul>
</li>
<li><a href="#Directory-Tracking">40.6. 目录跟踪</a></li>
<li><a href="#Shell-Options">40.7. Shell 模式选项</a></li>
<li><a href="#Terminal-emulator">40.8. Emacs 终端模拟器</a></li>
<li><a href="#Term-Mode">40.9. 终端模式</a></li>
<li><a href="#Remote-Host">40.10. 远程主机 Shell</a></li>
<li><a href="#Serial-Terminal">40.11. 串行终端</a></li>
</ul>
</li>
<li><a href="#Emacs-Server">41. 将 Emacs 用作服务器</a>
<ul>
<li><a href="#TCP-Emacs-server">41.1. TCP Emacs 服务器</a></li>
<li><a href="#Invoking-emacsclient">41.2. 调用 emacsclient</a></li>
<li><a href="#emacsclient-Options">41.3. emacsclient 选项</a></li>
</ul>
</li>
<li><a href="#Printing">42. 打印硬拷贝</a>
<ul>
<li><a href="#PostScript">42.1. PostScript 硬拷贝</a></li>
<li><a href="#PostScript-Variables">42.2. PostScript 硬拷贝相关变量</a></li>
<li><a href="#Printing-Package">42.3. 打印软件包</a></li>
</ul>
</li>
<li><a href="#Sorting">43. 文本排序</a></li>
<li><a href="#Picture-Mode">44. 图片编辑</a>
<ul>
<li><a href="#Basic-Picture">44.1. 图片模式基本编辑</a></li>
<li><a href="#Insert-in-Picture">44.2. 插入后移动控制</a></li>
<li><a href="#Tabs-in-Picture">44.3. 图片模式制表符</a></li>
<li><a href="#Rectangles-in-Picture">44.4. 图片模式矩形命令</a></li>
</ul>
</li>
<li><a href="#Editing-Binary-Files">45. 二进制文件编辑</a></li>
<li><a href="#Saving-Emacs-Sessions">46. 保存 Emacs 会话</a></li>
<li><a href="#Recursive-Edit">47. 递归编辑层级</a></li>
<li><a href="#Hyperlinking">48. 超链接与网页导航功能</a>
<ul>
<li><a href="#EWW">48.1. 使用 EWW 网页浏览</a></li>
<li><a href="#Embedded-WebKit-Widgets">48.2. 嵌入式 WebKit 组件</a></li>
<li><a href="#Browse_002dURL">48.3. 跟随 URL 链接</a></li>
<li><a href="#Goto-Address-mode">48.4. 激活 URL 链接</a></li>
<li><a href="#FFAP">48.5. 查找光标位置的文件与 URL</a></li>
</ul>
</li>
<li><a href="#Amusements">49. 游戏与其他娱乐功能</a></li>
<li><a href="#Packages">50. Emacs Lisp 软件包</a>
<ul>
<li><a href="#Package-Menu">50.1. 软件包菜单缓冲区</a></li>
<li><a href="#Package-Statuses">50.2. 软件包状态</a></li>
<li><a href="#Package-Installation">50.3. 软件包安装</a></li>
<li><a href="#Package-Files">50.4. 软件包文件与目录结构</a></li>
<li><a href="#Fetching-Package-Sources">50.5. 获取软件包源</a>
<ul>
<li><a href="#Specifying-Package-Sources">50.5.1. 指定软件包源</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Customization">51. 定制</a>
<ul>
<li><a href="#Easy-Customization">51.1. 简易定制界面</a>
<ul>
<li><a href="#Customization-Groups">51.1.1. 定制组</a></li>
<li><a href="#Browsing-Custom">51.1.2. 浏览与搜索设置</a></li>
<li><a href="#Changing-a-Variable">51.1.3. 修改变量</a></li>
<li><a href="#Saving-Customizations">51.1.4. 保存定制</a></li>
<li><a href="#Face-Customization">51.1.5. 定制外观样式</a></li>
<li><a href="#Specific-Customization">51.1.6. 定制特定项目</a></li>
<li><a href="#Custom-Themes">51.1.7. 定制主题</a></li>
<li><a href="#Creating-Custom-Themes">51.1.8. 创建定制主题</a></li>
</ul>
</li>
<li><a href="#Variables">51.2. 变量</a>
<ul>
<li><a href="#Examining">51.2.1. 查看与设置变量</a></li>
<li><a href="#Hooks">51.2.2. 钩子</a></li>
<li><a href="#Locals">51.2.3. 局部变量</a></li>
<li><a href="#File-Variables">51.2.4. 文件中的局部变量</a>
<ul>
<li><a href="#Specifying-File-Variables">51.2.4.1. 指定文件变量</a></li>
<li><a href="#Safe-File-Variables">51.2.4.2. 文件变量的安全性</a></li>
</ul>
</li>
<li><a href="#Directory-Variables">51.2.5. 目录级局部变量</a>
<ul>
<li><a href="#EditorConfig-support">51.2.5.1. 通过 EditorConfig 设置目录级变量</a></li>
</ul>
</li>
<li><a href="#Connection-Variables">51.2.6. 连接级局部变量</a></li>
</ul>
</li>
<li><a href="#Key-Bindings">51.3. 定制键绑定</a>
<ul>
<li><a href="#Keymaps">51.3.1. 键映射</a></li>
<li><a href="#Prefix-Keymaps">51.3.2. 前缀键映射</a></li>
<li><a href="#Local-Keymaps">51.3.3. 局部键映射</a></li>
<li><a href="#Minibuffer-Maps">51.3.4. 迷你缓冲区键映射</a></li>
<li><a href="#Rebinding">51.3.5. 交互式修改键绑定</a></li>
<li><a href="#Init-Rebinding">51.3.6. 在初始化文件中重新绑定键</a></li>
<li><a href="#Modifier-Keys">51.3.7. 修饰键</a></li>
<li><a href="#Function-Keys">51.3.8. 重新绑定功能键</a></li>
<li><a href="#Named-ASCII-Chars">51.3.9. 命名 ASCII 控制字符</a></li>
<li><a href="#Mouse-Buttons">51.3.10. 重新绑定鼠标按钮</a></li>
<li><a href="#Disabling">51.3.11. 禁用命令</a></li>
</ul>
</li>
<li><a href="#Init-File">51.4. Emacs 初始化文件</a>
<ul>
<li><a href="#Init-Syntax">51.4.1. 初始化文件语法</a></li>
<li><a href="#Init-Examples">51.4.2. 初始化文件示例</a></li>
<li><a href="#Terminal-Init">51.4.3. 终端专用初始化</a></li>
<li><a href="#Find-Init">51.4.4. Emacs 查找初始化文件的方式</a></li>
<li><a href="#Init-Non_002dASCII">51.4.5. 初始化文件中的非 ASCII 字符</a></li>
<li><a href="#Early-Init-File">51.4.6. 早期初始化文件</a></li>
</ul>
</li>
<li><a href="#Authentication">51.5. 保存持久化认证信息</a></li>
</ul>
</li>
<li><a href="#Quitting">52. 退出与中止</a></li>
<li><a href="#Lossage">53. 处理 Emacs 故障</a>
<ul>
<li><a href="#Stuck-Recursive">53.1. 递归编辑层级</a></li>
<li><a href="#Screen-Garbled">53.2. 屏幕乱码</a></li>
<li><a href="#Text-Garbled">53.3. 文本乱码</a></li>
<li><a href="#Memory-Full">53.4. 内存不足</a></li>
<li><a href="#Crashing">53.5. Emacs 崩溃时</a></li>
<li><a href="#After-a-Crash">53.6. 崩溃后的恢复</a></li>
<li><a href="#Emergency-Escape">53.7. 紧急退出</a></li>
<li><a href="#DEL-Does-Not-Delete">53.8. 退格键无法删除时</a></li>
</ul>
</li>
<li><a href="#Bugs">54. 报告漏洞</a>
<ul>
<li><a href="#Known-Problems">54.1. 查看现有漏洞报告与已知问题</a></li>
<li><a href="#Bug-Criteria">54.2. 漏洞的判定标准</a></li>
<li><a href="#Understanding-Bug-Reporting">54.3. 理解漏洞报告</a></li>
<li><a href="#Checklist">54.4. 漏洞报告检查清单</a></li>
<li><a href="#Sending-Patches">54.5. 提交 GNU Emacs 补丁</a></li>
</ul>
</li>
<li><a href="#Contributing">55. 为 Emacs 开发做贡献</a>
<ul>
<li><a href="#Coding-Standards">55.1. 编码标准</a></li>
<li><a href="#Copyright-Assignment">55.2. 版权转让</a></li>
</ul>
</li>
<li><a href="#Service">56. 如何获取 GNU Emacs 相关帮助</a></li>
<li><a href="#Copying">附录 A GNU 通用公共许可证</a></li>
<li><a href="#GNU-Free-Documentation-License">附录 B GNU 自由文档许可证</a></li>
<li><a href="#Emacs-Invocation">附录 C Emacs 启动命令行参数</a>
<ul>
<li><a href="#Action-Arguments">C.1 操作参数</a></li>
<li><a href="#Initial-Options">C.2 初始选项</a></li>
<li><a href="#Command-Example">C.3 命令参数示例</a></li>
<li><a href="#Environment">C.4 环境变量</a></li>
<li><a href="#General-Variables">C.4.1 通用变量</a></li>
<li><a href="#Misc-Variables">C.4.2 杂项变量</a></li>
<li><a href="#MS_002dWindows-Registry">C.4.3 MS-Windows 系统注册表</a></li>
<li><a href="#Display-X">C.5 指定显示名称</a></li>
<li><a href="#Font-X">C.6 字体指定选项</a></li>
<li><a href="#Colors-X">C.7 窗口颜色选项</a></li>
<li><a href="#Window-Size-X">C.8 窗口大小与位置选项</a></li>
<li><a href="#Borders-X">C.9 内部边框与外部边框</a></li>
<li><a href="#Title-X">C.10 框架标题</a></li>
<li><a href="#Icons-X">C.11 图标</a></li>
<li><a href="#Misc-X">C.12 其他显示选项</a></li>
</ul>
</li>
<li><a href="#X-Resources">附录 D X 窗口系统选项与资源</a>
<ul>
<li><a href="#Resources">D.1 X 资源</a></li>
<li><a href="#Table-of-Resources">D.2 Emacs 的 X 资源表</a></li>
<li><a href="#Lucid-Resources">D.3 Lucid 菜单与对话框 X 资源</a></li>
<li><a href="#Motif-Resources">D.4 Motif 菜单 X 资源</a></li>
<li><a href="#GTK-resources">D.5 GTK+ 资源</a>
<ul>
<li><a href="#GTK-Resource-Basics">D.5.1 GTK+ 资源基础</a></li>
<li><a href="#GTK-Widget-Names">D.5.2 GTK+ 组件名称</a></li>
<li><a href="#GTK-Names-in-Emacs">D.5.3 Emacs 中的 GTK+ 组件名称</a></li>
<li><a href="#GTK-styles">D.5.4 GTK+ 样式</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Antinews">附录 E Emacs 29 版本反向更新说明</a></li>
<li><a href="#Mac-OS-_002f-GNUstep">附录 F Emacs 与 macOS / GNUstep</a>
<ul>
<li><a href="#Mac-_002f-GNUstep-Basics">F.1 macOS 与 GNUstep 下的 Emacs 基本使用</a>
<ul>
<li><a href="#Grabbing-environment-variables">F.1.1 获取环境变量</a></li>
</ul>
</li>
<li><a href="#Mac-_002f-GNUstep-Customization">F.2 Mac / GNUstep 定制</a>
<ul>
<li><a href="#Modifier-keys">F.2.1 修饰键</a></li>
<li><a href="#Frame-Variables">F.2.2 框架变量</a></li>
<li><a href="#macOS-Trackpad_002fMousewheel-Variables">F.2.3 macOS 触控板 / 鼠标滚轮变量</a></li>
</ul>
</li>
<li><a href="#Mac-_002f-GNUstep-Events">F.3 macOS / GNUstep 下的窗口系统事件</a></li>
<li><a href="#GNUstep-Support">F.4 GNUstep 支持</a></li>
</ul>
</li>
<li><a href="#Haiku">附录 G Emacs 与 Haiku 系统</a>
<ul>
<li><a href="#Haiku-Basics">G.1 Haiku 系统下的安装与启动</a></li>
<li><a href="#Haiku-Fonts">G.2 Haiku 系统下的字体后端与选择</a></li>
</ul>
</li>
<li><a href="#Android">附录 H Emacs 与 Android 系统</a>
<ul>
<li><a href="#What-is-Android_003f">H.1 Android 版本历史</a></li>
<li><a href="#Android-Startup">H.2 在 Android 上启动 Emacs</a></li>
<li><a href="#Android-File-System">H.3 Emacs 在 Android 上可访问的文件</a></li>
<li><a href="#Android-Document-Providers">H.4 在 Android 上从其他程序访问文件</a></li>
<li><a href="#Android-Environment">H.5 在 Android 下运行 Emacs</a></li>
<li><a href="#Android-Windowing">H.6 Android 窗口系统</a></li>
<li><a href="#Android-Fonts">H.7 Android 下的字体后端与选择</a></li>
<li><a href="#Android-Troubleshooting">H.8 Android 启动问题排查</a></li>
<li><a href="#Android-Software">H.9 在 Android 上安装额外软件</a></li>
</ul>
</li>
<li><a href="#Microsoft-Windows">附录 I Emacs 与 Microsoft Windows/MS-DOS</a>
<ul>
<li><a href="#Windows-Startup">I.1 在 MS-Windows 上启动 Emacs 的方法</a></li>
<li><a href="#Text-and-Binary">I.2 文本文件与二进制文件</a></li>
<li><a href="#Windows-Files">I.3 MS-Windows 上的文件名</a></li>
<li><a href="#ls-in-Lisp">I.4 MS-Windows 上的 ls 命令模拟</a></li>
<li><a href="#Windows-HOME">I.5 MS-Windows 上的 HOME 目录与启动目录</a></li>
<li><a href="#Windows-Keyboard">I.6 MS-Windows 上的键盘使用</a></li>
<li><a href="#Windows-Mouse">I.7 MS-Windows 上的鼠标使用</a></li>
<li><a href="#Windows-Processes">I.8 Windows 9X/ME 与 Windows NT/2K/XP/Vista/7/8/10 上的子进程</a></li>
<li><a href="#Windows-Printing">I.9 MS-Windows 上的打印功能</a></li>
<li><a href="#Windows-Fonts">I.10 MS-Windows 上的字体指定</a></li>
<li><a href="#Windows-Misc">I.11 其他 Windows 专用功能</a></li>
<li><a href="#MS_002dDOS">I.12 Emacs 与 MS-DOS</a>
<ul>
<li><a href="#MS_002dDOS-Keyboard">I.12.1 MS-DOS 上的键盘使用</a></li>
<li><a href="#MS_002dDOS-Mouse">I.12.2 MS-DOS 上的鼠标使用</a></li>
<li><a href="#MS_002dDOS-Display">I.12.3 MS-DOS 上的显示</a></li>
<li><a href="#MS_002dDOS-File-Names">I.12.4 MS-DOS 上的文件名</a></li>
<li><a href="#MS_002dDOS-Printing">I.12.5 MS-DOS 上的打印功能</a></li>
<li><a href="#MS_002dDOS-and-MULE">I.12.6 MS-DOS 上的国际语言支持</a></li>
<li><a href="#MS_002dDOS-Processes">I.12.7 MS-DOS 上的子进程</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Manifesto">GNU 宣言</a>
<ul>
<li><a href="#What_0027s-GNU_003f-Gnu_0027s-Not-Unix_0021">什么是 GNU？GNU 不是 Unix！</a></li>
<li><a href="#Why-I-Must-Write-GNU">我为何必须编写 GNU</a></li>
<li><a href="#Why-GNU-Will-Be-Compatible-with-Unix">为何 GNU 要与 Unix 兼容</a></li>
<li><a href="#How-GNU-Will-Be-Available">GNU 的获取方式</a></li>
<li><a href="#Why-Many-Other-Programmers-Want-to-Help">为何众多程序员愿意提供帮助</a></li>
<li><a href="#How-You-Can-Contribute">你如何能做出贡献</a></li>
<li><a href="#Why-All-Computer-Users-Will-Benefit">为何所有计算机用户都将受益</a></li>
<li><a href="#Some-Easily-Rebutted-Objections-to-GNU_0027s-Goals">对 GNU 目标的一些易反驳的反对意见</a></li>
</ul>
</li>
<li><a href="#Glossary">术语表</a></li>
<li><a href="#Acknowledgments">致谢</a></li>
<li><a href="#Key-Index">按键（字符）索引</a></li>
<li><a href="#Option-Index">命令行选项索引</a></li>
<li><a href="#Command-Index">命令与函数索引</a></li>
<li><a href="#Variable-Index">变量索引</a></li>
<li><a href="#Concept-Index">概念索引</a></li>
<li><a href="#h:A2EBE128-92C2-466C-B35A-D0315988F1F7">脚注</a></li>
</ul>
</div>
</nav>
<section id="outline-container-Distrib" class="outline-2">
<h2 id="Distrib">发行说明</h2>
<div class="outline-text-2" id="text-Distrib">
<p>
GNU Emacs 是一款自由软件，这意味着任何人都可以自由使用它，并在特定条件下自由地重新分发。GNU Emacs 并不属于公有领域，它受版权保护，其分发行为也有相关限制，但这些限制的设立，是为了保障每一位愿意遵守协作规范的使用者都能享有应有的自由。禁止的行为是，试图阻止他人进一步分享从你手中获得的任何版本的 GNU Emacs。具体的使用与分发条件详见随 Emacs 一同发布的《GNU 通用公共许可证》，本手册中也收录了该许可证的内容 <sup><a id="fnr.发行说明" class="footref" href="#fn.发行说明" role="doc-backlink">1</a></sup>。参见《<a href="#Copying">GNU 通用公共许可证</a>》章节。
</p>

<p>
获取 GNU Emacs 副本的一种方式，是从其他已拥有该软件的人处拷贝。你无需征求我们的许可，也不必告知其他任何人，直接复制即可。若你能接入互联网，可通过匿名文件传输协议（FTP）获取 GNU Emacs 的最新分发版本；更多相关信息，请访问我们的官方网站：<a href="https://www.gnu.org/software/emacs">https://www.gnu.org/software/emacs</a>。
</p>

<p>
你也可能在购买计算机时获得 GNU Emacs。计算机制造商可依据适用于所有用户的同一套条款，自由分发该软件的副本。这些条款要求制造商向你提供完整的源代码，其中需包含他们可能做出的任何修改，同时必须允许你依据《通用公共许可证》的常规条款，重新分发从他们那里获得的 GNU Emacs。换句话说，你获得这款程序时，它必须是自由的，这种自由不应只属于制造商。
</p>

<p>
如果你认为 GNU Emacs 对你有所帮助，不妨向自由软件基金会（Free Software Foundation）捐赠，以支持我们的工作。在美国，向自由软件基金会的捐赠可享受税收减免政策。若你在工作场所使用 GNU Emacs，建议你提议所在公司进行捐赠。捐赠渠道请访问：<a href="https://my.fsf.org/donate/">https://my.fsf.org/donate/</a>。关于其他可以提供帮助的方式，详见：<a href="https://www.gnu.org/help/help.html">https://www.gnu.org/help/help.html</a>。
</p>

<p>
我们同时发售本手册的纸质版，以及罗伯特・J・查塞尔所著《Emacs Lisp 编程入门》一书的纸质版。你可以访问我们的线上商店：<a href="https://shop.fsf.org/">https://shop.fsf.org/</a>。销售所得收入将全部用于支持基金会的使命：开发新的自由软件，并对包括 GNU Emacs 在内的现有程序进行优化改进。
</p>

<p>
若你需要联系自由软件基金会，可访问官网联系方式页面：<a href="https://www.fsf.org/about/contact/">https://www.fsf.org/about/contact/</a>，或写信至以下地址：
</p>

<blockquote>
<p>
自由软件基金会
</p>

<p>
米尔克街 31 号，邮编 # 960789
</p>

<p>
马萨诸塞州 波士顿，邮编 02196
</p>

<p>
美国
</p>
</blockquote>
</div>
</section>
<section id="outline-container-Intro" class="outline-2">
<h2 id="Intro">引言</h2>
<div class="outline-text-2" id="text-Intro">
<p>
你正在阅读的是 GNU Emacs 的相关内容，它是 Emacs 这款高级(advanced)、自文档化(self-documenthing)、可定制(customizable)、可扩展(extensible)编辑器的 GNU 实现版本。（GNU 的全称是 “GNU’s Not Unix”，其中首字母 “G” 发音并非不发声。）
</p>

<p>
我们称 Emacs 为高级编辑器，是因为它的功能远不止简单的文本插入与删除。它可以控制子进程、自动缩进程序代码、同时显示多个文件、像编辑本地文件一样编辑远程文件，此外还有诸多强大功能。Emacs 的编辑命令可基于字符、单词、行、句子、段落和页面执行操作，同时也适配各类编程语言中的表达式与注释。
</p>

<p>
自文档化(self-documenting)指的是，你可以随时使用一类名为 “帮助命令” 的特殊指令，查看当前可用的功能选项、查询任意命令的作用，或是检索与指定主题相关的所有命令。详见 “<a href="#Help">帮助</a>” 章节。
</p>

<p>
可定制(customizable)指的是，你能够以简单的方式轻松修改 Emacs 命令的行为。例如，若你使用的编程语言规定注释以 &lt;** 开头、以 **&gt; 结尾，你可以让 Emacs 的注释操作命令适配这类符号（详见 “<a href="#Comments">注释操作</a>” 章节）。再举个例子，你可以将上下左右这些基础光标移动命令，重新绑定到键盘上你觉得顺手的任意按键。详见 “<a href="#Customization">自定义</a>” 章节。
</p>

<p>
可扩展(extensible)指的是，你可以突破简单定制的范畴，创建全新的命令。新命令本质上是用 Lisp 语言编写的程序，可通过 Emacs 内置的 Lisp 解释器运行。即便是在编辑会话过程中，你也能重新定义已有命令，无需重启 Emacs。Emacs 的绝大多数编辑命令本身就是用 Lisp 编写的；仅有少数命令为追求执行效率而改用 C 语言实现，它们其实原本也可以用 Lisp 编写。编写扩展属于编程工作，但非编程人员也能直接使用现成的扩展功能。如果你想要学习 Emacs Lisp 编程，可参阅《<a href="https://www.gnu.org/software/emacs/manual/html_mono/eintr.html#Top">Emacs Lisp 编程入门</a>》一书的 “前言(Preface)” 章节。
</p>
</div>
</section>
<section id="outline-container-Screen" class="outline-2">
<h2 id="Screen"><span class="section-number-2">1.</span> 屏幕布局</h2>
<div class="outline-text-2" id="text-Screen">
<p>
在图形化显示器中（例如在 GNU/Linux 系统上使用 X 窗口系统时），Emacs 会占用一个图形化窗口。在文本终端中，Emacs 则会占据整个终端屏幕。我们将 Emacs 所占用的图形化窗口或终端屏幕统称为框架(frame)。Emacs 在这两种框架中的运行方式基本一致。默认情况下，启动 Emacs 只会打开一个框架，但你也可以根据需要创建更多框架（详见 “<a href="#Frames">框架与图形化显示</a>” 章节）。
</p>

<p>
每个框架都包含多个不同的区域(region)。框架顶部是菜单栏(menu bar)，你可以通过一系列菜单调用各类命令。在图形化显示器中，菜单栏正下方是工具栏(tool bar)，这是一排图标，点击即可执行相应的编辑命令。框架最底端是回显区(echo area)，这里会显示提示信息，同时也是你在 Emacs 发出询问时输入信息的区域。
</p>

<p>
框架的主要区域位于工具栏(tool bar)（若存在）下方、回显区上方，该区域被称为窗口(window)。在本手册后续内容中，“窗口(window)” 一词均指代此含义。图形化显示系统中 “窗口” 的常用定义与本书不同；前文已说明，我们将这类图形化窗口称为 “框架(frames)”。
</p>

<p>
Emacs 窗口是用于显示缓冲区(buffer)的区域 —— 缓冲区即你正在编辑或查看的文本或其他图形内容。在图形化显示器中，窗口的一侧会配有滚动条，拖动滚动条即可滚动浏览缓冲区内容。窗口的最后一行是模式行(mode line)，它会显示缓冲区的各类相关信息，例如是否存在未保存的修改、当前启用的编辑模式、光标所在的行号等。
</p>

<p>
启动 Emacs 时，框架中默认仅有一个窗口。不过，你可以将这个窗口进行水平或垂直分割，从而创建多个窗口，每个窗口都能独立显示一个缓冲区（详见 “<a href="#Windows">多窗口</a>” 章节）。
</p>

<p>
在任意时刻，都有且仅有一个窗口处于选中状态。在图形化显示器中，选中的窗口会显示一个更醒目的光标（通常为实心闪烁样式）；其他未选中的窗口则会显示较不显眼的光标（通常为空心方块样式）。在文本终端中，屏幕上只会显示一个光标，且该光标始终位于选中的窗口内。选中窗口所显示的缓冲区被称为当前缓冲区(current buffer)，所有编辑操作均在此缓冲区中进行。大多数 Emacs 命令都会默认作用于当前缓冲区；未选中窗口中显示的文本仅供参考。若你在图形化显示器中同时打开了多个框架，选中某一框架的同时，也会选中该框架内的一个窗口。
</p>

<ul class="org-ul">
<li><a href="#Point">光标位置（Point）</a></li>
<li><a href="#Echo-Area">回显区（Echo Area）</a></li>
<li><a href="#Mode-Line">模式行（Mode Line）</a></li>
<li><a href="#Menu-Bar">菜单栏（Menu Bar）</a></li>
</ul>
</div>
<div id="outline-container-Point" class="outline-3">
<h3 id="Point"><span class="section-number-3">1.1.</span> 光标位置（Point）</h3>
<div class="outline-text-3" id="text-Point">
<p>
选中窗口中的光标标记着大多数编辑命令的生效位置，该位置被称为光标位置(point) <sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>。许多 Emacs 命令可以将光标位置移动到缓冲区的不同地方；例如，你可以在目标位置单击鼠标左键（通常为鼠标的第一按键），以此来定位光标位置。
</p>

<p>
默认情况下，选中窗口中的光标会显示为实心方块，看起来是停留在某个字符之上，但你应当将光标位置理解为两个字符之间的间隙—— 它 <code>位于光标所覆盖字符的前方</code> 。举例来说，若文本内容为 frob 且光标覆盖在字母 b 上，那么光标位置就在字母 o 和 b 之间。此时若在该位置插入字符 !，文本会变为 fro!b，光标位置则会处于 ! 和 b 之间。如此一来，光标依旧会像之前一样覆盖在字母 b 上。
</p>

<p>
若你在 Emacs 中同时编辑多个文件（每个文件对应一个独立的缓冲区），那么每个缓冲区都有其专属的光标位置。即便某个缓冲区当前未被显示，当你后续再次打开它时，该缓冲区仍会保留此前的光标位置。此外，若同一个缓冲区在多个窗口中同时显示，这些窗口的每一个也会分别拥有独立的光标位置。
</p>

<p>
有关控制 Emacs 光标显示方式的相关选项，详见 “<a href="#Cursor-Display">光标显示</a>” 章节。
</p>
</div>
</div>
<div id="outline-container-Echo-Area" class="outline-3">
<h3 id="Echo-Area"><span class="section-number-3">1.2.</span> 回显区（Echo Area）</h3>
<div class="outline-text-3" id="text-Echo-Area">
<p>
框架最底端的一行区域是回显区(echo area)，它被用于显示各类用途的简短文本信息。
</p>

<p>
回显区之所以得名，是因为它的用途之一是回显功能—— 也就是在你输入多字符命令时，同步显示已输入的命令字符。单字符命令不会触发回显；而多字符命令（详见 “<a href="#Keys">按键</a>” 章节），若你在输入过程中停顿超过一秒钟，Emacs 就会回显该命令当前已输入的所有字符，以此提示你继续输入剩余部分。一旦回显功能触发，后续输入的命令字符就会实时显示在回显区中。这种设计既能让操作熟练的用户获得流畅的响应速度，又能为操作不熟练的用户提供充分的反馈信息。
</p>

<p>
当某个命令无法执行时，回显区也会用于显示错误提示信息。这类错误信息通常还会伴随蜂鸣提示音，或是屏幕闪烁的提醒效果。
</p>

<p>
部分命令会在回显区显示提示性信息，告知用户该命令已执行的操作，或是提供一些特定信息。与错误信息不同，这类提示性信息不会伴随蜂鸣或屏幕闪烁。例如，按下快捷键 C-x =（按住 Ctrl 键的同时按下 x 键，松开 Ctrl 键后再按下 = 键），回显区就会显示一条信息，内容包含光标位置处的字符详情、该字符在缓冲区中的位置，以及它在窗口中对应的列数。对于执行耗时较长的命令，在运行过程中往往会在回显区显示以 '&#x2026;' 结尾的提示信息（有时还会以百分比的形式标注进度），待命令执行完毕后，再在信息末尾补充显示 done（完成）。
</p>

<p>
回显区显示的所有提示性信息，都会自动保存到一个名为 <code>*Messages*</code> 的特殊缓冲区中。（关于缓冲区的概念，我们将在后续内容中介绍，详见 “<a href="#Buffers">使用多缓冲区</a>” 章节。）如果你错过了一条一闪而过的提示信息，只需切换到 <code>*Messages*</code> 缓冲区，就能重新查看该信息。 <code>*Messages*</code> 缓冲区的存储行数存在上限，这个上限由变量 message-log-max 定义。（变量的相关概念同样会在后续说明，详见 “<a href="#Variables">变量</a>” 章节。）当缓冲区内容达到行数上限时，每在末尾新增一行信息，就会自动删除缓冲区最开头的一行旧信息。
</p>

<p>
有关控制 Emacs 回显区使用方式的相关选项，详见 “<a href="#Display-Custom">显示自定义</a>” 章节。
</p>

<p>
回显区还会被用于显示迷你缓冲区(minibuffer)。迷你缓冲区是一个特殊的输入窗口，你可以在这里输入命令的参数，例如待编辑文件的名称。当迷你缓冲区处于激活状态时，回显区显示的文本会以提示字符串开头，同时激活状态的光标会出现在迷你缓冲区中 —— 此时迷你缓冲区会被临时认定为选中窗口。你可以随时按下 C-g 快捷键退出迷你缓冲区。详见 “<a href="#Minibuffer">迷你缓冲区</a>” 章节。
</p>
</div>
</div>
<div id="outline-container-Mode-Line" class="outline-3">
<h3 id="Mode-Line"><span class="section-number-3">1.3.</span> 模式行（Mode Line）</h3>
<div class="outline-text-3" id="text-Mode-Line">
<p>
每个窗口的底部都有一行模式行，用于显示当前缓冲区的状态信息。当框架中只有一个窗口时，模式行位于回显区(echo area)的正上方，也就是整个框架的倒数第二行。在图形化显示器中，模式行的外观呈现为一个 3D 立体方框样式。为了突出显示，Emacs 通常会将选中窗口的模式行设置为与未选中窗口不同的颜色。
</p>

<p>
模式行显示的文本遵循以下格式：
</p>
<div class="org-src-container">
<pre class="src src-shell">cs:ch-dfr buf pos line (major minor)
</pre>
</div>

<p>
在文本终端中，上述文本的后方会显示一串连字符，一直延伸至窗口的右边缘；而在图形化显示器中，这串连字符会被省略。
</p>

<p>
各部分含义说明:
</p>
<ul class="org-ul">
<li><p>
cs 及其后的冒号:
</p>

<p>
这部分用于描述当前缓冲区使用的字符编码集和换行符规则。通常情况下，Emacs 会自动处理这些设置，但有时查看这些信息也会很有帮助。
</p>

<ul class="org-ul">
<li>cs 代表缓冲区中文本的字符编码集（详见 “<a href="#Coding-Systems">编码系统</a>” 章节）。如果显示为连字符（'-'），表示未启用特殊的字符编码集处理（换行符规则可能除外，具体见下一段）；如果显示为等号（'='），表示完全不进行编码转换，这种情况通常用于编辑非文本类数据文件；其他字符则代表不同的编码系统，例如 1 代表 ISO Latin-1 编码。</li>

<li>在文本终端中，cs 前方还会显示两个额外字符，分别表示键盘输入和终端输出所使用的编码系统。此外，若你启用了输入法，cs 前方还会显示标识当前输入法的字符串（详见 “<a href="#Input-Methods">输入法</a>” 章节）。</li>

<li>cs 后方的字符通常是冒号。如果显示为其他字符，则说明该文件采用了非标准的换行符规则。文本文件的换行通常由换行符分隔，但有时也会采用另外两种规则：MS-DOS 系统的规则是用回车符加换行符表示换行，编辑这类文件时，冒号会变成反斜杠（\）或 (DOS)（具体显示取决于操作系统）；早期 Macintosh 系统的规则是用回车符替代换行符，编辑这类文件时，冒号会变成正斜杠（/）或 (Mac)。在部分系统中，对于使用换行符作为分隔符的文件，Emacs 会用 (Unix) 替代冒号进行显示。</li>

<li>对于通过 emacsclient 创建的框架（详见 “<a href="#Invoking-emacsclient">调用 emacsclient</a>” 章节），cs 后方的字符会显示为 @。这种标识常见于以守护进程模式运行的 Emacs 进程所创建的框架（详见 “<a href="#Emacs-Server">将 Emacs 用作服务器</a>” 章节）。</li>
</ul></li>

<li><p>
ch
</p>

<p>
这部分用于标识缓冲区的修改状态。如果窗口中显示的缓冲区内容与磁盘上对应的文件内容一致（即缓冲区未被修改），会显示两个连字符（'&#x2013;'）；如果缓冲区已被修改，则显示两个星号（**）；对于只读缓冲区，若内容已修改会显示 %*，未修改则显示 %%。
</p></li>

<li><p>
ch 后的字符
</p>

<p>
该位置通常显示为连字符（'-'）。但如果当前缓冲区的 default-directory（详见 “<a href="#File-Names">文件名</a>” 章节）指向远程主机，该位置会显示为 @。
</p></li>

<li><p>
d
</p>

<p>
仅当窗口被专用绑定到当前缓冲区时才会显示。若为强专用绑定，显示为大写字母 'D'；若为其他类型的专用绑定，显示为小写字母 'd'；若窗口未被专用绑定，则不显示该字符。详见《<a href="https://www.gnu.org/software/emacs/manual/elisp.html">Emacs Lisp 参考手册</a>》中关于专用窗口的内容。
</p>

<p>
若你按下 <code>M-x a u TAB</code> ，此时 TAB 键会查找以 “au” 开头的补全候选项。
</p>

<div class="org-src-container">
<pre class="src src-shell">U:**-  *Completions* All L1 (Completion List)
</pre>
</div></li>

<li><p>
fr
</p>

<p>
代表当前选中框架的名称（详见 “<a href="#Frames">框架与图形化显示</a>” 章节），仅在文本终端中显示。初始框架的名称为 'F1'。
</p></li>

<li><p>
buf
</p>

<p>
是窗口中显示的缓冲区名称，通常与你正在编辑的文件名一致。详见 “<a href="#Buffers">使用多缓冲区</a>” 章节。
</p></li>

<li><p>
pos
</p>

<p>
用于提示窗口外的文本位置情况：若缓冲区内容较少且全部能在窗口中显示，会显示 'All'；若当前查看的是缓冲区开头部分，显示 'Top'；若查看的是末尾部分，显示 'Bot'；其他情况则显示 'nn%'，其中 'nn' 代表窗口上方的内容占整个缓冲区的百分比。启用 <code>size-indication-mode</code> 后，还可以在模式行中显示缓冲区的大小。详见 “<a href="#Optional-Mode-Line">可选模式行功能</a>” 章节。
</p></li>

<li><p>
line
</p>

<p>
格式为字母 'L' 后接光标位置对应的行号。（启用 列号模式(<code>column-number-mode</code>) 后，还可以显示当前光标所在的列数。详见 “<a href="#Optional-Mode-Line">可选模式行功能</a>” 章节）。
</p></li>

<li><p>
(major minor)
</p>

<ul class="org-ul">
<li>major 代表缓冲区使用的 <code>主模式</code> 名称。主模式是缓冲区的核心编辑模式，例如文本模式、Lisp 模式、C 语言模式等。详见 “<a href="#Major-Modes">主模式</a>” 章节。部分主模式还会在名称后显示额外状态信息，例如编译缓冲区和 Shell 缓冲区会显示子进程的运行状态。</li>

<li>minor 列出当前启用的部分 <code>次模式</code> 。次模式是可选的编辑模式，能够在主模式的基础上提供额外功能。详见 “<a href="#Minor-Modes">次模式</a>“ 章节。</li>
</ul>

<p>
此外，部分功能即便不属于真正的次模式，只要处于开启状态，也会和次模式一同显示在该区域：
</p>

<ul class="org-ul">
<li>Narrow：表示当前缓冲区的编辑范围被限定在部分文本内容中（详见 “<a href="#Narrowing">范围限定</a>” 章节）。</li>

<li>Def：表示正在定义键盘宏（详见 “<a href="#Keyboard-Macros">键盘宏</a>” 章节）。</li>
</ul></li>
</ul>

<p>
补充说明
</p>

<p>
若 Emacs 处于 <code>递归编辑层级</code> ，包裹模式名称的圆括号会被方括号（[…]）包围；如果处于多层递归编辑状态，会显示双层方括号，以此类推。由于递归编辑层级是全局生效的，因此所有窗口的模式行都会显示对应的方括号标识。详见 “<a href="#Recursive-Edit">递归编辑层级</a>” 章节。
</p>

<p>
你既可以修改模式行(mode line)的外观样式，也可以调整其内容格式，具体方法详见 “<a href="#Optional-Mode-Line">可选模式行功能</a>” 章节。此外，模式行支持鼠标交互：点击模式行的不同区域可以执行对应的命令（详见 “<a href="#Mode-Line-Mouse">模式行鼠标命令</a>” 章节）；将鼠标悬停在模式行的交互区域时，还会弹出工具提示框，显示该区域可触发的命令说明（详见 “<a href="#Tooltips">工具提示</a>” 章节）。
</p>
</div>
</div>
<div id="outline-container-Menu-Bar" class="outline-3">
<h3 id="Menu-Bar"><span class="section-number-3">1.4.</span> 菜单栏（Menu Bar）</h3>
<div class="outline-text-3" id="text-Menu-Bar">
<p>
每个 Emacs 框架(frame)的顶部通常都会有一个菜单栏(menu bar)，你可以通过它执行各类常用操作。此处无需逐一列举这些操作，你自行查看会更为直观。
</p>

<p>
在支持鼠标的显示器上，你可以用鼠标从菜单栏中选择命令。菜单项右侧边缘的箭头，表示该选项会展开一个子菜单(submenu)；菜单项(menu item)末尾带有 '&#x2026;' 时，意味着执行该命令前，程序会提示你输入更多信息。
</p>

<p>
菜单栏中的部分命令同时配有常规的快捷键绑定(key bindings)；若存在快捷键，会直接显示在对应菜单项的后方。若要查看某菜单项对应的完整命令名称及文档说明，可按下快捷键 C-h k，随后按照常规方式用鼠标选中该菜单项即可（详见 “<a href="#Key-Help">快捷键文档查询</a>” 章节）。
</p>

<p>
除了使用鼠标，你也可以按下功能键 F10 来激活菜单栏的首个选项（该操作会执行 menu-bar-open 命令）。激活后，你可以通过方向键，或是快捷键 C-b（左）、C-f（右）、C-p（上）、C-n（下）来浏览菜单。按下回车键（RET）即可执行选中的菜单项；按下 C-g 或连续三次按下 ESC 键可退出菜单浏览模式。（注意：如果 Emacs 是基于图形界面工具包编译的，菜单的绘制与控制将由该工具包接管，此时退出菜单浏览模式的快捷键序列可能与上文描述不同。）
</p>

<p>
在文本终端中，你可以选择在回显区(echo area)中访问菜单栏(menu-bar)。要实现此功能，需将变量 tty-menu-open-use-tmm 自定义设置为非空值（non-nil）。完成设置后，按下 F10 键将执行 tmm-menubar 命令，而非直接展开菜单。（你也可以按下 M-` 组合键，该快捷键始终会调用 tmm-menubar 命令。）tmm-menubar命令支持通过键盘选择菜单项，选中的候选选项会显示在回显区中。你可以使用上下方向键在菜单中切换不同选项，按下回车键确认选择。此外，每个菜单项都会分配一个字母或数字作为快捷选择符（通常取自菜单项名称中的某个单词首字母），该字符与菜单项名称之间用 '==&gt;' 分隔，直接输入对应的字母或数字即可快速选中目标菜单项。
</p>
</div>
</div>
</section>
<section id="outline-container-User-Input" class="outline-2">
<h2 id="User-Input"><span class="section-number-2">2.</span> 用户输入类型</h2>
<div class="outline-text-2" id="text-User-Input">
<p>
GNU Emacs 主要为 <b>键盘操作</b> 而设计。尽管你可以通过鼠标点击菜单栏和工具栏来执行编辑命令，但这种方式的效率通常不如键盘操作高。
</p>

<p>
Emacs 的键盘输入基于一套 <b>高度扩展的 ASCII 字符集</b> 。普通字符（例如 a、B、3、= 以及空格字符(记为 SPC)）可直接敲击对应按键输入。控制字符（例如回车键 RET、制表符 TAB、删除键 DEL、退出键 ESC、功能键 F1、主页键 Home 以及左方向键 LEFT）同样通过这种方式输入，非英语键盘上的特定字符也是如此（详见 “<a href="#International">国际字符集支持</a>” 章节）。
</p>

<p>
Emacs 同样支持通过 <b>修饰键(modifier keys)</b> 输入控制字符。两种最常用的修饰键分别是 <b>Control 键</b> （通常标注为 Ctrl）与 <b>Meta 键</b> （通常标注为 Alt） <sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup>。例如，输入 Control-a 的操作是按住 Ctrl 键的同时按下 a 键，我们将其简写为 C-a。同理，Meta-a（简写为 M-a）的输入方式是按住 Alt 键并按下 a 键。修饰键也可搭配非字母数字类字符使用，例如 C-F1 或 M-LEFT。
</p>

<p>
你也可以通过以 <b>ESC 开头的双字符序列</b> 来输入 Meta 字符。例如，输入 ESC 后再按下 a，等效于输入 M-a；输入 ESC 后再按下 C-a，等效于输入 C-M-a（即同时按住 Ctrl 键和 Alt 键，再按下 a 键）。与 Meta 键的操作方式不同，ESC 键需要作为独立字符输入：输入时无需按住 ESC 键再敲击后续字符，而是先按下并松开 ESC 键，之后再输入目标字符。该功能在部分 Meta 键工作不稳定的文本终端中十分实用。
</p>

<p>
Emacs 还支持另外 3 种修饰键，详见 “<a href="#Modifier-Keys">修饰键</a>” 章节。
</p>

<p>
Emacs 对鼠标按键、鼠标滚轮，以及触控板、触摸屏等其他指针设备也提供了完善的支持，具体细节请参阅 “<a href="#Mouse-Input">鼠标输入</a>” 章节。
</p>

<p>
在图形化显示器中，窗口管理器可能会 <b>拦截部分键盘输入</b> ，包括 M-TAB、M-SPC、C-M-d 和 C-M-l。若遇到此类问题，你可以通过自定义窗口管理器设置，使其不再拦截这些按键；也可以重新绑定受影响的 Emacs 命令（详见 “<a href="#Customization">自定义</a>” 章节）。
</p>

<p>
普通字符、控制字符，以及鼠标点击等非键盘输入，在 Emacs 中统称为 <b>输入事件</b> 。关于 Emacs 内部如何处理输入事件的详细说明，参见《Emacs Lisp 参考手册》中的 “<a href="elisp.html#Input-Events">输入事件</a>” 章节。
</p>
</div>
</section>
<section id="outline-container-Keys" class="outline-2">
<h2 id="Keys"><span class="section-number-2">3.</span> 按键（Keys）</h2>
<div class="outline-text-2" id="text-Keys">
<p>
部分 Emacs 命令仅需一个输入事件即可调用；例如，C-f 可在缓冲区中向前移动一个字符。另一些命令则需要两个或更多输入事件才能调用，比如 C-x C-f 与 C-x 4 C-f。
</p>

<p>
<b>按键序列</b> （简称按键）是指一组具有独立意义的一个或多个输入事件。若某一按键序列可以调用命令，则称之为 <b>完整按键(complete key)</b> ；例如，C-f、C-x C-f 和 C-x 4 C-f 均属于完整按键。若某一按键序列长度不足以调用命令，则称之为 <b>前缀按键(prefix keys)</b> ；从上述示例可知，C-x 和 C-x 4 均为前缀按键。所有按键序列要么是完整按键，要么是前缀按键。
</p>

<p>
前缀按键可与后续输入事件组合，形成更长的按键序列。例如，C-x 属于前缀按键，因此单独按下 C-x 并不会调用命令；相反，Emacs 会等待后续输入（若停顿超过一秒，它会回显 C-x 按键以提示用户输入后续内容，详见《<a href="#Echo-Area">回显区</a>》章节）。C-x 与下一个输入事件组合后，会生成一个双事件按键序列，该序列本身既可以是前缀按键（如 C-x 4），也可以是完整按键（如 C-x C-f）。按键序列的长度没有限制，但实际使用中很少超过三到四个输入事件。
</p>

<p>
无法在完整按键后追加输入事件。例如，由于 C-f 是完整按键，双事件序列 C-f C-k 会被视为两个独立的按键序列，而非一个。
</p>

<p>
默认情况下，Emacs 中的前缀按键(prefix keys)包括 C-c、C-h、C-x、C-x RET、C-x @、C-x a、C-x n、C-x r、C-x t、C-x v、C-x 4、C-x 5、C-x 6、ESC 和 M-g。（F1 和 F2 分别是 C-h 和 C-x 6 的别名）。该列表并非固定不变；用户可通过自定义 Emacs 来创建新的前缀按键，甚至可以移除部分标准前缀按键，但 <b>不建议多数用户这样操作</b> ；例如，若移除 C-x 4 的前缀定义，那么 C-x 4 C-f 将变成无效的按键序列。详见《<a href="#Key-Bindings">自定义按键绑定</a>》章节。
</p>

<p>
在按下前缀按键后，再按下帮助字符（C-h 或 F1），会显示所有以此前缀开头的命令列表。此规则有一个例外：ESC C-h 等价于 C-M-h，二者功能完全不同。不过，用户可以使用 F1 来查看所有以 ESC 开头的命令列表，即 ESC F1。
</p>
</div>
</section>
<section id="outline-container-Mouse-Input" class="outline-2">
<h2 id="Mouse-Input"><span class="section-number-2">4.</span> 鼠标输入</h2>
<div class="outline-text-2" id="text-Mouse-Input">
<p>
默认情况下，Emacs 支持所有常规鼠标操作，例如单击鼠标左键定位光标、拖动鼠标指针选中区域。所有鼠标操作都可用于绑定命令，绑定方式与将命令绑定到键盘事件的方式完全相同（详见《<a href="#Keys">按键</a>》章节）。本节概述 Emacs 中的鼠标使用方法；关于 Emacs 鼠标命令的更多细节，可参考《<a href="#Mouse-Commands">用于编辑的鼠标命令</a>》及其后续章节。
</p>

<p>
单击鼠标左键时，Emacs 会接收到 mouse-1 事件。若要查看该事件绑定的命令，你可以按下 C-h c，随后单击鼠标左键。同理，鼠标中键对应的事件为 mouse-2，鼠标右键对应的事件为 mouse-3。如果你的鼠标带有滚轮，滚轮事件通常会被绑定为 wheel-down（滚轮向下）、wheel-up（滚轮向上），或 mouse-4、mouse-5，具体取决于操作系统的配置。
</p>

<p>
通常而言，旧式 X 系统与终端（详见《<a href="#Text_002dOnly-Mouse">在文本终端中使用鼠标</a>》）会上报 mouse-4 和 mouse-5 事件，其他所有系统则会上报 wheel-down 和 wheel-up 事件。
</p>

<p>
部分鼠标还配备了水平滚轮，触控板一般也支持水平滚动功能。在终端与旧式 X 系统之外的所有系统中，这类事件会被上报为 wheel-left（向左滚动）和 wheel-right（向右滚动）；而在终端与旧式 X 系统中，对应的事件名称为 mouse-6 和 mouse-7。
</p>

<p>
你也可以将键盘修饰键与鼠标事件组合使用，例如，你可以绑定一个特殊命令，使其在按住 Meta 键并单击鼠标中键时触发。这种情况下，对应的事件名称为 M-mouse-2。
</p>

<p>
在部分系统中，你还可以为触屏事件绑定处理命令。此类事件的名称为 touchscreen-update（触屏更新）与 touchscreen-end（触屏结束）。
</p>
</div>
</section>
<section id="outline-container-Commands" class="outline-2">
<h2 id="Commands"><span class="section-number-2">5.</span> 按键与命令</h2>
<div class="outline-text-2" id="text-Commands">
<p>
本手册中多处会介绍特定按键的功能，但 Emacs 并非直接为按键赋予含义，而是先为 <b>命名命令</b> 定义功能，再通过 <b>按键绑定</b> 的方式，将按键与命令关联，以此赋予按键对应的作用。
</p>

<p>
每个命令都有一个由程序员定义的名称，这类名称通常由若干英文单词通过连字符连接而成，例如 next-line（下移一行）或 forward-word（前移一词）。在 Emacs 内部，每个命令本质上是一种特殊的 Lisp 函数，命令对应的具体操作，都是通过执行该函数来完成的。相关内容可参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/What-Is-a-Function.html#What-Is-a-Function">什么是函数</a>》章节。
</p>

<p>
按键与命令之间的绑定关系，会被记录在名为 <b>键映射表（keymaps）</b> 的表格中，详见《<a href="#Keymaps">键映射表</a>》章节。
</p>

<p>
当我们说 “快捷键 C-n 可实现垂直向下移动一行” 时，其实是简化了一个在日常使用中无需关注、但对 Emacs 定制至关重要的细节：真正执行 “垂直向下移动” 操作的是命令 next-line，C-n 之所以能实现该功能，是因为它被绑定到了 next-line 命令上。如果你将 C-n 重新绑定到 forward-word 命令，那么此后按下 C-n 时，光标就会向前移动一个单词，而非向下移动一行。
</p>

<p>
在本手册中，我们常会将 C-n 这类按键直接称作 “命令”，但严格来说，按键只是被绑定到了对应的命令上。 一般情况下，我们会在提及触发命令的按键后，用 <b>括号</b> 标注出真正执行操作的命令名称。例如，“命令 C-n (next-line) 可使光标垂直向下移动”，这句话的含义是：next-line 命令的功能是让光标垂直下移，而快捷键 C-n 默认与该命令绑定。
</p>

<p>
既然我们正在讨论定制相关的内容，就需要向你介绍 <b>变量</b> 的概念。在对命令的描述中，你常会看到这样的表述：“若要修改此功能，请设置变量 mumble-foo”。变量是用于存储数值的命名标识符，本手册中介绍的大部分变量都支持用户定制：Emacs 的部分命令或功能模块会读取这些变量的值，并根据你设定的数值调整自身的行为逻辑。在你暂时没有定制需求时，可以忽略这些变量相关的内容；当你需要进行定制时，先阅读《<a href="#Variables">变量</a>》章节的基础内容，再查看各具体变量的说明，就能理解其作用了。
</p>
</div>
</section>
<section id="outline-container-Other-Input" class="outline-2">
<h2 id="Other-Input"><span class="section-number-2">6.</span> 触摸屏输入与虚拟键盘</h2>
<div class="outline-text-2" id="text-Other-Input">
<p>
Emacs 最初的设计，默认其用户是在台式计算机或计算机终端上使用它，这类设备会配备键盘，或许还会搭配鼠标这类合适的指针设备（参见《<a href="#Mouse-Input">鼠标输入</a>》章节）。
</p>


<p>
Emacs 同样支持接收来自其他输入设备的指令，即使用户将它安装在那些用其他输入方式、取代了传统 “键盘 + 鼠标” 组合的计算机上，也能顺畅地与之交互。
</p>

<ul class="org-ul">
<li><a href="#Touchscreens">触摸屏上使用 Emacs</a></li>
<li><a href="#On_002dScreen-Keyboards">搭配虚拟键盘使用 Emacs</a></li>
</ul>
</div>
<div id="outline-container-Touchscreens" class="outline-3">
<h3 id="Touchscreens"><span class="section-number-3">6.1.</span> 触摸屏上使用 Emacs</h3>
<div class="outline-text-3" id="text-Touchscreens">
<p>
触摸屏输入，是指通过手指、手写笔等操控工具，在显示 Emacs 窗口的显示器或计算机终端上执行点触、移动等操作，以此对窗口内的内容进行控制。
</p>

<p>
系统会将操控工具的 <b>点触顺序</b> 与 <b>位置</b> 这两个要素，和预先定义好的操作模式（称为 “手势”）进行比对，一旦匹配成功，就会在操控工具下方的文本区域执行该手势对应的一系列操作。目前 Emacs 支持识别的手势包括以下几种：
</p>

<ul class="org-ul">
<li><p>
轻点（Tapping）
</p>

<p>
快速点触屏幕后抬起操控工具，该操作会选中被点触的窗口，并执行该窗口内此位置上绑定到 mouse-1 的命令。如果该位置存在链接（参见《<a href="#Mouse-References">使用鼠标跳转至引用内容</a>》章节），Emacs 会直接跳转至该链接（此行为与模拟 mouse-1 事件的操作有所区别）。
</p></li>

<li><p>
滚动（Scrolling）
</p>

<p>
在屏幕上执行垂直或水平方向的连续移动，窗口会以操控工具初始位置为基准，朝着移动的方向滚动内容。用户可通过配置选项 touch-screen-enable-hscroll，控制该手势是否触发水平滚动功能（参见《<a href="#Horizontal-Scrolling">水平滚动</a>》章节）。
</p></li>

<li><p>
拖拽（Dragging）
</p>

<p>
长按屏幕（将操控工具置于屏幕上并保持片刻）后再移动到其他位置，该操作会将光标移动到操控工具的初始位置，且在移动过程中选中工具下方的文本，效果等同于按住鼠标左键并拖动鼠标。相关内容可参见《<a href="#Mouse-Commands">用于编辑的鼠标命令</a>》章节。
</p>

<p>
在触摸屏上精确定位操控工具存在一定难度，这会对文本选中操作造成影响。启用用户配置选项 touch-screen-word-select 后，拖拽操作会自动选中操控工具下方的 <b>完整单词</b> （默认情况下，选中范围仅会扩展至工具下方的单个字符）。
</p>

<p>
同理，单次手势操作有时难以精准选中目标文本的全部内容。若启用用户配置选项 touch-screen-extend-selection，在窗口内的光标或选区标记位置轻点，即可启动一次新的 “拖拽” 手势，后续的移动操作会沿着移动方向扩展选区范围。
</p>

<p>
操控工具在屏幕上的遮挡，可能会导致用户难以精准调整选区范围，而在回显区显示光标位置可缓解这一问题。当变量 touch-screen-preview-select 的值非空时，在操控工具移动过程中，回显区（参见《<a href="#Echo-Area">回显区</a>》章节）会显示光标所在行的内容，下方还会额外显示一行，用于标注光标在该行内的相对位置。
</p></li>

<li><p>
捏合（Pinching）
</p>

<p>
将两个操控工具分开放置在屏幕上，再通过调整二者位置来增大或缩小间距，文本缩放比例（参见《<a href="#Text-Scale">文本缩放</a>》章节）会随间距的变化比例同步调整。
</p></li>
</ul>

<p>
当操控工具在屏幕上的停留时间超过 0.7 秒时，Emacs 会判定为一次长按操作。用户可通过自定义变量 touch-screen-delay，调整该判定延迟的时长。
</p>
</div>
</div>
<div id="outline-container-On_002dScreen-Keyboards" class="outline-3">
<h3 id="On_002dScreen-Keyboards"><span class="section-number-3">6.2.</span> 搭配虚拟键盘使用 Emacs</h3>
<div class="outline-text-3" id="text-On_002dScreen-Keyboards">
<p>
当系统未连接物理键盘时，其窗口系统可能会提供一款屏幕内置的键盘 —— 即广泛使用的 <b>虚拟键盘(virtual keyboard)</b> 。该键盘包含多行可点击的按键，能够像实体键盘一样，向应用程序传递键盘输入指令。
</p>

<p>
由于虚拟键盘会占用宝贵的屏幕空间，因此当获得焦点的程序未请求文本输入时，虚拟键盘会处于隐藏状态。这就要求各类程序在准备好接收键盘输入后，主动将虚拟键盘调出。运行于 X 窗口系统的设备，会自动判断是否需要显示虚拟键盘；但在安卓等其他系统中，显示虚拟键盘的任务则由 Emacs 负责，触发场景通常为 <b>触摸屏轻点手势</b> （参见《<a href="#Touchscreens">在触摸屏上使用 Emacs</a>》章节），或是迷你缓冲区被调用时（参见《<a href="#Minibuffer">迷你缓冲区</a>》章节）。
</p>

<p>
当轻点手势触发某条命令执行时，Emacs 会在列表 touch-screen-set-point-commands 中检索该命令，以此判断它是否用于设置光标位置。若该命令存在于列表中，且新光标位置对应的文本并非只读状态，Emacs 会激活虚拟键盘，以便用户输入内容。
</p>

<p>
touch-screen-set-point-commands 的默认值仅包含命令 mouse-set-point（参见《<a href="#Mouse-Commands">用于编辑的鼠标命令</a>》章节），该命令是 mouse-1 的默认绑定命令，同时也是触摸屏轻点手势对应的默认命令。
</p>

<p>
用户配置选项 touch-screen-display-keyboard 可强制 Emacs 在 <b>所有轻点手势触发时都显示虚拟键盘</b> ，即便对应文本处于只读状态；该选项也支持局部缓冲区配置，在此情况下，只要轻点显示该缓冲区的窗口，Emacs 就会自动调出虚拟键盘。
</p>

<p>
除此之外，Emacs 还提供了若干用于显示或隐藏虚拟键盘的函数，具体细节可参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/On_002dScreen-Keyboards.html#On_002dScreen-Keyboards">屏幕内置键盘</a>》章节。
</p>

<p>
由于 Emacs 在执行命令期间，可能无法调出虚拟键盘，因此它在那些通常不配备物理键盘的窗口系统中，实现了一项特殊功能：双击设备上始终存在的某个硬件按键，即可触发退出操作。相关内容可参见《<a href="#Quitting">退出与终止</a>》章节。
</p>

<p>
X 窗口系统默认未启用此类按键，但用户可通过变量 x-quit-keysym 进行配置；在安卓系统中，默认的触发按键为音量减小键，用户同样可通过变量 android-quit-keycode 对其进行修改。
</p>

<p>
大多数为虚拟键盘设计的输入法，其文本编辑逻辑与桌面端输入法存在差异。
</p>

<p>
在传统桌面窗口系统中，输入法会直接在屏幕上显示正在输入的字符内容，待用户确认后，再将对应的按键事件发送给 Emacs。
</p>

<p>
与之不同的是，虚拟键盘输入法会 <b>直接对各窗口帧的活动窗口执行文本编辑操作</b> ，这种方式在 X 窗口系统中被称为 <b>文本转换</b> 或 <b>字符串转换</b> 。
</p>

<p>
只要局部缓冲区变量 text-conversion-style 的值非空，Emacs 就会启用这类输入法，这一机制通常适用于 text-mode（文本模式）与 prog-mode（编程模式）的派生模式。
</p>

<p>
文本转换操作的执行是异步的：当 Emacs 收到输入法的转换请求，且当前未处于 “已读取前缀按键、等待完整按键序列” 的状态时（参见《<a href="#Keys">按键</a>》章节），就会触发文本转换。转换完成后，系统会发送一个 text-conversion 事件，具体可参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Misc-Events.html#Misc-Events">杂项事件</a>》章节。
</p>

<p>
若输入法需要对缓冲区中的某一区域进行处理，该区域会被标记为 <b>待转换区域*（或 *称预处理区域</b> ）。变量 text-conversion-face 用于控制是否使用特殊的字体样式显示该区域，若启用，则可指定具体的字体样式。
</p>
</div>
</div>
</section>
<section id="outline-container-Entering-Emacs" class="outline-2">
<h2 id="Entering-Emacs"><span class="section-number-2">7.</span> 启动 Emacs</h2>
<div class="outline-text-2" id="text-Entering-Emacs">
<p>
调用 Emacs 的常规方式是在 Shell 中执行命令 <code>emacs</code> 。在图形界面终端中运行 Unix Shell 时，你可以通过 <code>emacs &amp;</code> 在后台启动 Emacs，这种方式不会占用终端窗口，你仍然可以在终端中执行其他 Shell 命令。（在微软视窗系统中启动 Emacs 的类似方法，参见《<a href="#Windows-Startup">微软视窗系统下的 Emacs 启动方式</a>》章节）。
</p>

<p>
Emacs 启动后，初始窗口会显示一个名为 <code>*GNU Emacs*</code> 的特殊缓冲区。这个启动界面包含了关于 Emacs 的介绍信息，以及对新手用户实用的常用任务链接。例如，激活 “Emacs Tutorial” 链接会打开 Emacs 教程，其功能等同于执行命令 <code>C-h t</code> (<code>help-with-tutorial</code>)。激活链接的方式有两种：一是将光标移至链接处并按下 <code>RET</code> （回车键），二是用 <code>mouse-1</code> (鼠标左键) 点击该链接。
</p>

<p>
你可以通过 <b>命令行参数</b> ，让 Emacs 在启动时直接打开一个或多个文件。例如，执行 <code>emacs foo.txt</code> 会启动 Emacs，并在缓冲区中显示文件 foo.txt 的内容。该功能主要是为了兼容其他编辑器 —— 这类编辑器通常设计为从 Shell 启动，用于短时间的编辑会话。若以这种方式启动 Emacs，初始窗口会被拆分为两个子窗口：一个显示指定的文件，另一个显示启动界面。相关内容参见《<a href="#Windows">多窗口</a>》章节。
</p>

<p>
通常情况下，每次编辑文件都重新启动 Emacs 既无必要，也会造成资源浪费。推荐的使用方式是：登录系统后只启动一次 Emacs，所有的编辑工作都在同一个 Emacs 会话中完成。关于打开多个文件的方法，参见《<a href="#Files">文件处理</a>》章节。采用这种方式使用 Emacs 时，会话会累积大量实用的上下文信息，例如 <b>king ring(剪切环)</b> 、 <b>registers(寄存器)</b> 、 <b>undo history(撤销历史)</b> 和 <b>mark ring data(标记环数据)</b> ，这些功能会让编辑操作更加便捷，本手册后续章节会对其进行详细介绍。
</p>

<p>
当 Emacs 处于运行状态时，若想从其他程序中编辑文件，你可以借助辅助程序 <code>emacsclient</code> ，在已有的 Emacs 会话中打开目标文件。相关内容参见《<a href="#Emacs-Server">将 Emacs 用作服务器</a>》章节。
</p>

<p>
Emacs 支持其他类型的命令行参数，例如指定加载特定的 Lisp 文件、设置初始窗口的位置等。具体内容参见《<a href="#Emacs-Invocation">Emacs 启动命令行参数</a>》章节。
</p>

<p>
若变量 <code>inhibit-startup-screen</code> 的值非空，Emacs 将不会显示启动界面。这种情况下，如果命令行中指定了一个或多个文件，Emacs 会直接显示这些文件；反之，会打开一个名为 <code>*scratch*</code> 的缓冲区，你可以在该缓冲区中交互式地执行 Emacs Lisp 表达式。相关内容参见《<a href="#Lisp-Interaction">Lisp 交互缓冲区</a>》章节。你可以通过 <b>自定义功能</b> （参见《<a href="#Easy-Customization">简易自定义界面</a>》章节），或编辑初始化文件（参见《<a href="#Init-File">Emacs 初始化文件</a>》章节）来设置 <code>inhibit-startup-screen</code> 的值 <sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>。
</p>

<p>
你也可以通过设置变量 <code>initial-buffer-choice</code> ，强制 Emacs 在启动时显示指定的文件或目录 —— 只需将该变量的值设为对应文件或目录的路径字符串即可。 <code>initial-buffer-choice</code> 的值也可以是一个无参函数，该函数需要返回一个缓冲区供 Emacs 显示。若 <code>initial-buffer-choice</code> 的值非空，即便命令行中指定了文件，Emacs 仍会加载这些文件，但不会在启动时直接显示。
</p>
</div>
</section>
<section id="outline-container-Exiting" class="outline-2">
<h2 id="Exiting"><span class="section-number-2">8.</span> 退出 Emacs</h2>
<div class="outline-text-2" id="text-Exiting">
<dl class="org-dl">
<dt><code>C-x C-c</code></dt><dd>退出 Emacs（执行 <code>save-buffers-kill-terminal</code> 命令）。</dd>

<dt><code>C-z</code></dt><dd>在文本终端中，挂起 Emacs；在图形界面中，将选中的窗口图标化（或 “最小化”）（执行 <code>suspend-frame</code> 命令）。</dd>
</dl>

<p>
退出 Emacs 即终止 Emacs 程序。操作方法为按下 <code>C-x C-c</code> (<code>save-buffers-kill-terminal</code>)。采用双字符按键序列是为了防止误触。若按下该组合键时，存在任何已修改但未保存的文件缓冲区，Emacs 会首先提示你保存这些缓冲区。若你未将所有缓冲区保存，程序会再次请求确认，因为未保存的修改将会丢失。此外，若仍有子进程在运行，Emacs 也会要求确认退出操作 —— 退出 Emacs 的同时会终止这些子进程（参见《<a href="#Shell">从 Emacs 执行 Shell 命令</a>》章节）。
</p>

<p>
若你将 Emacs 用作服务器， <code>C-x C-c</code> 的行为会略有不同。在客户端窗口中按下该组合键，只会关闭对应的客户端连接。详见《<a href="#Emacs-Server">将 Emacs 用作服务器</a>》章节。
</p>

<p>
你可以选择让 Emacs 在退出时记录特定的会话信息，例如当前打开的文件。这些信息会在下次启动 Emacs 时生效。详见《<a href="#Saving-Emacs-Sessions">保存 Emacs 会话</a>》章节。
</p>

<p>
若变量 <code>confirm-kill-emacs</code> 的值为非 nil，按下 <code>C-x C-c</code> 时，Emacs 会将该变量的值视作一个断言函数并调用它。若函数返回值为非 nil，则终止当前会话；反之，Emacs 会继续运行。将函数 <code>yes-or-no-p</code> 设为 <code>confirm-kill-emacs</code> 的值是一种便捷的用法。该变量的默认值为 <code>nil</code> 。
</p>

<p>
若变量 <code>confirm-kill-processes</code> 的值为 <code>nil</code> ，Emacs 在终止其启动的子进程前不会请求确认。该变量的默认值为 <code>t</code> 。
</p>

<p>
若需进一步自定义 Emacs 的退出行为，请参见《GNU Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Killing-Emacs.html#Killing-Emacs">退出 Emacs</a>》章节。
</p>

<p>
若需直接退出 Emacs 且不弹出保存提示，可执行命令 <code>M-x kill-emacs</code> 。
</p>

<p>
<code>C-z</code> 对应命令 <code>suspend-frame</code> 。在图形界面中，该命令会将选中的 Emacs 窗口最小化（或图标化），隐藏窗口的同时保留恢复的可能（具体隐藏方式取决于对应的窗口系统）。在文本终端中， <code>C-z</code> 会挂起 Emacs，临时暂停程序运行并将控制权交还给父进程（通常为 Shell）；在多数 Shell 环境中，你可以通过命令 <code>%emacs</code> 恢复挂起的 Emacs 进程。
</p>

<p>
文本终端通常会监听一些特殊字符，用于终止或挂起当前运行的程序。但在 Emacs 运行期间，终端的这一功能会被禁用。Emacs 将 <code>C-z</code> 和 <code>C-x C-c</code> 设为退出相关快捷键，灵感源于部分操作系统中用 <code>C-z</code> 和 <code>C-c</code> 终止或暂停程序的设计，但二者仅存在这一设计关联，与操作系统本身的功能并无直接联系。你可以自定义这些按键，将其绑定为任意命令（参见《<a href="#Keymaps">键盘映射</a>》章节）。
</p>
</div>
</section>
<section id="outline-container-Basic" class="outline-2">
<h2 id="Basic"><span class="section-number-2">9.</span> 基本编辑命令</h2>
<div class="outline-text-2" id="text-Basic">
<p>
本节将介绍文本输入、修改以及文件保存的基础操作。如果你是 Emacs 新手，建议先通过按下组合键 <code>C-h t</code> (<code>help-with-tutorial</code>) 运行 Emacs 实践教程。
</p>

<ul class="org-ul">
<li><a href="#Inserting-Text">插入文本</a></li>
<li><a href="#Moving-Point">更改光标位置</a></li>
<li><a href="#Erasing">删除文本</a></li>
<li><a href="#Basic-Undo">撤销更改</a></li>
<li><a href="#Basic-Files">文件操作</a></li>
<li><a href="#Basic-Help">帮助功能</a></li>
<li><a href="#Blank-Lines">空行处理</a></li>
<li><a href="#Continuation-Lines">续行（Continuation Lines）</a></li>
<li><a href="#Position-Info">光标位置信息</a></li>
<li><a href="#Arguments">数字参数（Numeric Arguments）</a></li>
<li><a href="#Repeating">重复执行命令</a></li>
</ul>
</div>
<div id="outline-container-Inserting-Text" class="outline-3">
<h3 id="Inserting-Text"><span class="section-number-3">9.1.</span> 插入文本</h3>
<div class="outline-text-3" id="text-Inserting-Text">
<p>
按下对应按键，即可输入普通可打印字符（例如 a、B、3、=）。输入的字符会被插入到光标位置的缓冲区中，且光标会随文本插入自动后移，始终停留在新插入文本的后方。相关概念详见<a href="#Point">光标</a>章节。
</p>

<p>
按下 <code>RET</code> 回车键(<code>newline</code>)可以换行并开始新的一行。（你的键盘上 <code>RET</code> 键可能标注为 <code>Return</code> 、 <code>Enter</code> ，或是一个指向左侧的特殊箭头符号，但本手册统一称其为 <code>RET</code> 。）该命令会在缓冲区中插入一个换行符，随后根据当前主模式自动缩进（详见<a href="#Indentation">缩进</a>章节）。
</p>
<ul class="org-ul">
<li>若光标位于行尾，执行该命令会在当前行下方新建一行空白行，并对新行进行缩进；</li>
<li>若光标位于行中间，则会在光标位置将当前行拆分为两行，并缩进新行。</li>
<li>如需关闭自动缩进功能，你可以选择禁用 Electric Indent 模式（详见<a href="#Indent-Convenience">缩进便捷功能</a>章节），或是按下 <code>C-j</code> 键 —— 该快捷键仅插入换行符，不会触发自动缩进。</li>
</ul>

<p>
正如本手册后续章节所述，你可以通过开启次要模式（minor mades）来修改 Emacs 的文本插入行为。例如：
</p>
<ul class="org-ul">
<li>自动换行模式（Auto Fill mode） 会在文本行过长时自动换行（详见<a href="#Filling">文本填充</a>章节）；</li>
<li>覆盖模式（Overwrite mode） 会让新输入的字符覆盖原有文本，而非将原有文本右移（详见<a href="#Minor-Modes">次要模式</a>章节）。</li>
</ul>

<p>
只有可打印字符能够通过按键直接输入；其他按键仅作为编辑命令触发相应功能，不会插入按键对应的字符。例如，默认情况下按下 <code>DEL</code> 键会执行 <code>delete-backward-char</code> 命令（部分模式会将其绑定为其他命令），而非插入一个字面意义上的 DEL 字符（ASCII 编码为 127）。
</p>

<p>
若要插入非打印字符，或是键盘上没有对应按键的字符，需要先按下 <code>C-q</code> (<code>quoted-insert</code>) 进行转义。 <code>C-q</code> 有两种使用方式：
</p>
<ul class="org-ul">
<li>按下 <code>C-q</code> 后，再按下任意非打印字符（包括 <code>C-g</code> ），即可插入该字符本身。例如 <code>C-q DEL</code> 会插入一个字面意义上的 DEL 字符。</li>
<li>按下 <code>C-q</code> 后，输入一串八进制数字，即可插入对应八进制编码的字符。你可以输入任意位数的八进制数字，遇到非数字字符时，输入序列即终止。
<ul class="org-ul">
<li>若终止符为 <code>RET</code> ，则该 <code>RET</code> 仅用于结束序列，不会额外执行换行操作；</li>
<li><p>
若终止符为其他非数字字符，则该字符会在终止序列后作为普通输入生效。例如，输入 <code>C-q 1 0 1 B</code> 会插入字符 AB（八进制 101 对应 ASCII 字符 A）。
</p>

<p>
注意：在普通的非二进制覆盖模式下，八进制序列输入功能会被禁用。这样设计是为了方便你直接插入数字字符，而非用其覆盖原有文本。
</p></li>
</ul></li>
</ul>

<p>
若你希望使用十进制或十六进制编码（而非八进制）插入字符，可以将变量 <code>read-quoted-char-radix</code> 的值设为 10（十进制）或 16（十六进制）。当基数设为 16 时，字母 a 到 f 会被当作数字的一部分参与编码，且不区分大小写。
</p>

<p>
部分常用的 Unicode 字符可通过以 <code>C-x 8</code> 开头的快捷键插入。例如：
</p>
<ul class="org-ul">
<li>按下 <code>C-x 8 [</code> 会插入左单引号 ‘（Unicode 编码 U+2018，也被称为左弯引号）；</li>
<li>同理， <code>C-x 8 ]</code> 、 <code>C-x 8 {</code> 、 <code>C-x 8 }</code> 会分别插入右单引号 ’、左双引号 “ 和右双引号 ”。</li>
<li>此外，若你的键盘上的 <code>Alt</code> 键可正常工作，按下 <code>Alt+[</code> 等效于 <code>C-x 8 [</code> （插入左单引号），以此类推（除非 <code>Alt</code> 键后紧跟的是 <code>RET</code> 键）。若要查看所有支持 <code>C-x 8</code> 快捷键的字符，可按下 <code>C-x 8 C-h</code> 查询。</li>
</ul>

<p>
你也可以使用命令 <code>C-x 8 RET</code> (<code>insert-char</code>) 插入字符：该命令会通过迷你缓冲区提示你输入目标字符的 Unicode 名称或编码。
</p>
<ul class="org-ul">
<li>输入名称时，命令支持补全功能（详见<a href="#Completion">补全</a>章节）；</li>
<li>输入编码时，需使用十六进制数（Unicode 标准格式），或带基数标识的数字（例如八进制数 <code>#o23072</code> ）。相关规则详见《Emacs Lisp 参考手册》中的<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Integer-Basics.html#Integer-Basics">整数基础</a>章节。</li>
<li>输入完成后，对应字符会被插入到缓冲区中。</li>
</ul>

<p>
以下几种操作均可插入同一个左单引号 ‘ 字符：
</p>

<div class="org-src-container">
<pre class="src src-shell">C-x 8 RET left single quotation mark RET
C-x 8 RET left sin TAB RET <span style="color: #b22222;">#</span><span style="color: #b22222;">&#21033;&#29992;&#34917;&#20840;&#21151;&#33021;
</span>C-x 8 RET 2018 RET         <span style="color: #b22222;">#</span><span style="color: #b22222;">&#36755;&#20837;&#21313;&#20845;&#36827;&#21046;&#32534;&#30721;&#65289;
</span>C-x 8 [
Alt+[   <span style="color: #b22222;">#</span><span style="color: #b22222;">&#33509; Alt &#38190;&#21487;&#29992;
</span><span style="color: #ff00ff;">`       #&#22312;&#26234;&#33021;&#24341;&#21495;&#27169;&#24335;&#65288;Electric Quote mode&#65289; &#19979;</span>
</pre>
</div>

<p>
在执行 <code>C-q</code> 或 <code>C-x 8 ...</code> 类命令时，可添加数字参数（详见<a href="#Arguments">数字参数</a>章节），指定要插入的字符重复次数。
</p>

<p>
除 <code>C-x 8</code> 外，你还可以通过以下方式插入特殊字符：先按下 <code>C-u C-x \ iso-transl RET</code> 选择对应的临时输入法，随后按下 <code>C-x \ [</code> ，同样可以插入左单引号 ‘（详见<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Select-Input-Method.html#transient-input-method">临时输入法</a>章节）。
</p>

<p>
此外，在部分场景下，即便不使用 <code>C-x 8</code> 类命令，输入特定格式的引号也会自动转换为弯引号：
­ 输入 <code>`like this'</code> （使用反引号和单引号），会自动转换为 <code>‘like this’</code> ；
­ 输入 <code>``like this''</code> （使用双反引号和双单引号），会自动转换为 <code>“like this”</code> 。相关规则详见<a href="#Quotation-Marks">引号格式</a>章节。
</p>
</div>
</div>
<div id="outline-container-Moving-Point" class="outline-3">
<h3 id="Moving-Point"><span class="section-number-3">9.2.</span> 更改光标位置</h3>
<div class="outline-text-3" id="text-Moving-Point">
<p>
若要执行 <b>插入字符之外</b> 的操作，你必须掌握移动光标的方法（详见<a href="#Point">光标</a>章节）。快捷键 <code>C-f</code> 、 <code>C-b</code> 、 <code>C-n</code> 、 <code>C-p</code> 分别用于将光标向右、向左、向下、向上移动。你也可以使用多数键盘上的 <code>arrow keys(方向键)</code> :  <code>RIGHT</code> 、 <code>LEFT</code> 、 <code>DOWN</code> 、和 <code>UP</code> 移动光标，但许多 Emacs 用户认为，方向键的操作效率低于控制键，原因是操作方向键时需要移动手部位置。
</p>

<p>
你还可以点击鼠标左键，将光标移动到点击的位置。Emacs 同时提供了多种功能更丰富的快捷键，可实现光标的灵活移动。
</p>

<dl class="org-dl">
<dt><code>C-f</code></dt><dd>向前移动一个字符 (<code>forward-char</code>)</dd>
<dt><code>RIGHT</code></dt><dd>对应命令 (<code>right-char</code>) 功能与 <code>C-f</code> 类似，但在从右至左排版的段落中行为会有差异（详见<a href="#Bidirectional-Editing">双向文本编辑</a>章节）</dd>
<dt><code>C-b</code></dt><dd>向后移动一个字符 (<code>backward-char</code>)</dd>
<dt><code>LEFT</code></dt><dd>对应命令 (<code>left-char</code>) 功能与 <code>C-b</code> 类似，但在从右至左排版的段落中行为会有差异（详见<a href="#Bidirectional-Editing">双向文本编辑</a>章节）</dd>
<dt><code>C-n</code></dt><dd></dd>

<dt><code>DOWN</code></dt><dd>向下移动一行 (<code>next-line</code>) 。该命令会尽量保持光标水平位置不变，例如若光标初始在某行中间位置，移动后会停在下一行的对应水平位置</dd>
<dt><code>C-p</code></dt><dd></dd>

<dt><code>UP</code></dt><dd>向上移动一行 (<code>previous-line</code>) 。与 <code>C-n</code> 类似，该命令会保持光标在该行的水平位置</dd>
<dt><code>C-a</code></dt><dd></dd>

<dt><code>Home</code></dt><dd>移动到行首 (<code>move-beginning-of-line</code>)</dd>
<dt><code>C-e</code></dt><dd></dd>

<dt><code>End</code></dt><dd>移动到行尾 (<code>move-end-of-line</code>)</dd>
<dt><code>M-f</code></dt><dd>向前移动一个单词 (<code>forward-word</code>)。详见<a href="#Words">单词</a>章节</dd>
<dt><code>C-RIGHT</code></dt><dd></dd>

<dt><code>M-RIGHT</code></dt><dd>功能与 <code>M-f</code> 类似，但在从右至左排版的段落中会向后移动一个单词（详见<a href="#Bidirectional-Editing">双向文本编辑</a>章节）</dd>
<dt><code>M-b</code></dt><dd>向后移动一个单词 (<code>backward-word</code>)。详见<a href="#Words">单词</a>章节</dd>
<dt><code>C-LEFT</code></dt><dd></dd>

<dt><code>M-LEFT</code></dt><dd>功能与 <code>M-b</code> 类似，但在从右至左排版的段落中会向前移动一个单词（详见<a href="#Bidirectional-Editing">双向文本编辑</a>章节）</dd>
<dt><code>M-r</code></dt><dd><p>
在不移动屏幕文本的前提下，将光标定位到窗口内垂直居中行的左边缘；连续重复执行该命令时，光标会按循环顺序依次定位到窗口的首行、末行左边缘，以此类推，对应命令 (<code>move-to-window-line-top-bottom</code>) 。
</p>
<ul class="org-ul">
<li>若带数字参数，则表示将光标定位到从窗口顶部向下数的第 n 行（参数 0 代表窗口首行）；</li>
<li>若参数为负数，则表示从窗口底部向上数的第 n 行（参数 -1 代表窗口末行）。</li>
</ul>

<p>
关于数字参数的更多用法，详见<a href="#Arguments">数字参数</a>章节。
</p></dd>

<dt><code>M-&lt;</code></dt><dd>移动到缓冲区开头 (<code>beginning-of-buffer</code>) 。若带数字参数 <code>n</code> ，则移动到距离缓冲区开头 <code>n/10</code> 比例的位置。在图形界面中，快捷键 <code>C-HOME</code> 等效于此命令。</dd>

<dt><code>M-&gt;</code></dt><dd>移动到缓冲区末尾 (<code>end-of-buffer</code>) 。在图形界面中，快捷键 <code>C-END</code> 等效于此命令。</dd>

<dt><code>C-v</code></dt><dd></dd>


<dt><code>PageDown</code></dt><dd></dd>

<dt><code>next</code> </dt><dd>向下滚动一屏内容，并在需要时将光标移动到屏幕可视区域内 (<code>scroll-up-command</code>)，详见<a href="#Scrolling">滚动</a>章节。</dd>

<dt><code>M-v</code></dt><dd></dd>

<dt><code>PageUp</code></dt><dd></dd>

<dt><code>prior</code></dt><dd>向上滚动一屏内容，并在需要时将光标移动到屏幕可视区域内 (<code>scroll-down-command</code>)，详见<a href="#Scrolling">滚动</a>章节。
<ul class="org-ul">
<li>快捷键命名逻辑：在 Emacs 术语中， <code>prior</code> 对应键盘上的 <code>PageUp</code> 键， <code>next</code> 对应 <code>PageDown</code> 键，两者仅命名不同，功能完全一致。</li>
</ul></dd>

<dt><code>M-g c</code></dt><dd>读取一个数字 <code>n</code> ，并将光标移动到缓冲区的第 <code>n</code> 个字符位置（缓冲区起始位置为 1）。若光标当前位于或紧邻缓冲区中的某个数字，则该数字会作为 <code>n</code> 的默认值，直接按下 <code>RET</code> 回车键即可使用。你也可以通过给 <code>M-g c</code> 添加数字前缀参数的方式指定 n。</dd>

<dt><code>M-g M-g</code></dt><dd></dd>

<dt><code>M-g g</code></dt><dd><p>
读取一个数字 <code>n</code> ，并将光标移动到第 <code>n</code> 行的开头（对应命令 <code>goto-line</code> ，缓冲区首行编号为 1）。若光标当前位于或紧邻缓冲区中的某个数字，则该数字会作为 <code>n</code> 的默认值，直接按下 <code>RET</code> 回车键即可使用。你也可以通过给 <code>M-g M-g</code> 添加数字前缀参数的方式指定 n。若为该命令添加普通前缀参数，其行为会有所不同，详见<a href="#Minibuffer-History">创建与选择缓冲区</a>章节；此外，你也可以使用 <code>goto-line-relative</code> 命令，将光标移动到相对于受限缓冲区可见部分的指定行。
</p>

<p>
<code>goto-line</code> 命令拥有独立的历史记录列表（详见<a href="#Minibuffer-History">迷你缓冲区历史</a>章节）。通过自定义用户选项 <code>goto-line-history-local</code> ，你可以选择让所有缓冲区共享同一历史列表（默认行为），或是为每个缓冲区分别配置独立的历史列表。
</p></dd>

<dt><code>M-g TAB</code></dt><dd>读取一个数字 <code>n</code> ，并将光标移动到当前行的第 <code>n</code> 列（最左侧列编号为 0）。若为该命令添加前缀参数，则直接以参数的数值作为目标列号。</dd>

<dt><code>C-x C-n</code></dt><dd>将光标当前所在列设为当前缓冲区的半永久目标列（对应命令 <code>set-goal-column</code> ）。当半永久目标列生效时， <code>C-n</code> 、 <code>C-p</code> 、 <code>PageUp</code> 和 <code>PageDown</code> 命令在垂直移动光标后，会自动将光标定位到该目标列，或尽可能接近该列的位置。目标列设置会一直生效，直至被手动取消。</dd>

<dt><code>C-u C-x C-n</code></dt><dd>取消半永久目标列设置。此后 <code>C-n</code> 和 <code>C-p</code> 命令会恢复默认行为，即保持光标水平位置不变。</dd>
</dl>

<p>
当缓冲区中的某行文本长度超过窗口宽度时，Emacs 通常会将其拆分为多行显示，这种显示行也被称为 <b>可视行(visul lines)</b> 。为方便操作， <code>C-n</code> 、 <code>C-p</code> 以及方向键 <code>down</code> 、 <code>up</code> 均基于可视行移动光标。若你希望这些命令基于 <b>逻辑行(logical line)</b> （即缓冲区中实际存储的文本行）移动，可将变量 <code>line-move-visual</code> 的值设为 <code>nil</code> ；此时若某一逻辑行被拆分为多行可视行，光标会直接跳过额外的可视行。相关细节详见<a href="#Continuation-Lines">续行</a>章节，变量设置方法详见<a href="#Variables">变量</a>章节。
</p>

<p>
与 <code>C-n</code> 、 <code>C-p</code> 不同，Emacs 中大多数针对行的命令均基于逻辑行(logical lines)执行。例如 <code>C-a</code> (<code>move-beginning-of-line</code> 移动到行首) 和 <code>C-e</code> （ <code>move-end-of-line</code> 移动到行尾）命令，分别作用于逻辑行的开头和结尾。后续遇到基于可视行工作的命令（如 <code>C-n</code> 、 <code>C-p</code> ）时，我们会特别指出。
</p>

<p>
当 <code>line-move-visual</code> 的值为 <code>nil</code> 时，你还可以将变量 <code>track-eol</code> 设为非 nil 值。此时若光标初始位于某逻辑行的行尾，执行 <code>C-n</code> 或 <code>C-p</code> 命令后，光标会移动到下一行或上一行的行尾。该变量的默认值为 <code>nil</code> 。
</p>

<p>
默认情况下，若在缓冲区的最后一行执行 <code>C-n</code> 命令，光标会停在该行末尾不再移动。但如果你将变量 <code>next-line-add-newlines</code> 设为非 nil 值，在缓冲区最后一行执行 <code>C-n</code> 时，Emacs 会自动在末尾新建一行，并将光标移动到新行中。
</p>
</div>
</div>
<div id="outline-container-Erasing" class="outline-3">
<h3 id="Erasing"><span class="section-number-3">9.3.</span> 删除文本</h3>
<div class="outline-text-3" id="text-Erasing">
<dl class="org-dl">
<dt><code>DEL</code></dt><dd></dd>

<dt><code>BACKSPACE</code></dt><dd>删除光标前的字符；若 <b>选区处于激活状态</b> ，则删除选区内的文本 (<code>delete-backward-char</code>)</dd>
<dt><code>Delete</code></dt><dd>删除光标后的字符或 <b>字符簇</b> ；若选区处于激活状态，则删除选区内的文本 (<code>delete-forward-char</code>)</dd>
<dt><code>C-d</code></dt><dd>删除光标后的字符 (<code>delete-char</code>)</dd>
<dt><code>C-k</code></dt><dd>剪切至行尾 (<code>kill-line</code>)</dd>
<dt><code>M-d</code></dt><dd>向前剪切至下一个单词的末尾 (<code>kill-word</code>) 即移除光标右边一整个词</dd>
<dt><code>M-DEL</code></dt><dd></dd>

<dt>(no term)</dt><dd><code>M-BACKSPACE</code> 向后剪切至前一个单词的开头 (<code>backward-kill-word</code>)，即移除光标左侧一整个词</dd>
</dl>

<p>
<code>DEL</code> (<code>delete-backward-char</code>) 命令会删除光标前的字符，并将光标及后方所有字符向前移动一位。若光标原本位于行首，执行该命令会删除前一行的换行符，从而将当前行与上一行合并。
</p>

<p>
但如果 <b>选区处于激活状态</b> ，DEL 命令的行为会变为删除选区内的所有文本。关于选区的详细说明，详见<a href="#Mark">标记与选区</a>章节。
</p>

<p>
在大多数键盘上， <code>DEL</code> 键标注的是 <code>BACKSPACE</code> ，但本手册统一称其为 DEL（注意不要与 <code>Delete</code> 键混淆，后文会介绍 <code>Delete</code> 键的功能）。在部分文本终端中，Emacs 可能无法正确识别 <code>DEL</code> 键，若遇到此问题可参考<a href="#DEL-Does-Not-Delete">当 <code>DEL</code> 键无法删除时</a>章节的解决方案。
</p>

<p>
<code>Delete</code> (<code>delete-forward-char</code>) 命令的删除方向与 <code>DEL</code> 相反：它会删除光标后的字符，也就是光标当前所在位置的字符。若光标原本位于行尾，执行该命令会将当前行与下一行合并。和 <code>DEL</code> 命令一样，当选区处于激活状态时，该命令会删除选区内的文本（详见<a href="#Mark">标记与选区</a>章节）。
</p>

<p>
此外，若光标后的字符与后续字符组合成一个 <b>字符簇</b> （即多个字符合并为一个显示单元）， <code>Delete</code> 命令会一次性删除整个字符簇序列。这一点与 <code>DEL</code> 命令不同 —— <code>DEL</code> 命令始终只会删除单个字符，即便该字符属于某个字符簇。
</p>

<p>
<code>C-d</code> (<code>delete-char</code>) 命令同样用于删除光标后的字符，功能与 <code>Delete</code> 键类似，但 <b>该命令不会受选区激活状态的影响</b> ，始终只删除光标后的单个字符。
</p>

<p>
关于上述删除命令的更多详细信息，详见<a href="#Deletion">删除操作</a>章节。
</p>

<p>
<code>C-k</code> (<code>kill-line</code>) 命令用于一次性剪切整行内容。
</p>
<ul class="org-ul">
<li>若在一行文本的开头或中间位置按下 <code>C-k</code> ，该命令会剪切从光标位置到行尾的所有文本；</li>
<li>若在行尾按下 <code>C-k</code> ，该命令会将当前行与下一行合并。</li>
</ul>

<p>
关于 <code>C-k</code> 及相关命令的更多信息，详见<a href="#Killing">剪切与移动文本</a>章节。
</p>
</div>
</div>
<div id="outline-container-Basic-Undo" class="outline-3">
<h3 id="Basic-Undo"><span class="section-number-3">9.4.</span> 撤销更改</h3>
<div class="outline-text-3" id="text-Basic-Undo">
<dl class="org-dl">
<dt><code>C-/</code></dt><dd></dd>

<dt><code>C-x u</code></dt><dd></dd>

<dt><code>C-_</code></dt><dd>撤销一条撤销记录项 —— 通常对应一次命令的操作效果（ <code>undo</code> 撤销功能）。（在纯文本模式的显示终端中，第一个快捷键可能无法使用）</dd>
</dl>

<p>
Emacs 会记录缓冲区文本中发生的所有更改操作，因此你可以撤销近期的修改。这项功能通过 <code>undo</code> 实现，该命令绑定了三组快捷键： <code>C-/</code> 、 <code>C-x u</code> 和 <code>C-_</code> 。默认情况下，执行该命令会撤销上一次的修改操作，并将光标移回修改前的位置。需要注意的是，撤销命令 <b>仅作用于缓冲区的文本更改</b> ，无法用于撤销光标的移动操作。
</p>

<p>
在支持所有按键组合 <code>Control</code> 修饰键的终端上，调用撤销功能最便捷的方式是使用 <code>C-/</code> ，因为该快捷键无需搭配 <code>Shift</code> 键。而在仅支持 ASCII 控制字符的终端中， <code>C-/</code> 这一组合键本身并不存在，但在多数此类终端中，按下 <code>C-/</code> 实际会向 Emacs 发送 <code>C-_</code> 指令；此外还有不少终端允许你在输入 <code>C-_</code> 时省略 Shift 键（等效于按下 <code>C--</code> ），因此这种方式也成了调用撤销功能的便捷选择。
</p>

<p>
尽管每次编辑命令通常会在撤销记录中生成独立的条目，但一些极为简单的命令可能会被合并为一条记录。反之，对于部分复杂命令，一条撤销记录有时仅能覆盖其操作的一部分内容。
</p>

<p>
重复按下 <code>C-/</code> （或其等效快捷键），每一次重复操作都会撤销更早的一项修改，直至撤销记录的上限。若所有已记录的修改操作都已被撤销，撤销命令会输出一条错误提示信息，且不会执行任何操作。
</p>

<p>
如需了解撤销命令的更多详情，请参见《<a href="#Undo">撤销</a>》章节。
</p>
</div>
</div>
<div id="outline-container-Basic-Files" class="outline-3">
<h3 id="Basic-Files"><span class="section-number-3">9.5.</span> 文件操作</h3>
<div class="outline-text-3" id="text-Basic-Files">
<p>
你在 Emacs 缓冲区中输入的文本，仅会在当前 Emacs 会话期间保留。若要将文本永久保存，你必须将其写入 <code>文件</code> 中。
</p>

<p>
假设你的主目录下有一个名为 <code>test.emacs</code> 的文件。若要在 Emacs 中开始编辑该文件，输入以下指令：
</p>

<div class="org-src-container">
<pre class="src src-shell">C-x C-f test.emacs RET
</pre>
</div>

<p>
在此命令中，文件名是作为 <code>C-x C-f</code> (<code>find-file</code>) 命令的参数传入的。该命令会通过 <code>minibuffer迷你缓冲区</code> 读取参数，你需要按下回车键（ <code>RET</code> ）来确认参数输入（详见《<a href="#Minibuffer">迷你缓冲区</a>》章节）。
</p>

<p>
Emacs 执行这条命令的方式是 <code>访问</code> 该文件：它会创建一个新的缓冲区，将文件内容复制到该缓冲区中，随后显示这个缓冲区以供编辑。如果你修改了缓冲区中的文本，可以按下 <code>C-x C-s</code> (<code>save-buffer</code>)，将修改后的内容写回 <code>test.emacs</code> 文件，实现文本的永久保存。在执行保存操作之前，修改后的文本仅存在于 Emacs 缓冲区中，源文件 test.emacs 不会发生任何变化。
</p>

<p>
若要新建一个文件，只需直接使用 <code>C-x C-f</code> 命令访问这个尚不存在的文件即可。此时 Emacs 会创建一个空缓冲区，你可以在其中输入需要写入该文件的文本内容。当你第一次按下 <code>C-x C-s</code> 保存这个缓冲区时，Emacs 才会在系统中实际创建该文件。
</p>

<p>
如需了解在 Emacs 中使用文件的更多详情，请参见《<a href="#Files">文件处理</a>》章节。
</p>
</div>
</div>
<div id="outline-container-Basic-Help" class="outline-3">
<h3 id="Basic-Help"><span class="section-number-3">9.6.</span> 帮助功能</h3>
<div class="outline-text-3" id="text-Basic-Help">
<p>
如果你忘记了某个按键的功能，可以按下 <code>C-h k</code> (<code>describe-key</code>)，紧接着按下想要查询的按键；例如，输入 <code>C-h k C-n</code> 就能查看 <code>C-n</code> 按键的作用。
</p>

<p>
前缀键 <code>C-h</code> 代表 “帮助” 功能。功能键 <code>F1</code> 是 <code>C-h</code> 的等效快捷键。除了 <code>C-h k</code> 之外，还有许多其他的帮助命令，可提供各类不同的帮助信息。
</p>

<p>
有关详情，请参见《<a href="#Help">帮助</a>》章节。
</p>
</div>
</div>
<div id="outline-container-Blank-Lines" class="outline-3">
<h3 id="Blank-Lines"><span class="section-number-3">9.7.</span> 空行处理</h3>
<div class="outline-text-3" id="text-Blank-Lines">
<p>
本节介绍用于插入和删除空行的专用命令与操作技巧。
</p>
<dl class="org-dl">
<dt>C-o</dt><dd>在光标后方插入一行空行 (<code>open-line</code>) 。</dd>
<dt>C-x C-o</dt><dd>将连续的多行空行删减为仅保留一行 (<code>delete-blank-lines</code>) 。</dd>
</dl>

<p>
我们此前已经了解到，按下 <code>RET</code> (<code>newline</code>) 可以新建一行文本。不过，先插入一行空行，再在空行中输入目标文本，会让操作过程更清晰易见。使用快捷键 <code>C-o</code> (<code>open-line</code>)即可轻松实现这个操作，该命令会在光标位置后方插入一个换行符，同时保持光标停留在换行符之前。执行 C-o 后，你就可以直接在新行中输入文本内容。
</p>

<p>
连续按下多次 <code>C-o</code> ，即可插入多行空行；也可以为该命令指定 <b>数字参数</b> ，以此设定需要插入的空行数量，具体用法详见《<a href="#Arguments">数字参数</a>》章节。若你设置了 <b>填充前缀</b> ，当在行首位置按下 <code>C-o</code> 时，该命令会自动在新插入的空行中添加填充前缀，相关内容详见《<a href="#Fill-Prefix">填充前缀</a>》章节。
</p>

<p>
删除多余空行的便捷方法是使用命令 <code>C-x C-o</code> (<code>delete-blank-lines</code>) 。当光标处于连续多行空行的范围内时， <code>C-x C-o</code> 会将这些空行删减为仅保留一行；当光标位于单行空行上时， <code>C-x C-o</code> 会直接删除这行空行；当光标位于非空行上时， <code>C-x C-o</code> 会删除该行之后的所有空行（如果存在的话）。
</p>
</div>
</div>
<div id="outline-container-Continuation-Lines" class="outline-3">
<h3 id="Continuation-Lines"><span class="section-number-3">9.8.</span> 续行（Continuation Lines）</h3>
<div class="outline-text-3" id="text-Continuation-Lines">
<p>
有时，缓冲区中的一行文本——即 <b>logical line逻辑行</b> ——过长而无法完全显示在窗口内，Emacs会将其显示为两行或多行 <b>screen lines 屏幕行</b> （或 <b>visual lines视觉行</b> ）。这称为 <code>line wrapping换行</code> 或 <code>continuation续行</code> ，而较长的逻辑行则被称为 <code>continued line续行</code> 。在图形界面中，Emacs 会通过左右窗口边缘的弯曲小箭头，以此标记续行的起止；在文本终端中，Emacs 则会在屏幕行的右边界显示一个反斜杠字符 ‘\‘ 来标识续行。
</p>

<p>
大多数针对 “行” 执行操作的命令，作用对象都是 <b>逻辑行</b> 而非屏幕行。例如， <code>C-k</code> 命令会删除一整行逻辑行。但前文提到的 <code>C-n</code> (<code>next-line</code>) 和 <code>C-p</code> (<code>previous-line</code>) 是两个特殊例外：它们的作用是分别将光标向下或向上移动 <b>一行屏幕行</b> （详见《<a href="#Moving-Point">光标位置调整</a>》章节）。
</p>

<p>
Emacs 也可以选择对过长的逻辑行执行 <b>truncate截断</b> 而非续行处理。截断模式下，每条逻辑行仅占用一行屏幕行；如果逻辑行长度超过窗口宽度，超出部分将不会被显示。在图形化界面中，被截断的行会在窗口右侧提示区显示一个小型直箭头；在文本终端中，该行的右边界则会显示一个美元符号 $。详见《<a href="#Line-Truncation">行截断</a>》章节。
</p>

<p>
默认情况下，续行的折行位置是窗口的右边缘。由于折行可能发生在单词的中间位置，这类续行的可读性会比较差。常规的解决方法是在逻辑行过长之前手动插入换行符，将其拆分为较短的行。如果你需要，也可以启用 <code>auto-fill-mode</code> 自动填充模式，让 Emacs 在逻辑行长度达到阈值时自动插入换行符。详见《<a href="#Filling">文本填充</a>》章节。
</p>

<p>
默认状态下，每条续行的首字符都会对齐到其所在屏幕行的行首位置。次要模式 <code>visual-wrap-prefix-mode</code> 及其全局版本 <code>global-visual-wrap-prefix-mode</code> （详见《<a href="#Minor-Modes">次要模式</a>》章节），可以让续行在显示时自动根据该行上下文生成 <b>填充前缀</b> （详见《<a href="#Fill-Prefix">填充前缀</a>》章节）并进行缩进。这些前缀仅用于显示效果，不会对缓冲区中的文本内容产生任何修改。
</p>

<p>
在某些场景下，你可能需要编辑包含大量超长逻辑行的文件，此时逐一添加换行符来拆分这些行并不现实。这种情况下，你可以启用 <b>Visual Line mode 视觉行模式</b> ，该模式支持 <b>word wrapping按单词折行</b> ：Emacs 不会在窗口右边缘的位置强制折行，而是会在最接近右边缘的单词边界处（即空格或制表符的位置）进行折行。同时，视觉行模式还会重新定义部分编辑命令（如 <code>C-a</code> 、 <code>C-n</code> 、 <code>C-k</code> ）的作用对象，使其针对 <b>屏幕行</b> 而非逻辑行执行操作。详见《<a href="#Visual-Line-Mode">视觉行模式</a>》章节。
</p>
</div>
</div>
<div id="outline-container-Position-Info" class="outline-3">
<h3 id="Position-Info"><span class="section-number-3">9.9.</span> 光标位置信息</h3>
<div class="outline-text-3" id="text-Position-Info">
<p>
本节介绍用于获取缓冲区各部分尺寸与位置信息，以及统计单词和行数的命令。
</p>

<dl class="org-dl">
<dt><code>M-x what-line</code></dt><dd>显示光标所在行的行号。</dd>
<dt><code>M-x line-number-mode</code></dt><dd></dd>

<dt><code>M-x column-number-mode</code></dt><dd>切换当前行号或列号的自动显示功能。相关内容请参考《<a href="#Optional-Mode-Line">可选模式行功能</a>》。若你希望在每一行前方显示行号，请参考《<a href="#Display-Custom">显示自定义</a>》。</dd>
<dt><code>M-=</code></dt><dd>统计并显示选区范围内的行数、句数、单词数和字符数 (<code>count-words-region</code>) 。关于选区的说明，请参考《<a href="#Mark">标记与选区</a>》。</dd>
<dt><code>M-x count-words</code></dt><dd>统计并显示整个缓冲区的行数、句数、单词数和字符数。若选区处于激活状态（详见《<a href="#Mark">标记与选区</a>》），则会改为统计选区范围内的对应数据。</dd>
<dt><code>C-x =</code></dt><dd>显示光标后一个字符的字符编码、光标在缓冲区中的字符位置，以及光标所在列号 (<code>what-cursor-position</code>) 。</dd>
<dt><code>M-x hl-line-mode</code></dt><dd>启用或关闭当前行的高亮显示功能。相关内容请参考《<a href="#Cursor-Display">光标显示</a>》。</dd>
<dt><code>M-x size-indication-mode</code></dt><dd>切换缓冲区大小的自动显示功能。相关内容请参考《<a href="#Optional-Mode-Line">可选模式行功能</a>》。</dd>
</dl>

<p>
<code>M-x what-line</code> 命令会在回显区显示当前行的行号。由于模式行本身就会显示当前行号（详见《<a href="#Mode-Line">模式行</a>》），该命令通常显得有些多余。但在缓冲区被缩窄的情况下，模式行仅会显示相对于当前可访问区域的行号（详见《<a href="#Narrowing">缓冲区缩窄</a>》）。相比之下， <code>what-line</code> 会同时显示相对于缩窄区域的行号，以及相对于整个缓冲区的行号。
</p>

<p>
<code>M-=</code> (<code>count-words-region</code>) 会在回显区输出一条消息，报告选区范围内的行数、句数、单词数和字符数（选区的概念解释见《<a href="#Mark">标记与选区</a>》）。若带上前缀参数执行 <code>C-u M-=</code> ，该命令则会统计整个缓冲区的对应数据。
</p>

<p>
<code>M-x count-words</code> 命令的功能与上述命令一致，只是调用方式不同。当选区处于激活状态时，它会统计选区数据；反之，则统计整个缓冲区的数据。
</p>

<p>
<code>C-x =</code> (<code>what-cursor-position</code>) 会显示当前光标位置的相关信息，以及该位置对应的缓冲区内容。它会在回显区输出如下格式的一行内容：
</p>

<div class="org-src-container">
<pre class="src src-shell">Char: c (99, <span style="color: #b22222;">#</span><span style="color: #b22222;">o143, #x63) point=28062 of 36168 (78%) column=53
</span>
&#23383;&#31526;&#65306;c(&#21313;&#36827;&#21046; 99&#65292;&#20843;&#36827;&#21046; <span style="color: #b22222;">#</span><span style="color: #b22222;">o143&#65292;&#21313;&#20845;&#36827;&#21046; #x63) &#20809;&#26631;&#20301;&#32622;=28062/36168&#65288;78%&#65289; &#21015;&#21495;=53</span>
</pre>
</div>

<p>
在 “Char:” 之后，显示的是光标所在位置的缓冲区字符；括号内的内容依次为该字符对应的十进制、八进制和十六进制编码。关于 <code>C-x =</code> 命令显示字符信息的更多细节，请参考《<a href="#International-Chars">国际字符集简介</a>》。“point=” 后面的数字是光标在缓冲区中的字符计数位置（缓冲区第一个字符的位置为 1，第二个为 2，以此类推）；其后的数字代表缓冲区的总字符数；括号内的百分比表示光标位置占总字符数的比例。“column=” 后面的数字是光标在窗口中的水平位置，即相对于窗口左边缘的列数。
</p>

<p>
若用户选项 <code>what-cursor-show-names</code> 的值不为 nil，则还会显示该字符在 Unicode 字符数据库中定义的名称。此时，括号内的内容会变为：
</p>

<div class="org-src-container">
<pre class="src src-shell">(99, <span style="color: #b22222;">#</span><span style="color: #b22222;">o143, #x63, LATIN SMALL LETTER C)</span>
</pre>
</div>

<p>
当缓冲区被缩窄，导致开头和结尾的部分文本暂时无法访问时， <code>C-x =</code> 会额外显示一行描述当前可访问范围的内容。例如：
</p>
<div class="org-src-container">
<pre class="src src-shell">Char: C (67, <span style="color: #b22222;">#</span><span style="color: #b22222;">o103, #x43) point=252 of 889 (28%) &lt;231-599&gt; column=0</span>
</pre>
</div>

<p>
其中，额外显示的两个数字分别代表光标允许处于的最小和最大字符位置，这两个数值之间的字符即为当前可访问的内容。相关内容请参考《<a href="#Narrowing">缓冲区缩窄</a>》。
</p>

<p>
与之相关但功能不同的还有 <code>display-line-numbers-mode</code> （详见《<a href="#Display-Custom">显示自定义</a>》）。
</p>
</div>
</div>
<div id="outline-container-Arguments" class="outline-3">
<h3 id="Arguments"><span class="section-number-3">9.10.</span> 数字参数（Numeric Arguments）</h3>
<div class="outline-text-3" id="text-Arguments">
<p>
在数学与计算机领域的术语中，参数（ <code>argument</code> ） 指的是 “传递给函数或操作的数据”。你可以为任意 Emacs 命令指定一个数值参数（也称为 prefix argument前缀参数）。部分命令会将该参数解读为重复执行的次数。例如，为 <code>C-f</code> 命令指定参数 10 时，光标会向前移动 10 个字符，而非默认的 1 个。对于这类命令，不指定参数等效于参数值为 1，而负参数则会让命令的执行方向或作用效果反向。
</p>

<p>
<b>指定数值参数的常用方式</b>
</p>

<p>
指定数值参数最简便的方法是：按住 Meta 键的同时输入数字或负号。例如：
</p>

<div class="org-src-container">
<pre class="src src-shell">M-5 C-n
</pre>
</div>

<p>
该操作会让光标向下移动 5 行。 <code>M-1</code> 、 <code>M-2</code> 等按键，以及 <code>M--</code> ，都被绑定到了对应的命令 (<code>digit-argument</code> 与 <code>negative-argument</code>)，其作用是为后续要执行的命令设置参数。不带数字的 <code>M--</code> 默认表示参数值为 -1。
</p>

<p>
若要输入多位数的参数，输入第一个数字时需要按住 Meta 键，后续数字则无需再按住。例如，要向下移动 50 行，可按下：
</p>

<div class="org-src-container">
<pre class="src src-shell">M-5 0 C-n
</pre>
</div>

<p>
需要注意的是，这个操作 <b>并不会</b> 像你可能预想的那样，先插入 5 个字符 0 再向下移动 1 行 —— 这里的 0 会被视作前缀参数的一部分。
</p>

<p>
（如果确实需要插入 5 个字符 0 该怎么做？可以按下 <code>M-5 C-u 0</code> 。其中 <code>C-u</code> 的作用是终止前缀参数的输入，让后续的按键触发你真正要执行的命令。请注意， <code>C-u</code> 的这个用法仅适用于此场景，其常规作用见下文说明。）
</p>

<p>
除了 M-1、M-2 这种方式，还可以通过 <code>C-u</code> (<code>universal-argument</code>) 搭配数字来指定数值参数；若要指定负参数，则输入 <code>C-u</code> 后接负号与数字即可。不带数字的负号默认表示参数值为 -1。
</p>

<p>
<b>C-u 的特殊用法</b>
</p>

<p>
单独按下 <code>C-u</code> 有一个特殊含义 ——“ <b>4 倍执行</b> ”：它会将后续命令的默认执行次数乘以 4。连续按下两次 C-u（即 <code>C-u C-u</code> ）则是乘以 16。例如， <code>C-u C-u C-f</code> 会让光标向前移动 16 个字符。其他实用的组合操作包括：
</p>
<ul class="org-ul">
<li><code>C-u C-n</code> ：向下移动 4 行</li>
<li><code>C-u C-u C-n</code> ：向下移动 16 行（约占屏幕的一部分）</li>
<li><code>C-u C-u C-o</code> ：插入 16 个空行</li>
<li><code>C-u C-k</code> ：删除 4 行文本</li>
</ul>

<p>
<b>为自插入字符指定数值参数</b>
</p>

<p>
在输入一个自插入字符之前指定数值参数，可以一次性插入该字符的多个副本。如果该字符不是数字，操作会非常直观：
</p>
<ul class="org-ul">
<li>例如 <code>C-u 6 4 a</code> 会插入 64 个字符 a。</li>
<li>但这个方法不适用于插入数字字符 —— <code>C-u 6 4 1</code> 会被识别为指定参数值为 641，而非插入 64 个字符 1。若要实现后者，需要用另一个 <code>C-u</code> 分隔参数与要插入的数字，例如按下 <code>C-u 6 4 C-u 1</code> ，即可插入 64 个字符 1。</li>
</ul>

<p>
<b>命令对数值参数的不同解读方式</b>
</p>

<ul class="org-ul">
<li><p>
忽略参数值，仅判断是否存在参数
</p>

<p>
部分命令只关心是否传入了参数，而不关注参数的具体数值。例如命令 <code>M-q</code> (<code>fill-paragraph</code> 段落重排)：无参数时仅对段落进行换行整理；有参数时则会同时对文本进行两端对齐处理。（关于 <code>M-q</code> 的更多信息，请参考《<a href="#Filling">文本填充</a>》章节）。对于这类命令，只需按下一次 <code>C-u</code> 来指定参数即可。
</p></li>

<li><p>
参数作为重复次数，但无参数时执行特殊逻辑
</p>

<p>
部分命令会将参数值作为重复次数，但无参数时会执行特殊操作。例如命令 <code>C-k</code> (<code>kill-line</code>) ：传入参数 n 时，会删除 n 行文本（包含行尾的换行符）；但无参数时的行为特殊 —— 它会删除光标到下一个换行符之间的文本；若光标恰好位于行尾，则直接删除该行的换行符。因此，连续执行两次无参数的 <code>C-k</code> 可以删除一行非空文本，效果等同于执行带参数 1 的 <code>C-k</code> 命令。（关于 <code>C-k</code> 的更多信息，请参考《<a href="#Killing">文本的删除与移动</a>》章节）。
</p></li>

<li><p>
特殊的参数处理规则
</p>

<p>
少数命令会将单独的 <code>C-u</code> 与普通数值参数区别对待，还有极少数命令会将仅含负号的参数（ <code>M--</code> ）与参数值 -1 区别对待。这些特殊情况会在对应命令的说明中提及；设计这些特殊规则的目的是让单个命令的使用更便捷，相关细节可查阅命令的文档字符串。
</p></li>
</ul>

<p>
<b>术语说明</b>
</p>

<p>
我们使用 <code>prefix argument 前缀参数</code> 这一术语，是为了强调这类参数需要在命令执行之前输入，以此区分迷你缓冲区参数（参考《<a href="#Minibuffer">迷你缓冲区</a>》章节）—— 这类参数需要在调用命令之后输入。
</p>

<p>
在图形化界面中， <code>C-0</code> 、 <code>C-1</code> 等按键的作用与 <code>M-0</code> 、 <code>M-1</code> 等完全相同。
</p>
</div>
</div>
<div id="outline-container-Repeating" class="outline-3">
<h3 id="Repeating"><span class="section-number-3">9.11.</span> 重复执行命令</h3>
<div class="outline-text-3" id="text-Repeating">
<p>
许多简单命令（例如通过单个按键或 <code>M-x</code> 命令名 <code>RET</code> 调用的命令），都可以通过为其指定一个用作 <b>重复次数</b> 的数值参数来重复执行（详见《<a href="#Arguments">数值参数</a>》章节）。但如果待重复的命令需要提示输入内容，或者会以其他方式使用数值参数，这种方法就不再适用。
</p>

<p>
命令 <code>C-x z</code> (<code>repeat</code>) 提供了另一种多次重复执行 Emacs 命令的方式。该命令会重复执行 <b>上一条</b> Emacs 命令，无论这条命令原本是什么。重复执行时会沿用该命令上一次使用的参数，不会在每次重复时重新读取新参数。
</p>

<p>
若要将命令重复执行多次，只需在按下 <code>C-x z</code> 后继续输入更多的 <code>z</code> ：每多输入一个 <code>z</code> ，命令就会再重复执行一次。当你输入 <code>z</code> 以外的字符，或按下鼠标按键时，重复执行的操作就会终止。
</p>

<p>
举个例子，假设你按下 <code>C-u 2 0 C-d</code> 删除了 20 个字符。此时你可以通过输入 <code>C-x z z z</code> ，将这条删除命令（包含它的参数）再重复执行 3 次，总共删除 80 个字符。其中第一次的 <code>C-x z</code> 会让命令重复执行 1 次，后续每多输入一个 <code>z</code> ，就会再重复执行 1 次。
</p>

<p>
你还可以激活 <code>repeat-mode</code> 重复模式，该模式允许你通过输入单个字符，来重复执行那些绑定在 <b>两个或更多按键组合</b> 上的命令。例如，在你按下 <code>C-x u</code> （ <code>undo</code> 详见《<a href="#Undo">撤销</a>》章节）撤销最近一次编辑操作后，可以继续输入 <code>u u u…</code> 来撤销更多次编辑。同理，若要切换到相隔多个窗口的目标窗口，你可以直接输入 <code>C-x o o o…</code> ，而无需重复按下完整的 <code>C-x o C-x o C-x o…</code> 组合键。
</p>

<p>
这个功能的实现逻辑是：当你按下调用命令的完整按键序列后，Emacs 会进入一个 <b>临时重复模式</b> ；可供重复执行的单键快捷操作会显示在回显区中。
</p>

<p>
并非所有命令都支持在 <code>repeat-mode</code> 重复模式下重复执行；你可以输入 <code>M-x describe-repeat-maps RET</code> 查看支持该功能的命令列表。
</p>

<p>
临时重复模式启用的单键快捷操作 <b>不必完全相同</b> ：例如，在你按下 <code>C-x {</code> 后，输入 {、}、^、v 中的任意一个字符，或是以任意顺序混合输入这些字符，都能以对应的方式调整选中窗口的大小。类似地，在按下 <code>M-g n</code> 或 <code>M-g p</code> 后，以任意顺序输入一系列 n 或 p，就能重复执行 <code>next-error</code> 下一个错误和 <code>previous-error</code> 上一个错误命令，在 <code>*compilation*</code> （编译）或 <code>*grep*</code> （全局搜索）缓冲区中进行导航（详见《<a href="#Compilation-Mode">编译模式</a>》章节）。
</p>

<p>
当你输入除重复命令绑定按键之外的任意按键时，临时重复模式会立即退出，且你输入的这个按键会按常规逻辑执行对应的操作。你也可以自定义一个专用按键，使其仅用于退出临时重复模式，而不执行该按键本身对应的命令。要实现这个功能，只需将用户选项 <code>repeat-exit-key</code> 自定义为目标按键即可；一个很自然的选择是将 <code>RET</code> （回车键）设为退出键。
</p>

<p>
最后，你还可以设置让重复链在闲置一段时间后自动中断：将用户选项 <code>repeat-exit-timeout</code> 自定义为指定的闲置时长（单位为秒），超过这个时长后，临时重复模式就会自动关闭。
</p>
</div>
</div>
</section>
<section id="outline-container-Minibuffer" class="outline-2">
<h2 id="Minibuffer"><span class="section-number-2">10.</span> 迷你缓冲区（Minibuffer）</h2>
<div class="outline-text-2" id="text-Minibuffer">
<p>
<code>minibuffer</code> 迷你缓冲区是 Emacs 命令读取复杂参数的区域，例如文件名、缓冲区名称、Emacs 命令名或 Lisp 表达式。我们将其称为 “minibuffer迷你缓冲区”，是因为它是一块占用屏幕空间较小的专用缓冲区。你可以在迷你缓冲区中使用常规的 Emacs 编辑命令，对参数文本进行编辑。
</p>

<ul class="org-ul">
<li><a href="#Basic-Minibuffer">使用迷你缓冲区</a></li>
<li><a href="#Minibuffer-File">文件名专用迷你缓冲区</a></li>
<li><a href="#Minibuffer-Edit">迷你缓冲区中的编辑操作</a></li>
<li><a href="#Completion">自动补全（Completion）</a></li>
<li><a href="#Minibuffer-History">迷你缓冲区历史记录</a></li>
<li><a href="#Repetition">重复执行迷你缓冲区命令</a></li>
<li><a href="#Passwords">输入密码</a></li>
<li><a href="#Yes-or-No-Prompts">确认提示（Yes or No Prompts）</a></li>
</ul>
</div>
<div id="outline-container-Basic-Minibuffer" class="outline-3">
<h3 id="Basic-Minibuffer"><span class="section-number-3">10.1.</span> 使用迷你缓冲区</h3>
<div class="outline-text-3" id="text-Basic-Minibuffer">
<p>
当迷你缓冲区处于激活状态时，它会显示在回显区中，且带有一个光标。迷你缓冲区的开头会显示一段提示信息，通常以冒号结尾。这段提示会说明当前需要输入的参数类型，以及该参数的用途。提示信息会使用 <code>minibuffer-prompt</code> 这个显示样式进行高亮（详见《<a href="#Faces">文本显示样式</a>》章节）。
</p>

<p>
输入迷你缓冲区参数最简便的方式是：直接输入文本内容，然后按下回车键（ <code>RET</code> ）提交参数并退出迷你缓冲区。此外，你也可以按下 <code>C-g</code> 键，通过取消当前请求参数的命令来退出迷你缓冲区（详见《<a href="#Quitting">退出与终止</a>》章节）。
</p>

<p>
在某些情况下，提示信息中会在冒号前的括号内显示一个默认参数。如果你直接按下回车键，程序就会使用这个默认参数执行命令。例如，读取缓冲区名称的命令通常会将某个缓冲区名称设为默认值；你按下回车键后，命令就会对这个默认缓冲区执行操作。你可以通过用户选项 <code>minibuffer-default-prompt-format</code> 来自定义默认参数的显示方式。
</p>

<p>
如果你启用了"Minibuffer Electric Default 迷你缓冲区动态默认模式" （这是一个全局次要模式），那么一旦你修改了迷你缓冲区中的内容，Emacs 就会自动隐藏默认参数（因为此时按下回车键提交的不再是该默认值）。当你恢复迷你缓冲区的原始文本内容后，提示信息会再次显示默认参数。要启用这个次要模式，可输入 <code>M-x minibuffer-electric-default-mode</code> 执行命令。
</p>

<p>
由于迷你缓冲区显示在回显区中，它的使用可能会与回显区的其他用途产生冲突。如果迷你缓冲区处于激活状态时，系统输出了错误信息或提示信息，该信息会以方括号包裹的形式，显示在迷你缓冲区文本的后方，持续几秒钟后自动消失；或者在你输入任意内容后立即消失。在迷你缓冲区的使用过程中，Emacs 不会回显你按下的按键。
</p>

<p>
使用迷你缓冲区时，你可以切换到其他frame(框架)，方便查阅需要输入的文本内容（详见《<a href="#Frame-Commands">框架命令</a>》章节）。默认情况下，处于激活状态的迷你缓冲区会跟随切换到新的frame。如果你将用户选项 <code>minibuffer-follows-selected-frame</code> 的值设为 nil，迷你缓冲区就会停留在最初打开它的frame，你必须切换回该frame，才能完成（或终止）当前命令。若将该选项的值设为一个既非 nil 也非 t 的值，那么只有在当前命令中打开了递归迷你缓冲区后（详见《Emacs Lisp 手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Recursive-Mini.html#Recursive-Mini">递归迷你缓冲区</a>》章节），迷你缓冲区才会跟随切换frame。这个选项的主要作用是让 Emacs 的行为与 28.1 版本之前的旧逻辑保持（大致）一致。请注意，当你最终完成迷你缓冲区的操作后，命令的执行效果始终会作用于最初打开迷你缓冲区的那个frame。唯一的例外情况是：如果该frame已经不存在，命令才会在当前选中的frame(框架)中执行。
</p>
</div>
</div>
<div id="outline-container-Minibuffer-File" class="outline-3">
<h3 id="Minibuffer-File"><span class="section-number-3">10.2.</span> 文件名专用迷你缓冲区</h3>
<div class="outline-text-3" id="text-Minibuffer-File">
<p>
诸如 <code>C-x C-f</code> (<code>find-file</code>) 这类命令，会通过迷你缓冲区读取文件名参数（详见《<a href="#Basic-Files">文件</a>》章节）。当迷你缓冲区用于读取文件名时，其初始文本通常会以一个斜杠结尾，这段文本即为默认目录。例如，迷你缓冲区可能会显示如下内容：
</p>

<div class="org-src-container">
<pre class="src src-shell">Find file: /u2/emacs/src/
</pre>
</div>

<p>
这里的 'Find file:' 是提示信息，'<i>u2/emacs/src</i>' 是默认目录。此时若输入 <code>buffer.c</code> 作为参数，就代表指定了文件 <code>/u2/emacs/src/buffer.c</code> 。关于默认目录的更多信息，请参考《<a href="#File-Names">文件名</a>》章节。
</p>

<p>
你可以按下 <code>M-n</code> 来调取其他可选的文件名默认值，相关操作详见《<a href="#Minibuffer-History">迷你缓冲区历史记录</a>》章节。
</p>

<p>
你可以使用 <code>..</code> 来指定上级目录下的文件：路径 <code>/a/b/../foo.el</code> 等价于 <code>/a/foo.el</code> 。此外，也可以按下 <code>M-DEL</code> 来反向删除目录名称（详见《<a href="#Words">单词操作</a>》章节）。
</p>

<p>
若要指定一个完全不同目录下的文件，你可以按下 <code>C-a C-k</code> 清除整个默认目录文本（详见《<a href="#Minibuffer-Edit">迷你缓冲区中的编辑操作</a>》章节）。或者你也可以忽略默认目录，直接在其后方输入以斜杠或波浪号开头的绝对文件名。例如，你可以通过以下方式指定文件 <code>/etc/termcap</code> ：
</p>

<div class="org-src-container">
<pre class="src src-shell">Find file: /u2/emacs/src//etc/termcap
</pre>
</div>

<p>
连续两个斜杠会让 Emacs 忽略这对斜杠中第二个斜杠之前的所有内容。在上面的例子中， <code>/u2/emacs/src/</code> 会被忽略，因此你实际指定的参数是 <code>/etc/termcap</code> 。如果终端支持的话，文件名中被忽略的部分会显示为灰色。（若要关闭该灰色显示功能，可执行命令 <code>M-x file-name-shadow-mode</code> 关闭文件名遮蔽模式。）
</p>

<p>
在补全远程文件名时（详见《<a href="#Remote-Files">远程文件</a>》章节），连续两个斜杠的行为会略有不同：它只会让 Emacs 忽略文件名部分，保留其余内容（如连接方式、主机地址、用户名等）不变。连续输入三个斜杠，则会忽略远程文件名中的所有内容。相关细节请参考《<a href="https://www.gnu.org/software/emacs/manual/html_node/tramp/index.html">Tramp 手册</a>》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/tramp/File-name-completion.html#File-name-completion">文件名补全</a>》小节。
</p>

<p>
Emacs 会将 <code>~/</code> 解析为你的主目录。因此路径 <code>~/foo/bar.txt</code> 指的是，位于主目录下 <code>foo</code> 目录中的文件 <code>bar.txt</code> 。除此之外， <code>~user-id/</code> 表示登录名为 <code>user-id</code> 的用户对应的主目录。波浪号之前的所有前置目录名称都会被忽略：例如路径 <code>/u2/emacs/~/foo/bar.txt</code> 等价于 <code>~/foo/bar.txt</code> 。
</p>

<p>
在 MS-Windows 和 MS-DOS 操作系统中，用户不一定都有主目录，因此 Emacs 会采用多种替代方案。关于 MS-Windows 系统的相关配置，请参考《<a href="#Windows-HOME">MS-Windows中的 HOME 目录与启动目录</a>》章节；关于 MS-DOS 操作系统的配置，请参考《<a href="#MS_002dDOS-File-Names">MS-DOS 操作系统中的文件名</a>》章节。在这些系统中， <code>~user-id/</code> 格式仅对当前用户生效，也就是说，只有当用户标识与当前登录用户的用户名一致时，该格式才能正常解析。
</p>

<p>
若要阻止 Emacs 在读取文件名时自动插入默认目录，可将变量 <code>insert-default-directory</code> 的值设为 nil。设置后，迷你缓冲区的初始状态会变为空白，但相对文件名参数的解析仍然会基于原有的默认目录。
</p>

<p>
你同样可以在迷你缓冲区中输入远程文件名，相关内容请参考《<a href="#Remote-Files">远程文件</a>》章节。
</p>
</div>
</div>
<div id="outline-container-Minibuffer-Edit" class="outline-3">
<h3 id="Minibuffer-Edit"><span class="section-number-3">10.3.</span> 迷你缓冲区中的编辑操作</h3>
<div class="outline-text-3" id="text-Minibuffer-Edit">
<p>
迷你缓冲区本质上也是一个 Emacs 缓冲区，只是特性比较特殊，你可以使用常规的 Emacs 命令编辑参数文本。（但提示信息是 <code>read-only</code> 只读的，无法修改。）
</p>

<p>
由于在迷你缓冲区中按下 <code>RET</code> 键的作用是提交参数，因此无法用它来插入换行符。若要插入换行，你可以按下 <code>C-q C-j</code> ，这个组合键会插入一个 <code>C-j</code> 控制字符，其功能与换行符完全等价（详见《<a href="#Inserting-Text">插入文本</a>》章节）。除此之外，也可以使用 <code>C-o</code> (<code>open-line</code>) 命令来实现换行（详见《<a href="#Blank-Lines">空行操作</a>》章节）。
</p>

<p>
在迷你缓冲区中，按键 <code>TAB</code> 、 <code>SPC</code> 和 <code>?</code> 通常会被绑定到补全命令，让你无需手动输入完整文本，就能快速补全目标内容，相关内容详见《<a href="#Completion">补全功能</a>》章节。和 <code>RET</code> 键类似，你可以通过 <code>C-q</code> 来插入 <code>TAB</code> 、 <code>SPC</code> 或 <code>?</code> 这些字符本身。如果希望按下 <code>SPC</code> 和 <code>?</code> 时直接插入字符，而非触发补全功能，可以在初始化文件中添加以下配置：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(keymap-unset minibuffer-local-completion-map <span style="color: #8b2252;">"SPC"</span>)
(keymap-unset minibuffer-local-completion-map <span style="color: #8b2252;">"?"</span>)
</pre>
</div>

<p>
为了操作便利，在迷你缓冲区中按下 <code>C-a</code> ( <code>move-beginning-of-line</code> 移动到行首) 时，光标会跳到参数文本的开头，而非提示信息的开头。例如，你可以通过 <code>C-a C-k</code> 的组合操作快速清除整个参数文本。
</p>

<p>
当迷你缓冲区处于激活状态时，回显区的表现和普通 Emacs 窗口基本一致。比如，你可以按下 <code>C-x o</code> 切换到其他窗口，在那里编辑文本后，再切回迷你缓冲区窗口继续输入参数。你甚至可以在其他窗口中剪切文本，回到迷你缓冲区后将其粘贴到参数中。不过迷你缓冲区窗口也存在一些限制，比如无法对其执行拆分操作（详见《<a href="#Windows">多窗口</a>》章节）。
</p>

<p>
默认情况下，迷你缓冲区窗口只占用一行屏幕空间。但如果输入的文本超过一行，它会自动扩展高度以容纳内容。变量 <code>resize-mini-windows</code> 用于控制迷你缓冲区的自动调整行为，其默认值为 <code>grow-only</code> ，也就是前面所说的 “只自动扩展，不自动收缩”。若将该变量设为 <code>t</code> ，当删除迷你缓冲区中的部分文本行后，窗口也会自动收缩，最小会缩至一行高度。若设为 nil，迷你缓冲区窗口不会自动调整大小，但你可以用常规的窗口调整命令手动修改其尺寸（详见《<a href="#Windows">多窗口</a>》章节）。
</p>

<p>
变量 <code>max-mini-window-height</code> 用于限制迷你缓冲区窗口的最大高度。若将其设为浮点数，代表窗口最大高度为框架高度的对应比例；若设为整数，则代表窗口最大可占用的行数；若设为 <code>nil</code> ，则禁用迷你缓冲区的自动调整功能。该变量的默认值为 0.25。
</p>

<p>
当某些命令在其他窗口中显示帮助文本时，你可以在迷你缓冲区中按下 <code>C-M-v</code> 来滚动查看这些帮助信息。同时也支持使用 <code>M-PageUp</code> 和 <code>M-PageDown</code> （等价于 <code>M-prior</code> 和 <code>M-next</code> ）来滚动，这个功能在查看冗长的补全候选列表时尤为实用（详见《<a href="#Other-Window">使用其他窗口</a>》章节）。
</p>

<p>
默认情况下，Emacs 不允许在迷你缓冲区处于激活状态时，调用那些同样会使用迷你缓冲区的命令。若要启用这一功能，需要将变量 <code>enable-recursive-minibuffers</code> 的值设为 <code>t</code> 。当迷你缓冲区被递归调用时，你可能还需要启用 <code>minibuffer-depth-indicate-mode</code> ，让提示信息中显示当前的递归深度。
</p>

<p>
迷你缓冲区处于激活状态时，通常会进入 <code>minibuffer-mode</code> （迷你缓冲区模式）。这是一个 Emacs 内部模式，没有额外的特殊功能。
</p>

<p>
当迷你缓冲区未激活时，会处于 <code>minibuffer-inactive-mode</code> （迷你缓冲区非激活模式），此时在该区域单击鼠标左键，会打开 <code>*Messages*</code> 缓冲区。如果你的迷你缓冲区有专用的框架，Emacs 还会在该区域识别部分快捷键，例如按下 <code>n</code> 键可以新建一个框架。
</p>
</div>
</div>
<div id="outline-container-Completion" class="outline-3">
<h3 id="Completion"><span class="section-number-3">10.4.</span> 自动补全（Completion）</h3>
<div class="outline-text-3" id="text-Completion">
<p>
你通常可以借助一项名为 <b>completion补全</b> 的功能来辅助输入参数。该功能的作用是：在你输入部分参数文本后，Emacs 能够根据已输入的内容，自动补全剩余的全部或部分文本。
</p>

<p>
当补全功能可用时，迷你缓冲区中的部分按键（通常是 <code>TAB</code> 、 <code>RET</code> 和 <code>SPC</code> ）会被重新绑定为专用的补全命令（详见《<a href="#Completion-Commands">补全命令</a>》章节）。这些命令会依据当前请求参数的命令所提供的补全候选列表，尝试补全迷你缓冲区中的文本。你通常可以按下 <code>?</code> 来查看完整的补全候选列表。
</p>

<p>
尽管补全功能通常在迷你缓冲区中使用，但该功能有时也可在普通缓冲区中启用。相关内容详见《<a href="#Symbol-Completion">符号名称补全</a>》章节。
</p>
<ul class="org-ul">
<li><a href="#Completion-Example">补全示例</a></li>
<li><a href="#Completion-Commands">补全命令</a></li>
<li><a href="#Completion-Exit">补全退出</a></li>
<li><a href="#Completion-Styles">补全候选的选择规则</a></li>
<li><a href="#Completion-Options">补全选项</a></li>
</ul>
</div>
<div id="outline-container-Completion-Example" class="outline-4">
<h4 id="Completion-Example"><span class="section-number-4">10.4.1.</span> 补全示例</h4>
<div class="outline-text-4" id="text-Completion-Example">
<p>
通过一个简单示例或许能更好地理解补全功能。 <code>M-x</code> 命令会通过迷你缓冲区读取待执行的命令名，因此补全功能的实现逻辑是：将迷你缓冲区中的输入文本与已有的 Emacs 命令名进行匹配。假设你希望执行 <code>auto-fill-mode</code> （自动填充模式）命令，既可以直接输入 <code>M-x auto-fill-mode RET</code> 来调用，不过使用补全功能会更便捷。
</p>

<p>
若你按下 <code>M-x a u TAB</code> ，此时 TAB 键会查找以 “au” 开头的补全候选项（本例中即命令名）。符合条件的命令有多个，包括 <code>auto-fill-mode</code> 和 <code>autoconf-mode</code> 等，但这些命令名的共同前缀是 “auto”，因此迷你缓冲区中的 “au” 会补全为 “auto”。（在你的 Emacs 会话中，可能还定义了更多命令。例如，若存在一个名为 <code>authorize-me</code> 的命令，Emacs 最多只能补全到 “aut” 这一步。）
</p>

<p>
如果立即再次按下 <code>TAB</code> ，由于无法确定下一个字符（可能是 “-”、“a” 或 “c”），TAB 不会添加任何字符，而是会在另一个窗口中显示所有可能的补全候选列表。
</p>

<p>
接下来输入 “-f”，此时迷你缓冲区中的内容为 “auto-f”，而以该字符串开头的命令名只有 <code>auto-fill-mode</code> 。若此时按下 <code>TAB</code> ，补全功能会将参数剩余部分 “auto-fill-mode” 填充到迷你缓冲区中。
</p>

<p>
由此可见，只需输入 <code>a u TAB - f TAB</code> ，就能完成 "auto-fill-mode" 命令名的输入。
</p>

<p>
即便光标不在迷你缓冲区的末尾， <code>TAB</code> 键同样可以触发补全。这种情况下，补全功能会同时在光标位置和迷你缓冲区末尾填充文本。例如，你先输入 <code>M-x autocm</code> ，再按下 <code>C-b</code> 将光标移到 “m” 之前，此时按下 <code>TAB</code> ，Emacs 会在光标位置插入文本 “onf-”，并在迷你缓冲区末尾插入 “ode”，最终迷你缓冲区中的内容会变为 “autoconf-mode”。
</p>
</div>
</div>
<div id="outline-container-Completion-Commands" class="outline-4">
<h4 id="Completion-Commands"><span class="section-number-4">10.4.2.</span> 补全命令</h4>
<div class="outline-text-4" id="text-Completion-Commands">
<p>
以下是启用补全功能时，迷你缓冲区（minibuffer）中定义的 <code>list of the completion补全命令列表</code> 。
</p>

<dl class="org-dl">
<dt><code>TAB</code></dt><dd>尽可能补全迷你缓冲区中的文本；若无法补全，则显示所有可能的补全候选列表</dd>
<dt><code>SPC</code></dt><dd>（空格键）  补全光标位置之前的文本，仅补全到下一个连字符或空格处</dd>
<dt><code>C-x UP</code></dt><dd>调用迷你缓冲区历史记录进行文本补全</dd>
<dt><code>C-x DOWN</code></dt><dd>调用迷你缓冲区默认值进行文本补全</dd>
<dt><code>RET</code></dt><dd>（回车键） 将迷你缓冲区中的文本作为参数提交，提交前可能会先执行补全操作。详情参见《<a href="#Completion-Exit">补全退出</a>》</dd>
<dt><code>?</code></dt><dd>显示补全候选列表及若干实用快捷键绑定 (<code>minibuffer-completion-help</code>)</dd>
<dt><code>M-DOWN</code></dt><dd></dd>

<dt><code>M-UP</code></dt><dd>遍历补全候选列表</dd>
<dt><code>M-v</code></dt><dd></dd>

<dt><code>M-g M-c</code></dt><dd></dd>

<dt><code>PageUp</code></dt><dd></dd>

<dt><code>prior</code></dt><dd>在迷你缓冲区中操作时，切换到显示补全列表的窗口</dd>
<dt><code>RET</code></dt><dd>在补全缓冲区中， 选中光标所在位置的补全候选</dd>
<dt><code>mouse-1</code></dt><dd></dd>

<dt><code>mouse-2</code></dt><dd>（鼠标按键）   在补全缓冲区中，点击鼠标选中对应位置的补全候选</dd>
<dt><code>TAB</code></dt><dd></dd>

<dt><code>RIGHT</code></dt><dd></dd>

<dt><code>n</code></dt><dd>在补全缓冲区中， 移动到下一个补全候选</dd>
<dt><code>S-TAB</code></dt><dd></dd>

<dt><code>LEFT</code></dt><dd></dd>

<dt><code>p</code></dt><dd>在补全缓冲区中，移动到上一个补全候选</dd>
<dt><code>q</code></dt><dd>关闭补全窗口，切换回迷你缓冲区窗口</dd>
<dt><code>z</code></dt><dd>关闭并删除补全缓冲区及其对应的窗口</dd>
</dl>

<p>
<code>TAB</code> (<code>minibuffer-complete</code>) 是最基础的补全命令。它会搜索所有与迷你缓冲区现有文本匹配的补全候选，并尽可能完成补全。补全候选的筛选规则详见《<a href="#Completion-Styles">补全候选的选择方式</a>》。
</p>

<p>
<code>SPC</code> (<code>minibuffer-complete-word</code>) 的补全逻辑与 <code>TAB</code> 类似，但仅补全到下一个连字符或空格为止。例如：若迷你缓冲区中已有文本 'auto-f'，按下空格键后，补全结果为 'auto-fill-' （而非完整的 'auto-fill-mode'）；再次按下空格键，才会补全为完整的 'auto-fill-mode' 。注意：该命令不适用于包含空格的参数类型（如文件名）。
</p>

<p>
当 <code>TAB</code> 或 <code>SPC</code> 无法完成补全时，会在新窗口中显示匹配的补全候选列表（若存在候选），同时展示若干用于选择候选的实用命令。你也可以按下 <code>?</code> (<code>minibuffer-completion-help</code>) ，主动调出补全列表和帮助信息。补全列表的相关操作命令如下：
</p>

<p>
在迷你缓冲区或补全缓冲区中，按下 <code>M-DOWN</code> (<code>minibuffer-next-completion</code>) 和 <code>M-UP</code> (<code>minibuffer-previous-completion</code>) 可遍历补全缓冲区中的候选。当变量 <code>minibuffer-completion-auto-choose</code> 设为非 nil（默认配置）时，遍历操作会同时将当前候选插入迷你缓冲区；若该变量设为 <code>nil</code> ，可按下 <code>M-RET</code> (<code>minibuffer-choose-completion</code>) 将候选插入迷你缓冲区。默认情况下，按下 <code>M-RET</code> 会退出迷你缓冲区；若添加前缀参数（ <code>C-u M-RET</code> ），则仅插入候选，不退出迷你缓冲区。
</p>

<p>
在迷你缓冲区中按下 <code>M-v</code> ，可切换到显示补全列表的窗口 (<code>switch-to-completions</code>)，方便后续操作。 <code>PageUp</code> 、 <code>prior</code> 、 <code>M-g M-c</code> 也可实现该功能。你也可以通过其他方式切换窗口（详见《<a href="#Windows">多窗口操作</a>》）。
</p>

<p>
在补全缓冲区中，按下 <code>RET</code> 可选中光标所在候选 (<code>choose-completion</code>) ；点击鼠标左键（ <code>mouse-1</code> ）或中键（ <code>mouse-2</code> ）也可选中对应位置的候选。若添加前缀参数（ <code>C-u RET</code> ），则仅将光标所在候选插入迷你缓冲区，不退出迷你缓冲区，便于重新选择其他候选。
</p>

<p>
在补全缓冲区中，按下 <code>TAB</code> 、 <code>RIGHT</code> 或 <code>n</code> 可移动到下一个补全候选 (<code>next-completion</code>) ；按下 <code>S-TAB</code> 、 <code>LEFT</code> 或 <code>p</code> 可移动到上一个补全候选 (<code>previous-completion</code>) 。
</p>

<p>
你还可以基于当前命令的迷你缓冲区输入历史完成补全：按下 <code>C-x UP</code> (<code>minibuffer-complete-history</code>) ，其功能与 <code>TAB</code> 类似，但补全候选来源为迷你缓冲区历史记录，而非默认候选池。类似地， <code>C-x DOWN</code> (<code>minibuffer-complete-defaults</code>) 会调用当前命令提供的默认输入项进行补全。
</p>

<p>
最后，按下 <code>q</code> 会关闭补全窗口并切换回迷你缓冲区窗口 (<code>quit-window</code>) ；按下 <code>z</code> 会直接关闭并删除补全缓冲区及其窗口 (<code>kill-current-buffer</code>)。
</p>

<p>
若将变量 <code>minibuffer-visible-completions</code> 自定义为非 nil 值，箭头键的绑定功能会发生变化：此时箭头键不再用于移动迷你缓冲区中的光标，而是像默认的元箭头键（M-方向箭头）一样遍历补全候选；同时，按下 <code>RET</code> 会选中当前候选（功能等同于默认的 <code>M-RET</code> ）。按下 <code>C-g</code> 会隐藏补全窗口，但保持迷你缓冲区处于激活状态，你可以继续在提示符后输入内容。
</p>
</div>
</div>
<div id="outline-container-Completion-Exit" class="outline-4">
<h4 id="Completion-Exit"><span class="section-number-4">10.4.3.</span> 补全退出</h4>
<div class="outline-text-4" id="text-Completion-Exit">
<p>
当一个命令通过带补全功能的迷你缓冲区读取参数时，它同时会控制你按下 <code>RET</code> 回车键 (<code>minibuffer-complete-and-exit</code>) 提交参数时的行为。该行为分为四种类型：
</p>

<ul class="org-ul">
<li><p>
<code>Strict completion严格补全</code> 仅接受精确匹配的补全结果。只有当迷你缓冲区中的文本本身是精确匹配项，或者可以补全为某个精确匹配项时，按下 <code>RET</code> 回车键才会退出迷你缓冲区。反之，Emacs 会拒绝退出迷你缓冲区；它会尝试执行补全操作，若无法完成补全，则会在迷你缓冲区文本后短暂显示"[Not match]"。（你仍然可以按下 <code>C-g</code> 取消该命令，从而退出迷你缓冲区。）
</p>

<p>
使用这种行为的命令示例是 <code>M-x</code> ，因为对它而言，接受一个不存在的命令名是没有意义的。
</p></li>

<li><p>
<code>Cautious completion谨慎补全</code> 的行为与严格补全类似，区别在于只有当文本本身已是精确匹配项时，按下 <code>RET</code> 回车键才会退出。如果文本可以补全为某个精确匹配项，按下 <code>RET</code> 回车键只会执行补全操作，但不会立即退出；你需要再次按下 <code>RET</code> 回车键才能退出迷你缓冲区。
</p>

<p>
例如，读取必须已存在的文件对应的文件名时，就会使用谨慎补全。
</p></li>

<li><code>Permissive completion宽松补全</code> 允许输入任意内容；补全候选项仅作为参考建议。按下 <code>RET</code> 回车键不会触发补全操作，只会直接提交你当前输入的内容作为参数。</li>

<li><p>
<code>Permissive completion with confirmation带确认的宽松补全</code> 的行为与宽松补全基本一致，仅存在一个例外情况：当你按下制表键（ <code>TAB</code> ）并将文本补全至某个中间状态（即尚未形成精确匹配的补全结果）时，若紧接着按下 <code>RET</code> 回车键，系统不会直接提交该参数。取而代之的是，Emacs 会在文本后短暂显示"[Confirm]"以要求你确认；再次按下 <code>RET</code> 回车键，即可确认并提交该文本。这种机制可以避免一个常见误操作 —— 用户在未意识到 <code>TAB</code> 制表键未完成预期补全的情况下，误按 <code>RET</code> 回车键提交内容。
</p>

<p>
你可以通过自定义变量 <code>confirm-nonexistent-file-or-buffer</code> 来调整上述确认行为。该变量的默认值为 <code>after-completion</code> ，对应上述的默认行为。若将其值改为 <code>nil</code> ，Emacs 将不再要求确认，直接退化为宽松补全模式。若将其值设为其他非 nil 的值，无论前序操作是否为按下 <code>TAB</code> 制表键，Emacs 都会要求你进行确认。
</p>

<p>
大多数读取文件名的命令（如 <code>C-x C-f</code> ）和读取缓冲区名的命令（如 <code>C-x b</code> ），都会采用这种带确认的宽松补全行为。
</p></li>
</ul>
</div>
</div>
<div id="outline-container-Completion-Styles" class="outline-4">
<h4 id="Completion-Styles"><span class="section-number-4">10.4.4.</span> 补全候选的选择规则</h4>
<div class="outline-text-4" id="text-Completion-Styles">
<p>
补全命令的工作原理是，从一长串可能的补全候选项中，筛选出与你在迷你缓冲区中输入内容相匹配的较小子集。在《<a href="#Completion-Example">补全示例</a>》一节中，我们给出了一个此类匹配的简单案例。判断何为匹配项的过程十分精细复杂，Emacs 会尝试在大多数情况下提供合理的补全结果。
</p>

<p>
Emacs 会借助 <b>一种或多种 completion styles补全风格</b> 来执行补全操作 —— 补全风格是一套判定迷你缓冲区文本与补全候选项是否匹配的标准。补全过程中，Emacs 会依次尝试每种补全风格：若某一种风格筛选出一个或多个匹配项，这些匹配项就会被作为补全候选项列表；若该风格未筛选出任何匹配项，Emacs 就会继续尝试下一种风格。
</p>

<p>
列表变量 <code>completion-styles</code> 用于指定要使用的补全风格，列表中的每个元素都是一种补全风格的名称（一个 Lisp 符号）。所有可用的风格符号都存储在变量 <code>completion-styles-alist</code> 中（参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Completion-Variables.html#Completion-Variables">补全变量</a>》一节）。默认的补全风格按顺序排列如下：
</p>

<dl class="org-dl">
<dt><code>basic</code> （基础风格）</dt><dd>匹配的补全候选项，其开头部分必须与迷你缓冲区中光标之前的文本完全一致。此外，若迷你缓冲区中光标之后还有文本内容，则补全候选项的剩余部分必须包含该文本作为子串。</dd>

<dt><code>partial-completion</code> （部分补全风格）</dt><dd><p>
这种主动的补全风格会将迷你缓冲区中的文本按连字符或空格分割为多个单词，再对每个单词分别进行补全。（例如，补全命令名时，输入 "em-l-m" 会被补全为 "emacs-lisp-mode"。）
</p>

<p>
除此之外，迷你缓冲区文本中的星号 '*' 会被当作通配符 —— 它可以匹配补全候选项对应位置上的任意字符序列。
</p></dd>

<dt><code>emacs22</code> （Emacs22 风格）</dt><dd>这种补全风格与 basic 风格类似，区别在于它会忽略迷你缓冲区中光标之后的文本。该风格以此命名，是因为它与 Emacs 22 版本中的补全行为完全一致。</dd>
</dl>


<p>
以下额外的补全风格同样已被定义，你可以根据需要将它们添加到 <code>completion-styles</code> 中（参见《<a href="#Customization">自定义</a>》一节）：
</p>

<dl class="org-dl">
<dt><code>substring</code> （子串风格）</dt><dd><p>
匹配的补全候选项，必须同时包含迷你缓冲区中光标之前的文本和光标之后的文本作为子串，且两个子串的顺序需与原文本一致。
</p>

<p>
例如，若迷你缓冲区中的文本为 'foobar'，且光标位于 'foo' 与 'bar' 之间，那么 'afoobbarc' 会被判定为匹配项（其中 a、b、c 可以是任意字符串，包括空字符串）。
</p></dd>

<dt><code>flex</code> （灵活风格）</dt><dd>这种主动的补全风格也被称为 <code>flx</code> 、 <code>fuzzy模糊补全</code> 或 <code>scatter分散补全</code> ，它会尝试基于 <b>有序子串</b> 进行补全。例如，它会将 'foo' 判定为与 'frodo' 或 'fbarbazoo' 相匹配。</dd>

<dt><code>initials</code> （首字母风格）</dt><dd>这种补全风格的匹配策略非常主动，它会尝试针对缩写词和首字母缩写进行补全。例如，补全命令名时，它会将 'lch' 匹配为 'list-command-history'。</dd>
</dl>

<p>
还有一种极为简单的补全风格名为 <code>emacs21</code> 。在该风格下，若迷你缓冲区中的文本为 'foobar'，则只有以 'foobar' 开头的候选项会被视为匹配项。
</p>

<p>
你可以通过设置变量 <code>completion-category-overrides</code> ，在不同场景下使用不同的补全风格。例如，该变量的默认配置规定，针对缓冲区名称仅使用 <code>basic</code> 和 <code>substring</code> 这两种补全风格。
</p>
</div>
</div>
<div id="outline-container-Completion-Options" class="outline-4">
<h4 id="Completion-Options"><span class="section-number-4">10.4.5.</span> 补全选项</h4>
<div class="outline-text-4" id="text-Completion-Options">
<p>
在补全 <b>区分大小写的参数</b> （例如命令名）时，大小写是有意义的。例如，补全命令名时，输入 'AU' 不会补全为 'auto-fill-mode'。而在补全不区分大小写的参数时，大小写差异会被忽略。
</p>

<p>
补全文件名时，若变量 <code>read-file-name-completion-ignore-case</code> 的值为非 nil，则大小写差异会被忽略。该变量的默认值在区分大小写文件名的系统（如 GNU/Linux）上为 <code>nil</code> ；在不区分大小写文件名的系统（如微软 Windows）上为非 nil。补全缓冲区名时，若变量 <code>read-buffer-completion-ignore-case</code> 的值为非 nil，则大小写差异会被忽略，该变量的默认值为 nil。
</p>

<p>
补全文件名时，Emacs 通常会忽略某些被判定为 <b>不太可能</b> 被选中的候选项，具体由列表变量 <code>completion-ignored-extensions</code> 决定。该列表中的每个元素都应为一个字符串；任何文件名以该字符串结尾的文件，都会被排除在补全候选项之外。若列表元素以斜杠（/）结尾，则代表该元素是一个子目录名。 <code>completion-ignored-extensions</code> 的标准值包含多个元素，例如 ".o"、".elc" 和 ”~“ 。举例来说，若某个目录下存在 "foo.c" 和 "foo.elc" 两个文件，输入 'foo' 会补全为 'foo.c'。但如果 <b>所有</b> 可能的补全候选项的后缀都属于被忽略的字符串，那么这些候选项将不会被忽略：以上述例子来说，输入 'foo.e' 会补全为 'foo.elc'。需要注意的是，当 Emacs 在补全列表中展示候选项时，会忽略 <code>completion-ignored-extensions</code> 这个变量的配置。
</p>

<p>
Shell 补全是文件名补全的扩展版本，具体可参见《<a href="#Shell-Options">Shell 模式选项</a>》一节。
</p>

<p>
若将 <code>completion-auto-help</code> 的值设为 <code>nil</code> ，补全命令将不会自动显示补全列表缓冲区；你必须手动输入 <code>?</code> 来查看候选项列表。若该变量的值为 <code>lazy</code> ，Emacs 仅会在第二次尝试补全时展示补全列表缓冲区。也就是说，若当前无内容可补全，第一次按下 <code>TAB</code> 会提示 “Next char not unique 后续字符不唯一”；第二次按下 <code>TAB</code> 才会弹出补全列表缓冲区。若该变量的值为 <code>always</code> ，则每次尝试补全时，补全列表缓冲区都会自动显示。
</p>

<p>
补全列表缓冲区首次显示后，其后续的显示状态同样由 <code>completion-auto-help</code> 控制。若该变量的值为 <code>t</code> 或 <code>lazy</code> ，当 Emacs 能够完成补全时，展示补全候选项的窗口会自动收起；而当你输入新内容后再次出现无法补全的情况时，该窗口可能会重新弹出。若变量值为 <code>always</code> ，则只有当你退出补全操作时，该窗口才会收起。若变量值为 <code>visible</code> ，则该配置属于混合模式：在决定是否弹出补全列表窗口时，它的行为与 <code>t</code> 一致；在决定是否收起该窗口时，它的行为与 <code>always</code> 一致。
</p>

<p>
Emacs 支持在弹出补全列表窗口时，自动选中该窗口。若要启用此功能，可将用户选项 <code>completion-auto-select</code> 自定义为 <code>t</code> ，这会改变 <code>TAB</code> 键在补全窗口弹出时的行为：按下 <code>TAB</code> 会切换到补全列表缓冲区，之后你可以通过光标移动命令选中目标候选项，并按下 <code>RET</code> 确认选择。若 <code>completion-auto-select</code> 的值为 <code>second-tab</code> ，则第一次按下 <code>TAB</code> 会弹出补全列表缓冲区，第二次按下 <code>TAB</code> 才会切换到该缓冲区。
</p>

<p>
当补全列表窗口被选中时（无论是通过自定义 <code>completion-auto-select</code> 实现，还是手动按下 <code>C-x o</code> 切换窗口），按下 <code>UP and DOWN</code> 上下方向键 ( <code>previous-line-completion</code> 和 <code>next-line-completion</code> ) 可以在补全候选项之间逐行切换；若在按下方向键时附带数字前缀参数，则可以一次跳过对应行数的候选项。若变量 <code>completion-auto-wrap</code> 的值为非 nil，那么当光标移动到候选项列表的顶端或底端时，会自动循环到另一端。
</p>

<p>
若变量 <code>completion-cycle-threshold</code> 的值为非 nil，补全命令可以循环遍历所有补全候选项。在默认情况下，当迷你缓冲区中的文本存在多个补全候选项时，补全命令会补全到这些候选项的最长公共子串。若将 <code>completion-cycle-threshold</code> 的值改为 <code>t</code> ，补全命令会优先补全为第一个候选项；此后每次调用补全命令，都会循环替换为下一个候选项。若将该变量的值设为一个数字 <code>n</code> ，则只有当候选项数量小于等于 <code>n</code> 时，补全命令才会触发这种循环补全的行为。
</p>

<p>
默认情况下，Emacs 会弹出一个新的缓冲区来展示补全候选项，且候选项会按 <code>horizontal</code> 水平方向排列，排列的列数取决于当前窗口的宽度。你可以通过自定义用户选项 <code>completions-format</code> 来修改这一排列方式。若该选项的值为 <code>vertical</code> ，Emacs 会改为垂直排列候选项；若值为 <code>one-column</code> ，则所有候选项会被排列在同一列中。
</p>

<p>
用户选项 <code>completions-sort</code> 用于控制 <code>*Completions*</code> 缓冲区中候选项的排序规则，其默认值为 <code>alphabetical</code> ，即按字母顺序排序。若值为 <code>nil</code> ，则禁用排序功能；若值为 <code>historical</code> ，则会先按字母顺序排序，再根据迷你缓冲区的历史记录调整候选项的顺序。该选项的值也可以是一个函数，Emacs 会将补全候选项列表传入该函数，函数需返回排序后的候选项列表。
</p>

<p>
若变量 <code>completions-max-height</code> 的值为非 nil，则该变量会限制补全窗口的大小。其取值为行数，且包含模式行、标题行以及底部分隔线（若存在）。如果需要更精细地控制补全窗口的显示属性，可以使用变量 <code>display-buffer-alist</code> （具体可参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Buffer-Display-Action-Alists.html#Buffer-Display-Action-Alists">缓冲区显示的动作列表</a>》一节）。
</p>

<p>
变量 <code>completions-header-format</code> 是一个格式规范字符串，用于控制补全候选项列表上方的信息提示行。若该字符串中包含 '%s' 占位符，则该占位符会被替换为补全列表缓冲区中展示的候选项数量。若要隐藏该信息提示行，可将该变量自定义为 <code>nil</code> 。该变量的值（即提示行字符串）可以设置文本属性，从而改变提示行的视觉外观；常用的属性包括 <code>face</code> （字体）和 <code>cursor-intangible</code> （光标不可见）（具体可参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Special-Properties.html#Special-Properties">具有特殊含义的属性</a>》一节）。
</p>

<p>
若变量 <code>completions-highlight-face</code> 指向某个有效的字体（face），则当前补全候选项（即按下 <code>RET</code> 或鼠标点击时会被选中的候选项）会用该字体高亮显示。该变量的默认值为 <code>completions-highlight</code> ；若将其设为 <code>nil</code> ，则会禁用高亮功能。此特性依赖于特殊文本属性 <code>cursor-face</code> 实现。
</p>
</div>
</div>
</div>
<div id="outline-container-Minibuffer-History" class="outline-3">
<h3 id="Minibuffer-History"><span class="section-number-3">10.5.</span> 迷你缓冲区历史记录</h3>
<div class="outline-text-3" id="text-Minibuffer-History">
<p>
你在迷你缓冲区中输入的所有内容都会保存到 <b>minibuffer histroy list迷你缓冲区历史记录列表</b> 中，方便你后续随时复用。这其中包含补全候选内容（例如文件名、缓冲区名称、命令名称等）以及其他任何类型的迷你缓冲区输入。你可以使用以下命令，快速将历史输入或备选输入调取到迷你缓冲区中：
</p>

<dl class="org-dl">
<dt><code>M-p</code></dt><dd>跳转到迷你缓冲区历史记录的上一项，即更早输入的参数 (<code>previous-history-element</code>)。</dd>
<dt><code>M-n</code></dt><dd>跳转到迷你缓冲区历史记录的下一项 (<code>next-history-element</code>)。</dd>
<dt><code>UP</code></dt><dd>↑（上箭头）</dd>
<dt><code>DOWN</code></dt><dd>↓ （下箭头）  功能类似 <code>M-p</code> 和 <code>M-n</code> ，但会优先在当前多行历史项内向上或向下跳转一行，再切换至上或下一条历史记录 (<code>previous-line-or-history-element</code> 和 <code>next-line-or-history-element</code>)</dd>
<dt><code>M-r regexp RET</code></dt><dd>跳转到历史记录中更早且匹配该正则表达式的项 (<code>previous-matching-history-element</code>)</dd>
<dt><code>M-s 正则表达式 回车</code></dt><dd>跳转到历史记录中更晚且匹配该正则表达式的项
(<code>next-matching-history-element</code>)</dd>
</dl>

<p>
在迷你缓冲区中，按下 <code>M-p</code> (<code>previous-history-element</code>) 会逐条遍历历史记录列表，每按一次就会将历史记录中更早的一项调取到迷你缓冲区，并覆盖当前内容。按下 <code>M-n</code> (<code>next-history-element</code>) 则会反向遍历历史记录，将更新的条目调取到迷你缓冲区。
</p>

<p>
若在迷你缓冲区中按下 <code>M-n</code> 时，历史记录中已经没有更新的条目（例如你此前从未按过 <code>M-p</code> ），Emacs 会尝试从 <b>默认参数列表</b> 中调取内容：这些是你大概率会输入的常用值。你可以将这个过程理解为遍历 “future history未来历史记录”。
</p>

<p>
文件名对应的 “future history” 包含多种实用备选内容，例如当前光标所在位置的文件名或网址。这类场景下，“future history” 的默认内容由选项 <code>file-name-at-point-functions</code> 所指定的函数控制。默认情况下，该选项会调用 <code>ffap</code> 包（参见《<a href="#FFAP">定位光标处的文件与网址</a>》章节），此包会根据光标周围的文本内容自动推测默认的文件或网址。若要关闭该推测功能，可将该选项自定义为 <code>nil</code> ，此时文件名的 “未来历史记录” 将只包含当前缓冲区打开的文件（若有）以及默认目录。
</p>

<p>
上下箭头键的功能与 <code>M-p</code> 、 <code>M-n</code> 类似，但如果当前历史项是多行内容，它们会先在该多行内容内向上或向下跳转一行，再切换到上一条或下一条历史记录。
</p>

<p>
如果你编辑了通过 <code>M-p</code> 或 <code>M-n</code> 调取到迷你缓冲区的文本， <b>不会修改</b> 该内容在历史记录列表中的原始条目。但当你提交编辑后的内容时，该内容会被添加到历史记录列表的末尾。
</p>

<p>
你可以使用 <code>M-r</code> (<code>previous-matching-history-element</code>) 搜索历史记录中更早的匹配项，使用 <code>M-s</code> (<code>next-matching-history-element</code>) 搜索更新的匹配项。这两个命令都会要求你输入一个正则表达式作为参数，并将第一个匹配的条目调取到迷你缓冲区。关于正则表达式的语法说明，参见《<a href="#Regexps">正则表达式语法</a>》章节。若为命令添加数字前缀参数 <code>n</code> ，则会调取第 <code>n</code> 个匹配项。这两个命令比较特殊：即便它们是在迷你缓冲区中被调用，依然会通过迷你缓冲区读取正则表达式参数。正则表达式中的大写字母会使搜索过程区分大小写（参见《<a href="#Lax-Search">搜索过程中的宽松匹配</a>》章节）。
</p>

<p>
你也可以使用 <b>增量搜索</b> 功能遍历历史记录，详情参见《<a href="#Isearch-Minibuffer">迷你缓冲区搜索</a>》章节。
</p>

<p>
Emacs 会为不同类型的参数维护 <b>独立的历史记录列表</b> 。例如，所有读取文件名的命令会共用一个文件名历史列表；其他独立的历史列表还包括：缓冲区名称列表、命令名称列表（供 <code>M-x</code> 使用）以及命令参数列表（供 <code>query-replace</code> 这类命令使用）。
</p>

<p>
变量 <code>history-length</code> 用于指定迷你缓冲区历史记录列表的 <b>最大长度</b> ：当列表长度超出限制时，新增条目会自动删除最旧的条目。若将该变量设为 <code>t</code> ，则历史记录列表无长度限制。
</p>

<p>
变量 <code>history-delete-duplicates</code> 用于指定是否 <b>删除历史记录中的重复项</b> ：若该变量值为非 nil，新增条目时会删除列表中所有与之内容相同的旧条目。该变量的默认值为 <code>nil</code> 。
</p>
</div>
</div>
<div id="outline-container-Repetition" class="outline-3">
<h3 id="Repetition"><span class="section-number-3">10.6.</span> 重复执行迷你缓冲区命令</h3>
<div class="outline-text-3" id="text-Repetition">
<p>
所有使用过一次迷你缓冲区的命令，都会连同其参数值一起被记录在一个特殊的历史列表 —— 命令历史列表中，你可以借此重复执行整条命令。尤其是 <code>M-x</code> 的每次调用都会被记录在内，因为 <code>M-x</code> 本身就是通过迷你缓冲区来读取命令名称的。
</p>

<dl class="org-dl">
<dt><code>C-x ESC ESC</code></dt><dd>从命令历史列表中重新执行最近一条使用过迷你缓冲区的命令 (<code>repeat-complex-command</code>)</dd>
<dt><code>M-x list-command-history</code></dt><dd>显示完整的命令历史列表，列出所有可通过 <code>C-x ESC ESC</code> 重复执行的命令，按从新到旧的顺序排列。</dd>
</dl>

<p>
<code>C-x ESC ESC</code> 用于重新执行最近一条调用过迷你缓冲区的命令。不带参数时，它会重复执行最后一条该类命令；带数字前缀参数时，则指定要重复的命令位置：参数 1 代表最后一条，2 代表倒数第二条，以此类推。
</p>

<p>
<code>C-x ESC ESC</code> 的工作原理是，将此前执行的命令转换为一段 <b>Lisp 表达式</b> ，并在迷你缓冲区中初始化显示这段表达式文本。即便你不懂 Lisp 语言，也能轻松识别出当前显示的待重复命令。直接按下回车键（ <code>RET</code> ），就会原封不动地重复执行该命令；你也可以先编辑这段 Lisp 表达式来修改命令，再按下 <code>RET</code> 回车执行。执行后的命令会被添加到命令历史列表的头部，除非它与列表中最新的条目完全相同。
</p>

<p>
在 <code>C-x ESC ESC</code> 唤起的迷你缓冲区中，你可以使用常规的迷你缓冲区历史记录命令（参见《<a href="#Minibuffer-History">迷你缓冲区历史记录</a>》章节）来遍历历史列表。找到想要重复的历史命令后，可像平常一样编辑其表达式，再按回车键执行。
</p>

<p>
严格来说， <b>增量搜索</b> 并没有使用迷你缓冲区。因此，尽管它的行为类似复杂命令，但默认不会出现在 <code>C-x ESC ESC</code> 对应的历史列表中。若要让增量搜索命令被纳入该历史列表，可将变量 <code>isearch-resume-in-command-history</code> 的值设为非 nil。详情参见《<a href="#Incremental-Search">增量搜索</a>》章节。
</p>

<p>
所有此前调用过迷你缓冲区的命令，会以 Lisp 列表的形式存储在变量 <code>command-history</code> 中。列表中的每个元素都是一段 Lisp 表达式，描述了一条命令及其对应的参数。Lisp 程序可通过调用函数 <code>eval</code> ，传入 <code>command-history</code> 中的元素来重新执行对应命令。
</p>
</div>
</div>
<div id="outline-container-Passwords" class="outline-3">
<h3 id="Passwords"><span class="section-number-3">10.7.</span> 输入密码</h3>
<div class="outline-text-3" id="text-Passwords">
<p>
有时你需要在 Emacs 中输入密码。例如，当你通过 FTP 等网络协议让 Emacs 访问另一台机器上的文件时，往往需要提供密码才能获取该机器的访问权限（参见《<a href="#Remote-Files">远程文件</a>》章节）。
</p>

<p>
输入密码的操作和使用迷你缓冲区类似。Emacs 会在回显区显示一个提示（如"Password: "）；输入所需密码后，按下回车键（ <code>RET</code> ）提交即可。为防止他人窥看密码，你输入的每个字符都会以星号（“*”）代替原本的样式显示。
</p>

<p>
输入密码时，迷你缓冲区的大部分功能和命令都无法使用。此时没有历史记录和补全功能，且在提交密码前，你无法切换窗口或执行 Emacs 的其他任何操作。
</p>

<p>
输入密码的过程中，你可以按下删除键（ <code>DEL</code> ）向后删除，移除最后输入的一个字符。快捷键 <code>C-u</code> 会清空当前已输入的所有内容。 <code>C-g</code> 可退出密码提示（参见《<a href="#Quitting">退出与终止</a>》章节）。 <code>C-y</code> 会将当前的剪切内容粘贴到密码输入框中（参见《<a href="#Killing">文本的剪切与移动</a>》章节）。按下制表键（ <code>TAB</code> ）可以切换密码的可见状态。你既可以按回车键（ <code>RET</code> ），也可以按退出键（ <code>ESC</code> ）来提交密码。其他任何可插入字符的按键会将对应的字符输入到密码中，除此之外的所有输入都会被忽略。
</p>

<p>
模式行中还会有一个图标用于指示密码的可见状态。在该图标上单击鼠标左键（ <code>mouse-1</code> ），同样可以切换密码的可见性。
</p>
</div>
</div>
<div id="outline-container-Yes-or-No-Prompts" class="outline-3">
<h3 id="Yes-or-No-Prompts"><span class="section-number-3">10.8.</span> 确认提示（Yes or No Prompts）</h3>
<div class="outline-text-3" id="text-Yes-or-No-Prompts">
<p>
Emacs 命令在执行过程中，可能会要求你回答一个 "是/否" 类问题。这类询问主要分为两种类型。
</p>

<p>
第一种是结尾标注 “(y or n)” 的是 / 否询问。你只需按下单个按键（'y' 代表是，'n' 代表否），即可立即退出迷你缓冲区并提交响应。例如，当你按下 <code>C-x C-w</code> （ <code>write-file</code> 写入文件命令）保存缓冲区，并输入了一个已存在的文件名时，Emacs 会弹出如下提示：
</p>

<div class="org-src-container">
<pre class="src src-shell">File &#8216;foo.el&#8217; exists; overwrite? (y or n)
</pre>
</div>

<p>
第二种是结尾标注 “(yes or no)” 的是 / 否询问（如果你自定义了 <code>yes-or-no-prompt</code> 变量，则会显示该变量的值），这类询问通常用于 <b>误操作会引发严重后果</b> 的场景。例如，当你对一个包含未保存修改的文件访问缓冲区执行 <code>C-x k</code> （ <code>kill-buffer</code> 关闭缓冲区命令）时，Emacs 会在迷你缓冲区中弹出如下提示：
</p>

<div class="org-src-container">
<pre class="src src-shell">Buffer foo.el modified; <span style="color: #483d8b;">kill</span> anyway? (yes or no)
</pre>
</div>

<p>
此时你需要在迷你缓冲区中完整输入 "yes" 或 "no"，再按下回车键（ <code>RET</code> ）来提交响应。
</p>

<p>
对于这两种是 / 否询问，迷你缓冲区都支持前文所述的基础操作：你可以用 <code>C-l</code> 重定所选窗口的显示中心，用 <code>C-v</code> （或 <code>PageDown</code> ）向下滚动、 <code>M-v</code> （或 <code>PageUp</code> ）向上滚动该窗口，用 <code>C-x o</code> 切换到其他窗口，用 <code>M-p</code> 和 <code>M-n</code> 执行历史记录相关命令等。按下 <code>C-g</code> 可以取消当前询问，同时退出迷你缓冲区和发起询问的命令（参见《<a href="#Quitting">退出与终止</a>》章节）。
</p>
</div>
</div>
</section>
<section id="outline-container-M_002dx" class="outline-2">
<h2 id="M_002dx"><span class="section-number-2">11.</span> 通过名称执行命令</h2>
<div class="outline-text-2" id="text-M_002dx">
<p>
每个 Emacs 命令都有一个可用于执行它的名称。为方便使用，许多命令还配有快捷键绑定。你既可以通过按下快捷键来执行这些命令，也可以通过输入命令名称来执行。大多数 Emacs 命令没有快捷键绑定，因此 <b>通过名称执行是唯一的方式</b> 。（有关如何设置快捷键绑定的方法，参见《<a href="#Key-Bindings">自定义快捷键绑定</a>》章节。）
</p>

<p>
按照惯例，命令名称由一个或多个单词组成，单词之间用连字符分隔；例如 <code>auto-fill-mode</code> （自动换行模式）或 <code>manual-entry</code> （手动录入）。命令名称大多使用完整的英文单词，以便于记忆。
</p>

<p>
若要通过名称执行命令，需先按下 <code>M-x</code> ，接着输入命令名称，最后按下回车键（ <code>RET</code> ）确认。 <code>M-x</code> 会借助迷你缓冲区读取命令名称，迷你缓冲区开头会显示字符串 'M-x' 作为提示，提醒你输入需要执行的命令名称。按下 <code>RET</code> 回车键后，迷你缓冲区会关闭并执行该命令。关于迷你缓冲区的更多信息，参见《<a href="#Minibuffer">迷你缓冲区</a>》章节。
</p>

<p>
你可以使用补全功能来输入命令名称。例如，要调用 <code>forward-char</code> （向前移动字符）命令，你可以直接输入：
</p>


<div class="org-src-container">
<pre class="src src-shell">M-x forward-char RET
</pre>
</div>

<p>
或者使用补全的方式输入：
</p>
<div class="org-src-container">
<pre class="src src-shell">M-x forw TAB c RET
</pre>
</div>

<p>
需要注意的是， <code>forward-char</code> 与按下快捷键 <code>C-f</code> 所执行的是同一个命令。即便命令有对应的快捷键绑定，也不会影响你通过名称执行它。
</p>

<p>
当 <code>M-x</code> 对命令进行补全时，会忽略所有在 Emacs 早期主版本中被标记为废弃的命令；对于这类命令，你必须输入完整的名称才能执行。而在当前 Emacs 版本中被标记为废弃的命令，仍会出现在补全列表里。（废弃命令指的是已有更新、更优替代方案，且计划在未来某个 Emacs 版本中移除的命令。）
</p>

<p>
此外， <code>M-x</code> 的补全功能可以排除与当前缓冲区主模式（参见《<a href="#Major-Modes">主模式</a>》章节）和次要模式（参见《<a href="#Minor-Modes">次要模式</a>》章节）不相关、且通常无法在当前模式下工作的命令。默认情况下，不会排除任何命令，但你可以自定义选项 <code>read-extended-command-predicate</code> ，将这些不相关的命令从补全结果中剔除。
</p>

<p>
与之相反，Emacs 也可以只显示与当前缓冲区密切相关的命令。 <code>M-S-x</code> （即 “Meta 键 + Shift 键 + x 键”）命令的工作方式与 <code>M-x</code> 类似，但它不会列出 Emacs 支持的所有（或大部分）命令，只会显示那些被标记为 “属于” 当前主模式或已启用的次要模式的命令。
</p>

<p>
若要取消 <code>M-x</code> 操作且不执行任何命令，无需输入命令名称，直接按下 <code>C-g</code> 即可。这会让你回到正常的命令操作状态。
</p>

<p>
如果要向通过 <code>M-x</code> 调用的命令传递数值参数，需要在按下 <code>M-x</code> 之前指定该数值参数。在读取命令名称的过程中，参数值会显示在迷你缓冲区的提示信息中，最终 <code>M-x</code> 会将该参数传递给对应的命令。例如，要向 <code>forward-char</code> 命令传递数值参数 42，可以输入：
</p>

<div class="org-src-container">
<pre class="src src-shell">C-u 42 M-x forward-char RET
</pre>
</div>

<p>
当你通过 <code>M-x</code> 执行的命令存在对应的快捷键绑定时，Emacs 会在命令执行完毕后，在回显区提示该快捷键。例如，若你输入 <code>M-x forward-word</code> ，回显区会显示该命令也可通过按下 <code>M-f</code> 来执行。你可以通过将变量 <code>suggest-key-bindings</code> 的值设为 <code>nil</code> ，来关闭这类提示信息。该变量的值也可以设为一个数字，此时 Emacs 会将快捷键提示信息显示对应秒数后再清除。默认情况下，提示信息会显示 2 秒。
</p>

<p>
此外，当 <code>suggest-key-bindings</code> 的值不为 nil 时， <code>M-x</code> 的补全列表中会为所有带有快捷键绑定的命令，显示对应的等效快捷键。
</p>

<p>
对于没有快捷键绑定的命令，在 <code>M-x</code> 提示符下，你无需输入完整的命令名称即可调用。如果命令的简写形式比完整名称短很多，且变量 <code>extended-command-suggest-shorter</code> 的值不为 nil，Emacs 会在回显区提示该简写形式。 <code>suggest-key-bindings</code> 的设置同样会影响这类提示信息的显示。
</p>

<p>
在本手册中，当提及通过名称执行命令时，我们通常会省略用于确认命令名称的回车键（ <code>RET</code> ）。因此，我们可能会写成 <code>M-x auto-fill-mode</code> ，而非 <code>M-x auto-fill-mode RET</code> 。只有在需要强调的情况下（例如命令后需要跟参数时），才会特别提及回车键。
</p>

<p>
<code>M-x</code> 的底层实现是通过执行 <code>execute-extended-command</code> 命令完成的，该命令的作用是读取另一个命令的名称并调用它。
</p>
</div>
</section>
<section id="outline-container-Help" class="outline-2">
<h2 id="Help"><span class="section-number-2">12.</span> 帮助功能</h2>
<div class="outline-text-2" id="text-Help">
<p>
Emacs 提供了种类丰富的帮助命令，所有命令均可通过前缀键 <code>C-h</code> （或等效的功能键 <code>F1</code> ）调用。下文将对这些帮助命令进行详细说明。你也可以按下 <code>C-h C-h</code> 来查看完整的帮助命令列表 (<code>help-for-help</code>) 。在命令列表界面，可使用 <code>SPC</code> （空格键）和 <code>DEL</code> （删除键）滚动列表，然后输入想要执行的帮助命令；若要取消操作，按下 <code>C-g</code> 即可。
</p>

<p>
许多帮助命令会在一个特殊的 <b>help buffer帮助缓冲区</b> 中展示信息。在该缓冲区中，你可以用 <code>SPC</code> 和 <code>DEL</code> 滚动内容，按下 <code>RET</code> （回车键）则可跳转至超链接。详情参见《<a href="#Help-Mode">帮助模式</a>》章节。
</p>

<p>
默认情况下，帮助命令会在独立窗口中打开帮助缓冲区，但不会自动选中该窗口。这一行为由变量 <code>help-window-select</code> 控制：它的默认值为 <code>nil</code> ；若将其自定义为 <code>t</code> ，帮助命令会强制选中帮助窗口；若设为 <code>other</code> ，则仅当选中的frame中存在两个以上窗口时，才会选中帮助窗口。
</p>

<p>
与之相对， <code>*Help*</code> 缓冲区中的许多命令会弹出新窗口来展示执行结果。例如，点击链接查看源代码、或使用 <code>i</code> 命令查看手册条目时，默认都会弹出新窗口。如果将变量 <code>help-window-keep-selected</code> 的值改为非 nil，系统就会复用当前显示 <code>*Help*</code> 缓冲区的窗口，而非新建窗口。
</p>

<p>
若你想使用某个功能，但不清楚它的名称或查找路径，我们推荐三种方法：首先尝试关键词检索命令，其次检索手册索引，接着查阅常见问题（FAQ）和软件包关键词，最后再尝试列出外部软件包。
</p>

<dl class="org-dl">
<dt><code>C-h a TOPICS RET</code></dt><dd>检索名称匹配参数 <code>TOPICS</code> 的命令。参数可以是单个关键词、多个空格分隔的关键词，或正则表达式（详情参见《<a href="#Regexps">正则表达式</a>》章节）。<a href="#Apropos">Apropos</a></dd>
<dt><code>C-h d TOPICS RET</code></dt><dd>类似上一条命令，但检索范围是文档字符串的文本内容，而非命令与函数的名称。</dd>
<dt><code>C-h r i TOPIC RET</code></dt><dd>在 Emacs 信息手册的索引中检索 <code>TOPIC</code> ，并展示首个匹配结果。按下 <code>,</code> 逗号可查看后续匹配项。</dd>
<dt><code>C-h r s TOPIC RET</code></dt><dd>类似上一条命令，但检索范围是手册的正文内容，而非索引。</dd>
<dt><code>C-h C-f</code></dt><dd>通过信息阅读器（Info）打开 Emacs 常见问题（FAQ）文档。</dd>
<dt><code>C-h p</code></dt><dd>根据关键词展示可用的 Emacs 软件包（详情参见《<a href="#Package-Keywords">软件包关键词搜索</a>》章节）。</dd>
<dt><code>M-x list-packages</code></dt><dd>展示所有外部软件包的列表（详情参见《<a href="#Packages">软件包</a>》章节）。</dd>
</dl>

<p>
此外，在其他多种场景下， <code>C-h</code> 或 <code>F1</code> 也代表 “帮助” 功能。例如，在按下前缀键后再按这两个键，即可查看该前缀键后续可搭配的按键列表。（此场景下也可使用 <code>?</code> 键替代。少数前缀键不支持通过 <code>C-h</code> 或 <code>?</code> 查看后续按键 —— 因为这些按键被定义了其他功能，但所有前缀键均支持 <code>F1</code> 来触发帮助。）
</p>

<p>
目录
</p>

<ul class="org-ul">
<li><a href="#Help-Summary">帮助摘要</a>：所有帮助命令的简明列表</li>
<li><a href="#Key-Help">按键相关文档</a>：查询 Emacs 中按键的功能</li>
<li><a href="#Name-Help">按命令或变量名查询帮助</a>：查询命令、变量或函数名称的相关信息</li>
<li><a href="#Apropos">关键词检索帮助（Apropos）</a>：查询与指定主题相关的内容</li>
<li><a href="#Help-Mode">帮助模式命令</a>：帮助模式与帮助缓冲区的特殊功能</li>
<li><a href="#Package-Keywords">软件包关键词搜索</a>：通过关键词（主题）查找 Lisp 程序库</li>
<li><a href="#Language-Help">国际语言支持相关帮助</a>：与国际化语言支持相关的帮助</li>
<li><a href="#Misc-Help">其他帮助命令</a>：各类杂项帮助命令</li>
<li><a href="#Help-Files">帮助文件</a>：用于展示辅助帮助文件的命令</li>
<li><a href="#Help-Echo">活动文本与工具提示帮助</a>：活动文本的帮助信息与工具提示（“气泡帮助”）</li>
</ul>
</div>
<div id="outline-container-Help-Summary" class="outline-3">
<h3 id="Help-Summary"><span class="section-number-3">12.1.</span> 帮助摘要</h3>
<div class="outline-text-3" id="text-Help-Summary">
<p>
以下是用于查阅内置文档的帮助命令汇总，其中大部分命令会在后续章节展开详细说明。
</p>

<dl class="org-dl">
<dt><code>C-h a topics RET</code></dt><dd>显示名称匹配指定主题的命令列表 (<code>apropos-command</code>) 。详情参见《<a href="#Apropos">关键词检索</a>》章节。</dd>
<dt><code>C-h b</code></dt><dd>显示当前所有生效的按键绑定；展示顺序为：次要模式绑定 → 主模式绑定 → 全局绑定（对应函数 <code>describe-bindings</code> ）。详情参见《其他帮助命令》章节。</dd>
<dt><code>C-h C-q</code></dt><dd>切换显示一个窗口，该窗口用于展示常用命令及其对应的按键绑定。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。</dd>
<dt><code>C-h c key</code></dt><dd>显示该按键序列所绑定命令的名称 (<code>describe-key-briefly</code>) 。此处的 c 代表 “字符（character）”。若需查看该按键的完整信息，可使用 <code>C-h k</code> 命令。详情参见《<a href="#Key-Help">按键相关文档</a>》章节。</dd>
<dt><code>C-h d topics RET</code></dt><dd>显示文档字符串内容匹配指定主题的命令与变量列表 (<code>apropos-documentation</code>) 。详情参见《<a href="#Apropos">关键词检索</a>》章节。</dd>
<dt><code>C-h e</code></dt><dd>显示 <code>*Messages*</code> 缓冲区的内容 (<code>view-echo-area-messages</code>) 。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。</dd>
<dt><code>C-h f 函数名 RET</code></dt><dd>显示名为函数名的 Lisp 函数文档 (<code>describe-function</code>) 。由于 Emacs 命令本质上也是 Lisp 函数，该命令同样适用于查询命令；你也可以使用 <code>C-h x</code> 命令查询。详情参见《<a href="#Name-Help">按命令或变量名查询帮助</a>》章节。</dd>
<dt><code>C-h h</code></dt><dd>显示 <code>HELLO</code> 文件，该文件包含多种字符集的示例文本。</dd>
<dt><code>C-h i</code></dt><dd>启动 Info——GNU 官方文档阅读器（对应函数 <code>info</code> ）。Emacs 手册可在 Info 中查阅。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。</dd>
<dt><code>C-h k key</code></dt><dd>显示该按键序列所绑定命令的名称与完整文档 (<code>describe-key</code>) 。详情参见《<a href="#Key-Help">按键相关文档</a>》章节。</dd>
<dt><code>C-h l</code></dt><dd>显示你最近输入的 300 次按键记录 (<code>view-lossage</code>) 。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。</dd>
<dt><code>C-h m</code></dt><dd>显示当前主模式与已启用次要模式的文档说明 (<code>describe-mode</code>) 。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。</dd>
<dt><code>C-h n</code></dt><dd>显示 Emacs 近期更新内容的公告 (<code>view-emacs-news</code>) 。详情参见《<a href="#Help-Files">帮助文件</a>》章节。</dd>
<dt><code>C-h o 符号</code></dt><dd>显示名为符号的 Lisp 符号文档 (<code>describe-symbol</code>) 。该命令可查询各类符号：函数、变量、以及显示样式（face）均适用。详情参见《<a href="#Name-Help">按命令或变量名查询帮助</a>》章节。</dd>
<dt><code>C-h p</code></dt><dd>根据主题关键词查找软件包 (<code>inder-by-keyword</code>) 。详情参见《<a href="#Package-Keywords">软件包关键词检索</a>》章节。查询结果会以软件包菜单缓冲区的形式列出。详情参见《<a href="#Packages">Emacs Lisp 软件包</a>》章节。</dd>
<dt><code>C-h P 软件包名 RET</code></dt><dd>显示指定软件包名对应的软件包文档 (<code>describe-package</code>) 。详情参见《<a href="#Package-Keywords">软件包关键词检索</a>》章节。</dd>
<dt><code>C-h r</code></dt><dd>在 Info 中打开 Emacs 手册 (<code>info-emacs-manual</code>) 。</dd>
<dt><code>C-h s</code></dt><dd>显示当前语法表的内容 (<code>describe-syntax</code>) 。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。语法表定义了各类字符的属性，例如哪些字符属于左分隔符、哪些字符属于单词组成部分等。详情参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Syntax-Tables.html#Syntax-Tables">语法表</a>》章节。</dd>
<dt><code>C-h t</code></dt><dd>启动 Emacs 交互式教程 (<code>help-with-tutorial</code>) 。</dd>
<dt><code>C-h v var RET</code></dt><dd>显示名为变量名的 Lisp 变量文档 (<code>describe-variable</code>) 。详情参见《<a href="#Name-Help">按命令或变量名查询帮助</a>》章节。</dd>
<dt><code>C-h w command RET</code></dt><dd>显示触发指定命令名对应命令的按键序列 (<code>where-is</code>) 。详情参见《<a href="#Key-Help">按键相关文档</a>》章节。</dd>
<dt><code>C-h x command RET</code></dt><dd>显示指定命令名对应命令的文档 (<code>describe-command</code>) 。详情参见《<a href="#Name-Help">按命令或变量名查询帮助</a>》章节。</dd>
<dt><code>C-h C coding RET</code></dt><dd>描述指定编码名对应的编码系统 (<code>describe-coding-system</code>) 。详情参见《<a href="#Coding-Systems">编码系统</a>》章节。</dd>
<dt><code>C-h C RET</code></dt><dd>描述当前正在使用的编码系统。</dd>
<dt><code>C-h F command RET</code></dt><dd>启动 Info 并跳转到记录指定 Emacs 命令名文档的节点 (<code>Info-goto-emacs-command-node</code>) 。详情参见《<a href="#Name-Help">按命令或变量名查询帮助</a>》章节。</dd>
<dt><code>C-h I method RET</code></dt><dd>描述指定输入法名对应的输入法 (<code>describe-input-method</code>) 。详情参见《<a href="#Select-Input-Method">选择输入法</a>》章节。</dd>
<dt><code>C-h K key</code></dt><dd>启动 Info 并跳转到记录指定按键序列文档的节点 (<code>Info-goto-emacs-key-command-node</code>) 。详情参见《<a href="#Key-Help">按键相关文档</a>》章节。</dd>
<dt><code>C-h L language-env RET</code></dt><dd>显示指定语言环境名所使用的字符集、编码系统与输入法信息 (<code>describe-language-environment</code>) 。详情参见《<a href="#Language-Environments">语言环境</a>》章节。</dd>
<dt><code>C-h S 符号 RET</code></dt><dd>根据当前编辑文件对应的编程语言，显示该符号的 Info 文档 (<code>info-lookup-symbol</code>) 。详情参见《<a href="#Misc-Help">其他帮助命令</a>》章节。</dd>
<dt><code>C-h .</code></dt><dd>若光标位于特殊文本区域内，显示该区域对应的帮助信息 (<code>display-local-help</code>) 。（例如 <code>*Help*</code> 缓冲区中的超链接就属于这类特殊文本区域。）详情参见《<a href="#Help-Echo">活动文本与工具提示帮助</a>》章节。若带前缀参数执行该命令（即 <code>C-u C-h .</code> ），且光标位于按钮(button)或控件(widget)之上，该命令会弹出一个新缓冲区，展示对应按钮 / 控件的详细描述。</dd>
</dl>
</div>
</div>
<div id="outline-container-Key-Help" class="outline-3">
<h3 id="Key-Help"><span class="section-number-3">12.2.</span> 按键相关文档</h3>
<div class="outline-text-3" id="text-Key-Help">
<p>
获取按键序列相关信息的帮助命令为 <code>C-h c</code> (<code>describe-key-briefly</code> ，简要描述按键功能) 和 <code>C-h k</code> (<code>describe-key</code>) 。
</p>

<p>
按下 <code>C-h c 后再输入目标按键</code> ，会在回显区显示该按键所绑定的命令名称。例如，执行 <code>C-h c C-f</code> 会显示命令 'forward-char'（向前移动字符）。
</p>

<p>
<code>C-h k key</code> 命令的作用与 <code>C-h c key</code> 类似，但会提供更详细的信息：它会打开一个帮助缓冲区，其中包含该命令的文档字符串，详细说明命令的具体功能。
</p>

<p>
<code>C-h K key</code> 命令则会跳转到 Emacs 手册中，对应该按键所绑定命令的说明章节。
</p>

<p>
<code>C-h c</code> 、 <code>C-h k</code> 和 <code>C-h K</code> 适用于所有类型的按键序列，包括功能键、菜单操作和鼠标事件（ <code>C-h c</code> 会忽略鼠标移动事件除外）。例如，按下 <code>C-h k</code> 后，你可以从菜单栏中选择一个菜单项，查看该菜单项所执行命令的文档字符串。
</p>

<p>
<code>C-h w command RET</code> 会列出该命令所绑定的所有按键，结果会显示在回显区。如果提示该命令未绑定任何按键，则意味着你必须通过 <code>M-x</code> 来调用这个命令。 <code>C-h w</code> 对应的底层命令是 <code>where-is</code> 。
</p>

<p>
Emacs 的部分模式会用到各类按钮（参见《Emacs Lisp 参考手册》的 “<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Buttons.html#Buttons">按钮</a>” 章节）和控件（参见《<a href="https://www.gnu.org/software/emacs/manual/html_node/widget/Introduction.html#Introduction">Emacs Widget 控件使用入门</a>》），点击这些元素可以执行相应操作。若要查看这些按钮最终调用的函数，你可以将光标移到按钮上方，然后执行 <code>button-describe</code> 和 <code>widget-describe</code> 命令。
</p>

<p>
<code>M-x which-key</code> 是一个全局次要模式，专门用于帮助用户探索 Emacs 的按键映射表。当你输入了不完整的命令前缀时，它会以弹窗形式显示对应的按键绑定关系。
</p>
</div>
</div>
<div id="outline-container-Name-Help" class="outline-3">
<h3 id="Name-Help"><span class="section-number-3">12.3.</span> 按命令或变量名查询帮助</h3>
<div class="outline-text-3" id="text-Name-Help">
<p>
<code>C-h x command RET</code> (<code>describe-command</code>) 会在一个窗口中显示指定命令的文档说明。例如，执行
</p>

<div class="org-src-container">
<pre class="src src-shell">C-h x auto-fill-mode RET
</pre>
</div>

<p>
会展示自动换行模式 (<code>auto-fill-mode</code>) 的相关文档。对于那些未绑定到任何按键的命令（这类命令通常需要通过 <code>M-x</code> 调用），这是获取其文档的常用方式。
</p>

<p>
<code>C-h f function RET</code> (<code>describe-function</code>) 用于显示 Lisp 函数的文档说明，该命令主要面向 Lisp 程序中调用的函数。比如，当你编写了表达式 <code>(make-vector len)</code> ，想要确认 <code>make-vector</code> 的用法是否正确时，只需输入 <code>C-h f make-vector RET</code> 即可查看文档。此外，由于 Emacs 中所有命令本质上都是 Lisp 函数，因此你也可以用这个命令查看任意命令的文档。
</p>

<p>
若直接按下 <code>C-h f RET</code> ，该命令会解析光标所在位置周围最内层的 Lisp 表达式，并展示其调用函数的文档 —— 前提是该函数名是已定义的合法 Lisp 函数（输入参数时，这个函数名会作为默认值显示）。例如，当光标位于文本 "(make-vector (car x)" 之后时，包含光标的最内层列表是以 "(make-vector" 开头的，此时按下 <code>C-h f RET</code> ，就会显示 <code>make-vector</code> 函数的文档。
</p>

<p>
<code>C-h f</code> 也可用于校验函数名的拼写是否正确。如果 <code>C-h f</code> 在迷你缓冲区的提示符中，将光标所在位置的函数名作为默认值显示，就说明这个名称是已定义的 Lisp 函数。若你并不需要查看该函数的文档，按下 <code>C-g</code> 即可取消 <code>C-h f</code> 命令的执行。
</p>

<p>
<code>describe-function</code> 命令展示的函数文档，不仅包含 <b>函数的文档字符串和签名</b> ，还会附带一些辅助信息，比如函数类型、定义该函数的文件路径、函数是否已被标记为废弃。文档中被加粗强调的部分，通常可以通过点击或按下回车键，跳转到更多相关内容。
</p>

<p>
如果函数的类型是已知的，会通过 <b>函数类型说明符</b> 来标注（参见《Emacs Lisp 参考手册》中的 “<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Type-Specifiers.html#Type-Specifiers">类型说明符</a>” 章节）。只有当 Lisp 程序手动声明了函数类型，或者编译器自动推导出了函数类型时，该标注才会显示。需要注意的是，函数类型推导功能仅在启用 <b>原生编译</b> 时生效（参见《Emacs Lisp 参考手册》中的 “<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/native-compilation.html#native-compilation">原生编译”</a> 章节）。
</p>

<p>
若你查询的是一个 <b>自动加载函数</b> ，且其自动加载定义（参见《Emacs Lisp 参考手册》中的 “<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Autoload.html#Autoload">自动加载</a>” 章节）中未提供文档字符串，那么 <code>*Help*</code> 帮助缓冲区中将不会显示任何文档内容。这种情况下，如果变量 <code>help-enable-symbol-autoload</code> 的值不为 nil，Emacs 会尝试加载该函数的定义文件，以查找是否存在对应的文档字符串。
</p>

<p>
使用 <code>M-x shortdoc</code> 命令，你可以获取与特定主题相关的函数概览。执行该命令后，它会提示你输入感兴趣的主题（例如 <code>string</code> ，即字符串），然后弹出一个缓冲区，列出所有与字符串处理相关的常用函数。
</p>

<p>
你还可以设置让 <code>C-h f</code> 弹出的 <code>*Help*</code> 缓冲区中，在展示函数和命令文档的同时附带 <b>使用示例</b> 。要实现这个功能，需在你的初始化文件中添加以下配置（参见《<a href="#Init-File">Emacs 初始化文件</a>》章节）：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'help-fns-describe-function-functions
          #'shortdoc-help-fns-examples-function)
</pre>
</div>

<p>
<code>C-h v</code> (<code>describe-variable</code>) 的功能与 <code>C-h f</code> 类似，区别在于它用于展示 Lisp 变量的文档，而非 Lisp 函数。如果光标所在位置或前方的符号是已定义的 Lisp 变量，该变量名会作为默认值填充到输入参数中。详情参见 “<a href="#Variables">变量</a>” 章节。
</p>

<p>
只要你安装了 Emacs 的源码文件，描述变量和函数的帮助缓冲区中，通常会包含指向对应源码的超链接（参见 “<a href="#Hyperlinking">超链接与网页导航功能</a>” 章节）。
</p>

<p>
若要在手册中查找某个命令的文档说明，可以使用 <code>C-h F</code> (<code>Info-goto-emacs-command-node</code>) 。该命令支持检索多种手册，而不仅限于 Emacs 官方手册，并能自动定位到对应的章节。
</p>

<p>
<code>C-h o</code> (<code>describe-symbol</code>) 的功能涵盖了 <code>C-h f</code> 和 <code>C-h v</code> ，它可以描述任意符号—— 无论是函数、变量还是面（face）。如果某个符号拥有多重定义（例如，既被定义为函数，又被定义为变量），该命令会依次展示它的所有文档说明。
</p>

<p>
<code>C-h 4 s</code> (<code>elp-find-source</code>) 会切换到一个新的缓冲区，打开当前帮助文档中所描述对象的 <b>源码定义文件</b> 。
</p>

<p>
如果用户选项 <code>completions-detailed</code> 的值不为 nil，部分命令在展示补全候选时会附带详细信息。例如，执行 <code>C-h o TAB</code> 键，补全列表中会包含每个符号文档字符串的第一行内容，同时标注该符号的类型（如函数、变量等）。具体附带的详细信息会根据所使用的命令有所不同。
</p>
</div>
</div>
<div id="outline-container-Apropos" class="outline-3">
<h3 id="Apropos"><span class="section-number-3">12.4.</span> 关键词检索帮助（Apropos）</h3>
<div class="outline-text-3" id="text-Apropos">
<p>
<code>apropos关键词检索</code> 类命令可以解答这类问题：“有哪些用于文件操作的命令？”更准确地说，你需要输入一个 <code>apropos pattern检索模式串</code> ，这个模式串可以是单个单词、一组用空格分隔的单词，或是一个正则表达式。
</p>

<p>
下述所有关键词检索命令，都会在迷你缓冲区中读取检索模式串，搜索匹配该模式的目标对象，并在新窗口中展示检索结果。
</p>


<dl class="org-dl">
<dt><code>C-h a</code></dt><dd>搜索命令 (<code>apropos-command</code>) 。若带上前缀参数执行，则同时搜索非交互式函数</dd>
<dt><code>M-x apropos</code></dt><dd>搜索函数与变量，可同时匹配交互式函数（即命令）与非交互式函数</dd>
<dt><code>M-x apropos-user-option</code></dt><dd>搜索用户可自定义的变量。若带上前缀参数执行，则同时搜索不可自定义的变量</dd>
<dt><code>M-x apropos-variable</code></dt><dd>搜索所有变量。若带上前缀参数执行，则仅搜索可自定义变量</dd>
<dt><code>M-x apropos-local-variable</code></dt><dd>仅搜索缓冲区局部变量</dd>
<dt><code>M-x apropos-value</code></dt><dd>搜索值匹配指定模式的变量。若带上前缀参数执行，则同时搜索定义匹配模式的函数、以及属性匹配模式的 Lisp 符号</dd>
<dt><code>M-x apropos-local-value</code></dt><dd>仅搜索值匹配指定模式的缓冲区局部变量</dd>
<dt><code>C-h d</code></dt><dd>搜索文档字符串匹配指定模式的函数与变量（对应底层函数 apropos-documentation）</dd>
</dl>

<p>
最简单的检索模式串是 <b>单个单词</b> ，任何名称中包含该单词的对象都会被匹配。例如，要查找所有文件相关的命令，输入 <code>C-h a file RET</code> 即可。执行后会列出所有名称含 'file' 的命令，比如 <code>copy-file</code> 、 <code>find-file</code> 等。每条命令都会附带简短描述，以及当前可调用它的快捷键列表。以 <code>find-file</code> 为例，检索结果会标注它的快捷键是 <code>C-x C-f</code> 。
</p>

<p>
默认情况下，展示检索结果的 apropos 缓冲区不会被自动选中。若要让 Emacs 自动选中该缓冲区，可将变量 <code>help-window-select</code> 设为任意非 nil 值。
</p>

<p>
对于 apropos 缓冲区中列出的函数定义、变量或符号属性，若想查看其详细信息，可使用 <code>mouse-1</code> 鼠标左键或 <code>mouse-2</code> 中键点击对应条目，或移动光标到条目后按下 <code>RET</code> 回车键。
</p>

<p>
当检索模式串包含 <b>多个单词</b> 时，目标对象的名称必须至少包含其中两个单词，才算匹配成功。例如，若想查找 “删除光标前方文本块” 的命令，可输入 <code>C-h a kill back backward behind before RET</code> 。实际存在的命令 <code>kill-backward</code> 会被匹配到；如果存在 <code>kill-text-before</code> 这类命令，也会被匹配到，因为它的名称包含了模式串中的两个单词。
</p>

<p>
若需要更高的检索灵活性，可直接输入 <b>正则表达式</b> （参见《<a href="#Regexps">正则表达式语法</a>》章节）。当模式串中包含正则表达式的特殊字符 ”^$*+?.\[“ 时，Emacs 会自动将其解析为正则表达式。
</p>

<p>
遵循 Emacs 命令的命名规范，以下这些单词在检索模式串中非常实用。通过在 <code>C-h a</code> 中使用它们，你也能逐步熟悉 Emacs 的命名习惯：
</p>

<p>
char（字符）、line（行）、word（单词）、sentence（句子）、paragraph（段落）、region（区域）、page（页）、sexp（S 表达式）、list（列表）、defun（函数定义）、rect（矩形区域）、buffer（缓冲区）、frame（框架）、window（窗口）、face（外观）、file（文件）、dir（目录）、register（寄存器）、mode（模式）、beginning（开头）、end（结尾）、forward（向前）、backward（向后）、next（下一个）、previous（上一个）、up（向上）、down（向下）、search（搜索）、goto（跳转至）、kill（剪切）、delete（删除）、mark（标记）、insert（插入）、yank（粘贴）、fill（填充）、indent（缩进）、case（大小写）、change（修改）、set（设置）、what（查询）、list（列出）、find（查找）、view（查看）、describe（描述）、default（默认）。
</p>

<p>
若变量 <code>apropos-do-all</code> 的值为非 nil，则大多数关键词检索命令的执行效果，等同于带前缀参数执行的效果。但存在一个例外：不带前缀参数执行 <code>apropos-variable</code> 时，无论 <code>apropos-do-all</code> 的值是什么，都会始终搜索所有变量。
</p>


<p>
默认情况下，除 <code>apropos-documentation</code> 外，所有关键词检索命令都会按 <b>字母顺序</b> 排列结果。若将变量 <code>apropos-sort-by-scores</code> 设为非 nil，这些命令会尝试评估结果的相关度，将最相关的结果排在前面。而 <code>apropos-documentation</code> 命令默认按 <b>相关度</b> 排序结果；若要改为按字母顺序排序，可将变量 <code>apropos-documentation-sort-by-scores</code> 设为 nil。
</p>
</div>
</div>
<div id="outline-container-Help-Mode" class="outline-3">
<h3 id="Help-Mode"><span class="section-number-3">12.5.</span> 帮助模式命令</h3>
<div class="outline-text-3" id="text-Help-Mode">
<p>
帮助缓冲区的主模式为帮助模式。该模式包含查看模式的所有命令（参见《<a href="#View-Mode">查看模式》</a>相关内容）；例如，按 <code>SPC</code> 空格键可向下滚动，按 <code>DEL</code> 删除键或 <code>S-SPC</code> 可向上滚动。同时它还提供了若干专属的特殊命令：
</p>


<dl class="org-dl">
<dt><code>RET</code></dt><dd>跳转到光标所在位置的交叉引用 (<code>help-follow</code>)</dd>
<dt><code>TAB</code></dt><dd>将光标向前移动至下一个超链接 (<code>forward-button</code>)</dd>
<dt><code>S-TAB</code></dt><dd>将光标向后移动至上一个超链接 (<code>backward-button</code>)</dd>
<dt><code>mouse-1</code></dt><dd></dd>

<dt><code>mouse-2</code></dt><dd>跳转到点击的超链接</dd>
<dt><code>n</code></dt><dd></dd>

<dt><code>p</code></dt><dd>在帮助缓冲区中向前或向后翻页</dd>
<dt><code>C-c C-c</code></dt><dd>显示光标所在位置符号的全部相关文档 (<code>help-follow-symbol</code>)</dd>
<dt><code>C-c C-f</code></dt><dd></dd>

<dt><code>r</code></dt><dd>向前翻阅帮助命令的操作历史 (<code>help-go-forward</code>)</dd>
<dt><code>C-c C-b</code></dt><dd></dd>

<dt><code>l</code></dt><dd>向后翻阅帮助命令的操作历史 (<code>help-go-back</code>)</dd>
<dt><code>s</code></dt><dd>查看当前帮助主题的源码（若有源码可查） (<code>help-view-source</code>)</dd>
<dt><code>i</code></dt><dd>在手册中检索当前主题 (<code>help-goto-info</code>)</dd>
<dt><code>I</code></dt><dd>在 Emacs Lisp 手册中检索当前主题 (<code>help-goto-lispref-info</code>)</dd>
<dt><code>c</code></dt><dd>自定义光标所在的变量或显示样式 (<code>help-customize</code>)</dd>
</dl>

<p>
在帮助缓冲区的文档中，函数名、变量名或显示样式名（参见文《<a href="#Faces">本显示样式</a>》相关内容）通常会显示为 <b>underlined hyperlink带下划线的超链接</b> 。若要查看其关联文档，可将光标移至对应位置并按 <code>RET</code> 回车 (<code>help-follow</code>) ，或用 <code>mouse-1</code> 鼠标左键 /  <code>mouse-2</code> 中键点击该超链接。此操作会替换帮助缓冲区的原有内容；若要回溯操作记录，可按 <code>C-c C-b</code> 或 <code>l</code> (<code>help-go-back</code>) 。回溯过程中，可按 <code>C-c C-f</code> 或 <code>r</code> (<code>help-go-forward</code>) 向前恢复操作。
</p>

<p>
在帮助缓冲区中切换超链接时，按 <code>TAB</code> (<code>forward-button</code>) 可跳至下一个超链接，按 <code>S-TAB</code> 可返回上一个超链接。这些命令为循环执行；例如，在最后一个超链接处按制表符，光标会跳回第一个超链接。
</p>

<p>
默认情况下，帮助缓冲区中的许多超链接会被引号包裹。若将用户选项 <code>help-clean-buttons</code> 设为非空值，缓冲区中的这些引号会被自动移除。
</p>

<p>
部分帮助命令生成的帮助缓冲区（例如展示大量按键绑定的 <code>C-h b</code> 命令）会通过 <code>^L</code> 字符将内容分块为多个页面。在这类缓冲区中，按 <code>n</code> (<code>help-goto-next-page</code>) 可跳至下一页开头，按 <code>p</code> (<code>help-goto-previous-page</code>) 可返回上一页开头。通过该方式可快速在帮助缓冲区的不同文档板块间导航。
</p>

<p>
帮助缓冲区中还可包含指向 Info 手册、源码定义和网页地址的超链接。前两种链接会在 Emacs 中直接打开，网页地址则会通过 <code>browse-url</code> 命令调用浏览器打开（参见<a href="#Browse_002dURL">超链接跳转</a>相关内容）。
</p>

<p>
若要查看文档中任意符号的全部相关信息，可将光标移至该符号处并按 <code>C-c C-c</code> (<code>help-follow-symbol</code>) 。该操作会展示该符号的所有相关文档 —— 包括其作为变量、函数和、and/or 显示样式的相关说明。
</p>
</div>
</div>
<div id="outline-container-Package-Keywords" class="outline-3">
<h3 id="Package-Keywords"><span class="section-number-3">12.6.</span> 软件包关键词搜索</h3>
<div class="outline-text-3" id="text-Package-Keywords">
<p>
Emacs 中大多数可选功能都归类为软件包。Emacs 内置了数百个软件包，还可通过网络安装更多软件包（参见《<a href="#Packages">Emacs Lisp 软件包</a>》章节）。
</p>

<p>
为方便查找与特定主题相关的软件包，多数软件包会根据其功能关联一个或多个关键词。按下 <code>C-h p</code> (<code>finder-by-keyword</code>) 可调出软件包关键词列表，同时显示各关键词的含义说明。若要查看某一关键词对应的软件包列表，在该关键词所在行按下 <code>RET</code> 回车键即可；相关软件包列表会在「软件包菜单」缓冲区中展示（参见《<a href="#Package-Menu">软件包菜单缓冲区</a>》章节）。
</p>

<p>
按下 <code>C-h P</code> (<code>describe-package</code>) 后，Emacs 会提示你输入软件包名称（参见《<a href="#Packages">Emacs Lisp 软件包</a>》章节），并在帮助缓冲区中展示该软件包的属性信息及所实现的功能。该缓冲区会以按钮形式列出与该软件包关联的所有关键词，使用鼠标左键或鼠标中键点击任意按钮，即可查看该关键词对应的其他软件包列表。
</p>
</div>
</div>
<div id="outline-container-Language-Help" class="outline-3">
<h3 id="Language-Help"><span class="section-number-3">12.7.</span> 国际语言支持相关帮助</h3>
<div class="outline-text-3" id="text-Language-Help">
<p>
若需查看特定语言环境的相关信息（参见《<a href="#Language-Environments">语言环境</a>》章节），按下 <code>C-h L</code> (<code>describe-language-environment</code>) 即可。该操作会调出帮助缓冲区，展示此语言环境所支持的语言，同时列出其关联的字符集、编码体系、输入方法，以及该语言环境的示例文本。
</p>

<p>
命令 <code>C-h h</code> (<code>view-hello-file</code>) 会打开 <code>etc/HELLO</code> 文件，该文件通过展示多种语言的 “你好” 表达，直观演示各类字符集的使用。
</p>

<p>
命令 <code>C-h I</code> (<code>describe-input-method</code>) 用于说明输入方法 —— 可指定某一输入方法进行查看，默认情况下则展示当前正在使用的输入方法（参见《<a href="#Input-Methods">输入方法</a>》章节）。
</p>

<p>
命令 <code>C-h C</code> (<code>describe-coding-system</code>) 用于解读编码体系 —— 可指定某一编码体系进行查看，默认情况下则展示当前正在使用的编码体系（参见《<a href="#Coding-Systems">编码体系</a>》章节）。
</p>
</div>
</div>
<div id="outline-container-Misc-Help" class="outline-3">
<h3 id="Misc-Help"><span class="section-number-3">12.8.</span> 其他帮助命令</h3>
<div class="outline-text-3" id="text-Misc-Help">
<p>
<code>C-h i</code> (<code>info</code>) 可启动 Info 程序，该程序用于浏览结构化的文档文件。 <code>C-h 4 i</code> (<code>info-other-window</code>) 功能与之相同，区别在于会在另一个窗口中显示 Info 缓冲区。Emacs 的完整手册及 GNU 系统的其他众多手册均可在 Info 中查阅。进入 Info 后按下 <code>h</code> 键，即可运行 Info 的使用教程。
</p>

<p>
若为 <code>C-h i</code> 指定数字参数 <code>n</code> ，该命令会选中名为 ”*info*&lt;n&gt;“ 的 Info 缓冲区，此功能便于你同时浏览多本 Info 手册。若仅将 <code>C-u</code> 作为前缀参数， <code>C-h i</code> 会提示你输入文档文件名，你可借此浏览在 Info 顶层菜单中无入口的文件。
</p>

<p>
前文提及的帮助命令 <code>C-h F functions RET</code> 与 <code>C-h K key</code> ，会直接进入 Info 并跳转到对应函数或按键的说明文档。
</p>

<p>
在编辑程序时，若该编程语言有对应的 Info 版手册，你可使用 <code>C-h S</code> (<code>info-lookup-symbol</code>) ，在对应手册中查找某个符号（关键字、函数或变量）的相关条目。该命令的具体工作方式由当前主模式决定。
</p>

<p>
若遇到意外情况，且不确定自己按下了哪些按键，可使用 <code>C-h l</code> (<code>view-lossage</code>) 。 <code>C-h l</code> 会显示你最近输入的按键序列及其触发的命令。Emacs 默认保存最近的 300 次按键记录，你可通过 <code>lossage-size</code> 命令修改该数值。若发现记录中有不熟悉的命令，可使用 <code>C-h k</code> 或 <code>C-h f</code> 查询其功能。
</p>

<p>
如需查看近期的回显消息，可使用 <code>C-h e</code> (<code>view-echo-area-messages</code>)，该命令会打开保存此类消息的 <code>*Messages*</code> 缓冲区。
</p>

<p>
Emacs 的每种主模式通常会重新定义部分按键，并对编辑的工作方式做出其他调整。 <code>C-h m</code> (<code>describe-mode</code>) 会显示当前主模式的说明文档，文档中通常会介绍该模式下修改后的命令、功能，以及对应的按键绑定。
</p>

<p>
<code>C-h b</code> (<code>describe-bindings</code>) 与 <code>C-h s</code> (<code>describe-syntax</code>) 可展示 Emacs 当前运行环境的其他相关信息。 <code>C-h b</code> 会显示当前所有生效的按键绑定列表，顺序依次为：当前次要模式的局部绑定、当前主模式定义的局部绑定，最后是全局绑定（参见《<a href="#Key-Bindings">自定义按键绑定</a>》章节）。 <code>C-h s</code> 会显示语法表的内容，并对每个字符的语法规则做出解释（参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Syntax-Tables.html#Syntax-Tables">语法表</a>》章节）。
</p>

<p>
<code>C-h C-q</code> (<code>help-quick-toggle</code>) 可切换一个辅助缓冲区的显示与隐藏，该缓冲区展示了 Emacs 最常用的命令及其对应的按键绑定（也被称作 “速查手册”），其内容由 <code>help-quick</code> 命令生成。缓冲区中所有按键绑定均为可点击按钮，使用 mouse-1 鼠标左键或 mouse-2 中键点击，即可查看该按键序列所绑定命令的说明文档。
</p>

<p>
在按下某个前缀键后，再输入 <code>C-h</code> 、 <code>?</code> 或 <code>F1</code> (<code>describe-prefix-bindings</code>) ，即可查看该前缀键对应的所有子命令列表。（少数前缀键不支持全部上述按键 —— 这类前缀键为相关按键定义了专属绑定。ESC 就是其中之一： <code>ESC C-h</code> 与  <code>ESC ?</code>  实际对应的是 <code>C-M-h</code> (<code>mark-defun</code>) 和 <code>M-?</code> (<code>xref-find-references</code>) ，但 <code>ESC F1</code> 可正常生效。）
</p>

<p>
最后，执行 <code>M-x describe-keymap</code> 命令，程序会带补全功能提示你输入键盘映射表名称，确认后将显示该键盘映射表中所有的按键绑定。
</p>
</div>
</div>
<div id="outline-container-Help-Files" class="outline-3">
<h3 id="Help-Files"><span class="section-number-3">12.9.</span> 帮助文件</h3>
<div class="outline-text-3" id="text-Help-Files">
<p>
除内置文档和手册外，Emacs 还包含若干其他说明文件，内容涉及复制条款、版本说明、调试方法、问题反馈指引等。你可通过以下命令查看这些文件，除快捷键 <code>C-h g</code> 外，其余命令均为 <code>C-h C-字符</code> 的形式。
</p>

<dl class="org-dl">
<dt><code>C-h C-c</code></dt><dd>显示 Emacs 的复制与再分发规则 (<code>describe-copying</code>) 。</dd>
<dt><code>C-h C-d</code></dt><dd>显示 Emacs 调试相关帮助 (<code>view-emacs-debugging</code>) 。</dd>
<dt><code>C-h C-e</code></dt><dd>显示获取外部包的相关信息 (<code>view-external-packages</code>) 。</dd>
<dt><code>C-h C-f</code></dt><dd>显示 Emacs 常见问题解答列表 (<code>view-emacs-FAQ</code>) 。</dd>
<dt><code>C-h g</code></dt><dd>打开 GNU 项目的介绍页面 (<code>describe-gnu-project</code>) 。</dd>
<dt><code>C-h C-m</code></dt><dd>显示 Emacs 手册印刷版的订购信息 (<code>view-order-manuals</code>) 。</dd>
<dt><code>C-h C-n</code></dt><dd>显示版本更新日志，列出当前 Emacs 版本的新功能 (<code>view-emacs-news</code>) 。</dd>
<dt><code>C-h C-o</code></dt><dd>显示 Emacs 及其他 GNU 软件最新版本的订购与下载方式 (<code>describe-distribution</code>) 。</dd>
<dt><code>C-h C-p</code></dt><dd>显示已知的 Emacs 问题列表，部分问题会附带建议的解决办法 (<code>view-emacs-problems</code>) 。</dd>
<dt><code>C-h C-t</code></dt><dd>显示 Emacs 的待办事项列表 (<code>view-emacs-todo</code>) 。</dd>
<dt><code>C-h C-w</code></dt><dd>显示 GNU Emacs 无任何担保的完整详细说明 (<code>describe-no-warranty</code>) 。</dd>
</dl>
</div>
</div>
<div id="outline-container-Help-Echo" class="outline-3">
<h3 id="Help-Echo"><span class="section-number-3">12.10.</span> 活动文本与工具提示帮助</h3>
<div class="outline-text-3" id="text-Help-Echo">
<p>
在 Emacs 中， <b>active text活动文本</b> （即响应鼠标点击或 <code>RET</code> 回车键执行特定操作的文本）通常配有对应的帮助文本。这类文本包括 Emacs 缓冲区中的超链接，以及模式行的部分内容。在图形化显示界面中，或是部分支持鼠标追踪的文本终端中，将鼠标移至活动文本上方时，相关帮助文本会以 <b>tooltip 工具提示</b> 的形式显示，详见「<a href="#Tooltips">工具提示</a>」相关说明。
</p>

<p>
在不支持鼠标追踪的终端中，可键入快捷键 <code>C-h .</code> (<code>display-local-help</code>) ，显示光标所在位置的缓冲区活动文本的帮助文本，该内容会展示在回显区。若希望光标所在位置存在可用帮助文本时，自动显示对应的帮助信息，可将变量 <code>help-at-pt-display-when-idle</code> 的值设为 t。
</p>
</div>
</div>
</section>
<section id="outline-container-Mark" class="outline-2">
<h2 id="Mark"><span class="section-number-2">13.</span> 标记与区域（Mark and Region）</h2>
<div class="outline-text-2" id="text-Mark">
<p>
Emacs 与诸多其他应用程序一样，允许你选中缓冲区文本中的任意部分，并调用针对该 <code>select text选中文本</code> 执行操作的命令。在 Emacs 中，我们将选中的文本称为 <b>region区域</b> ；其处理方式与其他程序中选中文本的处理方式十分相似，但也存在一些重要区别。
</p>

<p>
区域指的是 <b>标记</b> 与当前 <b>光标位置</b> 之间的缓冲区文本部分。你可以通过在某处设置标记（例如使用 <code>C-SPC</code> 命令），再将光标移动至希望作为区域结束位置的地方，来定义一个区域。（你也可以使用鼠标来定义区域。）
</p>

<p>
无论标记和光标在文本中哪个位置更靠前，区域始终覆盖两者之间的范围；每次移动光标，区域都会随之改变。
</p>

<p>
在文本的某个位置设置标记后，标记会 <b>activates被激活</b> 。当标记处于激活状态时，我们也称区域处于激活状态；Emacs 会通过 <b>region face区域面</b> 为区域内的文本添加高亮，以此标示出区域的范围（参见「<a href="#Face-Customization">自定义样式</a>」相关内容）。
</p>

<p>
执行部分非移动类命令后（包括所有会修改缓冲区文本的命令），Emacs 会自动 <b>deactivates取消标记的激活状态</b> ，区域的高亮效果也会随之消失。你也可以在任何时候键入 <code>C-g</code> ，手动取消标记的激活状态（参见「<a href="#Quitting">退出与终止操作</a>」相关内容）。
</p>

<p>
许多命令会将其操作的文本范围限定在 <b>激活的区域</b> 内。例如， <code>M-%</code> 命令（用于替换匹配的文本）默认会作用于缓冲区中所有可访问的文本部分，但如果存在激活的区域，该命令将仅对该区域内的文本生效。
</p>

<p>
即便标记未被激活，它依然具有实用价值。例如，你可以通过标记环跳转到之前设置过的标记位置（参见「<a href="#Mark-Ring">标记环</a>」相关内容）。此外，部分命令即便针对未激活的区域，也能执行相应操作（例如 <code>upcase-region</code> 命令，用于将区域文本转为大写）。你也可以通过 <code>C-x C-x</code> 这类命令，重新激活区域。
</p>

<p>
上述行为是 Emacs 交互会话中的默认行为，被称为 <b>临时标记模式</b> （Transient Mark mode）。关闭临时标记模式后，Emacs 会切换至另一种行为模式，在该模式下，区域通常不会被高亮显示（参见「<a href="#Disabled-Transient-Mark">关闭临时标记模式</a>」相关内容）。
</p>

<p>
在一个缓冲区中设置标记，不会对其他缓冲区中的标记产生任何影响。当你回到一个存在激活标记的缓冲区时，标记会停留在之前的位置。当多个窗口显示同一个缓冲区时，各窗口的光标位置可以不同，因此对应的区域也会不同，但所有窗口会共享同一个标记位置（参见「<a href="#Windows">多窗口</a>」相关内容）。通常情况下，只有 <b>选中的窗口</b> 会为其对应的区域添加高亮；但如果将变量 <code>highlight-nonselected-windows</code> 的值设为非 nil，每个窗口都会为自身对应的区域添加高亮。
</p>

<p>
Emacs 中还有另一种区域类型：矩形区域（参见「<a href="#Rectangles">矩形区域</a>」相关内容）。
</p>

<ul class="org-ul">
<li><a href="#Setting-Mark">设置标记</a></li>
<li><a href="#Marking-Objects">标记文本对象的命令</a></li>
<li><a href="#Using-Region">对区域执行操作</a></li>
<li><a href="#Mark-Ring">标记环（Mark Ring）</a></li>
<li><a href="#Global-Mark-Ring">全局标记环（Global Mark Ring）</a></li>
<li><a href="#Shift-Selection">移位选择（Shift Selection）</a></li>
<li><a href="#Disabled-Transient-Mark">禁用瞬时标记模式（Disabling Transient Mark Mode）</a></li>
</ul>
</div>
<div id="outline-container-Setting-Mark" class="outline-3">
<h3 id="Setting-Mark"><span class="section-number-3">13.1.</span> 设置标记</h3>
<div class="outline-text-3" id="text-Setting-Mark">
<p>
以下是若干用于设置标记的命令：
</p>
<dl class="org-dl">
<dt><code>C-SPC</code></dt><dd>在光标位置设置标记并将其激活 (<code>set-mark-command</code>) 。</dd>
<dt><code>C-@</code></dt><dd>与上一命令功能相同。</dd>
<dt><code>C-x C-x</code></dt><dd>在光标位置设置标记并将其激活，随后将光标移至标记原位置 (<code>exchange-point-and-mark</code> ，交换光标与标记位置）。</dd>
<dt><code>Drag-mouse-1</code></dt><dd>鼠标左键拖动。在拖动鼠标划过的文本范围两端分别设置光标与标记。</dd>
<dt><code>mouse-3</code></dt><dd>鼠标右键点击。在当前光标位置设置标记，随后将光标移至鼠标点击处 (<code>mouse-save-then-kill</code>) 。</dd>
<dt>按住 SHIFT 的光标移动键</dt><dd>若标记未激活，则在光标位置设置标记，再移动光标（详见「<a href="#Shift-Selection">移位选择</a>」相关内容）。</dd>
</dl>

<p>
设置标记最常用的方式是按下 <code>C-SPC</code> (<code>set-mark-command</code>)<sup><a id="fnr.5" class="footref" href="#fn.5" role="doc-backlink">5</a></sup>。该操作会在当前光标位置设置并激活标记，之后你可移动光标，标记将停留在原位置。若标记已存在于当前光标位置，该命令不会重复设置标记，仅激活已有的标记。
</p>

<p>
例如，若你希望将缓冲区中的部分文本转换为大写，可将光标移至目标文本的一端，按下 <code>C-SPC</code> ，再移动光标至目标文本的另一端，此时目标文本会被高亮显示。接着按下 <code>C-x C-u</code> (<code>upcase-region</code> ，将区域文本转为大写) ，该命令会将区域内的文本转换为大写，随后自动取消标记的激活状态。
</p>

<p>
只要标记处于激活状态，你可按下 <code>C-g</code> 取消其激活（详见「<a href="#Quitting">退出与终止操作</a>」）。大多数对区域执行操作的命令都会自动取消标记激活，如上述示例中的 <code>C-x C-u</code> 。
</p>

<p>
标记不仅可用于定义待操作的区域，还可用于标记缓冲区中的某个位置（连续按下 <code>C-SPC C-SPC</code> ），后续可通过 <code>C-u C-SPC</code> 跳回该位置（详见「<a href="#Mark-Ring">标记环</a>」相关内容）。
</p>

<p>
命令 <code>C-x C-x</code> (<code>exchange-point-and-mark</code>) 用于交换光标与标记的位置。当你希望保留当前光标位置，仅调整区域的另一端（标记位置）时，该命令非常实用。若需要，再次按下 <code>C-x C-x</code> ，可将标记移至新位置，同时将光标恢复至原始位置。默认情况下，若标记处于未激活状态，该命令会先重新激活上一次设置的标记，确保区域保持高亮；但如果为该命令添加前缀参数执行，它会保持标记未激活、区域不高亮的状态，你可通过这种方式跳至标记位置，效果与 <code>C-u C-SPC</code> 类似。
</p>

<p>
你也可通过鼠标设置标记：按住鼠标左键（ <code>down-mouse-1</code> ）并拖动划过一段文本，鼠标按下处会被设为标记，松开处则为光标位置。此外，点击鼠标右键（ <code>mouse-3</code> ）会在当前光标位置设置标记，再将光标移至点击位置。有关这些鼠标命令的详细说明，参见「<a href="#Mouse-Commands">编辑相关的鼠标命令</a>」。
</p>

<p>
最后，你还可在按下Shift 键的同时，按下部分光标移动命令（如 <code>S-RIGHT</code> 、 <code>S-C-f</code> 、 <code>S-C-n</code> 等）设置标记，这种方式被称为“shift-selection”移位选择。该操作会在移动光标前，于当前光标位置设置标记 —— 但仅当此前未通过移位选择或鼠标命令激活标记时生效。通过鼠标命令和移位选择设置的标记，与常规标记的行为略有不同：后续任何未按住 Shift 的光标移动命令，都会自动取消其激活状态（详见「<a href="#Shift-Selection">移位选择</a>」）。
</p>

<p>
许多插入文本的命令（如 <code>C-y</code> (<code>yank</code> ，粘贴) 会在插入文本的另一端设置标记，但不会激活该标记。这一设计能让你轻松返回该位置（详见「<a href="#Mark-Ring">标记环</a>」），当回显区显示 “Mark set（标记已设置）“ 时，即表示当前执行的命令完成了该操作。
</p>

<p>
在 X 窗口系统中，每当激活的区域发生变化，Emacs 会将区域内的文本保存至主选择区（primary selection），你可通过点击鼠标中键（ <code>mouse-2</code> ），将该文本插入其他 X 应用程序中（详见「<a href="#Primary-Selection">与其他窗口应用程序的剪切和粘贴</a>」）。
</p>
</div>
</div>
<div id="outline-container-Marking-Objects" class="outline-3">
<h3 id="Marking-Objects"><span class="section-number-3">13.2.</span> 标记文本对象的命令</h3>
<div class="outline-text-3" id="text-Marking-Objects">
<p>
以下命令可在单词、列表、段落、页面等文本对象的两端定位光标与标记：
</p>
<dl class="org-dl">
<dt><code>M-@</code></dt><dd>将标记设到下一个单词的末尾 (<code>mark-word</code>) ，执行后光标位置不变。</dd>
<dt><code>C-M-@</code></dt><dd>将标记设到下一个平衡表达式的末尾之后 (<code>mark-sexp</code>) ，执行后光标位置不变。</dd>
<dt><code>M-h</code></dt><dd>将光标移至当前段落开头，并将标记设到段落末尾 (<code>mark-paragraph</code>) 。</dd>
<dt><code>C-M-h</code></dt><dd>将光标移至当前函数定义开头，并将标记设到定义末尾 (<code>mark-defun</code>) 。</dd>
<dt><code>C-x C-p</code></dt><dd>将光标移至当前页面开头，并将标记设到页面末尾 (<code>mark-page</code>) 。</dd>
<dt><code>C-x h</code></dt><dd>将光标移至缓冲区开头，并将标记设到缓冲区末尾 (<code>mark-whole-buffer</code>) 。</dd>
</dl>

<p>
<code>M-@</code> (<code>mark-word</code>) 会把标记定位到下一个单词的末尾（关于单词的定义详见「<a href="#Words">单词</a>」相关内容）。重复执行该命令，会将标记逐个单词向后移动，从而扩展选中的区域。一个例外情况是：若标记处于激活状态且位于光标前方， <code>M-@</code> 会将标记从当前位置逐个单词向前移动。
</p>

<p>
该命令也可接收数字参数 <code>n</code> ，指示将标记向后移动 <code>n</code> 个单词；若传入负参数 <code>-n</code> ，则将标记向前移动 <code>n</code> 个单词。
</p>

<p>
类似地， <code>C-M-@</code> (<code>mark-sexp</code>) 会把标记定位到下一个平衡表达式的末尾（关于括号平衡表达式详见「<a href="#Expressions">带配对括号的表达式</a>」相关内容）。重复执行该命令，会将区域扩展至后续的表达式；传入正、负数字参数时，会将标记按指定数量的表达式向前或向后移动。
</p>

<p>
上述列表中的其他命令会同时调整光标与标记的位置，以此在缓冲区中划定一个文本对象的范围： <code>M-h</code> (<code>mark-paragraph</code>) 用于标记段落（详见「<a href="#Paragraphs">段落</a>」相关内容）， <code>C-M-h</code> (<code>mark-defun</code>) 用于标记顶层函数定义（详见「<a href="#Moving-by-Defuns">按函数定义移动</a>」相关内容）， <code>C-x C-p</code> (<code>mark-page</code>) 用于标记页面（详见「<a href="#Pages">页面</a>」相关内容）。重复执行这些命令，作用同样是扩展区域至相邻的同类文本对象；数字参数也可指定标记需要移动过的文本对象数量。
</p>

<p>
<code>C-x h</code> (<code>mark-whole-buffer</code>) 会将光标置于缓冲区开头、标记置于缓冲区末尾，从而将整个缓冲区设为选中区域
</p>
</div>
</div>
<div id="outline-container-Using-Region" class="outline-3">
<h3 id="Using-Region"><span class="section-number-3">13.3.</span> 对区域执行操作</h3>
<div class="outline-text-3" id="text-Using-Region">
<p>
定义好区域后，可通过以下方式对其执行各类操作：
</p>

<ul class="org-ul">
<li><code>C-w</code> 删除区域内容（参见「<a href="#Killing">文本的删除与移动</a>」）。</li>
<li><code>M-w</code> 将区域内容复制到删除环（参见「<a href="#Yanking">粘贴操作</a>」）。</li>
<li><code>C-x C-l</code> 或 <code>C-x C-u</code> 转换区域内容大小写（参见「<a href="#Case">大小写转换命令</a>」）。</li>
<li><code>C-u C-/</code> 撤销区域内的修改操作（参见「<a href="#Undo">撤销</a>」）。</li>
<li><code>M-%</code> 替换区域内的文本（参见「<a href="#Query-Replace">查询替换</a>」）。</li>
<li><code>C-x TAB</code> 或 <code>C-M-\</code> 对区域内容进行缩进（参见「<a href="#Indentation">缩进</a>」）。</li>
<li><code>M-x fill-region</code> 将区域内容按文本格式进行填充排版（参见「<a href="#Filling">文本填充</a>」）。</li>
<li><code>M-$</code> 检查区域内单词的拼写（参见「<a href="#Spelling">拼写检查与修正</a>」）。</li>
<li><code>M-x eval-region</code> 将区域内容作为 Lisp 代码执行（参见「<a href="#Lisp-Eval">Emacs Lisp 表达式的执行</a>」）。</li>
<li><code>C-x r s</code> 将区域内容保存到寄存器（参见「<a href="#Registers">寄存器</a>」）。</li>
<li>将区域内容保存到缓冲区或文件中（参见「<a href="#Accumulating-Text">文本累积</a>」）。</li>
</ul>

<p>
部分命令在标记未激活时执行默认操作，标记激活时则对区域进行操作。例如 <code>M-$</code> (<code>ispell-word</code>) ，默认会检查光标所在单词的拼写，标记激活时则检查区域内文本的拼写（参见「<a href="#Spelling">拼写检查与修正</a>」）。通常情况下，若区域为空（即标记与光标位置重合），这类命令会执行默认操作。若希望命令对空区域也执行区域操作，可将变量 <code>use-empty-active-region</code> 设为 <code>t</code> 。
</p>

<p>
如「<a href="#Erasing">文本擦除</a>」章节所述， <code>DEL</code> (<code>backward-delete-char</code> ，向前删除字符) 和 <code>Delete</code> (<code>delete-forward-char</code> ，向后删除字符) 命令也遵循此规则：标记激活时，这两个命令会删除区域内的文本。（例外情况：若为命令指定非 1 的数字参数 <code>n</code> ，无论标记是否激活，命令都会删除 <code>n</code> 个字符。）若将变量 <code>delete-active-region</code> 设为 <code>nil</code> ，这两个命令在标记激活时将不再执行特殊操作；若将该变量值设为 <code>kill</code> ，这两个命令会将区域内容删除并保存到删除环，而非直接擦除（参见「<a href="#Killing">文本的删除与移动</a>」）。
</p>

<p>
另有部分命令始终对区域进行操作，无默认行为，这类命令的名称中通常包含 “region”（区域），例如 <code>C-w</code> (<code>kill-region</code> ，删除区域) 和 <code>C-x C-u</code> (<code>upcase-region</code> ，区域内容转大写) 。标记未激活时，这些命令会对 <b>非激活区域</b> —— 即光标与上一次设置标记的位置之间的文本 —— 进行操作（参见「<a href="#Mark-Ring">标记环</a>」）。若要禁用此行为，可将变量 <code>mark-even-if-inactive</code> 设为 <code>nil</code> ，此后标记未激活时，执行这类命令会直接抛出错误。
</p>

<p>
默认情况下，即便标记处于激活状态，文本插入操作仍正常执行 —— 例如输入 a 会插入字符 a，随后取消标记的激活状态。次要模式「删除选中内容模式（Delete Selection mode）」会修改此行为：启用该模式后，标记激活时执行文本插入，会先删除区域内的文本，再插入新内容。不过可通过自定义选项 <code>delete-selection-temporary-region</code> 调整该行为，该选项默认值为 <code>nil</code> ；若将其设为 <code>t</code> ， <b>仅临时激活的区域</b> 会被新内容替换，临时激活区域包括通过鼠标拖动（参见「<a href="#Setting-Mark">设置标记</a>」）、移位选择（参见「<a href="#Shift-Selection">移位选择</a>」）设置的区域，以及临时标记模式禁用时通过 <code>C-u C-x C-x</code> 激活的区域。若将 <code>delete-selection-temporary-region</code> 设为 <code>selection</code> ，则仅鼠标拖动或移位选择激活的临时区域会被替换，通过 <code>C-u C-x C-x</code> 激活的临时区域不会被替换。键入 <code>M-x delete-selection-mode</code> 可切换 <code>delete-selection-mode删除选中内容模式</code> 的启用与禁用状态。
</p>
</div>
</div>
<div id="outline-container-Mark-Ring" class="outline-3">
<h3 id="Mark-Ring"><span class="section-number-3">13.4.</span> 标记环（Mark Ring）</h3>
<div class="outline-text-3" id="text-Mark-Ring">
<p>
每个缓冲区都会通过 <b>mark ring标记环</b> 记录标记的历史位置，设置标记的命令会将旧标记压入该标记环中。标记环的用途之一，就是记录你可能需要返回的位置。
</p>

<dl class="org-dl">
<dt><code>C-SPC C-SPC</code></dt><dd>设置标记并将其压入标记环，且不激活该标记。</dd>
<dt><code>C-u C-SPC</code></dt><dd>将光标移至标记的上一位置，并从历史标记环中恢复标记位置。</dd>
</dl>

<p>
当你希望用标记记录一个后续可能返回的位置时，命令 <code>C-SPC C-SPC</code> 会非常实用。该操作会将当前光标位置压入标记环，且不会激活标记（激活标记会让 Emacs 高亮显示对应区域）。这一操作实际是连续两次执行 <code>C-SPC</code> (<code>set-mark-command</code>) ：第一次按下 <code>C-SPC</code> 用于设置标记，第二次则用于取消标记的激活状态。（若临时标记模式处于关闭状态， <code>C-SPC C-SPC</code> 会临时激活该模式，详见「<a href="#Disabled-Transient-Mark">关闭临时标记模式</a>」相关内容。）
</p>

<p>
若要返回标记记录的位置，可带前缀参数执行 <code>set-mark-command</code> 命令： <code>C-u C-SPC</code> 。该操作会将光标移至标记的上一位置，若标记原本处于激活状态，则会将其取消激活。后续每一次按下 <code>C-u C-SPC</code> ，都会跳转到标记环中存储的更早一个位置，通过这种方式遍历的位置不会从环中丢失，而是会被移至标记环的末尾。
</p>

<p>
若将变量 <code>set-mark-command-repeat-pop</code> 设为非 nil 值，那么在按下 <code>C-u C-SPC</code> 后，可直接按下 <code>C-SPC</code> 替代 <code>C-u C-SPC</code> ，实现标记环的循环遍历。该变量的默认值为 <code>nil</code> 。
</p>

<p>
<b>每个缓冲区都有独立的标记环</b> ，所有编辑命令均使用当前缓冲区的标记环，因此 <code>C-u C-SPC</code> 的跳转操作始终在当前缓冲区中进行，不会跳至其他缓冲区。
</p>

<p>
变量 <code>mark-ring-max</code> 用于指定标记环中可保存的最大记录数，默认值为 16 条。当标记环中的记录达到该上限，且有新标记被压入时，最早存入的那条记录会被丢弃。重复按下 <code>C-u C-SPC</code> ，会在当前标记环中存储的所有位置间循环跳转。
</p>

<p>
若你需要反复返回同一个位置，标记环的操作方式可能不够便捷。这种情况下，你可将该位置记录到寄存器中，方便后续快速调取（详见「<a href="#Position-Registers">在寄存器中保存位置</a>」相关内容）。
</p>
</div>
</div>
<div id="outline-container-Global-Mark-Ring" class="outline-3">
<h3 id="Global-Mark-Ring"><span class="section-number-3">13.5.</span> 全局标记环（Global Mark Ring）</h3>
<div class="outline-text-3" id="text-Global-Mark-Ring">
<p>
除了每个缓冲区各自拥有的普通标记环外，Emacs 还配有一个 <code>global mark ring</code> 全局标记环。若在上一次设置标记后切换过缓冲区，那么每次你设置新标记时，该标记会被同时记录在当前缓冲区的标记环与全局标记环中。因此，全局标记环会记录你曾操作过的缓冲区序列，且为每个缓冲区留存一处标记设置的位置。全局标记环的最大记录数由变量 <code>global-mark-ring-max</code> 控制，默认值为 16 条。
</p>

<p>
需注意， <b>仅当通过命令新建标记时</b> ，该标记才会被记录到全局标记环中。若只是激活已存在的标记（例如在已有标记的位置按下 <code>C-SPC</code> ，详见「<a href="#Setting-Mark">设置标记</a>」章节），并不会将该标记压入全局标记环。
</p>

<p>
命令 <code>C-x C-SPC</code> (<code>pop-global-mark</code>) 会跳转到全局标记环中最新记录对应的缓冲区与位置，同时会对全局标记环进行轮循 —— 连续按下 <code>C-x C-SPC</code> ，会依次跳转到更早记录的缓冲区及对应标记位置。
</p>
</div>
</div>
<div id="outline-container-Shift-Selection" class="outline-3">
<h3 id="Shift-Selection"><span class="section-number-3">13.6.</span> 移位选择（Shift Selection）</h3>
<div class="outline-text-3" id="text-Shift-Selection">
<p>
在按下光标移动命令的同时按住 Shift 键，会先设置标记，再移动光标，使区域覆盖从光标原始位置到新位置的范围。该功能被称为 <b>shift-selection 移位选择</b> ，其文本选中方式与其他编辑器的操作逻辑相近。
</p>

<p>
通过移位选择设置的标记，行为与前文所述的常规标记略有不同。其一，除了常规的标记取消激活方式（如修改缓冲区文本、按下  <code>C-g</code> ）外， <b>任何未按住 Shift 键的光标移动命令</b> ，都会触发标记的取消激活；其二，后续再次按下的移位光标移动命令，不会重新设置标记。因此，连续执行一系列移位光标移动命令，可对选中区域进行连续调整。
</p>

<p>
仅当移位后的光标移动键 <b>未绑定至其他独立命令</b> 时，移位选择功能才会生效（参见「<a href="#Customization">自定义配置</a>」相关内容）。例如，若将  <code>S-C-f</code> 绑定至其他命令，按下 <code>S-C-f</code> 时会执行该绑定命令，而非触发 <code>C-f</code> (<code>forward-char</code>) 对应的移位选择操作。
</p>

<p>
通过鼠标命令设置的标记，与移位选择设置的标记行为 <b>完全一致</b> （参见「<a href="#Setting-Mark">设置标记</a>」相关内容）。例如，通过鼠标拖动划定区域后，可继续使用移位光标移动命令扩展该区域。无论以哪种方式设置标记，只要按下未按住 Shift 键的光标移动命令，都会取消标记的激活状态。
</p>

<p>
若要关闭移位选择功能，可将变量 <code>shift-select-mode</code> 的值设为 <code>nil</code> ，此操作不会禁用通过鼠标命令设置标记的功能。若将该变量值设为 <code>permanent</code> ，未经过移位转换的光标移动键将不会触发标记的取消激活；例如，此前命令划定的区域可通过移位选择继续扩展，未按住 Shift 键的光标移动键也能对移位选择划定的区域进行扩展。
</p>
</div>
</div>
<div id="outline-container-Disabled-Transient-Mark" class="outline-3">
<h3 id="Disabled-Transient-Mark"><span class="section-number-3">13.7.</span> 禁用瞬时标记模式（Disabling Transient Mark Mode）</h3>
<div class="outline-text-3" id="text-Disabled-Transient-Mark">
<p>
标记与区域的默认行为 —— 设置标记时会激活标记并高亮显示区域 —— 由 <b>临时标记模式</b> （Transient Mark mode） 实现。该模式为次要模式，在交互会话中默认启用，可通过 <code>M-x transient-mark-mode</code> 命令切换开关，也可通过「Options选项」菜单中的「Highlight Active Region 高亮激活区域」菜单项进行操作。关闭该模式后，Emacs 会切换为另一套操作方式：
</p>

<ul class="org-ul">
<li><p>
执行 <code>C-SPC</code> 、 <code>C-x C-x</code> 等命令设置标记时， <b>不会高亮显示区域</b> 。因此无法通过视觉判断标记的位置，只能手动记忆。
</p>

<p>
解决这一问题的常用方法是，设置标记后尽快使用，避免忘记其位置；也可通过 <code>C-x C-x</code> 命令查看标记位置，该命令会交换光标与标记的位置（参见「<a href="#Setting-Mark">设置标记</a>」章节）。
</p></li>

<li>部分原本在标记激活时会对区域执行操作的命令，将不再具备该行为。例如默认情况下，若标记处于激活状态， <code>M-%</code> (<code>qurey-replace</code>) 会在区域内执行替换操作；而关闭临时标记模式后，该命令会始终从光标位置开始，执行至缓冲区末尾。这类存在行为差异的命令，会在其自身的文档说明中明确标注。</li>
</ul>

<p>
关闭临时标记模式后，可通过 <code>C-SPC C-SPC</code> 或 <code>C-u C-x C-x</code> <b>临时激活</b> 该模式。
</p>

<dl class="org-dl">
<dt><code>C-SPC C-SPC</code></dt><dd>在光标位置设置标记（与普通的 <code>C-SPC</code> 操作一致），并一次性启用临时标记模式，直至标记被取消激活为止。（这并非独立命令，而是连续执行两次 <code>C-SPC</code> 命令的效果。）</dd>

<dt><code>C-u C-x C-x</code></dt><dd>交换光标与标记的位置，激活标记并临时启用临时标记模式，直至标记下一次被取消激活。（这是带前缀参数执行 <code>C-x C-x</code> 命令 <code>exchange-point-and-mark</code> 的效果。）</dd>
</dl>

<p>
上述命令在设置 或者 激活标记的同时，仅会在 <b>标记激活期间</b> 临时启用临时标记模式。使用该操作的一个常见原因是：关闭临时标记模式后，部分命令会对整个缓冲区而非区域执行操作，而临时启用该模式，就能让这些命令重新对区域生效。
</p>

<p>
通过鼠标（参见「<a href="#Setting-Mark">设置标记</a>」章节）或移位选择（参见「<a href="#Shift-Selection">移位选择</a>」章节）划定区域时，Emacs 也会以同样的方式 <b>临时激活临时标记模式</b> ，并高亮显示该区域。
</p>
</div>
</div>
</section>
<section id="outline-container-Killing" class="outline-2">
<h2 id="Killing"><span class="section-number-2">14.</span> 剪切与移动文本（Killing and Moving Text）</h2>
<div class="outline-text-2" id="text-Killing">
<p>
在 Emacs 中， <code>killing</code> 指擦除文本并将其复制到 <code>kill ring</code> 删除环中， <code>yanking</code> 指将删除环中的文本重新插入到缓冲区中。（部分应用程序将类似操作称为「cutting剪切」和「pasting粘贴」。）之所以称其为删除环，是因为可以将其想象成一组按环形排列的文本块，你能以循环的方式访问其中的内容，详见「<a href="#Kill-Ring">删除环</a>」相关章节。
</p>

<p>
killing删除与yanking粘贴是 Emacs 中移动或复制文本最常用的方式，该方式的灵活性极高，因为 Emacs 提供了针对多种不同语法单元的删除命令。
</p>
<ul class="org-ul">
<li><a href="#Deletion-and-Killing">删除与剪切</a></li>
<li><a href="#Yanking">粘贴（Yanking）</a></li>
<li><a href="#Cut-and-Paste">图形界面中的 “复制 - 粘贴” 操作</a></li>
<li><a href="#Accumulating-Text">文本累积（Accumulating Text）</a></li>
<li><a href="#Rectangles">矩形操作（Rectangles）</a></li>
<li><a href="#CUA-Bindings">CUA 键绑定（CUA Bindings）</a></li>
</ul>
</div>
<div id="outline-container-Deletion-and-Killing" class="outline-3">
<h3 id="Deletion-and-Killing"><span class="section-number-3">14.1.</span> 删除与剪切</h3>
<div class="outline-text-3" id="text-Deletion-and-Killing">
<p>
大多数从缓冲区中清除文本的命令，会将清除的文本保存至删除环中（参见「<a href="#Kill-Ring">删除环</a>」）。这类命令被称为 <b>kill commands删除命令</b> ，其名称中通常包含 “kill” 一词（例如  <code>kill-line</code> ）。删除环会存储近期多次执行删除操作的文本，而非仅保留最后一次的内容，因此删除操作的安全性很高：你无需过度担心丢失之前删除的文本。 删除环为 <b>所有缓冲区共享</b> ，因此在一个缓冲区中删除的文本，可粘贴至另一个缓冲区中。
</p>

<p>
当你使用 <code>C-/</code> (<code>undo</code> 撤销) 来撤销某一删除命令时（参见「<a href="#Undo">撤销</a>」），被删除的文本会恢复至缓冲区，但不会从删除环中移除。
</p>

<p>
在图形化显示界面中，执行删除操作的同时，还会将文本复制到系统剪贴板，详见「<a href="#Cut-and-Paste">图形化界面中的『剪切 - 粘贴』操作</a>』。
</p>

<p>
仅清除文本但 <b>不将其保存至删除环</b> 的命令，被称为 <b>delete commands 擦除命令</b> ，其名称中通常包含 “delete” 一词。这类命令包括 <code>C-d</code> (<code>delete-char</code> ，向前擦除字符) 和 <code>DEL</code> (<code>delete-backward-char</code> ，向后擦除字符) —— 二者均一次仅擦除一个字符，以及所有仅用于擦除空格或换行符的命令。通常，若某一命令会清除大量有效文本，其执行的是删除(kill)操作而非擦除操作。
</p>

<p>
你也可通过鼠标执行删除与粘贴操作，详见「<a href="#Cut-and-Paste">图形化界面中的『剪切 - 粘贴』操作</a>」。
</p>

<ul class="org-ul">
<li><a href="#Deletion">删除操作</a></li>
<li><a href="#Killing-by-Lines">按行剪切</a></li>
<li><a href="#Other-Kill-Commands">其他剪切命令</a></li>
<li><a href="#Kill-Options">剪切相关选项</a></li>
</ul>
</div>
<div id="outline-container-Deletion" class="outline-4">
<h4 id="Deletion"><span class="section-number-4">14.1.1.</span> 删除操作</h4>
<div class="outline-text-4" id="text-Deletion">
<p>
<code>delete</code> 擦除指清除文本且 <b>不将其保存至删除环</b> 的操作。Emacs 中的擦除命令，大多仅用于清除单个字符或空白字符。
</p>

<dl class="org-dl">
<dt><code>DEL</code></dt><dd></dd>

<dt><code>BACKSPACE</code></dt><dd>删除前一个字符；若区域处于激活状态，则删除区域内的文本 (<code>delete-backward-char</code>) 。</dd>
<dt><code>Delete</code></dt><dd>删除后一个字符；若区域处于激活状态，则删除区域内的文本 (<code>delete-forward-char</code>) 。</dd>
<dt><code>C-d</code></dt><dd>删除后一个字符 (<code>delete-char</code>) 。</dd>
<dt><code>M-\</code></dt><dd>删除光标位置前后的空格与制表符 (<code>delete-horizontal-space</code>) 。</dd>
<dt><code>M-x just-one-space</code></dt><dd>删除光标位置前后的空格与制表符，仅保留一个空格。</dd>
<dt><code>M-SPC</code></dt><dd>以灵活的方式删除光标位置前后的空格与制表符 (<code>cycle-spacing</code>) 。</dd>
<dt><code>C-x C-o</code></dt><dd>删除当前行前后的空行 (<code>delete-blank-lines</code>) 。</dd>
<dt><code>M-^</code></dt><dd>删除两行之间的换行符及换行符后的所有缩进，将两行合并为一行 (<code>delete-indentation</code>) 。</dd>
</dl>

<p>
前文已介绍过 "basic deletion commands基础擦除命令" <code>DEL</code> (<code>delete-backward-char</code>) 、 <code>Delete</code> (<code>delete-forward-char</code>) 与 <code>C-d</code> (<code>delete-char</code>) ，详见「<a href="#Erasing">文本擦除</a>」章节。为这些命令指定数字参数时，会按参数值删除对应数量的字符；若省略参数或参数为 1，当区域处于激活状态时， <code>DEL</code> 与 <code>Delete</code> 命令会删除区域内的所有文本，详见「<a href="#Using-Region">对区域进行操作</a>」章节。
</p>

<p>
其余擦除命令均仅用于清除空白字符（空格、制表符、换行符）。
</p>

<p>
<code>M-\</code> (<code>delete-horizontal-space</code>) 会删除光标位置前后所有的空格与制表符；若为该命令添加前缀参数，则仅删除光标位置之前的空格与制表符。
</p>

<p>
<code>M-x just-one-space</code> 会删除光标位置前后的制表符与空格，且无论原位置有多少个空格（即便无空格），均在光标前保留一个空格。为该命令指定正数字参数 <code>n</code> 时，会在光标前保留 <code>n</code> 个空格；若参数为负数字 <code>-n</code> ，则除了删除空格与制表符外，还会删除换行符，并在光标前保留 <code>-n</code> 个空格。
</p>

<p>
<code>cycle-spacing</code> (<code>M-SPC</code>) 可看作是功能更灵活的 <code>just-one-space</code> 命令。若连续重复执行该命令，它会按照 <code>cycle-spacing-actions</code> 变量定义的规则，循环执行不同的空白字符清理操作。默认规则为：第一次执行等同于 <code>just-one-space</code> 命令，第二次执行等同于 <code>delete-horizontal-space</code> 命令（删除光标前后所有空白字符），第三次执行恢复光标位置原本的空白字符布局，后续按此规则循环。若为该命令添加前缀参数，所有循环操作都会沿用该参数值。用户可通过自定义 <code>cycle-spacing-actions</code> 变量添加更多清理规则，具体可参考该变量的文档说明。
</p>

<p>
<code>C-x C-o</code> (<code>delete-blank-lines</code>) 会删除当前行之后的所有空行；若当前行本身为空行，则同时删除当前行之前的所有空行（仅保留当前行这一个空行）；若缓冲区中仅有这一个空行，则直接删除该行。
</p>

<p>
<code>M-^</code> (<code>delete-indentation</code>) 会删除换行符及其周围的所有空格，将当前行与上一行合并为一行，通常仅在合并处保留一个空格，详见「<a href="#Indentation">M-^ 命令说</a>明」。
</p>

<p>
<code>delete-duplicate-lines</code> 命令会在区域内查找重复的行，并删除每行的多余副本，仅保留一份。默认保留每组重复行中的第一行；若为该命令添加前缀参数 <code>C-u</code> ，则保留每组重复行中的最后一行；若添加前缀参数 <code>C-u C-u</code> ，则仅查找相邻的重复行（该模式执行效率更高，适用于已排序的文本）；若添加前缀参数 <code>C-u C-u C-u</code> ，则会保留重复的空行不做删除。
</p>
</div>
</div>
<div id="outline-container-Killing-by-Lines" class="outline-4">
<h4 id="Killing-by-Lines"><span class="section-number-4">14.1.2.</span> 按行剪切</h4>
<div class="outline-text-4" id="text-Killing-by-Lines">
<dl class="org-dl">
<dt><code>C-k</code></dt><dd>剪切行尾剩余内容，或剪切一行或多行内容 (<code>kill-line</code>) 。</dd>
<dt><code>C-S-backspace</code></dt><dd>一次性剪切整行内容 (<code>kill-whole-line</code>) 。</dd>
</dl>

<p>
最简单的剪切命令是 <code>C-k</code> (<code>kill-line</code>) 。若在行尾使用该命令，它会剪切行尾的换行符，将下一行合并至当前行（因此空行会被彻底删除）。若不在行尾， <code>C-k</code> 会剪切从光标位置到行尾的所有文本；若光标原本就在行首，执行后该行会变为空行。
</p>

<p>
判断适用上述哪种情况时，会忽略行尾的空格和制表符。只要光标位于行中最后一个非空白字符之后，即可确定 <code>C-k</code> 会剪切换行符。若要剪切一整行非空内容，需将光标移至行首，连续按两次 <code>C-k</code> 。
</p>

<p>
此处的「line行」指 <b>逻辑文本行</b> ，而非屏幕显示行（详见「<a href="#Continuation-Lines">折行</a>」相关说明）。
</p>

<p>
当给 <code>C-k</code> 传入正数值参数 <code>n</code> 时，它会剪切 <code>n</code> 行内容及其后续的换行符（光标之前的当前行文本不会被剪切）。若传入负数值参数 <code>-n</code> ，它会剪切当前行之前的 <code>n</code> 行内容，以及光标之前的当前行文本。若给 <code>C-k</code> 传入参数 0，则仅剪切光标之前的当前行文本。
</p>

<p>
若变量 <code>kill-whole-line</code> 的值为非空（non-nil），在行首执行 <code>C-k</code> 会剪切包含后续换行符在内的整行内容。该变量的默认值为空（nil）。
</p>

<p>
<code>C-S-backspace</code> (<code>kill-whole-line</code>) 会剪切包含换行符在内的整行内容，与光标在该行中的位置无关。注意，许多文本终端会限制输入 <code>C-S-backspace</code> 这个按键组合。
</p>
</div>
</div>
<div id="outline-container-Other-Kill-Commands" class="outline-4">
<h4 id="Other-Kill-Commands"><span class="section-number-4">14.1.3.</span> 其他剪切命令</h4>
<div class="outline-text-4" id="text-Other-Kill-Commands">
<dl class="org-dl">
<dt><code>C-w</code></dt><dd>剪切区域内的文本 (<code>kill-region</code>) 。</dd>
<dt><code>M-w</code></dt><dd>将区域内的文本复制到剪切环 (<code>kill-ring-save</code>) 。</dd>
<dt><code>M-d</code></dt><dd>剪切下一个单词 (<code>kill-word</code>) ，详见「<a href="#Words">单词</a>」相关说明。</dd>
<dt><code>M-DEL</code></dt><dd>向前剪切一个单词 (<code>backward-kill-word</code>) 。</dd>
<dt><code>C-x DEL</code></dt><dd>向前剪切至句子开头 (<code>backward-kill-sentence</code>) ，详见「<a href="#Sentences">句子</a>」相关说明。</dd>
<dt><code>M-k</code></dt><dd>剪切至句子末尾 (<code>kill-sentence</code>) 。</dd>
<dt><code>C-M-k</code></dt><dd>剪切后续的匹配表达式 (<code>kill-sexp</code>) ，详见「<a href="#Expressions">括号匹配表达式</a>」相关说明。</dd>
<dt><code>M-z char</code></dt><dd>剪切至指定字符的下一次出现位置（含该字符） (<code>zap-to-char</code>) 。</dd>
<dt><code>M-x zap-up-to-char char</code></dt><dd>剪切至指定字符的下一次出现位置（不含该字符）。</dd>
</dl>

<p>
最常用的剪切命令之一是 <code>C-w</code> (<code>kill-region</code>) ，该命令会剪切区域内的所有文本（详见「<a href="#Mark">标记与区域</a>」相关说明）。与之对应， <code>M-w</code> (<code>kill-ring-save</code>) 会将区域内的文本复制到剪切环，而不会从缓冲区中删除该文本。若按下 <code>C-w</code> 或 <code>M-w</code> 时标记处于未激活状态，命令会作用于光标位置与上一次设置标记的位置之间的文本（详见「<a href="#Using-Region">区域操作</a>」相关说明）。
</p>

<p>
Emacs 还提供了剪切特定语法单元的命令：可通过 <code>M-DEL</code> 和 <code>M-d</code> 剪切单词（详见「<a href="#Words">单词</a>」）；通过 <code>C-M-k</code> 剪切括号匹配表达式（详见「<a href="#Expressions">括号匹配表达式</a>」）；通过 <code>C-x DEL</code> 和 <code>M-k</code> 剪切句子（详见「<a href="#Sentences">句子</a>」）。
</p>

<p>
<code>M-z</code> (<code>zap-to-char</code>) 命令将剪切与搜索结合：输入一个字符后，命令会从光标位置开始，剪切至该字符在缓冲区中下一次出现的位置（包含该字符本身）。传入数字参数表示重复执行次数；传入负数值参数则表示 <b>向前搜索</b> 并剪切光标之前的内容。该命令会保留此前输入过的字符历史，可通过 <code>M-p</code> / <code>M-n</code> 按键调取，此功能在需要通过复杂输入法输入目标字符时尤为实用。与之类似的 <code>zap-up-to-char</code> 命令，同样剪切至指定字符的下一次出现位置，但 <b>不包含该字符本身</b> ，数字参数的作用同样为重复执行次数。
</p>
</div>
</div>
<div id="outline-container-Kill-Options" class="outline-4">
<h4 id="Kill-Options"><span class="section-number-4">14.1.4.</span> 剪切相关选项</h4>
<div class="outline-text-4" id="text-Kill-Options">
<p>
部分专用缓冲区包含 <code>read-only text</code> 只读文本，这类文本无法修改，因此也无法被剪切。 <code>kill commands</code> 剪切命令在只读缓冲区中会以特殊方式工作：光标会遍历目标文本并将其复制到剪切环，却不会从缓冲区中实际删除该文本。默认情况下，执行此操作时编辑器还会发出提示音并显示错误信息。但如果将变量 <code>kill-read-only-ok</code> 设为非空值，编辑器仅会在回显区打印一条提示信息，说明文本未被删除的原因。
</p>

<p>
在将剪切内容存入剪切环（kill ring）之前，你可以通过 <code>kill-transform-function</code> 函数对目标字符串进行转换。该函数会接收待剪切的字符串作为参数，返回值为你希望存入剪切环的字符串；若返回 <code>nil</code> ，则该字符串不会被存入剪切环。例如，若你希望永远不将纯空白字符串存入杀环，可使用以下配置：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> kill-transform-function
      (<span style="color: #a020f0;">lambda</span> (string)
        (<span style="color: #a020f0;">and</span> (not (string-blank-p string))
             string)))
</pre>
</div>

<p>
若将变量 <code>kill-do-not-save-duplicates</code> 设为非空值，连续执行的多次相同剪切操作，最终仅会在剪切环中生成一条条目，不会产生重复内容。
</p>

<p>
若启用次要模式 <code>kill-ring-deindent-mode</code> ，存入剪切环的文本会自动减少缩进量，减少的幅度与被保存文本第一行的缩进量一致。也就是说，若被保存文本的第一行有n列的缩进，该模式会从每一行的缩进中均移除n列的空白。
</p>
</div>
</div>
</div>
<div id="outline-container-Yanking" class="outline-3">
<h3 id="Yanking"><span class="section-number-3">14.2.</span> 粘贴（Yanking）</h3>
<div class="outline-text-3" id="text-Yanking">
<p>
<code>Yanking</code> 粘贴指重新插入此前被剪切的文本。移动或复制文本的常规方式为：先将文本剪切，再在其他位置将其粘贴。
</p>

<dl class="org-dl">
<dt><code>C-y</code></dt><dd>将最近一次剪切的内容粘贴到缓冲区的光标位置 (<code>yank</code>) 。</dd>
<dt><code>M-y</code></dt><dd>将刚粘贴的文本替换为更早一次剪切的文本块 (<code>yank-pop</code>) ，或支持从过往所有剪切的文本块列表中选择粘贴内容，详见「<a href="#Earlier-Kills">粘贴更早的剪切内容</a>」。</dd>
<dt><code>C-M-w</code></dt><dd>让后续执行的命令（若为剪切命令）将内容追加至前一次的剪切结果中（追加下一次剪切命令），详见「<a href="#Appending-Kills">追加剪切内容</a>」。</dd>
</dl>

<p>
基础的粘贴命令为 <code>C-y</code> (<code>yank</code>) ，该命令会插入最近一次剪切的内容，光标停留在插入文本的末尾；同时会在插入文本的开头位置设置标记（标记处于未激活状态），若需要跳转到该位置，可使用 <code>C-u C-SPC</code> 快捷键实现（详见「<a href="#Mark-Ring">标记环</a>」）。
</p>

<p>
若使用纯前缀参数执行该命令 <code>C-u C-y</code> ，光标会停留在插入文本的前方，并将标记设置在插入文本的末尾。使用其他任意前缀参数时，可指定粘贴更早一次的剪切内容：例如 <code>C-u 4 C-y</code> ，会重新插入倒数第四次剪切的内容，详见「<a href="#Earlier-Kills">粘贴更早的剪切内容</a>」。
</p>

<p>
在图形化界面及支持该功能的文本模式界面中， <code>C-y</code> 会首先检查：其他应用程序是否在 Emacs 最后一次剪切操作之后，向系统剪贴板写入了新的文本。若检测到新内容，C-y会优先插入系统剪贴板中的文本。因此，Emacs 会将其他应用中执行的剪贴板「cut剪切」或「copy复制」操作，视作 Emacs 自身的剪切操作来处理；区别在于，这些外部操作的内容 <b>不会被记录在 Emacs 的kill ring剪切环中</b> 。相关细节详见「<a href="#Cut-and-Paste">图形化界面中的 “剪切与粘贴” 操作</a>」。
</p>


<ul class="org-ul">
<li><a href="#Kill-Ring">剪切环（Kill Ring）</a></li>
<li><a href="#Earlier-Kills">粘贴之前的剪切内容</a></li>
<li><a href="#Appending-Kills">追加剪切内容（Appending Kills）</a></li>
</ul>
</div>
<div id="outline-container-Kill-Ring" class="outline-4">
<h4 id="Kill-Ring"><span class="section-number-4">14.2.1.</span> 剪切环（Kill Ring）</h4>
<div class="outline-text-4" id="text-Kill-Ring">
<p>
<code>kill ring</code> 剪切环是此前被剪切的文本块构成的列表。Emacs 中 <b>仅有一个剪切环</b> ，由所有缓冲区共享，因此你可在一个缓冲区中剪切文本，再在另一个缓冲区中粘贴，这也是将文本从一个缓冲区移至另一缓冲区的常规方式。（此外还有多种实现方法：例如可将文本存入寄存器，详见「<a href="#Registers">寄存器</a>」章节；也可参考「<a href="#Accumulating-Text">文本累加</a>」章节，了解其他文本移动方式。）
</p>

<p>
剪切环中的最大条目数由变量 <code>kill-ring-max</code> 控制，其默认值为 120。当剪切环达到该数量上限后，若执行新的剪切操作，Emacs 会删除剪切环中最旧的条目，为新内容腾出空间。
</p>

<p>
剪切环的实际内容存储在名为 <code>kill-ring</code> 的变量中，你可通过快捷键 <code>C-h v kill-ring</code> 查看剪切环的全部内容。
</p>
</div>
</div>
<div id="outline-container-Earlier-Kills" class="outline-4">
<h4 id="Earlier-Kills"><span class="section-number-4">14.2.2.</span> 粘贴之前的剪切内容</h4>
<div class="outline-text-4" id="text-Earlier-Kills">
<p>
正如「<a href="#Yanking">粘贴</a>」章节所述，你可以为快捷键 <code>C-y</code> 添加数字参数，来粘贴并非最近一次的删除文本。如果你能记清想要调用删除环中的哪一项内容，这个方法会非常实用。若记不清，可使用 <code>M-y</code> (<code>yank-pop</code>) 命令遍历所有删除记录，或从中选中某条更早的删除内容。
</p>

<p>
如果上一个执行的命令是粘贴类命令， <code>M-y</code> 会将当前已粘贴的文本，替换为删除环中更早一条的删除内容。因此，若要恢复倒数第二次的删除文本，需先执行 <code>C-y</code> 粘贴最后一次的删除内容，再执行 <code>M-y</code> 将其替换为前一次的删除内容。该操作 <b>仅在执行C-y或其他M-y命令后有效</b> （若在其他命令后调用 <code>M-y</code> ，执行逻辑会有所不同，详见下文）。
</p>

<p>
你可以通过 <b>最后粘贴指针</b> 来理解 <code>M-y</code> 的这一运行模式：该指针始终指向删除环中的某一条目。每次执行删除操作时，最后粘贴指针会移动到删除环头部新生成的条目处。 <code>C-y</code> 会粘贴该指针指向的条目；在 <code>C-y</code> 或其他 <code>M-y</code> 之后执行 <code>M-y</code> ，会将最后粘贴指针移动到上一条目，同时缓冲区中的文本会同步替换为该条目内容。连续执行多次 <code>M-y</code> ，可将指针移动到删除环中的任意条目，从而将任意删除内容调入缓冲区。当指针到达删除环末尾时，再次执行 <code>M-y</code> 会循环回到第一条目。
</p>

<p>
<code>M-y</code> 仅会移动删除环中的最后粘贴指针， <b>不会改变删除环中条目的顺序</b> —— 删除环始终保持「头部为最近一次删除内容，尾部为仍保留的最早一次删除内容」的顺序。
</p>

<p>
在 <code>C-y</code> 或 <code>M-y</code> 之后执行 <code>M-y</code> 时，也可为其添加数字参数，该参数用于指定最后粘贴指针需要向前移动的条目数。负数字参数会让指针向删除环头部移动；若指针已在头部，会循环到尾部并继续向前移动。
</p>

<p>
当你找到目标文本并将其调入缓冲区后，即可停止执行 <code>M-y</code> ，此时最后粘贴的文本会保留在缓冲区中。该文本仅是删除环条目的一份副本，因此在缓冲区中编辑它， <b>不会改变删除环中原有的内容</b> 。只要未执行新的删除操作，最后粘贴指针会始终停留在删除环的当前位置，重复执行 <code>C-y</code> 会粘贴同一条历史删除内容的另一份副本。
</p>

<p>
为 <code>C-y</code> 添加数字参数执行时，最后粘贴指针也会同步指向此次粘贴的条目。
</p>

<p>
你也可在非粘贴类命令后调用 <code>M-y</code> ，此时 <code>M-y</code> 会在迷你缓冲区中弹出提示，让你选择某条历史删除内容。你可使用 <b>迷你缓冲区历史命令</b> （参见「<a href="#Minibuffer-History">迷你缓冲区历史</a>」）遍历或搜索删除环中的条目，直至找到想要重新插入的内容；也可使用补全命令（参见「<a href="#Completion-Commands">补全命令</a>」），对删除环条目列表进行补全匹配，或弹出 <code>*Completions*</code> （补全）缓冲区，从候选条目中选择目标内容。选中删除环条目后，你还可在迷你缓冲区中对其进行编辑。最后按下 <code>RET</code> （回车）退出迷你缓冲区，选中的删除环条目文本就会插入到缓冲区中。与在粘贴命令后执行 <code>M-y</code> 的情况相同，最后粘贴指针会指向此次刚粘贴的文本（无论该文本是某条原始历史删除内容，还是你编辑后再插入的删除环条目 —— 若为后者，编辑后的条目会被添加到删除环的头部）。因此，这种情况下执行 <code>C-y</code> ，也会粘贴刚插入的文本的另一份副本。
</p>

<p>
在非粘贴类命令后，使用纯前缀参数 (<code>C-u M-y</code>) 调用 <code>M-y</code> 时，该命令会将光标定位在插入文本的前方，并在文本末尾设置标记，与 <code>C-y</code> 的默认行为一致。
</p>
</div>
</div>
<div id="outline-container-Appending-Kills" class="outline-4">
<h4 id="Appending-Kills"><span class="section-number-4">14.2.3.</span> 追加剪切内容（Appending Kills）</h4>
<div class="outline-text-4" id="text-Appending-Kills">
<p>
默认情况下，每一个删除命令都会向删除环中新增一条独立条目。但 <b>连续执行的两个或多个删除命令</b> ，会将其删除的文本合并为删除环中的单一条目，如此一来，单次执行 <code>C-y</code> 即可将所有文本作为一个整体粘贴回来，与删除前的原貌一致。
</p>

<p>
因此，若你希望将一段文本作为整体粘贴，无需用单个命令一次性删除全部内容；你可以逐行、逐个单词地连续执行删除操作，直至删完目标文本，后续仍能一次性将其全部恢复。
</p>

<p>
从光标处向前删除的命令，会将删除的文本追加到上一次删除内容的末尾；从光标处向后删除的命令，会将删除的文本添加到上一次删除内容的开头。通过这种方式，无论你混合执行多少次向前、向后的删除命令，所有被删除的文本都会按原有顺序合并为删除环中的单一条目，不会发生内容错乱。为删除命令添加数字参数，并不会打断这种删除内容的追加序列。例如，假设缓冲区中有如下文本：
</p>

<div class="org-src-container">
<pre class="src src-shell">This is a line &#8727;of sample text.
</pre>
</div>

<p>
其中 <code>∗</code> 为光标位置。若你依次执行 <code>M-d</code> （删除后一个单词）、 <code>M-DEL</code> （删除前一个单词）、 <code>M-d</code> 、 <code>M-DEL</code> ，交替进行向前、向后删除，最终删除环中会新增单一条目a line of sample，而缓冲区中剩余文本为 "This is text." （注意is与text之间的两个空格，可使用 <code>M-SPC</code> 或 <code>M-q</code> 整理）。
</p>

<p>
删除上述相同文本的另一种方式：先执行 <code>M-b M-b</code> 将光标向前移动两个单词，再执行 <code>C-u M-d</code> 向前一次性删除四个单词。这种操作在缓冲区和删除环中产生的结果，与前一种交替删除的方式完全一致。即便执行 <code>M-f M-f</code> 将光标后移两个单词，再执行 <code>C-u M-DEL</code> 向后一次性删除四个单词，最终结果也毫无差别 —— 删除环中该条目内的文本，始终与删除前其在缓冲区中的原有顺序保持一致。
</p>

<p>
若某一删除命令与上一次删除命令之间，插入了 <b>其他非删除命令</b> （仅添加数字参数除外），则该命令会在删除环中新建一条独立条目。但你可通过提前执行 <code>C-M-w</code> (<code>append-next-kill</code> 追加下一次删除) ，强制让该删除命令与上一次的删除内容合并。 <code>C-M-w</code> 的作用是：告知其后紧跟的命令（若为删除命令），将此次删除的内容视作上一次删除序列的一部分。与常规的追加规则一致，若该删除命令为向前删除，则将文本追加到上一次删除内容的末尾；若为向后删除，则将文本添加到上一次删除内容的开头。通过这种方式，你可以删除缓冲区中多处不连续的文本，并将其全部累积为一个整体，后续在某一位置一次性粘贴回来。
</p>

<p>
执行 <code>M-w</code> (<code>kill-ring-save</code> 保存到删除环，即复制) 后，紧跟的删除命令不会将删除的文本，追加到 <code>M-w</code> 复制到删除环中的内容之后。
</p>
</div>
</div>
</div>
<div id="outline-container-Cut-and-Paste" class="outline-3">
<h3 id="Cut-and-Paste"><span class="section-number-3">14.3.</span> 图形界面中的 “复制 - 粘贴” 操作</h3>
<div class="outline-text-3" id="text-Cut-and-Paste">
<p>
在大多数图形化桌面环境中，你可通过名为 <b>clipboard剪贴板</b> 的系统功能，在不同应用程序间传输数据（通常为文本）。在 X 窗口系统中，还有另外两种类似的功能可用： <b>主选择区</b> 和 <b>次选择区</b> 。当 Emacs 在图形化显示界面中运行时，其删除和粘贴命令会与这些系统功能集成，因此你能轻松在 Emacs 与其他图形化应用之间传输文本。
</p>

<p>
默认情况下，Emacs 将 <b>UTF-8</b> 用作程序间文本传输的编码系统。若你发现粘贴的文本与预期不符，可通过键入 <code>C-x RET x</code> 或 <code>C-x RET X</code> 指定其他编码系统；也可通过自定义 <code>x-select-request-type</code> 变量，请求使用不同的数据类型。详见《<a href="#Communication-Coding">进程间通信的编码系统</a>》章节。
</p>

<ul class="org-ul">
<li><a href="#Clipboard">使用剪贴板</a></li>
<li><a href="#Primary-Selection">与其他窗口应用程序的复制 - 粘贴</a></li>
<li><a href="#Secondary-Selection">次要选择（Secondary Selection）</a></li>
</ul>
</div>
<div id="outline-container-Clipboard" class="outline-4">
<h4 id="Clipboard"><span class="section-number-4">14.3.1.</span> 使用剪贴板</h4>
<div class="outline-text-4" id="text-Clipboard">
<p>
<code>clipboard</code> 剪贴板是绝大多数图形化应用程序用于 <b>剪切粘贴</b> 的系统功能。当系统存在剪贴板时，Emacs 的删除和粘贴命令会直接调用该功能。
</p>

<p>
当你通过 <code>C-w</code> (<code>king-region</code>) 这类命令删除文本，或通过 <code>M-w</code> (<code>kill-ring-save</code>) 这类命令将文本复制至删除环时， <b>该文本也会同时存入系统剪贴板</b> 。
</p>

<p>
Emacs 的删除命令向剪贴板写入文本时，剪贴板中原有的内容默认会被覆盖。你可手动配置 Emacs，将剪贴板原有内容保存至删除环，避免旧数据丢失：若将变量 <code>save-interprogram-paste-before-kill</code> 设为数字值，当剪贴板原有内容的字符数小于该数字时，会自动将其复制到删除环；若将该变量设为非 nil 的其他值，则无论内容大小，都会始终将剪贴板原有内容复制到删除环 —— 但此设置可能因剪贴板内容过大，导致 Emacs 内存占用过高。
</p>

<p>
<code>C-y</code> (<code>yank</code>) 这类粘贴命令同样会调用剪贴板。若 <b>剪贴板的归属权属于其他应用程序</b> （即你在其他应用中执行剪切 / 复制操作的时间，晚于在 Emacs 中执行最后一次删除命令的时间），Emacs 会优先从 <b>系统剪贴板</b> 粘贴内容，而非从自身的 kill rang删除环中读取。
</p>

<p>
默认情况下，使用 <code>M-y</code> (<code>yank-pop</code>) 遍历 Emacs 删除环的操作， <b>不会修改系统剪贴板的内容</b> ；若将变量 <code>yank-pop-change-selection</code> 设为t，则执行 <code>M-y</code> 时，会将当前遍历到的粘贴内容同步保存至系统剪贴板。
</p>

<p>
若要禁止 Emacs 的  <code>kill 删除</code> 、粘贴命令访问系统剪贴板，将变量 <code>select-enable-clipboard</code> 设为 <code>nil</code> 即可。
</p>

<p>
程序可向剪贴板存入纯文本以外的内容，例如网页浏览器中对图片执行「复制图片」操作后，图片数据会被存入剪贴板。在支持该功能的平台上，你可通过 Emacs 的 <code>yank-media</code> 命令粘贴这类对象 —— <b>仅在支持该特性的编辑模式下可用</b> （详见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Yanking-Media.html#Yanking-Media">粘贴媒体内容</a>」章节）。
</p>

<p>
许多 X 窗口桌面环境支持 <b>clipboard manager剪贴板管理器功能</b> ：若 Emacs 是当前剪贴板数据的归属程序，且系统中正在运行剪贴板管理器，那么退出 Emacs 时，Emacs 会将剪贴板数据传输至剪贴板管理器，避免数据丢失。部分场景下，该传输过程可能导致 Emacs 退出卡顿；若要禁止此行为，将变量 <code>x-select-enable-clipboard-manager</code> 设为 <code>nil</code> 即可。
</p>

<p>
由于包含 <b>空字节（NUL）</b> 的字符串在通过剪贴板传输时，通常会被截断，因此 Emacs 会在将这类字符串传输至系统剪贴板前，自动将空字节替换为转义字符“\0”。
</p>

<p>
在Emacs 24 版本之前，其删除和粘贴命令默认调用的是主选择区（详见「<a href="#Primary-Selection">与其他窗口应用的剪切粘贴</a>」小节），而非系统剪贴板。若你希望恢复旧版行为，需同时完成以下配置：将 <code>select-enable-clipboard</code> 设为 <code>nil</code> 、 <code>select-enable-primary</code> 设为 <code>t</code> 、 <code>mouse-drag-copy-region</code> 设为 <code>t</code> 。配置后，你可通过以下命令显式操作系统剪贴板：
</p>
<ul class="org-ul">
<li><code>clipboard-kill-region</code> ：删除指定区域文本，并将其保存至剪贴板；</li>
<li><code>clipboard-kill-ring-save</code> ：将指定区域文本复制至 Emacs 删除环，同时保存至剪贴板；</li>
<li><code>clipboard-yank</code> ：在光标位置粘贴系统剪贴板中的内容。</li>
</ul>
</div>
</div>
<div id="outline-container-Primary-Selection" class="outline-4">
<h4 id="Primary-Selection"><span class="section-number-4">14.3.2.</span> 与其他窗口应用程序的复制 - 粘贴</h4>
<div class="outline-text-4" id="text-Primary-Selection">
<p>
在 X 窗口系统、PGTK 图形工具包及 Haiku 系统中，存在 <b>primary selection主选择区</b> 功能，其中会保存 X 应用中最后一次选中的文本（通常通过鼠标拖动选中）。通常情况下，在其他 X 应用中单击 <code>mouse-2</code> 鼠标中键，即可将该文本插入对应位置。主选择区与剪贴板相互独立，其内容的留存性更低 —— 每次用鼠标选中新文本时，主选择区的内容就会被覆盖，而剪贴板的内容仅会被显式的剪切或复制命令覆盖。
</p>

<p>
在 X 窗口系统中，只要 Emacs 的 <b>区域处于激活</b> 状态（参见《<a href="#Mark">标记与区域</a>》），区域内的文本就会自动保存到主选择区。无论该区域是通过鼠标拖动、点击创建（参见《<a href="#Mouse-Commands">编辑相关的鼠标命令</a>》），还是通过键盘命令创建（例如按下 <code>C-SPC</code> 设置标记后移动光标），此规则均适用。
</p>

<p>
若将变量 <code>select-active-regions</code> 设为 <code>only</code> ，Emacs 仅会将 <b>临时激活的区域</b> （即通过鼠标或移位选择创建的区域，参见《<a href="#Shift-Selection">移位选择</a>》）保存至主选择区；若将该变量设为 <code>nil</code> ，Emacs 则完全不会将激活区域的内容保存到主选择区。
</p>

<p>
要将主选择区的内容插入 Emacs 缓冲区，在目标位置单击 <code>mouse-2</code> (<code>mouse-yank-primary</code>) 即可（参见《<a href="#Mouse-Commands">编辑相关的鼠标命令</a>》）。若已启用 <code>select-enable-primary</code> 变量（参见《<a href="#Clipboard">使用剪贴板</a>》），也可使用 Emacs 常规的粘贴命令 <code>C-y</code> 来插入该文本。
</p>

<p>
默认情况下，即便在其他程序中选中了文本，Emacs 的区域仍会保持激活状态，这与 X 窗口系统的常规行为不符。若希望当其他程序向主选择区存入数据后，Emacs 自动取消区域激活，启用全局次要模式 <code>lost-selection-mode</code> 即可。
</p>

<p>
MS-Windows微软视窗系统本身不提供主选择区功能，但 Emacs 会通过内部 <b>存储选中的文本</b> ，在单个 Emacs 会话中模拟该功能。因此，所有与主选择区相关的功能和命令，在视窗系统中对 <b>同一 Emacs 会话内</b> 的剪切粘贴操作均有效，与在 X 窗口系统中的表现一致；但跨 Emacs 会话，或与其他应用程序之间的剪切粘贴，该模拟功能则无法生效。
</p>
</div>
</div>
<div id="outline-container-Secondary-Selection" class="outline-4">
<h4 id="Secondary-Selection"><span class="section-number-4">14.3.3.</span> 次要选择（Secondary Selection）</h4>
<div class="outline-text-4" id="text-Secondary-Selection">
<p>
除主选择区外，X 窗口系统还提供了另一项功能相似的机制，即 <code>secondary selection次选择区</code> 。如今鲜有 X 应用程序会用到次选择区，但你可以通过以下 Emacs 命令对其进行操作：
</p>

<dl class="org-dl">
<dt><code>M-Drag-mouse-1</code> 拖动鼠标左键</dt><dd><p>
设置次选择区，选区的一端为按下鼠标键的位置，另一端为松开鼠标键的位置（对应命令 <code>mouse-set-secondary</code> ）。拖动过程中，选中的文本会以次选择区面版的样式高亮显示。若将鼠标拖至窗口顶部或底部外侧，窗口会自动滚动，该行为与 <code>mouse-set-region</code> 命令一致（参见《<a href="#Mouse-Commands">编辑相关的鼠标命令</a>》）。
</p>

<p>
该命令不会修改Emacs 的 kill ring删除环。
</p></dd>
<dt><code>M-mouse-1</code> 单击鼠标左键</dt><dd>设置次选择区的一个端点 (<code>mouse-start-secondary</code>) ；可配合 <code>M-mouse-2</code> 单击鼠标右键设定另一个端点，完成选区的创建。执行该命令新建次选择区时，会取消当前已存在的任意次选择区。</dd>

<dt><code>M-mouse-3</code> 单击鼠标右键</dt><dd>设置次选择区 (<code>mouse-secondary-save-then-kill</code>) ，选区的一端为单击该按键的位置，另一端为之前通过 <code>M-mouse-1</code> 单击鼠标左键指定的位置。该操作会同时将选中的文本存入 Emacs 的删除环。若在同一位置再次执行 <code>M-mouse-3</code> 单击鼠标右键，则会删除刚通过次选择区选中的文本。</dd>
<dt><code>M-mouse-2</code> 单击鼠标中键</dt><dd>将次选择区的内容插入到单击位置，且光标会定位在粘贴文本的末尾 (<code>mouse-yank-secondary</code>) 。</dd>
</dl>

<p>
对 <code>M-mouse-1</code> 单击鼠标左键执行双击或三击操作时，会按单词、按行进行选区匹配，行为与普通的鼠标左键双击 / 三击基本一致。
</p>

<p>
若变量 <code>mouse-yank-at-point</code> 设为非 nil 值，则 <code>M-mouse-2</code> 单击鼠标中键会在当前光标位置粘贴内容，此时鼠标单击的具体位置、甚至单击的是框架中的哪个窗口，均不影响粘贴结果（参见《<a href="#Mouse-Commands">编辑相关的鼠标命令</a>》）。该用户选项同样会作用于交互式搜索：若其值为非 nil，在框架内任意位置通过鼠标执行的粘贴操作，都会将对应文本添加至搜索字符串中。
</p>
</div>
</div>
</div>
<div id="outline-container-Accumulating-Text" class="outline-3">
<h3 id="Accumulating-Text"><span class="section-number-3">14.4.</span> 文本累积（Accumulating Text）</h3>
<div class="outline-text-3" id="text-Accumulating-Text">
<p>
通常我们通过 <code>killing删除 + yanking粘贴</code> 的方式复制或移动文本，但如需将某段文本复制到多个位置，或把多处分散的文本复制到同一位置，还有其他更便捷的方法。本节将介绍把分散的文本片段累积到缓冲区或文件中的相关命令。
</p>

<dl class="org-dl">
<dt><code>M-x append-to-buffer</code></dt><dd>将选中的区域文本追加至指定缓冲区的内容中。</dd>
<dt><code>M-x prepend-to-buffer</code></dt><dd>将选中的区域文本前置插入至指定缓冲区的内容中。</dd>
<dt><code>M-x copy-to-buffer</code></dt><dd>将选中的区域文本复制到指定缓冲区，清空该缓冲区原有的所有内容。</dd>
<dt><code>M-x insert-buffer</code></dt><dd>将指定缓冲区的全部内容，插入到当前缓冲区的光标位置。</dd>
<dt><code>M-x append-to-file</code></dt><dd>将选中的区域文本追加至指定文件的末尾。</dd>
</dl>

<p>
若要将文本累积到缓冲区中，可使用 <code>M-x append-to-buffer</code> 。执行该命令时，会先提示你输入缓冲区名称，随后将选中区域的文本副本插入至该指定缓冲区；若指定的缓冲区不存在，该命令会自动创建。文本的插入位置为 <b>目标缓冲区的当前光标处</b> ：若该缓冲区此前被用于编辑，复制的文本会从光标当前位置开始，插入到缓冲区原有文本的中间位置。
</p>

<p>
执行后，目标缓冲区的光标会停留在复制文本的末尾，因此连续执行 <code>M-x append-to-buffer</code> 时，文本会按照 <b>复制的先后顺序</b> 累积到指定缓冲区中。严格来说，该命令并非始终将文本追加到缓冲区原有内容的末尾 —— 仅当目标缓冲区的光标处于末尾位置时，才会实现「追加」效果。但如果仅使用该命令修改某一缓冲区，光标会始终保持在缓冲区末尾，也就始终实现追加。
</p>

<p>
<code>M-x prepend-to-buffer</code> 的功能与 <code>M-x append-to-buffer</code> 基本一致，唯一区别是：执行后目标缓冲区的光标会停留在复制文本的前方，因此连续执行该命令时，文本会按与复制顺序相反的方式添加。 <code>M-x copy-to-buffer</code> 与之类似，但会先 <b>清空目标缓冲区的所有原有内容</b> ，最终该缓冲区中仅保留本次新复制的文本。
</p>

<p>
使用 <code>C-x x i</code> (<code>insert-buffer</code>) 命令，可从其他缓冲区中调取累积的文本。执行该命令时会提示输入缓冲区名称，随后将该缓冲区的全部文本副本插入到 <b>当前缓冲区的光标位置</b> ，且光标会停留在插入文本的开头；同时会将插入文本的末尾位置添加到 <b>mark ring标记环</b> 中，且不会激活标记。关于缓冲区的基础信息，可参见《<a href="#Buffers">使用多个缓冲区</a>》章节。
</p>

<p>
除了将文本累积到缓冲区，也可使用 <code>M-x append-to-file</code> 直接将文本追加到文件中。执行该命令时会提示输入文件名，随后将选中区域的文本添加到指定文件的末尾，且修改会 <b>立即同步到磁盘上的文件</b> 。
</p>

<p>
注意： <code>append-to-file</code> 该命令仅适用于 <b>未在 Emacs 中打开</b> 的文件。若对 Emacs 中正在编辑的文件执行此命令，会在 Emacs 后台修改文件内容，可能导致部分编辑操作的内容丢失。
</p>

<p>
另一种文本移动的方法是将文本存储到寄存器中，相关操作可参见《<a href="#Registers">寄存器</a>》章节。
</p>
</div>
</div>
<div id="outline-container-Rectangles" class="outline-3">
<h3 id="Rectangles"><span class="section-number-3">14.5.</span> 矩形操作（Rectangles）</h3>
<div class="outline-text-3" id="text-Rectangles">
<p>
<code>Rectangle</code> 矩形操作命令作用于文本的 <b>矩形区域</b> ：即某几行范围内、指定两列之间的所有字符。Emacs 提供了多种矩形操作命令，可实现矩形区域的删除、粘贴、清空、填充空白或指定文本，或直接删除矩形区域等功能。矩形命令适用于多列格式的文本编辑，也可将普通文本转换为多列格式，或反向转换。
</p>

<p>
要为命令指定操作的矩形区域，需在矩形的 <b>一个对角</b> 设置标记，将光标置于 <b>对角的另一端</b> ，这样定义的矩形区域被称为 <b>region-rectangle区域矩形</b> 。若光标与标记处于同一列，该区域矩形为空；若处于同一行，该区域矩形的高度为一行。
</p>

<p>
区域矩形的控制方式与普通区域基本一致，但需注意：同一组光标与标记的位置组合，会根据调用命令的不同，被解析为 <b>普通区域</b> 或 <b>矩形区域</b> 。
</p>

<p>
也可通过鼠标标记矩形区域： <code>C-M-mouse-1</code> 按住并拖动鼠标左键，从矩形的一个对角拖至另一个对角即可。
</p>

<p>
<b>矩形操作核心快捷键</b>
</p>

<dl class="org-dl">
<dt><code>C-x r k</code></dt><dd>删除区域矩形内的文本，并将其内容保存为 <b>the last killed rectangle最近一次删除的矩形</b> (<code>kill-rectangle</code>) 。</dd>
<dt><code>C-x r M-w</code></dt><dd>将区域矩形内的文本保存为最近一次删除的矩形，不删除原文本 (<code>copy-rectangle-as-kill</code>) 。</dd>
<dt><code>C-x r d</code></dt><dd>直接删除区域矩形内的文本 (<code>delete-rectangle</code>) 。</dd>
<dt><code>C-x r y</code></dt><dd>粘贴最近一次删除的矩形，其左上角对齐当前光标位置 (<code>yank-rectangle</code>) 。</dd>
<dt><code>C-x r o</code></dt><dd>插入空格填充到当前区域矩形，将原矩形内的内容向右推移 (<code>open-rectangle</code>) 。</dd>
<dt><code>C-x r N</code></dt><dd>在区域矩形的左侧边缘插入行号，将原矩形内的内容向右推移 (<code>rectangle-number-lines</code>) 。</dd>
<dt><code>C-x r c</code></dt><dd>将区域矩形内的所有内容替换为空格，实现清空效果 (<code>clear-rectangle</code>) 。</dd>
<dt><code>M-x delete-whitespace-rectangle</code></dt><dd>删除指定矩形区域内每行的空白字符，从矩形左边缘对应的列开始执行。</dd>
<dt><code>C-x r t 字符串 RET</code></dt><dd>将矩形区域内的每行内容替换为指定字符串 (<code>string-rectangle</code>) 。</dd>
<dt><code>M-x string-insert-rectangle RET 字符串 RET</code></dt><dd>在矩形区域的每行插入指定字符串。</dd>
<dt><code>C-x SPC</code></dt><dd>切换矩形标记模式 (<code>rectangle-mark-mode</code>) 。该模式激活时，区域矩形会高亮显示，可调整其大小，且标准的删除、粘贴命令会直接作用于该矩形区域。</dd>
</dl>

<p>
<b>矩形操作的分类与核心逻辑</b>
</p>

<p>
矩形操作主要分为两类： <b>erase擦除 / insert插入矩形的命令</b> ，以及 <b>make blank rectangles创建空白矩形的命令</b> 。
</p>

<p>
一、擦除矩形区域的两种方式
</p>
<ul class="org-ul">
<li><code>C-x r d</code> (<code>delete-rectangle</code>) ：直接删除矩形内的文本，不保存；</li>
<li><code>C-x r k</code> (<code>kill-rectangle</code>) ：删除文本并将其保存为 <code>last killed rectanle最近一次删除的矩形</code> 。</li>
</ul>

<p>
两种方式的擦除效果一致：均会删除矩形内每行的指定文本，若该行擦除位置后还有其他文本，后续文本会向左移动填补空白。
</p>

<p>
注意：删除矩形并非普通意义上的「删除」—— 矩形内容不会存入 <b>删除环</b> ，而是保存在一个专门的区域，且该区域仅记录 <b>最近一次删除的矩形</b> 。这是因为矩形粘贴与普通线性文本的粘贴逻辑差异极大，需使用专用的粘贴命令，且矩形操作不支持 <b>粘贴循环</b> 功能。
</p>

<p>
<code>C-x r M-w</code> (<code>copy-rectangle-as-kill</code>) 是矩形操作的「复制」命令，等同于普通文本的 <code>M-w</code> ：仅将矩形内容记录为最近一次删除的矩形，不会从缓冲区中删除原文本。
</p>

<p>
二、矩形粘贴
</p>

<p>
执行 <code>C-x r y</code> (<code>yank-rectangle</code>) 可粘贴最近一次删除的矩形：矩形的第一行插入在光标位置，第二行插入在光标正下方同一列的位置，后续行依次向下排列，受影响的行数由保存的矩形高度决定。
</p>

<p>
示例：将两个单列列表合并为双列列表，可将其中一个单列列表作为矩形删除，再将其粘贴至另一个列表的右侧。
</p>

<p>
此外，还可通过 <code>C-x r r r</code> 寄存器和 <code>C-x r i r</code> 寄存器，将矩形内容存入寄存器或从寄存器中调取，详见《<a href="#Rectangle-Registers">将矩形保存至寄存器</a>》章节。
</p>

<p>
三、创建空白矩形
</p>

<p>
有两个命令可创建空白矩形：
</p>
<ul class="org-ul">
<li><code>C-x r c</code> (<code>clear-rectangle</code>) ：将现有区域矩形内的文本替换为空格，保留矩形区域的占位；</li>
<li><code>C-x r o</code> (<code>open-rectangle</code>) ：直接插入一个空白的矩形区域，原区域内容向右推移。</li>
</ul>

<p>
四、其他常用矩形命令
</p>

<ul class="org-ul">
<li><code>delete-whitespace-rectangle</code> ：删除矩形区域内每行的水平空白字符，以矩形 <b>左边缘的列</b> 为起始位置，矩形的右边缘对该命令无影响；</li>
<li><code>C-x r N</code> (<code>rectangle-number-lines</code>) ：在区域矩形的左侧边缘插入行号，默认从数字 1 开始（对应矩形的第一行）。若添加前缀参数，命令会提示输入起始行号，以及行号的格式化字符串（详见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Formatting-Strings.html#Formatting-Strings">格式化字符串</a>》章节）；</li>
<li><code>C-x r t</code> (<code>string-rectangle</code>) ：将矩形区域内的每行内容替换为指定字符串，字符串的宽度无需与矩形宽度一致：若字符串更短，矩形右侧的文本会向左移动；若字符串更长，矩形右侧的文本会向右移动；</li>
<li><code>string-insert-rectangle</code> ：与 <code>string-rectangle</code> 类似，但不会替换原内容，仅在矩形区域的每行插入指定字符串，原文本向右推移。</li>
</ul>

<p>
<b>矩形标记模式（Rectangle Mark Mode）</b>
</p>

<p>
<code>C-x SPC</code> (<code>rectangle-mark-mode</code>) 用于切换区域的高亮类型（必要时会先激活普通区域）：模式启用时，高亮显示 <b>区域矩形</b> ，调整区域大小的命令（如 <code>C-f</code> 、 <code>C-n</code> 等）会 <b>按矩形方式</b> 调整，且删除、粘贴命令会直接作用于该矩形区域（详见《<a href="#Killing">删除与移动文本</a>》章节）。该模式仅在 <b>区域处于激活状态</b> 时有效。
</p>

<p>
区域矩形仅在 <b>标记激活</b> 时生效。尤其当 <b>临时标记模式</b> 关闭时（详见《<a href="#Disabled-Transient-Mark">关闭临时标记模式</a>》），除了按下 <code>C-x SPC</code> ，还需手动激活标记。
</p>

<p>
与普通区域不同，区域矩形的对角可延伸至 <b>缓冲区末尾之外</b> ，也可定位在光标通常无法进入的空白区域内（例如 <code>TAB</code> 制表符的中间位置）。
</p>

<p>
当区域处于激活状态且开启矩形标记模式时，执行 <code>C-x C-x</code> 会调用 <code>rectangle-exchange-point-and-mark</code> 命令，该命令会在区域矩形的 <b>四个对角之间循环切换</b> 光标与标记的位置。若要在对标记文本执行操作前调整区域矩形的尺寸，该命令会非常实用。
</p>
</div>
</div>
<div id="outline-container-CUA-Bindings" class="outline-3">
<h3 id="CUA-Bindings"><span class="section-number-3">14.6.</span> CUA 键绑定（CUA Bindings）</h3>
<div class="outline-text-3" id="text-CUA-Bindings">
<p>
执行命令 <code>M-x cua-mode</code> 可配置一套与 <b>通用用户访问（CUA）</b> 系统兼容的键位绑定，该系统被广泛应用于其他各类应用程序中。
</p>

<p>
启用 CUA 模式后，按键 <code>C-x</code> 、 <code>C-c</code> 、 <code>C-v</code> 和 <code>C-z</code> 将分别执行剪切（kill删除）、复制、粘贴(yank)和撤销命令。 <b>仅当区域处于激活状态时</b> ， <code>C-x</code> 和 <code>C-c</code> 才会执行剪切、复制操作；若区域未激活，这两个按键仍会作为 <b>prefix keys前缀键</b> 生效，因此 <code>C-x C-c</code> 这类标准 Emacs 命令依然可以正常使用。需注意，这意味着变量 <code>mark-even-if-inactive</code> 对 <code>C-x</code> 和 <code>C-c</code> 不产生任何作用（参见《<a href="#Using-Region">对区域执行操作</a>》章节）。
</p>

<p>
若标记处于激活状态，想要输入 <code>C-x C-f</code> 这类 Emacs 标准命令，可采用以下两种方法：一是按住 <code>Shift</code> 键同时按下前缀键，例如 <code>S-C-x C-f</code> ；二是快速连续按下两次前缀键，例如 <code>C-x C-x C-f</code> 。
</p>

<p>
若希望保留下文所述 CUA 模式的其他功能，仅禁用其对 Emacs 标准键位绑定的覆盖，可将变量 <code>cua-enable-cua-keys</code> 设为 <code>nil</code> 。
</p>

<p>
CUA 模式默认会激活 <b>删除选区模式</b> （参见《<a href="#Mouse-Commands">编辑相关的鼠标命令</a>》章节），此时输入的文本会替换激活的区域。若想使用 CUA 模式但关闭该行为，将变量 <code>cua-delete-selection</code> 设为 <code>nil</code> 即可。
</p>

<p>
CUA 模式对矩形操作提供了增强支持，包括 <b>矩形区域高亮显示</b> 功能：按下 <code>C-RET</code> 即可开始标记矩形，通过移动命令扩展矩形范围，再使用 <code>C-x</code> 或 <code>C-c</code> 对其执行剪切或复制操作。按下 <code>RET</code> 可将光标移动至矩形的下一个（顺时针方向）角点，方便向任意方向扩展矩形。在该模式下，输入的普通文本会插入到矩形每一行的左侧或右侧（与光标所处的一侧保持一致）。
</p>

<p>
即便不激活 CUA 模式，也可通过调用 <code>cua-rectangle-mark-mode</code> 命令，使用这套矩形操作增强功能。此外还有标准的 <code>rectangle-mark-mode</code> 命令可供使用，详见《<a href="#Rectangles">矩形操作</a>》章节。
</p>

<p>
在 CUA 模式下，可为剪切、复制、粘贴命令添加 <b>单个数字的前缀参数</b> ，轻松将文本和矩形存入或调取自寄存器。例如， <code>C-1 C-c</code> 会将区域内容复制到寄存器 <code>1</code> 中， <code>C-2 C-v</code> 会粘贴寄存器 <code>2</code> 中的内容。
</p>

<p>
CUA 模式还提供 <b>全局标记</b> 功能，便于在不同缓冲区之间移动和复制文本：按下 <code>C-S-SPC</code> 可切换全局标记的开启与关闭状态。当全局标记开启时，所有被剪切或复制的文本会自动插入到全局标记位置，输入的文本也会插入至全局标记处，而非当前光标位置。
</p>

<p>
示例：若要将多个缓冲区中的单词复制到某一缓冲区的单词列表中，可先在目标缓冲区中设置全局标记，然后导航至每个需要添加的单词处，标记该单词（例如使用 <code>S-M-f</code> ），通过 <code>C-c</code> 或 <code>M-w</code> 将其复制到列表中，最后按下 <code>RET</code> 在目标列表的该单词后插入换行符即可。
</p>
</div>
</div>
</section>
<section id="outline-container-Registers" class="outline-2">
<h2 id="Registers"><span class="section-number-2">15.</span> 寄存器（Registers）</h2>
<div class="outline-text-2" id="text-Registers">
<p>
Emacs <code>registers寄存器</code> 是可用于保存文本、矩形、位置及其他内容的独立存储区域，方便后续调用。文本或矩形一旦存入寄存器，可单次或多次复制到缓冲区中；位置一旦存入寄存器，也可单次或多次跳转到该位置。
</p>

<p>
每个寄存器均有一个 <b>a single character单字符名称</b> ，下文统一用 <code>r</code> 表示；该字符可以是字母（如“a”）或数字（如“1”）， <b>大小写敏感</b> ，因此寄存器“a”与寄存器“A”并非同一个。也可使用非字母数字字符命名寄存器，例如通过 <code>C-q C-d</code> 的方式将 “C-d” 设为寄存器名。
</p>

<p>
一个寄存器可存储的内容类型包括：位置、文本片段、矩形、数字、窗口或框架配置、缓冲区名或文件名，但 <b>同一时间仅能存储一种内容</b> 。存入寄存器的内容会一直保留，直至向该寄存器存入其他内容。若要查看寄存器 <code>r</code> 中存储的内容，可使用 <code>M-x view-register</code> 命令：
</p>

<dl class="org-dl">
<dt><code>M-x view-register RET r</code></dt><dd>显示寄存器 <code>r</code> 中存储内容的描述信息。</dd>
</dl>

<p>
所有需要指定寄存器的命令，默认情况下会经过短暂延迟后，弹出一个 <code>preview window预览窗口</code> ，列出当前已存在的寄存器（若有）及其对应值。寄存器的提示相关行为（包括预览功能）可通过自定义变量 <code>register-use-preview</code> 实现，该变量可设置为以下值：
</p>

<dl class="org-dl">
<dt><code>traditional</code></dt><dd>默认值，Emacs 表现与 29 版本之前的所有版本一致：经过指定延迟后显示已有寄存器的预览，直接输入寄存器名即可覆盖该寄存器的原有值。预览的延迟时长由可自定义变量 <code>register-preview-delay</code> 指定（单位为秒）；将该变量设为 <code>nil</code> 则禁用预览功能（但在 Emacs 提示输入寄存器时，仍可通过按下 <code>C-h</code> 或 <code>F1</code> 显式调出预览窗口）。</dd>

<dt><code>t</code></dt><dd><p>
启用更灵活的寄存器预览功能。Emacs 提示输入寄存器时会 <b>立即弹出预览窗口</b> （ <code>register-preview-delay</code> 不再生效），且预览窗口支持导航：可通过 <code>C-n</code> 、 <code>C-p</code> （或上下方向键）在预览窗口的寄存器间切换。在此模式下，若要覆盖已有寄存器的值，需通过导航选中该寄存器或直接输入其名称后，按下 <code>RET</code> 确认。
</p>

<p>
此外，预览窗口显示的寄存器会根据调出预览的命令进行过滤：例如 <code>insert-register</code> 命令调出的预览，仅显示可插入缓冲区的寄存器内容，隐藏存储窗口配置、位置及其他不可插入内容的寄存器。
</p></dd>

<dt><code>insist</code></dt><dd>行为与 <code>t</code> 一致，额外支持直接 <b>再次按下寄存器名对应的按键</b> 退出迷你缓冲区，无需按 <code>RET</code> 确认。</dd>

<dt><code>nil</code></dt><dd>行为接近 <code>traditional</code> ，但预览窗口会 <b>无延迟弹出</b> ，且寄存器列表会根据命令进行过滤。</dd>

<dt><code>never</code></dt><dd>行为与 <code>nil</code> 一致，且 <b>直接禁用预览功能</b> 。</dd>
</dl>

<p>
<code>Bookmarks书签</code> 用于记录文件及其对应的位置，方便再次打开该文件时快速跳转到对应位置。书签的设计思路与寄存器相似，因此也在本章介绍。
</p>

<ul class="org-ul">
<li><a href="#Position-Registers">在寄存器中保存位置</a></li>
<li><a href="#Text-Registers">在寄存器中保存文本</a></li>
<li><a href="#Rectangle-Registers">在寄存器中保存矩形</a></li>
<li><a href="#Configuration-Registers">在寄存器中保存窗口与框架配置</a></li>
<li><a href="#Number-Registers">在寄存器中存储数字</a></li>
<li><a href="#File-and-Buffer-Registers">在寄存器中存储文件与缓冲区名称</a></li>
<li><a href="#Keyboard-Macro-Registers">键盘宏寄存器（Keyboard Macro Registers）</a></li>
<li><a href="#Bookmarks">书签（Bookmarks）</a></li>
</ul>
</div>
<div id="outline-container-Position-Registers" class="outline-3">
<h3 id="Position-Registers"><span class="section-number-3">15.1.</span> 在寄存器中保存位置</h3>
<div class="outline-text-3" id="text-Position-Registers">
<dl class="org-dl">
<dt><code>C-x r SPC r</code></dt><dd>将光标位置与当前缓冲区记录至寄存器 <code>r</code> 中 (<code>point-to-register</code>) 。</dd>
<dt><code>C-x r j r</code></dt><dd>跳转到寄存器 <code>r</code> 中保存的缓冲区及对应光标位置 (<code>jump-to-register</code>) 。</dd>
</dl>

<p>
按下 <code>C-x r SPC</code> (<code>point-to-register</code>) ，随后输入字符 <code>r</code> ，即可将当前的 <b>光标位置</b> 和 <b>所属缓冲区</b> 一同保存至寄存器 <code>r</code> 。该寄存器会一直保留此信息，直至向其中存入其他内容。
</p>

<p>
执行 <code>C-x r j r</code> 命令，会切换至寄存器 <code>r</code> 中记录的缓冲区，设置标记点，并将光标移动到该寄存器保存的位置（若光标已处于记录的位置，或连续调用该命令时，不会重复设置标记点）。寄存器内的内容不会因该操作发生改变，因此你可以无限次跳转到这个保存的位置。
</p>

<p>
若使用 <code>C-x r j</code> 跳转到已保存的位置，但该位置所属的缓冲区已被关闭，Emacs 会尝试通过重新打开原文件来重建该缓冲区。当然，此功能仅对原本关联了文件的缓冲区生效。
</p>
</div>
</div>
<div id="outline-container-Text-Registers" class="outline-3">
<h3 id="Text-Registers"><span class="section-number-3">15.2.</span> 在寄存器中保存文本</h3>
<div class="outline-text-3" id="text-Text-Registers">
<p>
若你需要多次插入同一段文本的副本，从删除环中粘贴会十分不便 —— 因为后续每一次的删除操作，都会让该文本条目在删除环中不断后移。此时可将文本存入寄存器，后续再从寄存器中调取使用，这是更优的替代方案。
</p>

<dl class="org-dl">
<dt><code>C-x r s r</code></dt><dd>将选中的区域文本复制到寄存器 <code>r</code> 中 (<code>copy-to-register</code>) 。</dd>
<dt><code>C-x r i r</code></dt><dd>从寄存器 <code>r</code> 中插入文本至缓冲区 (<code>insert-register</code>) 。</dd>
<dt><code>M-x append-to-register RET r</code></dt><dd><p>
将选中的区域文本追加到寄存器 <code>r</code> 中已存储的文本末尾。
</p>

<p>
当寄存器 <code>r</code> 中存储的是文本时，你可使用 <code>C-x r +</code> (<code>increment-register</code>) 向该寄存器追加内容。请注意，若寄存器 <code>r</code> 中存储的是数字， <code>C-x r +</code> 命令的执行行为会有所不同，详见《<a href="#Number-Registers">在寄存器中存储数字</a>》章节。
</p></dd>

<dt><code>M-x prepend-to-register RET r</code></dt><dd>将选中的区域文本添加到寄存器 <code>r</code> 中已存储的文本开头。</dd>
</dl>

<p>
执行 <code>C-x r s r</code> 会将区域内的文本副本存入名为 <code>r</code> 的寄存器。若标记处于未激活状态，Emacs 会先将标记重新激活在其上次被设置的位置，该命令执行完毕后标记会被取消激活，相关说明详见《<a href="#Mark">标记与区域</a>》章节。带前缀参数执行该命令（ <code>C-u C-x r s r</code> ）时，会将文本复制到寄存器 <code>r</code> 的同时，从缓冲区中删除该区域的文本；你可将此操作理解为将区域文本移动到寄存器中。
</p>

<p>
执行 <code>M-x append-to-register RET r</code> ，会将区域文本的副本追加至名为 <code>r</code> 的寄存器中已存储的文本末尾。若带前缀参数执行该命令，文本追加完成后，缓冲区中的对应区域会被删除。 <code>prepend-to-register</code> 命令的功能与之类似，区别仅在于该命令会将区域文本添加到寄存器内文本的开头，而非末尾。
</p>

<p>
当你使用 <code>append-to-register</code> 和 <code>prepend-to-register</code> 命令收集文本时，可能需要用分隔符将各段收集的文本区分开。这种情况下，你可 <b>配置一个寄存器分隔符</b> <code>register-separator</code>  ，并将分隔符文本存入该寄存器。例如，若要在文本收集过程中使用两个换行符作为分隔符，可进行如下设置：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #a020f0;">setq</span> register-separator ?+)
(set-register register-separator <span style="color: #8b2252;">"\n\n"</span>)
</pre>
</div>

<p>
执行 <code>C-x r i r</code> 会将寄存器 <code>r</code> 中的文本插入到缓冲区中。默认情况下，光标会停留在插入文本的末尾，标记会被设置在插入文本的开头，且标记不会被激活。若带前缀参数执行该命令，光标会被置于插入文本的开头，标记则会设置在文本末尾。
</p>
</div>
</div>
<div id="outline-container-Rectangle-Registers" class="outline-3">
<h3 id="Rectangle-Registers"><span class="section-number-3">15.3.</span> 在寄存器中保存矩形</h3>
<div class="outline-text-3" id="text-Rectangle-Registers">
<p>
寄存器中可存储矩形区域，而非仅能存储线性文本。关于如何在缓冲区中指定矩形区域的基础说明，详见《<a href="#Rectangles">矩形操作</a>》章节。
</p>

<dl class="org-dl">
<dt><code>C-x r r r</code></dt><dd>将区域矩形复制至寄存器 <code>r</code> 中 (<code>copy-rectangle-to-register~</code>) 。带前缀参数执行时，会同时从缓冲区中删除该矩形区域。</dd>
<dt><code>C-x r i r</code></dt><dd>插入寄存器 <code>r</code> 中存储的矩形区域（若该寄存器内保存的是矩形） (<code>insert-register</code>) 。</dd>
</dl>

<p>
前文《<a href="#Text-Registers">将文本保存到寄存器</a>》中介绍的 <code>C-x r i r</code> (<code>insert-register</code>) 命令，若目标寄存器中存储的是矩形区域，该命令会插入此矩形，而非文本字符串。
</p>
</div>
</div>
<div id="outline-container-Configuration-Registers" class="outline-3">
<h3 id="Configuration-Registers"><span class="section-number-3">15.4.</span> 在寄存器中保存窗口与框架配置</h3>
<div class="outline-text-3" id="text-Configuration-Registers">
<p>
你可将选中框架的窗口配置保存至寄存器，甚至能将所有框架中所有窗口的配置一并保存，后续再恢复该配置。关于窗口配置的相关信息，详见《<a href="#Window-Convenience">窗口操作便捷功能</a>》章节。
</p>

<dl class="org-dl">
<dt><code>C-x r w r</code></dt><dd>将选中框架的窗口状态保存至寄存器 <code>r</code> (<code>window-configuration-to-register</code>) 。</dd>
<dt><code>C-x r f r</code></dt><dd>将所有框架的状态（包括其下所有窗口，亦称为 <b>框架集</b> ）保存至寄存器 <code>r</code> (<code>frameset-to-register</code>) 。</dd>
</dl>

<p>
可使用 <code>C-x r j r</code> 恢复窗口或框架配置，该命令与恢复光标位置的命令为同一个。恢复框架配置时，所有未包含在该配置中的现有框架会变为不可见状态；若你希望直接删除这些框架，可执行 <code>C-u C-x r j r</code> 。
</p>
</div>
</div>
<div id="outline-container-Number-Registers" class="outline-3">
<h3 id="Number-Registers"><span class="section-number-3">15.5.</span> 在寄存器中存储数字</h3>
<div class="outline-text-3" id="text-Number-Registers">
<p>
Emacs 提供了专门命令，可将数字存入寄存器、将寄存器中的数字以十进制形式插入缓冲区，还能对寄存器内的数字执行自增操作。这些命令在编写键盘宏时会十分实用（详见《<a href="#Keyboard-Macros">键盘宏</a>》章节）。
</p>

<dl class="org-dl">
<dt><code>C-u number C-x r n r</code></dt><dd>将指定数字存入寄存器 <code>r</code> (<code>number-to-register</code>) 。</dd>
<dt><code>C-u number C-x r + r</code></dt><dd>若寄存器 <code>r</code> 中存储的是数字，将该寄存器内的数字与指定数字相加（即完成自增指定数值的操作）。请注意，若寄存器 <code>r</code> 中存储的是文本， <code>C-x r +</code> (<code>increment-register</code>) 的执行行为会有所不同，详见《<a href="#Text-Registers">将文本保存到寄存器</a>》章节。</dd>
<dt><code>C-x r i r</code></dt><dd>将寄存器 <code>r</code> 中的数字插入至缓冲区中。</dd>
</dl>

<p>
<code>C-x r i</code> 是通用命令，既可插入寄存器中的数字，也可插入寄存器内存储的其他任意类型内容。执行 <code>C-x r +</code> 时若未指定数字参数，会将寄存器内的数值自增 1；执行 <code>C-x r n</code> 时若未指定数字参数，会将0存入目标寄存器。
</p>
</div>
</div>
<div id="outline-container-File-and-Buffer-Registers" class="outline-3">
<h3 id="File-and-Buffer-Registers"><span class="section-number-3">15.6.</span> 在寄存器中存储文件与缓冲区名称</h3>
<div class="outline-text-3" id="text-File-and-Buffer-Registers">
<p>
若你需要频繁打开某些文件，可将其文件名存入寄存器，后续访问会更为便捷。将文件名存入寄存器 <code>r</code> 的 Lisp 代码如下：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-register r '(file . name))
</pre>
</div>

<p>
例如，执行代码：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-register ?z '(file . <span style="color: #8b2252;">"/gd/gnu/emacs/19.0/src/ChangeLog"</span>))
</pre>
</div>

<p>
即可将示例中的文件名存入寄存器 "z"。
</p>

<p>
要打开寄存器 <code>r</code> 中存储的文件名对应的文件，键入 <code>C-x r j r</code> 即可（该命令与跳转到保存的光标位置、恢复框架配置的命令为同一个）。
</p>

<p>
同理，若你需要频繁切换至某些缓冲区，也可将其缓冲区名存入寄存器。例如，若你经常打开 <code>*Messages*</code> 缓冲区，可执行以下代码将该缓冲区名存入寄存器 <code>m</code> ：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-register ?m '(buffer . <span style="color: #8b2252;">"*Messages*"</span>))
</pre>
</div>

<p>
要切换至寄存器 <code>r</code> 中存储的缓冲区名对应的缓冲区，键入 <code>C-x r j r</code> 即可。
</p>
</div>
</div>
<div id="outline-container-Keyboard-Macro-Registers" class="outline-3">
<h3 id="Keyboard-Macro-Registers"><span class="section-number-3">15.7.</span> 键盘宏寄存器（Keyboard Macro Registers）</h3>
<div class="outline-text-3" id="text-Keyboard-Macro-Registers">
<p>
若你需要频繁执行某一键盘宏（详见《<a href="#Keyboard-Macros">键盘宏</a>》章节），将其存入寄存器或进行保存会更为便捷（详见《<a href="#Save-Keyboard-Macro">键盘宏的命名与保存</a>》章节）。按下 <code>C-x C-k x r</code> (<code>kmacro-to-register</code>) ，可将最近录制的键盘宏存入寄存器 <code>r</code> 中。
</p>

<p>
要执行寄存器 <code>r</code> 中存储的键盘宏，键入 <code>C-x r j r</code> 即可（该命令与跳转到保存的位置、恢复框架集的命令为同一个）。
</p>
</div>
</div>
<div id="outline-container-Bookmarks" class="outline-3">
<h3 id="Bookmarks"><span class="section-number-3">15.8.</span> 书签（Bookmarks）</h3>
<div class="outline-text-3" id="text-Bookmarks">
<p>
<code>Bookmarks</code> 书签的作用与寄存器有相似之处，均可记录供跳转的位置；但与寄存器不同的是，书签支持长命名，且会自动永久保存，跨 Emacs 会话生效。书签的典型用法，是记录你在不同文件中阅读到的位置。
</p>

<dl class="org-dl">
<dt><code>C-x r m RET</code></dt><dd>为当前打开的文件，在光标位置创建书签（使用文件名作为默认书签名称）。</dd>
<dt><code>C-x r m 书签名称 RET</code></dt><dd>在光标位置创建指定名称的书签 (<code>bookmark-set</code>) 。</dd>
<dt><code>C-x r M 书签名称 RET</code></dt><dd>功能与 <code>C-x r m</code> 一致，但不会覆盖已存在的同名书签。</dd>
<dt><code>C-x r b 书签名称 RET</code></dt><dd>跳转到指定名称的书签位置 (<code>bookmark-jump</code>) 。</dd>
<dt><code>C-x r l</code></dt><dd>列出所有已创建的书签 (<code>list-bookmarks</code>) 。</dd>
<dt><code>M-x bookmark-save</code></dt><dd>将当前所有书签的配置保存至默认书签文件。</dd>
</dl>

<p>
要记录当前打开文件中的光标位置，可执行 <code>C-x r m</code> 命令，该命令会以当前文件名作为默认书签名称创建书签。若为每个书签按其指向的文件命名，后续即可通过 <code>C-x r b</code> (<code>bookmark-jump</code>) 便捷地重新打开对应文件，同时直接跳转到书签记录的位置。
</p>

<p>
在图形化显示界面中，执行 <code>C-x r m</code> 创建书签时，除记录位置外，还会在书签对应行的左侧页边距（参见《<a href="#Fringes">窗口页边距</a>》章节）显示一个特殊图标，标识该位置存在书签。该功能可通过用户选项 <code>bookmark-fringe-mark</code> 控制：将其设为 <code>nil</code> 即可关闭页边距书签标识，默认值为 <code>bookmark-mark</code> （即用于标识书签的位图图标）。后续通过 <code>C-x r b</code> 跳转到该书签时，页边距的书签标识会重新显示。
</p>

<p>
<code>C-x r M</code> (<code>bookmark-set-no-overwrite</code>) 命令的功能与 <code>C-x r m</code> 基本一致，区别在于：若指定的书签名称已存在，该命令会抛出错误提示，而非直接覆盖原有书签。
</p>

<p>
键入 <code>C-x r l</code> (<code>list-bookmarks</code>) 可在独立缓冲区中列出所有书签；切换至该书签缓冲区后，你可对书签定义进行编辑，或为书签添加注释。在书签缓冲区中键入 <code>C-h m</code> ，可查看其专属编辑命令的更多说明。
</p>

<p>
当你关闭 Emacs 时，若书签配置有过修改，Emacs 会自动保存书签；你也可在任意时刻执行 <code>M-x bookmark-save</code> 命令手动保存。书签默认保存至文件 <code>~/.emacs.d/bookmarks</code> （为兼容旧版 Emacs，若存在文件 <code>~/.emacs.bmk</code> ，则会优先使用该文件）。书签相关命令会自动加载默认书签文件，正是通过这种 <b>自动保存与加载</b> 的机制，实现书签的跨 Emacs 会话永久保存。
</p>

<p>
若将变量 <code>bookmark-save-flag</code> 设为1，则每次执行书签创建命令后，Emacs 都会自动保存书签配置；即便 Emacs 意外崩溃，也不会丢失书签数据。该变量若设为数字值，代表每完成指定次数的书签修改后，自动执行一次保存操作；若将其设为 <code>nil</code> ，则 Emacs 仅会在你显式执行 <code>M-x bookmark-save</code> 时，才保存书签配置。
</p>

<p>
变量 <code>bookmark-default-file</code> 用于指定书签的默认保存文件。
</p>

<p>
若将变量 <code>bookmark-use-annotations</code> 设为 <code>t</code> ，创建书签时会弹出提示，让你为书签添加注释；当书签存在注释时，后续跳转到该书签位置，注释会自动在独立窗口中显示。
</p>

<p>
书签记录位置时，会同时保存位置周边的上下文内容，因此即便文件内容有轻微修改， <code>bookmark-jump</code> 仍能准确定位到书签位置。变量 <code>bookmark-search-size</code> 用于指定书签位置两侧需要记录的上下文字符数（注意：对于打开的加密文件，无论该变量如何设置，书签文件中都不会保存任何上下文内容）。
</p>

<p>
以下是书签的一些附加操作命令：
</p>

<dl class="org-dl">
<dt><code>M-x bookmark-load RET 文件名 RET</code></dt><dd>加载指定文件中的书签配置列表。除默认书签文件外，你可通过该命令与 <code>bookmark-write</code> 命令，管理其他书签配置文件。</dd>
<dt><code>M-x bookmark-write RET 文件名 RET</code></dt><dd>将当前所有书签配置保存至指定文件。</dd>
<dt><code>M-x bookmark-delete RET 书签名称 RET</code></dt><dd>删除指定名称的书签。</dd>
<dt><code>M-x bookmark-insert-location RET 书签名称 RET</code></dt><dd>在缓冲区中插入指定书签指向的文件名。</dd>
<dt><code>M-x bookmark-insert RET 书签名称 RET</code></dt><dd>在缓冲区中插入指定书签指向文件的全部内容。</dd>
</dl>
</div>
</div>
</section>
<section id="outline-container-Display" class="outline-2">
<h2 id="Display"><span class="section-number-2">16.</span> 显示控制</h2>
<div class="outline-text-2" id="text-Display">
<p>
由于大缓冲区的内容无法在窗口中完整显示，Emacs 只能展示其中一部分内容。本章将介绍用于指定文本显示区域、设置文本显示方式的相关命令与变量。
</p>

<ul class="org-ul">
<li><a href="#Scrolling">滚动操作</a></li>
<li><a href="#Recentering">居中显示（Recentering）</a></li>
<li><a href="#Auto-Scrolling">自动滚动</a></li>
<li><a href="#Horizontal-Scrolling">水平滚动</a></li>
<li><a href="#Narrowing">窄化显示（Narrowing）</a></li>
<li><a href="#View-Mode">查看模式（View Mode）</a></li>
<li><a href="#Follow-Mode">跟随模式（Follow Mode）</a></li>
<li><a href="#Faces">文本样式（Text Faces）</a></li>
<li><a href="#Colors">外观颜色设置</a></li>
<li><a href="#Standard-Faces">标准样式（Standard Faces）</a></li>
<li><a href="#Icons">图标（Icons）</a></li>
<li><a href="#Text-Scale">文本缩放（Text Scale）</a></li>
<li><a href="#Font-Lock">字体锁定模式（Font Lock mode）</a></li>
<li><a href="#Highlight-Interactively">交互式高亮（Interactive Highlighting）</a></li>
<li><a href="#Fringes">窗口边缘（Window Fringes）</a></li>
<li><a href="#Displaying-Boundaries">边界显示（Displaying Boundaries）</a></li>
<li><a href="#Useless-Whitespace">无用空白字符（Useless Whitespace）</a></li>
<li><a href="#Selective-Display">选择性显示（Selective Display）</a></li>
<li><a href="#Optional-Mode-Line">模式行可选功能</a></li>
<li><a href="#Text-Display">文本显示方式</a></li>
<li><a href="#Cursor-Display">光标显示（Displaying the Cursor）</a></li>
<li><a href="#Line-Truncation">行截断（Line Truncation）</a></li>
<li><a href="#Visual-Line-Mode">视觉行模式（Visual Line Mode）</a></li>
<li><a href="#Display-Custom">显示定制（Customization of Display）</a></li>
</ul>
</div>
<div id="outline-container-Scrolling" class="outline-3">
<h3 id="Scrolling"><span class="section-number-3">16.1.</span> 滚动操作</h3>
<div class="outline-text-3" id="text-Scrolling">
<p>
若窗口尺寸不足以显示缓冲区中的全部文本，只会展示其中一部分。 <code>Scrolling commands</code> 滚动命令可更改窗口中显示的缓冲区内容范围。
</p>

<p>
向前滚动 或 向上滚动 会推进窗口中显示的缓冲区内容；换言之，是让缓冲区文本相对窗口向上移动。向后滚动 或 向下滚动 会显示缓冲区中更靠前的内容，同时让文本相对窗口向下移动。
</p>

<p>
在 Emacs 中，“scrolling up向上滚动”或“scrolling down向下滚动” 指代 <b>文本在窗口中的移动方向</b> ，而非窗口相对文本的移动方向。该术语在 “向上滚动”“向下滚动” 的现代含义普及前便已被 Emacs 采用，因此会出现一个看似反常的结果：按 <code>PageDown</code> 键，在 Emacs 的定义中属于 <b>向上滚动</b> 。
</p>

<p>
窗口中显示的缓冲区内容始终包含 <b>光标位置</b> 。若将光标移至窗口可视区域的下方或上方，Emacs 会自动执行滚动，让光标回到可视区域内（参见「<a href="#Auto-Scrolling">自动滚动</a>」）。你也可以通过以下命令手动执行滚动：
</p>

<p>
<b>基础滚动命令</b>
</p>
<dl class="org-dl">
<dt><code>C-v</code> / <code>PageDown</code> / <code>next</code></dt><dd>向前滚动近一整屏 (<code>scroll-up-command</code>)</dd>
<dt><code>M-v</code> / <code>PageUp</code> / <code>prior</code></dt><dd>向后滚动 (<code>scroll-down-command</code>)</dd>
</dl>

<p>
<code>C-v</code> (<code>scroll-up-command</code>) 会向前滚动近整个窗口高度的内容，效果为将窗口底部的两行文本移至顶部，后续拼接此前未显示的内容。若光标原本在滚出窗口顶部的文本区域，滚动后光标会停在窗口新的首行。 <code>PageDown</code> （或 <code>next</code> ）键与 <code>C-v</code> 功能完全等效。
</p>

<p>
<code>M-v</code> (<code>scroll-down-command</code>) 的向后滚动逻辑与之类似， <code>PageUp</code> （或 <code>prior</code> ）键与 <code>M-v</code> 功能完全等效。
</p>

<p>
这些滚动命令执行后保留的 <b>重叠行数</b> 由变量 <code>next-screen-context-lines</code> 控制，其默认值为 <code>2</code> 。你可以为这些命令添加数字前缀参数 <code>n</code> ，实现滚动 <code>n</code> 行的效果；此时 Emacs 会尽量保持光标位置不变，让文本与光标同步上下移动。带负参数的 <code>C-v</code> 等效于 <code>M-v</code> ，反之亦然。
</p>

<p>
默认情况下，若窗口已到达缓冲区开头或末尾、无法继续滚动，这些命令会触发错误（通过蜂鸣或屏幕闪烁提示）。若将变量 <code>scroll-error-top-bottom</code> 设为 <code>t</code> ，命令会将光标移至当前可滚动的最远位置；若光标已处于该位置，才会触发错误。
</p>

<p>
<b>保持光标屏幕位置</b>
</p>

<p>
部分用户希望滚动命令能让光标停在 <b>屏幕固定位置</b> ，这样滚动回同一屏时，光标可便捷地回到原位置。可通过变量 <code>scroll-preserve-screen-position</code> 启用该功能：
</p>
<ul class="org-ul">
<li>若值为 <code>t</code> ：当滚动命令将光标移出窗口时，Emacs 会调整光标位置，让光标在屏幕上的位置保持不变（而非移至窗口首行 / 末行）；</li>
<li>若值为其他非nil值：即便滚动命令未将光标移出窗口，Emacs 也会按上述规则调整光标位置。</li>
</ul>

<p>
该变量对本节介绍的所有滚动命令、鼠标滚轮滚动均生效（参见「<a href="#Mouse-Commands">编辑用鼠标命令</a>」）；通常，所有带有非nil属性 <code>scroll-command</code> 的命令都会受其影响（参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Property-Lists.html#Property-Lists">属性列表</a>」）。当 <code>isearch-allow-scroll</code> 为非nil时，该属性还会让 Emacs 在调用此类滚动命令时，不退出增量搜索模式（参见「<a href="#Not-Exiting-Isearch">不退出增量搜索</a>」）。
</p>

<p>
<b>优化高速滚动性能</b>
</p>

<p>
当长按 <code>C-v</code> 、 <code>M-v</code> 等键触发 <b>键盘自动重复</b> 时，Emacs 有时无法跟上快速的滚动请求，会出现显示不更新、长时间无法响应输入的情况。可将变量 <code>fast-but-imprecise-scrolling</code> 设为非nil值，缓解该卡顿问题：该设置会让滚动命令跳过对滚过区域未做字体高亮的文本的着色（参见「<a href="#Font-Lock">字体锁定模式</a>」），直接默认使用默认字体样式。
</p>

<p>
注意：若当前使用的字体并非统一尺寸，即便单次滚动（非自动重复），该设置也可能导致 Emacs 滚动到缓冲区的轻微错误位置。
</p>

<p>
作为 <code>fast-but-imprecise-scrolling</code> 的替代方案，你也可以启用 <b>即时锁定延迟字体</b> 高亮（参见「<a href="#Font-Lock">字体锁定模式</a>」）：将变量 <code>jit-lock-defer-time</code> 自定义为一个较小的正数（如 0.25，若打字速度快，可设为 0.1）。该设置能让长按 <code>C-v</code> 时的滚动更流畅，但滚动到缓冲区新区域时，窗口内容会短暂处于未着色状态。
</p>

<p>
第三种优化方案是设置变量 <code>redisplay-skip-fontification-on-input</code> ：若值为非nil，当有未处理的输入时，Emacs 会跳过部分字体高亮操作。通常，若有未处理的输入，Emacs 本就会完全跳过重绘，因此该设置基本不影响显示，却能通过避免不必要的着色让滚动更顺滑。
</p>

<p>
<b>其他滚动命令</b>
</p>
<ul class="org-ul">
<li><code>M-x scroll-up</code> / <code>M-x scroll-down</code> ：与 <code>scroll-up-command</code> / <code>scroll-down-command</code> 功能类似，但 <b>不遵循</b>  <code>scroll-error-top-bottom</code> 变量的设置。Emacs 24 版本前，这两个命令是默认的上下滚动命令。</li>
<li><code>M-x scroll-up-line</code>  / <code>M-x scroll-down-line</code> ：让当前窗口逐行上下滚动。</li>
</ul>

<p>
若你打算常用上述命令，可为其绑定快捷键（参见「<a href="#Init-Rebinding">在初始化文件中重新绑定按键</a>」）。
</p>

<p>
<b>图形化界面滚动</b>
</p>

<p>
在图形化显示界面中，你也可以通过 <b>滚动条</b> 实现窗口滚动（参见「<a href="#Scroll-Bars">滚动条</a>」）。
</p>
</div>
</div>
<div id="outline-container-Recentering" class="outline-3">
<h3 id="Recentering"><span class="section-number-3">16.2.</span> 居中显示（Recentering）</h3>
<div class="outline-text-3" id="text-Recentering">
<dl class="org-dl">
<dt><code>C-l</code></dt><dd>滚动选中的窗口，使当前行成为文本的正中间行；连续重复执行该命令时，会按循环顺序依次将当前行设为顶行、底行，依此类推。该命令也可能会重新刷新屏幕 (<code>recenter-top-bottom</code>) 。</dd>
<dt><code>C-M-S-l</code></dt><dd>滚动另一个窗口；效果等同于对另一个窗口执行 <code>C-l</code> 命令。</dd>
<dt><code>M-x recenter</code></dt><dd>滚动选中的窗口，使当前行成为文本的正中间行，也可能会重新刷新屏幕。</dd>
<dt><code>C-M-l</code></dt><dd>通过启发式滚动，将有效信息显示在屏幕中 (<code>reposition-window</code>) 。</dd>
</dl>

<p>
<code>C-l</code> (<code>recenter-top-bottom</code>) 命令用于为选中的窗口重定中心，通过滚动让当前屏幕行恰好处于窗口正中间，或尽可能接近正中间的位置。
</p>

<p>
连续两次按下 <code>C-l</code> (<code>C-l C-l</code>)，会滚动窗口使光标位于屏幕最顶行；第三次按下 <code>C-l</code> ，会让光标位于屏幕最底行。每一次连续按下的 <code>C-l</code> ，都会在这三个位置间循环切换。
</p>

<p>
你可以通过自定义列表变量 <code>recenter-positions</code> 来修改循环顺序。该列表的每个元素可以是符号 top（顶部）、middle（中间）、bottom（底部），也可以是数字：整数表示将当前行移动到指定的屏幕行号，0.0 到 1.0 之间的浮点数则表示将当前行定位在窗口顶部起的指定百分比位置。默认的列表值为 <code>(middle top bottom)</code> ，即上述的循环顺序。此外，若将变量 <code>scroll-margin</code> 设为非零值 <code>n</code> ， <code>C-l</code> 命令会始终让光标与窗口顶部、底部保持至少 <code>n</code> 行的屏幕间距（参见「<a href="#Auto-Scrolling">自动滚动</a>」章节）。
</p>

<p>
你也可以为 <code>C-l</code> 命令添加前缀参数：单纯的前缀参数 <code>C-u C-l</code> 仅将光标所在行重定到窗口中心；正数值参数 <code>n</code> 会将光标所在行移至窗口顶部向下数第 <code>n</code> 行的位置；参数 <code>0</code> 会将光标所在行移至窗口顶行；负数值参数 <code>−n</code> 会将光标所在行移至窗口底部向上数第 <code>n</code> 行的位置。当指定了参数时， <code>C-l</code> 命令不会清空屏幕，也不会在不同屏幕位置间循环。
</p>

<p>
若变量 <code>recenter-redisplay</code> 设为非 nil 值，每次执行 <code>C-l</code> 命令都会清空并重新刷新屏幕；其特殊值 <code>tty</code> （默认值）表示仅在文本终端窗口中执行该刷新操作。当屏幕因任何原因出现显示错乱时，重新刷新屏幕会非常有用（参见「<a href="#Screen-Garbled">屏幕显示错乱</a>」章节）。
</p>

<p>
更基础的命令 <code>M-x recenter</code> 与 <code>recenter-top-bottom</code> 功能类似，但不会在不同屏幕位置间循环。
</p>

<p>
<code>C-M-l</code> (<code>reposition-window</code>) 会通过启发式方式滚动当前窗口，旨在将有效信息展示在屏幕中。例如，在 Lisp 文件中，该命令会尽可能将当前整个函数定义（defun）完整显示在屏幕内。
</p>
</div>
</div>
<div id="outline-container-Auto-Scrolling" class="outline-3">
<h3 id="Auto-Scrolling"><span class="section-number-3">16.3.</span> 自动滚动</h3>
<div class="outline-text-3" id="text-Auto-Scrolling">
<p>
当光标移出文本的可视区域时，Emacs 会执行 <code>automatic scrolling</code> 自动滚动。默认情况下，自动滚动会将光标垂直居中在窗口中，不过有多种方式可以修改这一行为。
</p>

<p>
若将变量 <code>scroll-conservatively</code> 设为较小的数值 <code>n</code> ，当光标仅小幅移出屏幕（不超过n行）时，Emacs 会仅滚动必要的距离，将光标拉回屏幕可视范围；若此操作仍无法让光标显示，Emacs 会滚动至恰好让光标在窗口中居中的位置。若将 <code>scroll-conservatively</code> 设为较大的数值（大于 100），无论光标移出多远，自动滚动都不会让光标居中；Emacs 始终仅滚动必要距离让光标进入可视范围，光标最终会出现在窗口顶部或底部，具体取决于滚动方向。 <code>scroll-conservatively</code> 的默认值为 <code>0</code> ，即始终让光标在窗口中居中。需要注意的是，在迷你缓冲区窗口中，默认的滚动行为始终为保守模式，因为变量 <code>scroll-minibuffer-conservatively</code> 的默认值为非空，且该变量的优先级高于 <code>scroll-conservatively</code> 。
</p>

<p>
控制自动滚动的另一种方式是自定义变量 <code>scroll-step</code> ，其值决定了光标移出屏幕时，自动滚动的行数。若滚动该行数后仍无法让光标回到可视范围，则会将光标居中显示。 <code>scroll-step</code> 的默认值为 0，这一设置（在默认情况下）会让滚动后光标始终保持居中。
</p>

<p>
第三种控制自动滚动的方式是自定义变量 <code>scroll-up-aggressively</code> 和 <code>scroll-down-aggressively</code> ，这两个变量可直接指定滚动后光标的垂直位置。 <code>scroll-up-aggressively</code> 的值可以是 <code>nil</code> （默认值），也可以是 0 到 1 之间的浮点数 <code>f</code> 。若设为浮点数，当光标超出窗口下边缘（即向前滚动）时，Emacs 会滚动窗口，使光标到窗口下边缘的距离为窗口高度的 <code>f</code> 倍。因此， <code>f</code> 值越大，滚动的激进程度越高，会有更多新文本进入可视范围。默认值 <code>nil</code> 等效于 0.5。
</p>

<p>
同理，当光标超出窗口上边缘（即向后滚动）时，会使用变量 <code>scroll-down-aggressively</code> 。其值指定了滚动后光标与窗口上边缘的距离比例，与 <code>scroll-up-aggressively</code> 一致，值越大，滚动的激进程度越高。
</p>

<p>
请注意，变量 <code>scroll-conservatively</code> 、 <code>scroll-step</code> 以及 <code>scroll-up-aggressively</code> / <code>scroll-down-aggressively</code> 对自动滚动的控制方式相互矛盾，因此你应仅选择其中一种方式来自定义自动滚动。若同时自定义了多个变量，其优先级顺序为： <code>scroll-conservatively</code> 最高，其次是 <code>scroll-step</code> ，最后是 <code>scroll-up-aggressively</code> / <code>scroll-down-aggressively</code> 。
</p>

<p>
变量 <code>scroll-margin</code> 会限制光标能靠近窗口顶部或底部的距离（即便激进滚动设置的比例 <code>f</code> ，超出了窗口上下边距之间的区域比例）。其值为屏幕行数，当光标与窗口顶部或底部的距离小于该行数时，Emacs 会执行自动滚动。 <code>scroll-margin</code> 的默认值为 0。默认情况下，有效边距的大小被限制为窗口高度的四分之一，不过可通过自定义变量 <code>~maximum-scroll-margin</code> ，将该限制提高至窗口高度的一半（也可降低至 0）。
</p>
</div>
</div>
<div id="outline-container-Horizontal-Scrolling" class="outline-3">
<h3 id="Horizontal-Scrolling"><span class="section-number-3">16.4.</span> 水平滚动</h3>
<div class="outline-text-3" id="text-Horizontal-Scrolling">
<p>
<code>Horizontal scrolling</code> 水平滚动指将窗口内的所有行向侧面偏移，使左边缘附近的部分文本不显示。当窗口中的文本被水平滚动时，文本行将 truncated被截断 而非折行显示（参见《<a href="#Line-Truncation">行截断</a>》相关内容）。若窗口显示的是被截断的文本，每当光标移出屏幕的左边缘或右边缘时，Emacs 会执行自动水平滚动。默认情况下，窗口内的所有行会一起进行水平滚动；但如果将变量 <code>auto-hscroll-mode</code> 设为特殊值 <code>current-line</code> ，则仅显示光标的那一行会被滚动。若要完全关闭自动水平滚动，将变量 <code>auto-hscroll-mode</code> 设为 <code>nil</code> 即可。注意，当自动水平滚动关闭后，若光标移出屏幕边缘，光标会消失以作提示（在文本终端中，光标则会停留在边缘位置）。
</p>

<p>
变量 <code>hscroll-margin</code> 用于控制光标距离窗口左右边缘多近时触发自动水平滚动，其单位为列。例如，若该值设为 5，当光标移动到距离某一边缘 5 列范围内时，会触发水平滚动并远离该边缘。
</p>

<p>
变量 <code>hscroll-step</code> 决定了光标过近边缘时，窗口的滚动列数。默认值 0 表示将光标在窗口中水平居中；正整数值表示滚动的具体列数；0 到 1 之间的浮点数则表示按窗口宽度的该比例进行滚动。
</p>

<p>
你也可以通过以下命令执行显式水平滚动：
</p>
<dl class="org-dl">
<dt><code>C-x &lt;</code></dt><dd>向左滚动当前窗口中的文本 (<code>scroll-left</code>) 。</dd>
<dt><code>C-x &gt;</code></dt><dd>向右滚动 (<code>scroll-right</code>) 。</dd>
</dl>

<p>
<code>C-x &lt;</code> (<code>scroll-left</code>) 会将选中窗口的文本向左滚动窗口的完整宽度减两列的距离（换言之，窗口内的文本相对窗口向左移动）。若带数字参数 <code>n</code> ，则向左滚动 <code>n</code> 列。
</p>

<p>
当文本被向左滚动后，若光标移出窗口左边缘，光标会固定在窗口左边缘，直至光标移回文本的显示区域。此行为与 <code>auto-hscroll-mode</code> 的当前设置无关 —— 对于向左滚动的文本，该变量仅影响窗口右边缘处的行为。
</p>

<p>
<code>C-x &gt;</code> (<code>scroll-right</code>) 的向右滚动行为与之类似。当窗口恢复正常显示（每行均从窗口左边缘开始）后，无法再继续向右滚动，此时执行该操作无任何效果。这意味着你无需为 <code>C-x &gt;</code> 精确计算参数，任何足够大的参数都能恢复正常显示。
</p>

<p>
若通过上述命令对窗口进行水平滚动，该操作会为自动水平滚动设置一个下限。自动水平滚动仍会继续作用于窗口，但向右滚动的距离绝不会超过你此前通过 <code>scroll-left</code> 命令设置的距离。当 <code>auto-hscroll-mode</code> 设为 <code>current-line</code> 时，除显示光标的行外，其他所有行都会按该最小距离滚动。
</p>

<p>
在图形化显示界面中，若开启可选的 <code>horizontal-scroll-bar-mode</code> （水平滚动条模式），你可通过水平滚动条对窗口进行水平滚动，参见《<a href="#Scroll-Bars">滚动条</a>》相关内容
</p>
</div>
</div>
<div id="outline-container-Narrowing" class="outline-3">
<h3 id="Narrowing"><span class="section-number-3">16.5.</span> 窄化显示（Narrowing）</h3>
<div class="outline-text-3" id="text-Narrowing">
<p>
<code>Narrowing</code> 内容窄化指将操作焦点限定在缓冲区的某一部分，使其余部分暂时无法访问。仍可操作的这部分区域被称为 <b>accessible portion可访问区域</b> 。取消窄化、让整个缓冲区恢复可访问状态的操作，称为 <b>widening内容展宽</b> 。缓冲区当前生效的窄化范围，被称为缓冲区的 <b>restriction访问限制</b> 。
</p>

<p>
通过内容窄化隐藏无关内容，能让你更专注地处理单个子程序或段落；同时，它也可用于限制替换命令或重复执行的键盘宏的作用范围。
</p>

<p>
<b>窄化相关核心命令</b>
</p>
<dl class="org-dl">
<dt><code>C-x n n</code></dt><dd>窄化至光标与标记之间的区域 (<code>narrow-to-region</code>) 。</dd>
<dt><code>C-x n w</code></dt><dd>展宽缓冲区，恢复全部内容的可访问性 (<code>widen</code>) 。</dd>
<dt><code>C-x n p</code></dt><dd>窄化至光标所在的当前页面 (<code>narrow-to-page</code>) 。</dd>
<dt><code>C-x n d</code></dt><dd>窄化至光标所在的当前函数定义块 (<code>narrow-to-defun</code>) 。</dd>
</dl>

<p>
当缓冲区被窄化到某一部分后，该部分会呈现为缓冲区的全部内容：你无法看到其余部分，无法将光标移至该区域外（移动命令无法超出可访问区域），也无法对不可访问部分进行任何修改。但这些内容并未被删除，若你保存文件，所有不可访问的文本都会被一并保存。只要窄化状态生效，模式行中会显示Narrow（窄化）字样，提示当前的窄化状态。
</p>

<p>
核心的窄化命令为  <code>C-x n n</code> (<code>narrow-to-region</code>) ，执行该命令后，缓冲区的访问限制会被设定为当前选中的区域，仅该区域内的文本可访问，区域之前和之后的所有文本均变为不可访问，光标与标记的位置不会发生改变。
</p>

<p>
此外，可使用  <code>C-x n p</code> (<code>narrow-to-page</code>) 窄化至光标所在的当前页面（关于页面的定义，参见 “<a href="#Pages">页面</a>” 相关章节）； <code>C-x n d</code> (<code>narrow-to-defun</code>) 可窄化至包含光标在内的当前函数定义块（参见 “<a href="#Defuns">顶层定义 或 函数定义块</a>“ 相关章节）。
</p>

<p>
取消窄化的唯一方式是执行 <code>C-x n w</code> (<code>widen</code>) 进行内容展宽，该操作会清除缓冲区的访问限制，恢复全部文本的可访问性。
</p>

<p>
你可通过 <code>C-x =</code> 命令查看当前窄化的具体范围信息（参见 “<a href="#Position-Info">光标位置信息</a>” 相关章节）。
</p>

<p>
由于对于不了解窄化功能的用户而言，该操作极易造成操作困惑，因此 <code>narrow-to-region</code>  默认是 <b>禁用命令</b> 。首次尝试执行该命令时，Emacs 会弹出确认提示，并提供启用该命令的选项；若你选择启用，后续执行该命令将不再需要确认（关于禁用命令的相关说明，参见 “<a href="#Disabling">禁用命令</a>” 相关章节）。
</p>
</div>
</div>
<div id="outline-container-View-Mode" class="outline-3">
<h3 id="View-Mode"><span class="section-number-3">16.6.</span> 查看模式（View Mode）</h3>
<div class="outline-text-3" id="text-View-Mode">
<p>
<code>M-x view-mode</code> 查看模式是一种次要模式，可按整屏顺序浏览缓冲区内容。该模式提供了便捷的缓冲区滚动命令，但不支持对内容进行修改。除常规的 Emacs 光标移动命令外，可按下 <code>SPC</code> （空格） 向下滚动一整屏，按下 <code>S-SPC</code> 或 <code>DEL</code> 向上滚动，按下s 启动增量搜索。
</p>

<p>
按下 <code>q</code> (View-quit) 会关闭查看模式，并切回开启该模式前的缓冲区及光标位置。按下 <code>e</code> (<code>View-exit</code>) 会关闭查看模式，同时保留当前的缓冲区及光标位置。
</p>

<p>
执行 <code>M-x view-buffer会</code> 提示选择一个已存在的 Emacs 缓冲区，切换至该缓冲区并启用查看模式。执行 <code>M-x view-file</code> 会提示选择一个文件，打开该文件并同时启用查看模式。
</p>
</div>
</div>
<div id="outline-container-Follow-Mode" class="outline-3">
<h3 id="Follow-Mode"><span class="section-number-3">16.7.</span> 跟随模式（Follow Mode）</h3>
<div class="outline-text-3" id="text-Follow-Mode">
<p>
<code>Follow mode</code> 跟随模式是一种次要模式，可让两个显示同一缓冲区的窗口，如同一个纵向的超大虚拟窗口般同步滚动。使用跟随模式的操作方法为：先打开一个仅含单个窗口的框架，通过 <code>C-x 3</code> 将其拆分为两个左右并排的窗口，再执行 <code>M-x follow-mode</code> 即可启用。启用后，你可在任意一个窗口中编辑缓冲区、滚动页面，另一个窗口会自动同步跟随操作。
</p>

<p>
在跟随模式下，若将光标从一个窗口的可视区域移出，移入另一个窗口的可视区域时，系统会自动选中该窗口 —— 这一逻辑同样将两个窗口视作同一个大窗口的不同部分。
</p>

<p>
再次执行 <code>M-x follow-mode</code> ，即可关闭跟随模式。
</p>
</div>
</div>
<div id="outline-container-Faces" class="outline-3">
<h3 id="Faces"><span class="section-number-3">16.8.</span> 文本样式（Text Faces）</h3>
<div class="outline-text-3" id="text-Faces">
<p>
在 Emacs 的世界里，Face 简单来说就是控制文本外观的“样式表”。
</p>

<p>
Emacs 可采用多种不同样式显示文本，这些样式被称为 <b>faces外观</b> 。每种外观均可定义各类 <code>face attributes</code> 外观属性，包括 font字体、height字号、wight字重、slant字体倾斜、foreground前景色、background背景色，以及underlining下划线或overlining上划线样式。绝大多数主模式会通过 <b>Font Lock mode字体锁定模式</b> ，为文本自动分配对应外观。有关外观分配的详细规则，参见「<a href="#Font-Lock">字体锁定模式</a>」相关内容。
</p>

<p>
若要查看当前已定义的所有外观及对应的显示效果，可执行命令 <code>M-x list-faces-display</code> 。若为该命令添加前缀参数，Emacs 会提示输入一个正则表达式，仅显示名称与该正则表达式匹配的外观（参见「<a href="#Regexps">正则表达式语法</a>」）。
</p>

<p>
同一种外观在不同框架中，显示效果可能不同。例如，部分文本终端并不支持所有外观属性，尤其是font字体、height字号和width字符宽度，还有些终端仅支持有限的色彩范围。此外，为保证文字的可读性，Emacs 的绝大多数外观都做了特殊定义：在light浅色和dark深色的框架背景下，其属性会呈现不同效果。默认情况下，Emacs 会根据每个框架的当background前背景色，自动选择对应的外观属性集进行显示。你也可以通过将变量 <code>frame-background-mode</code> 设为非 nil 值，覆盖这一默认行为：将该变量设为 <code>dark</code> 时，Emacs 会将所有框架均视作深色背景；设为 <code>light</code> 时，则将所有框架均视作浅色背景。
</p>

<p>
你可对任意外观进行自定义，修改其属性，并将这些自定义设置保存，供后续的 Emacs 会话使用。具体方法参见「<a href="#Face-Customization">自定义外观</a>」相关内容。
</p>

<p>
<code>default</code> 是文本显示的默认样式，其所有属性均已预先定义，且该外观的背景色会同时作为框架的背景色。有关色彩的设置细节，参见「<a href="#Colors">外观颜色</a>」章节。
</p>

<p>
另一种特殊的样式是 <b>cursor face光标外观</b> 。在图形化显示界面中，该外观的背景色会被用于绘制文本光标，而该外观的其他所有属性均不产生作用；光标覆盖区域内文本的前景色，会沿用底层文本的背景色。在文本终端中，文本光标的显示样式由终端本身决定，与光标外观无关。
</p>

<p>
你也可通过 <b>X 资源</b> 配置任意特定外观的属性，相关方法参见「<a href="#Resources">X 资源</a>」章节。
</p>

<p>
Emacs 支持显示 <b>variable-width变宽字体</b> ，但部分 Emacs 命令（尤其是缩进相关命令）无法适配字符显示宽度的变化。因此，建议不要为绝大多数外观设置变宽字体，尤其是由字体锁定模式自动分配的外观。
</p>
</div>
</div>
<div id="outline-container-Colors" class="outline-3">
<h3 id="Colors"><span class="section-number-3">16.9.</span> 外观颜色设置</h3>
<div class="outline-text-3" id="text-Colors">
<p>
外观可设置不同的前景色和背景色。为外观指定颜色时（例如自定义面版的场景，参见「<a href="#Face-Customization">自定义外观</a>」），可使用 <code>color name</code> 颜色名称或 <code>RGB triplet</code> RGB 三元组两种方式。
</p>
<ul class="org-ul">
<li><a href="#Color-Names">颜色名称</a></li>
<li><a href="#RGB-Triplets">RGB 三元组（RGB Triplets）</a></li>
</ul>
</div>
<div id="outline-container-Color-Names" class="outline-4">
<h4 id="Color-Names"><span class="section-number-4">16.9.1.</span> 颜色名称</h4>
<div class="outline-text-4" id="text-Color-Names">
<p>
颜色名称为 pre-defined name预定义名称，例如深橙色（'dark orange'）、中海绿色（'medium sea green'）。键入命令 <code>M-x list-colors-display</code> 可查看颜色名称列表；通过自定义变量 <code>list-colors-sort</code> ，可控制颜色的显示顺序。在图形化显示器中执行该命令，会显示 Emacs 支持的所有颜色名称（均为 X11 标准颜色名称，定义于 X 系统的 <code>rgb.txt</code> 文件）；在文本终端中执行该命令，仅会显示可在该类终端上正常显示的少量颜色子集。即便在文本终端中，Emacs 仍能识别所有 X11 颜色名称；若为某一面版指定了 X11 颜色名称对应的颜色，终端会自动匹配最相近的颜色进行显示。
</p>
</div>
</div>
<div id="outline-container-RGB-Triplets" class="outline-4">
<h4 id="RGB-Triplets"><span class="section-number-4">16.9.2.</span> RGB 三元组（RGB Triplets）</h4>
<div class="outline-text-4" id="text-RGB-Triplets">
<p>
RGB 三元组为 "#RRGGBB" 格式的字符串，其中红、绿、蓝三原色的分量各由一个十六进制数表示，取值范围为00（亮度为 0）至FF（最大亮度）。每个颜色分量也可使用 1 位、3 位或 4 位十六进制数表示，因此红色可写作 <code>#F00</code> 、 <code>#fff000000</code> 或 <code>#ffff00000000</code> ， <b>注意各分量的位数必须保持一致</b> 。十六进制数中的 A-F 字符，大小写均可。
</p>

<p>
执行 <code>M-x list-colors-display</code> 命令时，也会同时显示每个命名颜色对应的 RGB 三元组，例如中海绿色（medium sea green）对应的 RGB 三元组为 <code>#3CB371</code> 。
</p>

<p>
你可通过命令 <code>M-x set-face-foreground</code> 和 <code>M-x set-face-background</code> ，分别修改面版的前景色和背景色。执行该类命令时，迷你缓冲区会提示你输入面版名称和颜色（支持补全），确认后即可为该面版应用指定颜色。这两个命令的效果会作用于所有 Emacs 窗口，但与使用自定义缓冲区或 X 资源的方式不同，其设置不会在后续的 Emacs 会话中保留。你也可通过窗口参数，为指定的单个窗口设置前景色和背景色，参见「<a href="#Frame-Parameters">框架参数</a>」章节。
</p>
</div>
</div>
</div>
<div id="outline-container-Standard-Faces" class="outline-3">
<h3 id="Standard-Faces"><span class="section-number-3">16.10.</span> 标准外观（Standard Faces）</h3>
<div class="outline-text-3" id="text-Standard-Faces">
<p>
以下是用于指定文本显示样式的标准样式，可将其应用于特定文本以实现对应的显示效果。
</p>

<dl class="org-dl">
<dt><code>default</code></dt><dd>（默认样式）该样式适用于未指定任何样式的普通文本，其背景色会作为 Emacs 窗口的背景色。</dd>
<dt><code>bold</code></dt><dd>（粗体样式）使用默认字体的粗体变体。</dd>
<dt><code>italic</code></dt><dd>（斜体样式）使用默认字体的斜体变体。</dd>
<dt><code>bold-italic</code></dt><dd>（粗斜体样式）使用默认字体的粗斜体变体。</dd>
<dt><code>underline</code></dt><dd>（下划线样式）为文本添加下划线样式。</dd>
<dt><code>fixed-pitch</code></dt><dd>（等宽样式）强制使用 fixed-width 等宽字体。可根据需求自定义该样式，替换为其他等宽字体，但不可将其设为 variable-width 变宽字体。</dd>
<dt><code>fixed-pitch-serif</code></dt><dd>（衬线等宽样式）与等宽样式功能一致，区别在于该样式使用 serifs 带衬线的字体，视觉上更接近传统打字机的字体样式。</dd>
<dt><code>variable-pitch</code></dt><dd>（变宽样式）强制使用变宽（即比例）字体，其字体大小与默认样式（通常为等宽字体）的字体大小保持一致。</dd>
<dt><code>variable-pitch-text</code></dt><dd>（文本变宽样式）继承自变宽样式，字体尺寸略大于变宽样式。与等宽字体同高度的比例字体，视觉上通常会显得更小，可读性也会随之降低。因此在显示大篇幅文本时，该样式是比变宽样式（尺寸略小）更优的选择。</dd>
<dt><code>shadow</code></dt><dd>（浅显样式）用于让文本比周围的普通文本更不显眼，通常通过使用灰色调，与黑色或白色的默认前景色形成对比来实现该效果。</dd>
</dl>

<p>
以下是一组不完整的样式列表，这类样式用于为特定目的临时高亮文本的特定部分（许多其他模式也会为此定义专属样式表）。
</p>
<dl class="org-dl">
<dt><code>highlight</code></dt><dd>（高亮样式）在多种场景下用于文本高亮，例如鼠标光标移至超链接上时的文本高亮。</dd>
<dt><code>isearch</code></dt><dd>（增量搜索高亮样式）用于高亮增量搜索的当前匹配结果（参见<a href="#Incremental-Search">增量搜索</a>）。</dd>
<dt><code>query-replace</code></dt><dd>（查询替换高亮样式）用于高亮查询替换的当前匹配结果（参见<a href="#Replace">替换命令</a>）。</dd>
<dt><code>lazy-highlight</code></dt><dd>（延迟高亮样式）用于高亮增量搜索和查询替换中的非当前匹配结果（延迟匹配项）。</dd>
<dt><code>region</code></dt><dd>（选区样式）用于显示激活的文本选区（参见<a href="#Mark">《标记与选区</a>》）。当 Emacs 编译时启用 GTK+ 支持时，该样式的颜色会继承当前的 GTK+ 主题。</dd>
<dt><code>secondary-selection</code></dt><dd>（二级选区样式）用于显示 X 系统的二级选区（参见<a href="#Secondary-Selection">二级选区</a>）。</dd>
<dt><code>trailing-whitespace</code></dt><dd>（行尾空白样式）当变量 <code>show-trailing-whitespace</code> 非空时，用于高亮行尾的多余空格和制表符（参见<a href="#Useless-Whitespace">无用空白字符</a>）。</dd>
<dt><code>escape-glyph</code></dt><dd>（转义符号样式）用于显示控制字符和转义序列（参见<a href="#Text-Display">文本的显示方式</a>）。</dd>
<dt><code>homoglyph</code></dt><dd>（形近字符样式）用于显示形近字符，即外观相似但实际并非所代表的字符（参见<a href="#Text-Display">文本的显示方式</a>）。</dd>
<dt><code>nobreak-space</code></dt><dd>（不换行空格样式）用于显示不换行空格字符（参见<a href="#Text-Display">文本的显示方式</a>）。</dd>
<dt><code>nobreak-hyphen</code></dt><dd>（不换行连字符样式）用于显示不换行连字符（参见<a href="#Text-Display">文本的显示方式</a>）。</dd>
</dl>

<p>
以下样式用于控制 Emacs 框架各组成部分的显示样式：
</p>
<dl class="org-dl">
<dt><code>mode-line</code></dt><dd><p>
（模式行样式）是模式行的基础样式，同时也适用于标题行，且在未使用工具包菜单时适用于菜单栏。默认情况下，在图形化显示器中会为其添加阴影效果以实现凸起视觉感；在文本终端中，其显示样式为默认样式的反色。
</p>

<p>
模式行实际使用的 <code>mode-line-active</code> 和 <code>mode-line-inactive</code> 均继承自该样式。
</p></dd>
<dt><code>mode-line-active</code></dt><dd>（激活模式行样式）与 <code>mode-line</code> 样式一致，专用于当前选中窗口的模式行。该样式继承自 <code>mode-line</code> ，因此对模式行样式的修改会作用于所有窗口的模式行。</dd>
<dt><code>mode-line-inactive</code></dt><dd>（非激活模式行样式） 与 <code>mode-line</code> 一致，专用于非选中窗口的模式行（当变量 <code>mode-line-in-non-selected-windows</code> 非空时生效）。该样式继承自 <code>mode-line</code> ，因此对模式行样式的修改会作用于所有窗口的模式行。</dd>
<dt><code>mode-line-highlight</code></dt><dd>（模式行高亮样式） 与 <code>highlight</code> 样式功能一致，专用于模式行上的鼠标敏感文本区域。鼠标指针悬停在该类文本区域时，通常会弹出工具提示（参见<a href="#Tooltips">工具提示</a>）。</dd>
<dt><code>mode-line-buffer-id</code></dt><dd>（模式行缓冲区标识样式）用于模式行中显示缓冲区标识的部分。</dd>
<dt><code>header-line</code></dt><dd>（标题行样式） 与 <code>mode-line</code> 样式功能类似，专用于窗口的标题行；标题行显示在窗口顶部，模式行则显示在窗口底部。大多数窗口无标题行，仅部分特殊模式（如 info mode信息模式）会生成标题行。</dd>
<dt><code>header-line-highlight</code></dt><dd>（标题行高亮样式）与高亮样式、模式行高亮样式功能一致，专用于标题行上的鼠标敏感文本区域。该样式为独立样式，因标题行样式的自定义设置可能与高亮样式不兼容。</dd>
<dt><code>tab-line</code></dt><dd>（标签行样式）与 <code>mode-line</code> 样式功能类似，专用于窗口的标签行；标签行显示在窗口顶部，以标签形式展示窗口的各个缓冲区（参见<a href="#Tab-Line">窗口标签行</a>）。</dd>
<dt><code>vertical-border</code></dt><dd>（垂直边框样式）在文本终端中，用于显示窗口之间的垂直分隔线。</dd>
<dt><code>minibuffer-prompt</code></dt><dd>（迷你缓冲区提示符样式） 用于显示迷你缓冲区中的提示符字符串。默认情况下，Emacs 会自动将该样式添加至变量 <code>minibuffer-prompt-properties</code> 的取值中；该变量是一个文本属性列表（参见《Emacs Lisp 参考手册》中的<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Text-Properties.html#Text-Properties">文本属性</a>），用于控制提示符文本的显示（进入迷你缓冲区时该变量生效）。</dd>
<dt><code>fringe</code></dt><dd>（边距样式）在图形化显示器中，用于显示窗口左右两侧的边距区域（边距是 Emacs 窗口中，文本区域与窗口左右边框之间的窄条区域）（参见<a href="#Fringes">窗口边距</a>）。</dd>
<dt><code>cursor</code></dt><dd>（光标样式）该样式的 <code>:background</code> 属性用于指定文本光标的颜色（参见<a href="#Cursor-Display">光标的显示</a>）。</dd>
<dt><code>tooltip</code></dt><dd>（工具提示样式）用于显示工具提示的文本。默认情况下，若 Emacs 编译时启用 GTK+ 支持，工具提示会由 GTK+ 渲染，该样式将失效（参见<a href="#Tooltips">工具提示</a>）。</dd>
<dt><code>mouse</code></dt><dd>（鼠标指针样式）用于指定鼠标指针的颜色。</dd>
</dl>

<p>
以下外观样式同样用于控制 Emacs 窗口各组成部分的显示样式，但仅在文本终端中，或Emacs 基于 X 系统编译且未启用工具包支持时生效。其他场景下，对应窗口组件的显示样式由系统全局设置决定。
</p>
<dl class="org-dl">
<dt><code>scroll-bar</code></dt><dd>（滚动条样式）用于指定滚动条的视觉样式（参见<a href="#Scroll-Bars">滚动条</a>）。</dd>
<dt><code>tool-bar</code></dt><dd>（工具栏样式）用于指定工具栏图标的颜色（参见<a href="#Tool-Bars">工具栏</a>）。</dd>
<dt><code>tab-bar</code></dt><dd>（标签栏样式）用于指定标签栏图标的颜色（参见<a href="#Tab-Bars">标签栏</a>）。</dd>
<dt><code>menu</code></dt><dd>（菜单样式）用于指定 Emacs 菜单的颜色和字体（参见<a href="#Menu-Bars">菜单栏</a>）。</dd>
<dt><code>tty-menu-enabled-face</code></dt><dd>（终端可用菜单项样式）在文本模式终端中，用于显示可用的菜单项。</dd>
<dt><code>tty-menu-disabled-face</code></dt><dd>（终端禁用菜单项样式）在文本模式终端中，用于显示禁用的菜单项。</dd>
<dt><code>tty-menu-selected-face</code></dt><dd>（终端选中菜单项样式）在文本模式终端中，用于显示待选中的菜单项（单击鼠标或按下 <code>RET</code> 回车键即可选中该菜单项）</dd>
</dl>
</div>
</div>
<div id="outline-container-Icons" class="outline-3">
<h3 id="Icons"><span class="section-number-3">16.11.</span> 图标（Icons）</h3>
<div class="outline-text-3" id="text-Icons">
<p>
Emacs 会在部分场景下显示可点击的按钮（或其他信息类图标），你可自定义这些图标的显示样式。
</p>

<p>
此处的核心自定义项为用户选项 <code>icon-preference</code> （图标偏好）。通过该选项，你可以向 Emacs 设定自己对图标的整体显示偏好。该选项的取值为 <b>图标类型列表</b> ，Emacs 会选用列表中首个受支持的图标类型。目前支持的图标类型包括：
</p>

<dl class="org-dl">
<dt><code>image</code></dt><dd>使用图像作为图标显示</dd>
<dt><code>emoji</code></dt><dd>使用彩色表情符号作为图标显示</dd>
<dt><code>symbol</code></dt><dd>使用单色符号作为图标显示</dd>
<dt><code>text</code></dt><dd>使用简单文本作为图标显示</dd>
</dl>

<p>
此外，你可通过命令 <code>M-x customize-icon</code> 对单个图标进行个性化设置，主题也可进一步修改所有图标的显示样式。
</p>

<p>
若需快速查看某一图标的说明信息，可使用命令 <code>M-x describe-icon</code> 。
</p>
</div>
</div>
<div id="outline-container-Text-Scale" class="outline-3">
<h3 id="Text-Scale"><span class="section-number-3">16.12.</span> 文本缩放（Text Scale）</h3>
<div class="outline-text-3" id="text-Text-Scale">
<p>
要增大当前缓冲区中默认面版的字体大小，可按下 <code>C-x C-+</code> 或 <code>C-x C-=</code> ；要减小字体大小，按下 <code>C-x C--</code> ；恢复默认（全局）字体大小则按下 <code>C-x C-0</code> 。这些快捷键均绑定至同一个命令 <code>text-scale-adjust</code> ，该命令会根据最后按下的按键判断执行的操作，并通过修改默认面版的高度属性相应调整字体大小。
</p>

<p>
大多数面版并未显式设置 <code>:height</code> 属性，因此会继承默认面版的高度，这类面版的字体大小也会随上述命令同步缩放。
</p>

<p>
对于默认面版之外、显式设置了 <code>:height</code> 属性的面版，其字体大小不会受上述命令影响； <code>header-line</code> 标题行面版为特例：即便显式设置了 <code>:height</code> 属性，该面版仍会随命令同步缩放。
</p>

<p>
同理，当鼠标指针置于缓冲区文本区域时，按住 <code>Ctrl</code> 键滚动鼠标滚轮，也会根据滚动方向增大或减小相关面版的字体大小。
</p>

<p>
执行上述缩放命令时，后续的调节按键可省略前置的 <code>C-x</code> 和修饰键直接重复按下。例如， <code>C-x  C-= C-=   C-=  与  C-x  C-=  =  =</code> 两种操作，均可将面版高度增大三级。每级缩放会将文本高度乘以1.2的系数，若需修改该系数，可自定义变量 <code>text-scale-mode-step</code> 。为 <code>text-scale-adjust</code> 命令传入数字参数0，效果与按下 <code>C-x C-0=</code> 一致，均可恢复默认的文本高度。
</p>

<p>
若要全局修改所有区域的字体大小，可按下C-x C-M-+、C-x C-M-=、C-x C-M&#x2013; 或C-x C-M-0，也可同时按住Ctrl 键和 Meta 键滚动鼠标滚轮。若希望全局修改字体大小时，Emacs 窗口也随之自动调整尺寸，可自定义变量 <code>global-text-scale-adjust-resizes-frames</code> （参见<a href="#Easy-Customization">简易自定义界面</a>）。
</p>

<p>
命令 <code>text-scale-increase</code> 和 <code>text-scale-decrease</code> ，分别实现与 <code>C-x C-+</code> 、 <code>C-x C--</code> 完全相同的功能，仅调整当前缓冲区的字体大小。相比绑定 <code>text-scale-adjust</code> ，直接绑定这两个命令可能会更便捷。
</p>

<p>
命令 <code>text-scale-set</code> 可根据其前缀参数，将当前缓冲区的字体大小缩放至指定的绝对级别。
</p>

<p>
当当前文本的缩放比例非 1 时，上述所有缩放命令会自动启用次要模式 <code>text-scale-mode</code> ；缩放比例恢复为 1 时，该模式则会自动关闭。
</p>

<p>
命令 <code>text-scale-pinch</code> 支持通过触控板的捏合手势调整文本缩放比例：将两根手指放在触控板上相互靠近或远离，命令会根据手指间的距离变化放大或缩小文本。该功能仅在部分搭载兼容硬件的系统上可用。
</p>

<p>
命令 <code>mouse-wheel-text-scale</code> 也可调整文本缩放比例，该命令通常在按住 <code>Ctrl</code> 键滚动鼠标滚轮时触发，向下滚动滚轮会放大文本，向上滚动滚轮则会缩小文本。
</p>
</div>
</div>
<div id="outline-container-Font-Lock" class="outline-3">
<h3 id="Font-Lock"><span class="section-number-3">16.13.</span> 字体锁定模式（Font Lock mode）</h3>
<div class="outline-text-3" id="text-Font-Lock">
<p>
字体锁定模式是一种次要模式，仅作用于单个缓冲区，该模式会为缓冲区中的文本分配对应面版（即进行字体着色）。每个缓冲区的主模式会告知字体锁定模式需要对哪些文本进行着色；例如，编程语言相关主模式会为注释、字符串、函数名等语法相关结构进行字体着色。
</p>

<p>
支持字体锁定模式的主模式会默认启用该功能。在当前缓冲区中切换其开关状态，可执行命令 <code>M-x font-lock-mode</code> ；传入正数值参数会强制启用字体锁定模式，传入负数或 0 参数则会关闭该模式。
</p>

<p>
执行命令 <code>M-x global-font-lock-mode</code> 可在所有缓冲区中统一切换字体锁定模式的开关。若要让该设置在后续的 Emacs 会话中生效，可自定义变量 <code>global-font-lock-mode</code>　（参见<a href="#Easy-Customization">简易自定义界面</a>），或在初始化文件中添加以下代码行：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-font-lock-mode 0)
</pre>
</div>

<p>
若你已关闭全局字体锁定模式，仍可通过将函数 <code>font-lock-mode</code> 添加至模式钩子，为特定主模式单独启用字体锁定功能（参见<a href="#Hooks">钩子</a>）。例如，为 C 语言文件编辑启用该模式，可添加以下配置：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'c-mode-hook 'font-lock-mode)
</pre>
</div>

<p>
字体锁定模式会使用多个特定命名的面版完成着色工作，包括 <code>font-lock-string-face</code> （字符串着色面版）、 <code>font-lock-comment-face</code> （注释着色面版）等。查看所有相关面版的最简方式为执行 <code>M-x customize-group RET font-lock-faces RET</code> ，随后可在该自定义缓冲区中修改这些面版的显示样式（参见<a href="#Face-Customization">自定义面版</a>）。
</p>

<p>
对超大缓冲区进行字体着色会消耗较多时间。为避免打开文件时出现长时间卡顿，Emacs 初始状态下仅会对缓冲区的可见区域进行着色。当你滚动浏览缓冲区时，新进入可见区域的文本会在显示的同时完成着色；这种字体锁定方式被称为 <b>即时锁定</b> （Just-In-Time (or JIT)）。你可通过自定义 <code>jit-lock自定义组</code> 中的相关变量，控制即时锁定的行为，包括设置让 Emacs 在空闲时执行着色操作（参见<a href="#Specific-Customization">自定义特定项</a>）。
</p>

<p>
主模式用于判断缓冲区中哪些文本需要着色、以及为其分配何种面版的依据，来自多种不同的文本分析方式：
</p>

<ul class="org-ul">
<li>基于正则表达式，检索关键字及其他文本模式（参见<a href="#Regexp-Search">正则表达式搜索</a>）；</li>

<li>基于内置的语法表，识别文本中语法上彼此独立的部分（参见《Emacs Lisp 参考手册》中的《<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Syntax-Tables.html#Syntax-Tables">语法表</a>》章节）；</li>

<li>通过专用类库（如 tree-sitter 类库，参见《Emacs Lisp 参考手册》中的<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Parsing-Program-Source.html#Parsing-Program-Source">程序源代码解析</a>章节）或外部程序，调用完整解析器生成的语法树进行分析。</li>

<li><a href="#Traditional-Font-Lock">传统字体锁定</a></li>
<li><a href="#Parser_002dbased-Font-Lock">基于解析器的字体锁定</a></li>
</ul>
</div>
<div id="outline-container-Traditional-Font-Lock" class="outline-4">
<h4 id="Traditional-Font-Lock"><span class="section-number-4">16.13.1.</span> 传统字体锁定</h4>
<div class="outline-text-4" id="text-Traditional-Font-Lock">
<p>
提供字体锁定信息的「Traditional传统」方法，基于正则表达式搜索，以及借助 Emacs 内置语法表开展的句法分析。本小节将介绍，针对采用这些传统方法的主模式，字体锁定功能的使用与自定义方式。
</p>

<p>
对于支持该特性的主模式，你可通过自定义变量 <code>font-lock-maximum-decoration</code> ，控制字体锁定模式的着色精细程度。该变量的取值可为数字（数字 1 代表最低程度的着色，部分模式支持最高至 3 级的着色程度）；也可为 <code>t</code> ，表示「尽可能高的着色程度」（默认值）。若要让该自定义设置对某一文件缓冲区生效，需在打开文件前完成 <code>font-lock-maximum-decoration</code> 的配置；若已打开文件后才修改该变量，需关闭该缓冲区，重新打开文件使设置生效。
</p>

<p>
你也可为特定主模式单独指定不同的着色等级。例如，要将 C/C++ 模式的着色等级设为 1，其他模式使用默认等级，可将该变量设为以下值：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">'((c-mode . 1) (c++-mode . 1)))
</pre>
</div>

<p>
注释与字符串的着色（或称「句法性」着色），依赖对缓冲区文本句法结构的分析。为提升处理速度，包括 Lisp 模式在内的部分模式遵循一项特殊约定： <b>最左侧列中的左括号或左大括号，始终表示函数定义（defun）的起始位置，因此永远处于任意字符串或注释之外</b> 。因此，若左括号或左大括号出现在字符串或注释内部，请勿将其放在最左侧列。详情参见「<a href="#Left-Margin-Paren">左边界约定</a>」相关内容。
</p>

<p>
绝大多数模式都已预置字体锁定的高亮匹配规则，但若你需要为额外的内容模式添加着色，可使用函数 <code>font-lock-add-keywords</code> ，为特定模式自定义高亮匹配规则。例如，要在 C 语言的注释中高亮显示”FIXME:“字样，可使用以下代码：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'c-mode-hook
          (<span style="color: #a020f0;">lambda</span> ()
           (font-lock-add-keywords nil
            '((<span style="color: #8b2252;">"\\&lt;</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">(</span><span style="color: #8b2252;">FIXME</span><span style="color: #8b2252; font-weight: bold;">\\</span><span style="color: #8b2252; font-weight: bold;">)</span><span style="color: #8b2252;">:"</span> 1
               font-lock-warning-face t)))))
</pre>
</div>

<p>
若要从字体锁定的高亮匹配规则中移除关键词，可使用函数 <code>font-lock-remove-keywords</code> ，详情参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Search_002dbased-Fontification.html#Search_002dbased-Fontification">基于搜索的着色</a>」章节。此外，你也可通过自定义 <code>font-lock-ignore</code> 选项，选择性禁用部分关键词的高亮效果，详情参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Customizing-Keywords.html#Customizing-Keywords">自定义关键词</a>」章节。
</p>
</div>
</div>
<div id="outline-container-Parser_002dbased-Font-Lock" class="outline-4">
<h4 id="Parser_002dbased-Font-Lock"><span class="section-number-4">16.13.2.</span> 基于解析器的字体锁定</h4>
<div class="outline-text-4" id="text-Parser_002dbased-Font-Lock">
<p>
若你的 Emacs 编译时集成了 tree-sitter 库，便可利用该库对缓冲区文本的解析结果实现文本着色。这一方式通常比上一小节所述的「传统方法」更快、更精准，因为 tree-sitter 库为其所支持的编程语言及其他格式文本，提供了功能完善的专用解析器。基于 tree-sitter 库开发的主模式均命名为 <code>foo-ts-mode</code> 格式，其中的 '<code>-ts-</code>' 后缀即表示该模式启用了此解析库。本小节将介绍基于 tree-sitter 库的字体锁定功能相关用法。
</p>

<p>
对于基于 tree-sitter 的主模式，你可通过自定义变量 <code>treesit-font-lock-level</code> ，控制其字体锁定模式的着色精细程度。该变量的取值为 1 至 4 之间的整数，各等级对应的着色范围如下：
</p>

<dl class="org-dl">
<dt>等级 1</dt><dd>仅对注释，以及函数定义中的函数名进行着色。</dd>
<dt>等级 2</dt><dd>在等级 1 基础上，新增对关键字、字符串和数据类型的着色。</dd>
<dt>等级 3</dt><dd>默认着色等级；在等级 2 基础上，新增对赋值语句、数字等内容的着色。</dd>
<dt>等级 4</dt><dd>最高着色等级；在等级 3 基础上，对所有可着色内容进行标注，包括运算符、分隔符、方括号、其他标点符号、函数调用中的函数名、属性查找表达式、变量等。</dd>
</dl>

<p>
上述各类句法范畴的具体判定标准，由对应主模式及 tree-sitter 为该模式所属语言提供的解析器语法共同决定。但总体而言，这些范畴均遵循该主模式所支持的编程语言或文件格式的通用规范。变量 <code>treesit-font-lock-feature-list</code> 的缓冲区局部值，存储了基于 tree-sitter 的主模式所支持的所有着色特性，其中每个子列表对应一个着色等级，展示该等级所包含的具体着色特性。
</p>

<p>
通过 <code>M-x customize-variable</code> 命令修改 <code>treesit-font-lock-level</code> 的取值后（参见「<a href="#Specific-Customization">自定义特定项</a>」），该设置会立即在当前 Emacs 会话的所有已打开缓冲区中生效，且后续打开的文件也会沿用此设置。
</p>
</div>
</div>
</div>
<div id="outline-container-Highlight-Interactively" class="outline-3">
<h3 id="Highlight-Interactively"><span class="section-number-3">16.14.</span> 交互式高亮（Interactive Highlighting）</h3>
<div class="outline-text-3" id="text-Highlight-Interactively">
<p>
<code>Highlight Changes mode</code> 变更高亮模式是一种次要模式，会为缓冲区中 <b>最近修改过的内容</b> 应用不同的文本外观，实现高亮标记。启用或关闭该模式可执行命令 <code>M-x highlight-changes-mode</code> 。
</p>

<p>
Hi Lock 模式是一款次要模式，可高亮显示缓冲区中与 <b>你指定的正则表达式</b> 相匹配的文本。例如，可通过该模式高亮程序源文件中某个变量的所有引用、某程序大量输出结果中的特定内容，或是一篇文章里的指定名称。启用或关闭 Hi Lock 模式执行命令 <code>M-x hi-lock-mode</code> ；若要为所有缓冲区全局启用该模式，可执行 <code>M-x global-hi-lock-mode</code> ，或在 <code>.emacs</code> 配置文件中添加代码 <code>(global-hi-lock-mode 1)</code> 。
</p>

<p>
Hi Lock 模式的工作逻辑与字体锁定模式类似（参见<a href="#Font-Lock">字体锁定模式</a>相关内容），区别在于前者需由用户显式指定要高亮的正则表达式。可通过以下命令对该模式的高亮规则进行控制（下述以 <code>C-x w</code> 开头的快捷键已被弃用，官方推荐使用全局的 <code>M-s h</code> 系列快捷键，这些旧快捷键将在未来的 Emacs 版本中移除）。
</p>

<dl class="org-dl">
<dt><code>M-s h r 正则表达式 回车 外观 回车</code></dt><dd></dd>

<dt><code>C-x w h regexp RET face RET</code></dt><dd><p>
使用指定的文本外观，高亮所有匹配该正则表达式的文本 (<code>highlight-regexp</code>) 。该高亮效果会在缓冲区存续期间一直保留。例如，要使用默认高亮外观（黄色背景）标记所有 “whim” 单词，可输入 <code>M-s h r whim RET RET</code> 。任意文本外观均可用于高亮，Hi Lock 模式自身提供了多款专属外观，且已预加载至默认外观列表中；在命令提示选择外观时，可通过 <code>M-n</code> 和 <code>M-p</code> 循环切换该列表中的外观。若为该命令添加数字前缀参数，仅会对正则表达式中的对应子表达式匹配内容进行高亮。
</p>

<p>
若将选项 <code>hi-lock-auto-select-face</code> 设为非 nil 值，该命令（及其他所有需要选择外观的 Hi Lock 命令）会自动从默认外观列表中选取下一个外观，无需手动交互选择。
</p>

<p>
该命令可多次执行，为不同正则表达式配置不同的高亮方式。
</p></dd>

<dt><code>M-s h u regexp RET</code></dt><dd></dd>

<dt><code>C-x w r regexp RET</code></dt><dd>取消指定正则表达式对应的高亮效果 (<code>unhighlight-regexp</code>) 。若通过菜单调用该命令，可从列表中选择要取消的正则表达式；若通过键盘调用，需在迷你缓冲区中操作 —— 迷你缓冲区会默认显示最近添加的高亮正则表达式，按 <code>M-n</code> 可切换至更早添加的表达式，按M-p可切换至更新的表达式（也可手动输入表达式，支持补全功能）。当要取消的表达式出现在迷你缓冲区时，按 <code>RET</code> 回车即可退出迷你缓冲区并取消对应高亮。</dd>

<dt><code>M-s h l regexp RET face RET</code></dt><dd></dd>

<dt><code>C-x w l regexp RET face RET</code></dt><dd>使用指定的文本外观， <b>高亮所有包含该正则表达式匹配内容的整行文本</b>  (<code>highlight-lines-matching-regexp</code>) 。</dd>

<dt><code>M-s h p phrase RET face RET</code></dt><dd></dd>

<dt><code>C-x w p 短语 回车 外观 回车</code></dt><dd>使用指定的文本外观，高亮匹配该短语的内容 (<code>highlight-phrase</code>) 。该短语可是任意正则表达式，且命令会自动将短语中的 <b>空格</b> 匹配为任意空白字符，将短语中 <b>首字母小写的字符</b> 设为大小写不敏感匹配。</dd>

<dt><code>M-s h .</code></dt><dd></dd>

<dt><code>C-x w .</code></dt><dd>使用下一个可用的高亮外观，高亮 <b>光标附近的符号</b>  (<code>highlight-symbol-at-point</code>) 。</dd>

<dt><code>M-s h w</code></dt><dd></dd>

<dt><code>C-x w b</code></dt><dd><p>
将当前所有的「高亮正则表达式 / 外观」匹配对，插入到 <b>光标所在的缓冲区位置</b> ，并为其添加注释分隔符，避免该内容干扰程序运行 (<code>hi-lock-write-interactive-patterns</code>) 。
</p>

<p>
若执行 <code>M-x hi-lock-find-patterns</code> ，或在 Hi Lock 模式启用状态下打开某文件（该操作会自动调用 <code>hi-lock-find-patterns</code> ），程序会从文件的注释中 <b>提取合适的高亮匹配</b> 对并生效。
</p></dd>

<dt><code>M-s h f</code></dt><dd></dd>

<dt><code>C-x w i</code></dt><dd><p>
从当前缓冲区的注释中提取「正则表达式 / 外观」匹配对 (<code>hi-lock-find-patterns</code>) 。借助该功能，你可先通过 <code>highlight-regexp</code> 交互式添加高亮匹配对，再通过 <code>hi-lock-write-interactive-patterns</code> 将其保存到文件中，对其进行编辑（例如为正则表达式中不同括号匹配的部分配置不同高亮外观），最后通过该命令让 Hi Lock 模式根据编辑后的匹配实现高亮。
</p>

<p>
变量 <code>hi-lock-file-patterns-policy</code> 用于控制：在打开文件时，Hi Lock 模式是否 <b>自动提取并应用</b> 文件中包含的高亮匹配对。其取值可为： <code>nil</code> （从不自动高亮）、 <code>ask</code> （询问用户，为默认值）、或一个函数。若设为函数， <code>hi-lock-find-patterns</code> 会将提取到的匹配对作为参数调用该函数；若函数返回非 nil 值，则应用这些匹配对。注意，若直接调用 <code>hi-lock-find-patterns</code> ，无论该变量取何值，都会对提取到的匹配对执行高亮。
</p>

<p>
此外，若当前主模式的符号存在于列表 <code>hi-lock-exclude-modes</code> 中，调用 <code>hi-lock-find-patterns</code> 时将 <b>不执行任何操作</b> 。
</p></dd>
</dl>
</div>
</div>
<div id="outline-container-Fringes" class="outline-3">
<h3 id="Fringes"><span class="section-number-3">16.15.</span> 窗口边缘（Window Fringes）</h3>
<div class="outline-text-3" id="text-Fringes">
<p>
在图形化显示界面中，每个 Emacs 窗口的左右两侧默认都会显示窄版的 <b>fringes窗口边缘</b> 区域。该区域用于显示各类符号，以此标注窗口中文本的相关状态信息。你可执行命令 <code>M-x fringe-mode</code> ，切换窗口边缘的显示状态或修改其宽度；该命令会作用于所有框架，若仅需修改当前选中框架的窗口边缘，可使用 <code>M-x set-fringe-style</code> 。通过自定义变量 <code>fringe-mode</code> ，可将你对窗口边缘的设置永久保存。
</p>

<p>
窗口边缘最常用的功能，是标记 <b>continuation line折行文本</b> （参见《<a href="#Continuation-Lines">折行</a>》相关内容）：当一行文本被拆分为多个 screen lines 屏幕行显示时，除首个屏幕行外，其余所有屏幕行对应的左侧边缘会显示弯曲箭头，表明此位置并非文本的实际起始处；除最后一个屏幕行外，其余所有屏幕行对应的右侧边缘也会显示弯曲箭头，表明此位置并非文本的实际结束处。若文本的显示方向为从右到左（参见《<a href="#Bidirectional-Editing">双向编辑</a>》相关内容），窗口边缘中弯曲箭头的含义会相应互换。
</p>

<p>
窗口边缘也会用于标记 <b>line truncation行截断</b> 状态（参见行《<a href="#Line-Truncation">截断</a>》相关内容）：当某行文本因水平滚动而有部分内容超出可视范围时，边缘会显示短水平箭头，箭头方向即为未显示内容的所在方向。用鼠标点击该箭头，窗口会沿箭头方向水平滚动，展示隐藏的文本内容。
</p>

<p>
此外，窗口边缘还可标注其他文本状态，例如缓冲区边界（参见《<a href="#Displaying-Boundaries">显示边界</a>》相关内容）、窗口末尾附近的未使用行（参见 <a href="#Useless-Whitespace">indicate-empty-lines</a> 相关配置），以及正在调试的程序当前的执行位置（参见 <a href="#Debuggers">Emacs 下运行调试器</a>相关内容）。
</p>

<p>
当某行文本的宽度与窗口宽度完全一致，且光标处于该行末尾时，窗口边缘区域也会被用于绘制光标。若要关闭该功能，可将变量 <code>overflow-newline-into-fringe</code> 设为 <code>nil</code> ，此时 Emacs 会对宽度与窗口完全一致的文本行执行折行或截断处理。
</p>

<p>
若你通过自定义 <code>fringe-mode</code> ，隐藏了窗口单侧或双侧的边缘区域，原本显示在边缘处的各类状态标记功能将无法使用。但 <b>折行与行截断的标记</b> 是例外情况：当窗口边缘不可用时，Emacs 会使用每行最左侧和最右侧的字符位，通过特殊 ASCII 字符标记折行与行截断状态（参见<a href="#Continuation-Lines">折行</a>、<a href="#Line-Truncation">行截断</a>相关内容）。这一处理会减少每行可用于显示文本的宽度，因为用于标记折行和截断的字符位会被专门预留，无法再显示普通文本。由于缓冲区中的文本可能包含双向显示内容，即同时存在从左到右和从右到左的段落（参见<a href="#Bidirectional-Editing">双向编辑</a>相关内容），因此即便是仅隐藏单侧的窗口边缘，Emacs 仍会在窗口两侧各预留一个字符位，用于标注折行和截断状态 —— 这是因为在从右到左的段落中，这类标记会显示在窗口的对侧位置。
</p>
</div>
</div>
<div id="outline-container-Displaying-Boundaries" class="outline-3">
<h3 id="Displaying-Boundaries"><span class="section-number-3">16.16.</span> 边界显示（Displaying Boundaries）</h3>
<div class="outline-text-3" id="text-Displaying-Boundaries">
<p>
Emacs 可显示 <b>fill-column填充列</b> 位置的标记（参见<a href="#Fill-Commands">显式填充命令</a>相关内容）。填充列标记是一项实用功能，在编程模式及其派生模式中尤为常用（参见<a href="#Major-Modes">主模式</a>相关内容），用于标记一个特定列的位置，该列对程序源代码的格式化排版具有特殊意义。此功能的生效前提是，缓冲区使用 <b>fixed-pitch font等宽字体</b> —— 即除全角字符外，所有字符在显示时宽度一致；若缓冲区使用 variable-pitch fonts变宽字体，不同行的填充列标记可能出现对不齐的情况。
</p>

<p>
要启用填充列标记的显示功能，可使用次要模式 <code>display-fill-column-indicator-mode</code> 和 <code>global-display-fill-column-indicator-mode</code> ，二者分别用于在当前缓冲区本地启用、在所有缓冲区全局启用该标记。
</p>

<p>
你也可通过设置两个缓冲区局部变量 <code>display-fill-column-indicator</code> 和 <code>display-fill-column-indicator-character</code> ，来启用填充列标记并控制标记所使用的字符。注意，只有当两个变量均设为非 nil 值时，填充列标记才会显示（启用上述次要模式会自动为这两个变量赋值）。
</p>

<p>
可通过以下 2 个缓冲区局部变量和 1 个文本外观，对该模式进行自定义配置：
</p>

<dl class="org-dl">
<dt><code>display-fill-column-indicator-column</code></dt><dd><p>
指定填充列标记的显示列号。该变量可设为正整数（表示具体列号），也可设为特殊值t（表示使用变量 <code>fill-column</code> 的取值作为标记列号）；
</p>

<p>
设为其他任意值则会禁用填充列标记，该变量默认值为 <code>t</code> 。
</p></dd>

<dt><code>display-fill-column-indicator-character</code></dt><dd><p>
指定用于填充列标记的字符。该字符可为任意有效字符，若字体支持，也可使用 Unicode 字符；变量设为 <code>nil</code> 则禁用填充列标记。
</p>

<p>
当通过 <code>display-fill-column-indicator-mode</code> 或 <code>global-display-fill-column-indicator-mode</code> 启用该模式时，若此变量为非 nil 值，将使用该变量指定的字符作为标记；若为 =nil=，Emacs 会默认使用字符U+2502（细竖线绘制符），若该字符无法显示，则回退使用竖线符号 "|"。
</p></dd>

<dt><code>fill-column-indicator</code></dt><dd>指定用于显示填充列标记的文本外观。该外观默认继承 <code>shadow</code> 外观的属性，但不包含背景色；若要修改填充列标记的颜色，仅需设置该外观的前景色即可。</dd>
</dl>

<p>
在图形化显示界面中，Emacs 还可在 <b>窗口边缘</b> 区域标记缓冲区的边界。启用该功能后，缓冲区的首行和末行会在边缘区域显示角度图标，同时可搭配上下箭头图标，标识当前窗口是否可进行滚动操作。
</p>

<p>
缓冲区局部变量 <code>indicate-buffer-boundaries</code> ，用于控制缓冲区边界和窗口滚动状态在边缘区域的显示方式：
</p>

<ul class="org-ul">
<li>若变量值设为 <code>left</code> 或 <code>right</code> ，则角度图标和箭头图标会一同显示在左侧边缘或右侧边缘区域；</li>

<li>若变量值设为 <b>关联列表</b> （参见《Emacs Lisp 参考手册》中的<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Association-Lists.html#Association-Lists">关联列表</a>相关内容），列表中的每个元素均为 <b>(标记类型。显示位置)</b> 的形式，用于指定单个标记的显示位置。其中，标记类型可为 top（顶部）、bottom（底部）、up（向上）、down（向下），或特殊值 t（为列表中未指定的标记设置默认显示位置）；显示位置可为 left（左侧）、right（右侧），或 nil（不显示该标记）。</li>
</ul>

<p>
例如，设置值为 <code>((top . left) (t . right))</code> ，表示将顶部角度图标显示在左侧边缘，底部角度图标和上下箭头图标均显示在右侧边缘；若仅需在左侧边缘显示角度图标、不显示箭头图标，可将变量值设为 <code>((top . left) (bottom . left))</code> 。
</p>
</div>
</div>
<div id="outline-container-Useless-Whitespace" class="outline-3">
<h3 id="Useless-Whitespace"><span class="section-number-3">16.17.</span> 无用空白字符（Useless Whitespace）</h3>
<div class="outline-text-3" id="text-Useless-Whitespace">
<p>
编辑时很容易在 <b>行尾</b> 无意间留下多余的空格，或在 <b>缓冲区末尾</b> 留下空行。多数情况下，这些尾随空白字符不会产生实际影响，但有时会造成不必要的麻烦。
</p>

<p>
将缓冲区局部变量 <code>show-trailing-whitespace</code> 设为 t，即可让行尾的尾随空白字符变为可见状态，Emacs 会通过 <code>trailing-whitespace</code> 文本外观对其进行标记显示。
</p>

<p>
该功能在 <b>光标位于含空白字符的行尾</b> 时会暂时失效。严格来说，此时的空白字符仍属于尾随空白，但在输入新文本的过程中，对其进行特殊标记会影响视觉体验，而光标所处的位置本身就足以提示用户此处存在空白字符。
</p>

<p>
执行命令 <code>M-x delete-trailing-whitespace</code> 可删除所有尾随空白字符，该命令会清除缓冲区中 <b>每行行尾</b> 的所有多余空格，以及 <b>缓冲区末尾</b> 的所有空行；若要保留缓冲区末尾的空行，可将变量 <code>delete-trailing-lines</code> 设为 <code>nil</code> 。若当前区域处于激活状态，该命令仅会删除该区域内每行行尾的多余空格。
</p>

<p>
在图形化显示界面中，Emacs 可在 <b>左侧窗口边缘</b> 通过小图标标记出窗口末尾的未使用行（参见<a href="#Fringes">窗口边缘</a>相关内容）。该图标会显示在所有不对应缓冲区文本的屏幕行处，因此缓冲区末尾的空行会因 <b>缺少该图标</b> 而变得醒目。启用该功能需将缓冲区局部变量 <code>indicate-empty-lines</code> 设为非 nil 值；若要为所有新建缓冲区启用该功能，可设置该变量的默认值，例如添加配置 <code>(setq-default indicate-empty-lines t)</code> 。
</p>

<p>
<b>空白字符模式</b> 是一款缓冲区局部次要模式，可通过 <b>特殊文本外观标记或特殊符号替代显示</b> 的方式，让缓冲区中的各类空白字符可视化。执行 <code>M-x whitespace-mode</code> 可切换该模式的开启与关闭。需可视化的空白字符类型由列表变量 <code>whitespace-style</code> 决定，执行 <code>M-x whitespace-toggle-options</code> 可在当前缓冲区中单独开启或关闭该列表中的任意配置项。以下是该变量的部分可选配置项（完整列表参见该变量的官方文档）：
</p>

<dl class="org-dl">
<dt><code>face</code></dt><dd>启用所有基于特殊文本外观的空白字符可视化功能。该配置项具有特殊含义：若列表中缺少此项，则除space-mark、tab-mark和newline-mark外，其余所有可视化功能均失效。</dd>
<dt><code>trailing</code></dt><dd>高亮显示行尾的尾随空白字符。</dd>
<dt><code>tabs</code></dt><dd>高亮显示制表符。</dd>
<dt><code>spaces</code></dt><dd>高亮显示普通空格和不换行空格字符。</dd>
<dt><code>lines</code></dt><dd>高亮显示超过 80 列的长行，可通过自定义变量 <code>whitespace-line-column</code> 修改列数限制。</dd>
<dt><code>newline</code></dt><dd>高亮显示换行符。</dd>
<dt><code>missing-newline-at-eof</code></dt><dd>若缓冲区末尾未以换行符结尾，则高亮显示最后一个字符。</dd>
<dt><code>empty</code></dt><dd>高亮显示缓冲区开头和 / 或末尾的空行。</dd>
<dt><code>big-indent</code></dt><dd>高亮显示过深的缩进。默认情况下，连续至少 4 个制表符或 32 个普通空格组成的缩进会被高亮，可通过自定义正则表达式 <code>whitespace-big-indent-regexp</code> 修改该判定规则。</dd>
<dt><code>space-mark</code></dt><dd>使用特殊符号替代显示普通空格和不换行空格。</dd>
<dt><code>tab-mark</code></dt><dd>使用特殊符号替代显示制表符。</dd>
<dt><code>newline-mark</code></dt><dd>使用特殊符号替代显示换行符。</dd>
</dl>

<p>
<b>全局空白字符模式</b> 是一款全局次要模式，可让所有缓冲区中的空白字符实现可视化，执行 <code>M-x global-whitespace-toggle-options</code> 可单独切换该模式下的各项功能。
</p>
</div>
</div>
<div id="outline-container-Selective-Display" class="outline-3">
<h3 id="Selective-Display"><span class="section-number-3">16.18.</span> 选择性显示（Selective Display）</h3>
<div class="outline-text-3" id="text-Selective-Display">
<p>
Emacs 支持隐藏 <b>缩进量超过指定列数</b> 的行，你可利用该功能快速概览程序的部分内容结构。
</p>

<p>
在当前缓冲区中，带数字参数 <code>n</code> 执行快捷键 <code>C-x $</code> (<code>set-selective-display</code>) ，即可让缩进量不少于 n 列的行从屏幕中隐藏。若某条可见行后紧跟一行或多行隐藏行，该行末尾会显示三个点（…），作为隐藏内容的标识。
</p>

<p>
快捷键 <code>C-n</code> 和 <code>C-p</code> 在跳转行时，会直接跳过隐藏的行，如同这些行不存在一般。
</p>

<p>
被隐藏的行仍会保留在缓冲区中，且绝大多数编辑命令会照常识别这些行，因此光标位置可能会出现在隐藏文本的中间。出现这种情况时，光标会显示在 <b>前一可见行的末尾、三个点之后</b> ；若光标位于可见行的末尾（换行符之前），则会显示在 <b>三个点之前</b> 。
</p>

<p>
不带任何参数执行 <code>C-x $</code> ，即可恢复显示所有被隐藏的行。
</p>

<p>
若将变量 <code>selective-display-ellipses</code> 设为 <code>nil</code> ，那么紧跟隐藏行的可见行末尾将 <b>不再显示三个点</b> ，此时缓冲区中无任何视觉标识提示隐藏行的存在。该变量被设置后会自动成为缓冲区局部变量。
</p>

<p>
你也可使用 《<a href="#Outline-Mode">大纲模式</a>》 实现缓冲区文本的部分隐藏，这是另一种文本隐藏的实现方式。
</p>
</div>
</div>
<div id="outline-container-Optional-Mode-Line" class="outline-3">
<h3 id="Optional-Mode-Line"><span class="section-number-3">16.19.</span> 模式行可选功能</h3>
<div class="outline-text-3" id="text-Optional-Mode-Line">
<p>
模式行中的缓冲区百分比 <code>pos</code> 表示窗口顶部之上的内容占整个缓冲区的比例。你可执行命令 <code>M-x size-indication-mode</code> 开启大小指示模式，额外显示缓冲区的字符规模，该数值会紧跟在缓冲区百分比后展示，格式如下：
</p>

<div class="org-src-container">
<pre class="src src-shell">pos of size
</pre>
</div>

<p>
其中 <code>size</code> 是缓冲区字符数的 <b>人性化可读表示</b> ，会使用缩写单位：k代表 10^3、M代表 10^6、G代表 10^9，依此类推。
</p>

<p>
开启行号模式后，光标所在的当前行号会显示在模式行中，可通过命令 <code>M-x line-number-mode</code> 开关该模式（默认处于开启状态）。行号会显示在缓冲区百分比 <code>pos</code> 之后，以字母"<code>L</code>"标识行号属性。
</p>

<p>
同理，执行 <code>M-x column-number-mode</code> 开启列号模式，即可在模式行显示光标当前的列号，列号以字母 '<code>C</code>' 标识。若同时开启行号和列号模式，行号和列号会以 <b>括号包裹</b> 的形式显示（行号在前、列号在后），而不是分别标注 '<code>L</code>'和 '<code>C</code>'，例如显示为：'<code>(561,2)</code>'。有关次要模式的详细介绍及上述命令的使用方法，参见「<a href="#Minor-Modes">次要模式</a>」相关内容。
</p>

<p>
列号模式下，显示的列号以窗口左边界为0 起始位计数；若希望列号从 1 开始计数，可将变量 <code>column-number-indicator-zero-based</code> 设为 <code>nil</code> 。
</p>

<p>
若你对缓冲区进行了窄化操作（参见「<a href="#Narrowing">窄化</a>」相关内容），模式行显示的行号为相对窄化后可访问区域的行号，因此该数值不能作为 <code>goto-line</code> 命令的参数（ <code>what-line</code> 命令可显示相对于整个文件的绝对行号）。你可使用 <code>goto-line-relative</code> 命令，将光标移至窄化后缓冲区可访问区域的指定相对行号位置。
</p>

<p>
若缓冲区体积过大（字符数超过变量 <code>line-number-display-limit</code> 的取值），Emacs 将不会计算行号（因计算过程会大幅卡顿），模式行也不会显示行号；若要取消该限制，将 <code>line-number-display-limit</code> 设为 <code>nil</code> 即可。
</p>

<p>
若缓冲区中的行过长，行号计算也会变慢。因此，当光标附近行的平均字符宽度超过变量 <code>line-number-display-limit-width</code> 的取值时，Emacs 同样不会显示行号，该变量的默认值为 200 个字符。
</p>

<p>
Emacs 支持在所有窗口的模式行中可选显示系统时间和负载，执行命令 <code>M-x display-time</code> 或自定义选项 <code>display-time-mode</code> 即可启用该功能。模式行中新增的相关信息格式如下：
</p>

<div class="org-src-container">
<pre class="src src-shell">hh:mmPM l.ll
</pre>
</div>

<p>
其中 <code>hh</code> 为小时、 <code>mm</code> 为分钟，其后始终跟随 <code>AM</code> （上午）或 <code>PM</code> （下午）； <code>l.ll</code> 为系统最近几分钟的平均负载值，即系统中处于运行或就绪状态（等待可用处理器）的进程数量（若操作系统不支持，部分字段可能不会显示）。若偏好 24 小时制时间显示，将变量 <code>display-time-24hr-format</code> 设为 <code>t</code> 即可。
</p>

<p>
若你存在未读邮件，模式行的系统负载值后会显示单词'<code>Mail</code>'。在图形化显示界面中，可通过自定义变量 <code>display-time-use-mail-icon</code> ，使用图标替代Mail文字，节省模式行的显示空间；也可自定义 <code>display-time-mail-face</code> 文本外观，让邮件提示标识更醒目。你可通过 <code>display-time-mail-file</code> 指定待检查的邮件文件，或设置 <code>display-time-mail-directory</code> 指定收件目录（该目录下所有非空的普通文件均会被视为新收到的邮件）。
</p>

<p>
在笔记本电脑上运行 Emacs 时，执行命令 <code>display-battery-mode</code> 或自定义变量 <code>display-battery-mode</code> ，即可在模式行中 <b>显示电池电量</b> 。变量 <code>battery-mode-line-format</code> 决定了电池电量的显示格式，具体的模式行提示信息因操作系统而异，通常会以百分比形式展示当前电池电量占总电量的比例。变量 <code>battery-update-functions中</code> 的函数会在模式行更新后运行，可基于电池状态触发自定义操作。
</p>

<p>
在图形化显示界面中，模式行默认以 3D 方框样式绘制；若你不喜欢该效果，可通过自定义 <code>mode-line</code> 文本外观，将其 <code>box</code> 属性设为 <code>nil</code> 来关闭 3D 效果，详情参见「<a href="#Face-Customization">自定义文本外观</a>」相关内容。
</p>

<p>
默认情况下，未选中窗口的模式行会使用 <code>mode-line-inactive</code> 外观显示，仅选中窗口的模式行使用 <code>mode-line</code> 外观，该设计可清晰区分当前选中的窗口。当迷你缓冲区被选中时，由于其无模式行，触发迷你缓冲区的原窗口会继续使用 <code>mode-line</code> 外观显示模式行，因此常规的迷你缓冲区操作不会改变任何窗口的模式行显示样式。
</p>

<p>
若要关闭 <code>mode-line-inactive</code> 外观的使用，将变量 <code>mode-line-in-non-selected-windows</code> 设为 <code>nil</code> 即可，此后所有窗口的模式行均会使用 <code>mode-line</code> 外观显示。
</p>

<p>
你可通过自定义变量 <code>eol-mnemonic-unix</code> 、 <code>eol-mnemonic-dos</code> 、 <code>eol-mnemonic-mac</code> 和 <code>eol-mnemonic-undecided</code> ，为每种换行格式设置自定义的字符串，实现模式行中换行格式标识的个性化显示。
</p>
</div>
</div>
<div id="outline-container-Text-Display" class="outline-3">
<h3 id="Text-Display"><span class="section-number-3">16.20.</span> 文本显示方式</h3>
<div class="outline-text-3" id="text-Text-Display">
<p>
绝大多数字符为 <b>printing character可打印字符</b> ：这类字符出现在缓冲区中时，会直接按字面形式显示在屏幕上。可打印字符包括 ASCII 数字、字母、标点符号，以及众多非 ASCII 字符。
</p>

<p>
ASCII 字符集中包含 <b>非打印control characters控制字符</b> ，其中有两个字符会以特殊形式显示：换行符（Unicode 编码点 U+000A）的显示方式为另起一行，制表符（U+0009）则会显示为连续空格，直至下一个制表位（默认每 8 列一个制表位）。每个制表符对应的空格数由缓冲区局部变量 <code>tab-width</code> 控制，该变量的取值必须是 1 到 1000 之间的整数（包含边界值）。注意，缓冲区中制表符的显示方式，与制表键（ <code>TAB</code> ）作为命令的定义无任何关联。
</p>

<p>
其余 ASCII 控制字符（编码小于 U+0020，即八进制 40、十进制 32），会以脱字符 '<code>^</code>' 后跟对应非控制形式字符的样式显示，并应用 <code>escape-glyph</code> 文本外观。例如，'contraol-A' 控制字符 A（U+0001）会显示为'<code>^A</code>'。
</p>

<p>
编码为 U+0080（八进制 200）至 U+009F（八进制 237）的原始字节，会以八进制转义序列的形式显示，同样应用escape-glyph外观。例如，编码 U+0098（八进制 230）会显示为'<code>\230</code>'。若将缓冲区局部变量 <code>ctl-arrow</code> 设为 <code>nil</code> ，所有 ASCII 控制字符都会改为以八进制转义序列显示，而非脱字符转义序列（你也可设置让原始字节以十六进制形式显示，参见变量<a href="#Display-Custom">display-raw-bytes-as-hex</a>）。
</p>

<p>
部分非 ASCII 字符的视觉外观，与 ASCII 空格或连字符（减号）完全相同。若这类字符在你不知情的情况下被插入缓冲区（例如通过粘贴操作），可能会引发问题 —— 比如源代码编译器通常不会将非 ASCII 空格识别为空白字符。为解决该问题，Emacs 会对这类字符做特殊显示处理：U+00A0 不换行空格，以及 Unicode 水平空格类的其他字符，会应用 <code>nobreak-space</code> 外观显示；U+00AD 软连字符、U+2010 连字符、U+2011 非断连字符，会应用 <code>nobreak-hyphen</code> 外观显示。若要关闭该特殊显示功能，将变量 <code>nobreak-char-display</code> 设为 <code>nil</code> 即可。若该变量设为非 nil 且非 t 的取值，Emacs 会将这类字符显示为 <b>高亮反斜杠</b> 后跟普通空格或连字符的形式。
</p>

<p>
你可通过显示表自定义任意特定编码字符的显示方式，详情参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Display-Tables.html#Display-Tables">显示表</a>」章节。
</p>

<p>
在图形化显示界面中，部分字符可能在 Emacs 可用的所有字体中均无对应字形。这类 <b>glyphless characters无字形字符</b> 默认会显示为包含其十六进制编码的方框。同理，在文本终端中，无法通过终端编码显示的字符（参见「<a href="#Terminal-Coding">终端输入输出的编码系统</a>」），默认会显示为问号。你可通过自定义变量 <code>glyphless-char-display-control</code> ，控制无字形字符的显示方式；也可自定义 <code>glyphless-char</code> 文本外观，让这类字符在屏幕上更醒目。具体细节参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Glyphless-Chars.html#Glyphless-Chars">无字形字符的显示</a>」章节。
</p>

<p>
启用 <code>glyphless-display-mode</code> 次要模式，可切换当前缓冲区中无字形字符的显示样式 —— 切换后，无字形字符会显示为方框，内部标注其字符名称的缩写。
</p>

<p>
Emacs 会自动检测当前显示设备是否支持显示弯引号 ( <code>‘</code> 和 <code>’</code> ) 。默认情况下，若检测到设备支持，Emacs 会将消息和帮助文本中的 ASCII 引号 (‘ <code>`</code> ’ 和 ‘ <code>'</code> ’) 自动转换为这类弯引号。你可通过自定义用户选项 <code>text-quoting-style</code> ，调整或禁止该转换行为，详情参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Keys-in-Documentation.html#Keys-in-Documentation">文档中的按键</a>」章节。
</p>

<p>
若检测到弯引号 <code>‘</code> 、 <code>’</code> 、 <code>“</code> 和 <code>”</code> 的显示效果与 ASCII 字符完全一致，这些弯引号会应用 <code>homoglyph</code> 外观显示；若检测到设备不支持显示某类弯引号，该弯引号会替换为对应的 ASCII 近似字符 <code>`</code> 、 <code>'</code> 、 和 <code>"</code> ，并同样应用 <code>homoglyph</code> 外观。
</p>
</div>
</div>
<div id="outline-container-Cursor-Display" class="outline-3">
<h3 id="Cursor-Display"><span class="section-number-3">16.21.</span> 光标显示（Displaying the Cursor）</h3>
<div class="outline-text-3" id="text-Cursor-Display">
<p>
在文本终端中，光标的显示样式由终端本身控制，Emacs 基本无法干预。部分终端提供两种光标样式可选：常规可见的静态光标，以及高亮显示的闪烁光标。Emacs 默认使用高亮 <b>闪烁光标</b> ，并在启动或恢复 Emacs 时自动切换至该样式；若 Emacs 启动或恢复时，变量 <code>visible-cursor</code> 的值为 <code>nil</code> ，则会使用常规静态光标。
</p>

<p>
在图形化显示界面中，文本光标的多项属性均可自定义。若要修改光标颜色，可调整cursor文本外观的: <code>background</code> （背景色）属性（参见<a href="#Face-Customization">自定义文本外观</a>相关内容）。（该外观的其他属性均无实际效果，光标覆盖区域的文本会使用框架的背景色绘制。）若要修改光标形状，可自定义缓冲区局部变量 <code>cursor-type</code> ，其可选值包括：
</p>

<ul class="org-ul">
<li><code>box</code> ：方块光标（默认样式）</li>
<li><code>(box . size)</code> ：方块光标（当遮罩图像的宽或高超过 size 像素时，光标变为空心方块）</li>
<li><code>hollow</code> ：空心方块光标</li>
<li><code>bar</code> ：竖线光标</li>
<li><code>(bar . n)</code> ：宽度为 n 像素的竖线光标</li>
<li><code>hbar</code> ：横线光标</li>
<li><code>(hbar . n)</code> ：高度为 n 像素的横线光标</li>
<li><code>nil</code> ：隐藏光标</li>
</ul>

<p>
默认情况下，若 Emacs 在 10 次光标闪烁期间未接收到任何输入，光标会停止闪烁；任意输入事件都会重置闪烁计数。你可通过自定义变量 <code>blink-cursor-blinks</code> 控制闪烁次数，该变量的取值为无输入时的最大闪烁次数；将其设为 0 或负数，光标会一直闪烁。若要彻底关闭光标闪烁，可将变量 <code>blink-cursor-mode</code> 设为 nil（参见<a href="#Easy-Customization">简易自定义界面</a>），或在初始化文件中添加以下配置行：
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(blink-cursor-mode 0)
</pre>
</div>

<p>
此外，你也可通过自定义列表变量 <code>blink-cursor-alist</code> ，修改光标熄灭时的显示样式。该列表的每个元素均为 <code>(on-type . off-type)</code> 的形式，含义为：若光标闪烁亮起时为 <code>on-type</code> 亮灯样式（可为上述任意光标类型），则熄灭时显示为 <code>off-type</code> 熄灯样式。
</p>

<p>
部分字符（如制表符）为 <b>宽字符</b> ，光标默认定位在这类字符上时，仍会以默认字符宽度绘制。若要让光标自动拉伸以覆盖整个宽字符，可将变量 <code>x-stretch-cursor</code> 设为非 nil 值。
</p>

<p>
默认情况下， <b>未选中窗口</b> 中的光标会显示为不闪烁的空心方块（若为竖线光标，则显示为更细的竖线）。若要隐藏未选中窗口中的光标，可将变量 <code>cursor-in-non-selected-windows</code> 设为 <code>nil</code> 。
</p>

<p>
若要让光标辨识度更高，你可启用行高亮模式（HL Line mode）—— 这是一款次要模式，会高亮显示光标所在的整行文本。执行 <code>M-x hl-line-mode</code> 可在当前缓冲区中开关该模式，执行 <code>M-x global-hl-line-mode</code> 可全局开关该模式。
</p>
</div>
</div>
<div id="outline-container-Line-Truncation" class="outline-3">
<h3 id="Line-Truncation"><span class="section-number-3">16.22.</span> 行截断（Line Truncation）</h3>
<div class="outline-text-3" id="text-Line-Truncation">
<p>
作为折行显示的替代方案（参见<a href="#Continuation-Lines">折行</a>相关内容），Emacs 可通过 <b>truncation行截断</b> 方式显示长行。行截断指的是，超出屏幕或窗口宽度的字符会被直接隐藏，不再显示。在图形化显示界面中，窗口边缘会显示一个小直箭头，标记行的左侧或右侧存在截断内容；在文本终端中，会在最右侧或最左侧列显示 ‘$’ 符号作为截断标识。
</p>

<p>
水平滚动会自动触发行截断（参见<a href="#Horizontal-Scrolling">水平滚动</a>相关内容）。你也可通过快捷键 <code>C-x x t</code> (<code>toggle-truncate-lines</code>) ，为特定缓冲区手动启用行截断功能，该命令的实现原理是修改缓冲区局部变量 <code>truncate-lines</code> 的取值：当该变量为非 nil 值时，长行将被截断显示；当该变量为 <code>nil</code> 值时，长行将折行显示为多个屏幕行。无论通过何种方式设置 <code>truncate-lines</code> ，该变量都会自动成为当前缓冲区的局部变量；在未手动设置前，该变量会使用默认值 <code>nil</code> （即折行显示）。
</p>

<p>
由于行截断与自动换行（下一节将介绍）功能互斥，执行 <code>toggle-truncate-lines</code> 命令启用行截断时，会同时禁用自动换行功能。
</p>

<p>
当拆分后的窗口宽度过窄时，Emacs 可能会自动启用行截断。相关控制变量为 <code>truncate-partial-width-windows</code> ，详情参见<a href="#Split-Window">窗口拆分</a>相关内容。
</p>
</div>
</div>
<div id="outline-container-Visual-Line-Mode" class="outline-3">
<h3 id="Visual-Line-Mode"><span class="section-number-3">16.23.</span> 视觉行模式（Visual Line Mode）</h3>
<div class="outline-text-3" id="text-Visual-Line-Mode">
<p>
作为普通折行显示的另一种替代方案（参见<a href="#Continuation-Lines">折行</a>相关内容），Emacs 支持使用 <b>word wrap自动换行</b> 功能。开启该功能后，较长的逻辑行会被拆分为两个或多个screen lines屏幕行（也称作「visual lines视觉行」），这一点与普通折行显示类似；不同的是，Emacs 会尝试 <b>在窗口右边缘附近的单词边界处进行换行</b> （若文本显示方向为从右到左，则在窗口左边缘的单词边界处换行）。这种换行方式不会在单词中间拆分文本，能让内容更易阅读。
</p>

<p>
自动换行功能由视觉行模式开启，该模式是一款可选的次要模式。在当前缓冲区中执行命令 <code>M-x visual-line-mode</code> 即可开启视觉行模式，重复执行该命令则关闭此模式；也可通过菜单栏操作：在「Options选项」菜单中选择「'<code>Line Wrapping in this Buffer</code>'本缓冲区的换行方式」子菜单，再点击「'<code>Word Wrap (Visual Line mode)</code>'自动换行（视觉行模式）」选项。视觉行模式开启后，模式行的模式显示区域会出现字符串wrap作为标识。执行命令 <code>M-x global-visual-line-mode</code> ，可对所有缓冲区全局切换视觉行模式的开启与关闭。
</p>

<p>
由于自动换行与上一节介绍的行截断功能互斥，开启视觉行模式的同时会自动禁用行截断功能。
</p>

<p>
在视觉行模式下，部分编辑命令的操作对象会从 <b>logical lines逻辑行</b> 变为 <b>screen lines视觉行</b> ：
</p>
<ul class="org-ul">
<li><code>C-a</code> (<code>beginning-of-visual-line</code>)：将光标移至当前视觉行的行首</li>
<li><code>C-e</code> (<code>end-of-visual-line</code>)：将光标移至当前视觉行的行尾</li>
<li><code>C-k</code> (<code>kill-visual-line</code>)：删除光标至当前视觉行尾的文本</li>
</ul>

<p>
若要按 <b>逻辑行</b> 进行光标移动，可使用命令 <code>M-x next-logical-line</code> 和 <code>M-x previous-logical-line</code> ，二者分别将光标移至下一个和上一个逻辑行，且操作效果不受视觉行模式开启状态的影响。若你频繁使用这两个命令，可为其绑定快捷键，具体方法参见「<a href="#Init-Rebinding">在初始化文件中重新绑定按键</a>」相关内容。
</p>

<p>
默认情况下，自动换行产生的视觉行 <b>不会在窗口边缘显示标识</b> 。视觉行模式常被用于编辑包含大量长逻辑行的文件，若为每个折行的视觉行都添加边缘标识，会造成视觉干扰；你可通过自定义变量 <code>visual-line-fringe-indicators</code> ，修改这一默认设置。
</p>

<p>
Emacs 默认仅在空格、制表符这类空白字符后进行换行，不会在「全角空格」等空白字符后折行。Emacs 提供了 <code>word-wrap-whitespace-mode</code> 次要模式，开启后可在当前模式下启用自定义规则的自动换行，并通过用户选项 <code>word-wrap-whitespace-characters</code> 设置允许触发换行的字符；该模式也提供全局版本 <code>global-word-wrap-whitespace-mode</code> ，可对所有缓冲区生效。
</p>

<p>
当文本中混合了中日韩（CJK）字符与拉丁字符时，仅在空白字符后换行会导致排版效果异常（原因是中日韩字符无需通过空白字符分隔单词）。此时可自定义选项 <code>word-wrap-by-category</code> ，让 Emacs 允许在所有属于 '<code>|</code>' 字符类的字符后换行（参见《Emacs Lisp 参考手册》中的「<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Categories.html#Categories">字符类</a>」章节），该设置能更好地支持中日韩字符的排版。此外，若通过 Emacs 的自定义界面设置该变量，程序会自动加载 <code>kinsoku.el</code> 文件；该文件加载后，Emacs 会 <b>遵循禁则排版规则</b> 进行换行，即属于 '<code>&gt;</code>' 字符类的字符（如 U+FF0C 全角逗号）不会出现在行首，属于 '<code>&lt;</code>' 字符类的字符（如 U+300A 左双角括号）不会出现在行尾。
</p>

<p>
你可通过命令 <code>char-category-set</code> 和 <code>category-set-mnemonics</code> 查看某个字符所属的字符类；也可将光标移至目标字符处，执行 <code>C-u C-x =</code> ，在弹出的信息报告中查看「category（字符类）」部分的内容。若要为字符添加字符类属性，可使用命令 <code>modify-category-entry</code> 。
</p>
</div>
</div>
<div id="outline-container-Display-Custom" class="outline-3">
<h3 id="Display-Custom"><span class="section-number-3">16.24.</span> 显示定制（Customization of Display）</h3>
<div class="outline-text-3" id="text-Display-Custom">
<p>
本节介绍用于控制 Emacs 界面各类外观细节的变量，初级用户可跳过本节内容。
</p>

<p>
若希望 Emacs 为缓冲区中的每一行显示行号，可自定义缓冲区局部变量 <code>display-line-numbers</code> （该变量默认值为 <code>nil</code> ）。其支持多种取值，对应不同的行号显示模式：
</p>

<dl class="org-dl">
<dt><code>t</code></dt><dd>在每一行显示缓冲区文本的 <b>non-continuation screen line非折行屏幕行</b> 前，显示 <b>绝对行号</b> 。若为折行屏幕行，或整行屏幕行仅显示展示字符串 / 覆盖字符串，则不会为该行编号。</dd>
<dt><code>relative</code></dt><dd>在显示缓冲区文本的非折行屏幕行前，显示 <b>相对行号</b> 。行号以光标所在行为基准，距离当前行越远，行号数值向上下两侧依次递增。</dd>
<dt><code>visual</code></dt><dd>让 Emacs 按 <b>视觉效果统计行号</b> —— 仅对实际显示在界面上的行计数（忽略文本隐藏部分的所有行），折行后占用多个屏幕行的逻辑行，会为每个屏幕行依次编号。显示的行号为相对行号，规则与上述 <code>relative</code> 取值一致。该模式适用于大纲模式等支持文本折叠的模式（参见大纲模式），也适合需要按屏幕行精确移动光标的场景。</dd>
<dt><code>其他值</code></dt><dd>任何非 nil 的其他取值，均按 <code>t</code> 模式处理。</dd>
</dl>

<p>
执行命令 <code>M-x display-line-numbers-mode</code> ，可便捷开启行号显示功能，该模式也提供全局版本 <code>global-display-line-numbers-mode</code> 。用户选项 <code>display-line-numbers-type</code> 用于指定上述两个模式启用时，采用的具体行号显示子模式。
</p>

<p>
注意，即便全局开启 <code>display-line-numbers-mode</code> ， <b>迷你缓冲区和工具提示</b> 区域也不会显示行号。
</p>

<p>
当 Emacs 显示相对行号时，可自定义光标所在行的行号显示规则。默认情况下，即便其他行均为相对行号，光标所在行仍会显示 <b>绝对行号</b> 。若将变量 <code>display-line-numbers-current-absolute</code> 设为 <code>nil</code> ，光标所在行的显示行号会变为0。若你无需关注当前行的绝对行号，且希望为大缓冲区的文本预留更多水平显示空间，该设置会非常实用。
</p>

<p>
在经过窄化的缓冲区中（参见<a href="#Narrowing">窄化</a>），行号默认从窄化区域的起始位置开始计数。若将变量 <code>display-line-numbers-widen</code> 设为非 nil 值，行号会忽略所有窄化操作，从缓冲区的第一个字符开始计数。
</p>

<p>
若变量 <code>display-line-numbers-offset</code> 的取值非 0，该数值会被叠加到每个绝对行号上，且行号始终从缓冲区起始位置开始计数（效果等同于 <code>display-line-numbers-widen</code> 设为非 nil）。若该变量设为 0，或行号非绝对行号模式，则此变量不产生任何效果。
</p>

<p>
在选择性显示模式（参见<a href="#Selective-Display">选择性显示</a>）及其他会隐藏大量行的模式中（如大纲模式、Org 模式），你可自定义变量 <code>display-line-numbers-width-start</code> 和 <code>display-line-numbers-grow-only</code> ，或将 <code>display-line-numbers-width</code> 设为足够大的数值，避免行号预留显示区域出现偶尔的计算错误。
</p>

<p>
行号会通过专用的 <code>line-number</code> 文本外观显示，光标所在行的行号则使用 <code>line-number-current-line</code> 外观显示，你可通过该设置让当前行号呈现独特样式，便于快速定位光标所在行。此外，还可使用 <code>line-number-major-tick</code> 和 <code>line-number-minor-tick</code> 外观，高亮显示行号为特定数字倍数的行，分别自定义变量 <code>display-line-numbers-major-tick</code> 和 <code>display-line-numbers-minor-tick</code> 即可设置对应的倍数。
</p>

<p>
若将变量 <code>visible-bell</code> 设为非 nil 值，当 Emacs 原本需要发出提示音时，会改为让整个屏幕闪烁。若你的终端不支持屏幕闪烁功能，该变量将无效。
</p>

<p>
变量 <code>echo-keystrokes</code> 用于控制多字符按键的回显功能，其取值为触发回显所需的暂停秒数；若设为 0，则表示完全禁用回显。该取值仅在存在可回显内容时生效（参见<a href="#Echo-Area">回显区</a>）。
</p>

<p>
若变量 <code>echo-keystrokes-help</code> 设为非 nil 值（默认值），根据  <code>echo-keystrokes</code> 规则回显的多字符按键序列，会附带一段简短的帮助文本 —— 按下对应按键可调用 <code>describe-prefix-bindings</code> 命令（参见<a href="#Misc-Help">其他帮助命令</a>），查看已输入前缀对应的所有命令列表。相关的帮助功能可参见  <a href="#Key-Help">which-key</a>。
</p>

<p>
在图形化显示界面中，当 Emacs 处于忙碌状态时，鼠标指针会变为沙漏样式。若要禁用该功能，将变量 <code>display-hourglass</code> 设为 <code>nil</code> 即可。变量 <code>hourglass-delay</code> 用于设置 Emacs 忙碌多久后显示沙漏指针，单位为秒，默认值为 1。
</p>

<p>
当鼠标指针位于 Emacs 框架内时，每次输入字符插入文本时，Emacs 会将鼠标指针隐藏，避免其遮挡文本（准确来说，仅在输入自插入字符时会隐藏指针，参见<a href="#Inserting-Text">插入文本</a>）。移动鼠标指针后，其会重新显示。若要禁用该功能，将变量 <code>make-pointer-invisible</code> 设为 <code>nil</code> 即可。
</p>

<p>
在图形化显示界面中，变量 <code>underline-minimum-offset</code> 用于设置带下划线文本的基线与下划线之间的最小距离，单位为像素，默认值为 1。增大该数值，可提升部分字体下带下划线文本的可读性（但 Emacs 绝不会将下划线绘制到当前行区域之外）。变量 <code>x-underline-at-descent-line</code> 用于控制下划线的绘制位置，默认值为 <code>nil</code> ，表示在字体的基线位置绘制；若设为 <code>t</code> ，则在字体的下沿线位置绘制。（若为带下划线的文本设置了非默认的行间距，参见《Emacs Lisp 参考手册》中的<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Line-Height.html#Line-Height">行高</a>章节，Emacs 会将下划线绘制到额外行间距的下方。）
</p>

<p>
变量 <code>overline-margin</code> 用于设置文本上方上划线的垂直位置（包含上划线自身的高度），单位为像素，默认值为 2。
</p>

<p>
在部分文本终端中，粗体与反显模式同时使用时，会导致文本难以辨认。调用函数 <code>tty-suppress-bold-inverse-default-colors</code> 并传入非 nil 参数，可在该场景下屏蔽粗体的显示效果。
</p>

<p>
原始字节默认以八进制格式显示，例如十进制值为 128 的字节会显示为 <code>\200</code> 。若要改为十六进制格式显示（如 <code>\x80</code> ），将变量 <code>display-raw-bytes-as-hex</code> 设为 <code>t</code> 即可。从包含 Emacs 会话的终端复制文本，或终端的 <code>escape-glyph</code> 外观与默认外观一致时，解析原始字节需格外注意。例如，Emacs 默认会将十进制值 128 的字节，显示为与字符 <code>\</code> 、 <code>2</code> 、 <code>0</code>  、 <code>0</code> 完全相同的样式；十六进制显示的问题会更严重 —— 原始字节 128 后跟字符 <code>7</code> 会显示为 <code>\x807</code> ，而 Emacs Lisp 会将其解析为单个字符 U+0807 撒玛利亚字母 IT；对应的八进制显示 <code>\2007</code> 则不会出现该混淆问题，因为八进制转义序列最多包含三位数字。
</p>
</div>
</div>
</section>
<section id="outline-container-Search" class="outline-2">
<h2 id="Search"><span class="section-number-2">17.</span> 搜索与替换</h2>
<div class="outline-text-2" id="text-Search">
<p>
与其他编辑器相同，Emacs 提供了字符串查找命令，也支持将指定字符串替换为其他字符串；同时还提供了同类功能的命令，可基于匹配模式而非固定字符串进行查找和替换。
你也可通过 <code>xref</code> 工具在多个文件中执行搜索替换操作（参见《<a href="#Identifier-Search">通过标识符进行搜索与替换</a>》），或使用 Dired 中的 <code>A</code> 命令（参见《<a href="#Operating-on-Files">文件操作</a>》），亦可调用 <code>grep</code> 程序完成该操作（参见《<a href="#Grep-Searching">在 Emacs 中使用 Grep 搜索</a>》）。
</p>

<ul class="org-ul">
<li><a href="#Incremental-Search">增量搜索（Incremental Search）</a></li>
<li><a href="#Nonincremental-Search">非增量搜索（Nonincremental Search）</a></li>
<li><a href="#Word-Search">单词搜索（Word Search）</a></li>
<li><a href="#Symbol-Search">符号搜索（Symbol Search）</a></li>
<li><a href="#Regexp-Search">正则表达式搜索（Regular Expression Search）</a></li>
<li><a href="#Regexps">正则表达式语法</a></li>
<li><a href="#Regexp-Backslash">正则表达式中的反斜杠</a></li>
<li><a href="#Regexp-Example">正则表达式示例</a></li>
<li><a href="#Lax-Search">搜索中的宽松匹配（Lax Matching During Searching）</a></li>
<li><a href="#Query-Replace">查询替换（Query Replace）</a></li>
<li><a href="#Other-Repeating-Search">其他搜索与循环命令</a></li>
<li><a href="#Search-Customizations">根据需求定制搜索</a></li>
</ul>
</div>
<div id="outline-container-Incremental-Search" class="outline-3">
<h3 id="Incremental-Search"><span class="section-number-3">17.1.</span> 增量搜索（Incremental Search）</h3>
<div class="outline-text-3" id="text-Incremental-Search">
<p>
Emacs 中的核心搜索命令为 <code>incremental增量搜索</code> ：键入搜索字符串的第一个字符后，搜索即刻开始。在输入搜索字符串的过程中，Emacs 会实时展示当前已键入内容的匹配位置。当键入的字符足以定位到目标位置时，即可停止输入。根据后续的操作需求，你可选择是否通过回车键显式终止本次搜索。
</p>
<dl class="org-dl">
<dt><code>C-s</code></dt><dd>正向增量搜索 (<code>isearch-forward</code>) 。</dd>
<dt><code>C-r</code></dt><dd>反向增量搜索 (<code>isearch-backward</code>) 。</dd>
</dl>

<p>
你也可通过菜单栏的 '<code>Edit-&gt;Search</code>' 菜单调用增量搜索功能。
</p>

<ul class="org-ul">
<li><a href="#Basic-Isearch">增量搜索基础</a></li>
<li><a href="#Repeat-Isearch">重复增量搜索</a></li>
<li><a href="#Isearch-Yank">增量搜索中的粘贴（Isearch Yanking）</a></li>
<li><a href="#Error-in-Isearch">增量搜索错误处理</a></li>
<li><a href="#Special-Isearch">增量搜索的特殊输入</a></li>
<li><a href="#Not-Exiting-Isearch">不退出增量搜索</a></li>
<li><a href="#Isearch-Minibuffer">迷你缓冲区搜索</a></li>
</ul>
</div>
<div id="outline-container-Basic-Isearch" class="outline-4">
<h4 id="Basic-Isearch"><span class="section-number-4">17.1.1.</span> 增量搜索基础</h4>
<div class="outline-text-4" id="text-Basic-Isearch">
<dl class="org-dl">
<dt><code>C-s</code></dt><dd>启动正向增量搜索 (<code>isearch-forward</code>) 。</dd>
<dt><code>C-r</code></dt><dd>启动反向增量搜索 (<code>isearch-backward</code>) 。</dd>
</dl>

<p>
按下 <code>C-s</code> (<code>isearch-forward</code>) 会开启正向增量搜索，该命令会读取键盘输入的字符，并将光标移至缓冲区中 <b>下一个</b> 匹配字符组合的末尾位置。
</p>

<p>
例如，按下 <code>C-s</code> 后再键入字母 <code>F</code> ，光标会跳至起始位置之后缓冲区中第一个 F 的后方；若接着键入字母 O，光标会移至第一个 FO 的后方，该 FO 中的 F 未必是此前找到的第一个 F；再键入一个 O，光标则会移至第一个 FOO 的后方。
</p>

<p>
搜索过程的每一步，Emacs 都会使用 <code>isearch</code> 文本外观，高亮显示当前匹配内容 —— 即缓冲区中与搜索字符串相匹配的文本（参见<a href="#Faces">文本外观</a>）。有关自定义该高亮效果的各类选项，可参见<a href="#Search-Customizations">根据需求自定义搜索行为</a>章节。当前的搜索字符串也会同时显示在回显区中。
</p>

<p>
若输入搜索字符串时出现错误，按下 <code>DEL</code> (<code>isearch-delete-char</code>) 即可撤销，每按一次  <code>DEL</code> 键，都会取消搜索过程中最后输入的一个内容项。当你键入的命令导致 <b>搜索字符串、光标位置、搜索结果的成败状态、搜索方向、当前搜索结果的另一端位置或搜索的循环匹配状态</b> 发生变化时，Emacs 都会记录一个新的 <code>input item</code> 输入内容项。有关处理搜索失败的更多方法，可参见<a href="#Error-in-Isearch">增量搜索中的错误处理</a>章节。
</p>

<p>
当光标定位到目标位置后，按下回车键 <code>RET</code> (<code>isearch-exit</code>) 即可结束搜索，光标将停留在搜索定位的位置。此外， <b>所有在搜索中无特殊含义的命令</b> ，都会先终止搜索，再执行该命令本身。例如，按下 <code>C-a</code> 会先退出搜索，再将光标移至行首；按下方向键会先退出搜索，再执行对应的光标移动操作，依此类推。仅当你接下来要输入的是可打印字符、 <code>DEL</code> 键、 <code>RET</code> 回车键，或搜索中的其他特殊字符（ <code>C-q</code> 、 <code>C-w</code> 、 <code>C-r</code> 、 <code>C-s</code> 、 <code>C-y</code> 、 <code>M-y</code> 、 <code>M-r</code> 、 <code>M-c</code> 、 <code>M-e</code> ，以及下文将介绍的部分字符）时，才需要先按 <code>RET</code> 回车键退出搜索。你也可自定义退出搜索的相关命令，具体参见<a href="#Not-Exiting-Isearch">不退出增量搜索的操作</a>章节。
</p>

<p>
有一个特殊情况：若 <b>搜索字符串为空</b> 时按下 <code>RET</code> 回车键，会直接启动 <b>非增量搜索</b> （参见<a href="#Nonincremental-Search">非增量搜索</a>章节）。（该行为可自定义，参见<a href="#Search-Customizations">根据需求自定义搜索行为</a>章节。）
</p>

<p>
若要放弃搜索并返回搜索起始位置，按下 <code>ESC ESC ESC</code> (<code>isearch-cancel</code>) 或 <code>C-g C-g</code> (<code>isearch-abort</code>) 即可。
</p>

<p>
退出增量搜索时，Emacs 会将光标的原始位置添加到 <b>标记环</b> 中，且不会激活标记；你可通过按下 <code>C-u C-SPC</code> 或 <code>C-x C-x</code> ，回到启动搜索前的光标位置（参见<a href="#Mark-Ring">标记环</a>章节）。注意，该功能仅在 <b>标记未被激活</b> 时生效；若启动搜索时标记已处于激活状态，按下 <code>C-u C-SPC</code> 或 <code>C-x C-x</code> 都会直接跳至标记位置。
</p>

<p>
若要进行反向搜索，可按下 <code>C-r</code> (<code>isearch-backward</code>) 而非 <code>C-s</code> 来启动搜索。反向搜索会查找 <b>起始位置之前</b> 结束的匹配内容，这与正向搜索查找起始位置之后开始的匹配内容的规则相对应。
</p>
</div>
</div>
<div id="outline-container-Repeat-Isearch" class="outline-4">
<h4 id="Repeat-Isearch"><span class="section-number-4">17.1.2.</span> 重复增量搜索</h4>
<div class="outline-text-4" id="text-Repeat-Isearch">
<p>
若你正向搜索 “FOO” 并找到匹配项，却并非目标结果 —— 你要找的 “FOO” 出现在缓冲区更靠后的位置，此时可再次按下 <code>C-s</code> (isearch-repeat-forward)跳至该搜索字符串的下一个匹配项，或按下 <code>C-r</code> (<code>isearch-repeat-backward</code>) 跳至上一个匹配项，这些命令可重复执行任意次数。你也可为 <code>C-s</code> 和 <code>C-r</code> 添加数字前缀参数 <code>n</code> ，直接定位到第 <code>n</code> 个下一个或上一个匹配项。若跳转过度，可按下 <code>DEL</code> 键撤销部分 <code>C-s</code> 的执行结果。同理，在反向增量搜索中，每次按下 <code>C-r</code> (<code>isearch-repeat-backward</code>) 都会重复执行反向搜索。
</p>

<p>
在增量搜索过程中稍作停顿，Emacs 会高亮显示屏幕上该搜索字符串的 <b>所有其他潜在匹配项</b> ，帮你预判按下 <code>C-s</code> 或 <code>C-r</code> 重复搜索时可跳转的位置。这些其他匹配项会采用与当前匹配项不同的样式高亮，使用可自定义的 <code>lazy-highlight</code> 文本外观（参见<a href="#Faces">文本外观</a>）。若你不需要该功能，可将变量 <code>isearch-lazy-highlight</code> 设为 <code>nil</code> 来禁用。有关匹配项高亮的其他自定义设置，参见<a href="#Search-Customizations">根据需求自定义搜索行为</a>章节。
</p>

<p>
退出某次搜索后，只需连续按下 <code>C-s C-s</code> ，即可再次搜索相同的字符串。第一个 <code>C-s</code> 用于调用增量搜索功能，第二个 <code>C-s</code> 表示再次搜索上一次的搜索字符串。同理，连续按下 <code>C-r C-r</code> 会反向搜索上一次的搜索字符串。判定上一次的搜索字符串时，无论该字符串此前是通过 <code>C-s</code> 还是 <code>C-r</code> 搜索的，均无影响。
</p>

<p>
若你正在执行正向搜索，却发现目标内容出现在搜索起始位置之前，可按下 <code>C-r</code> 切换为反向搜索，且搜索字符串保持不变。同理，在反向搜索中按下 <code>C-s</code> ，即可切换为正向搜索。
</p>

<p>
默认情况下，当你切换搜索方向时，首次键入的方向切换命令会让光标停留在原匹配项上，仅移动至该匹配项的另一端。若希望切换方向后直接跳至其他匹配项，可将变量 <code>isearch-repeat-on-direction-change</code> 设为 <code>t</code> 。
</p>

<p>
若搜索已无匹配结果，你仍按下 <code>C-s</code> 尝试重复搜索，搜索会从 <b>缓冲区起始位置</b> 重新开始；若反向搜索已无匹配结果，按下 <code>C-r</code> 重复搜索，会从 <b>缓冲区末尾位置</b> 重新开始。这种行为被称为 <b>wrapping around循环匹配</b> ，发生后搜索提示中会显示 “Wrapped”（已循环）。若你继续搜索并越过最初的搜索起始位置，提示会变为 “Overwrapped”（过度循环），表示你正在重新访问已经查看过的匹配项。
</p>

<p>
你可通过自定义用户选项 <code>isearch-wrap-pause</code> ，控制搜索无更多匹配项时的行为：
</p>

<ul class="org-ul">
<li>设为 t（默认值）：触发错误提示（再次重复搜索会执行循环匹配）；</li>
<li>设为 no：发出提示音，且在定位到最后一个匹配项后立即执行循环匹配；</li>
<li>设为 no-ding：不发出提示音，直接执行循环匹配；
当取值为 no 或 no-ding 时，键入字符时搜索也会尝试执行循环匹配；</li>
<li>设为 nil：永不执行循环匹配，仅在最后一个匹配项处停止搜索。</li>
</ul>

<p>
若要复用此前的搜索字符串，可使用 <b>search ring搜索环</b> 功能。按下 <code>M-p</code> (<code>isearch-ring-retreat</code>)和 <code>M-n</code> (<code>isearch-ring-advance</code>)（下翻搜索环）可遍历搜索环，选择要复用的搜索字符串。这两个命令会将选中的搜索环项显示在迷你缓冲区中，你可对其进行编辑，按下 <code>C-s</code> / <code>C-r</code> 或 <code>RET</code> 回车键即可确认该字符串并开始搜索。搜索环中可保存的最近使用的搜索字符串数量，由变量 <code>search-ring-max</code> 指定，默认值为 16。
</p>

<p>
若你希望在迷你缓冲区中编辑当前搜索字符串，且 <b>不使用搜索环中的项替换</b> 它，可按下 <code>M-e</code> (<code>isearch-edit-string</code>) ，或在迷你缓冲区中单击鼠标左键。编辑完成后，按下 <code>RET</code> 回车键、 <code>C-s</code> 或 <code>C-r</code> ，即可结束编辑并开始搜索该字符串；按下 <code>C-f</code> 或右方向键，可将搜索起始缓冲区中光标后方的字符添加至当前搜索字符串中。
</p>
</div>
</div>
<div id="outline-container-Isearch-Yank" class="outline-4">
<h4 id="Isearch-Yank"><span class="section-number-4">17.1.3.</span> 增量搜索中的粘贴（Isearch Yanking）</h4>
<div class="outline-text-4" id="text-Isearch-Yank">
<p>
多数情况下，你会希望将光标所在位置或其附近的文本作为搜索字符串，本节介绍的命令可让你便捷地实现这一操作。
</p>

<p>
<code>C-w</code> (<code>isearch-yank-word-or-char</code>) 会将光标处的下一个字符或单词追加至搜索字符串中，这是查找光标处文本其他匹配项的简便方法（程序会通过启发式规则判断撷取单个字符还是整词）。带数字前缀参数 <code>n</code> 执行该命令，会追加后续 <code>n</code> 个字符或 <code>n</code> 个单词。
</p>

<p>
<code>C-M-w</code> (<code>isearch-yank-symbol-or-char</code>) 会将光标处的下一个字符或符号追加至搜索字符串中，适用于快速查找光标处符号的其他匹配项（程序会通过启发式规则判断撷取单个字符还是整符号）。带数字前缀参数 n 执行该命令，会追加后续 n 个字符或 n 个符号。
</p>

<p>
<code>M-s C-e</code> (<code>isearch-yank-line</code>) 会将当前行光标后的剩余内容追加至搜索字符串中；若光标已位于行尾，则追加下一行内容。带数字前缀参数 <code>n</code> 执行该命令，会追加后续 <code>n</code> 行内容。
</p>

<p>
类似地， <code>C-M-z</code> (<code>isearch-yank-until-char</code>) 会将从光标位置开始，到指定字符下一次出现位置前的所有内容追加至搜索字符串（不包含该指定字符）。该命令在键盘宏中尤为实用，例如在编程语言或标记语言中，可通过指定字符定位语法单元的边界。带数字前缀参数 <code>n</code> 执行该命令，会追加从光标位置到指定字符第 <code>n</code> 次出现位置前的所有内容。
</p>

<p>
在增量搜索过程中， <code>C-y</code> (<code>isearch-yank-kill</code>) 会将当前剪切板中的内容追加至搜索字符串。若在增量搜索中按下 <code>C-y</code> 后再执行 <code>M-y</code> (<code>isearch-yank-pop</code>) ，会用更早的剪切内容替换此前追加的文本，其作用与常规的 <code>M-y</code> (<code>yank-pop</code>) 命令一致。在回显区 <code>mouse-2</code> 单击鼠标右键，会将当前的 X 窗口选择文本追加至搜索字符串 (<code>isearch-yank-x-selection</code>) ，参见<a href="#Primary-Selection">与其他窗口程序的剪切粘贴</a> 。
</p>

<p>
<code>C-M-d</code> (<code>isearch-del-char</code>) 会删除搜索字符串的最后一个字符， <code>C-M-y</code> (<code>isearch-yank-char</code>) 会将光标后的单个字符追加至搜索字符串。也可通过其他方式添加光标后的字符：按下 <code>M-e</code> 进入迷你缓冲区（参见<a href="#Repeat-Isearch">重复执行增量搜索</a>），在迷你缓冲区的搜索字符串末尾按下 <code>C-f</code> 或 <code>RIGHT</code> 右方向键，每按一次都会将光标后的下一个字符追加至搜索字符串。
</p>

<p>
默认情况下，若搜索为不区分大小写模式，撷取并追加至搜索字符串的文本会被转换为小写，以保持搜索的大小写无关性（参见<a href="#Lax-Search">大小写折叠</a>）。但如果变量 <code>search-upper-case</code> （参见 <a href="#Lax-Search">search-upper-case</a>）的取值并非 <code>not-yanks</code> ，该小写转换行为会被禁用。
</p>

<p>
若要将光标附近的文本拉取为初始搜索字符串，启动新的增量搜索，可按下 <code>M-s M-.</code> ，该快捷键执行 <code>isearch-forward-thing-at-point</code> 命令。若区域处于激活状态，命令会将区域内的文本撷取为搜索字符串；若区域未激活，程序会尝试撷取光标附近的网址、符号或表达式。具体撷取的内容类型由用户选项 <code>isearch-forward-thing-at-point</code> 定义。
</p>
</div>
</div>
<div id="outline-container-Error-in-Isearch" class="outline-4">
<h4 id="Error-in-Isearch"><span class="section-number-4">17.1.4.</span> 增量搜索错误处理</h4>
<div class="outline-text-4" id="text-Error-in-Isearch">
</div>
</div>
<div id="outline-container-Special-Isearch" class="outline-4">
<h4 id="Special-Isearch"><span class="section-number-4">17.1.5.</span> 增量搜索的特殊输入</h4>
<div class="outline-text-4" id="text-Special-Isearch">
</div>
</div>
<div id="outline-container-Not-Exiting-Isearch" class="outline-4">
<h4 id="Not-Exiting-Isearch"><span class="section-number-4">17.1.6.</span> 不退出增量搜索</h4>
<div class="outline-text-4" id="text-Not-Exiting-Isearch">
</div>
</div>
<div id="outline-container-Isearch-Minibuffer" class="outline-4">
<h4 id="Isearch-Minibuffer"><span class="section-number-4">17.1.7.</span> 迷你缓冲区搜索</h4>
<div class="outline-text-4" id="text-Isearch-Minibuffer">
</div>
</div>
</div>
<div id="outline-container-Nonincremental-Search" class="outline-3">
<h3 id="Nonincremental-Search"><span class="section-number-3">17.2.</span> 非增量搜索（Nonincremental Search）</h3>
<div class="outline-text-3" id="text-Nonincremental-Search">
</div>
</div>
<div id="outline-container-Word-Search" class="outline-3">
<h3 id="Word-Search"><span class="section-number-3">17.3.</span> 单词搜索（Word Search）</h3>
<div class="outline-text-3" id="text-Word-Search">
</div>
</div>
<div id="outline-container-Symbol-Search" class="outline-3">
<h3 id="Symbol-Search"><span class="section-number-3">17.4.</span> 符号搜索（Symbol Search）</h3>
<div class="outline-text-3" id="text-Symbol-Search">
</div>
</div>
<div id="outline-container-Regexp-Search" class="outline-3">
<h3 id="Regexp-Search"><span class="section-number-3">17.5.</span> 正则表达式搜索（Regular Expression Search）</h3>
<div class="outline-text-3" id="text-Regexp-Search">
</div>
</div>
<div id="outline-container-Regexps" class="outline-3">
<h3 id="Regexps"><span class="section-number-3">17.6.</span> 正则表达式语法</h3>
<div class="outline-text-3" id="text-Regexps">
</div>
</div>
<div id="outline-container-Regexp-Backslash" class="outline-3">
<h3 id="Regexp-Backslash"><span class="section-number-3">17.7.</span> 正则表达式中的反斜杠</h3>
<div class="outline-text-3" id="text-Regexp-Backslash">
</div>
</div>
<div id="outline-container-Regexp-Example" class="outline-3">
<h3 id="Regexp-Example"><span class="section-number-3">17.8.</span> 正则表达式示例</h3>
<div class="outline-text-3" id="text-Regexp-Example">
</div>
</div>
<div id="outline-container-Lax-Search" class="outline-3">
<h3 id="Lax-Search"><span class="section-number-3">17.9.</span> 搜索中的宽松匹配（Lax Matching During Searching）</h3>
<div class="outline-text-3" id="text-Lax-Search">
</div>
</div>
<div id="outline-container-Replace" class="outline-3">
<h3 id="Replace"><span class="section-number-3">17.10.</span> 替换命令</h3>
<div class="outline-text-3" id="text-Replace">
</div>
<div id="outline-container-Unconditional-Replace" class="outline-4">
<h4 id="Unconditional-Replace"><span class="section-number-4">17.10.1.</span> 无条件替换</h4>
<div class="outline-text-4" id="text-Unconditional-Replace">
<p>
M-x replace-string 回车 字符串 回车 新字符串 回车
</p>

<p>
将字符串的每一处匹配项替换为新字符串。
</p>

<p>
若要将光标位置之后的所有foo替换为bar，可执行命令 M-x replace-string，并传入两个参数foo和bar。替换操作仅作用于光标位置之后的文本，因此如果需要覆盖整个缓冲区，必须先将光标移至缓冲区起始位置。从光标处到缓冲区末尾的所有匹配项都会被替换；若要将替换范围限定在缓冲区的某一部分，需先选中该区域。当区域处于激活状态时，替换操作将仅在该区域内进行（详见《标记与区域》章节）。
</p>

<p>
replace-string 命令执行完毕后，光标会停留在最后一个被替换的匹配项位置。该命令执行前的光标位置会被添加到标记环中，但不会激活标记；可使用 C-u C-SPC 快捷键返回该位置（详见《标记环》章节）。
</p>

<p>
若为该命令添加前缀参数，则仅会替换那些被单词边界包围的匹配项。
</p>

<p>
关于替换命令中大小写敏感性与字符折叠的详细说明，详见《替换命令与宽松匹配》章节。
</p>
</div>
</div>
<div id="outline-container-Regexp-Replace" class="outline-4">
<h4 id="Regexp-Replace"><span class="section-number-4">17.10.2.</span> 正则表达式替换</h4>
<div class="outline-text-4" id="text-Regexp-Replace">
<p>
M-x replace-string 命令用于替换指定字符串的精确匹配项。与之类似的命令 M-x replace-regexp，则可替换符合指定正则表达式模式的任意匹配内容（详见《正则表达式语法》章节）。
</p>

<p>
M-x replace-regexp 回车 正则表达式 回车 新字符串 回车
</p>

<p>
将所有匹配该正则表达式的内容替换为新字符串。
</p>

<p>
在 replace-regexp 命令中，新字符串并非必须是固定文本：它可以引用正则表达式匹配结果的全部或部分内容。新字符串中的 \&amp; 代表被替换的整个匹配内容；新字符串中的 \d（其中 d 是从 1 开始的数字），代表正则表达式中第 d 个带括号的分组所匹配的内容（这一用法被称为 “反向引用”）。\# 代表当前命令已完成的替换次数，以十进制数字表示 —— 第一次替换时，\# 代表 0；第二次替换时，代表 1，依此类推。例如：
</p>


<div class="org-src-container">
<pre class="src src-shell">M-x replace-regexp RET c[ad]+r RET <span style="color: #8b2252;">\&amp;</span>-safe RET
</pre>
</div>

<p>
可将（例如）cadr 替换为 cadr-safe，将 cddr 替换为 cddr-safe。
</p>

<div class="org-src-container">
<pre class="src src-shell">M-x replace-regexp RET <span style="color: #8b2252;">\(</span>c[ad]+r<span style="color: #8b2252;">\)</span>-safe RET \1 RET
</pre>
</div>

<p>
则可实现上述操作的逆向转换。若需在替换文本中包含反斜杠 \，必须输入 \\。
</p>

<p>
如果希望在每次替换时手动输入部分替换字符串，可在替换字符串中使用 \?。执行替换时，Emacs 会在迷你缓冲区中打开替换字符串供你编辑，光标会自动定位在 \? 所在的位置。
</p>

<p>
本小节的剩余内容适用于特定专业任务，且需要掌握 Lisp 语言相关知识，多数读者可跳过此部分。
</p>

<p>
你可以使用 Lisp 表达式来计算替换字符串的部分内容。具体方法是，在替换字符串中写入 \,，并在其后跟上对应的表达式。每次替换时，Emacs 会计算该表达式的值，将其直接转换为文本（若表达式的值为字符串，则直接使用字符串内容），并将该文本代入替换字符串，替代原表达式的位置。若表达式为一个符号，那么符号名称后的一个空格会被视为符号名称的一部分，表达式的值会同时替换符号名称与该空格。
</p>

<p>
在这类表达式内部，你可以使用一些特殊序列。与常规用法一致，\&amp; 和 \d 分别代表整个匹配内容的字符串形式，以及对应子匹配内容的字符串形式。其中 d 可以是多位数字；若第 d 个带括号的分组未匹配到任何内容，\d 的值则为 nil。你也可以使用 \#&amp; 和 \#d，将对应匹配内容以数字形式引用（此用法仅在匹配内容或子匹配内容为数字格式时有效）。此处的 \# 同样代表已完成的替换次数。
</p>

<p>
例如，我们可以通过以下方式交换文本中的 x 和 y：
</p>

<div class="org-src-container">
<pre class="src src-shell">M-x replace-regexp RET <span style="color: #8b2252;">\(</span>x<span style="color: #8b2252;">\)\|</span>y RET
<span style="color: #8b2252;">\,</span>(<span style="color: #a020f0;">if</span> \1 <span style="color: #8b2252;">"y"</span> <span style="color: #8b2252;">"x"</span>) RET
</pre>
</div>

<p>
在通过 \, 构造替换字符串时，format 函数往往能发挥重要作用（详见《Emacs Lisp 参考手册》中的《格式化字符串》章节）。例如，要在第 73 至 80 列的位置添加连续编号的字符串（如 ABC00042），且仅在这些列原本无内容时执行添加操作，可执行以下命令：
</p>

<div class="org-src-container">
<pre class="src src-shell">M-x replace-regexp RET ^.<span style="color: #8b2252;">\{</span>0,72<span style="color: #8b2252;">\}</span>$ RET
<span style="color: #8b2252;">\,</span>(format <span style="color: #8b2252;">"%-72sABC%05d"</span> <span style="color: #8b2252;">\&amp;</span> <span style="color: #8b2252;">\#</span>) RET
</pre>
</div>
</div>
</div>
<div id="outline-container-Replacement-and-Lax-Matches" class="outline-4">
<h4 id="Replacement-and-Lax-Matches"><span class="section-number-4">17.10.3.</span> 替换命令与宽松匹配</h4>
<div class="outline-text-4" id="text-Replacement-and-Lax-Matches">
</div>
</div>
<div id="outline-container-Query-Replace" class="outline-4">
<h4 id="Query-Replace"><span class="section-number-4">17.10.4.</span> 查询替换（Query Replace）</h4>
<div class="outline-text-4" id="text-Query-Replace">
</div>
</div>
</div>
<div id="outline-container-Other-Repeating-Search" class="outline-3">
<h3 id="Other-Repeating-Search"><span class="section-number-3">17.11.</span> 其他搜索与循环命令</h3>
<div class="outline-text-3" id="text-Other-Repeating-Search">
</div>
</div>
<div id="outline-container-Search-Customizations" class="outline-3">
<h3 id="Search-Customizations"><span class="section-number-3">17.12.</span> 根据需求定制搜索</h3>
<div class="outline-text-3" id="text-Search-Customizations">
</div>
</div>
</section>
<section id="outline-container-Fixit" class="outline-2">
<h2 id="Fixit"><span class="section-number-2">18.</span> 拼写错误修正命令</h2>
<div class="outline-text-2" id="text-Fixit">
</div>
<div id="outline-container-Undo" class="outline-3">
<h3 id="Undo"><span class="section-number-3">18.1.</span> 撤销（Undo）</h3>
<div class="outline-text-3" id="text-Undo">
</div>
</div>
<div id="outline-container-Transpose" class="outline-3">
<h3 id="Transpose"><span class="section-number-3">18.2.</span> 文本交换（Transposing Text）</h3>
<div class="outline-text-3" id="text-Transpose">
</div>
</div>
<div id="outline-container-Fixing-Case" class="outline-3">
<h3 id="Fixing-Case"><span class="section-number-3">18.3.</span> 大小写转换（Case Conversion）</h3>
<div class="outline-text-3" id="text-Fixing-Case">
</div>
</div>
<div id="outline-container-Spelling" class="outline-3">
<h3 id="Spelling"><span class="section-number-3">18.4.</span> 拼写检查与修正</h3>
<div class="outline-text-3" id="text-Spelling">
<p>
本节介绍用于检查单个单词或部分缓冲区文本拼写的命令。这些命令仅在安装了拼写检查程序（Hunspell、Aspell、Ispell 或 Enchant 中的任意一款）时才能运行。上述程序并非 Emacs 的组成部分，但通常会预装在 GNU/Linux 及其他自由操作系统中。详见《Aspell 使用手册》中的 <a href="http://aspell.net/man-html/index.html#Top">Aspell</a> 相关章节。
</p>

<p>
若仅安装了一款拼写检查程序，首次调用本节所述命令时，Emacs 会自动检测并加载该程序。若安装了多款，则可通过自定义变量 ispell-program-name 来指定使用哪一款。
</p>

<p>
快捷键 / 命令    功能说明
</p>
<dl class="org-dl">
<dt>M-$</dt><dd>检查并纠正光标所在位置单词的拼写（对应命令 ispell-word）。若选区处于激活状态，则检查选区范围内所有单词</dd>
<dt>C-u M-$</dt><dd>若上一次拼写检查操作被中断，执行此命令可恢复该操作（对应命令 ispell-continue）</dd>
<dt>M-x ispell</dt><dd>检查并纠正整个缓冲区的拼写。若选区处于激活状态，则仅检查选区内容</dd>
<dt>M-x ispell-buffer</dt><dd>检查并纠正整个缓冲区的拼写</dd>
<dt>M-x ispell-region</dt><dd>检查并纠正选区范围内的拼写</dd>
<dt>M-x ispell-message</dt><dd>检查并纠正邮件草稿的拼写，自动排除引用内容</dd>
<dt>M-x ispell-comments-and-strings</dt><dd>检查并纠正缓冲区或选区中代码的注释与字符串内容的拼写</dd>
<dt>M-x ispell-comment-or-string-at-point</dt><dd>检查光标所在位置的代码注释或字符串的拼写</dd>
<dt>M-x ispell-change-dictionary RET dict RET</dt><dd>重启拼写检查进程，并指定使用 词典名 对应的词典</dd>
<dt>M-x ispell-kill-ispell</dt><dd>终止拼写检查子进程</dd>
<dt>M-TAB</dt><dd></dd>

<dt>ESC TAB</dt><dd></dd>

<dt>C-M-i</dt><dd>基于拼写词典及其他补全来源，补全光标前方的单词（对应命令 completion-at-point）</dd>
<dt>M-x flyspell-mode</dt><dd>启用飞虫拼写模式，该模式会高亮显示所有拼写错误的单词</dd>
<dt>M-x flyspell-prog-mode</dt><dd>启用适用于编程场景的飞虫拼写模式，仅检查代码注释与字符串中的拼写</dd>
</dl>

<p>
基础拼写检查操作流程
</p>

<p>
要检查并选择性纠正光标附近或前方单词的拼写，可按下 M-\(（ispell-word 命令）。若选区已激活，M-\) 会检查选区中所有单词（详见 “<a href="#Mark">标记与选区</a>” 章节）。当暂态标记模式关闭时，M-$ 会忽略选区，始终作用于光标附近的单词（详见 “<a href="#Disabled-Transient-Mark">关闭暂态标记模式</a>” 章节）。若带前缀参数执行 C-u M-$，则会调用 ispell-continue 命令，恢复此前被 X 或 C-g 中断的拼写检查操作。
</p>

<p>
同理，M-x ispell 命令会在选区激活时检查选区，否则检查整个缓冲区。ispell-buffer 和 ispell-region 命令则分别明确指定对整个缓冲区或选区进行拼写检查。编写电子邮件时，可使用 M-x ispell-message 命令，该命令会检查整个缓冲区，但自动排除缩进内容或疑似引用自其他邮件的文本（详见 “<a href="#Sending-Mail">发送邮件</a>” 章节）。处理源代码时，可使用 ispell-comments-and-strings 或 ispell-comment-or-string-at-point 命令，仅检查注释或字符串字面量的拼写。
</p>

<p>
拼写错误的处理方式
</p>

<p>
当拼写检查命令检测到疑似拼写错误的单词时，会提示用户进行处理。程序通常会显示一份带编号的近似单词列表 —— 即与错误单词拼写相近的正确词汇。此时需输入单个字符来执行相应操作，有效操作指令如下：
</p>

<ul class="org-ul">
<li>数字键：仅本次将错误单词替换为列表中对应编号的近似单词。</li>
<li>空格键：跳过当前单词 —— 标记其为拼写错误，但不做修改。</li>
<li>r 新单词 RET：仅本次将错误单词替换为输入的 “新单词”（替换后的字符串会被重新扫描，排查是否存在其他拼写错误）。</li>
<li>R 新单词 RET：将错误单词替换为输入的 “新单词”，并启动查询替换功能，可选择在缓冲区其他位置批量替换该单词（替换后的内容会被重新扫描）。</li>
<li>a：接受当前单词 —— 在本次编辑会话中，将其视为正确拼写。</li>
<li>A：接受当前单词 —— 在本次编辑会话及当前缓冲区内，将其视为正确拼写。</li>
<li>i：将当前单词添加到个人词典文件中，此后即使重启 Emacs，该单词也会被识别为正确拼写。</li>
<li>m：功能与 i 类似，同时可指定词典补全信息。</li>
<li>u：将当前单词的小写形式添加到个人词典文件中。</li>
<li>l 待查单词 RET：在词典中搜索与 “待查单词” 匹配的词汇，搜索结果将作为新的近似单词列表，可输入对应数字键选择替换。“待查单词” 中可使用 * 作为通配符。</li>
<li>C-g / X：中断交互式拼写检查，将光标停留在正在检查的单词处。后续可通过 C-u M-$ 恢复检查。</li>
<li>x：退出交互式拼写检查，并将光标返回至检查开始前的位置。</li>
<li>q：退出交互式拼写检查，并终止拼写检查子进程。</li>
<li>C-r：进入递归编辑模式（详见 “递归编辑层级” 章节）。按下 C-M-c 退出递归编辑后，拼写检查会自动恢复。该模式可在不中断检查的前提下查看缓冲区文本，但禁止在递归编辑期间修改缓冲区内容，尤其不能改动疑似拼写错误的单词 —— 退出递归编辑时，所有修改都会被撤销。若需修改错误单词，应使用 r 或 R 指令，或按下 X 中断检查、编辑文本后，再用 C-u M-$ 恢复。</li>
<li>C-z：挂起 Emacs 或最小化当前窗口。</li>
<li>?：显示所有操作指令的说明列表。</li>
</ul>

<p>
单词补全功能
</p>

<p>
使用 M-TAB（completion-at-point 命令）可补全光标所在位置的单词。输入单词前缀后按下 M-TAB，即可从补全列表中选择所需词汇。若窗口管理器拦截了 M-TAB 快捷键，可改用 ESC TAB 或 C-M-i。
</p>

<p>
拼写检查子进程管理
</p>

<p>
拼写检查子进程启动后会保持运行状态，等待后续操作，因此后续拼写检查命令的执行速度会更快。若需终止该进程，可执行 M-x ispell-kill-ispell 命令。通常无需手动终止，因为该进程仅在执行拼写纠错时占用系统资源，闲置时不会消耗处理器性能。
</p>

<p>
词典配置说明
</p>

<p>
拼写检查程序会从两类词典中查询拼写规则：标准词典与个人词典。
</p>

<ul class="org-ul">
<li>标准词典：由变量 ispell-local-dictionary 指定；若该变量值为空，则使用 ispell-dictionary 的值；若两个变量均为空，则使用拼写程序的默认词典。执行 M-x ispell-change-dictionary 命令可设置当前缓冲区的标准词典，并重启子进程以应用新词典。</li>

<li>个人词典：由变量 ispell-personal-dictionary 指定；若该变量值为空，拼写程序会在各程序的默认路径下查找个人词典。</li>
</ul>

<p>
拼写检查所用的词典通常对应特定语言，默认语言由系统环境与区域设置决定。若需检查其他语言文本的拼写，需同时修改标准词典与个人词典，可通过 ispell-change-dictionary 命令完成配置。
</p>

<p>
Hunspell 特殊功能：Hunspell 支持同时加载多本词典进行拼写检查。若需启用该功能，需在使用 Hunspell 检查混合语言文本前，执行 M-x ispell-hunspell-add-multi-dic 命令，按提示输入以逗号分隔的多语言词典名称列表（例如 en_US,de_DE,ru_RU）。配置完成后，检查混合上述语言的文本时无需频繁切换词典。
</p>

<blockquote>
<p>
注意：若多种语言使用同一套书写系统，可能出现 “某单词在一种语言中拼写错误，但在另一语言词典中被判定为正确” 的情况，此时该拼写错误可能被遗漏。
</p>
</blockquote>

<p>
单词补全词典
</p>

<p>
单词补全功能使用独立的词典，其文件名由变量 ispell-complete-word-dict 指定。补全词典需与拼写检查词典区分开，因为补全功能无法利用拼写检查所依赖的单词词根与词缀信息来识别单词变体。部分语言仅提供拼写检查词典，无对应的单词补全词典。
</p>

<p>
飞虫拼写模式（Flyspell Mode）
</p>

<p>
飞虫拼写模式是一种次要模式，可在输入文本时自动进行拼写检查。当检测到无法识别的单词时，会高亮标记该单词。执行 M-x flyspell-mode 可在当前缓冲区切换该模式的开关状态。若需在所有文本模式缓冲区中默认启用该模式，可将 flyspell-mode 添加至 text-mode-hook（详见 “<a href="#Hooks">钩子函数</a>” 章节）。
</p>

<blockquote>
<p>
注意：由于飞虫拼写模式需要检查光标经过的每个单词，可能会降低光标移动与滚动操作的速度。此外，该模式不会自动检查未输入或未经过的文本，需手动执行 flyspell-region 或 flyspell-buffer 命令进行检查。
</p>
</blockquote>

<p>
默认情况下，飞虫拼写模式会高亮标记所有输入、修改或光标经过的错误单词。若将变量 flyspell-check-changes 自定义为非空值，则仅检查输入或编辑过的单词。
</p>

<p>
当飞虫拼写模式高亮标记某个错误单词时，可通过以下方式纠错：
</p>

<ul class="org-ul">
<li>鼠标中键点击该单词（触发 flyspell-correct-word 命令），会弹出包含候选纠正词与操作选项的菜单；若需改为鼠标右键弹出菜单，启用 context-menu-mode 即可。</li>
<li>按下 C-. 或 ESC TAB（flyspell-auto-correct-word 命令），会依次推荐多个候选纠正词。</li>
<li>按下 C-c $（flyspell-correct-word-before-point 命令），会弹出候选纠正词菜单。当然，也可直接手动编辑单词进行纠错。</li>
</ul>

<p>
编程专用飞虫拼写模式（Flyspell Prog Mode）
</p>

<p>
该模式的功能与普通飞虫拼写模式类似，但仅检查代码注释与字符串常量中的拼写，非常适合编辑程序代码。执行 M-x flyspell-prog-mode 可在当前缓冲区切换该模式的开关状态。若需在所有编程模式缓冲区中默认启用该模式，可将 flyspell-prog-mode 添加至 prog-mode-hook（详见 “<a href="#Hooks">钩子函数</a>” 章节）。
</p>
</div>
</div>
</section>
<section id="outline-container-Keyboard-Macros" class="outline-2">
<h2 id="Keyboard-Macros"><span class="section-number-2">19.</span> 键盘宏（Keyboard Macros）</h2>
<div class="outline-text-2" id="text-Keyboard-Macros">
</div>
<div id="outline-container-Basic-Keyboard-Macro" class="outline-3">
<h3 id="Basic-Keyboard-Macro"><span class="section-number-3">19.1.</span> 基本使用</h3>
<div class="outline-text-3" id="text-Basic-Keyboard-Macro">
</div>
</div>
<div id="outline-container-Keyboard-Macro-Ring" class="outline-3">
<h3 id="Keyboard-Macro-Ring"><span class="section-number-3">19.2.</span> 键盘宏环（Keyboard Macro Ring）</h3>
<div class="outline-text-3" id="text-Keyboard-Macro-Ring">
</div>
</div>
<div id="outline-container-Keyboard-Macro-Counter" class="outline-3">
<h3 id="Keyboard-Macro-Counter"><span class="section-number-3">19.3.</span> 键盘宏计数器</h3>
<div class="outline-text-3" id="text-Keyboard-Macro-Counter">
</div>
</div>
<div id="outline-container-Keyboard-Macro-Query" class="outline-3">
<h3 id="Keyboard-Macro-Query"><span class="section-number-3">19.4.</span> 带变量的宏执行（Executing Macros with Variations）</h3>
<div class="outline-text-3" id="text-Keyboard-Macro-Query">
</div>
</div>
<div id="outline-container-Save-Keyboard-Macro" class="outline-3">
<h3 id="Save-Keyboard-Macro"><span class="section-number-3">19.5.</span> 键盘宏的命名与保存</h3>
<div class="outline-text-3" id="text-Save-Keyboard-Macro">
</div>
</div>
<div id="outline-container-Edit-Keyboard-Macro" class="outline-3">
<h3 id="Edit-Keyboard-Macro"><span class="section-number-3">19.6.</span> 编辑键盘宏</h3>
<div class="outline-text-3" id="text-Edit-Keyboard-Macro">
</div>
</div>
<div id="outline-container-Keyboard-Macro-Step_002dEdit" class="outline-3">
<h3 id="Keyboard-Macro-Step_002dEdit"><span class="section-number-3">19.7.</span> 逐步编辑键盘宏（Stepwise Editing a Keyboard Macro）</h3>
<div class="outline-text-3" id="text-Keyboard-Macro-Step_002dEdit">
</div>
</div>
<div id="outline-container-Kmacro-Menu" class="outline-3">
<h3 id="Kmacro-Menu"><span class="section-number-3">19.8.</span> 列出与编辑键盘宏</h3>
<div class="outline-text-3" id="text-Kmacro-Menu">
</div>
</div>
</section>
<section id="outline-container-Files" class="outline-2">
<h2 id="Files"><span class="section-number-2">20.</span> 文件处理</h2>
<div class="outline-text-2" id="text-Files">
</div>
<div id="outline-container-File-Names" class="outline-3">
<h3 id="File-Names"><span class="section-number-3">20.1.</span> 文件名</h3>
<div class="outline-text-3" id="text-File-Names">
</div>
</div>
<div id="outline-container-Visiting" class="outline-3">
<h3 id="Visiting"><span class="section-number-3">20.2.</span> 打开文件（Visiting Files）</h3>
<div class="outline-text-3" id="text-Visiting">
</div>
</div>
<div id="outline-container-Saving" class="outline-3">
<h3 id="Saving"><span class="section-number-3">20.3.</span> 保存文件</h3>
<div class="outline-text-3" id="text-Saving">
</div>
<div id="outline-container-Save-Commands" class="outline-4">
<h4 id="Save-Commands"><span class="section-number-4">20.3.1.</span> 保存文件命令</h4>
<div class="outline-text-4" id="text-Save-Commands">
</div>
</div>
<div id="outline-container-Backup" class="outline-4">
<h4 id="Backup"><span class="section-number-4">20.3.2.</span> 备份文件（Backup Files）</h4>
<div class="outline-text-4" id="text-Backup">
</div>
<div id="outline-container-Backup-Names" class="outline-5">
<h5 id="Backup-Names"><span class="section-number-5">20.3.2.1.</span> 单一备份或编号备份</h5>
<div class="outline-text-5" id="text-Backup-Names">
</div>
</div>
<div id="outline-container-Backup-Deletion" class="outline-5">
<h5 id="Backup-Deletion"><span class="section-number-5">20.3.2.2.</span> 备份文件的自动删除</h5>
<div class="outline-text-5" id="text-Backup-Deletion">
</div>
</div>
<div id="outline-container-Backup-Copying" class="outline-5">
<h5 id="Backup-Copying"><span class="section-number-5">20.3.2.3.</span> 复制备份与重命名备份</h5>
<div class="outline-text-5" id="text-Backup-Copying">
</div>
</div>
</div>
<div id="outline-container-Customize-Save" class="outline-4">
<h4 id="Customize-Save"><span class="section-number-4">20.3.3.</span> 文件保存定制</h4>
<div class="outline-text-4" id="text-Customize-Save">
</div>
</div>
<div id="outline-container-Interlocking" class="outline-4">
<h4 id="Interlocking"><span class="section-number-4">20.3.4.</span> 防止同时编辑冲突</h4>
<div class="outline-text-4" id="text-Interlocking">
</div>
</div>
<div id="outline-container-File-Shadowing" class="outline-4">
<h4 id="File-Shadowing"><span class="section-number-4">20.3.5.</span> 文件影子（Shadowing Files）</h4>
<div class="outline-text-4" id="text-File-Shadowing">
</div>
</div>
<div id="outline-container-Time-Stamps" class="outline-4">
<h4 id="Time-Stamps"><span class="section-number-4">20.3.6.</span> 自动更新时间戳</h4>
<div class="outline-text-4" id="text-Time-Stamps">
</div>
<div id="outline-container-Time-Stamp-Customization" class="outline-5">
<h5 id="Time-Stamp-Customization"><span class="section-number-5">20.3.6.1.</span> 时间戳定制</h5>
<div class="outline-text-5" id="text-Time-Stamp-Customization">
</div>
</div>
<div id="outline-container-Time-Stamps-for-One-File" class="outline-5">
<h5 id="Time-Stamps-for-One-File"><span class="section-number-5">20.3.6.2.</span> 强制单个文件的时间戳更新</h5>
<div class="outline-text-5" id="text-Time-Stamps-for-One-File">
</div>
</div>
</div>
</div>
<div id="outline-container-Reverting" class="outline-3">
<h3 id="Reverting"><span class="section-number-3">20.4.</span> 恢复缓冲区（Reverting a Buffer）</h3>
<div class="outline-text-3" id="text-Reverting">
</div>
</div>
<div id="outline-container-Auto-Revert" class="outline-3">
<h3 id="Auto-Revert"><span class="section-number-3">20.5.</span> 自动恢复：保持缓冲区自动更新（Auto Revert）</h3>
<div class="outline-text-3" id="text-Auto-Revert">
</div>
<div id="outline-container-Non_002dFile-Buffers" class="outline-4">
<h4 id="Non_002dFile-Buffers"><span class="section-number-4">20.5.1.</span> 非文件缓冲区的自动恢复</h4>
<div class="outline-text-4" id="text-Non_002dFile-Buffers">
</div>
<div id="outline-container-Auto-Reverting-the-Buffer-Menu" class="outline-5">
<h5 id="Auto-Reverting-the-Buffer-Menu"><span class="section-number-5">20.5.1.1.</span> 缓冲区菜单的自动恢复</h5>
<div class="outline-text-5" id="text-Auto-Reverting-the-Buffer-Menu">
</div>
</div>
<div id="outline-container-Auto-Reverting-Dired" class="outline-5">
<h5 id="Auto-Reverting-Dired"><span class="section-number-5">20.5.1.2.</span> 目录编辑器缓冲区的自动恢复（Dired buffers）</h5>
<div class="outline-text-5" id="text-Auto-Reverting-Dired">
</div>
</div>
</div>
</div>
<div id="outline-container-Auto-Save" class="outline-3">
<h3 id="Auto-Save"><span class="section-number-3">20.6.</span> 自动保存：防止数据丢失（Auto-Saving）</h3>
<div class="outline-text-3" id="text-Auto-Save">
</div>
<div id="outline-container-Auto-Save-Files" class="outline-4">
<h4 id="Auto-Save-Files"><span class="section-number-4">20.6.1.</span> 自动保存文件</h4>
<div class="outline-text-4" id="text-Auto-Save-Files">
</div>
</div>
<div id="outline-container-Auto-Save-Control" class="outline-4">
<h4 id="Auto-Save-Control"><span class="section-number-4">20.6.2.</span> 自动保存控制</h4>
<div class="outline-text-4" id="text-Auto-Save-Control">
</div>
</div>
<div id="outline-container-Recover" class="outline-4">
<h4 id="Recover"><span class="section-number-4">20.6.3.</span> 从自动保存文件恢复数据</h4>
<div class="outline-text-4" id="text-Recover">
</div>
</div>
</div>
<div id="outline-container-File-Aliases" class="outline-3">
<h3 id="File-Aliases"><span class="section-number-3">20.7.</span> 文件名别名（File Name Aliases）</h3>
<div class="outline-text-3" id="text-File-Aliases">
</div>
</div>
<div id="outline-container-Directories" class="outline-3">
<h3 id="Directories"><span class="section-number-3">20.8.</span> 文件目录（File Directories）</h3>
<div class="outline-text-3" id="text-Directories">
</div>
</div>
<div id="outline-container-Comparing-Files" class="outline-3">
<h3 id="Comparing-Files"><span class="section-number-3">20.9.</span> 文件比较</h3>
<div class="outline-text-3" id="text-Comparing-Files">
</div>
</div>
<div id="outline-container-Diff-Mode" class="outline-3">
<h3 id="Diff-Mode"><span class="section-number-3">20.10.</span> 差异模式</h3>
<div class="outline-text-3" id="text-Diff-Mode">
</div>
</div>
<div id="outline-container-Copying-and-Naming" class="outline-3">
<h3 id="Copying-and-Naming"><span class="section-number-3">20.11.</span> 文件的复制、命名与重命名</h3>
<div class="outline-text-3" id="text-Copying-and-Naming">
</div>
</div>
<div id="outline-container-Misc-File-Ops" class="outline-3">
<h3 id="Misc-File-Ops"><span class="section-number-3">20.12.</span> 各类文件操作</h3>
<div class="outline-text-3" id="text-Misc-File-Ops">
</div>
</div>
<div id="outline-container-Compressed-Files" class="outline-3">
<h3 id="Compressed-Files"><span class="section-number-3">20.13.</span> 访问压缩文件</h3>
<div class="outline-text-3" id="text-Compressed-Files">
</div>
</div>
<div id="outline-container-File-Archives" class="outline-3">
<h3 id="File-Archives"><span class="section-number-3">20.14.</span> 文件归档包</h3>
<div class="outline-text-3" id="text-File-Archives">
</div>
</div>
<div id="outline-container-Remote-Files" class="outline-3">
<h3 id="Remote-Files"><span class="section-number-3">20.15.</span> 远程文件</h3>
<div class="outline-text-3" id="text-Remote-Files">
</div>
</div>
<div id="outline-container-Quoted-File-Names" class="outline-3">
<h3 id="Quoted-File-Names"><span class="section-number-3">20.16.</span> 带引用的文件名</h3>
<div class="outline-text-3" id="text-Quoted-File-Names">
</div>
</div>
<div id="outline-container-File-Name-Cache" class="outline-3">
<h3 id="File-Name-Cache"><span class="section-number-3">20.17.</span> 文件名缓存</h3>
<div class="outline-text-3" id="text-File-Name-Cache">
</div>
</div>
<div id="outline-container-File-Conveniences" class="outline-3">
<h3 id="File-Conveniences"><span class="section-number-3">20.18.</span> 查找文件的便捷功能</h3>
<div class="outline-text-3" id="text-File-Conveniences">
</div>
</div>
<div id="outline-container-Image-Mode" class="outline-3">
<h3 id="Image-Mode"><span class="section-number-3">20.19.</span> 查看图像文件</h3>
<div class="outline-text-3" id="text-Image-Mode">
</div>
</div>
<div id="outline-container-Filesets" class="outline-3">
<h3 id="Filesets"><span class="section-number-3">20.20.</span> 文件集（Filesets）</h3>
<div class="outline-text-3" id="text-Filesets">
</div>
</div>
</section>
<section id="outline-container-Buffers" class="outline-2">
<h2 id="Buffers"><span class="section-number-2">21.</span> 多缓冲区的使用</h2>
<div class="outline-text-2" id="text-Buffers">
</div>
<div id="outline-container-Select-Buffer" class="outline-3">
<h3 id="Select-Buffer"><span class="section-number-3">21.1.</span> 创建与选择缓冲区</h3>
<div class="outline-text-3" id="text-Select-Buffer">
</div>
</div>
<div id="outline-container-List-Buffers" class="outline-3">
<h3 id="List-Buffers"><span class="section-number-3">21.2.</span> 列出已有缓冲区</h3>
<div class="outline-text-3" id="text-List-Buffers">
</div>
</div>
<div id="outline-container-Misc-Buffer" class="outline-3">
<h3 id="Misc-Buffer"><span class="section-number-3">21.3.</span> 缓冲区的各类杂项操作</h3>
<div class="outline-text-3" id="text-Misc-Buffer">
</div>
</div>
<div id="outline-container-Kill-Buffer" class="outline-3">
<h3 id="Kill-Buffer"><span class="section-number-3">21.4.</span> 关闭缓冲区</h3>
<div class="outline-text-3" id="text-Kill-Buffer">
</div>
</div>
<div id="outline-container-Several-Buffers" class="outline-3">
<h3 id="Several-Buffers"><span class="section-number-3">21.5.</span> 对多个缓冲区执行批量操作</h3>
<div class="outline-text-3" id="text-Several-Buffers">
</div>
</div>
<div id="outline-container-Indirect-Buffers" class="outline-3">
<h3 id="Indirect-Buffers"><span class="section-number-3">21.6.</span> 间接缓冲区</h3>
<div class="outline-text-3" id="text-Indirect-Buffers">
</div>
</div>
<div id="outline-container-Buffer-Convenience" class="outline-3">
<h3 id="Buffer-Convenience"><span class="section-number-3">21.7.</span> 缓冲区操作的便捷功能与相关定制</h3>
<div class="outline-text-3" id="text-Buffer-Convenience">
</div>
<div id="outline-container-Uniquify" class="outline-4">
<h4 id="Uniquify"><span class="section-number-4">21.7.1.</span> 让缓冲区名称唯一化</h4>
<div class="outline-text-4" id="text-Uniquify">
</div>
</div>
<div id="outline-container-Icomplete" class="outline-4">
<h4 id="Icomplete"><span class="section-number-4">21.7.2.</span> 迷你缓冲区快速选择（方式）</h4>
<div class="outline-text-4" id="text-Icomplete">
</div>
</div>
<div id="outline-container-Buffer-Menus" class="outline-4">
<h4 id="Buffer-Menus"><span class="section-number-4">21.7.3.</span> 定制缓冲区菜单</h4>
<div class="outline-text-4" id="text-Buffer-Menus">
</div>
</div>
</div>
</section>
<section id="outline-container-Windows" class="outline-2">
<h2 id="Windows"><span class="section-number-2">22.</span> 多窗口</h2>
<div class="outline-text-2" id="text-Windows">
</div>
<div id="outline-container-Basic-Window" class="outline-3">
<h3 id="Basic-Window"><span class="section-number-3">22.1.</span> Emacs 窗口的概念</h3>
<div class="outline-text-3" id="text-Basic-Window">
</div>
</div>
<div id="outline-container-Split-Window" class="outline-3">
<h3 id="Split-Window"><span class="section-number-3">22.2.</span> 拆分窗口</h3>
<div class="outline-text-3" id="text-Split-Window">
</div>
</div>
<div id="outline-container-Other-Window" class="outline-3">
<h3 id="Other-Window"><span class="section-number-3">22.3.</span> 使用其他窗口</h3>
<div class="outline-text-3" id="text-Other-Window">
</div>
</div>
<div id="outline-container-Pop-Up-Window" class="outline-3">
<h3 id="Pop-Up-Window"><span class="section-number-3">22.4.</span> 在另一窗口中显示内容</h3>
<div class="outline-text-3" id="text-Pop-Up-Window">
</div>
</div>
<div id="outline-container-Change-Window" class="outline-3">
<h3 id="Change-Window"><span class="section-number-3">22.5.</span> 删除与调整窗口大小</h3>
<div class="outline-text-3" id="text-Change-Window">
</div>
</div>
<div id="outline-container-Displaying-Buffers" class="outline-3">
<h3 id="Displaying-Buffers"><span class="section-number-3">22.6.</span> 在窗口中显示缓冲区</h3>
<div class="outline-text-3" id="text-Displaying-Buffers">
</div>
<div id="outline-container-Window-Choice" class="outline-4">
<h4 id="Window-Choice"><span class="section-number-4">22.6.1.</span> display-buffer 函数的工作原理</h4>
<div class="outline-text-4" id="text-Window-Choice">
</div>
</div>
<div id="outline-container-Temporary-Displays" class="outline-4">
<h4 id="Temporary-Displays"><span class="section-number-4">22.6.2.</span> 显示不可编辑缓冲区</h4>
<div class="outline-text-4" id="text-Temporary-Displays">
</div>
</div>
</div>
<div id="outline-container-Window-Convenience" class="outline-3">
<h3 id="Window-Convenience"><span class="section-number-3">22.7.</span> 窗口操作的便捷功能</h3>
<div class="outline-text-3" id="text-Window-Convenience">
</div>
</div>
<div id="outline-container-Tab-Line" class="outline-3">
<h3 id="Tab-Line"><span class="section-number-3">22.8.</span> 窗口标签栏</h3>
<div class="outline-text-3" id="text-Tab-Line">
</div>
</div>
<div id="outline-container-Window-Tool-Bar" class="outline-3">
<h3 id="Window-Tool-Bar"><span class="section-number-3">22.9.</span> 窗口工具栏</h3>
<div class="outline-text-3" id="text-Window-Tool-Bar">
</div>
</div>
</section>
<section id="outline-container-Frames" class="outline-2">
<h2 id="Frames"><span class="section-number-2">23.</span> 框架与图形界面</h2>
<div class="outline-text-2" id="text-Frames">
</div>
<div id="outline-container-Mouse-Commands" class="outline-3">
<h3 id="Mouse-Commands"><span class="section-number-3">23.1.</span> 编辑相关的鼠标命令</h3>
<div class="outline-text-3" id="text-Mouse-Commands">
</div>
</div>
<div id="outline-container-Word-and-Line-Mouse" class="outline-3">
<h3 id="Word-and-Line-Mouse"><span class="section-number-3">23.2.</span> 针对单词与行的鼠标命令</h3>
<div class="outline-text-3" id="text-Word-and-Line-Mouse">
</div>
</div>
<div id="outline-container-Mouse-References" class="outline-3">
<h3 id="Mouse-References"><span class="section-number-3">23.3.</span> 用鼠标跟随引用链接</h3>
<div class="outline-text-3" id="text-Mouse-References">
</div>
</div>
<div id="outline-container-Menu-Mouse-Clicks" class="outline-3">
<h3 id="Menu-Mouse-Clicks"><span class="section-number-3">23.4.</span> 菜单相关的鼠标点击操作</h3>
<div class="outline-text-3" id="text-Menu-Mouse-Clicks">
</div>
</div>
<div id="outline-container-Mode-Line-Mouse" class="outline-3">
<h3 id="Mode-Line-Mouse"><span class="section-number-3">23.5.</span> 模式行鼠标命令</h3>
<div class="outline-text-3" id="text-Mode-Line-Mouse">
</div>
</div>
<div id="outline-container-Creating-Frames" class="outline-3">
<h3 id="Creating-Frames"><span class="section-number-3">23.6.</span> 创建框架</h3>
<div class="outline-text-3" id="text-Creating-Frames">
</div>
</div>
<div id="outline-container-Frame-Commands" class="outline-3">
<h3 id="Frame-Commands"><span class="section-number-3">23.7.</span> 框架命令</h3>
<div class="outline-text-3" id="text-Frame-Commands">
</div>
</div>
<div id="outline-container-Fonts" class="outline-3">
<h3 id="Fonts"><span class="section-number-3">23.8.</span> 字体设置</h3>
<div class="outline-text-3" id="text-Fonts">
</div>
</div>
<div id="outline-container-Speedbar" class="outline-3">
<h3 id="Speedbar"><span class="section-number-3">23.9.</span> 速度条框架</h3>
<div class="outline-text-3" id="text-Speedbar">
</div>
</div>
<div id="outline-container-Multiple-Displays" class="outline-3">
<h3 id="Multiple-Displays"><span class="section-number-3">23.10.</span> 多显示器支持</h3>
<div class="outline-text-3" id="text-Multiple-Displays">
</div>
</div>
<div id="outline-container-Frame-Parameters" class="outline-3">
<h3 id="Frame-Parameters"><span class="section-number-3">23.11.</span> 框架参数</h3>
<div class="outline-text-3" id="text-Frame-Parameters">
</div>
</div>
<div id="outline-container-Scroll-Bars" class="outline-3">
<h3 id="Scroll-Bars"><span class="section-number-3">23.12.</span> 滚动条</h3>
<div class="outline-text-3" id="text-Scroll-Bars">
</div>
</div>
<div id="outline-container-Window-Dividers" class="outline-3">
<h3 id="Window-Dividers"><span class="section-number-3">23.13.</span> 窗口分隔线</h3>
<div class="outline-text-3" id="text-Window-Dividers">
</div>
</div>
<div id="outline-container-Drag-and-Drop" class="outline-3">
<h3 id="Drag-and-Drop"><span class="section-number-3">23.14.</span> 拖放功能</h3>
<div class="outline-text-3" id="text-Drag-and-Drop">
</div>
</div>
<div id="outline-container-Menu-Bars" class="outline-3">
<h3 id="Menu-Bars"><span class="section-number-3">23.15.</span> 菜单栏</h3>
<div class="outline-text-3" id="text-Menu-Bars">
</div>
</div>
<div id="outline-container-Tool-Bars" class="outline-3">
<h3 id="Tool-Bars"><span class="section-number-3">23.16.</span> 工具栏</h3>
<div class="outline-text-3" id="text-Tool-Bars">
</div>
</div>
<div id="outline-container-Tab-Bars" class="outline-3">
<h3 id="Tab-Bars"><span class="section-number-3">23.17.</span> 标签栏</h3>
<div class="outline-text-3" id="text-Tab-Bars">
</div>
</div>
<div id="outline-container-Dialog-Boxes" class="outline-3">
<h3 id="Dialog-Boxes"><span class="section-number-3">23.18.</span> 使用对话框</h3>
<div class="outline-text-3" id="text-Dialog-Boxes">
</div>
</div>
<div id="outline-container-Tooltips" class="outline-3">
<h3 id="Tooltips"><span class="section-number-3">23.19.</span> 工具提示</h3>
<div class="outline-text-3" id="text-Tooltips">
</div>
</div>
<div id="outline-container-Mouse-Avoidance" class="outline-3">
<h3 id="Mouse-Avoidance"><span class="section-number-3">23.20.</span> 鼠标避让功能</h3>
<div class="outline-text-3" id="text-Mouse-Avoidance">
</div>
</div>
<div id="outline-container-Text-Terminals" class="outline-3">
<h3 id="Text-Terminals"><span class="section-number-3">23.21.</span> 文本终端</h3>
<div class="outline-text-3" id="text-Text-Terminals">
</div>
</div>
<div id="outline-container-Text_002dOnly-Mouse" class="outline-3">
<h3 id="Text_002dOnly-Mouse"><span class="section-number-3">23.22.</span> 文本终端中的鼠标使用</h3>
<div class="outline-text-3" id="text-Text_002dOnly-Mouse">
</div>
</div>
</section>
<section id="outline-container-International" class="outline-2">
<h2 id="International"><span class="section-number-2">24.</span> 国际字符集支持</h2>
<div class="outline-text-2" id="text-International">
</div>
<div id="outline-container-International-Chars" class="outline-3">
<h3 id="International-Chars"><span class="section-number-3">24.1.</span> 国际字符集简介</h3>
<div class="outline-text-3" id="text-International-Chars">
</div>
</div>
<div id="outline-container-Language-Environments" class="outline-3">
<h3 id="Language-Environments"><span class="section-number-3">24.2.</span> 语言环境</h3>
<div class="outline-text-3" id="text-Language-Environments">
</div>
</div>
<div id="outline-container-Input-Methods" class="outline-3">
<h3 id="Input-Methods"><span class="section-number-3">24.3.</span> 输入方法</h3>
<div class="outline-text-3" id="text-Input-Methods">
</div>
</div>
<div id="outline-container-Select-Input-Method" class="outline-3">
<h3 id="Select-Input-Method"><span class="section-number-3">24.4.</span> 选择输入方法</h3>
<div class="outline-text-3" id="text-Select-Input-Method">
</div>
</div>
<div id="outline-container-Coding-Systems" class="outline-3">
<h3 id="Coding-Systems"><span class="section-number-3">24.5.</span> 编码系统</h3>
<div class="outline-text-3" id="text-Coding-Systems">
</div>
</div>
<div id="outline-container-Recognize-Coding" class="outline-3">
<h3 id="Recognize-Coding"><span class="section-number-3">24.6.</span> 编码系统识别</h3>
<div class="outline-text-3" id="text-Recognize-Coding">
</div>
</div>
<div id="outline-container-Specify-Coding" class="outline-3">
<h3 id="Specify-Coding"><span class="section-number-3">24.7.</span> 指定文件的编码系统</h3>
<div class="outline-text-3" id="text-Specify-Coding">
</div>
</div>
<div id="outline-container-Output-Coding" class="outline-3">
<h3 id="Output-Coding"><span class="section-number-3">24.8.</span> 为输出选择编码系统</h3>
<div class="outline-text-3" id="text-Output-Coding">
</div>
</div>
<div id="outline-container-Text-Coding" class="outline-3">
<h3 id="Text-Coding"><span class="section-number-3">24.9.</span> 为文件文本指定编码系统</h3>
<div class="outline-text-3" id="text-Text-Coding">
</div>
</div>
<div id="outline-container-Communication-Coding" class="outline-3">
<h3 id="Communication-Coding"><span class="section-number-3">24.10.</span> 进程间通信的编码系统</h3>
<div class="outline-text-3" id="text-Communication-Coding">
</div>
</div>
<div id="outline-container-File-Name-Coding" class="outline-3">
<h3 id="File-Name-Coding"><span class="section-number-3">24.11.</span> 文件名的编码系统</h3>
<div class="outline-text-3" id="text-File-Name-Coding">
</div>
</div>
<div id="outline-container-X-Coding" class="outline-3">
<h3 id="X-Coding"><span class="section-number-3">24.12.</span> X 键盘输入的编码系统</h3>
<div class="outline-text-3" id="text-X-Coding">
</div>
</div>
<div id="outline-container-Terminal-Coding" class="outline-3">
<h3 id="Terminal-Coding"><span class="section-number-3">24.13.</span> 终端 I/O 的编码系统</h3>
<div class="outline-text-3" id="text-Terminal-Coding">
</div>
</div>
<div id="outline-container-Fontsets" class="outline-3">
<h3 id="Fontsets"><span class="section-number-3">24.14.</span> 字体集</h3>
<div class="outline-text-3" id="text-Fontsets">
</div>
</div>
<div id="outline-container-Defining-Fontsets" class="outline-3">
<h3 id="Defining-Fontsets"><span class="section-number-3">24.15.</span> 定义字体集</h3>
<div class="outline-text-3" id="text-Defining-Fontsets">
</div>
</div>
<div id="outline-container-Modifying-Fontsets" class="outline-3">
<h3 id="Modifying-Fontsets"><span class="section-number-3">24.16.</span> 修改字体集</h3>
<div class="outline-text-3" id="text-Modifying-Fontsets">
</div>
</div>
<div id="outline-container-Undisplayable-Characters" class="outline-3">
<h3 id="Undisplayable-Characters"><span class="section-number-3">24.17.</span> 无法显示的字符</h3>
<div class="outline-text-3" id="text-Undisplayable-Characters">
</div>
</div>
<div id="outline-container-Unibyte-Mode" class="outline-3">
<h3 id="Unibyte-Mode"><span class="section-number-3">24.18.</span> 单字节编辑模式</h3>
<div class="outline-text-3" id="text-Unibyte-Mode">
</div>
</div>
<div id="outline-container-Charsets" class="outline-3">
<h3 id="Charsets"><span class="section-number-3">24.19.</span> 字符集</h3>
<div class="outline-text-3" id="text-Charsets">
</div>
</div>
<div id="outline-container-Bidirectional-Editing" class="outline-3">
<h3 id="Bidirectional-Editing"><span class="section-number-3">24.20.</span> 双向编辑</h3>
<div class="outline-text-3" id="text-Bidirectional-Editing">
</div>
</div>
</section>
<section id="outline-container-Modes" class="outline-2">
<h2 id="Modes"><span class="section-number-2">25.</span> 主模式与次模式</h2>
<div class="outline-text-2" id="text-Modes">
</div>
<div id="outline-container-Major-Modes" class="outline-3">
<h3 id="Major-Modes"><span class="section-number-3">25.1.</span> 主模式</h3>
<div class="outline-text-3" id="text-Major-Modes">
</div>
</div>
<div id="outline-container-Minor-Modes" class="outline-3">
<h3 id="Minor-Modes"><span class="section-number-3">25.2.</span> 次模式</h3>
<div class="outline-text-3" id="text-Minor-Modes">
</div>
</div>
<div id="outline-container-Choosing-Modes" class="outline-3">
<h3 id="Choosing-Modes"><span class="section-number-3">25.3.</span> 选择文件模式</h3>
<div class="outline-text-3" id="text-Choosing-Modes">
</div>
</div>
</section>
<section id="outline-container-Indentation" class="outline-2">
<h2 id="Indentation"><span class="section-number-2">26.</span> 缩进</h2>
<div class="outline-text-2" id="text-Indentation">
</div>
<div id="outline-container-Indentation-Commands" class="outline-3">
<h3 id="Indentation-Commands"><span class="section-number-3">26.1.</span> 缩进命令</h3>
<div class="outline-text-3" id="text-Indentation-Commands">
</div>
</div>
<div id="outline-container-Tab-Stops" class="outline-3">
<h3 id="Tab-Stops"><span class="section-number-3">26.2.</span> 制表位</h3>
<div class="outline-text-3" id="text-Tab-Stops">
</div>
</div>
<div id="outline-container-Just-Spaces" class="outline-3">
<h3 id="Just-Spaces"><span class="section-number-3">26.3.</span> 制表符与空格的选择</h3>
<div class="outline-text-3" id="text-Just-Spaces">
</div>
</div>
<div id="outline-container-Indent-Convenience" class="outline-3">
<h3 id="Indent-Convenience"><span class="section-number-3">26.4.</span> 缩进的便捷功能</h3>
<div class="outline-text-3" id="text-Indent-Convenience">
</div>
</div>
<div id="outline-container-Code-Alignment" class="outline-3">
<h3 id="Code-Alignment"><span class="section-number-3">26.5.</span> 代码对齐</h3>
<div class="outline-text-3" id="text-Code-Alignment">
</div>
</div>
</section>
<section id="outline-container-Text" class="outline-2">
<h2 id="Text"><span class="section-number-2">27.</span> 自然语言相关命令</h2>
<div class="outline-text-2" id="text-Text">
</div>
<div id="outline-container-Words" class="outline-3">
<h3 id="Words"><span class="section-number-3">27.1.</span> 单词操作</h3>
<div class="outline-text-3" id="text-Words">
</div>
</div>
<div id="outline-container-Sentences" class="outline-3">
<h3 id="Sentences"><span class="section-number-3">27.2.</span> 句子操作</h3>
<div class="outline-text-3" id="text-Sentences">
</div>
</div>
<div id="outline-container-Paragraphs" class="outline-3">
<h3 id="Paragraphs"><span class="section-number-3">27.3.</span> 段落操作</h3>
<div class="outline-text-3" id="text-Paragraphs">
</div>
</div>
<div id="outline-container-Pages" class="outline-3">
<h3 id="Pages"><span class="section-number-3">27.4.</span> 页面操作</h3>
<div class="outline-text-3" id="text-Pages">
</div>
</div>
<div id="outline-container-Quotation-Marks" class="outline-3">
<h3 id="Quotation-Marks"><span class="section-number-3">27.5.</span> 引号处理</h3>
<div class="outline-text-3" id="text-Quotation-Marks">
</div>
</div>
<div id="outline-container-Filling" class="outline-3">
<h3 id="Filling"><span class="section-number-3">27.6.</span> 文本填充</h3>
<div class="outline-text-3" id="text-Filling">
</div>
<div id="outline-container-Auto-Fill" class="outline-4">
<h4 id="Auto-Fill"><span class="section-number-4">27.6.1.</span> 自动填充模式</h4>
<div class="outline-text-4" id="text-Auto-Fill">
</div>
</div>
<div id="outline-container-Fill-Commands" class="outline-4">
<h4 id="Fill-Commands"><span class="section-number-4">27.6.2.</span> 显式填充命令</h4>
<div class="outline-text-4" id="text-Fill-Commands">
</div>
</div>
<div id="outline-container-Fill-Prefix" class="outline-4">
<h4 id="Fill-Prefix"><span class="section-number-4">27.6.3.</span> 填充前缀</h4>
<div class="outline-text-4" id="text-Fill-Prefix">
</div>
</div>
<div id="outline-container-Adaptive-Fill" class="outline-4">
<h4 id="Adaptive-Fill"><span class="section-number-4">27.6.4.</span> 自适应填充</h4>
<div class="outline-text-4" id="text-Adaptive-Fill">
</div>
</div>
</div>
<div id="outline-container-Case" class="outline-3">
<h3 id="Case"><span class="section-number-3">27.7.</span> 大小写转换命令</h3>
<div class="outline-text-3" id="text-Case">
<p>
Emacs 提供了专门命令，可将单个单词或任意范围的文本转换为大写或小写形式。
</p>

<dl class="org-dl">
<dt><code>M-l</code></dt><dd>将后续单词转换为小写 (<code>downcase-word</code>) 。</dd>
<dt><code>M-- M-l</code></dt><dd>将前一个单词转换为小写。注： <code>M--</code> 即 Meta-减号。</dd>
<dt><code>M-u</code></dt><dd>将后续单词转换为大写 (<code>upcase-word</code>) 。</dd>
<dt><code>M-- M-u</code></dt><dd>将前一个单词转换为全大写形式。</dd>
<dt><code>M-c</code></dt><dd>将后续单词首字母大写 (<code>capitalize-word</code>) 。</dd>
<dt><code>M-- M-c</code></dt><dd>将前一个单词转换为首字母大写、其余字母小写的形式。</dd>
<dt><code>C-x C-l</code></dt><dd>将选中区域的文本转换为小写 (<code>downcase-region</code>) 。</dd>
<dt><code>C-x C-u</code></dt><dd>将选中区域的文本转换为大写 (<code>upcase-region</code>) 。</dd>
</dl>

<p>
<code>M-l</code> (<code>downcase-word</code>) 会将光标后方的单词转换为小写，并将光标移至该单词末尾。因此，重复按下 <code>M-l</code> 可依次转换后续的多个单词。 <code>M-u</code> (<code>upcase-word</code>) 则将单词转换为全大写，而 <code>M-c</code> (<code>capitalize-word</code>) 仅将单词首字母转为大写，其余字母均转为小写。若为这些命令指定参数，可一次性转换多个单词。这些命令在将大量全大写文本转换为大小写混合格式时尤为实用：你可在文本中移动光标，根据需要对每个单词分别使用 <code>M-l</code> 、 <code>M-u</code> 或 <code>M-c</code> ，也可偶尔使用 <code>M-f</code> 跳过无需转换的单词。
</p>

<p>
若为单词大小写转换命令指定负参数（如 <code>C-u - 5 M-c</code> ），该命令会对光标 <b>前方</b> 指定数量的单词进行转换，且 <b>不会移动光标</b> 。当你刚输入完一个大小写错误的单词时，此用法会非常便捷：直接使用 <code>M-- M-u</code> 这类转换命令即可修正，无需中断输入。
</p>

<p>
若在单词 <b>中间位置</b> 执行单词大小写转换命令，该命令仅对光标 <b>后方</b> 的单词部分生效（这一行为与 <code>M-d</code> ( <code>kill-word</code> ，删除单词) 类似）；若指定负参数，则仅对光标 <b>前方</b> 的单词部分进行大小写转换。
</p>

<p>
另外两个大小写转换命令为 <code>C-x C-u</code> (<code>upcase-region</code>) 和 <code>C-x C-l</code> (<code>downcase-region</code>) ，二者会将光标与标记之间的 <b>整个区域</b> 内的所有文本转换为指定大小写，执行后光标与标记的位置均保持不变。
</p>

<p>
区域大小写转换命令 <code>upcase-region</code> 和 <code>downcase-region</code> 默认处于 <b>禁用状态</b> ，这意味着你尝试使用这类命令时，Emacs 会要求你确认操作。当你确认后，可选择启用该命令，后续使用时将不再弹出确认提示。详见「<a href="#Disabling">命令的禁用</a>」相关内容。
</p>
</div>
</div>
<div id="outline-container-Text-Mode" class="outline-3">
<h3 id="Text-Mode"><span class="section-number-3">27.8.</span> 文本模式</h3>
<div class="outline-text-3" id="text-Text-Mode">
</div>
</div>
<div id="outline-container-Outline-Mode" class="outline-3">
<h3 id="Outline-Mode"><span class="section-number-3">27.9.</span> 大纲模式</h3>
<div class="outline-text-3" id="text-Outline-Mode">
</div>
<div id="outline-container-Outline-Minor-Mode" class="outline-4">
<h4 id="Outline-Minor-Mode"><span class="section-number-4">27.9.1.</span> 大纲次模式</h4>
<div class="outline-text-4" id="text-Outline-Minor-Mode">
</div>
</div>
<div id="outline-container-Outline-Format" class="outline-4">
<h4 id="Outline-Format"><span class="section-number-4">27.9.2.</span> 大纲格式</h4>
<div class="outline-text-4" id="text-Outline-Format">
</div>
</div>
<div id="outline-container-Outline-Motion" class="outline-4">
<h4 id="Outline-Motion"><span class="section-number-4">27.9.3.</span> 大纲移动命令</h4>
<div class="outline-text-4" id="text-Outline-Motion">
</div>
</div>
<div id="outline-container-Outline-Visibility" class="outline-4">
<h4 id="Outline-Visibility"><span class="section-number-4">27.9.4.</span> 大纲可见性命令</h4>
<div class="outline-text-4" id="text-Outline-Visibility">
</div>
</div>
<div id="outline-container-Outline-Views" class="outline-4">
<h4 id="Outline-Views"><span class="section-number-4">27.9.5.</span> 多视图查看单个大纲</h4>
<div class="outline-text-4" id="text-Outline-Views">
</div>
</div>
<div id="outline-container-Foldout" class="outline-4">
<h4 id="Foldout"><span class="section-number-4">27.9.6.</span> 折叠编辑</h4>
<div class="outline-text-4" id="text-Foldout">
</div>
</div>
</div>
<div id="outline-container-Org-Mode" class="outline-3">
<h3 id="Org-Mode"><span class="section-number-3">27.10.</span> 组织模式（Org Mode）</h3>
<div class="outline-text-3" id="text-Org-Mode">
</div>
<div id="outline-container-Org-Organizer" class="outline-4">
<h4 id="Org-Organizer"><span class="section-number-4">27.10.1.</span> 作为事务管理器的 Org 模式</h4>
<div class="outline-text-4" id="text-Org-Organizer">
</div>
</div>
<div id="outline-container-Org-Authoring" class="outline-4">
<h4 id="Org-Authoring"><span class="section-number-4">27.10.2.</span> 作为创作系统的 Org 模式</h4>
<div class="outline-text-4" id="text-Org-Authoring">
</div>
</div>
</div>
<div id="outline-container-TeX-Mode" class="outline-3">
<h3 id="TeX-Mode"><span class="section-number-3">27.11.</span> TeX 模式</h3>
<div class="outline-text-3" id="text-TeX-Mode">
</div>
<div id="outline-container-TeX-Editing" class="outline-4">
<h4 id="TeX-Editing"><span class="section-number-4">27.11.1.</span> TeX 编辑命令</h4>
<div class="outline-text-4" id="text-TeX-Editing">
</div>
</div>
<div id="outline-container-LaTeX-Editing" class="outline-4">
<h4 id="LaTeX-Editing"><span class="section-number-4">27.11.2.</span> LaTeX 编辑命令</h4>
<div class="outline-text-4" id="text-LaTeX-Editing">
</div>
</div>
<div id="outline-container-TeX-Print" class="outline-4">
<h4 id="TeX-Print"><span class="section-number-4">27.11.3.</span> TeX 打印命令</h4>
<div class="outline-text-4" id="text-TeX-Print">
</div>
</div>
<div id="outline-container-TeX-Misc" class="outline-4">
<h4 id="TeX-Misc"><span class="section-number-4">27.11.4.</span> TeX 模式杂项功能</h4>
<div class="outline-text-4" id="text-TeX-Misc">
</div>
</div>
</div>
<div id="outline-container-HTML-Mode" class="outline-3">
<h3 id="HTML-Mode"><span class="section-number-3">27.12.</span> SGML 与 HTML 模式</h3>
<div class="outline-text-3" id="text-HTML-Mode">
</div>
</div>
<div id="outline-container-Nroff-Mode" class="outline-3">
<h3 id="Nroff-Mode"><span class="section-number-3">27.13.</span> Nroff 模式</h3>
<div class="outline-text-3" id="text-Nroff-Mode">
</div>
</div>
<div id="outline-container-Enriched-Text" class="outline-3">
<h3 id="Enriched-Text"><span class="section-number-3">27.14.</span> 富文本</h3>
<div class="outline-text-3" id="text-Enriched-Text">
</div>
<div id="outline-container-Enriched-Mode" class="outline-4">
<h4 id="Enriched-Mode"><span class="section-number-4">27.14.1.</span> 富文本模式</h4>
<div class="outline-text-4" id="text-Enriched-Mode">
</div>
</div>
<div id="outline-container-Hard-and-Soft-Newlines" class="outline-4">
<h4 id="Hard-and-Soft-Newlines"><span class="section-number-4">27.14.2.</span> 硬换行与软换行</h4>
<div class="outline-text-4" id="text-Hard-and-Soft-Newlines">
</div>
</div>
<div id="outline-container-Editing-Format-Info" class="outline-4">
<h4 id="Editing-Format-Info"><span class="section-number-4">27.14.3.</span> 格式信息编辑</h4>
<div class="outline-text-4" id="text-Editing-Format-Info">
</div>
</div>
<div id="outline-container-Enriched-Faces" class="outline-4">
<h4 id="Enriched-Faces"><span class="section-number-4">27.14.4.</span> 富文本中的外观样式</h4>
<div class="outline-text-4" id="text-Enriched-Faces">
</div>
</div>
<div id="outline-container-Enriched-Indentation" class="outline-4">
<h4 id="Enriched-Indentation"><span class="section-number-4">27.14.5.</span> 富文本中的缩进</h4>
<div class="outline-text-4" id="text-Enriched-Indentation">
</div>
</div>
<div id="outline-container-Enriched-Justification" class="outline-4">
<h4 id="Enriched-Justification"><span class="section-number-4">27.14.6.</span> 富文本中的对齐方式</h4>
<div class="outline-text-4" id="text-Enriched-Justification">
</div>
</div>
<div id="outline-container-Enriched-Properties" class="outline-4">
<h4 id="Enriched-Properties"><span class="section-number-4">27.14.7.</span> 设置其他文本属性</h4>
<div class="outline-text-4" id="text-Enriched-Properties">
</div>
</div>
</div>
<div id="outline-container-Text-Based-Tables" class="outline-3">
<h3 id="Text-Based-Tables"><span class="section-number-3">27.15.</span> 文本表格编辑</h3>
<div class="outline-text-3" id="text-Text-Based-Tables">
</div>
<div id="outline-container-Table-Definition" class="outline-4">
<h4 id="Table-Definition"><span class="section-number-4">27.15.1.</span> 什么是文本表格？</h4>
<div class="outline-text-4" id="text-Table-Definition">
</div>
</div>
<div id="outline-container-Table-Creation" class="outline-4">
<h4 id="Table-Creation"><span class="section-number-4">27.15.2.</span> 创建表格</h4>
<div class="outline-text-4" id="text-Table-Creation">
</div>
</div>
<div id="outline-container-Table-Recognition" class="outline-4">
<h4 id="Table-Recognition"><span class="section-number-4">27.15.3.</span> 表格识别</h4>
<div class="outline-text-4" id="text-Table-Recognition">
</div>
</div>
<div id="outline-container-Cell-Commands" class="outline-4">
<h4 id="Cell-Commands"><span class="section-number-4">27.15.4.</span> 表格单元格操作命令</h4>
<div class="outline-text-4" id="text-Cell-Commands">
</div>
</div>
<div id="outline-container-Cell-Justification" class="outline-4">
<h4 id="Cell-Justification"><span class="section-number-4">27.15.5.</span> 单元格对齐方式</h4>
<div class="outline-text-4" id="text-Cell-Justification">
</div>
</div>
<div id="outline-container-Table-Rows-and-Columns" class="outline-4">
<h4 id="Table-Rows-and-Columns"><span class="section-number-4">27.15.6.</span> 表格行与列操作</h4>
<div class="outline-text-4" id="text-Table-Rows-and-Columns">
</div>
</div>
<div id="outline-container-Table-Conversion" class="outline-4">
<h4 id="Table-Conversion"><span class="section-number-4">27.15.7.</span> 纯文本与表格的相互转换</h4>
<div class="outline-text-4" id="text-Table-Conversion">
</div>
</div>
<div id="outline-container-Table-Misc" class="outline-4">
<h4 id="Table-Misc"><span class="section-number-4">27.15.8.</span> 表格杂项功能</h4>
<div class="outline-text-4" id="text-Table-Misc">
</div>
</div>
</div>
<div id="outline-container-Two_002dColumn" class="outline-3">
<h3 id="Two_002dColumn"><span class="section-number-3">27.16.</span> 双列编辑</h3>
<div class="outline-text-3" id="text-Two_002dColumn">
</div>
</div>
</section>
<section id="outline-container-Programs" class="outline-2">
<h2 id="Programs"><span class="section-number-2">28.</span> 程序编辑</h2>
<div class="outline-text-2" id="text-Programs">
</div>
<div id="outline-container-Program-Modes" class="outline-3">
<h3 id="Program-Modes"><span class="section-number-3">28.1.</span> 编程语言相关主模式</h3>
<div class="outline-text-3" id="text-Program-Modes">
</div>
</div>
<div id="outline-container-Defuns" class="outline-3">
<h3 id="Defuns"><span class="section-number-3">28.2.</span> 顶层定义（或函数定义）</h3>
<div class="outline-text-3" id="text-Defuns">
</div>
<div id="outline-container-Left-Margin-Paren" class="outline-4">
<h4 id="Left-Margin-Paren"><span class="section-number-4">28.2.1.</span> 左边距约定</h4>
<div class="outline-text-4" id="text-Left-Margin-Paren">
</div>
</div>
<div id="outline-container-Moving-by-Defuns" class="outline-4">
<h4 id="Moving-by-Defuns"><span class="section-number-4">28.2.2.</span> 按函数定义移动</h4>
<div class="outline-text-4" id="text-Moving-by-Defuns">
</div>
</div>
<div id="outline-container-Moving-by-Sentences" class="outline-4">
<h4 id="Moving-by-Sentences"><span class="section-number-4">28.2.3.</span> 按句子移动</h4>
<div class="outline-text-4" id="text-Moving-by-Sentences">
</div>
</div>
<div id="outline-container-Imenu" class="outline-4">
<h4 id="Imenu"><span class="section-number-4">28.2.4.</span> 索引菜单（Imenu）</h4>
<div class="outline-text-4" id="text-Imenu">
</div>
</div>
<div id="outline-container-Which-Function" class="outline-4">
<h4 id="Which-Function"><span class="section-number-4">28.2.5.</span> 函数名称显示模式</h4>
<div class="outline-text-4" id="text-Which-Function">
</div>
</div>
</div>
<div id="outline-container-Program-Indent" class="outline-3">
<h3 id="Program-Indent"><span class="section-number-3">28.3.</span> 程序缩进</h3>
<div class="outline-text-3" id="text-Program-Indent">
</div>
<div id="outline-container-Basic-Indent" class="outline-4">
<h4 id="Basic-Indent"><span class="section-number-4">28.3.1.</span> 基本程序缩进命令</h4>
<div class="outline-text-4" id="text-Basic-Indent">
</div>
</div>
<div id="outline-container-Multi_002dline-Indent" class="outline-4">
<h4 id="Multi_002dline-Indent"><span class="section-number-4">28.3.2.</span> 多行缩进</h4>
<div class="outline-text-4" id="text-Multi_002dline-Indent">
</div>
</div>
<div id="outline-container-Lisp-Indent" class="outline-4">
<h4 id="Lisp-Indent"><span class="section-number-4">28.3.3.</span> 定制 Lisp 缩进</h4>
<div class="outline-text-4" id="text-Lisp-Indent">
</div>
</div>
<div id="outline-container-C-Indent" class="outline-4">
<h4 id="C-Indent"><span class="section-number-4">28.3.4.</span> C 语言缩进命令</h4>
<div class="outline-text-4" id="text-C-Indent">
</div>
</div>
<div id="outline-container-Custom-C-Indent" class="outline-4">
<h4 id="Custom-C-Indent"><span class="section-number-4">28.3.5.</span> 定制 C 语言缩进</h4>
<div class="outline-text-4" id="text-Custom-C-Indent">
</div>
</div>
</div>
<div id="outline-container-Parentheses" class="outline-3">
<h3 id="Parentheses"><span class="section-number-3">28.4.</span> 括号编辑相关命令</h3>
<div class="outline-text-3" id="text-Parentheses">
</div>
<div id="outline-container-Expressions" class="outline-4">
<h4 id="Expressions"><span class="section-number-4">28.4.1.</span> 平衡括号表达式</h4>
<div class="outline-text-4" id="text-Expressions">
</div>
</div>
<div id="outline-container-Moving-by-Parens" class="outline-4">
<h4 id="Moving-by-Parens"><span class="section-number-4">28.4.2.</span> 在括号结构中移动</h4>
<div class="outline-text-4" id="text-Moving-by-Parens">
</div>
</div>
<div id="outline-container-Matching" class="outline-4">
<h4 id="Matching"><span class="section-number-4">28.4.3.</span> 括号匹配</h4>
<div class="outline-text-4" id="text-Matching">
</div>
</div>
</div>
<div id="outline-container-Comments" class="outline-3">
<h3 id="Comments"><span class="section-number-3">28.5.</span> 注释处理</h3>
<div class="outline-text-3" id="text-Comments">
<p>
注释是编程中至关重要的组成部分，因此 Emacs 提供了专门用于编辑和插入注释的命令。它还可通过 Flyspell Prog 模式对注释进行拼写检查（详见 “<a href="#Spelling">拼写检查与修正</a>” 章节）。
</p>

<p>
部分主模式针对不同类型注释的缩进制定了特殊规则。例如，在 Lisp 代码中，以两个分号（;;）开头的注释会按代码行的方式缩进，而以三个分号（;;;）开头的注释则应左对齐到页边距，且常用于代码分段说明。Emacs 能够识别这些约定：例如，在注释行按 Tab 键时，会将注释缩进至合适位置。
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #b22222;">;; </span><span style="color: #b22222;">&#27492;&#20989;&#25968;&#20165;&#20026;&#31034;&#20363;
</span><span style="color: #b22222;">;;; </span><span style="color: #b22222;">&#27492;&#22788;&#20351;&#29992;&#20004;&#20010;&#25110;&#19977;&#20010;&#20998;&#21495;&#22343;&#21487;
</span>(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">foo</span> (x)
<span style="color: #b22222;">;;;  </span><span style="color: #b22222;">&#25509;&#19979;&#26469;&#26159;&#20989;&#25968;&#30340;&#31532;&#19968;&#37096;&#20998;&#65306;
</span>  <span style="color: #b22222;">;; </span><span style="color: #b22222;">&#19979;&#19968;&#34892;&#23454;&#29616;&#21152;&#19968;&#25805;&#20316;
</span>  (1+ x))           <span style="color: #b22222;">; </span><span style="color: #b22222;">&#27492;&#34892;&#23454;&#29616;&#21152;&#19968;&#25805;&#20316;</span>
</pre>
</div>


<ul class="org-ul">
<li><a href="#Comment-Commands">注释命令</a></li>
<li><a href="#Multi_002dLine-Comments">多行注释</a></li>
<li><a href="#Options-for-Comments">控制注释的相关选项</a></li>
</ul>
</div>
<div id="outline-container-Comment-Commands" class="outline-4">
<h4 id="Comment-Commands"><span class="section-number-4">28.5.1.</span> 注释命令</h4>
<div class="outline-text-4" id="text-Comment-Commands">
</div>
</div>
<div id="outline-container-Multi_002dLine-Comments" class="outline-4">
<h4 id="Multi_002dLine-Comments"><span class="section-number-4">28.5.2.</span> 多行注释</h4>
<div class="outline-text-4" id="text-Multi_002dLine-Comments">
</div>
</div>
<div id="outline-container-Options-for-Comments" class="outline-4">
<h4 id="Options-for-Comments"><span class="section-number-4">28.5.3.</span> 控制注释的相关选项</h4>
<div class="outline-text-4" id="text-Options-for-Comments">
</div>
</div>
</div>
<div id="outline-container-Documentation" class="outline-3">
<h3 id="Documentation"><span class="section-number-3">28.6.</span> 文档查阅</h3>
<div class="outline-text-3" id="text-Documentation">
</div>
<div id="outline-container-Info-Lookup" class="outline-4">
<h4 id="Info-Lookup"><span class="section-number-4">28.6.1.</span> Info 文档查阅</h4>
<div class="outline-text-4" id="text-Info-Lookup">
</div>
</div>
<div id="outline-container-Man-Page" class="outline-4">
<h4 id="Man-Page"><span class="section-number-4">28.6.2.</span> 手册页查阅</h4>
<div class="outline-text-4" id="text-Man-Page">
</div>
</div>
<div id="outline-container-Programming-Language-Doc" class="outline-4">
<h4 id="Programming-Language-Doc"><span class="section-number-4">28.6.3.</span> 编程语言文档查阅</h4>
<div class="outline-text-4" id="text-Programming-Language-Doc">
</div>
</div>
</div>
<div id="outline-container-Hideshow" class="outline-3">
<h3 id="Hideshow"><span class="section-number-3">28.7.</span> 代码折叠次模式</h3>
<div class="outline-text-3" id="text-Hideshow">
</div>
</div>
<div id="outline-container-Symbol-Completion" class="outline-3">
<h3 id="Symbol-Completion"><span class="section-number-3">28.8.</span> 符号名称补全</h3>
<div class="outline-text-3" id="text-Symbol-Completion">
</div>
</div>
<div id="outline-container-MixedCase-Words" class="outline-3">
<h3 id="MixedCase-Words"><span class="section-number-3">28.9.</span> 混合大小写单词处理</h3>
<div class="outline-text-3" id="text-MixedCase-Words">
</div>
</div>
<div id="outline-container-Semantic" class="outline-3">
<h3 id="Semantic"><span class="section-number-3">28.10.</span> 语义分析（Semantic）</h3>
<div class="outline-text-3" id="text-Semantic">
</div>
</div>
<div id="outline-container-Misc-for-Programs" class="outline-3">
<h3 id="Misc-for-Programs"><span class="section-number-3">28.11.</span> 其他程序编辑实用功能</h3>
<div class="outline-text-3" id="text-Misc-for-Programs">
</div>
</div>
<div id="outline-container-C-Modes" class="outline-3">
<h3 id="C-Modes"><span class="section-number-3">28.12.</span> C 语言及相关模式</h3>
<div class="outline-text-3" id="text-C-Modes">
</div>
<div id="outline-container-Motion-in-C" class="outline-4">
<h4 id="Motion-in-C"><span class="section-number-4">28.12.1.</span> C 模式移动命令</h4>
<div class="outline-text-4" id="text-Motion-in-C">
</div>
</div>
<div id="outline-container-Electric-C" class="outline-4">
<h4 id="Electric-C"><span class="section-number-4">28.12.2.</span> C 语言自动缩进字符</h4>
<div class="outline-text-4" id="text-Electric-C">
</div>
</div>
<div id="outline-container-Hungry-Delete" class="outline-4">
<h4 id="Hungry-Delete"><span class="section-number-4">28.12.3.</span> C 模式中的贪婪删除功能</h4>
<div class="outline-text-4" id="text-Hungry-Delete">
</div>
</div>
<div id="outline-container-Other-C-Commands" class="outline-4">
<h4 id="Other-C-Commands"><span class="section-number-4">28.12.4.</span> C 模式的其他命令</h4>
<div class="outline-text-4" id="text-Other-C-Commands">
</div>
</div>
</div>
<div id="outline-container-Asm-Mode" class="outline-3">
<h3 id="Asm-Mode"><span class="section-number-3">28.13.</span> 汇编语言模式</h3>
<div class="outline-text-3" id="text-Asm-Mode">
</div>
</div>
<div id="outline-container-Fortran" class="outline-3">
<h3 id="Fortran"><span class="section-number-3">28.14.</span> Fortran 模式</h3>
<div class="outline-text-3" id="text-Fortran">
</div>
<div id="outline-container-Fortran-Motion" class="outline-4">
<h4 id="Fortran-Motion"><span class="section-number-4">28.14.1.</span> 移动命令</h4>
<div class="outline-text-4" id="text-Fortran-Motion">
</div>
</div>
<div id="outline-container-Fortran-Indent" class="outline-4">
<h4 id="Fortran-Indent"><span class="section-number-4">28.14.2.</span> Fortran 缩进</h4>
<div class="outline-text-4" id="text-Fortran-Indent">
</div>
<div id="outline-container-ForIndent-Commands" class="outline-5">
<h5 id="ForIndent-Commands"><span class="section-number-5">28.14.2.1.</span> Fortran 缩进与填充命令</h5>
<div class="outline-text-5" id="text-ForIndent-Commands">
</div>
</div>
<div id="outline-container-ForIndent-Cont" class="outline-5">
<h5 id="ForIndent-Cont"><span class="section-number-5">28.14.2.2.</span> 续行</h5>
<div class="outline-text-5" id="text-ForIndent-Cont">
</div>
</div>
<div id="outline-container-ForIndent-Num" class="outline-5">
<h5 id="ForIndent-Num"><span class="section-number-5">28.14.2.3.</span> 行号显示</h5>
<div class="outline-text-5" id="text-ForIndent-Num">
</div>
</div>
<div id="outline-container-ForIndent-Conv" class="outline-5">
<h5 id="ForIndent-Conv"><span class="section-number-5">28.14.2.4.</span> 语法约定</h5>
<div class="outline-text-5" id="text-ForIndent-Conv">
</div>
</div>
<div id="outline-container-ForIndent-Vars" class="outline-5">
<h5 id="ForIndent-Vars"><span class="section-number-5">28.14.2.5.</span> Fortran 缩进相关变量</h5>
<div class="outline-text-5" id="text-ForIndent-Vars">
</div>
</div>
</div>
<div id="outline-container-Fortran-Comments" class="outline-4">
<h4 id="Fortran-Comments"><span class="section-number-4">28.14.3.</span> Fortran 注释</h4>
<div class="outline-text-4" id="text-Fortran-Comments">
</div>
</div>
<div id="outline-container-Fortran-Autofill" class="outline-4">
<h4 id="Fortran-Autofill"><span class="section-number-4">28.14.4.</span> Fortran 模式下的自动填充</h4>
<div class="outline-text-4" id="text-Fortran-Autofill">
</div>
</div>
<div id="outline-container-Fortran-Columns" class="outline-4">
<h4 id="Fortran-Columns"><span class="section-number-4">28.14.5.</span> Fortran 列检查</h4>
<div class="outline-text-4" id="text-Fortran-Columns">
</div>
</div>
<div id="outline-container-Fortran-Abbrev" class="outline-4">
<h4 id="Fortran-Abbrev"><span class="section-number-4">28.14.6.</span> Fortran 关键字缩写</h4>
<div class="outline-text-4" id="text-Fortran-Abbrev">
</div>
</div>
</div>
</section>
<section id="outline-container-Building" class="outline-2">
<h2 id="Building"><span class="section-number-2">29.</span> 程序编译与测试</h2>
<div class="outline-text-2" id="text-Building">
</div>
<div id="outline-container-Compilation" class="outline-3">
<h3 id="Compilation"><span class="section-number-3">29.1.</span> 在 Emacs 中运行编译</h3>
<div class="outline-text-3" id="text-Compilation">
</div>
</div>
<div id="outline-container-Compilation-Mode" class="outline-3">
<h3 id="Compilation-Mode"><span class="section-number-3">29.2.</span> 编译模式</h3>
<div class="outline-text-3" id="text-Compilation-Mode">
</div>
</div>
<div id="outline-container-Compilation-Shell" class="outline-3">
<h3 id="Compilation-Shell"><span class="section-number-3">29.3.</span> 编译用子 shell</h3>
<div class="outline-text-3" id="text-Compilation-Shell">
</div>
</div>
<div id="outline-container-Grep-Searching" class="outline-3">
<h3 id="Grep-Searching"><span class="section-number-3">29.4.</span> 在 Emacs 中使用 Grep 搜索</h3>
<div class="outline-text-3" id="text-Grep-Searching">
</div>
</div>
<div id="outline-container-Flymake" class="outline-3">
<h3 id="Flymake"><span class="section-number-3">29.5.</span> 实时语法错误检测</h3>
<div class="outline-text-3" id="text-Flymake">
</div>
</div>
<div id="outline-container-Debuggers" class="outline-3">
<h3 id="Debuggers"><span class="section-number-3">29.6.</span> 在 Emacs 中运行调试器</h3>
<div class="outline-text-3" id="text-Debuggers">
</div>
<div id="outline-container-Starting-GUD" class="outline-4">
<h4 id="Starting-GUD"><span class="section-number-4">29.6.1.</span> 启动 GUD 调试器</h4>
<div class="outline-text-4" id="text-Starting-GUD">
</div>
</div>
<div id="outline-container-Debugger-Operation" class="outline-4">
<h4 id="Debugger-Operation"><span class="section-number-4">29.6.2.</span> 调试器操作</h4>
<div class="outline-text-4" id="text-Debugger-Operation">
</div>
</div>
<div id="outline-container-Commands-of-GUD" class="outline-4">
<h4 id="Commands-of-GUD"><span class="section-number-4">29.6.3.</span> GUD 调试器命令</h4>
<div class="outline-text-4" id="text-Commands-of-GUD">
</div>
</div>
<div id="outline-container-GUD-Customization" class="outline-4">
<h4 id="GUD-Customization"><span class="section-number-4">29.6.4.</span> GUD 调试器定制</h4>
<div class="outline-text-4" id="text-GUD-Customization">
</div>
</div>
<div id="outline-container-GDB-Graphical-Interface" class="outline-4">
<h4 id="GDB-Graphical-Interface"><span class="section-number-4">29.6.5.</span> GDB 图形界面</h4>
<div class="outline-text-4" id="text-GDB-Graphical-Interface">
</div>
<div id="outline-container-GDB-User-Interface-Layout" class="outline-5">
<h5 id="GDB-User-Interface-Layout"><span class="section-number-5">29.6.5.1.</span> GDB 图形界面布局</h5>
<div class="outline-text-5" id="text-GDB-User-Interface-Layout">
</div>
</div>
<div id="outline-container-Source-Buffers" class="outline-5">
<h5 id="Source-Buffers"><span class="section-number-5">29.6.5.2.</span> 源代码缓冲区</h5>
<div class="outline-text-5" id="text-Source-Buffers">
</div>
</div>
<div id="outline-container-Breakpoints-Buffer" class="outline-5">
<h5 id="Breakpoints-Buffer"><span class="section-number-5">29.6.5.3.</span> 断点缓冲区</h5>
<div class="outline-text-5" id="text-Breakpoints-Buffer">
</div>
</div>
<div id="outline-container-Threads-Buffer" class="outline-5">
<h5 id="Threads-Buffer"><span class="section-number-5">29.6.5.4.</span> 线程缓冲区</h5>
<div class="outline-text-5" id="text-Threads-Buffer">
</div>
</div>
<div id="outline-container-Stack-Buffer" class="outline-5">
<h5 id="Stack-Buffer"><span class="section-number-5">29.6.5.5.</span> 堆栈缓冲区</h5>
<div class="outline-text-5" id="text-Stack-Buffer">
</div>
</div>
<div id="outline-container-Other-GDB-Buffers" class="outline-5">
<h5 id="Other-GDB-Buffers"><span class="section-number-5">29.6.5.6.</span> 其他 GDB 缓冲区</h5>
<div class="outline-text-5" id="text-Other-GDB-Buffers">
</div>
</div>
<div id="outline-container-Watch-Expressions" class="outline-5">
<h5 id="Watch-Expressions"><span class="section-number-5">29.6.5.7.</span> 监视表达式</h5>
<div class="outline-text-5" id="text-Watch-Expressions">
</div>
</div>
<div id="outline-container-Multithreaded-Debugging" class="outline-5">
<h5 id="Multithreaded-Debugging"><span class="section-number-5">29.6.5.8.</span> 多线程调试</h5>
<div class="outline-text-5" id="text-Multithreaded-Debugging">
</div>
</div>
</div>
</div>
<div id="outline-container-Executing-Lisp" class="outline-3">
<h3 id="Executing-Lisp"><span class="section-number-3">29.7.</span> 执行 Lisp 表达式</h3>
<div class="outline-text-3" id="text-Executing-Lisp">
</div>
</div>
<div id="outline-container-Lisp-Libraries" class="outline-3">
<h3 id="Lisp-Libraries"><span class="section-number-3">29.8.</span> Emacs Lisp 代码库</h3>
<div class="outline-text-3" id="text-Lisp-Libraries">
</div>
</div>
<div id="outline-container-Lisp-Eval" class="outline-3">
<h3 id="Lisp-Eval"><span class="section-number-3">29.9.</span> 求值 Emacs Lisp 表达式</h3>
<div class="outline-text-3" id="text-Lisp-Eval">
</div>
</div>
<div id="outline-container-Lisp-Interaction" class="outline-3">
<h3 id="Lisp-Interaction"><span class="section-number-3">29.10.</span> Lisp 交互缓冲区</h3>
<div class="outline-text-3" id="text-Lisp-Interaction">
</div>
</div>
<div id="outline-container-External-Lisp" class="outline-3">
<h3 id="External-Lisp"><span class="section-number-3">29.11.</span> 运行外部 Lisp 解释器</h3>
<div class="outline-text-3" id="text-External-Lisp">
</div>
</div>
</section>
<section id="outline-container-Maintaining" class="outline-2">
<h2 id="Maintaining"><span class="section-number-2">30.</span> 大型程序维护</h2>
<div class="outline-text-2" id="text-Maintaining">
</div>
<div id="outline-container-Version-Control" class="outline-3">
<h3 id="Version-Control"><span class="section-number-3">30.1.</span> 版本控制</h3>
<div class="outline-text-3" id="text-Version-Control">
</div>
<div id="outline-container-Introduction-to-VC" class="outline-4">
<h4 id="Introduction-to-VC"><span class="section-number-4">30.1.1.</span> 版本控制简介</h4>
<div class="outline-text-4" id="text-Introduction-to-VC">
</div>
<div id="outline-container-Why-Version-Control_003f" class="outline-5">
<h5 id="Why-Version-Control_003f"><span class="section-number-5">30.1.1.1.</span> 理解版本控制解决的问题</h5>
<div class="outline-text-5" id="text-Why-Version-Control_003f">
</div>
</div>
<div id="outline-container-Version-Control-Systems" class="outline-5">
<h5 id="Version-Control-Systems"><span class="section-number-5">30.1.1.2.</span> 支持的版本控制系统</h5>
<div class="outline-text-5" id="text-Version-Control-Systems">
</div>
</div>
<div id="outline-container-VCS-Concepts" class="outline-5">
<h5 id="VCS-Concepts"><span class="section-number-5">30.1.1.3.</span> 版本控制的核心概念</h5>
<div class="outline-text-5" id="text-VCS-Concepts">
</div>
</div>
<div id="outline-container-VCS-Merging" class="outline-5">
<h5 id="VCS-Merging"><span class="section-number-5">30.1.1.4.</span> 基于合并与基于锁定的版本控制</h5>
<div class="outline-text-5" id="text-VCS-Merging">
</div>
</div>
<div id="outline-container-VCS-Changesets" class="outline-5">
<h5 id="VCS-Changesets"><span class="section-number-5">30.1.1.5.</span> 基于变更集与基于文件的版本控制</h5>
<div class="outline-text-5" id="text-VCS-Changesets">
</div>
</div>
<div id="outline-container-VCS-Repositories" class="outline-5">
<h5 id="VCS-Repositories"><span class="section-number-5">30.1.1.6.</span> 分布式与集中式代码仓库</h5>
<div class="outline-text-5" id="text-VCS-Repositories">
</div>
</div>
<div id="outline-container-Types-of-Log-File" class="outline-5">
<h5 id="Types-of-Log-File"><span class="section-number-5">30.1.1.7.</span> 日志文件类型</h5>
<div class="outline-text-5" id="text-Types-of-Log-File">
</div>
</div>
</div>
<div id="outline-container-VC-Mode-Line" class="outline-4">
<h4 id="VC-Mode-Line"><span class="section-number-4">30.1.2.</span> 版本控制与模式行</h4>
<div class="outline-text-4" id="text-VC-Mode-Line">
</div>
</div>
<div id="outline-container-Basic-VC-Editing" class="outline-4">
<h4 id="Basic-VC-Editing"><span class="section-number-4">30.1.3.</span> 版本控制下的基本编辑</h4>
<div class="outline-text-4" id="text-Basic-VC-Editing">
</div>
<div id="outline-container-VC-With-A-Merging-VCS" class="outline-5">
<h5 id="VC-With-A-Merging-VCS"><span class="section-number-5">30.1.3.1.</span> 基于合并的基本版本控制</h5>
<div class="outline-text-5" id="text-VC-With-A-Merging-VCS">
</div>
</div>
<div id="outline-container-VC-With-A-Locking-VCS" class="outline-5">
<h5 id="VC-With-A-Locking-VCS"><span class="section-number-5">30.1.3.2.</span> 基于锁定的基本版本控制</h5>
<div class="outline-text-5" id="text-VC-With-A-Locking-VCS">
</div>
</div>
<div id="outline-container-Advanced-C_002dx-v-v" class="outline-5">
<h5 id="Advanced-C_002dx-v-v"><span class="section-number-5">30.1.3.3.</span> C-x v v 中的高级控制</h5>
<div class="outline-text-5" id="text-Advanced-C_002dx-v-v">
</div>
</div>
</div>
<div id="outline-container-Log-Buffer" class="outline-4">
<h4 id="Log-Buffer"><span class="section-number-4">30.1.4.</span> 日志条目缓冲区的功能</h4>
<div class="outline-text-4" id="text-Log-Buffer">
</div>
</div>
<div id="outline-container-Registering" class="outline-4">
<h4 id="Registering"><span class="section-number-4">30.1.5.</span> 为文件注册版本控制</h4>
<div class="outline-text-4" id="text-Registering">
</div>
</div>
<div id="outline-container-Old-Revisions" class="outline-4">
<h4 id="Old-Revisions"><span class="section-number-4">30.1.6.</span> 查看与比较旧版本</h4>
<div class="outline-text-4" id="text-Old-Revisions">
</div>
</div>
<div id="outline-container-VC-Change-Log" class="outline-4">
<h4 id="VC-Change-Log"><span class="section-number-4">30.1.7.</span> 版本控制变更日志</h4>
<div class="outline-text-4" id="text-VC-Change-Log">
</div>
</div>
<div id="outline-container-VC-Undo" class="outline-4">
<h4 id="VC-Undo"><span class="section-number-4">30.1.8.</span> 撤销版本控制操作</h4>
<div class="outline-text-4" id="text-VC-Undo">
</div>
</div>
<div id="outline-container-VC-Ignore" class="outline-4">
<h4 id="VC-Ignore"><span class="section-number-4">30.1.9.</span> 忽略版本控制文件</h4>
<div class="outline-text-4" id="text-VC-Ignore">
</div>
</div>
<div id="outline-container-VC-Directory-Mode" class="outline-4">
<h4 id="VC-Directory-Mode"><span class="section-number-4">30.1.10.</span> 版本控制目录模式</h4>
<div class="outline-text-4" id="text-VC-Directory-Mode">
</div>
<div id="outline-container-VC-Directory-Buffer" class="outline-5">
<h5 id="VC-Directory-Buffer"><span class="section-number-5">30.1.10.1.</span> 版本控制目录缓冲区</h5>
<div class="outline-text-5" id="text-VC-Directory-Buffer">
</div>
</div>
<div id="outline-container-VC-Directory-Commands" class="outline-5">
<h5 id="VC-Directory-Commands"><span class="section-number-5">30.1.10.2.</span> 版本控制目录命令</h5>
<div class="outline-text-5" id="text-VC-Directory-Commands">
</div>
</div>
</div>
<div id="outline-container-Branches" class="outline-4">
<h4 id="Branches"><span class="section-number-4">30.1.11.</span> 版本控制分支</h4>
<div class="outline-text-4" id="text-Branches">
</div>
<div id="outline-container-Switching-Branches" class="outline-5">
<h5 id="Switching-Branches"><span class="section-number-5">30.1.11.1.</span> 分支切换</h5>
<div class="outline-text-5" id="text-Switching-Branches">
</div>
</div>
<div id="outline-container-Pulling-_002f-Pushing" class="outline-5">
<h5 id="Pulling-_002f-Pushing"><span class="section-number-5">30.1.11.2.</span> 分支间的变更拉取 / 推送</h5>
<div class="outline-text-5" id="text-Pulling-_002f-Pushing">
</div>
</div>
<div id="outline-container-Merging" class="outline-5">
<h5 id="Merging"><span class="section-number-5">30.1.11.3.</span> 分支合并</h5>
<div class="outline-text-5" id="text-Merging">
</div>
</div>
<div id="outline-container-Creating-Branches" class="outline-5">
<h5 id="Creating-Branches"><span class="section-number-5">30.1.11.4.</span> 新建分支</h5>
<div class="outline-text-5" id="text-Creating-Branches">
</div>
</div>
</div>
<div id="outline-container-Miscellaneous-VC" class="outline-4">
<h4 id="Miscellaneous-VC"><span class="section-number-4">30.1.12.</span> 版本控制的杂项命令与功能</h4>
<div class="outline-text-4" id="text-Miscellaneous-VC">
</div>
<div id="outline-container-Change-Logs-and-VC" class="outline-5">
<h5 id="Change-Logs-and-VC"><span class="section-number-5">30.1.12.1.</span> 变更日志与版本控制</h5>
<div class="outline-text-5" id="text-Change-Logs-and-VC">
</div>
</div>
<div id="outline-container-VC-Delete_002fRename" class="outline-5">
<h5 id="VC-Delete_002fRename"><span class="section-number-5">30.1.12.2.</span> 删除与重命名版本控制文件</h5>
<div class="outline-text-5" id="text-VC-Delete_002fRename">
</div>
</div>
<div id="outline-container-Revision-Tags" class="outline-5">
<h5 id="Revision-Tags"><span class="section-number-5">30.1.12.3.</span> 版本标签</h5>
<div class="outline-text-5" id="text-Revision-Tags">
</div>
</div>
<div id="outline-container-Version-Headers" class="outline-5">
<h5 id="Version-Headers"><span class="section-number-5">30.1.12.4.</span> 插入版本控制头信息</h5>
<div class="outline-text-5" id="text-Version-Headers">
</div>
</div>
<div id="outline-container-Editing-VC-Commands" class="outline-5">
<h5 id="Editing-VC-Commands"><span class="section-number-5">30.1.12.5.</span> 编辑版本控制命令</h5>
<div class="outline-text-5" id="text-Editing-VC-Commands">
</div>
</div>
<div id="outline-container-Preparing-Patches" class="outline-5">
<h5 id="Preparing-Patches"><span class="section-number-5">30.1.12.6.</span> 准备补丁文件</h5>
<div class="outline-text-5" id="text-Preparing-Patches">
</div>
</div>
</div>
<div id="outline-container-Customizing-VC" class="outline-4">
<h4 id="Customizing-VC"><span class="section-number-4">30.1.13.</span> 定制版本控制</h4>
<div class="outline-text-4" id="text-Customizing-VC">
</div>
<div id="outline-container-General-VC-Options" class="outline-5">
<h5 id="General-VC-Options"><span class="section-number-5">30.1.13.1.</span> 通用选项</h5>
<div class="outline-text-5" id="text-General-VC-Options">
</div>
</div>
<div id="outline-container-RCS-and-SCCS" class="outline-5">
<h5 id="RCS-and-SCCS"><span class="section-number-5">30.1.13.2.</span> RCS 与 SCCS 相关选项</h5>
<div class="outline-text-5" id="text-RCS-and-SCCS">
</div>
</div>
<div id="outline-container-CVS-Options" class="outline-5">
<h5 id="CVS-Options"><span class="section-number-5">30.1.13.3.</span> CVS 专用选项</h5>
<div class="outline-text-5" id="text-CVS-Options">
</div>
</div>
</div>
</div>
<div id="outline-container-Projects" class="outline-3">
<h3 id="Projects"><span class="section-number-3">30.2.</span> 项目管理</h3>
<div class="outline-text-3" id="text-Projects">
</div>
<div id="outline-container-Project-File-Commands" class="outline-4">
<h4 id="Project-File-Commands"><span class="section-number-4">30.2.1.</span> 作用于文件的项目命令</h4>
<div class="outline-text-4" id="text-Project-File-Commands">
</div>
</div>
<div id="outline-container-Project-Buffer-Commands" class="outline-4">
<h4 id="Project-Buffer-Commands"><span class="section-number-4">30.2.2.</span> 作用于缓冲区的项目命令</h4>
<div class="outline-text-4" id="text-Project-Buffer-Commands">
</div>
</div>
<div id="outline-container-Switching-Projects" class="outline-4">
<h4 id="Switching-Projects"><span class="section-number-4">30.2.3.</span> 项目切换</h4>
<div class="outline-text-4" id="text-Switching-Projects">
</div>
</div>
<div id="outline-container-Managing-Projects" class="outline-4">
<h4 id="Managing-Projects"><span class="section-number-4">30.2.4.</span> 项目列表文件管理</h4>
<div class="outline-text-4" id="text-Managing-Projects">
</div>
</div>
</div>
<div id="outline-container-Change-Log" class="outline-3">
<h3 id="Change-Log"><span class="section-number-3">30.3.</span> 变更日志</h3>
<div class="outline-text-3" id="text-Change-Log">
</div>
<div id="outline-container-Change-Log-Commands" class="outline-4">
<h4 id="Change-Log-Commands"><span class="section-number-4">30.3.1.</span> 变更日志命令</h4>
<div class="outline-text-4" id="text-Change-Log-Commands">
</div>
</div>
<div id="outline-container-Format-of-ChangeLog" class="outline-4">
<h4 id="Format-of-ChangeLog"><span class="section-number-4">30.3.2.</span> 变更日志格式</h4>
<div class="outline-text-4" id="text-Format-of-ChangeLog">
</div>
</div>
</div>
<div id="outline-container-Xref" class="outline-3">
<h3 id="Xref"><span class="section-number-3">30.4.</span> 查找标识符引用</h3>
<div class="outline-text-3" id="text-Xref">
</div>
<div id="outline-container-Find-Identifiers" class="outline-4">
<h4 id="Find-Identifiers"><span class="section-number-4">30.4.1.</span> 查找标识符</h4>
<div class="outline-text-4" id="text-Find-Identifiers">
</div>
<div id="outline-container-Looking-Up-Identifiers" class="outline-5">
<h5 id="Looking-Up-Identifiers"><span class="section-number-5">30.4.1.1.</span> 标识符查阅</h5>
<div class="outline-text-5" id="text-Looking-Up-Identifiers">
</div>
</div>
<div id="outline-container-Xref-Commands" class="outline-5">
<h5 id="Xref-Commands"><span class="section-number-5">30.4.1.2.</span> xref 缓冲区中的可用命令</h5>
<div class="outline-text-5" id="text-Xref-Commands">
</div>
</div>
<div id="outline-container-Identifier-Search" class="outline-5">
<h5 id="Identifier-Search"><span class="section-number-5">30.4.1.3.</span> 基于标识符的搜索与替换</h5>
<div class="outline-text-5" id="text-Identifier-Search">
</div>
</div>
<div id="outline-container-List-Identifiers" class="outline-5">
<h5 id="List-Identifiers"><span class="section-number-5">30.4.1.4.</span> 标识符查询</h5>
<div class="outline-text-5" id="text-List-Identifiers">
</div>
</div>
</div>
<div id="outline-container-Tags-Tables" class="outline-4">
<h4 id="Tags-Tables"><span class="section-number-4">30.4.2.</span> 标签表</h4>
<div class="outline-text-4" id="text-Tags-Tables">
</div>
<div id="outline-container-Tag-Syntax" class="outline-5">
<h5 id="Tag-Syntax"><span class="section-number-5">30.4.2.1.</span> 源文件标签语法</h5>
<div class="outline-text-5" id="text-Tag-Syntax">
</div>
</div>
<div id="outline-container-Create-Tags-Table" class="outline-5">
<h5 id="Create-Tags-Table"><span class="section-number-5">30.4.2.2.</span> 创建标签表</h5>
<div class="outline-text-5" id="text-Create-Tags-Table">
</div>
</div>
<div id="outline-container-Etags-Regexps" class="outline-5">
<h5 id="Etags-Regexps"><span class="section-number-5">30.4.2.3.</span> Etags 正则表达式</h5>
<div class="outline-text-5" id="text-Etags-Regexps">
</div>
</div>
</div>
<div id="outline-container-Select-Tags-Table" class="outline-4">
<h4 id="Select-Tags-Table"><span class="section-number-4">30.4.3.</span> 选择标签表</h4>
<div class="outline-text-4" id="text-Select-Tags-Table">
</div>
</div>
</div>
<div id="outline-container-EDE" class="outline-3">
<h3 id="EDE"><span class="section-number-3">30.5.</span> Emacs 开发环境</h3>
<div class="outline-text-3" id="text-EDE">
</div>
</div>
<div id="outline-container-Emerge" class="outline-3">
<h3 id="Emerge"><span class="section-number-3">30.6.</span> 使用 Emerge 合并文件</h3>
<div class="outline-text-3" id="text-Emerge">
</div>
<div id="outline-container-Overview-of-Emerge" class="outline-4">
<h4 id="Overview-of-Emerge"><span class="section-number-4">30.6.1.</span> Emerge 概述</h4>
<div class="outline-text-4" id="text-Overview-of-Emerge">
</div>
</div>
<div id="outline-container-Submodes-of-Emerge" class="outline-4">
<h4 id="Submodes-of-Emerge"><span class="section-number-4">30.6.2.</span> Emerge 的子模式</h4>
<div class="outline-text-4" id="text-Submodes-of-Emerge">
</div>
</div>
<div id="outline-container-State-of-Difference" class="outline-4">
<h4 id="State-of-Difference"><span class="section-number-4">30.6.3.</span> 差异状态</h4>
<div class="outline-text-4" id="text-State-of-Difference">
</div>
</div>
<div id="outline-container-Merge-Commands" class="outline-4">
<h4 id="Merge-Commands"><span class="section-number-4">30.6.4.</span> 合并命令</h4>
<div class="outline-text-4" id="text-Merge-Commands">
</div>
</div>
<div id="outline-container-Exiting-Emerge" class="outline-4">
<h4 id="Exiting-Emerge"><span class="section-number-4">30.6.5.</span> 退出 Emerge</h4>
<div class="outline-text-4" id="text-Exiting-Emerge">
</div>
</div>
<div id="outline-container-Combining-in-Emerge" class="outline-4">
<h4 id="Combining-in-Emerge"><span class="section-number-4">30.6.6.</span> 合并两个版本的内容</h4>
<div class="outline-text-4" id="text-Combining-in-Emerge">
</div>
</div>
<div id="outline-container-Fine-Points-of-Emerge" class="outline-4">
<h4 id="Fine-Points-of-Emerge"><span class="section-number-4">30.6.7.</span> Emerge 的细节要点</h4>
<div class="outline-text-4" id="text-Fine-Points-of-Emerge">
</div>
</div>
</div>
<div id="outline-container-Bug-Reference" class="outline-3">
<h3 id="Bug-Reference"><span class="section-number-3">30.7.</span> 漏洞引用</h3>
<div class="outline-text-3" id="text-Bug-Reference">
</div>
</div>
</section>
<section id="outline-container-Abbrevs" class="outline-2">
<h2 id="Abbrevs"><span class="section-number-2">31.</span> 缩写</h2>
<div class="outline-text-2" id="text-Abbrevs">
</div>
<div id="outline-container-Abbrev-Concepts" class="outline-3">
<h3 id="Abbrev-Concepts"><span class="section-number-3">31.1.</span> 缩写概念</h3>
<div class="outline-text-3" id="text-Abbrev-Concepts">
</div>
</div>
<div id="outline-container-Defining-Abbrevs" class="outline-3">
<h3 id="Defining-Abbrevs"><span class="section-number-3">31.2.</span> 定义缩写</h3>
<div class="outline-text-3" id="text-Defining-Abbrevs">
</div>
</div>
<div id="outline-container-Expanding-Abbrevs" class="outline-3">
<h3 id="Expanding-Abbrevs"><span class="section-number-3">31.3.</span> 控制缩写展开</h3>
<div class="outline-text-3" id="text-Expanding-Abbrevs">
</div>
</div>
<div id="outline-container-Abbrevs-Suggestions" class="outline-3">
<h3 id="Abbrevs-Suggestions"><span class="section-number-3">31.4.</span> 缩写建议</h3>
<div class="outline-text-3" id="text-Abbrevs-Suggestions">
</div>
</div>
<div id="outline-container-Editing-Abbrevs" class="outline-3">
<h3 id="Editing-Abbrevs"><span class="section-number-3">31.5.</span> 查看与编辑缩写</h3>
<div class="outline-text-3" id="text-Editing-Abbrevs">
</div>
</div>
<div id="outline-container-Saving-Abbrevs" class="outline-3">
<h3 id="Saving-Abbrevs"><span class="section-number-3">31.6.</span> 保存缩写</h3>
<div class="outline-text-3" id="text-Saving-Abbrevs">
</div>
</div>
<div id="outline-container-Dynamic-Abbrevs" class="outline-3">
<h3 id="Dynamic-Abbrevs"><span class="section-number-3">31.7.</span> 动态缩写展开</h3>
<div class="outline-text-3" id="text-Dynamic-Abbrevs">
</div>
</div>
<div id="outline-container-Dabbrev-Customization" class="outline-3">
<h3 id="Dabbrev-Customization"><span class="section-number-3">31.8.</span> 定制动态缩写</h3>
<div class="outline-text-3" id="text-Dabbrev-Customization">
</div>
</div>
</section>
<section id="outline-container-Dired" class="outline-2">
<h2 id="Dired"><span class="section-number-2">32.</span> 目录编辑器（Dired）</h2>
<div class="outline-text-2" id="text-Dired">
</div>
<div id="outline-container-Dired-Enter" class="outline-3">
<h3 id="Dired-Enter"><span class="section-number-3">32.1.</span> 进入目录编辑器</h3>
<div class="outline-text-3" id="text-Dired-Enter">
</div>
</div>
<div id="outline-container-Dired-Navigation" class="outline-3">
<h3 id="Dired-Navigation"><span class="section-number-3">32.2.</span> 目录编辑器缓冲区中的导航</h3>
<div class="outline-text-3" id="text-Dired-Navigation">
</div>
</div>
<div id="outline-container-Dired-Deletion" class="outline-3">
<h3 id="Dired-Deletion"><span class="section-number-3">32.3.</span> 用目录编辑器删除文件</h3>
<div class="outline-text-3" id="text-Dired-Deletion">
</div>
</div>
<div id="outline-container-Flagging-Many-Files" class="outline-3">
<h3 id="Flagging-Many-Files"><span class="section-number-3">32.4.</span> 批量标记多个文件</h3>
<div class="outline-text-3" id="text-Flagging-Many-Files">
</div>
</div>
<div id="outline-container-Dired-Visiting" class="outline-3">
<h3 id="Dired-Visiting"><span class="section-number-3">32.5.</span> 在目录编辑器中打开文件</h3>
<div class="outline-text-3" id="text-Dired-Visiting">
</div>
</div>
<div id="outline-container-Marks-vs-Flags" class="outline-3">
<h3 id="Marks-vs-Flags"><span class="section-number-3">32.6.</span> 目录编辑器中的标记与标记符</h3>
<div class="outline-text-3" id="text-Marks-vs-Flags">
</div>
</div>
<div id="outline-container-Operating-on-Files" class="outline-3">
<h3 id="Operating-on-Files"><span class="section-number-3">32.7.</span> 对文件执行操作</h3>
<div class="outline-text-3" id="text-Operating-on-Files">
</div>
</div>
<div id="outline-container-Shell-Commands-in-Dired" class="outline-3">
<h3 id="Shell-Commands-in-Dired"><span class="section-number-3">32.8.</span> 目录编辑器中的 Shell 命令</h3>
<div class="outline-text-3" id="text-Shell-Commands-in-Dired">
</div>
</div>
<div id="outline-container-Shell-Command-Guessing" class="outline-3">
<h3 id="Shell-Command-Guessing"><span class="section-number-3">32.9.</span> Shell 命令猜测</h3>
<div class="outline-text-3" id="text-Shell-Command-Guessing">
</div>
</div>
<div id="outline-container-Transforming-File-Names" class="outline-3">
<h3 id="Transforming-File-Names"><span class="section-number-3">32.10.</span> 目录编辑器中的文件名转换</h3>
<div class="outline-text-3" id="text-Transforming-File-Names">
</div>
</div>
<div id="outline-container-Comparison-in-Dired" class="outline-3">
<h3 id="Comparison-in-Dired"><span class="section-number-3">32.11.</span> 目录编辑器中的文件比较</h3>
<div class="outline-text-3" id="text-Comparison-in-Dired">
</div>
</div>
<div id="outline-container-Subdirectories-in-Dired" class="outline-3">
<h3 id="Subdirectories-in-Dired"><span class="section-number-3">32.12.</span> 目录编辑器中的子目录</h3>
<div class="outline-text-3" id="text-Subdirectories-in-Dired">
</div>
</div>
<div id="outline-container-Subdir-Switches" class="outline-3">
<h3 id="Subdir-Switches"><span class="section-number-3">32.13.</span> 目录编辑器中的子目录开关</h3>
<div class="outline-text-3" id="text-Subdir-Switches">
</div>
</div>
<div id="outline-container-Subdirectory-Motion" class="outline-3">
<h3 id="Subdirectory-Motion"><span class="section-number-3">32.14.</span> 在子目录间移动</h3>
<div class="outline-text-3" id="text-Subdirectory-Motion">
</div>
</div>
<div id="outline-container-Hiding-Subdirectories" class="outline-3">
<h3 id="Hiding-Subdirectories"><span class="section-number-3">32.15.</span> 隐藏子目录</h3>
<div class="outline-text-3" id="text-Hiding-Subdirectories">
</div>
</div>
<div id="outline-container-Dired-Updating" class="outline-3">
<h3 id="Dired-Updating"><span class="section-number-3">32.16.</span> 更新目录编辑器缓冲区</h3>
<div class="outline-text-3" id="text-Dired-Updating">
</div>
</div>
<div id="outline-container-Dired-and-Find" class="outline-3">
<h3 id="Dired-and-Find"><span class="section-number-3">32.17.</span> 目录编辑器与 find 命令</h3>
<div class="outline-text-3" id="text-Dired-and-Find">
</div>
</div>
<div id="outline-container-Wdired" class="outline-3">
<h3 id="Wdired"><span class="section-number-3">32.18.</span> 编辑目录编辑器缓冲区</h3>
<div class="outline-text-3" id="text-Wdired">
</div>
</div>
<div id="outline-container-Image_002dDired" class="outline-3">
<h3 id="Image_002dDired"><span class="section-number-3">32.19.</span> 在目录编辑器中查看图片缩略图</h3>
<div class="outline-text-3" id="text-Image_002dDired">
</div>
</div>
<div id="outline-container-Misc-Dired-Features" class="outline-3">
<h3 id="Misc-Dired-Features"><span class="section-number-3">32.20.</span> 目录编辑器的其他功能</h3>
<div class="outline-text-3" id="text-Misc-Dired-Features">
</div>
</div>
</section>
<section id="outline-container-Calendar_002fDiary" class="outline-2">
<h2 id="Calendar_002fDiary"><span class="section-number-2">33.</span> 日历与日记</h2>
<div class="outline-text-2" id="text-Calendar_002fDiary">
</div>
<div id="outline-container-Calendar-Motion" class="outline-3">
<h3 id="Calendar-Motion"><span class="section-number-3">33.1.</span> 日历中的移动</h3>
<div class="outline-text-3" id="text-Calendar-Motion">
</div>
<div id="outline-container-Calendar-Unit-Motion" class="outline-4">
<h4 id="Calendar-Unit-Motion"><span class="section-number-4">33.1.1.</span> 按标准时间长度移动</h4>
<div class="outline-text-4" id="text-Calendar-Unit-Motion">
</div>
</div>
<div id="outline-container-Move-to-Beginning-or-End" class="outline-4">
<h4 id="Move-to-Beginning-or-End"><span class="section-number-4">33.1.2.</span> 星期、月份或年份的起始与结束</h4>
<div class="outline-text-4" id="text-Move-to-Beginning-or-End">
</div>
</div>
<div id="outline-container-Specified-Dates" class="outline-4">
<h4 id="Specified-Dates"><span class="section-number-4">33.1.3.</span> 指定日期跳转</h4>
<div class="outline-text-4" id="text-Specified-Dates">
</div>
</div>
</div>
<div id="outline-container-Scroll-Calendar" class="outline-3">
<h3 id="Scroll-Calendar"><span class="section-number-3">33.2.</span> 日历滚动</h3>
<div class="outline-text-3" id="text-Scroll-Calendar">
</div>
</div>
<div id="outline-container-Counting-Days" class="outline-3">
<h3 id="Counting-Days"><span class="section-number-3">33.3.</span> 天数计算</h3>
<div class="outline-text-3" id="text-Counting-Days">
</div>
</div>
<div id="outline-container-General-Calendar" class="outline-3">
<h3 id="General-Calendar"><span class="section-number-3">33.4.</span> 日历杂项命令</h3>
<div class="outline-text-3" id="text-General-Calendar">
</div>
</div>
<div id="outline-container-Writing-Calendar-Files" class="outline-3">
<h3 id="Writing-Calendar-Files"><span class="section-number-3">33.5.</span> 编写日历文件</h3>
<div class="outline-text-3" id="text-Writing-Calendar-Files">
</div>
</div>
<div id="outline-container-Holidays" class="outline-3">
<h3 id="Holidays"><span class="section-number-3">33.6.</span> 节假日显示</h3>
<div class="outline-text-3" id="text-Holidays">
</div>
</div>
<div id="outline-container-Sunrise_002fSunset" class="outline-3">
<h3 id="Sunrise_002fSunset"><span class="section-number-3">33.7.</span> 日出日落时间</h3>
<div class="outline-text-3" id="text-Sunrise_002fSunset">
</div>
</div>
<div id="outline-container-Lunar-Phases" class="outline-3">
<h3 id="Lunar-Phases"><span class="section-number-3">33.8.</span> 月相显示</h3>
<div class="outline-text-3" id="text-Lunar-Phases">
</div>
</div>
<div id="outline-container-Other-Calendars" class="outline-3">
<h3 id="Other-Calendars"><span class="section-number-3">33.9.</span> 与其他日历系统的转换</h3>
<div class="outline-text-3" id="text-Other-Calendars">
</div>
<div id="outline-container-Calendar-Systems" class="outline-4">
<h4 id="Calendar-Systems"><span class="section-number-4">33.9.1.</span> 支持的日历系统</h4>
<div class="outline-text-4" id="text-Calendar-Systems">
</div>
</div>
<div id="outline-container-To-Other-Calendar" class="outline-4">
<h4 id="To-Other-Calendar"><span class="section-number-4">33.9.2.</span> 转换到其他日历系统</h4>
<div class="outline-text-4" id="text-To-Other-Calendar">
</div>
</div>
<div id="outline-container-From-Other-Calendar" class="outline-4">
<h4 id="From-Other-Calendar"><span class="section-number-4">33.9.3.</span> 从其他日历系统转换</h4>
<div class="outline-text-4" id="text-From-Other-Calendar">
</div>
</div>
</div>
<div id="outline-container-Diary" class="outline-3">
<h3 id="Diary"><span class="section-number-3">33.10.</span> 日记</h3>
<div class="outline-text-3" id="text-Diary">
</div>
<div id="outline-container-Format-of-Diary-File" class="outline-4">
<h4 id="Format-of-Diary-File"><span class="section-number-4">33.10.1.</span> 日记文件</h4>
<div class="outline-text-4" id="text-Format-of-Diary-File">
</div>
</div>
<div id="outline-container-Displaying-the-Diary" class="outline-4">
<h4 id="Displaying-the-Diary"><span class="section-number-4">33.10.2.</span> 显示日记</h4>
<div class="outline-text-4" id="text-Displaying-the-Diary">
</div>
</div>
<div id="outline-container-Date-Formats" class="outline-4">
<h4 id="Date-Formats"><span class="section-number-4">33.10.3.</span> 日期格式</h4>
<div class="outline-text-4" id="text-Date-Formats">
</div>
</div>
<div id="outline-container-Adding-to-Diary" class="outline-4">
<h4 id="Adding-to-Diary"><span class="section-number-4">33.10.4.</span> 添加日记条目的命令</h4>
<div class="outline-text-4" id="text-Adding-to-Diary">
</div>
</div>
<div id="outline-container-Special-Diary-Entries" class="outline-4">
<h4 id="Special-Diary-Entries"><span class="section-number-4">33.10.5.</span> 特殊日记条目</h4>
<div class="outline-text-4" id="text-Special-Diary-Entries">
</div>
</div>
<div id="outline-container-Appointments" class="outline-4">
<h4 id="Appointments"><span class="section-number-4">33.10.6.</span> 约会提醒</h4>
<div class="outline-text-4" id="text-Appointments">
</div>
</div>
<div id="outline-container-Importing-Diary" class="outline-4">
<h4 id="Importing-Diary"><span class="section-number-4">33.10.7.</span> 日记条目的导入与导出</h4>
<div class="outline-text-4" id="text-Importing-Diary">
</div>
</div>
</div>
<div id="outline-container-Daylight-Saving" class="outline-3">
<h3 id="Daylight-Saving"><span class="section-number-3">33.11.</span> 夏令时</h3>
<div class="outline-text-3" id="text-Daylight-Saving">
</div>
</div>
<div id="outline-container-Time-Intervals" class="outline-3">
<h3 id="Time-Intervals"><span class="section-number-3">33.12.</span> 时间间隔求和</h3>
<div class="outline-text-3" id="text-Time-Intervals">
</div>
</div>
<div id="outline-container-Advanced-Calendar_002fDiary-Usage" class="outline-3">
<h3 id="Advanced-Calendar_002fDiary-Usage"><span class="section-number-3">33.13.</span> 日历与日记的高级功能</h3>
<div class="outline-text-3" id="text-Advanced-Calendar_002fDiary-Usage">
</div>
<div id="outline-container-Calendar-Customizing" class="outline-4">
<h4 id="Calendar-Customizing"><span class="section-number-4">33.13.1.</span> 定制日历</h4>
<div class="outline-text-4" id="text-Calendar-Customizing">
</div>
</div>
<div id="outline-container-Holiday-Customizing" class="outline-4">
<h4 id="Holiday-Customizing"><span class="section-number-4">33.13.2.</span> 定制节假日</h4>
<div class="outline-text-4" id="text-Holiday-Customizing">
</div>
</div>
<div id="outline-container-Mayan-Calendar" class="outline-4">
<h4 id="Mayan-Calendar"><span class="section-number-4">33.13.3.</span> 玛雅日历转换</h4>
<div class="outline-text-4" id="text-Mayan-Calendar">
</div>
</div>
<div id="outline-container-Date-Display-Format" class="outline-4">
<h4 id="Date-Display-Format"><span class="section-number-4">33.13.4.</span> 日期显示格式</h4>
<div class="outline-text-4" id="text-Date-Display-Format">
</div>
</div>
<div id="outline-container-Time-Display-Format" class="outline-4">
<h4 id="Time-Display-Format"><span class="section-number-4">33.13.5.</span> 时间显示格式</h4>
<div class="outline-text-4" id="text-Time-Display-Format">
</div>
</div>
<div id="outline-container-Diary-Customizing" class="outline-4">
<h4 id="Diary-Customizing"><span class="section-number-4">33.13.6.</span> 定制日记</h4>
<div class="outline-text-4" id="text-Diary-Customizing">
</div>
</div>
<div id="outline-container-Non_002dGregorian-Diary" class="outline-4">
<h4 id="Non_002dGregorian-Diary"><span class="section-number-4">33.13.7.</span> 使用非公历的日记条目</h4>
<div class="outline-text-4" id="text-Non_002dGregorian-Diary">
</div>
</div>
<div id="outline-container-Diary-Display" class="outline-4">
<h4 id="Diary-Display"><span class="section-number-4">33.13.8.</span> 日记显示</h4>
<div class="outline-text-4" id="text-Diary-Display">
</div>
</div>
<div id="outline-container-Fancy-Diary-Display" class="outline-4">
<h4 id="Fancy-Diary-Display"><span class="section-number-4">33.13.9.</span> 高级日记显示</h4>
<div class="outline-text-4" id="text-Fancy-Diary-Display">
</div>
</div>
<div id="outline-container-Sexp-Diary-Entries" class="outline-4">
<h4 id="Sexp-Diary-Entries"><span class="section-number-4">33.13.10.</span> Sexp 条目与高级日记显示</h4>
<div class="outline-text-4" id="text-Sexp-Diary-Entries">
</div>
</div>
</div>
</section>
<section id="outline-container-Sending-Mail" class="outline-2">
<h2 id="Sending-Mail"><span class="section-number-2">34.</span> 发送邮件</h2>
<div class="outline-text-2" id="text-Sending-Mail">
</div>
<div id="outline-container-Mail-Format" class="outline-3">
<h3 id="Mail-Format"><span class="section-number-3">34.1.</span> 邮件缓冲区格式</h3>
<div class="outline-text-3" id="text-Mail-Format">
</div>
</div>
<div id="outline-container-Mail-Headers" class="outline-3">
<h3 id="Mail-Headers"><span class="section-number-3">34.2.</span> 邮件头字段</h3>
<div class="outline-text-3" id="text-Mail-Headers">
</div>
</div>
<div id="outline-container-Mail-Aliases" class="outline-3">
<h3 id="Mail-Aliases"><span class="section-number-3">34.3.</span> 邮件别名</h3>
<div class="outline-text-3" id="text-Mail-Aliases">
</div>
</div>
<div id="outline-container-Mail-Commands" class="outline-3">
<h3 id="Mail-Commands"><span class="section-number-3">34.4.</span> 邮件命令</h3>
<div class="outline-text-3" id="text-Mail-Commands">
</div>
<div id="outline-container-Mail-Sending" class="outline-4">
<h4 id="Mail-Sending"><span class="section-number-4">34.4.1.</span> 邮件发送</h4>
<div class="outline-text-4" id="text-Mail-Sending">
</div>
</div>
<div id="outline-container-Header-Editing" class="outline-4">
<h4 id="Header-Editing"><span class="section-number-4">34.4.2.</span> 邮件头编辑</h4>
<div class="outline-text-4" id="text-Header-Editing">
</div>
</div>
<div id="outline-container-Citing-Mail" class="outline-4">
<h4 id="Citing-Mail"><span class="section-number-4">34.4.3.</span> 邮件引用</h4>
<div class="outline-text-4" id="text-Citing-Mail">
</div>
</div>
<div id="outline-container-Mail-Misc" class="outline-4">
<h4 id="Mail-Misc"><span class="section-number-4">34.4.4.</span> 邮件杂项功能</h4>
<div class="outline-text-4" id="text-Mail-Misc">
</div>
</div>
</div>
<div id="outline-container-Mail-Signature" class="outline-3">
<h3 id="Mail-Signature"><span class="section-number-3">34.5.</span> 邮件签名</h3>
<div class="outline-text-3" id="text-Mail-Signature">
</div>
</div>
<div id="outline-container-Mail-Amusements" class="outline-3">
<h3 id="Mail-Amusements"><span class="section-number-3">34.6.</span> 邮件娱乐功能</h3>
<div class="outline-text-3" id="text-Mail-Amusements">
</div>
</div>
<div id="outline-container-Mail-Methods" class="outline-3">
<h3 id="Mail-Methods"><span class="section-number-3">34.7.</span> 邮件撰写方式</h3>
<div class="outline-text-3" id="text-Mail-Methods">
</div>
</div>
</section>
<section id="outline-container-Rmail" class="outline-2">
<h2 id="Rmail"><span class="section-number-2">35.</span> 使用 Rmail 阅读邮件</h2>
<div class="outline-text-2" id="text-Rmail">
</div>
<div id="outline-container-Rmail-Basics" class="outline-3">
<h3 id="Rmail-Basics"><span class="section-number-3">35.1.</span> Rmail 基本概念</h3>
<div class="outline-text-3" id="text-Rmail-Basics">
</div>
</div>
<div id="outline-container-Rmail-Scrolling" class="outline-3">
<h3 id="Rmail-Scrolling"><span class="section-number-3">35.2.</span> 邮件内滚动</h3>
<div class="outline-text-3" id="text-Rmail-Scrolling">
</div>
</div>
<div id="outline-container-Rmail-Motion" class="outline-3">
<h3 id="Rmail-Motion"><span class="section-number-3">35.3.</span> 邮件间移动</h3>
<div class="outline-text-3" id="text-Rmail-Motion">
</div>
</div>
<div id="outline-container-Rmail-Deletion" class="outline-3">
<h3 id="Rmail-Deletion"><span class="section-number-3">35.4.</span> 删除邮件</h3>
<div class="outline-text-3" id="text-Rmail-Deletion">
</div>
</div>
<div id="outline-container-Rmail-Inbox" class="outline-3">
<h3 id="Rmail-Inbox"><span class="section-number-3">35.5.</span> Rmail 文件与收件箱</h3>
<div class="outline-text-3" id="text-Rmail-Inbox">
</div>
</div>
<div id="outline-container-Rmail-Files" class="outline-3">
<h3 id="Rmail-Files"><span class="section-number-3">35.6.</span> 多个 Rmail 文件</h3>
<div class="outline-text-3" id="text-Rmail-Files">
</div>
</div>
<div id="outline-container-Rmail-Output" class="outline-3">
<h3 id="Rmail-Output"><span class="section-number-3">35.7.</span> 将邮件复制到外部文件</h3>
<div class="outline-text-3" id="text-Rmail-Output">
</div>
</div>
<div id="outline-container-Rmail-Labels" class="outline-3">
<h3 id="Rmail-Labels"><span class="section-number-3">35.8.</span> 标签</h3>
<div class="outline-text-3" id="text-Rmail-Labels">
</div>
</div>
<div id="outline-container-Rmail-Attributes" class="outline-3">
<h3 id="Rmail-Attributes"><span class="section-number-3">35.9.</span> Rmail 属性</h3>
<div class="outline-text-3" id="text-Rmail-Attributes">
</div>
</div>
<div id="outline-container-Rmail-Reply" class="outline-3">
<h3 id="Rmail-Reply"><span class="section-number-3">35.10.</span> 发送回复</h3>
<div class="outline-text-3" id="text-Rmail-Reply">
</div>
</div>
<div id="outline-container-Rmail-Summary" class="outline-3">
<h3 id="Rmail-Summary"><span class="section-number-3">35.11.</span> 摘要</h3>
<div class="outline-text-3" id="text-Rmail-Summary">
</div>
<div id="outline-container-Rmail-Make-Summary" class="outline-4">
<h4 id="Rmail-Make-Summary"><span class="section-number-4">35.11.1.</span> 生成摘要</h4>
<div class="outline-text-4" id="text-Rmail-Make-Summary">
</div>
</div>
<div id="outline-container-Rmail-Summary-Edit" class="outline-4">
<h4 id="Rmail-Summary-Edit"><span class="section-number-4">35.11.2.</span> 在摘要中编辑</h4>
<div class="outline-text-4" id="text-Rmail-Summary-Edit">
</div>
</div>
</div>
<div id="outline-container-Rmail-Sorting" class="outline-3">
<h3 id="Rmail-Sorting"><span class="section-number-3">35.12.</span> Rmail 文件排序</h3>
<div class="outline-text-3" id="text-Rmail-Sorting">
</div>
</div>
<div id="outline-container-Rmail-Display" class="outline-3">
<h3 id="Rmail-Display"><span class="section-number-3">35.13.</span> 邮件显示</h3>
<div class="outline-text-3" id="text-Rmail-Display">
</div>
</div>
<div id="outline-container-Rmail-Coding" class="outline-3">
<h3 id="Rmail-Coding"><span class="section-number-3">35.14.</span> Rmail 与编码系统</h3>
<div class="outline-text-3" id="text-Rmail-Coding">
</div>
</div>
<div id="outline-container-Rmail-Editing" class="outline-3">
<h3 id="Rmail-Editing"><span class="section-number-3">35.15.</span> 邮件内编辑</h3>
<div class="outline-text-3" id="text-Rmail-Editing">
</div>
</div>
<div id="outline-container-Rmail-Digest" class="outline-3">
<h3 id="Rmail-Digest"><span class="section-number-3">35.16.</span> 邮件摘要</h3>
<div class="outline-text-3" id="text-Rmail-Digest">
</div>
</div>
<div id="outline-container-Rmail-Rot13" class="outline-3">
<h3 id="Rmail-Rot13"><span class="section-number-3">35.17.</span> 阅读 Rot13 加密邮件</h3>
<div class="outline-text-3" id="text-Rmail-Rot13">
</div>
</div>
<div id="outline-container-Movemail" class="outline-3">
<h3 id="Movemail"><span class="section-number-3">35.18.</span> movemail 程序</h3>
<div class="outline-text-3" id="text-Movemail">
</div>
</div>
<div id="outline-container-Remote-Mailboxes" class="outline-3">
<h3 id="Remote-Mailboxes"><span class="section-number-3">35.19.</span> 从远程邮箱获取邮件</h3>
<div class="outline-text-3" id="text-Remote-Mailboxes">
</div>
</div>
<div id="outline-container-Other-Mailbox-Formats" class="outline-3">
<h3 id="Other-Mailbox-Formats"><span class="section-number-3">35.20.</span> 从多种格式的本地邮箱获取邮件</h3>
<div class="outline-text-3" id="text-Other-Mailbox-Formats">
</div>
</div>
</section>
<section id="outline-container-Gnus" class="outline-2">
<h2 id="Gnus"><span class="section-number-2">36.</span> 使用 Gnus 处理电子邮件与新闻组</h2>
<div class="outline-text-2" id="text-Gnus">
</div>
<div id="outline-container-Buffers-of-Gnus" class="outline-3">
<h3 id="Buffers-of-Gnus"><span class="section-number-3">36.1.</span> Gnus 缓冲区</h3>
<div class="outline-text-3" id="text-Buffers-of-Gnus">
</div>
</div>
<div id="outline-container-Gnus-Startup" class="outline-3">
<h3 id="Gnus-Startup"><span class="section-number-3">36.2.</span> Gnus 启动流程</h3>
<div class="outline-text-3" id="text-Gnus-Startup">
</div>
</div>
<div id="outline-container-Gnus-Group-Buffer" class="outline-3">
<h3 id="Gnus-Group-Buffer"><span class="section-number-3">36.3.</span> 使用 Gnus 组缓冲区</h3>
<div class="outline-text-3" id="text-Gnus-Group-Buffer">
</div>
</div>
<div id="outline-container-Gnus-Summary-Buffer" class="outline-3">
<h3 id="Gnus-Summary-Buffer"><span class="section-number-3">36.4.</span> 使用 Gnus 摘要缓冲区</h3>
<div class="outline-text-3" id="text-Gnus-Summary-Buffer">
</div>
</div>
</section>
<section id="outline-container-Host-Security" class="outline-2">
<h2 id="Host-Security"><span class="section-number-2">37.</span> 主机安全</h2>
<div class="outline-text-2" id="text-Host-Security">
</div>
</section>
<section id="outline-container-Network-Security" class="outline-2">
<h2 id="Network-Security"><span class="section-number-2">38.</span> 网络安全</h2>
<div class="outline-text-2" id="text-Network-Security">
</div>
</section>
<section id="outline-container-Document-View" class="outline-2">
<h2 id="Document-View"><span class="section-number-2">39.</span> 文档查看</h2>
<div class="outline-text-2" id="text-Document-View">
</div>
<div id="outline-container-DocView-Navigation" class="outline-3">
<h3 id="DocView-Navigation"><span class="section-number-3">39.1.</span> 文档查看器导航</h3>
<div class="outline-text-3" id="text-DocView-Navigation">
</div>
</div>
<div id="outline-container-DocView-Searching" class="outline-3">
<h3 id="DocView-Searching"><span class="section-number-3">39.2.</span> 文档查看器搜索</h3>
<div class="outline-text-3" id="text-DocView-Searching">
</div>
</div>
<div id="outline-container-DocView-Slicing" class="outline-3">
<h3 id="DocView-Slicing"><span class="section-number-3">39.3.</span> 文档查看器切片功能</h3>
<div class="outline-text-3" id="text-DocView-Slicing">
</div>
</div>
<div id="outline-container-DocView-Conversion" class="outline-3">
<h3 id="DocView-Conversion"><span class="section-number-3">39.4.</span> 文档查看器格式转换</h3>
<div class="outline-text-3" id="text-DocView-Conversion">
</div>
</div>
</section>
<section id="outline-container-Shell" class="outline-2">
<h2 id="Shell"><span class="section-number-2">40.</span> 从 Emacs 运行 Shell 命令</h2>
<div class="outline-text-2" id="text-Shell">
</div>
<div id="outline-container-Single-Shell" class="outline-3">
<h3 id="Single-Shell"><span class="section-number-3">40.1.</span> 单个 Shell 命令</h3>
<div class="outline-text-3" id="text-Single-Shell">
</div>
</div>
<div id="outline-container-Interactive-Shell" class="outline-3">
<h3 id="Interactive-Shell"><span class="section-number-3">40.2.</span> 交互式子 shell</h3>
<div class="outline-text-3" id="text-Interactive-Shell">
</div>
</div>
<div id="outline-container-Shell-Mode" class="outline-3">
<h3 id="Shell-Mode"><span class="section-number-3">40.3.</span> Shell 模式</h3>
<div class="outline-text-3" id="text-Shell-Mode">
</div>
</div>
<div id="outline-container-Shell-Prompts" class="outline-3">
<h3 id="Shell-Prompts"><span class="section-number-3">40.4.</span> Shell 提示符</h3>
<div class="outline-text-3" id="text-Shell-Prompts">
</div>
</div>
<div id="outline-container-Shell-History" class="outline-3">
<h3 id="Shell-History"><span class="section-number-3">40.5.</span> Shell 命令历史</h3>
<div class="outline-text-3" id="text-Shell-History">
</div>
<div id="outline-container-Shell-Ring" class="outline-4">
<h4 id="Shell-Ring"><span class="section-number-4">40.5.1.</span> Shell 历史环</h4>
<div class="outline-text-4" id="text-Shell-Ring">
</div>
</div>
<div id="outline-container-Shell-History-Copying" class="outline-4">
<h4 id="Shell-History-Copying"><span class="section-number-4">40.5.2.</span> Shell 历史复制</h4>
<div class="outline-text-4" id="text-Shell-History-Copying">
</div>
</div>
<div id="outline-container-History-References" class="outline-4">
<h4 id="History-References"><span class="section-number-4">40.5.3.</span> Shell 历史引用</h4>
<div class="outline-text-4" id="text-History-References">
</div>
</div>
</div>
<div id="outline-container-Directory-Tracking" class="outline-3">
<h3 id="Directory-Tracking"><span class="section-number-3">40.6.</span> 目录跟踪</h3>
<div class="outline-text-3" id="text-Directory-Tracking">
</div>
</div>
<div id="outline-container-Shell-Options" class="outline-3">
<h3 id="Shell-Options"><span class="section-number-3">40.7.</span> Shell 模式选项</h3>
<div class="outline-text-3" id="text-Shell-Options">
</div>
</div>
<div id="outline-container-Terminal-emulator" class="outline-3">
<h3 id="Terminal-emulator"><span class="section-number-3">40.8.</span> Emacs 终端模拟器</h3>
<div class="outline-text-3" id="text-Terminal-emulator">
</div>
</div>
<div id="outline-container-Term-Mode" class="outline-3">
<h3 id="Term-Mode"><span class="section-number-3">40.9.</span> 终端模式</h3>
<div class="outline-text-3" id="text-Term-Mode">
</div>
</div>
<div id="outline-container-Remote-Host" class="outline-3">
<h3 id="Remote-Host"><span class="section-number-3">40.10.</span> 远程主机 Shell</h3>
<div class="outline-text-3" id="text-Remote-Host">
</div>
</div>
<div id="outline-container-Serial-Terminal" class="outline-3">
<h3 id="Serial-Terminal"><span class="section-number-3">40.11.</span> 串行终端</h3>
<div class="outline-text-3" id="text-Serial-Terminal">
</div>
</div>
</section>
<section id="outline-container-Emacs-Server" class="outline-2">
<h2 id="Emacs-Server"><span class="section-number-2">41.</span> 将 Emacs 用作服务器</h2>
<div class="outline-text-2" id="text-Emacs-Server">
</div>
<div id="outline-container-TCP-Emacs-server" class="outline-3">
<h3 id="TCP-Emacs-server"><span class="section-number-3">41.1.</span> TCP Emacs 服务器</h3>
<div class="outline-text-3" id="text-TCP-Emacs-server">
</div>
</div>
<div id="outline-container-Invoking-emacsclient" class="outline-3">
<h3 id="Invoking-emacsclient"><span class="section-number-3">41.2.</span> 调用 emacsclient</h3>
<div class="outline-text-3" id="text-Invoking-emacsclient">
</div>
</div>
<div id="outline-container-emacsclient-Options" class="outline-3">
<h3 id="emacsclient-Options"><span class="section-number-3">41.3.</span> emacsclient 选项</h3>
<div class="outline-text-3" id="text-emacsclient-Options">
</div>
</div>
</section>
<section id="outline-container-Printing" class="outline-2">
<h2 id="Printing"><span class="section-number-2">42.</span> 打印硬拷贝</h2>
<div class="outline-text-2" id="text-Printing">
</div>
<div id="outline-container-PostScript" class="outline-3">
<h3 id="PostScript"><span class="section-number-3">42.1.</span> PostScript 硬拷贝</h3>
<div class="outline-text-3" id="text-PostScript">
</div>
</div>
<div id="outline-container-PostScript-Variables" class="outline-3">
<h3 id="PostScript-Variables"><span class="section-number-3">42.2.</span> PostScript 硬拷贝相关变量</h3>
<div class="outline-text-3" id="text-PostScript-Variables">
</div>
</div>
<div id="outline-container-Printing-Package" class="outline-3">
<h3 id="Printing-Package"><span class="section-number-3">42.3.</span> 打印软件包</h3>
<div class="outline-text-3" id="text-Printing-Package">
</div>
</div>
</section>
<section id="outline-container-Sorting" class="outline-2">
<h2 id="Sorting"><span class="section-number-2">43.</span> 文本排序</h2>
<div class="outline-text-2" id="text-Sorting">
</div>
</section>
<section id="outline-container-Picture-Mode" class="outline-2">
<h2 id="Picture-Mode"><span class="section-number-2">44.</span> 图片编辑</h2>
<div class="outline-text-2" id="text-Picture-Mode">
</div>
<div id="outline-container-Basic-Picture" class="outline-3">
<h3 id="Basic-Picture"><span class="section-number-3">44.1.</span> 图片模式基本编辑</h3>
<div class="outline-text-3" id="text-Basic-Picture">
</div>
</div>
<div id="outline-container-Insert-in-Picture" class="outline-3">
<h3 id="Insert-in-Picture"><span class="section-number-3">44.2.</span> 插入后移动控制</h3>
<div class="outline-text-3" id="text-Insert-in-Picture">
</div>
</div>
<div id="outline-container-Tabs-in-Picture" class="outline-3">
<h3 id="Tabs-in-Picture"><span class="section-number-3">44.3.</span> 图片模式制表符</h3>
<div class="outline-text-3" id="text-Tabs-in-Picture">
</div>
</div>
<div id="outline-container-Rectangles-in-Picture" class="outline-3">
<h3 id="Rectangles-in-Picture"><span class="section-number-3">44.4.</span> 图片模式矩形命令</h3>
<div class="outline-text-3" id="text-Rectangles-in-Picture">
</div>
</div>
</section>
<section id="outline-container-Editing-Binary-Files" class="outline-2">
<h2 id="Editing-Binary-Files"><span class="section-number-2">45.</span> 二进制文件编辑</h2>
<div class="outline-text-2" id="text-Editing-Binary-Files">
</div>
</section>
<section id="outline-container-Saving-Emacs-Sessions" class="outline-2">
<h2 id="Saving-Emacs-Sessions"><span class="section-number-2">46.</span> 保存 Emacs 会话</h2>
<div class="outline-text-2" id="text-Saving-Emacs-Sessions">
</div>
</section>
<section id="outline-container-Recursive-Edit" class="outline-2">
<h2 id="Recursive-Edit"><span class="section-number-2">47.</span> 递归编辑层级</h2>
<div class="outline-text-2" id="text-Recursive-Edit">
</div>
</section>
<section id="outline-container-Hyperlinking" class="outline-2">
<h2 id="Hyperlinking"><span class="section-number-2">48.</span> 超链接与网页导航功能</h2>
<div class="outline-text-2" id="text-Hyperlinking">
</div>
<div id="outline-container-EWW" class="outline-3">
<h3 id="EWW"><span class="section-number-3">48.1.</span> 使用 EWW 网页浏览</h3>
<div class="outline-text-3" id="text-EWW">
</div>
</div>
<div id="outline-container-Embedded-WebKit-Widgets" class="outline-3">
<h3 id="Embedded-WebKit-Widgets"><span class="section-number-3">48.2.</span> 嵌入式 WebKit 组件</h3>
<div class="outline-text-3" id="text-Embedded-WebKit-Widgets">
</div>
</div>
<div id="outline-container-Browse_002dURL" class="outline-3">
<h3 id="Browse_002dURL"><span class="section-number-3">48.3.</span> 跟随 URL 链接</h3>
<div class="outline-text-3" id="text-Browse_002dURL">
</div>
</div>
<div id="outline-container-Goto-Address-mode" class="outline-3">
<h3 id="Goto-Address-mode"><span class="section-number-3">48.4.</span> 激活 URL 链接</h3>
<div class="outline-text-3" id="text-Goto-Address-mode">
</div>
</div>
<div id="outline-container-FFAP" class="outline-3">
<h3 id="FFAP"><span class="section-number-3">48.5.</span> 查找光标位置的文件与 URL</h3>
<div class="outline-text-3" id="text-FFAP">
</div>
</div>
</section>
<section id="outline-container-Amusements" class="outline-2">
<h2 id="Amusements"><span class="section-number-2">49.</span> 游戏与其他娱乐功能</h2>
<div class="outline-text-2" id="text-Amusements">
</div>
</section>
<section id="outline-container-Packages" class="outline-2">
<h2 id="Packages"><span class="section-number-2">50.</span> Emacs Lisp 软件包</h2>
<div class="outline-text-2" id="text-Packages">
</div>
<div id="outline-container-Package-Menu" class="outline-3">
<h3 id="Package-Menu"><span class="section-number-3">50.1.</span> 软件包菜单缓冲区</h3>
<div class="outline-text-3" id="text-Package-Menu">
</div>
</div>
<div id="outline-container-Package-Statuses" class="outline-3">
<h3 id="Package-Statuses"><span class="section-number-3">50.2.</span> 软件包状态</h3>
<div class="outline-text-3" id="text-Package-Statuses">
</div>
</div>
<div id="outline-container-Package-Installation" class="outline-3">
<h3 id="Package-Installation"><span class="section-number-3">50.3.</span> 软件包安装</h3>
<div class="outline-text-3" id="text-Package-Installation">
</div>
</div>
<div id="outline-container-Package-Files" class="outline-3">
<h3 id="Package-Files"><span class="section-number-3">50.4.</span> 软件包文件与目录结构</h3>
<div class="outline-text-3" id="text-Package-Files">
</div>
</div>
<div id="outline-container-Fetching-Package-Sources" class="outline-3">
<h3 id="Fetching-Package-Sources"><span class="section-number-3">50.5.</span> 获取软件包源</h3>
<div class="outline-text-3" id="text-Fetching-Package-Sources">
</div>
<div id="outline-container-Specifying-Package-Sources" class="outline-4">
<h4 id="Specifying-Package-Sources"><span class="section-number-4">50.5.1.</span> 指定软件包源</h4>
<div class="outline-text-4" id="text-Specifying-Package-Sources">
</div>
</div>
</div>
</section>
<section id="outline-container-Customization" class="outline-2">
<h2 id="Customization"><span class="section-number-2">51.</span> 定制</h2>
<div class="outline-text-2" id="text-Customization">
</div>
<div id="outline-container-Easy-Customization" class="outline-3">
<h3 id="Easy-Customization"><span class="section-number-3">51.1.</span> 简易定制界面</h3>
<div class="outline-text-3" id="text-Easy-Customization">
</div>
<div id="outline-container-Customization-Groups" class="outline-4">
<h4 id="Customization-Groups"><span class="section-number-4">51.1.1.</span> 定制组</h4>
<div class="outline-text-4" id="text-Customization-Groups">
</div>
</div>
<div id="outline-container-Browsing-Custom" class="outline-4">
<h4 id="Browsing-Custom"><span class="section-number-4">51.1.2.</span> 浏览与搜索设置</h4>
<div class="outline-text-4" id="text-Browsing-Custom">
</div>
</div>
<div id="outline-container-Changing-a-Variable" class="outline-4">
<h4 id="Changing-a-Variable"><span class="section-number-4">51.1.3.</span> 修改变量</h4>
<div class="outline-text-4" id="text-Changing-a-Variable">
</div>
</div>
<div id="outline-container-Saving-Customizations" class="outline-4">
<h4 id="Saving-Customizations"><span class="section-number-4">51.1.4.</span> 保存定制</h4>
<div class="outline-text-4" id="text-Saving-Customizations">
</div>
</div>
<div id="outline-container-Face-Customization" class="outline-4">
<h4 id="Face-Customization"><span class="section-number-4">51.1.5.</span> 定制外观样式</h4>
<div class="outline-text-4" id="text-Face-Customization">
</div>
</div>
<div id="outline-container-Specific-Customization" class="outline-4">
<h4 id="Specific-Customization"><span class="section-number-4">51.1.6.</span> 定制特定项目</h4>
<div class="outline-text-4" id="text-Specific-Customization">
</div>
</div>
<div id="outline-container-Custom-Themes" class="outline-4">
<h4 id="Custom-Themes"><span class="section-number-4">51.1.7.</span> 定制主题</h4>
<div class="outline-text-4" id="text-Custom-Themes">
</div>
</div>
<div id="outline-container-Creating-Custom-Themes" class="outline-4">
<h4 id="Creating-Custom-Themes"><span class="section-number-4">51.1.8.</span> 创建定制主题</h4>
<div class="outline-text-4" id="text-Creating-Custom-Themes">
</div>
</div>
</div>
<div id="outline-container-Variables" class="outline-3">
<h3 id="Variables"><span class="section-number-3">51.2.</span> 变量</h3>
<div class="outline-text-3" id="text-Variables">
</div>
<div id="outline-container-Examining" class="outline-4">
<h4 id="Examining"><span class="section-number-4">51.2.1.</span> 查看与设置变量</h4>
<div class="outline-text-4" id="text-Examining">
</div>
</div>
<div id="outline-container-Hooks" class="outline-4">
<h4 id="Hooks"><span class="section-number-4">51.2.2.</span> 钩子</h4>
<div class="outline-text-4" id="text-Hooks">
</div>
</div>
<div id="outline-container-Locals" class="outline-4">
<h4 id="Locals"><span class="section-number-4">51.2.3.</span> 局部变量</h4>
<div class="outline-text-4" id="text-Locals">
</div>
</div>
<div id="outline-container-File-Variables" class="outline-4">
<h4 id="File-Variables"><span class="section-number-4">51.2.4.</span> 文件中的局部变量</h4>
<div class="outline-text-4" id="text-File-Variables">
</div>
<div id="outline-container-Specifying-File-Variables" class="outline-5">
<h5 id="Specifying-File-Variables"><span class="section-number-5">51.2.4.1.</span> 指定文件变量</h5>
<div class="outline-text-5" id="text-Specifying-File-Variables">
</div>
</div>
<div id="outline-container-Safe-File-Variables" class="outline-5">
<h5 id="Safe-File-Variables"><span class="section-number-5">51.2.4.2.</span> 文件变量的安全性</h5>
<div class="outline-text-5" id="text-Safe-File-Variables">
</div>
</div>
</div>
<div id="outline-container-Directory-Variables" class="outline-4">
<h4 id="Directory-Variables"><span class="section-number-4">51.2.5.</span> 目录级局部变量</h4>
<div class="outline-text-4" id="text-Directory-Variables">
</div>
<div id="outline-container-EditorConfig-support" class="outline-5">
<h5 id="EditorConfig-support"><span class="section-number-5">51.2.5.1.</span> 通过 EditorConfig 设置目录级变量</h5>
<div class="outline-text-5" id="text-EditorConfig-support">
</div>
</div>
</div>
<div id="outline-container-Connection-Variables" class="outline-4">
<h4 id="Connection-Variables"><span class="section-number-4">51.2.6.</span> 连接级局部变量</h4>
<div class="outline-text-4" id="text-Connection-Variables">
</div>
</div>
</div>
<div id="outline-container-Key-Bindings" class="outline-3">
<h3 id="Key-Bindings"><span class="section-number-3">51.3.</span> 定制键绑定</h3>
<div class="outline-text-3" id="text-Key-Bindings">
</div>
<div id="outline-container-Keymaps" class="outline-4">
<h4 id="Keymaps"><span class="section-number-4">51.3.1.</span> 键映射</h4>
<div class="outline-text-4" id="text-Keymaps">
</div>
</div>
<div id="outline-container-Prefix-Keymaps" class="outline-4">
<h4 id="Prefix-Keymaps"><span class="section-number-4">51.3.2.</span> 前缀键映射</h4>
<div class="outline-text-4" id="text-Prefix-Keymaps">
</div>
</div>
<div id="outline-container-Local-Keymaps" class="outline-4">
<h4 id="Local-Keymaps"><span class="section-number-4">51.3.3.</span> 局部键映射</h4>
<div class="outline-text-4" id="text-Local-Keymaps">
</div>
</div>
<div id="outline-container-Minibuffer-Maps" class="outline-4">
<h4 id="Minibuffer-Maps"><span class="section-number-4">51.3.4.</span> 迷你缓冲区键映射</h4>
<div class="outline-text-4" id="text-Minibuffer-Maps">
</div>
</div>
<div id="outline-container-Rebinding" class="outline-4">
<h4 id="Rebinding"><span class="section-number-4">51.3.5.</span> 交互式修改键绑定</h4>
<div class="outline-text-4" id="text-Rebinding">
</div>
</div>
<div id="outline-container-Init-Rebinding" class="outline-4">
<h4 id="Init-Rebinding"><span class="section-number-4">51.3.6.</span> 在初始化文件中重新绑定键</h4>
<div class="outline-text-4" id="text-Init-Rebinding">
</div>
</div>
<div id="outline-container-Modifier-Keys" class="outline-4">
<h4 id="Modifier-Keys"><span class="section-number-4">51.3.7.</span> 修饰键</h4>
<div class="outline-text-4" id="text-Modifier-Keys">
</div>
</div>
<div id="outline-container-Function-Keys" class="outline-4">
<h4 id="Function-Keys"><span class="section-number-4">51.3.8.</span> 重新绑定功能键</h4>
<div class="outline-text-4" id="text-Function-Keys">
</div>
</div>
<div id="outline-container-Named-ASCII-Chars" class="outline-4">
<h4 id="Named-ASCII-Chars"><span class="section-number-4">51.3.9.</span> 命名 ASCII 控制字符</h4>
<div class="outline-text-4" id="text-Named-ASCII-Chars">
</div>
</div>
<div id="outline-container-Mouse-Buttons" class="outline-4">
<h4 id="Mouse-Buttons"><span class="section-number-4">51.3.10.</span> 重新绑定鼠标按钮</h4>
<div class="outline-text-4" id="text-Mouse-Buttons">
</div>
</div>
<div id="outline-container-Disabling" class="outline-4">
<h4 id="Disabling"><span class="section-number-4">51.3.11.</span> 禁用命令</h4>
<div class="outline-text-4" id="text-Disabling">
</div>
</div>
</div>
<div id="outline-container-Init-File" class="outline-3">
<h3 id="Init-File"><span class="section-number-3">51.4.</span> Emacs 初始化文件</h3>
<div class="outline-text-3" id="text-Init-File">
</div>
<div id="outline-container-Init-Syntax" class="outline-4">
<h4 id="Init-Syntax"><span class="section-number-4">51.4.1.</span> 初始化文件语法</h4>
<div class="outline-text-4" id="text-Init-Syntax">
</div>
</div>
<div id="outline-container-Init-Examples" class="outline-4">
<h4 id="Init-Examples"><span class="section-number-4">51.4.2.</span> 初始化文件示例</h4>
<div class="outline-text-4" id="text-Init-Examples">
</div>
</div>
<div id="outline-container-Terminal-Init" class="outline-4">
<h4 id="Terminal-Init"><span class="section-number-4">51.4.3.</span> 终端专用初始化</h4>
<div class="outline-text-4" id="text-Terminal-Init">
</div>
</div>
<div id="outline-container-Find-Init" class="outline-4">
<h4 id="Find-Init"><span class="section-number-4">51.4.4.</span> Emacs 查找初始化文件的方式</h4>
<div class="outline-text-4" id="text-Find-Init">
</div>
</div>
<div id="outline-container-Init-Non_002dASCII" class="outline-4">
<h4 id="Init-Non_002dASCII"><span class="section-number-4">51.4.5.</span> 初始化文件中的非 ASCII 字符</h4>
<div class="outline-text-4" id="text-Init-Non_002dASCII">
</div>
</div>
<div id="outline-container-Early-Init-File" class="outline-4">
<h4 id="Early-Init-File"><span class="section-number-4">51.4.6.</span> 早期初始化文件</h4>
<div class="outline-text-4" id="text-Early-Init-File">
</div>
</div>
</div>
<div id="outline-container-Authentication" class="outline-3">
<h3 id="Authentication"><span class="section-number-3">51.5.</span> 保存持久化认证信息</h3>
<div class="outline-text-3" id="text-Authentication">
</div>
</div>
</section>
<section id="outline-container-Quitting" class="outline-2">
<h2 id="Quitting"><span class="section-number-2">52.</span> 退出与中止</h2>
<div class="outline-text-2" id="text-Quitting">
</div>
</section>
<section id="outline-container-Lossage" class="outline-2">
<h2 id="Lossage"><span class="section-number-2">53.</span> 处理 Emacs 故障</h2>
<div class="outline-text-2" id="text-Lossage">
</div>
<div id="outline-container-Stuck-Recursive" class="outline-3">
<h3 id="Stuck-Recursive"><span class="section-number-3">53.1.</span> 递归编辑层级</h3>
<div class="outline-text-3" id="text-Stuck-Recursive">
</div>
</div>
<div id="outline-container-Screen-Garbled" class="outline-3">
<h3 id="Screen-Garbled"><span class="section-number-3">53.2.</span> 屏幕乱码</h3>
<div class="outline-text-3" id="text-Screen-Garbled">
</div>
</div>
<div id="outline-container-Text-Garbled" class="outline-3">
<h3 id="Text-Garbled"><span class="section-number-3">53.3.</span> 文本乱码</h3>
<div class="outline-text-3" id="text-Text-Garbled">
</div>
</div>
<div id="outline-container-Memory-Full" class="outline-3">
<h3 id="Memory-Full"><span class="section-number-3">53.4.</span> 内存不足</h3>
<div class="outline-text-3" id="text-Memory-Full">
</div>
</div>
<div id="outline-container-Crashing" class="outline-3">
<h3 id="Crashing"><span class="section-number-3">53.5.</span> Emacs 崩溃时</h3>
<div class="outline-text-3" id="text-Crashing">
</div>
</div>
<div id="outline-container-After-a-Crash" class="outline-3">
<h3 id="After-a-Crash"><span class="section-number-3">53.6.</span> 崩溃后的恢复</h3>
<div class="outline-text-3" id="text-After-a-Crash">
</div>
</div>
<div id="outline-container-Emergency-Escape" class="outline-3">
<h3 id="Emergency-Escape"><span class="section-number-3">53.7.</span> 紧急退出</h3>
<div class="outline-text-3" id="text-Emergency-Escape">
</div>
</div>
<div id="outline-container-DEL-Does-Not-Delete" class="outline-3">
<h3 id="DEL-Does-Not-Delete"><span class="section-number-3">53.8.</span> 退格键无法删除时</h3>
<div class="outline-text-3" id="text-DEL-Does-Not-Delete">
</div>
</div>
</section>
<section id="outline-container-Bugs" class="outline-2">
<h2 id="Bugs"><span class="section-number-2">54.</span> 报告漏洞</h2>
<div class="outline-text-2" id="text-Bugs">
</div>
<div id="outline-container-Known-Problems" class="outline-3">
<h3 id="Known-Problems"><span class="section-number-3">54.1.</span> 查看现有漏洞报告与已知问题</h3>
<div class="outline-text-3" id="text-Known-Problems">
</div>
</div>
<div id="outline-container-Bug-Criteria" class="outline-3">
<h3 id="Bug-Criteria"><span class="section-number-3">54.2.</span> 漏洞的判定标准</h3>
<div class="outline-text-3" id="text-Bug-Criteria">
</div>
</div>
<div id="outline-container-Understanding-Bug-Reporting" class="outline-3">
<h3 id="Understanding-Bug-Reporting"><span class="section-number-3">54.3.</span> 理解漏洞报告</h3>
<div class="outline-text-3" id="text-Understanding-Bug-Reporting">
</div>
</div>
<div id="outline-container-Checklist" class="outline-3">
<h3 id="Checklist"><span class="section-number-3">54.4.</span> 漏洞报告检查清单</h3>
<div class="outline-text-3" id="text-Checklist">
</div>
</div>
<div id="outline-container-Sending-Patches" class="outline-3">
<h3 id="Sending-Patches"><span class="section-number-3">54.5.</span> 提交 GNU Emacs 补丁</h3>
<div class="outline-text-3" id="text-Sending-Patches">
</div>
</div>
</section>
<section id="outline-container-Contributing" class="outline-2">
<h2 id="Contributing"><span class="section-number-2">55.</span> 为 Emacs 开发做贡献</h2>
<div class="outline-text-2" id="text-Contributing">
</div>
<div id="outline-container-Coding-Standards" class="outline-3">
<h3 id="Coding-Standards"><span class="section-number-3">55.1.</span> 编码标准</h3>
<div class="outline-text-3" id="text-Coding-Standards">
</div>
</div>
<div id="outline-container-Copyright-Assignment" class="outline-3">
<h3 id="Copyright-Assignment"><span class="section-number-3">55.2.</span> 版权转让</h3>
<div class="outline-text-3" id="text-Copyright-Assignment">
</div>
</div>
</section>
<section id="outline-container-Service" class="outline-2">
<h2 id="Service"><span class="section-number-2">56.</span> 如何获取 GNU Emacs 相关帮助</h2>
<div class="outline-text-2" id="text-Service">
</div>
</section>
<section id="outline-container-Copying" class="outline-2">
<h2 id="Copying">附录 A GNU 通用公共许可证</h2>
<div class="outline-text-2" id="text-Copying">
</div>
</section>
<section id="outline-container-GNU-Free-Documentation-License" class="outline-2">
<h2 id="GNU-Free-Documentation-License">附录 B GNU 自由文档许可证</h2>
<div class="outline-text-2" id="text-GNU-Free-Documentation-License">
</div>
</section>
<section id="outline-container-Emacs-Invocation" class="outline-2">
<h2 id="Emacs-Invocation">附录 C Emacs 启动命令行参数</h2>
<div class="outline-text-2" id="text-Emacs-Invocation">
</div>
<div id="outline-container-Action-Arguments" class="outline-3">
<h3 id="Action-Arguments">C.1 操作参数</h3>
<div class="outline-text-3" id="text-Action-Arguments">
</div>
</div>
<div id="outline-container-Initial-Options" class="outline-3">
<h3 id="Initial-Options">C.2 初始选项</h3>
<div class="outline-text-3" id="text-Initial-Options">
</div>
</div>
<div id="outline-container-Command-Example" class="outline-3">
<h3 id="Command-Example">C.3 命令参数示例</h3>
<div class="outline-text-3" id="text-Command-Example">
</div>
</div>
<div id="outline-container-Environment" class="outline-3">
<h3 id="Environment">C.4 环境变量</h3>
<div class="outline-text-3" id="text-Environment">
</div>
</div>
<div id="outline-container-General-Variables" class="outline-3">
<h3 id="General-Variables">C.4.1 通用变量</h3>
<div class="outline-text-3" id="text-General-Variables">
</div>
</div>
<div id="outline-container-Misc-Variables" class="outline-3">
<h3 id="Misc-Variables">C.4.2 杂项变量</h3>
<div class="outline-text-3" id="text-Misc-Variables">
</div>
</div>
<div id="outline-container-MS_002dWindows-Registry" class="outline-3">
<h3 id="MS_002dWindows-Registry">C.4.3 MS-Windows 系统注册表</h3>
<div class="outline-text-3" id="text-MS_002dWindows-Registry">
</div>
</div>
<div id="outline-container-Display-X" class="outline-3">
<h3 id="Display-X">C.5 指定显示名称</h3>
<div class="outline-text-3" id="text-Display-X">
</div>
</div>
<div id="outline-container-Font-X" class="outline-3">
<h3 id="Font-X">C.6 字体指定选项</h3>
<div class="outline-text-3" id="text-Font-X">
</div>
</div>
<div id="outline-container-Colors-X" class="outline-3">
<h3 id="Colors-X">C.7 窗口颜色选项</h3>
<div class="outline-text-3" id="text-Colors-X">
</div>
</div>
<div id="outline-container-Window-Size-X" class="outline-3">
<h3 id="Window-Size-X">C.8 窗口大小与位置选项</h3>
<div class="outline-text-3" id="text-Window-Size-X">
</div>
</div>
<div id="outline-container-Borders-X" class="outline-3">
<h3 id="Borders-X">C.9 内部边框与外部边框</h3>
<div class="outline-text-3" id="text-Borders-X">
</div>
</div>
<div id="outline-container-Title-X" class="outline-3">
<h3 id="Title-X">C.10 框架标题</h3>
<div class="outline-text-3" id="text-Title-X">
</div>
</div>
<div id="outline-container-Icons-X" class="outline-3">
<h3 id="Icons-X">C.11 图标</h3>
<div class="outline-text-3" id="text-Icons-X">
</div>
</div>
<div id="outline-container-Misc-X" class="outline-3">
<h3 id="Misc-X">C.12 其他显示选项</h3>
<div class="outline-text-3" id="text-Misc-X">
</div>
</div>
</section>
<section id="outline-container-X-Resources" class="outline-2">
<h2 id="X-Resources">附录 D X 窗口系统选项与资源</h2>
<div class="outline-text-2" id="text-X-Resources">
</div>
<div id="outline-container-Resources" class="outline-3">
<h3 id="Resources">D.1 X 资源</h3>
<div class="outline-text-3" id="text-Resources">
</div>
</div>
<div id="outline-container-Table-of-Resources" class="outline-3">
<h3 id="Table-of-Resources">D.2 Emacs 的 X 资源表</h3>
<div class="outline-text-3" id="text-Table-of-Resources">
</div>
</div>
<div id="outline-container-Lucid-Resources" class="outline-3">
<h3 id="Lucid-Resources">D.3 Lucid 菜单与对话框 X 资源</h3>
<div class="outline-text-3" id="text-Lucid-Resources">
</div>
</div>
<div id="outline-container-Motif-Resources" class="outline-3">
<h3 id="Motif-Resources">D.4 Motif 菜单 X 资源</h3>
<div class="outline-text-3" id="text-Motif-Resources">
</div>
</div>
<div id="outline-container-GTK-resources" class="outline-3">
<h3 id="GTK-resources">D.5 GTK+ 资源</h3>
<div class="outline-text-3" id="text-GTK-resources">
</div>
<div id="outline-container-GTK-Resource-Basics" class="outline-4">
<h4 id="GTK-Resource-Basics">D.5.1 GTK+ 资源基础</h4>
<div class="outline-text-4" id="text-GTK-Resource-Basics">
</div>
</div>
<div id="outline-container-GTK-Widget-Names" class="outline-4">
<h4 id="GTK-Widget-Names">D.5.2 GTK+ 组件名称</h4>
<div class="outline-text-4" id="text-GTK-Widget-Names">
</div>
</div>
<div id="outline-container-GTK-Names-in-Emacs" class="outline-4">
<h4 id="GTK-Names-in-Emacs">D.5.3 Emacs 中的 GTK+ 组件名称</h4>
<div class="outline-text-4" id="text-GTK-Names-in-Emacs">
</div>
</div>
<div id="outline-container-GTK-styles" class="outline-4">
<h4 id="GTK-styles">D.5.4 GTK+ 样式</h4>
<div class="outline-text-4" id="text-GTK-styles">
</div>
</div>
</div>
</section>
<section id="outline-container-Antinews" class="outline-2">
<h2 id="Antinews">附录 E Emacs 29 版本反向更新说明</h2>
<div class="outline-text-2" id="text-Antinews">
</div>
</section>
<section id="outline-container-Mac-OS-_002f-GNUstep" class="outline-2">
<h2 id="Mac-OS-_002f-GNUstep">附录 F Emacs 与 macOS / GNUstep</h2>
<div class="outline-text-2" id="text-Mac-OS-_002f-GNUstep">
</div>
<div id="outline-container-Mac-_002f-GNUstep-Basics" class="outline-3">
<h3 id="Mac-_002f-GNUstep-Basics">F.1 macOS 与 GNUstep 下的 Emacs 基本使用</h3>
<div class="outline-text-3" id="text-Mac-_002f-GNUstep-Basics">
</div>
<div id="outline-container-Grabbing-environment-variables" class="outline-4">
<h4 id="Grabbing-environment-variables">F.1.1 获取环境变量</h4>
<div class="outline-text-4" id="text-Grabbing-environment-variables">
</div>
</div>
</div>
<div id="outline-container-Mac-_002f-GNUstep-Customization" class="outline-3">
<h3 id="Mac-_002f-GNUstep-Customization">F.2 Mac / GNUstep 定制</h3>
<div class="outline-text-3" id="text-Mac-_002f-GNUstep-Customization">
</div>
<div id="outline-container-Modifier-keys" class="outline-4">
<h4 id="Modifier-keys">F.2.1 修饰键</h4>
<div class="outline-text-4" id="text-Modifier-keys">
</div>
</div>
<div id="outline-container-Frame-Variables" class="outline-4">
<h4 id="Frame-Variables">F.2.2 框架变量</h4>
<div class="outline-text-4" id="text-Frame-Variables">
</div>
</div>
<div id="outline-container-macOS-Trackpad_002fMousewheel-Variables" class="outline-4">
<h4 id="macOS-Trackpad_002fMousewheel-Variables">F.2.3 macOS 触控板 / 鼠标滚轮变量</h4>
<div class="outline-text-4" id="text-macOS-Trackpad_002fMousewheel-Variables">
</div>
</div>
</div>
<div id="outline-container-Mac-_002f-GNUstep-Events" class="outline-3">
<h3 id="Mac-_002f-GNUstep-Events">F.3 macOS / GNUstep 下的窗口系统事件</h3>
<div class="outline-text-3" id="text-Mac-_002f-GNUstep-Events">
</div>
</div>
<div id="outline-container-GNUstep-Support" class="outline-3">
<h3 id="GNUstep-Support">F.4 GNUstep 支持</h3>
<div class="outline-text-3" id="text-GNUstep-Support">
</div>
</div>
</section>
<section id="outline-container-Haiku" class="outline-2">
<h2 id="Haiku">附录 G Emacs 与 Haiku 系统</h2>
<div class="outline-text-2" id="text-Haiku">
</div>
<div id="outline-container-Haiku-Basics" class="outline-3">
<h3 id="Haiku-Basics">G.1 Haiku 系统下的安装与启动</h3>
<div class="outline-text-3" id="text-Haiku-Basics">
</div>
</div>
<div id="outline-container-Haiku-Fonts" class="outline-3">
<h3 id="Haiku-Fonts">G.2 Haiku 系统下的字体后端与选择</h3>
<div class="outline-text-3" id="text-Haiku-Fonts">
</div>
</div>
</section>
<section id="outline-container-Android" class="outline-2">
<h2 id="Android">附录 H Emacs 与 Android 系统</h2>
<div class="outline-text-2" id="text-Android">
</div>
<div id="outline-container-What-is-Android_003f" class="outline-3">
<h3 id="What-is-Android_003f">H.1 Android 版本历史</h3>
<div class="outline-text-3" id="text-What-is-Android_003f">
</div>
</div>
<div id="outline-container-Android-Startup" class="outline-3">
<h3 id="Android-Startup">H.2 在 Android 上启动 Emacs</h3>
<div class="outline-text-3" id="text-Android-Startup">
</div>
</div>
<div id="outline-container-Android-File-System" class="outline-3">
<h3 id="Android-File-System">H.3 Emacs 在 Android 上可访问的文件</h3>
<div class="outline-text-3" id="text-Android-File-System">
</div>
</div>
<div id="outline-container-Android-Document-Providers" class="outline-3">
<h3 id="Android-Document-Providers">H.4 在 Android 上从其他程序访问文件</h3>
<div class="outline-text-3" id="text-Android-Document-Providers">
</div>
</div>
<div id="outline-container-Android-Environment" class="outline-3">
<h3 id="Android-Environment">H.5 在 Android 下运行 Emacs</h3>
<div class="outline-text-3" id="text-Android-Environment">
</div>
</div>
<div id="outline-container-Android-Windowing" class="outline-3">
<h3 id="Android-Windowing">H.6 Android 窗口系统</h3>
<div class="outline-text-3" id="text-Android-Windowing">
</div>
</div>
<div id="outline-container-Android-Fonts" class="outline-3">
<h3 id="Android-Fonts">H.7 Android 下的字体后端与选择</h3>
<div class="outline-text-3" id="text-Android-Fonts">
</div>
</div>
<div id="outline-container-Android-Troubleshooting" class="outline-3">
<h3 id="Android-Troubleshooting">H.8 Android 启动问题排查</h3>
<div class="outline-text-3" id="text-Android-Troubleshooting">
</div>
</div>
<div id="outline-container-Android-Software" class="outline-3">
<h3 id="Android-Software">H.9 在 Android 上安装额外软件</h3>
<div class="outline-text-3" id="text-Android-Software">
</div>
</div>
</section>
<section id="outline-container-Microsoft-Windows" class="outline-2">
<h2 id="Microsoft-Windows">附录 I Emacs 与 Microsoft Windows/MS-DOS</h2>
<div class="outline-text-2" id="text-Microsoft-Windows">
</div>
<div id="outline-container-Windows-Startup" class="outline-3">
<h3 id="Windows-Startup">I.1 在 MS-Windows 上启动 Emacs 的方法</h3>
<div class="outline-text-3" id="text-Windows-Startup">
</div>
</div>
<div id="outline-container-Text-and-Binary" class="outline-3">
<h3 id="Text-and-Binary">I.2 文本文件与二进制文件</h3>
<div class="outline-text-3" id="text-Text-and-Binary">
</div>
</div>
<div id="outline-container-Windows-Files" class="outline-3">
<h3 id="Windows-Files">I.3 MS-Windows 上的文件名</h3>
<div class="outline-text-3" id="text-Windows-Files">
</div>
</div>
<div id="outline-container-ls-in-Lisp" class="outline-3">
<h3 id="ls-in-Lisp">I.4 MS-Windows 上的 ls 命令模拟</h3>
<div class="outline-text-3" id="text-ls-in-Lisp">
</div>
</div>
<div id="outline-container-Windows-HOME" class="outline-3">
<h3 id="Windows-HOME">I.5 MS-Windows 上的 HOME 目录与启动目录</h3>
<div class="outline-text-3" id="text-Windows-HOME">
</div>
</div>
<div id="outline-container-Windows-Keyboard" class="outline-3">
<h3 id="Windows-Keyboard">I.6 MS-Windows 上的键盘使用</h3>
<div class="outline-text-3" id="text-Windows-Keyboard">
</div>
</div>
<div id="outline-container-Windows-Mouse" class="outline-3">
<h3 id="Windows-Mouse">I.7 MS-Windows 上的鼠标使用</h3>
<div class="outline-text-3" id="text-Windows-Mouse">
</div>
</div>
<div id="outline-container-Windows-Processes" class="outline-3">
<h3 id="Windows-Processes">I.8 Windows 9X/ME 与 Windows NT/2K/XP/Vista/7/8/10 上的子进程</h3>
<div class="outline-text-3" id="text-Windows-Processes">
</div>
</div>
<div id="outline-container-Windows-Printing" class="outline-3">
<h3 id="Windows-Printing">I.9 MS-Windows 上的打印功能</h3>
<div class="outline-text-3" id="text-Windows-Printing">
</div>
</div>
<div id="outline-container-Windows-Fonts" class="outline-3">
<h3 id="Windows-Fonts">I.10 MS-Windows 上的字体指定</h3>
<div class="outline-text-3" id="text-Windows-Fonts">
</div>
</div>
<div id="outline-container-Windows-Misc" class="outline-3">
<h3 id="Windows-Misc">I.11 其他 Windows 专用功能</h3>
<div class="outline-text-3" id="text-Windows-Misc">
</div>
</div>
<div id="outline-container-MS_002dDOS" class="outline-3">
<h3 id="MS_002dDOS">I.12 Emacs 与 MS-DOS</h3>
<div class="outline-text-3" id="text-MS_002dDOS">
</div>
<div id="outline-container-MS_002dDOS-Keyboard" class="outline-4">
<h4 id="MS_002dDOS-Keyboard">I.12.1 MS-DOS 上的键盘使用</h4>
<div class="outline-text-4" id="text-MS_002dDOS-Keyboard">
</div>
</div>
<div id="outline-container-MS_002dDOS-Mouse" class="outline-4">
<h4 id="MS_002dDOS-Mouse">I.12.2 MS-DOS 上的鼠标使用</h4>
<div class="outline-text-4" id="text-MS_002dDOS-Mouse">
</div>
</div>
<div id="outline-container-MS_002dDOS-Display" class="outline-4">
<h4 id="MS_002dDOS-Display">I.12.3 MS-DOS 上的显示</h4>
<div class="outline-text-4" id="text-MS_002dDOS-Display">
</div>
</div>
<div id="outline-container-MS_002dDOS-File-Names" class="outline-4">
<h4 id="MS_002dDOS-File-Names">I.12.4 MS-DOS 上的文件名</h4>
<div class="outline-text-4" id="text-MS_002dDOS-File-Names">
</div>
</div>
<div id="outline-container-MS_002dDOS-Printing" class="outline-4">
<h4 id="MS_002dDOS-Printing">I.12.5 MS-DOS 上的打印功能</h4>
<div class="outline-text-4" id="text-MS_002dDOS-Printing">
</div>
</div>
<div id="outline-container-MS_002dDOS-and-MULE" class="outline-4">
<h4 id="MS_002dDOS-and-MULE">I.12.6 MS-DOS 上的国际语言支持</h4>
<div class="outline-text-4" id="text-MS_002dDOS-and-MULE">
</div>
</div>
<div id="outline-container-MS_002dDOS-Processes" class="outline-4">
<h4 id="MS_002dDOS-Processes">I.12.7 MS-DOS 上的子进程</h4>
<div class="outline-text-4" id="text-MS_002dDOS-Processes">
</div>
</div>
</div>
</section>
<section id="outline-container-Manifesto" class="outline-2">
<h2 id="Manifesto">GNU 宣言</h2>
<div class="outline-text-2" id="text-Manifesto">
</div>
<div id="outline-container-What_0027s-GNU_003f-Gnu_0027s-Not-Unix_0021" class="outline-3">
<h3 id="What_0027s-GNU_003f-Gnu_0027s-Not-Unix_0021">什么是 GNU？GNU 不是 Unix！</h3>
<div class="outline-text-3" id="text-What_0027s-GNU_003f-Gnu_0027s-Not-Unix_0021">
</div>
</div>
<div id="outline-container-Why-I-Must-Write-GNU" class="outline-3">
<h3 id="Why-I-Must-Write-GNU">我为何必须编写 GNU</h3>
<div class="outline-text-3" id="text-Why-I-Must-Write-GNU">
</div>
</div>
<div id="outline-container-Why-GNU-Will-Be-Compatible-with-Unix" class="outline-3">
<h3 id="Why-GNU-Will-Be-Compatible-with-Unix">为何 GNU 要与 Unix 兼容</h3>
<div class="outline-text-3" id="text-Why-GNU-Will-Be-Compatible-with-Unix">
</div>
</div>
<div id="outline-container-How-GNU-Will-Be-Available" class="outline-3">
<h3 id="How-GNU-Will-Be-Available">GNU 的获取方式</h3>
<div class="outline-text-3" id="text-How-GNU-Will-Be-Available">
</div>
</div>
<div id="outline-container-Why-Many-Other-Programmers-Want-to-Help" class="outline-3">
<h3 id="Why-Many-Other-Programmers-Want-to-Help">为何众多程序员愿意提供帮助</h3>
<div class="outline-text-3" id="text-Why-Many-Other-Programmers-Want-to-Help">
</div>
</div>
<div id="outline-container-How-You-Can-Contribute" class="outline-3">
<h3 id="How-You-Can-Contribute">你如何能做出贡献</h3>
<div class="outline-text-3" id="text-How-You-Can-Contribute">
</div>
</div>
<div id="outline-container-Why-All-Computer-Users-Will-Benefit" class="outline-3">
<h3 id="Why-All-Computer-Users-Will-Benefit">为何所有计算机用户都将受益</h3>
<div class="outline-text-3" id="text-Why-All-Computer-Users-Will-Benefit">
</div>
</div>
<div id="outline-container-Some-Easily-Rebutted-Objections-to-GNU_0027s-Goals" class="outline-3">
<h3 id="Some-Easily-Rebutted-Objections-to-GNU_0027s-Goals">对 GNU 目标的一些易反驳的反对意见</h3>
<div class="outline-text-3" id="text-Some-Easily-Rebutted-Objections-to-GNU_0027s-Goals">
</div>
</div>
</section>
<section id="outline-container-Glossary" class="outline-2">
<h2 id="Glossary">术语表</h2>
<div class="outline-text-2" id="text-Glossary">
</div>
</section>
<section id="outline-container-Acknowledgments" class="outline-2">
<h2 id="Acknowledgments">致谢</h2>
<div class="outline-text-2" id="text-Acknowledgments">
</div>
</section>
<section id="outline-container-Key-Index" class="outline-2">
<h2 id="Key-Index">按键（字符）索引</h2>
<div class="outline-text-2" id="text-Key-Index">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Key-Index.html">Key-Index</a>
</p>
</div>
</section>
<section id="outline-container-Option-Index" class="outline-2">
<h2 id="Option-Index">命令行选项索引</h2>
<div class="outline-text-2" id="text-Option-Index">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Option-Index.html">Option-Index</a>
</p>
</div>
</section>
<section id="outline-container-Command-Index" class="outline-2">
<h2 id="Command-Index">命令与函数索引</h2>
<div class="outline-text-2" id="text-Command-Index">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Command-Index.html">Command-Index</a>
</p>
</div>
</section>
<section id="outline-container-Variable-Index" class="outline-2">
<h2 id="Variable-Index">变量索引</h2>
<div class="outline-text-2" id="text-Variable-Index">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Variable-Index.html">Variable-Index</a>
</p>
</div>
</section>
<section id="outline-container-Concept-Index" class="outline-2">
<h2 id="Concept-Index">概念索引</h2>
<div class="outline-text-2" id="text-Concept-Index">
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Concept-Index.html">Concept-Index</a>
</p>
</div>
</section>
<section id="outline-container-h:A2EBE128-92C2-466C-B35A-D0315988F1F7" class="outline-2">
<h2 id="h:A2EBE128-92C2-466C-B35A-D0315988F1F7">脚注</h2>
<div class="outline-text-2" id="text-h:A2EBE128-92C2-466C-B35A-D0315988F1F7">
</div>
</section>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.发行说明" class="footnum" href="#fnr.发行说明" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
本手册本身受《GNU 自由文档许可证》保护。该许可证的理念与《通用公共许可证》相近，但更适用于文档类作品。参见《GNU 自由文档许可证》章节。
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
“point（光标位置）” 这一术语源于字符 <code>.</code> ，该字符曾是 TECO 语言（初代 Emacs 的开发语言）中用于定位编辑位置的命令。
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
出于历史原因，我们将 Alt 键称为 Meta 键。
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
在 site-start.el 文件中设置 inhibit-startup-screen 是无效的，因为启动界面的初始化流程，早于 site-start.el 文件的读取时间。关于 site-start.el 的更多信息，参见《<a href="#Init-File">Emacs 初始化文件</a>》章节。
</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
ASCII 编码中并无 <code>C-SPC</code> 字符；在文本终端中，按下 <code>C-SPC</code> 通常会输入 <code>C-@</code> 字符。该按键同样绑定了 <code>set-mark-command</code> 命令，因此除非你的文本终端行为特殊，否则可直接将 <code>C-@</code> 视作 <code>C-SPC</code> 使用。
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
    <div class=bar data-astro-cid-p3givckg>
        <div class=list data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:gnuemacs height=1em viewBox="0 0 24 24" width=1em>
                    <title>emacs</title>
                    <symbol id=ai:simple-icons:gnuemacs>
                        <path d="M12 24C5.448 24 .118 18.617.118 12S5.448 0 12 0s11.882 5.383 11.882 12S18.552 24 12 24zM12 .661C5.813.661.779 5.748.779 12S5.813 23.339 12 23.339S23.221 18.253 23.221 12S18.187.661 12 .661zM8.03 20.197s.978.069 2.236-.042c.51-.045 2.444-.235 3.891-.552c0 0 1.764-.377 2.707-.725c.987-.364 1.524-.673 1.766-1.11c-.011-.09.074-.408-.381-.599c-1.164-.488-2.514-.4-5.185-.457c-2.962-.102-3.948-.598-4.472-.997c-.503-.405-.25-1.526 1.907-2.513c1.086-.526 5.345-1.496 5.345-1.496c-1.434-.709-4.109-1.955-4.659-2.224c-.482-.236-1.254-.591-1.421-1.021c-.19-.413.448-.768.804-.87c1.147-.331 2.766-.536 4.24-.56c.741-.012.861-.059.861-.059c1.022-.17 1.695-.869 1.414-1.976c-.252-1.13-1.579-1.795-2.84-1.565c-1.188.217-4.05 1.048-4.05 1.048c3.539-.031 4.131.028 4.395.398c.156.218-.071.518-1.015.672c-1.027.168-3.163.37-3.163.37c-2.049.122-3.492.13-3.925 1.046c-.283.599.302 1.129.558 1.46c1.082 1.204 2.646 1.853 3.652 2.331c.379.18 1.49.52 1.49.52c-3.265-.18-5.619.823-7.001 1.977c-1.562 1.445-.871 3.168 2.33 4.228c1.891.626 2.828.921 5.648.667c1.661-.09 1.923-.036 1.939.1c.023.192-1.845.669-2.355.816c-1.298.374-4.699 1.129-4.716 1.133z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:gnuemacs></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Emacs</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:org height=1em viewBox="0 0 24 24" width=1em>
                    <title>org-mode</title>
                    <symbol id=ai:simple-icons:org>
                        <path d="M17.169 0c-.566.004-2.16 3.312-3.376 5.94a2.19 2.19 0 0 1-.408-1.267c-.03-.582-1.089.237-.936 1.275c-.068-.035-1.26.227-1.26.23c-.23-.93-.802-1.618-1.15-.563c-.701 1.663-.88 2.984.115 4.585c-.908 4.058-6.948 6.053-6.32 9.33c.175.004 1.634 3.48 6.337 2.057c5.557-1.577 8.624 2.116 8.978 2.375c.52.526-1.348-4.573-5.302-6.865c-2.339-1.276-.87-3.474-.703-4.25c0 0 1.874 1.312 3.232-.692c1.227.316 2.05-.224 3.105.158c.64.28 3.336.11 2.334-1.396c-.148.129.07.27-.075.46c-.043.056-.128.232-.408.315c-.314.149-.83.27-1.43-.37c-.434-.32-.748-.04-.992-.063c.152-.098.577-.315 1.264-.315c.388 0 .594.336.854.338c.174 0 .685-.262.787-.365c.63-.41.697-.278 1.012-.905c.17-.759-.215-.92-.332-1.129c-.032-.483-.436-.67-.919-.326c-1.106-.198-2.192-.105-2.728-.15c-1.175-.164-2.153-.786-2.153-.786c.143-.19.075-.6-.842-.628c-.315-.104-.45-.2-.745-.307c.61-1.37.674-2.007 1.418-4.004c.261-1.053 1.039-2.685.643-2.682zm-4.297 8.093c.03-.086.443.138.952.176c.395.03.805.048 1.296-.025c.03-.005.172.095-.15.194c-.02.01-.062-.01-.065.196c0 .022-.01.04-.02.046c-.15.152-.708.223-1.065.1c-.436-.17-.482-.316-.517-.443c-.305-.147-.47-.123-.43-.244zM9.685 10.2C8.86 9 8.929 8.36 8.96 7.256C7.961 8.288 6.855 8.3 5.18 8.58c-1.299.234-3.657 2.447-4.025 4.742c-.043.608-.08 2.183.424 3.498c.492 1.13.828 1.727 1.844 2.335c-.882-3.169 5.296-5.33 6.263-8.955z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:org></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Orgmode</p>
                </div>
            </span>
            <a href=/donations.html class=entry data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=simple-icons:astro height=1em viewBox="0 0 24 24" width=1em>
                    <title>Donations</title>
                    <symbol id=ai:simple-icons:astro>
                        <path d="M8.358 20.162c-1.186-1.07-1.532-3.316-1.038-4.944c.856 1.026 2.043 1.352 3.272 1.535c1.897.283 3.76.177 5.522-.678c.202-.098.388-.229.608-.36c.166.473.209.95.151 1.437c-.14 1.185-.738 2.1-1.688 2.794c-.38.277-.782.525-1.175.787c-1.205.804-1.531 1.747-1.078 3.119l.044.148a3.158 3.158 0 0 1-1.407-1.188a3.31 3.31 0 0 1-.544-1.815c-.004-.32-.004-.642-.048-.958c-.106-.769-.472-1.113-1.161-1.133c-.707-.02-1.267.411-1.415 1.09c-.012.053-.028.104-.045.165h.002zm-5.961-4.445s3.24-1.575 6.49-1.575l2.451-7.565c.092-.366.36-.614.662-.614c.302 0 .57.248.662.614l2.45 7.565c3.85 0 6.491 1.575 6.491 1.575L16.088.727C15.93.285 15.663 0 15.303 0H8.697c-.36 0-.615.285-.784.727l-5.516 14.99z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:simple-icons:astro></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>打赏</p>
                </div>
            </span>
            </a>
            <span class=entry data-astro-cid-p3givckg>
                <svg xmlns="http://www.w3.org/2000/svg" class=heading data-astro-cid-p3givckg data-icon=simple-icons:copyright width="1em" height="1em" viewBox="0 0 24 24">
                    <title>Copyright</title>
                    <path fill="currentColor" d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3zm-5 5h-4a1 1 0 0 0-1 1l.007.117A1 1 0 0 0 10 9h3v5a1 1 0 0 1-1.993.117L11 14a1 1 0 0 0-2 0a3 3 0 0 0 6 0V8a1 1 0 0 0-1-1" />
                    <use xlink:href=#ai:simple-icons:copyright></use>
                </svg>
                <div class="content left" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>© 2025 Jasper Hsu</p>
                </div>
            </span>
        </div>
        <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ class="list license" data-astro-cid-p3givckg>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Creative Commons</title>
                    <symbol id=ai:fa6-brands:creative-commons>
                        <path d="m245.83 214.87l-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93c-22.13 0-33.22 14.61-33.22 43.84c0 23.57 9.21 43.84 33.22 43.84c14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98c-22.6 0-73.96-10.32-73.96-77.05c0-58.69 43-77.06 72.63-77.06c30.72-.01 52.7 11.95 65.99 35.86zm143.05 0l-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93c-22.14 0-33.22 14.61-33.22 43.84c0 23.55 9.23 43.84 33.22 43.84c14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98c-22.69 0-73.96-9.87-73.96-77.05c0-58.67 42.97-77.06 72.63-77.06c30.71-.01 52.58 11.95 65.56 35.86zM247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248c129.93 0 248.44-100.87 248.44-248c0-137.87-106.62-248-248.44-248zm.87 450.81c-112.54 0-203.7-93.04-203.7-202.81c0-105.42 85.43-203.27 203.72-203.27c112.53 0 202.82 89.46 202.82 203.26c-.01 121.69-99.68 202.82-202.84 202.82z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Creative Commons</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-by height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Attribute</title>
                    <symbol id=ai:fa6-brands:creative-commons-by>
                        <path d="M314.9 194.4v101.4h-28.3v120.5h-77.1V295.9h-28.3V194.4c0-4.4 1.6-8.2 4.6-11.3c3.1-3.1 6.9-4.7 11.3-4.7H299c4.1 0 7.8 1.6 11.1 4.7c3.1 3.2 4.8 6.9 4.8 11.3zm-101.5-63.7c0-23.3 11.5-35 34.5-35s34.5 11.7 34.5 35c0 23-11.5 34.5-34.5 34.5s-34.5-11.5-34.5-34.5zM247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-by></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Attribute</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-nc height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Noncommercial</title>
                    <symbol id=ai:fa6-brands:creative-commons-nc>
                        <path d="M247.6 8C387.4 8 496 115.9 496 256c0 147.2-118.5 248-248.4 248C113.1 504 0 393.2 0 256C0 123.1 104.7 8 247.6 8zM55.8 189.1c-7.4 20.4-11.1 42.7-11.1 66.9c0 110.9 92.1 202.4 203.7 202.4c122.4 0 177.2-101.8 178.5-104.1l-93.4-41.6c-7.7 37.1-41.2 53-68.2 55.4v38.1h-28.8V368c-27.5-.3-52.6-10.2-75.3-29.7l34.1-34.5c31.7 29.4 86.4 31.8 86.4-2.2c0-6.2-2.2-11.2-6.6-15.1c-14.2-6-1.8-.1-219.3-97.4zM248.4 52.3c-38.4 0-112.4 8.7-170.5 93l94.8 42.5c10-31.3 40.4-42.9 63.8-44.3v-38.1h28.8v38.1c22.7 1.2 43.4 8.9 62 23L295 199.7c-42.7-29.9-83.5-8-70 11.1c53.4 24.1 43.8 19.8 93 41.6l127.1 56.7c4.1-17.4 6.2-35.1 6.2-53.1c0-57-19.8-105-59.3-143.9c-39.3-39.9-87.2-59.8-143.6-59.8z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-nc></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Noncommercial</p>
                </div>
            </span>
            <span class=entry data-astro-cid-p3givckg>
                <svg class=heading data-astro-cid-p3givckg data-icon=fa6-brands:creative-commons-sa height=1em viewBox="0 0 496 512" width=0.97em>
                    <title>Share Alike</title>
                    <symbol id=ai:fa6-brands:creative-commons-sa>
                        <path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256C0 123.1 104.7 8 247.6 8zm.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8c103.2 0 202.8-81.1 202.8-202.8c.1-113.8-90.2-203.3-202.8-203.3zM137.7 221c13-83.9 80.5-95.7 108.9-95.7c99.8 0 127.5 82.5 127.5 134.2c0 63.6-41 132.9-128.9 132.9c-38.9 0-99.1-20-109.4-97h62.5c1.5 30.1 19.6 45.2 54.5 45.2c23.3 0 58-18.2 58-82.8c0-82.5-49.1-80.6-56.7-80.6c-33.1 0-51.7 14.6-55.8 43.8h18.2l-49.2 49.2l-49-49.2h19.4z" fill=currentColor/>
                    </symbol>
                    <use xlink:href=#ai:fa6-brands:creative-commons-sa></use>
                </svg>
                <div class="content right" data-astro-cid-p3givckg>
                    <p data-astro-cid-p3givckg>Share Alike</p>
                </div>
            </span>
        </a>
    </div>
<!--
<script type="text/javascript" src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script type="text/javascript" src="https://unpkg.com/bootstrap@5.2.1/dist/js/bootstrap.min.js"></script>
<div id="back-to-top" class=""><svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg></div>
-->
</div>
</body>
</html>
